webpackJsonp([0], [, , , , , , , , , , , , , , , , , function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = r(t(6)),
        i = r(t(1)),
        a = r(t(7)),
        s = r(t(8));

    function r(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var o = function(e) {
        function t(e, s) {
            (0, i.default)(this, t);
            var r = (0, a.default)(this, (t.__proto__ || (0, n.default)(t)).call(this, e, s));
            return r.config.methodName = "EduLink", r
        }
        return (0, s.default)(t, e), t
    }(r(t(198)).default);
    exports.default = o
}, , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , function(e, exports) {}, , , , , , , , , , , , , , , , , function(e, exports) {}, , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), exports.allEventSources = exports.calendarEventSourceColorMap = void 0;
    var n, i = s(t(26)),
        a = s(t(192));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = {
            SIMS: "SIMS",
            EDULINK: "EduLink",
            OTHER: "Other"
        },
        o = (n = {}, (0, a.default)(n, r.SIMS, "#DC143C"), (0, a.default)(n, r.EDULINK, "#228B22"), (0, a.default)(n, r.OTHER, "#0000CD"), n),
        l = [];
    (0, i.default)(r).forEach(function(e) {
        l.push(r[e])
    }), exports.calendarEventSourceColorMap = o, exports.allEventSources = l, exports.default = r
}, , , , , , , function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(43)),
        i = s(t(1)),
        a = s(t(2));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = ["EduLink.SchoolDetails", "EduLink.PasswordEmailResetEnabled", "EduLink.PasswordEmailResetRequest", "EduLink.Login", "School.FromCode", "EduLink.LoginFromIDP", "EduLink.PasswordReset", "EduLink.LoginFromMoodle", "EduLink.PasswordResetRequest"],
        o = function() {
            function e(t, n) {
                (0, i.default)(this, e), this._requestFactory = t, this._$q = n, this.config = {
                    jsonrpc: "2.0",
                    id: "1",
                    url: null
                }, this.exception = {
                    name: ""
                }
            }
            return (0, a.default)(e, [{
                key: "getRole",
                value: function(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var i = t[n];
                        if (e[i.condition]) return i.role
                    }
                    return "role"
                }
            }, {
                key: "normalizeUrl",
                value: function(e, t, n) {
                    return -1 !== e.indexOf("role") ? t.username ? e = e.replace("role", t.username.toLowerCase()) : t.employee_id || t.learner_id ? e = e.replace("role", this.getRole(t, n.roles)) : t.role && (e = e.replace("role", t.role)) : -1 !== e.indexOf("gender") ? t.currentGender && (e = e.replace("gender", t.currentGender.toLowerCase())) : -1 !== e.indexOf("sendingType") ? e = e.replace("sendingType", t.sendingType) : t.userType ? e = e.replace("userType", t.userType) : -1 !== e.indexOf("homeworkOverviewState") && (e = t.year_id ? t.teaching_group_id ? e.replace("homeworkOverviewState", "third-state") : e.replace("homeworkOverviewState", "second-state") : e.replace("homeworkOverviewState", "first-state")), -1 !== e.indexOf("type") && t.currentType && (e = e.replace("type", t.currentType.toLowerCase())), e
                }
            }, {
                key: "generateErrorResponse",
                value: function(e) {
                    return new this._$q(function(t, n) {
                        n(e)
                    })
                }
            }, {
                key: "newGenerateErrorResponse",
                value: function(e, t) {
                    return new this._$q(function(n, i) {
                        i({
                            code: e,
                            message: t
                        })
                    })
                }
            }, {
                key: "normalizeCommentBankUrl",
                value: function(e, t) {
                    return t.learner_id ? e.replace("type", "learner") : t.area_id ? e.replace("type", "area") : t.subject_id ? e.replace("type", "subject") : t.year_id ? e.replace("type", "year") : e.replace("type", "default")
                }
            }, {
                key: "getData",
                value: function(e, t, i) {
                    var a, s = this.data && this.data[e],
                        o = this.data && this.data.local,
                        l = null,
                        c = {},
                        d = "post" === s.method,
                        u = [],
                        _ = {};
                    if (!s) return this.generateErrorResponse(this.exception.name + ":" + e + ": don't have a request method");
                    if (i) {
                        var f = s.url;
                        return "marksheet_comment_bank" === e ? f && (f = this.normalizeCommentBankUrl(f, t)) : f && (f = this.normalizeUrl(f, t, s.demo)), l = "get", this._requestFactory[l](f, c)
                    }
                    if (c = {
                            jsonrpc: this.config.jsonrpc,
                            method: this.config.methodName + "." + s.methodName,
                            params: t,
                            uuid: uuid(),
                            id: this.config.id
                        }, l = s.method.toLowerCase() || "get", !c.params.hasOwnProperty("authtoken") && !r.includes(c.method)) return this.newGenerateErrorResponse(401, "You are not logged in");
                    var v = d && !o ? this.config.url + "?method=" + c.method : this.config.url;
                    return !d || o || this.config.url.includes("provisioning.edulinkone.com") || (_.headers = {
                        "X-API-Method": c.method
                    }, c.params.hasOwnProperty("authtoken") && (_.headers.Authorization = "Bearer " + c.params.authtoken, (0, n.default)(c.params, "authtoken"))), s && s.timeout ? _.timeout = s.timeout : _.timeout = 6e4, u.push(v, c), "post" === l && u.push(_), (a = this._requestFactory)[l].apply(a, u)
                }
            }, {
                key: "url",
                set: function(e) {
                    this.config.url = e
                }
            }]), e
        }();
    exports.default = o
}, , , , , , , function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(206)),
        i = a(t(207));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(133);
    var s = {
        template: n.default,
        restrict: "E",
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '\x3c!-- Place all UI elements intended to be present across all routes in this file --\x3e\n<div class="app">\n  <noindex-svg></noindex-svg>\n  <s-header\n    binded-children="$ctrl.children"\n    binded-teacher="$ctrl.teacher"\n    binded-user="$ctrl.user"\n    binded-active-child-index="$ctrl.activeChildIndex"\n    binded-student="$ctrl.currentStudent"\n  >\n  </s-header>\n  <modal-default class="noSwipe"></modal-default>\n  <m-site ng-if="$ctrl.currentMenu && $ctrl._windowWidthService.windowWidth > $ctrl._deviceMarginConstants.MOBILE_MARGIN"\n    binded-menu="$ctrl.currentMenu"\n    binded-menu-logo="$ctrl.menuLogo"\n    binded-events="$ctrl.menuEvents"\n    binded-children="$ctrl.children"\n  ></m-site>\n  <ui-view scroll-top ng-click="$ctrl.bounceMenu($event)"></ui-view>\n  <s-footer></s-footer>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r, o, l, c, d, u, _, f, v, m, h, p, g, b, S, y) {
            "ngInject";
            var k = this;
            (0, n.default)(this, e), this._$scope = t, this._$timeout = i, this._communicatorDataService = a, this._authService = s, this._DOMElementsService = c, this._windowWidthService = f, this._$rootScope = _, this._$state = u, this._menuService = o, this._$window = l, this._studentsService = r, this._deviceMarginConstants = h, this._$log = v, this._logoutService = m, this._userService = p, this._modalDefaultService = g, this._teachersService = S, this._fastClickService = y, this.bindEvents();
            var M = d.onSuccess({}, function() {
                l.innerWidth <= k._deviceMarginConstants.MOBILE_MARGIN && k.redirectToHome(), M()
            });
            this.addLogoutListeners()
        }
        return e.$inject = ["$scope", "$timeout", "communicatorDataService", "authService", "studentsService", "menuService", "$window", "DOMElementsService", "$transitions", "$state", "$rootScope", "windowWidthService", "$log", "logoutService", "deviceMarginConstants", "userService", "modalDefaultService", "$fcmService", "teachersService", "fastClickService"], (0, i.default)(e, [{
            key: "addLogoutListeners",
            value: function() {
                var e = this,
                    t = angular.element(document);
                this._$window.cordova && "ios" === this._$window.cordova.platformId ? t.on("resign.logout", function() {
                    e._authService.isAuthorized && e.logoutOnPause && e._logoutService.logout()
                }) : this._$window.cordova && t.on("pause.logout", function() {
                    e._authService.isAuthorized && e.logoutOnPause && e._logoutService.logout()
                })
            }
        }, {
            key: "bindEvents",
            value: function() {
                var e = this;
                this._$rootScope.$on("resize.getWindowSize", function(t, n) {
                    n && n.innerWidth && n.innerWidth <= e._deviceMarginConstants.MOBILE_MARGIN && e.redirectToHome()
                }), this._$scope.$on("$locationChangeStart", function(t, n) {
                    e._$timeout(function() {
                        return e.handleFastClick()
                    })
                })
            }
        }, {
            key: "handleFastClick",
            value: function() {
                this._$state.current.data && this._$state.current.data.destroyFastClick && this._fastClickService.hasFastClick(document.body) ? this._fastClickService.removeFastClick(document.body) : this._$state.current.data && this._$state.current.data.destroyFastClick || this._fastClickService.hasFastClick(document.body) || this._fastClickService.addFastClick(document.body)
            }
        }, {
            key: "redirectToHome",
            value: function() {
                switch (this._$state.current.name.split(".")[0]) {
                    case "profiles":
                        this._$window.location = "/"
                }
                switch (this._$state.current.name.split(".").slice(0, -1).join(".")) {
                    case "student.assessment":
                        this._$window.location = "/"
                }
            }
        }, {
            key: "bounceMenu",
            value: function(e) {
                angular.element(e.target).hasClass("container") && this._menuService.setEvents([this._menuService.eventsName.BOUNCE_ACTIVE_ITEM])
            }
        }, {
            key: "logoutOnPause",
            get: function() {
                return this._userService && this._userService.user.miscellaneous.app && this._userService.user.miscellaneous.app.logout_on_pause
            }
        }, {
            key: "currentMenu",
            get: function() {
                return this._menuService.menu
            }
        }, {
            key: "menuLogo",
            get: function() {
                return this._menuService.logo
            }
        }, {
            key: "children",
            get: function() {
                return this._userService.user && this._userService.user.children || null
            }
        }, {
            key: "teacher",
            get: function() {
                return this._teachersService.data.selectedTeacher || this._userService.user && this._userService.user.data
            }
        }, {
            key: "user",
            get: function() {
                return this._communicatorDataService.selectedUser
            }
        }, {
            key: "activeChildIndex",
            get: function() {
                return this._userService.user && this._userService.user.activeChildIndex
            }
        }, {
            key: "currentStudent",
            get: function() {
                return this._userService.user && this._userService.user.activeStudent
            }
        }, {
            key: "menuEvents",
            get: function() {
                return this._menuService.events
            }
        }, {
            key: "openModals",
            get: function() {
                return this._modalDefaultService.openModals
            }
        }]), e
    }();
    exports.default = s
}, , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t) {
            (0, n.default)(this, e), this.initValues(t)
        }
        return (0, i.default)(e, [{
            key: "initValues",
            value: function(e) {
                this.data = {
                    establishmentId: e.user.establishment_id,
                    communityGroups: e.establishment.community_groups,
                    formGroups: e.establishment.form_groups,
                    miscellaneous: e.miscellaneous,
                    capabilities: e.capabilities,
                    id: e.user.id,
                    title: e.user.title,
                    forename: e.user.forename,
                    surname: e.user.surname,
                    types: e.user.types,
                    gender: e.user.gender,
                    username: e.user.username,
                    schoolServerUrl: e.user.schoolServerUrl,
                    applicantAdmissionGroups: e.establishment.applicant_admission_groups,
                    analyticsEnabled: e.analytics_enabled,
                    applicantIntakeGroups: e.establishment.applicant_intake_groups,
                    photo: e.user.avatar && e.user.avatar.photo ? "data:image/gif;base64," + e.user.avatar.photo : null,
                    logo: null,
                    mainMenuName: null,
                    idFromLastAction: e.id,
                    roleFromLastAction: "",
                    notice: e.notice,
                    canCreateMessages: e.can_create_messages,
                    adminLogin: e.admin_login || !1
                }, this._local = e
            }
        }, {
            key: "updateIdFromLastAction",
            value: function(e) {
                this.data.idFromLastAction = e ? e.id : this.data.id
            }
        }, {
            key: "updateRoleFromLastAction",
            value: function(e) {
                this.data.roleFromLastAction = e
            }
        }, {
            key: "notice",
            get: function() {
                return this.data.notice
            }
        }, {
            key: "canCreateMessages",
            get: function() {
                return this.data.canCreateMessages
            }
        }, {
            key: "adminLogin",
            get: function() {
                return this.data.adminLogin
            }
        }, {
            key: "miscellaneous",
            get: function() {
                return this.data.miscellaneous
            }
        }, {
            key: "username",
            get: function() {
                return this.data.username
            }
        }, {
            key: "communityGroups",
            get: function() {
                return this.data.communityGroups
            }
        }, {
            key: "formGroups",
            get: function() {
                return this.data.formGroups
            }
        }, {
            key: "schoolServerUrl",
            get: function() {
                return this.data.schoolServerUrl
            }
        }, {
            key: "id",
            get: function() {
                return this.data.id
            }
        }, {
            key: "establishmentId",
            get: function() {
                return this.data.establishmentId
            }
        }, {
            key: "capabilities",
            get: function() {
                return this.data.capabilities
            }
        }, {
            key: "applicantAdmissionGroups",
            get: function() {
                return this.data.applicantAdmissionGroups
            }
        }, {
            key: "applicantIntakeGroups",
            get: function() {
                return this.data.applicantIntakeGroups
            }
        }, {
            key: "title",
            get: function() {
                return this.data.title
            }
        }, {
            key: "forename",
            get: function() {
                return this.data.forename
            }
        }, {
            key: "surname",
            get: function() {
                return this.data.surname
            }
        }, {
            key: "mainMenuName",
            get: function() {
                return this.data.mainMenuName
            }
        }, {
            key: "gender",
            get: function() {
                return this.data.gender
            }
        }, {
            key: "logo",
            get: function() {
                return this.data.logo
            },
            set: function(e) {
                this.data.logo = e
            }
        }, {
            key: "photo",
            get: function() {
                return this.data.photo
            },
            set: function(e) {
                this.data.photo = e
            }
        }, {
            key: "idFromLastAction",
            get: function() {
                return this.data.idFromLastAction
            }
        }, {
            key: "roleFromLastAction",
            get: function() {
                return this.data.roleFromLastAction
            }
        }, {
            key: "establishment",
            get: function() {
                return this._local.establishment
            }
        }, {
            key: "analyticsEnabled",
            get: function() {
                return this.data.analyticsEnabled
            }
        }, {
            key: "loginMethod",
            get: function() {
                return this._local.login_method
            }
        }, {
            key: "loginMethodChangePassword",
            get: function() {
                return this._local.login_method_change_password
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = o(t(11)),
        i = o(t(1)),
        a = o(t(2)),
        s = o(t(3604)),
        r = o(t(3606));

    function o(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var l = function() {
        function e(t, n, a) {
            (0, i.default)(this, e), this._requestService = t, this._$q = a, this._imagesConstants = n, this.initValues()
        }
        return (0, a.default)(e, [{
            key: "initValues",
            value: function(e) {
                this.data && !e || (this.data = {
                    cleaningBlocked: !1,
                    selectedStudents: [],
                    students: new s.default(new r.default(this._requestService, this._imagesConstants, this._$q), this._$q),
                    filter: {
                        years: [],
                        groups: [],
                        teaching: [],
                        userGroups: [],
                        intakeGroup: [],
                        admissionGroup: [],
                        gender: [{
                            title: "Select All",
                            id: null
                        }, {
                            title: "Male",
                            id: 1
                        }, {
                            title: "Female",
                            id: 2
                        }]
                    }
                })
            }
        }, {
            key: "clearLearners",
            value: function() {
                this.data.cleaningBlocked ? this.data.cleaningBlocked = !1 : (this.data.filteredStudents = [], this.clearStudents())
            }
        }, {
            key: "clearStudents",
            value: function() {
                this.data.students = new s.default(new r.default(this._requestService, this._imagesConstants, this._$q), this._$q)
            }
        }, {
            key: "setFilterData",
            value: function(e) {
                var t = {
                    name: "Select All",
                    id: null
                };
                this.years = [t].concat((0, n.default)(e.year_groups)), this.groups = [t].concat((0, n.default)(e.form_groups)), this.teaching = [t].concat((0, n.default)(this.teaching)), this.intakeGroup = [t].concat((0, n.default)(e.applicant_intake_groups ? e.applicant_intake_groups : [])), this.admissionGroup = [t].concat((0, n.default)(e.applicant_admission_groups ? e.applicant_admission_groups : []))
            }
        }, {
            key: "getNameById",
            value: function(e, t) {
                var n = t.find(function(t) {
                    return t.id === e
                });
                return n ? n.name : "-"
            }
        }, {
            key: "getStudents",
            value: function(e, t, n) {
                return this.data.students.getStudents(e, t, n)
            }
        }, {
            key: "clearSelectedStudents",
            value: function() {
                this.data.selectedStudents = []
            }
        }, {
            key: "getDefaultPhoto",
            value: function(e) {
                return this.getDefaultPhotoUsingGender(e.gender)
            }
        }, {
            key: "getDefaultPhotoUsingGender",
            value: function(e) {
                return e ? "male" === e.toLowerCase() ? this._imagesConstants.MALE_LEARNER_DEFAULT_IMAGE : "female" === e.toLowerCase() ? this._imagesConstants.FEMALE_LEARNER_DEFAULT_IMAGE : this._imagesConstants.DEFAULT_IMAGE : null
            }
        }, {
            key: "getUserDefinedGroups",
            value: function() {
                return this._requestService.getData("other", "user_defined_groups")
            }
        }, {
            key: "filteredStudents",
            get: function() {
                return this.students.filteredStudents
            },
            set: function(e) {
                this.students.filteredStudents = e
            }
        }, {
            key: "years",
            get: function() {
                return this.data.filter.years
            },
            set: function(e) {
                this.data.filter.years = e
            }
        }, {
            key: "admissionGroup",
            get: function() {
                return this.data.filter.admissionGroup
            },
            set: function(e) {
                this.data.filter.admissionGroup = e
            }
        }, {
            key: "intakeGroup",
            get: function() {
                return this.data.filter.intakeGroup
            },
            set: function(e) {
                this.data.filter.intakeGroup = e
            }
        }, {
            key: "userDefinedGroups",
            get: function() {
                return this.data.filter.userGroups
            },
            set: function(e) {
                this.data.filter.userGroups = [{
                    description: "Select All",
                    id: null
                }].concat((0, n.default)(e))
            }
        }, {
            key: "gender",
            get: function() {
                return this.data.filter.gender
            }
        }, {
            key: "groups",
            get: function() {
                return this.data.filter.groups
            },
            set: function(e) {
                this.data.filter.groups = e
            }
        }, {
            key: "cleaningBlocked",
            get: function() {
                return this.data.cleaningBlocked
            },
            set: function(e) {
                this.data.cleaningBlocked = e
            }
        }, {
            key: "teaching",
            set: function(e) {
                this.data.filter.teaching = e
            },
            get: function() {
                return this.data.filter.teaching
            }
        }, {
            key: "students",
            set: function(e) {
                this.data.students.addStudents(e)
            },
            get: function() {
                return this.data.students
            }
        }, {
            key: "selectedStudents",
            get: function() {
                return this.data.selectedStudents
            },
            set: function(e) {
                this.data.selectedStudents = e || []
            }
        }]), e
    }();
    exports.default = l
}, , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    exports.default = {
        ABSENCES: "absence-management.absences",
        REGISTERS: "absence-management.registers"
    }
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    exports.default = {
        states: {
            NOTICEBOARD: "noticeboard.list",
            MANAGE_SNIPPETS: "noticeboard.manage-snippets",
            DOCUMENTS: "noticeboard.documents"
        }
    }
}, , , , , function(e, exports) {
    e.exports = '<t-clubs clubs="vm._clubsService.clubs"></t-clubs>\n'
}, function(e, exports) {}, function(e, exports) {}, , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = r(t(6)),
        i = r(t(1)),
        a = r(t(7)),
        s = r(t(8));

    function r(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var o = function(e) {
        function t(e, s) {
            (0, i.default)(this, t);
            var r = (0, a.default)(this, (t.__proto__ || (0, n.default)(t)).call(this, e, s));
            return r.config.methodName = "Communicator", r
        }
        return (0, s.default)(t, e), t
    }(r(t(198)).default);
    exports.default = o
}, , , , function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = d(t(6)),
        i = d(t(1)),
        a = d(t(2)),
        s = d(t(7)),
        r = d(t(91)),
        o = d(t(8)),
        l = d(t(294)),
        c = d(t(3580));

    function d(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var u = function(e) {
        function t(e) {
            return (0, i.default)(this, t), (0, s.default)(this, (t.__proto__ || (0, n.default)(t)).call(this, e))
        }
        return (0, o.default)(t, e), (0, a.default)(t, [{
            key: "initValues",
            value: function(e) {
                (0, r.default)(t.prototype.__proto__ || (0, n.default)(t.prototype), "initValues", this).call(this, e), this.data.children = new c.default(e.children), this.activeChild = this.children[0], (0, r.default)(t.prototype.__proto__ || (0, n.default)(t.prototype), "updateIdFromLastAction", this).call(this, this.children[0]), this.data.mainMenuName = "learner_menu", this.data.logo = null
            }
        }, {
            key: "children",
            get: function() {
                return this.data.children.all
            }
        }, {
            key: "activeChildIndex",
            get: function() {
                return this.data.children.activeChildIndex
            }
        }, {
            key: "activeChild",
            get: function() {
                return this.data.children.activeChild
            },
            set: function(e) {
                e && localStorage.setItem("child_id", parseInt(e.id, 10)), this.lastActiveProfile = e, (0, r.default)(t.prototype.__proto__ || (0, n.default)(t.prototype), "updateIdFromLastAction", this).call(this, e), (0, r.default)(t.prototype.__proto__ || (0, n.default)(t.prototype), "updateRoleFromLastAction", this).call(this, "learner"), this.data.children.activeChild = e
            }
        }]), t
    }(l.default);
    exports.default = u
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e() {
            (0, n.default)(this, e), this.initValues()
        }
        return (0, i.default)(e, [{
            key: "initValues",
            value: function(e) {
                this.data && !e || (this.data = {
                    items: [],
                    activeItem: null
                })
            }
        }, {
            key: "setActiveItemFromField",
            value: function(e, t) {
                var n = this.getItemFromField(e, t);
                return null !== n && (this.activeItem = n, !0)
            }
        }, {
            key: "getItemFromField",
            value: function(e, t) {
                for (var n = this.items, i = 0; i < n.length; i++) {
                    var a = n[i];
                    if (a[e] === t) return a
                }
                return null
            }
        }, {
            key: "removeItemFromField",
            value: function(e, t) {
                var n = this.getItemFromField(e, t);
                return !!n && this.removeItem(n)
            }
        }, {
            key: "getNextItem",
            value: function(e) {
                var t = this.items.length;
                if (0 === t) return null;
                var n = this.items.indexOf(e);
                return n = (n + 1) % t, this.items[n]
            }
        }, {
            key: "getPrevItem",
            value: function(e) {
                var t = this.items.length;
                if (0 === t) return null;
                var n = this.items.indexOf(e);
                return n = 0 === n ? t - 1 : n - 1, this.items[n]
            }
        }, {
            key: "addItem",
            value: function(e) {
                this.items.push(e)
            }
        }, {
            key: "removeItem",
            value: function(e) {
                var t = this.items.indexOf(e);
                return t > 0 && (this.items.splice(t, 1), !0)
            }
        }, {
            key: "removeItemFromId",
            value: function(e) {
                var t = this.getItemFromId(e);
                return !!t && this.removeItem(t)
            }
        }, {
            key: "getItemFromId",
            value: function(e) {
                for (var t = 0; t < this.items.length; t++) {
                    var n = this.items[t];
                    if (n.id === e) return n
                }
                return null
            }
        }, {
            key: "items",
            get: function() {
                return this.data.items
            },
            set: function(e) {
                this.data.items = e || []
            }
        }, {
            key: "activeItem",
            set: function(e) {
                this.data.activeItem = e
            },
            get: function() {
                return this.data.activeItem
            }
        }, {
            key: "currentIndex",
            get: function() {
                return this.items.indexOf(this.activeItem)
            }
        }, {
            key: "nextItemFromActiveItem",
            get: function() {
                return this.getNextItem(this.activeItem)
            }
        }, {
            key: "prevItemFromActiveItem",
            get: function() {
                return this.getPrevItem(this.activeItem)
            }
        }]), e
    }();
    exports.default = s
}, , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , function(e, exports, t) {
    t(684), e.exports = t(886)
}, , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , function(e, exports, t) {
    "use strict";
    var n = w(t(0)),
        i = w(t(9)),
        a = w(t(913)),
        s = w(t(915)),
        r = (w(t(917)), w(t(918))),
        o = w(t(919)),
        l = w(t(936)),
        c = w(t(937)),
        d = w(t(939)),
        u = w(t(955)),
        _ = w(t(1277)),
        f = w(t(3441)),
        v = w(t(3444)),
        m = w(t(3457)),
        h = w(t(3571)),
        p = w(t(3583)),
        g = w(t(3598)),
        b = w(t(3602)),
        S = w(t(3611)),
        y = w(t(3622)),
        k = w(t(3699)),
        M = w(t(205));

    function w(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    window.devicejs = o.default, t(3700), t(3701), t(3702), window.humanizeDuration = t(3703), window.moment = t(3704), t(3705), t(3708), t(3709), t(3753), t(3754), t(3755), t(296), t(3756), t(3757), t(3758), t(3767), t(3768), t(3769), t(3770), window.FastClick = t(3771), window.uuid = t(3772), window.WebFont = t(3860), window.htmlToImage = t(3861);
    var D = t(3868);
    t(3873), window.html2canvas = t(3874), t(3875), n.default.module("app", [t(3876), l.default, i.default, d.default, y.default, f.default, v.default, "ngFileUpload", m.default, h.default, p.default, g.default, b.default, S.default, u.default, _.default, "angularjs-dropdown-multiselect", "chart.js", a.default, s.default, "moment-picker", "slickCarousel", "summernote", "ngAnimate", "ngStorage", t(3878), c.default, "mwl.calendar", "ngclipboard", "ui.bootstrap.datetimepicker", r.default, "timer"]).config(["$locationProvider", function(e) {
        "ngInject"
    }]).config(["$sessionStorageProvider", "$localStorageProvider", function(e, t) {
        "ngInject";
        var i = function(e, t) {
            try {
                return n.default.fromJson(t)
            } catch (n) {
                console.warn("Unable to parse a " + e + " value: the value is not a JSON string >>", t)
            }
            return t
        };

        function a(e) {
            return i.bind(null, e)
        }
        e.setDeserializer(a("sessionStorage")), t.setDeserializer(a("localStorage"))
    }]).config(["momentPickerProvider", function(e) {
        "ngInject";
        e.options({
            minutesFormat: "HH:mm"
        })
    }]).config(["toastrConfig", function(e) {
        "ngInject";
        n.default.extend(e, {
            closeButton: !0,
            timeOut: 5e3,
            extendedTimeOut: 2500,
            preventOpenDuplicates: !0
        })
    }]).config(["$localStorageProvider", function(e) {
        "ngInject";
        e.setSerializer(function(e) {
            try {
                return n.default.toJson(e)
            } catch (e) {}
        }), e.setDeserializer(function(e) {
            try {
                return n.default.fromJson(e)
            } catch (e) {}
        }), e.setKeyPrefix("")
    }]).config(["$sessionStorageProvider", function(e) {
        "ngInject";
        e.setKeyPrefix("")
    }]).config(["calendarConfig", function(e) {
        "ngInject";
        e.templates.calendar = "calendar.tmpl.html", e.templates.calendarMonthView = "calendar-month.tmpl.html"
    }]).config(["$fcmProvider", function(e) {
        "ngInject";
        e.setFirebase(D), e.setConfig({
            apiKey: "AIzaSyCnsXBRvnSLhoxLcVbJAGykg9QiBuW3ssM",
            authDomain: "edulink-one.firebaseapp.com",
            databaseURL: "https://edulink-one.firebaseio.com",
            projectId: "edulink-one",
            storageBucket: "edulink-one.appspot.com",
            messagingSenderId: "902589675516"
        })
    }]).config(["$sanitizeProvider", function(e) {
        "ngInject";
        e.addValidAttrs(["style"])
    }]).run(k.default).component("app", M.default), n.default.module("infinite-scroll").value("THROTTLE_MILLISECONDS", 500)
}, , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(144),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    var s = window.device,
        r = {},
        o = [],
        l = window.document.documentElement,
        c = window.navigator.userAgent.toLowerCase(),
        d = ["googletv", "viera", "smarttv", "internet.tv", "netcast", "nettv", "appletv", "boxee", "kylo", "roku", "dlnadoc", "roku", "pov_tv", "hbbtv", "ce-html"];
    r.macos = function() {
        return _("mac")
    }, r.ios = function() {
        return r.iphone() || r.ipod() || r.ipad()
    }, r.iphone = function() {
        return !r.windows() && _("iphone")
    }, r.ipod = function() {
        return _("ipod")
    }, r.ipad = function() {
        return _("ipad")
    }, r.android = function() {
        return !r.windows() && _("android")
    }, r.androidPhone = function() {
        return r.android() && _("mobile")
    }, r.androidTablet = function() {
        return r.android() && !_("mobile")
    }, r.blackberry = function() {
        return _("blackberry") || _("bb10") || _("rim")
    }, r.blackberryPhone = function() {
        return r.blackberry() && !_("tablet")
    }, r.blackberryTablet = function() {
        return r.blackberry() && _("tablet")
    }, r.windows = function() {
        return _("windows")
    }, r.windowsPhone = function() {
        return r.windows() && _("phone")
    }, r.windowsTablet = function() {
        return r.windows() && _("touch") && !r.windowsPhone()
    }, r.fxos = function() {
        return (_("(mobile") || _("(tablet")) && _(" rv:")
    }, r.fxosPhone = function() {
        return r.fxos() && _("mobile")
    }, r.fxosTablet = function() {
        return r.fxos() && _("tablet")
    }, r.meego = function() {
        return _("meego")
    }, r.cordova = function() {
        return window.cordova && "file:" === location.protocol
    }, r.nodeWebkit = function() {
        return "object" === (0, a.default)(window.process)
    }, r.mobile = function() {
        return r.androidPhone() || r.iphone() || r.ipod() || r.windowsPhone() || r.blackberryPhone() || r.fxosPhone() || r.meego()
    }, r.tablet = function() {
        return r.ipad() || r.androidTablet() || r.blackberryTablet() || r.windowsTablet() || r.fxosTablet()
    }, r.desktop = function() {
        return !r.tablet() && !r.mobile()
    }, r.television = function() {
        for (var e = 0; e < d.length;) {
            if (_(d[e])) return !0;
            e++
        }
        return !1
    }, r.portrait = function() {
        return window.innerHeight / window.innerWidth > 1
    }, r.landscape = function() {
        return window.innerHeight / window.innerWidth < 1
    }, r.noConflict = function() {
        return window.device = s, this
    };
    var u = function(e) {
        return new RegExp("(^| )" + e + "( |$)")
    };

    function _(e) {
        return -1 !== c.indexOf(e)
    }

    function f(e) {
        var t = null;
        (function(e) {
            return u(e).test(l.className)
        })(e) || (t = l.className.replace(/^\s+|\s+$/g, ""), l.className = t + " " + e)
    }

    function v(e) {
        l.className = l.className.replace(" " + e, "")
    }

    function m() {
        v("landscape"), f("portrait"), g("portrait"), y()
    }

    function h() {
        v("portrait"), f("landscape"), g("landscape"), y()
    }

    function p() {
        if (Object.prototype.hasOwnProperty.call(window, "orientation")) switch (window.orientation) {
            case 90:
            case -90:
                h();
                break;
            default:
                m()
        } else setTimeout(function() {
            r.landscape() ? h() : r.portrait() ? m() : setTimeout(p, 10)
        }, 10)
    }

    function g(e) {
        for (var t in o) o[t](e)
    }
    r.ios() ? r.ipad() ? f("ios ipad tablet") : r.iphone() ? f("ios iphone mobile") : r.ipod() && f("ios ipod mobile") : r.macos() ? f("macos desktop") : r.android() ? r.androidTablet() ? f("android tablet") : f("android mobile") : r.blackberry() ? r.blackberryTablet() ? f("blackberry tablet") : f("blackberry mobile") : r.windows() ? r.windowsTablet() ? f("windows tablet") : r.windowsPhone() ? f("windows mobile") : f("windows desktop") : r.fxos() ? r.fxosTablet() ? f("fxos tablet") : f("fxos mobile") : r.meego() ? f("meego mobile") : r.nodeWebkit() ? f("node-webkit") : r.television() ? f("television") : r.desktop() && f("desktop"), r.cordova() && f("cordova"), r.onChangeOrientation = function(e) {
        "function" == typeof e && o.push(e)
    };
    var b = "resize";

    function S(e) {
        for (var t = 0; t < e.length; t++)
            if (r[e[t]]()) return e[t];
        return "unknown"
    }

    function y() {
        r.orientation = S(["portrait", "landscape"])
    }
    Object.prototype.hasOwnProperty.call(window, "onorientationchange") && (b = "orientationchange"), window.addEventListener ? window.addEventListener(b, p, !1) : window.attachEvent ? window.attachEvent("on" + b, p) : window["on" + b] = p, p(), r.type = S(["mobile", "tablet", "desktop"]), r.os = S(["ios", "iphone", "ipad", "ipod", "android", "blackberry", "windows", "fxos", "meego", "television"]), y(), exports.default = r
}, , , , , , , , , , , , , , , , , , , , function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = b(t(0)),
        i = b(t(409)),
        a = b(t(940)),
        s = b(t(191)),
        r = b(t(943)),
        o = b(t(944)),
        l = b(t(945)),
        c = b(t(946)),
        d = b(t(947)),
        u = b(t(948)),
        _ = b(t(949)),
        f = b(t(950)),
        v = b(t(951)),
        m = b(t(952)),
        h = b(t(953)),
        p = b(t(410)),
        g = b(t(954));

    function b(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var S = n.default.module("app.constants", []).constant("absenceManagementStatesConstants", i.default).constant("animationConstantsService", a.default).constant("calendarEventSourceConstants", s.default).constant("conditionConstants", r.default).constant("defaultDataConstants", o.default).constant("delayConstantsService", l.default).constant("deviceMarginConstants", c.default).constant("documentAccessConstants", d.default).constant("DOMElementsService", u.default).constant("homeworkConstants", _.default).constant("homeworkOverviewConstants", f.default).constant("analyticsConstants", v.default).constant("imagesConstants", m.default).constant("keyCodeConstantsService", h.default).constant("noticeboardConstants", p.default).constant("timerConstants", g.default).name;
    exports.default = S
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    exports.default = {
        IMMEDIATE: 0
    }
}, , , function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    exports.default = {
        IS_NOT_EXIST: -1
    }
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    exports.default = {
        noDataString: "-"
    }
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    exports.default = {
        WAIT_END_OF_DIGEST_CYCLE: 0,
        WAIT_END_OF_STATE_ANIMATION_OUT: 400
    }
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    exports.default = {
        MOBILE_MARGIN: 740,
        TABLET_MARGIN: 880
    }
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    exports.default = {
        N_A: "N/A"
    }
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = {
        HTML: angular.element("html"),
        UI_VIEW: angular.element("ui-view")
    };
    exports.default = n
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    exports.default = {
        MISSED_HOMEWORK_DETAILS_VALUE: ["EduLink", "MicrosoftTeams"]
    }
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    exports.default = {
        HOMEWORK_OVERVIEW_YEARS_STATE: 1,
        HOMEWORK_OVERVIEW_SUBJECT_STATE: 2,
        HOMEWORK_OVERVIEW_GROUP_STATE: 3,
        HOMEWORK_OVERVIEW_UNKNOWN_YEAR_ID: "-1"
    }
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    exports.default = {
        HOMEWORK_OVERVIEW_ID: "homeworkoverview",
        DOCUMENT_ACCESS_REPORT_ID: "documentaccessreport",
        CALLOUT_OVERVIEW_ID: "employeecalloutoverview",
        CLUB_ATTENDANCE_OVERVIEW_ID: "clubattendanceoverview",
        SELECT_ALL_CODE: "-"
    }
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    exports.default = {
        DEFAULT_SIZE: 120,
        MALE_LEARNER_DEFAULT_IMAGE: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAB71BMVEUeLDMfLTUfLjUgLzYhMDgiMjojMzsjND0kND0kNTwlNj4lNj8lN0AmN0AmOEEmOEInOUInOkMoOkQoO0UpPUcqPUcqPkUqPkgrP0grP0osQEssQUstQUwtQk0wRk0ySVQzSlU2T1g3T1Y3UVs4Ul06QTk6S048WGA8WGE9WF89WGI+WmM+W2U/SEE/XGVAXWZBXmhBYGhCYGpDYWhDYmpEY21HVFBHZ3FHaHBJanBJa3VMb3hNUkRPSk9Pc3lPc31Rdn9TeIBTeYBUXVFVe4JVe4VXfoZYgIdbhItbhI1chY1eiI9gjJRhjJRhjZNkkZhlT1FmlJtmlJxolpxpmZ9qjJFqmqFrm6NsS0psnKRun6Vun6ZuoKdwo6txUVJxpKx0p651qa92qrF3rLR6sLZ6sLd6sbd7srh8VFN8eVZ9tbyAdkiAub+BusCBu8GCu8GCvMKCvcSDvcODvsSEvsWEv8aFwMaFwceGwciGwsmHw8qHxMqIxMuIxcyJgleWi1mdW1Sql5OwnVu9pl3HqljHyIzJf3PJqV7JrVvKZVfLsF7UpnfVaFjVtVvWaFnYuWDfzXvf0IXf04/f1pnf2aPha1rphV3qjF3woF/woWbwo2zwpXPwp3rypmDyy2P0rWD/1GT/2HH/3H//34z/45kR96vSAAAFnUlEQVR4AezPgQwAAAACsMRzz6P9Bk9PiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiMOrt7a5sM4zgebMEOKV1MXY0QQZxD53TKDNtQmVPWrXNMGSiCL5kbiqt3a2mhL1d64QteTnvpdoQ7cvKnmtsSxnMxyi9p0j37nu7oQ3/3k4PJCclaVsbJsrKPK8RayFwwTxi7OmFeyCxYK48LhH8B0zRaxCDLkhZyUwAgmSZPThIIA65kJsxhw3/mROaKdfORQbLWNQSAN9weSPEDOGceNULrqHkuc83KhgZZsRYAQOCglcAgK+I72uHwV1tp+Y52GgC+2jgkOzFsSNrwRNYDxDIk7ksPkC8SKSOAfmw01seDVaTU2JwHyOeKEolpRputb3F3g7IMJOPdXYqizNZwyDdHFK5H1Y02arAjGEsqEYsq/zcyuVTEITYtnm1aonH/I9vYelDj1jHDX7rW2900HHllapY4G4NwBSK6PjWicL5H9sH9rd1tgBZhTD1dCndoZPLqErmVcEiFiFu6dOpQGyM7dmtjy49FHNPzpy4tklCujkG4HLnNuiNLpAKz4GOanKWHVMYhq+S2e2S9mi9LA7KIY1JGzl69TvuUxyE2uYkj6+pRB7xbxtfvHmxJ7ozpiejUIrWsikL43IWQkfm36Ko7pq7unief6uujAyrgkAqJ4SPDLb+MO2PSmp85p+5eflLUPic6KBuDiOcutqTGuqCRAZb770SahkhPImlwKKSEQ1Zpn3jOvRFgZIDlVx5TXHP/IjgkV4ch9v4QTk90+xyZrr32/V/bkN9V8S8BQ6iMQbhCKwg3AI9s7+v6UpPSMMRwSB6HVA6AcPjI+HWNKM2cMemNNiFUxSBcDoBAI0upvdFtQzS2LW4bUsAhqxik5ch0Lc7M5j/Gk+6/BgAhG4bYMEQcWXJg5yAiyu5PBBccpIRBuAICEUYWVfYUibmfiIAhuToMqYAQYWT8LDUTPxGBQ6iMQbgcChFKaXFO+ESEAcnjkFUcghcYhKowxJYbUsAgXEFqCNkwpCI3pIRBuLzUkFwdhqxJDaEyDLHlhuQxCFeUGkI1GFKVG1LEIFxeagjZMGRNbsgqDLHlhuTqEIQrSg2hCgypyg35AYNweakhVIMha3JDSjDElhtCNgThinJD1mBItZOQw54heRginvtQqJBBdjxLnqrAEOHc3w4VkmTIGfJUAYYI535jKETIYD//IF+Tt2wUIp77dIiQp/ucPiSPlWCIeO7p0CCaLwfl6gIE/7pPhwMZ9OXgyjBkjYRmhkKAPHeY72OOfJSHITaJLZ8OHJLkO3/zW/JVjSFQJSKx+eOBQlIJhzE6Rz4rwpAa7Wn6eCAQgAGEQIRzF5r3P7Db/9z7+96/t5v/I8SMM8zoBKRMD2v5sr+f5as7m9ydjwdTqqN44SLfRmcgddqnGz4s3226feYc+EX8S45D0HMXWp55zxPm3c2d/vxkmbgOQmrUsuX59NiLEGNQ/2nzQT9T6BDg3PdqLqfHxvYT6PozSU3t7x/9Yxfkt85DygQ3Pz+TTqdPjzm9cfLk6686jb781vnz73809ykRbf7X/RzjRAwEQRS9MG1bamtbtrtCIpIBNhhggwH2oPgOjDSrX/p56Y2FZJ/L8RA5BbJRIJookEsnSP24fZ7V21etLyMg2QnSvu8/Z+3+21oZAZFTIBsFookCuVAgSYHIKZCNAtFEgQQFkgaByCmQnQLR/O/X8np9OyvX91Kex0Hiafy6QNIgEDkFslMgmimQoEDSIBA5BbJTIJopkKBA0iAQOQWyUyCaKZCgQNIgEDkFclAgWiiQoEBkFMhKgRwUiBYKJCgQGQWyUiAHBaKFAgkKREaBrBTI8SCQPwhIZSIgjkNlAAAAAElFTkSuQmCC",
        FEMALE_LEARNER_DEFAULT_IMAGE: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAB71BMVEUeLDMfLTUfLjUgLzYhMDgiMjojMzsjND0kND0kNTwlNj4lNj8lN0AmN0AmOEEmOEInOUInOkMoOkQoO0UpPUcqPUcqPkUqPkgrP0grP0osQEssQUstQUwtQk0wRk0ySVQzSlU2T1g3T1Y3UVs4Ul06QTk6S048WGA8WGE9WF89WGI+WmM+W2U/SEE/XGVAXWZBXmhBYGhCYGpDYWhDYmpEY21HVFBHZ3FHaHBJanBJa3VMb3hNUkRPSk9Pc3lPc31Rdn9TeIBTeYBUXVFVe4JVe4VXfoZYgIdbhItbhI1chY1eiI9gjJRhjJRhjZNkkZhlT1FmlJtmlJxolpxpmZ9qjJFqmqFrm6NsS0psnKRun6Vun6ZuoKdwo6txUVJxpKx0p651qa92qrF3rLR6sLZ6sLd6sbd7srh8VFN8eVZ9tbyAdkiAub+BusCBu8GCu8GCvMKCvcSDvcODvsSEvsWEv8aFwMaFwceGwciGwsmHw8qHxMqIxMuIxcyJgleWi1mdW1Sql5OwnVu9pl3HqljHyIzJf3PJqV7JrVvKZVfLsF7UpnfVaFjVtVvWaFnYuWDfzXvf0IXf04/f1pnf2aPha1rphV3qjF3woF/woWbwo2zwpXPwp3rypmDyy2P0rWD/1GT/2HH/3H//34z/45kR96vSAAAFnUlEQVR4AezPgQwAAAACsMRzz6P9Bk9PiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiMOrt7a5sM4zgebMEOKV1MXY0QQZxD53TKDNtQmVPWrXNMGSiCL5kbiqt3a2mhL1d64QteTnvpdoQ7cvKnmtsSxnMxyi9p0j37nu7oQ3/3k4PJCclaVsbJsrKPK8RayFwwTxi7OmFeyCxYK48LhH8B0zRaxCDLkhZyUwAgmSZPThIIA65kJsxhw3/mROaKdfORQbLWNQSAN9weSPEDOGceNULrqHkuc83KhgZZsRYAQOCglcAgK+I72uHwV1tp+Y52GgC+2jgkOzFsSNrwRNYDxDIk7ksPkC8SKSOAfmw01seDVaTU2JwHyOeKEolpRputb3F3g7IMJOPdXYqizNZwyDdHFK5H1Y02arAjGEsqEYsq/zcyuVTEITYtnm1aonH/I9vYelDj1jHDX7rW2900HHllapY4G4NwBSK6PjWicL5H9sH9rd1tgBZhTD1dCndoZPLqErmVcEiFiFu6dOpQGyM7dmtjy49FHNPzpy4tklCujkG4HLnNuiNLpAKz4GOanKWHVMYhq+S2e2S9mi9LA7KIY1JGzl69TvuUxyE2uYkj6+pRB7xbxtfvHmxJ7ozpiejUIrWsikL43IWQkfm36Ko7pq7unief6uujAyrgkAqJ4SPDLb+MO2PSmp85p+5eflLUPic6KBuDiOcutqTGuqCRAZb770SahkhPImlwKKSEQ1Zpn3jOvRFgZIDlVx5TXHP/IjgkV4ch9v4QTk90+xyZrr32/V/bkN9V8S8BQ6iMQbhCKwg3AI9s7+v6UpPSMMRwSB6HVA6AcPjI+HWNKM2cMemNNiFUxSBcDoBAI0upvdFtQzS2LW4bUsAhqxik5ch0Lc7M5j/Gk+6/BgAhG4bYMEQcWXJg5yAiyu5PBBccpIRBuAICEUYWVfYUibmfiIAhuToMqYAQYWT8LDUTPxGBQ6iMQbgcChFKaXFO+ESEAcnjkFUcghcYhKowxJYbUsAgXEFqCNkwpCI3pIRBuLzUkFwdhqxJDaEyDLHlhuQxCFeUGkI1GFKVG1LEIFxeagjZMGRNbsgqDLHlhuTqEIQrSg2hCgypyg35AYNweakhVIMha3JDSjDElhtCNgThinJD1mBItZOQw54heRginvtQqJBBdjxLnqrAEOHc3w4VkmTIGfJUAYYI535jKETIYD//IF+Tt2wUIp77dIiQp/ucPiSPlWCIeO7p0CCaLwfl6gIE/7pPhwMZ9OXgyjBkjYRmhkKAPHeY72OOfJSHITaJLZ8OHJLkO3/zW/JVjSFQJSKx+eOBQlIJhzE6Rz4rwpAa7Wn6eCAQgAGEQIRzF5r3P7Db/9z7+96/t5v/I8SMM8zoBKRMD2v5sr+f5as7m9ydjwdTqqN44SLfRmcgddqnGz4s3226feYc+EX8S45D0HMXWp55zxPm3c2d/vxkmbgOQmrUsuX59NiLEGNQ/2nzQT9T6BDg3PdqLqfHxvYT6PozSU3t7x/9Yxfkt85DygQ3Pz+TTqdPjzm9cfLk6686jb781vnz73809ykRbf7X/RzjRAwEQRS9MG1bamtbtrtCIpIBNhhggwH2oPgOjDSrX/p56Y2FZJ/L8RA5BbJRIJookEsnSP24fZ7V21etLyMg2QnSvu8/Z+3+21oZAZFTIBsFookCuVAgSYHIKZCNAtFEgQQFkgaByCmQnQLR/O/X8np9OyvX91Kex0Hiafy6QNIgEDkFslMgmimQoEDSIBA5BbJTIJopkKBA0iAQOQWyUyCaKZCgQNIgEDkFclAgWiiQoEBkFMhKgRwUiBYKJCgQGQWyUiAHBaKFAgkKREaBrBTI8SCQPwhIZSIgjkNlAAAAAElFTkSuQmCC",
        FEMALE_EMPLOYEE_DEFAULT_IMAGE: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAB71BMVEUeLDMfLTUfLjUgLzYhMDgiMjojMzsjND0kND0kNTwlNj4lNj8lN0AmN0AmOEEmOEInOUInOkMoOkQoO0UpPUcqPUcqPkUqPkgrP0grP0osQEssQUstQUwtQk0wRk0ySVQzSlU2T1g3T1Y3UVs4Ul06QTk6S048WGA8WGE9WF89WGI+WmM+W2U/SEE/XGVAXWZBXmhBYGhCYGpDYWhDYmpEY21HVFBHZ3FHaHBJanBJa3VMb3hNUkRPSk9Pc3lPc31Rdn9TeIBTeYBUXVFVe4JVe4VXfoZYgIdbhItbhI1chY1eiI9gjJRhjJRhjZNkkZhlT1FmlJtmlJxolpxpmZ9qjJFqmqFrm6NsS0psnKRun6Vun6ZuoKdwo6txUVJxpKx0p651qa92qrF3rLR6sLZ6sLd6sbd7srh8VFN8eVZ9tbyAdkiAub+BusCBu8GCu8GCvMKCvcSDvcODvsSEvsWEv8aFwMaFwceGwciGwsmHw8qHxMqIxMuIxcyJgleWi1mdW1Sql5OwnVu9pl3HqljHyIzJf3PJqV7JrVvKZVfLsF7UpnfVaFjVtVvWaFnYuWDfzXvf0IXf04/f1pnf2aPha1rphV3qjF3woF/woWbwo2zwpXPwp3rypmDyy2P0rWD/1GT/2HH/3H//34z/45kR96vSAAAFnUlEQVR4AezPgQwAAAACsMRzz6P9Bk9PiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiMOrt7a5sM4zgebMEOKV1MXY0QQZxD53TKDNtQmVPWrXNMGSiCL5kbiqt3a2mhL1d64QteTnvpdoQ7cvKnmtsSxnMxyi9p0j37nu7oQ3/3k4PJCclaVsbJsrKPK8RayFwwTxi7OmFeyCxYK48LhH8B0zRaxCDLkhZyUwAgmSZPThIIA65kJsxhw3/mROaKdfORQbLWNQSAN9weSPEDOGceNULrqHkuc83KhgZZsRYAQOCglcAgK+I72uHwV1tp+Y52GgC+2jgkOzFsSNrwRNYDxDIk7ksPkC8SKSOAfmw01seDVaTU2JwHyOeKEolpRputb3F3g7IMJOPdXYqizNZwyDdHFK5H1Y02arAjGEsqEYsq/zcyuVTEITYtnm1aonH/I9vYelDj1jHDX7rW2900HHllapY4G4NwBSK6PjWicL5H9sH9rd1tgBZhTD1dCndoZPLqErmVcEiFiFu6dOpQGyM7dmtjy49FHNPzpy4tklCujkG4HLnNuiNLpAKz4GOanKWHVMYhq+S2e2S9mi9LA7KIY1JGzl69TvuUxyE2uYkj6+pRB7xbxtfvHmxJ7ozpiejUIrWsikL43IWQkfm36Ko7pq7unief6uujAyrgkAqJ4SPDLb+MO2PSmp85p+5eflLUPic6KBuDiOcutqTGuqCRAZb770SahkhPImlwKKSEQ1Zpn3jOvRFgZIDlVx5TXHP/IjgkV4ch9v4QTk90+xyZrr32/V/bkN9V8S8BQ6iMQbhCKwg3AI9s7+v6UpPSMMRwSB6HVA6AcPjI+HWNKM2cMemNNiFUxSBcDoBAI0upvdFtQzS2LW4bUsAhqxik5ch0Lc7M5j/Gk+6/BgAhG4bYMEQcWXJg5yAiyu5PBBccpIRBuAICEUYWVfYUibmfiIAhuToMqYAQYWT8LDUTPxGBQ6iMQbgcChFKaXFO+ESEAcnjkFUcghcYhKowxJYbUsAgXEFqCNkwpCI3pIRBuLzUkFwdhqxJDaEyDLHlhuQxCFeUGkI1GFKVG1LEIFxeagjZMGRNbsgqDLHlhuTqEIQrSg2hCgypyg35AYNweakhVIMha3JDSjDElhtCNgThinJD1mBItZOQw54heRginvtQqJBBdjxLnqrAEOHc3w4VkmTIGfJUAYYI535jKETIYD//IF+Tt2wUIp77dIiQp/ucPiSPlWCIeO7p0CCaLwfl6gIE/7pPhwMZ9OXgyjBkjYRmhkKAPHeY72OOfJSHITaJLZ8OHJLkO3/zW/JVjSFQJSKx+eOBQlIJhzE6Rz4rwpAa7Wn6eCAQgAGEQIRzF5r3P7Db/9z7+96/t5v/I8SMM8zoBKRMD2v5sr+f5as7m9ydjwdTqqN44SLfRmcgddqnGz4s3226feYc+EX8S45D0HMXWp55zxPm3c2d/vxkmbgOQmrUsuX59NiLEGNQ/2nzQT9T6BDg3PdqLqfHxvYT6PozSU3t7x/9Yxfkt85DygQ3Pz+TTqdPjzm9cfLk6686jb781vnz73809ykRbf7X/RzjRAwEQRS9MG1bamtbtrtCIpIBNhhggwH2oPgOjDSrX/p56Y2FZJ/L8RA5BbJRIJookEsnSP24fZ7V21etLyMg2QnSvu8/Z+3+21oZAZFTIBsFookCuVAgSYHIKZCNAtFEgQQFkgaByCmQnQLR/O/X8np9OyvX91Kex0Hiafy6QNIgEDkFslMgmimQoEDSIBA5BbJTIJopkKBA0iAQOQWyUyCaKZCgQNIgEDkFclAgWiiQoEBkFMhKgRwUiBYKJCgQGQWyUiAHBaKFAgkKREaBrBTI8SCQPwhIZSIgjkNlAAAAAElFTkSuQmCC",
        FEMALE_PARENT_DEFAULT_IMAGE: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAB71BMVEUeLDMfLTUfLjUgLzYhMDgiMjojMzsjND0kND0kNTwlNj4lNj8lN0AmN0AmOEEmOEInOUInOkMoOkQoO0UpPUcqPUcqPkUqPkgrP0grP0osQEssQUstQUwtQk0wRk0ySVQzSlU2T1g3T1Y3UVs4Ul06QTk6S048WGA8WGE9WF89WGI+WmM+W2U/SEE/XGVAXWZBXmhBYGhCYGpDYWhDYmpEY21HVFBHZ3FHaHBJanBJa3VMb3hNUkRPSk9Pc3lPc31Rdn9TeIBTeYBUXVFVe4JVe4VXfoZYgIdbhItbhI1chY1eiI9gjJRhjJRhjZNkkZhlT1FmlJtmlJxolpxpmZ9qjJFqmqFrm6NsS0psnKRun6Vun6ZuoKdwo6txUVJxpKx0p651qa92qrF3rLR6sLZ6sLd6sbd7srh8VFN8eVZ9tbyAdkiAub+BusCBu8GCu8GCvMKCvcSDvcODvsSEvsWEv8aFwMaFwceGwciGwsmHw8qHxMqIxMuIxcyJgleWi1mdW1Sql5OwnVu9pl3HqljHyIzJf3PJqV7JrVvKZVfLsF7UpnfVaFjVtVvWaFnYuWDfzXvf0IXf04/f1pnf2aPha1rphV3qjF3woF/woWbwo2zwpXPwp3rypmDyy2P0rWD/1GT/2HH/3H//34z/45kR96vSAAAFnUlEQVR4AezPgQwAAAACsMRzz6P9Bk9PiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiMOrt7a5sM4zgebMEOKV1MXY0QQZxD53TKDNtQmVPWrXNMGSiCL5kbiqt3a2mhL1d64QteTnvpdoQ7cvKnmtsSxnMxyi9p0j37nu7oQ3/3k4PJCclaVsbJsrKPK8RayFwwTxi7OmFeyCxYK48LhH8B0zRaxCDLkhZyUwAgmSZPThIIA65kJsxhw3/mROaKdfORQbLWNQSAN9weSPEDOGceNULrqHkuc83KhgZZsRYAQOCglcAgK+I72uHwV1tp+Y52GgC+2jgkOzFsSNrwRNYDxDIk7ksPkC8SKSOAfmw01seDVaTU2JwHyOeKEolpRputb3F3g7IMJOPdXYqizNZwyDdHFK5H1Y02arAjGEsqEYsq/zcyuVTEITYtnm1aonH/I9vYelDj1jHDX7rW2900HHllapY4G4NwBSK6PjWicL5H9sH9rd1tgBZhTD1dCndoZPLqErmVcEiFiFu6dOpQGyM7dmtjy49FHNPzpy4tklCujkG4HLnNuiNLpAKz4GOanKWHVMYhq+S2e2S9mi9LA7KIY1JGzl69TvuUxyE2uYkj6+pRB7xbxtfvHmxJ7ozpiejUIrWsikL43IWQkfm36Ko7pq7unief6uujAyrgkAqJ4SPDLb+MO2PSmp85p+5eflLUPic6KBuDiOcutqTGuqCRAZb770SahkhPImlwKKSEQ1Zpn3jOvRFgZIDlVx5TXHP/IjgkV4ch9v4QTk90+xyZrr32/V/bkN9V8S8BQ6iMQbhCKwg3AI9s7+v6UpPSMMRwSB6HVA6AcPjI+HWNKM2cMemNNiFUxSBcDoBAI0upvdFtQzS2LW4bUsAhqxik5ch0Lc7M5j/Gk+6/BgAhG4bYMEQcWXJg5yAiyu5PBBccpIRBuAICEUYWVfYUibmfiIAhuToMqYAQYWT8LDUTPxGBQ6iMQbgcChFKaXFO+ESEAcnjkFUcghcYhKowxJYbUsAgXEFqCNkwpCI3pIRBuLzUkFwdhqxJDaEyDLHlhuQxCFeUGkI1GFKVG1LEIFxeagjZMGRNbsgqDLHlhuTqEIQrSg2hCgypyg35AYNweakhVIMha3JDSjDElhtCNgThinJD1mBItZOQw54heRginvtQqJBBdjxLnqrAEOHc3w4VkmTIGfJUAYYI535jKETIYD//IF+Tt2wUIp77dIiQp/ucPiSPlWCIeO7p0CCaLwfl6gIE/7pPhwMZ9OXgyjBkjYRmhkKAPHeY72OOfJSHITaJLZ8OHJLkO3/zW/JVjSFQJSKx+eOBQlIJhzE6Rz4rwpAa7Wn6eCAQgAGEQIRzF5r3P7Db/9z7+96/t5v/I8SMM8zoBKRMD2v5sr+f5as7m9ydjwdTqqN44SLfRmcgddqnGz4s3226feYc+EX8S45D0HMXWp55zxPm3c2d/vxkmbgOQmrUsuX59NiLEGNQ/2nzQT9T6BDg3PdqLqfHxvYT6PozSU3t7x/9Yxfkt85DygQ3Pz+TTqdPjzm9cfLk6686jb781vnz73809ykRbf7X/RzjRAwEQRS9MG1bamtbtrtCIpIBNhhggwH2oPgOjDSrX/p56Y2FZJ/L8RA5BbJRIJookEsnSP24fZ7V21etLyMg2QnSvu8/Z+3+21oZAZFTIBsFookCuVAgSYHIKZCNAtFEgQQFkgaByCmQnQLR/O/X8np9OyvX91Kex0Hiafy6QNIgEDkFslMgmimQoEDSIBA5BbJTIJopkKBA0iAQOQWyUyCaKZCgQNIgEDkFclAgWiiQoEBkFMhKgRwUiBYKJCgQGQWyUiAHBaKFAgkKREaBrBTI8SCQPwhIZSIgjkNlAAAAAElFTkSuQmCC",
        MALE_EMPLOYEE_DEFAULT_IMAGE: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAB71BMVEUeLDMfLTUfLjUgLzYhMDgiMjojMzsjND0kND0kNTwlNj4lNj8lN0AmN0AmOEEmOEInOUInOkMoOkQoO0UpPUcqPUcqPkUqPkgrP0grP0osQEssQUstQUwtQk0wRk0ySVQzSlU2T1g3T1Y3UVs4Ul06QTk6S048WGA8WGE9WF89WGI+WmM+W2U/SEE/XGVAXWZBXmhBYGhCYGpDYWhDYmpEY21HVFBHZ3FHaHBJanBJa3VMb3hNUkRPSk9Pc3lPc31Rdn9TeIBTeYBUXVFVe4JVe4VXfoZYgIdbhItbhI1chY1eiI9gjJRhjJRhjZNkkZhlT1FmlJtmlJxolpxpmZ9qjJFqmqFrm6NsS0psnKRun6Vun6ZuoKdwo6txUVJxpKx0p651qa92qrF3rLR6sLZ6sLd6sbd7srh8VFN8eVZ9tbyAdkiAub+BusCBu8GCu8GCvMKCvcSDvcODvsSEvsWEv8aFwMaFwceGwciGwsmHw8qHxMqIxMuIxcyJgleWi1mdW1Sql5OwnVu9pl3HqljHyIzJf3PJqV7JrVvKZVfLsF7UpnfVaFjVtVvWaFnYuWDfzXvf0IXf04/f1pnf2aPha1rphV3qjF3woF/woWbwo2zwpXPwp3rypmDyy2P0rWD/1GT/2HH/3H//34z/45kR96vSAAAFnUlEQVR4AezPgQwAAAACsMRzz6P9Bk9PiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiMOrt7a5sM4zgebMEOKV1MXY0QQZxD53TKDNtQmVPWrXNMGSiCL5kbiqt3a2mhL1d64QteTnvpdoQ7cvKnmtsSxnMxyi9p0j37nu7oQ3/3k4PJCclaVsbJsrKPK8RayFwwTxi7OmFeyCxYK48LhH8B0zRaxCDLkhZyUwAgmSZPThIIA65kJsxhw3/mROaKdfORQbLWNQSAN9weSPEDOGceNULrqHkuc83KhgZZsRYAQOCglcAgK+I72uHwV1tp+Y52GgC+2jgkOzFsSNrwRNYDxDIk7ksPkC8SKSOAfmw01seDVaTU2JwHyOeKEolpRputb3F3g7IMJOPdXYqizNZwyDdHFK5H1Y02arAjGEsqEYsq/zcyuVTEITYtnm1aonH/I9vYelDj1jHDX7rW2900HHllapY4G4NwBSK6PjWicL5H9sH9rd1tgBZhTD1dCndoZPLqErmVcEiFiFu6dOpQGyM7dmtjy49FHNPzpy4tklCujkG4HLnNuiNLpAKz4GOanKWHVMYhq+S2e2S9mi9LA7KIY1JGzl69TvuUxyE2uYkj6+pRB7xbxtfvHmxJ7ozpiejUIrWsikL43IWQkfm36Ko7pq7unief6uujAyrgkAqJ4SPDLb+MO2PSmp85p+5eflLUPic6KBuDiOcutqTGuqCRAZb770SahkhPImlwKKSEQ1Zpn3jOvRFgZIDlVx5TXHP/IjgkV4ch9v4QTk90+xyZrr32/V/bkN9V8S8BQ6iMQbhCKwg3AI9s7+v6UpPSMMRwSB6HVA6AcPjI+HWNKM2cMemNNiFUxSBcDoBAI0upvdFtQzS2LW4bUsAhqxik5ch0Lc7M5j/Gk+6/BgAhG4bYMEQcWXJg5yAiyu5PBBccpIRBuAICEUYWVfYUibmfiIAhuToMqYAQYWT8LDUTPxGBQ6iMQbgcChFKaXFO+ESEAcnjkFUcghcYhKowxJYbUsAgXEFqCNkwpCI3pIRBuLzUkFwdhqxJDaEyDLHlhuQxCFeUGkI1GFKVG1LEIFxeagjZMGRNbsgqDLHlhuTqEIQrSg2hCgypyg35AYNweakhVIMha3JDSjDElhtCNgThinJD1mBItZOQw54heRginvtQqJBBdjxLnqrAEOHc3w4VkmTIGfJUAYYI535jKETIYD//IF+Tt2wUIp77dIiQp/ucPiSPlWCIeO7p0CCaLwfl6gIE/7pPhwMZ9OXgyjBkjYRmhkKAPHeY72OOfJSHITaJLZ8OHJLkO3/zW/JVjSFQJSKx+eOBQlIJhzE6Rz4rwpAa7Wn6eCAQgAGEQIRzF5r3P7Db/9z7+96/t5v/I8SMM8zoBKRMD2v5sr+f5as7m9ydjwdTqqN44SLfRmcgddqnGz4s3226feYc+EX8S45D0HMXWp55zxPm3c2d/vxkmbgOQmrUsuX59NiLEGNQ/2nzQT9T6BDg3PdqLqfHxvYT6PozSU3t7x/9Yxfkt85DygQ3Pz+TTqdPjzm9cfLk6686jb781vnz73809ykRbf7X/RzjRAwEQRS9MG1bamtbtrtCIpIBNhhggwH2oPgOjDSrX/p56Y2FZJ/L8RA5BbJRIJookEsnSP24fZ7V21etLyMg2QnSvu8/Z+3+21oZAZFTIBsFookCuVAgSYHIKZCNAtFEgQQFkgaByCmQnQLR/O/X8np9OyvX91Kex0Hiafy6QNIgEDkFslMgmimQoEDSIBA5BbJTIJopkKBA0iAQOQWyUyCaKZCgQNIgEDkFclAgWiiQoEBkFMhKgRwUiBYKJCgQGQWyUiAHBaKFAgkKREaBrBTI8SCQPwhIZSIgjkNlAAAAAElFTkSuQmCC",
        MALE_PARENT_DEFAULT_IMAGE: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAB71BMVEUeLDMfLTUfLjUgLzYhMDgiMjojMzsjND0kND0kNTwlNj4lNj8lN0AmN0AmOEEmOEInOUInOkMoOkQoO0UpPUcqPUcqPkUqPkgrP0grP0osQEssQUstQUwtQk0wRk0ySVQzSlU2T1g3T1Y3UVs4Ul06QTk6S048WGA8WGE9WF89WGI+WmM+W2U/SEE/XGVAXWZBXmhBYGhCYGpDYWhDYmpEY21HVFBHZ3FHaHBJanBJa3VMb3hNUkRPSk9Pc3lPc31Rdn9TeIBTeYBUXVFVe4JVe4VXfoZYgIdbhItbhI1chY1eiI9gjJRhjJRhjZNkkZhlT1FmlJtmlJxolpxpmZ9qjJFqmqFrm6NsS0psnKRun6Vun6ZuoKdwo6txUVJxpKx0p651qa92qrF3rLR6sLZ6sLd6sbd7srh8VFN8eVZ9tbyAdkiAub+BusCBu8GCu8GCvMKCvcSDvcODvsSEvsWEv8aFwMaFwceGwciGwsmHw8qHxMqIxMuIxcyJgleWi1mdW1Sql5OwnVu9pl3HqljHyIzJf3PJqV7JrVvKZVfLsF7UpnfVaFjVtVvWaFnYuWDfzXvf0IXf04/f1pnf2aPha1rphV3qjF3woF/woWbwo2zwpXPwp3rypmDyy2P0rWD/1GT/2HH/3H//34z/45kR96vSAAAFnUlEQVR4AezPgQwAAAACsMRzz6P9Bk9PiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiMOrt7a5sM4zgebMEOKV1MXY0QQZxD53TKDNtQmVPWrXNMGSiCL5kbiqt3a2mhL1d64QteTnvpdoQ7cvKnmtsSxnMxyi9p0j37nu7oQ3/3k4PJCclaVsbJsrKPK8RayFwwTxi7OmFeyCxYK48LhH8B0zRaxCDLkhZyUwAgmSZPThIIA65kJsxhw3/mROaKdfORQbLWNQSAN9weSPEDOGceNULrqHkuc83KhgZZsRYAQOCglcAgK+I72uHwV1tp+Y52GgC+2jgkOzFsSNrwRNYDxDIk7ksPkC8SKSOAfmw01seDVaTU2JwHyOeKEolpRputb3F3g7IMJOPdXYqizNZwyDdHFK5H1Y02arAjGEsqEYsq/zcyuVTEITYtnm1aonH/I9vYelDj1jHDX7rW2900HHllapY4G4NwBSK6PjWicL5H9sH9rd1tgBZhTD1dCndoZPLqErmVcEiFiFu6dOpQGyM7dmtjy49FHNPzpy4tklCujkG4HLnNuiNLpAKz4GOanKWHVMYhq+S2e2S9mi9LA7KIY1JGzl69TvuUxyE2uYkj6+pRB7xbxtfvHmxJ7ozpiejUIrWsikL43IWQkfm36Ko7pq7unief6uujAyrgkAqJ4SPDLb+MO2PSmp85p+5eflLUPic6KBuDiOcutqTGuqCRAZb770SahkhPImlwKKSEQ1Zpn3jOvRFgZIDlVx5TXHP/IjgkV4ch9v4QTk90+xyZrr32/V/bkN9V8S8BQ6iMQbhCKwg3AI9s7+v6UpPSMMRwSB6HVA6AcPjI+HWNKM2cMemNNiFUxSBcDoBAI0upvdFtQzS2LW4bUsAhqxik5ch0Lc7M5j/Gk+6/BgAhG4bYMEQcWXJg5yAiyu5PBBccpIRBuAICEUYWVfYUibmfiIAhuToMqYAQYWT8LDUTPxGBQ6iMQbgcChFKaXFO+ESEAcnjkFUcghcYhKowxJYbUsAgXEFqCNkwpCI3pIRBuLzUkFwdhqxJDaEyDLHlhuQxCFeUGkI1GFKVG1LEIFxeagjZMGRNbsgqDLHlhuTqEIQrSg2hCgypyg35AYNweakhVIMha3JDSjDElhtCNgThinJD1mBItZOQw54heRginvtQqJBBdjxLnqrAEOHc3w4VkmTIGfJUAYYI535jKETIYD//IF+Tt2wUIp77dIiQp/ucPiSPlWCIeO7p0CCaLwfl6gIE/7pPhwMZ9OXgyjBkjYRmhkKAPHeY72OOfJSHITaJLZ8OHJLkO3/zW/JVjSFQJSKx+eOBQlIJhzE6Rz4rwpAa7Wn6eCAQgAGEQIRzF5r3P7Db/9z7+96/t5v/I8SMM8zoBKRMD2v5sr+f5as7m9ydjwdTqqN44SLfRmcgddqnGz4s3226feYc+EX8S45D0HMXWp55zxPm3c2d/vxkmbgOQmrUsuX59NiLEGNQ/2nzQT9T6BDg3PdqLqfHxvYT6PozSU3t7x/9Yxfkt85DygQ3Pz+TTqdPjzm9cfLk6686jb781vnz73809ykRbf7X/RzjRAwEQRS9MG1bamtbtrtCIpIBNhhggwH2oPgOjDSrX/p56Y2FZJ/L8RA5BbJRIJookEsnSP24fZ7V21etLyMg2QnSvu8/Z+3+21oZAZFTIBsFookCuVAgSYHIKZCNAtFEgQQFkgaByCmQnQLR/O/X8np9OyvX91Kex0Hiafy6QNIgEDkFslMgmimQoEDSIBA5BbJTIJopkKBA0iAQOQWyUyCaKZCgQNIgEDkFclAgWiiQoEBkFMhKgRwUiBYKJCgQGQWyUiAHBaKFAgkKREaBrBTI8SCQPwhIZSIgjkNlAAAAAElFTkSuQmCC",
        DEFAULT_IMAGE: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAB71BMVEUeLDMfLTUfLjUgLzYhMDgiMjojMzsjND0kND0kNTwlNj4lNj8lN0AmN0AmOEEmOEInOUInOkMoOkQoO0UpPUcqPUcqPkUqPkgrP0grP0osQEssQUstQUwtQk0wRk0ySVQzSlU2T1g3T1Y3UVs4Ul06QTk6S048WGA8WGE9WF89WGI+WmM+W2U/SEE/XGVAXWZBXmhBYGhCYGpDYWhDYmpEY21HVFBHZ3FHaHBJanBJa3VMb3hNUkRPSk9Pc3lPc31Rdn9TeIBTeYBUXVFVe4JVe4VXfoZYgIdbhItbhI1chY1eiI9gjJRhjJRhjZNkkZhlT1FmlJtmlJxolpxpmZ9qjJFqmqFrm6NsS0psnKRun6Vun6ZuoKdwo6txUVJxpKx0p651qa92qrF3rLR6sLZ6sLd6sbd7srh8VFN8eVZ9tbyAdkiAub+BusCBu8GCu8GCvMKCvcSDvcODvsSEvsWEv8aFwMaFwceGwciGwsmHw8qHxMqIxMuIxcyJgleWi1mdW1Sql5OwnVu9pl3HqljHyIzJf3PJqV7JrVvKZVfLsF7UpnfVaFjVtVvWaFnYuWDfzXvf0IXf04/f1pnf2aPha1rphV3qjF3woF/woWbwo2zwpXPwp3rypmDyy2P0rWD/1GT/2HH/3H//34z/45kR96vSAAAFnUlEQVR4AezPgQwAAAACsMRzz6P9Bk9PiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiMOrt7a5sM4zgebMEOKV1MXY0QQZxD53TKDNtQmVPWrXNMGSiCL5kbiqt3a2mhL1d64QteTnvpdoQ7cvKnmtsSxnMxyi9p0j37nu7oQ3/3k4PJCclaVsbJsrKPK8RayFwwTxi7OmFeyCxYK48LhH8B0zRaxCDLkhZyUwAgmSZPThIIA65kJsxhw3/mROaKdfORQbLWNQSAN9weSPEDOGceNULrqHkuc83KhgZZsRYAQOCglcAgK+I72uHwV1tp+Y52GgC+2jgkOzFsSNrwRNYDxDIk7ksPkC8SKSOAfmw01seDVaTU2JwHyOeKEolpRputb3F3g7IMJOPdXYqizNZwyDdHFK5H1Y02arAjGEsqEYsq/zcyuVTEITYtnm1aonH/I9vYelDj1jHDX7rW2900HHllapY4G4NwBSK6PjWicL5H9sH9rd1tgBZhTD1dCndoZPLqErmVcEiFiFu6dOpQGyM7dmtjy49FHNPzpy4tklCujkG4HLnNuiNLpAKz4GOanKWHVMYhq+S2e2S9mi9LA7KIY1JGzl69TvuUxyE2uYkj6+pRB7xbxtfvHmxJ7ozpiejUIrWsikL43IWQkfm36Ko7pq7unief6uujAyrgkAqJ4SPDLb+MO2PSmp85p+5eflLUPic6KBuDiOcutqTGuqCRAZb770SahkhPImlwKKSEQ1Zpn3jOvRFgZIDlVx5TXHP/IjgkV4ch9v4QTk90+xyZrr32/V/bkN9V8S8BQ6iMQbhCKwg3AI9s7+v6UpPSMMRwSB6HVA6AcPjI+HWNKM2cMemNNiFUxSBcDoBAI0upvdFtQzS2LW4bUsAhqxik5ch0Lc7M5j/Gk+6/BgAhG4bYMEQcWXJg5yAiyu5PBBccpIRBuAICEUYWVfYUibmfiIAhuToMqYAQYWT8LDUTPxGBQ6iMQbgcChFKaXFO+ESEAcnjkFUcghcYhKowxJYbUsAgXEFqCNkwpCI3pIRBuLzUkFwdhqxJDaEyDLHlhuQxCFeUGkI1GFKVG1LEIFxeagjZMGRNbsgqDLHlhuTqEIQrSg2hCgypyg35AYNweakhVIMha3JDSjDElhtCNgThinJD1mBItZOQw54heRginvtQqJBBdjxLnqrAEOHc3w4VkmTIGfJUAYYI535jKETIYD//IF+Tt2wUIp77dIiQp/ucPiSPlWCIeO7p0CCaLwfl6gIE/7pPhwMZ9OXgyjBkjYRmhkKAPHeY72OOfJSHITaJLZ8OHJLkO3/zW/JVjSFQJSKx+eOBQlIJhzE6Rz4rwpAa7Wn6eCAQgAGEQIRzF5r3P7Db/9z7+96/t5v/I8SMM8zoBKRMD2v5sr+f5as7m9ydjwdTqqN44SLfRmcgddqnGz4s3226feYc+EX8S45D0HMXWp55zxPm3c2d/vxkmbgOQmrUsuX59NiLEGNQ/2nzQT9T6BDg3PdqLqfHxvYT6PozSU3t7x/9Yxfkt85DygQ3Pz+TTqdPjzm9cfLk6686jb781vnz73809ykRbf7X/RzjRAwEQRS9MG1bamtbtrtCIpIBNhhggwH2oPgOjDSrX/p56Y2FZJ/L8RA5BbJRIJookEsnSP24fZ7V21etLyMg2QnSvu8/Z+3+21oZAZFTIBsFookCuVAgSYHIKZCNAtFEgQQFkgaByCmQnQLR/O/X8np9OyvX91Kex0Hiafy6QNIgEDkFslMgmimQoEDSIBA5BbJTIJopkKBA0iAQOQWyUyCaKZCgQNIgEDkFclAgWiiQoEBkFMhKgRwUiBYKJCgQGQWyUiAHBaKFAgkKREaBrBTI8SCQPwhIZSIgjkNlAAAAAElFTkSuQmCC"
    }
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    exports.default = {
        ESCAPE: 27
    }
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    exports.default = {
        MINUTES_IN_DAY: 1440,
        MINUTES_IN_HOUR: 60,
        HOURS_IN_DAY: 24
    }
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = z(t(0)),
        i = z(t(956)),
        a = z(t(960)),
        s = z(t(964)),
        r = z(t(972)),
        o = z(t(976)),
        l = z(t(989)),
        c = z(t(993)),
        d = z(t(998)),
        u = z(t(1018)),
        _ = z(t(1022)),
        f = z(t(1026)),
        v = z(t(1040)),
        m = z(t(1048)),
        h = z(t(1055)),
        p = z(t(1062)),
        g = z(t(1066)),
        b = z(t(1076)),
        S = z(t(1081)),
        y = z(t(1089)),
        k = z(t(1093)),
        M = z(t(1102)),
        w = z(t(1106)),
        D = z(t(1119)),
        T = z(t(1123)),
        C = z(t(1127)),
        P = z(t(1131)),
        L = z(t(1135)),
        x = z(t(1140)),
        j = z(t(1144)),
        I = z(t(1149)),
        A = z(t(1164)),
        E = z(t(1168)),
        O = z(t(1175)),
        F = z(t(1189)),
        N = z(t(1200)),
        R = z(t(1204)),
        Y = z(t(1208)),
        B = z(t(1221)),
        H = z(t(1226)),
        q = z(t(1230)),
        W = z(t(1260)),
        V = z(t(1264));

    function z(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var G = n.default.module("app.containers", [i.default, a.default, s.default, r.default, o.default, l.default, c.default, d.default, u.default, _.default, f.default, v.default, p.default, m.default, h.default, g.default, b.default, S.default, y.default, k.default, M.default, w.default, T.default, D.default, C.default, P.default, L.default, x.default, j.default, I.default, A.default, E.default, F.default, N.default, R.default, Y.default, B.default, q.default, H.default, O.default, W.default, V.default]).name;
    exports.default = G
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(0)),
        i = s(t(9)),
        a = s(t(957));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = n.default.module("about", [i.default]).config(["$stateProvider", function(e) {
        "ngInject";
        e.state("about", {
            url: "/about",
            component: "about",
            data: {
                pageClass: "p-about",
                headerGradientColors: {
                    from: "red",
                    to: "green"
                },
                pageTitle: "About",
                parentState: "home"
            },
            authorize: ["employee", "parent"]
        })
    }]).component("about", a.default).name;
    exports.default = r
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(958)),
        i = a(t(959));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = {
        restrict: "E",
        bindings: {},
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = "<navbar></navbar>\n<h1>{{ $ctrl.name }}</h1>\n<section>\n  About us.\n</section>\n"
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(1),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    exports.default = function e() {
        "ngInject";
        (0, a.default)(this, e), this.name = "about"
    }
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(0)),
        i = s(t(9)),
        a = s(t(961));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = n.default.module("absence", [i.default]).config(["$stateProvider", "$urlRouterProvider", function(e, t) {
        "ngInject";
        t.otherwise("/"), e.state("absence-reporting", {
            url: "/absence-reporting",
            component: "absence",
            data: {
                destroyFastClick: !0,
                pageClass: "p-absence",
                headerGradientColors: {
                    from: "#873EEA",
                    to: "#8E54E9"
                },
                pageTitle: "Absence report",
                authorize: ["parent"],
                parentState: "home"
            }
        })
    }]).component("absence", a.default).name;
    exports.default = r
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(962)),
        i = a(t(963));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="container" ng-class="{\'_animation-out\': $ctrl._routeClassService.isMenuIn }">\n  <b-student-info class="noSwipe"></b-student-info>\n</div>\n\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(1),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    var s = function e(t) {
        "ngInject";
        (0, a.default)(this, e), this._routeClassService = t
    };
    s.$inject = ["routeClassService"], exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = c(t(0)),
        i = c(t(9)),
        a = c(t(965)),
        s = c(t(968)),
        r = c(t(969)),
        o = c(t(970)),
        l = c(t(971));

    function c(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var d = n.default.module("absence-management", [i.default]).config(["$stateProvider", "$urlRouterProvider", "absenceManagementStatesConstants", function(e, t, n) {
        "ngInject";
        t.otherwise("/"), e.state("absence-management", {
            url: "/absence-management",
            component: "absenceManagement",
            abstract: !0,
            data: {
                pageClass: "p-absence-management",
                headerGradientColors: {
                    from: "#eca54a",
                    to: "#eca54a"
                },
                pageTitle: "Absence Management",
                authorize: ["employee"]
            }
        }).state(n.ABSENCES, {
            url: "/absences",
            views: {
                content: {
                    template: s.default
                },
                footer: {
                    template: o.default,
                    controller: ["absenceService", "modalDefaultService", "notificationService", "dateService", function(e, t, n, i) {
                        var a = this,
                            s = !0;
                        this._absenceService = e, this._dateService = i, this.isLoading = !1, this.onDateChange = function(t) {
                            var n = t.newValue;
                            s || e.getAbsenceManagement({
                                date: n.format(a._dateService.getDateFormat("apiDate"))
                            }).then(function(t) {
                                e.absences = t
                            }), s = !1
                        }, this.multipleSelects = {
                            settings: {
                                smartButtonMaxItems: 5,
                                scrollableHeight: "255px",
                                scrollable: !0,
                                enableSearch: !0,
                                displayProp: "name",
                                checkBoxes: !0,
                                showCheckAll: !0,
                                buttonClasses: "btn btn-default absence-management__btn"
                            },
                            translation: {
                                buttonDefaultText: "Year Group"
                            },
                            events: {
                                onClose: function() {
                                    a.refresh()
                                }
                            }
                        }, this.refresh = function() {
                            a.isLoading = !0, e.getAbsenceManagement({
                                date: e.selectedDate
                            }).then(function(t) {
                                e.absences = t, n.showSuccessNotification("Success")
                            }).finally(function() {
                                return a.isLoading = !1
                            })
                        };
                        var r = function() {
                                return t.pop()
                            },
                            o = function(i, a) {
                                var s = {
                                    confirm: function() {
                                        return function(t) {
                                            var i = {
                                                transport: t,
                                                preview: !1,
                                                date: e.selectedDate,
                                                learner_ids: e.absences.map(function(e) {
                                                    return e.learner_id
                                                })
                                            };
                                            e.sendAbsenceManagementContact(i).then(function(e) {
                                                n.showSuccessNotification("Success"), r()
                                            })
                                        }(a)
                                    },
                                    cancel: r,
                                    message: i
                                };
                                t.showModalWithTemplates("modal-confirm", s, "")
                            };
                        this.showSummary = function(t) {
                            var n = {
                                transport: t,
                                preview: !0,
                                date: e.selectedDate,
                                learner_ids: e.absences.map(function(e) {
                                    return e.learner_id
                                })
                            };
                            a.isLoading = !0, e.sendAbsenceManagementContact(n).then(function(e) {
                                var n = e.messages.filter(function(e) {
                                        return e.problems.length
                                    }).length,
                                    i = e.messages.length - n;
                                o("Send " + i + " messages (" + n + " can't be contacted)", t)
                            }).finally(function() {
                                a.isLoading = !1
                            })
                        }
                    }],
                    controllerAs: "vm"
                }
            },
            data: {
                parentState: "home",
                authorize: ["employee"]
            },
            resolve: {
                absenceManagementPrepService: ["$stateParams", "absenceService", "menuService", "dateService", function(e, t, n, i) {
                    return t.selectedDate = moment().format(i.getDateFormat("apiDate")), t.getAbsenceManagement({
                        date: t.selectedDate
                    }).then(function(e) {
                        t.absences = e
                    }).catch(function() {
                        return n.goHome()
                    })
                }]
            }
        }).state(n.REGISTERS, {
            url: "/registers",
            views: {
                content: {
                    template: r.default,
                    controller: ["absenceManagementPrepService", function(e) {
                        this._absenceManagementPrepService = e
                    }],
                    controllerAs: "vm"
                },
                footer: {
                    template: l.default,
                    controller: ["absenceManagementPrepService", "absenceService", "notificationService", function(e, t, n) {
                        var i = this;
                        this.isLoading = !1, this.refresh = function() {
                            i.isLoading = !0, t.getAbsenceRegisterMissing().then(function(t) {
                                n.showSuccessNotification("Success"), e.registers = t.missing_registers
                            }).finally(function() {
                                i.isLoading = !1
                            })
                        }
                    }],
                    controllerAs: "vm"
                }
            },
            data: {
                parentState: "home",
                authorize: ["employee"]
            },
            resolve: {
                absenceManagementPrepService: ["absenceService", "menuService", function(e, t) {
                    return e.getAbsenceRegisterMissing().then(function(e) {
                        return {
                            registers: e.missing_registers
                        }
                    }).catch(function() {
                        return t.goHome()
                    })
                }]
            }
        })
    }]).component("absenceManagement", a.default).name;
    exports.default = d
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(966)),
        i = a(t(967));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="container" ng-class="{\'_animation-out\': $ctrl._routeClassService.isMenuIn}">\n  <div class="absence-management">\n    <div class="absence-management__inner noSwipe">\n      <div class="absence-management__header">\n        <b-tabs-nav class="absence-management__menu"\n                      menu="$ctrl.menu"\n                      ng-if="$ctrl._windowWidthService.windowWidth > $ctrl._deviceMarginConstants.MOBILE_MARGIN">\n        </b-tabs-nav>\n\n        <button type="button" class="absence-management__close" ng-click="$ctrl.goHome()">\n          <svg-use name="cross"></svg-use>\n        </button>\n      </div>\n      <ui-view name="content" class="absence-management__content"></ui-view>\n      <ui-view name="footer" class="absence-management__footer"></ui-view>\n    </div>\n  </div>\n</div>\n\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r, o) {
            "ngInject";
            (0, n.default)(this, e), this._absenceService = i, this._routeClassService = a, this._windowWidthService = s, this._deviceMarginConstants = r, this._menuService = o, this.menu = [{
                name: "Absences",
                state: t.ABSENCES
            }, {
                name: "Registers",
                state: t.REGISTERS
            }]
        }
        return e.$inject = ["absenceManagementStatesConstants", "absenceService", "routeClassService", "windowWidthService", "deviceMarginConstants", "menuService"], (0, i.default)(e, [{
            key: "$onDestroy",
            value: function() {
                this._absenceService.selectedDate = null, this._absenceService.absences = null
            }
        }, {
            key: "goHome",
            value: function() {
                this._menuService.goHome()
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {
    e.exports = "<t-absence-management></t-absence-management>\n"
}, function(e, exports) {
    e.exports = '<t-registers-missing registers="vm._absenceManagementPrepService.registers"></t-registers-missing>\n'
}, function(e, exports) {
    e.exports = '<div class="absence-management__footer-inner">\n  <button type="button" class="btn absence-management__btn btn-default _small"\n          ng-disabled="vm.isLoading"\n          ng-click="vm.refresh()"\n  >Refresh</button>\n\n  <button type="button" class="btn absence-management__btn btn-default _small"\n          ng-disabled="vm.isLoading"\n          ng-click="vm.showSummary(\'sms\')"\n  >SMS All</button>\n\n  <button type="button" class="btn absence-management__btn btn-default _small"\n          ng-disabled="vm.isLoading"\n          ng-click="vm.showSummary(\'email\')"\n  >Email All</button>\n\n  <b-date-time-select name="date"\n    format="{{::vm._dateService.getDateFormat(\'apiDate\')}}"\n    visible-date-format="{{::vm._dateService.getDateFormat(\'momentDate\')}}"\n    date="vm._absenceService.selectedDate"\n    on-change="vm.onDateChange({ newValue })"></b-date-time-select>\n\n  <div ng-dropdown-multiselect class="absence-management__select select-default"\n    theme="selectize"\n    ng-disabled="vm.isLoading"\n    options="vm._absenceService.yearGroups"\n    selected-model="vm._absenceService.selectedYear"\n    events="vm.multipleSelects.events"\n    translation-texts="vm.multipleSelects.translation"\n    extra-settings="vm.multipleSelects.settings">\n\n  </div>\n</div>\n'
}, function(e, exports) {
    e.exports = '<div class="absence-management__footer-inner">\n  <button type="button" class="btn absence-management__btn btn-default _small"\n          ng-disabled="vm.isLoading"\n          ng-click="vm.refresh()"\n  >Refresh</button>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(0)),
        i = s(t(9)),
        a = s(t(973));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = n.default.module("account", [i.default]).config(["$stateProvider", "$urlRouterProvider", function(e, t) {
        "ngInject";
        t.otherwise("/"), e.state("account", {
            url: "/account",
            component: "account",
            data: {
                pageClass: "p-account",
                headerGradientColors: {
                    from: "#873EEA",
                    to: "#8E54E9"
                },
                pageTitle: "My account",
                authorize: ["learner", "parent", "employee"],
                parentState: "home"
            },
            resolve: {
                personalPrepService: ["personalDataService", "userService", "menuService", "requestService", function(e, t, n, i) {
                    var a = t.user.idFromLastAction,
                        s = {};
                    return s[t.user.roleFromLastAction + "_id"] = a, i.isDemoMode && ((t.checkRole("parent") || t.checkRole("employee")) && (s.currentGender = t.user.activeChild && t.user.activeChild.gender || t.user.activeStudent && t.user.activeStudent.gender || t.user._local.user.gender), t.checkRole("parent") ? s.currentType = "learner" : t.checkRole("employee") ? s.currentType = t.user.data.types[0] : (s.currentGender = "Male", s.currentType = "learner")), e.personal = e.personal || {}, e.getPersonalDataFromDb(s).catch(function() {
                        return n.goHome()
                    })
                }]
            }
        })
    }]).component("account", a.default).name;
    exports.default = r
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(974)),
        i = a(t(975));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="container" ng-class="{\'_animation-out\': $ctrl._routeClassService.isMenuIn }">\n  <b-student-info\n    data="$ctrl.personal"\n    class="noSwipe"></b-student-info>\n</div>\n\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r) {
            "ngInject";
            (0, n.default)(this, e), this._routeClassService = i, this._userService = a, this._personalDataService = s, this._requestService = r, this.initValues();
            var o = t.$on("userChangeLearner", this.setDataToNewUser.bind(this));
            t.$on("$destroy", o)
        }
        return e.$inject = ["$scope", "routeClassService", "userService", "personalDataService", "requestService"], (0, i.default)(e, [{
            key: "initValues",
            value: function(e) {
                this.data && !e || (this.data = {
                    personal: null
                }), this.setDataToNewUser()
            }
        }, {
            key: "setDataToNewUser",
            value: function() {
                var e = this,
                    t = this._userService.user.idFromLastAction,
                    n = {};
                n[this._userService.user.roleFromLastAction + "_id"] = t, this._requestService.isDemoMode && ((this._userService.checkRole("parent") || this._userService.checkRole("employee")) && (n.currentGender = this._userService.user.activeChild && this._userService.user.activeChild.gender || this._userService.user.activeStudent && this._userService.user.activeStudent.gender || this._userService.user._local.user.gender), this._userService.checkRole("parent") ? n.currentType = "learner" : this._userService.checkRole("employee") ? n.currentType = this._userService.user.data.types[0] : (n.currentGender = "Male", n.currentType = "learner")), this._personalDataService.personal[t] ? this.personal = this._personalDataService.personal[t] : this._personalDataService.getPersonalDataFromDb(n).then(function(n) {
                    e.personal = n.personal, e._personalDataService.personal[t] = n.personal
                })
            }
        }, {
            key: "personal",
            get: function() {
                return this.data.personal
            },
            set: function(e) {
                this.data.personal = e
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = v(t(0)),
        i = v(t(9)),
        a = v(t(977)),
        s = v(t(980)),
        r = v(t(981)),
        o = v(t(982)),
        l = v(t(983)),
        c = v(t(984)),
        d = v(t(985)),
        u = v(t(986)),
        _ = v(t(987)),
        f = v(t(988));

    function v(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var m = n.default.module("analytics", [i.default]).config(["$stateProvider", "$urlRouterProvider", "analyticsConstants", function(e, t, n) {
        "ngInject";
        t.otherwise("/"), e.state("analytics", {
            url: "/analytics",
            abstract: !0,
            component: "analytics",
            data: {
                pageClass: "p-analytics",
                headerGradientColors: {
                    from: "#d63b84",
                    to: "#d63b84"
                },
                parentState: "home",
                pageTitle: "Analytics",
                authorize: ["employee"]
            }
        }).state("analytics." + n.HOMEWORK_OVERVIEW_ID, {
            url: "/" + n.HOMEWORK_OVERVIEW_ID,
            views: {
                header: {
                    template: s.default,
                    controller: ["menuService", function(e) {
                        this.goHome = function() {
                            return e.goHome()
                        }
                    }],
                    controllerAs: "vm"
                },
                filters: {
                    template: c.default,
                    controller: ["homeworkOverviewService", function(e) {
                        this._homeworkOverviewService = e, this.onChange = function(t) {
                            var n = {
                                from_date: t.fromDate,
                                until_date: t.untilDate
                            };
                            e.selectedYear && (n.year_id = e.selectedYear.id), e.selectedSubject && (n.subject_id = e.selectedSubject.id), e.selectedGroup && (n.teaching_group_id = e.selectedGroup.id), t.fromDate && (e.fromDate = t.fromDate), t.untilDate && (e.toDate = t.untilDate), e.getHomeworkOverview(n).then(function(t) {
                                e.analytics = e.getPreparedYearsHomeworkAnalytics(t.data)
                            })
                        }
                    }],
                    controllerAs: "vm"
                },
                content: {
                    template: r.default
                }
            },
            resolve: {
                prepService: ["homeworkOverviewService", "menuService", function(e, t) {
                    return e.getHomeworkOverview().then(function(t) {
                        e.fromDate = t.from, e.toDate = t.until, e.analytics = e.getPreparedYearsHomeworkAnalytics(t.data)
                    }).catch(function() {
                        return t.goHome()
                    })
                }]
            }
        }).state("analytics." + n.DOCUMENT_ACCESS_REPORT_ID, {
            url: "/" + n.DOCUMENT_ACCESS_REPORT_ID,
            views: {
                header: {
                    template: s.default,
                    controller: ["menuService", function(e) {
                        this.goHome = function() {
                            return e.goHome()
                        }
                    }],
                    controllerAs: "vm"
                },
                filters: {
                    template: l.default
                },
                content: {
                    template: o.default
                }
            },
            resolve: {
                studentsPrepService: ["studentsService", "menuService", function(e, t) {
                    return e.getStudents().catch(function() {
                        return t.goHome()
                    })
                }]
            }
        }).state("analytics." + n.CALLOUT_OVERVIEW_ID, {
            url: "/" + n.CALLOUT_OVERVIEW_ID,
            views: {
                header: {
                    template: s.default,
                    controller: ["menuService", function(e) {
                        this.goHome = function() {
                            return e.goHome()
                        }
                    }],
                    controllerAs: "vm"
                },
                filters: {
                    template: d.default,
                    controller: ["calloutOverviewService", function(e) {
                        this._calloutOverviewService = e, this.onChange = function(t) {
                            var n = {
                                from_date: t.fromDate,
                                until_date: t.untilDate
                            };
                            t.fromDate && (e.fromDate = t.fromDate), t.untilDate && (e.toDate = t.untilDate), e.getCalloutOverview(n).then(function(t) {
                                return e.analytics = e.getPreparedAnalytics(t), e.setCallersAndResponders(t)
                            })
                        }
                    }],
                    controllerAs: "vm"
                },
                content: {
                    template: f.default
                }
            },
            resolve: {
                prepService: ["calloutOverviewService", "menuService", function(e, t) {
                    return e.getCalloutOverview().then(function(t) {
                        return e.fromDate = t.from, e.toDate = t.until, e.analytics = e.getPreparedAnalytics(t), e.setCallersAndResponders(t)
                    }).catch(function() {
                        return t.goHome()
                    })
                }]
            }
        }).state("analytics." + n.CLUB_ATTENDANCE_OVERVIEW_ID, {
            url: "/" + n.CLUB_ATTENDANCE_OVERVIEW_ID,
            views: {
                header: {
                    template: s.default,
                    controller: ["attachmentsService", "clubAttendanceOverviewService", "menuService", "studentsService", function(e, t, n, i) {
                        var a = this;
                        this._studentsService = i, this._clubAttendanceOverviewService = t, this.goHome = function() {
                            return n.goHome()
                        }, this.isShowExportBtn = !0, this.export = function() {
                            var n = {
                                learner_ids: i.selectedStudents.map(function(e) {
                                    return e.id
                                }),
                                date_from: t.fromDate,
                                date_until: t.toDate
                            };
                            a.isLoading = !0, t.exportAttendanceOverviewReport(n).then(function(t) {
                                return e.downloadDocument(t)
                            }).finally(function() {
                                a.isLoading = !1
                            })
                        }
                    }],
                    controllerAs: "vm"
                },
                filters: {
                    template: _.default
                },
                content: {
                    template: u.default
                }
            },
            resolve: {
                studentsPrepService: ["studentsService", "menuService", function(e, t) {
                    return e.students && e.students.length ? e.students : e.getStudents().catch(function() {
                        return t.goHome()
                    })
                }],
                clubAttendanceOverviewServicePrep: ["clubAttendanceOverviewService", function(e) {
                    e.initValues(), e.initDates()
                }]
            }
        })
    }]).component("analytics", a.default).name;
    exports.default = m
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(978)),
        i = a(t(979));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="container" ng-class="{\'_animation-out\': $ctrl._routeClassService.isMenuIn}">\n  <div class="analytics">\n    <div class="analytics__inner noSwipe">\n      <ui-view name="header" class="analytics__header"></ui-view>\n      <div class="analytics__content">\n        <b-analytics></b-analytics>\n      </div>\n    </div>\n  </div>\n</div>\n\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s) {
            "ngInject";
            (0, n.default)(this, e), this._analyticsService = i, this._routeClassService = a, this._menuService = s, this._$state = t
        }
        return e.$inject = ["$state", "analyticsService", "routeClassService", "menuService"], (0, i.default)(e, [{
            key: "$onInit",
            value: function() {
                this._analyticsService.generateMenu(), this._analyticsService.reportId = this._$state.current.url.replace("/", "")
            }
        }, {
            key: "$onDestroy",
            value: function() {
                this._analyticsService.resetValues()
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="analytics__header-inner">\n  <div class="analytics__header-actions">\n    <a class="analytics__header-btn btn btn-default _tangerine _small _fill"\n      type="button"\n      ng-if="vm.isShowExportBtn"\n      ng-disabled="!vm._studentsService.selectedStudents.length || vm.isLoading || !vm._clubAttendanceOverviewService.analytics"\n      ng-click="vm.export()">\n      Export\n    </a>\n  </div>\n  <a class="analytics__close" ng-click="vm.goHome()">\n    <svg-use name="cross"></svg-use>\n  </a>\n</div>\n'
}, function(e, exports) {
    e.exports = "<b-homework-analytics></b-homework-analytics>\n"
}, function(e, exports) {
    e.exports = "<b-document-access></b-document-access>\n"
}, function(e, exports) {
    e.exports = "<b-document-access-filters></b-document-access-filters>\n"
}, function(e, exports) {
    e.exports = '<b-from-to-dates from-date="vm._homeworkOverviewService.fromDate"\n                 to-date="vm._homeworkOverviewService.toDate"\n                 on-change="vm.onChange({ fromDate, untilDate })"\n></b-from-to-dates>\n'
}, function(e, exports) {
    e.exports = '<b-from-to-dates from-date="vm._calloutOverviewService.fromDate"\n                 to-date="vm._calloutOverviewService.toDate"\n                 on-change="vm.onChange({ fromDate, untilDate })"\n></b-from-to-dates>\n'
}, function(e, exports) {
    e.exports = "<b-club-attendance-overview></b-club-attendance-overview>\n"
}, function(e, exports) {
    e.exports = "<b-club-attendance-overview-filters></b-club-attendance-overview-filters>\n"
}, function(e, exports) {
    e.exports = "<b-callout-overview></b-callout-overview>\n"
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(0)),
        i = s(t(9)),
        a = s(t(990));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = n.default.module("assessment", [i.default]).config(["$stateProvider", "$locationProvider", "$urlRouterProvider", function(e, t, n) {
        "ngInject";
        n.otherwise("/"), e.state("assessment", {
            url: "/assessment",
            component: "assessment",
            abstract: !0,
            data: {
                pageClass: "p-assessment",
                headerGradientColors: {
                    from: "#FF6C5D",
                    to: "#FF745D"
                },
                pageTitle: "My assessment",
                authorize: ["employee", "parent", "learner"]
            }
        }).state("assessment.list", {
            url: "/list?day",
            component: "assessment",
            data: {
                pageClass: "p-assessment",
                headerGradientColors: {
                    from: "#FF6C5D",
                    to: "#FF745D"
                },
                pageTitle: "My assessment",
                authorize: ["learner", "parent", "employee"]
            },
            resolve: {
                assessmentPrepService: ["$stateParams", "AssessmentService", "userService", "menuService", function(e, t, n, i) {
                    var a = t,
                        s = null;
                    return n.checkRole("parent") ? s = n.user.activeChild && n.user.activeChild.id : n.checkRole("learner") && (s = n.user.id), a.getAssessmentGridsFromDb({
                        learner_id: s
                    }).then(function(t) {
                        return a.activeSelect = e.year || "current", a.data.activeGrid = t, a.getCurrentTabs(e.tab), a.renderTab(null, a.currentTab), a.getSelectOption(t), t
                    }).catch(function() {
                        return i.goHome()
                    })
                }]
            }
        })
    }]).component("assessment", a.default).name;
    exports.default = r
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(991)),
        i = a(t(992));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="container" ng-class="{\'_animation-out\': $ctrl._routeClassService.isMenuIn }">\n  <b-tabs class="noSwipe"></b-tabs>\n</div>\n\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(1),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    var s = function e(t) {
        "ngInject";
        (0, a.default)(this, e), this._routeClassService = t
    };
    s.$inject = ["routeClassService"], exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(0)),
        i = s(t(9)),
        a = s(t(994));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = n.default.module("attendance", [i.default]).config(["$stateProvider", "$locationProvider", "$urlRouterProvider", function(e, t, n) {
        "ngInject";
        n.otherwise("/"), e.state("attendance", {
            url: "/attendance",
            component: "attendance",
            abstract: !0,
            data: {
                pageClass: "p-attendance",
                headerGradientColors: {
                    from: "#eca54a",
                    to: "#eca54a"
                },
                pageTitle: "My attendance",
                authorize: ["learner", "parent", "employee"]
            }
        }).state("attendance.list", {
            url: "/list?page",
            data: {
                authorize: ["employee", "parent", "learner"],
                parentState: "home"
            },
            resolve: {
                attendancePrepService: ["attendanceService", "userService", "menuService", function(e, t, n) {
                    var i = t.user.idFromLastAction;
                    return e.getAttendanceDataFromDB(i).catch(function() {
                        return n.goHome()
                    })
                }]
            }
        })
    }]).component("attendance", a.default).name;
    exports.default = r
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(995)),
        i = a(t(996));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(997);
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="container" ng-class="{\'_animation-out\': $ctrl._routeClassService.isMenuIn}">\n  <div class="attendance">\n    <div class="attendance__inner noSwipe">\n      <div class="attendance__header">\n        <div class="attendance__header-inner">\n          <b-navigation menu="$ctrl._attendanceService.menu"\n                        ng-if="$ctrl._windowWidthService.windowWidth > $ctrl._deviceMarginConstants.MOBILE_MARGIN"\n          ></b-navigation>\n          <sl-navigation menu="$ctrl._attendanceService.menu"\n                         ng-if="$ctrl._windowWidthService.windowWidth <= $ctrl._deviceMarginConstants.MOBILE_MARGIN"\n          ></sl-navigation>\n        </div>\n      </div>\n      <div class="attendance__body" ui-view="body">\n        <ul class="attendance__progress" ng-if="$ctrl._navigationService.currentTab === \'lesson-academic-year\'">\n          <li class="attendance__progress-item" ng-repeat="lesson in $ctrl._attendanceService.attendance.lesson track by $index">\n            <div class="attendance__progress-title">{{ ::lesson.subject }}</div>\n            <b-graph ng-init="data = $ctrl._graphsService.handleGraphData(lesson.values, 0)"\n                     data="data"\n            ></b-graph>\n          </li>\n        </ul>\n\n        <div class="attendance__statutory"\n             ng-init="$ctrl.setCurrentMonth()"\n             ng-if="$ctrl._navigationService.currentTab === \'statutory-month\'"\n        >\n          <div class="attendance__statutory-left">\n            <b-graph ng-init="$ctrl.currentMonthData = $ctrl._graphsService.handleGraphData($ctrl.currentMonth.values, 0)"\n                     data="$ctrl.currentMonthData"\n            >\n              <slot>\n                <div class="attendance__calendar">\n                  <svg-use class="attendance__calendar-icon" name="calendar-small"></svg-use>\n                  <div class="attendance__select-outer">\n                    <ui-select class="select-default attendance__select"\n                               ng-model="$ctrl.currentMonth"\n                               ng-change="$ctrl.currentMonthData = $ctrl._graphsService.handleGraphData($ctrl.currentMonth.values, 0)"\n                               theme="selectize"\n                               search-enabled="false"\n                    >\n                      <ui-select-match>\n                        {{ $ctrl.getFormattedDate($select.selected.month, \'MMM y\') }}\n                      </ui-select-match>\n                      <ui-select-choices\n                        repeat="statutory in $ctrl._attendanceService.attendance.statutoryMonth track by $index"\n                        position="up"\n                      >\n                        <span>{{ ::$ctrl.getFormattedDate(statutory.month, \'MMMM y\') }}</span>\n                      </ui-select-choices>\n                    </ui-select>\n\n                    <div class="f-default__select-mobile-wrap attendance__select-mobile-wrap">\n                      <select class="f-default__select-mobile attendance__select-mobile"\n                              ng-model="$ctrl.currentMonth"\n                              ng-change="$ctrl.currentMonthData = $ctrl._graphsService.handleGraphData($ctrl.currentMonth.values, 0)"\n                              ng-options="$ctrl.getFormattedDate(month.month, \'MMM y\') for month in $ctrl._attendanceService.attendance.statutoryMonth"\n                      ></select>\n                    </div>\n                  </div>\n                </div>\n              </slot>\n\n            </b-graph>\n          </div>\n          <div class="attendance__statutory-right">\n            <t-attendance data="$ctrl.currentMonth.exceptions"></t-attendance>\n          </div>\n        </div>\n\n        <div class="attendance__statutory" ng-if="$ctrl._navigationService.currentTab === \'statutory-academic-year\'">\n          <div class="attendance__statutory-left">\n            <b-graph ng-init="data = $ctrl._graphsService.handleGraphData($ctrl._attendanceService.attendance.statutoryYear.values, 0)"\n                     data="data"\n            ></b-graph>\n          </div>\n          <div class="attendance__statutory-right">\n            <t-attendance data="$ctrl._attendanceService.attendance.statutoryYear.exceptions"></t-attendance>\n          </div>\n        </div>\n\n        <div class="attendance__statutory" ng-if="$ctrl._navigationService.currentTab === \'attendance-today\'">\n          <b-attendance-today class="b-attendance-today__wrap" data="$ctrl._attendanceService.attendance.attendanceToday"></b-attendance-today>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r, o, l, c, d) {
            "ngInject";
            (0, n.default)(this, e), this._$filter = t, this._attendanceService = i, this._colorService = a, this._deviceMarginConstants = s, this._graphsService = r, this._sortDataService = o, this._navigationService = l, this._routeClassService = c, this._windowWidthService = d, this.currentMonth = null, this.currentMonthData = null, this._colorService.clear()
        }
        return e.$inject = ["$filter", "attendanceService", "colorService", "deviceMarginConstants", "graphsService", "sortDataService", "navigationService", "routeClassService", "windowWidthService"], (0, i.default)(e, [{
            key: "$onInit",
            value: function() {
                this._attendanceService.menu = this._attendanceService.generateMenu()
            }
        }, {
            key: "setCurrentMonth",
            value: function() {
                this._attendanceService.attendance.statutoryMonth.length && (this.currentMonth = this._attendanceService.attendance.statutoryMonth[0], this.currentMonth.exceptions = this._sortDataService.sortBy(this.currentMonth.exceptions, ["period", "date"], {
                    date: !0
                }, this._sortDataService.compareDates))
            }
        }, {
            key: "getFormattedDate",
            value: function(e, t) {
                return this._$filter("date")(new Date(e), t)
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = v(t(0)),
        i = v(t(9)),
        a = v(t(999)),
        s = v(t(1009)),
        r = v(t(1010)),
        o = v(t(1011)),
        l = v(t(1012)),
        c = v(t(1013)),
        d = v(t(1014)),
        u = v(t(1015)),
        _ = v(t(1016)),
        f = v(t(1017));

    function v(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var m = n.default.module("behaviour", [i.default]).config(["$stateProvider", "$urlRouterProvider", function(e, t) {
        "ngInject";
        t.otherwise("/"), e.state("behaviour", {
            url: "/behaviour",
            component: "behaviour",
            abstract: !0,
            data: {
                pageClass: "p-behaviour",
                headerGradientColors: {
                    from: "#865BA3",
                    to: "#A35B9D"
                },
                pageTitle: "Behaviour and Achievement",
                authorize: ["employee", "parent", "learner"]
            }
        }).state("behaviour.search", {
            url: "/search",
            views: {
                behaviourLeft: {
                    template: c.default,
                    controller: ["studentsService", function(e) {
                        this._studentsService = e
                    }],
                    controllerAs: "vm"
                },
                behaviourRight: {
                    template: f.default
                }
            },
            data: {
                authorize: ["employee", "parent", "learner"],
                parentState: "home",
                pageTitle: "Behaviour and Achievement"
            },
            resolve: {
                sessions: ["detentionsService", "detectDeviceService", "behaviourDataService", "menuService", "dateService", function(e, t, n, i, a) {
                    var s = moment().format(a.getDateFormat("apiDate"));
                    return e.fetchSessions({
                        from_date: s,
                        exclude_full: !0
                    }).then(function(i) {
                        e.sessions = i, t.desktop && n.addPreelemToArray(e.sessions, "sessionData", "Detention")
                    }).catch(function() {
                        return i.goHome()
                    })
                }],
                studentsPrepService: ["studentsService", "menuService", function(e, t) {
                    var n = e.students;
                    return n.length ? n : e.getStudents().then(function(t) {
                        e.students = t, e.filteredStudents = t
                    }).catch(function() {
                        return t.goHome()
                    })
                }],
                userDefinedGroupsPrepService: ["studentsService", "menuService", function(e, t) {
                    return !!e.userDefinedGroups.length || e.getUserDefinedGroups().then(function(t) {
                        e.userDefinedGroups = t.groups
                    }).catch(function() {
                        return t.goHome()
                    })
                }],
                studentGroups: ["groupsService", "menuService", function(e, t) {
                    return !!e.groups || e.getGroupsDataFromDb().catch(function() {
                        return t.goHome()
                    })
                }]
            }
        }).state("behaviour.select-behaviour", {
            url: "/select/behaviour",
            views: {
                behaviourLeft: {
                    template: d.default,
                    controller: ["studentsService", function(e) {
                        this._studentsService = e
                    }],
                    controllerAs: "vm"
                },
                behaviourRight: {
                    template: f.default,
                    controller: ["$state", "studentsService", function(e, t) {
                        t.students.students.length || e.go("behaviour.search"), t.selectedStudents = null, t.filteredStudents = t.students.students
                    }]
                }
            },
            data: {
                pageTitle: "Add bulk behaviour",
                authorize: ["employee", "parent", "learner"],
                parentState: "behaviour.search"
            }
        }).state("behaviour.select-achievement", {
            url: "/select/achievement",
            views: {
                behaviourLeft: {
                    template: d.default,
                    controller: ["studentsService", function(e) {
                        this._studentsService = e
                    }],
                    controllerAs: "vm"
                },
                behaviourRight: {
                    template: f.default,
                    controller: ["$state", "studentsService", function(e, t) {
                        t.students.students.length || e.go("behaviour.search"), t.selectedStudents = null, t.filteredStudents = t.students.students
                    }]
                }
            },
            data: {
                pageTitle: "Add bulk achievement",
                authorize: ["employee", "parent", "learner"],
                parentState: "behaviour.search"
            }
        }).state("behaviour.points-behaviour", {
            url: "/points/behaviour",
            views: {
                behaviourLeft: {
                    template: _.default,
                    controller: ["$state", "studentsService", function(e, t) {
                        t.selectedStudents.length || e.go("behaviour.search")
                    }]
                },
                behaviourRight: {
                    template: l.default,
                    controller: function() {
                        this.pageType = "behaviour"
                    },
                    controllerAs: "vm"
                }
            },
            resolve: {
                studentBehaviourInputsPrepService: ["behaviourDataService", "menuService", function(e, t) {
                    return e.behaviourAchievementLookups || e.getBehaviourAchievementLookupsFromDb().catch(function() {
                        return t.goHome()
                    })
                }],
                teachersPrepService: ["teachersService", "menuService", function(e, t) {
                    return e.getEmployeesWithFullNameFromDb().then(function(t) {
                        e.teachers = t
                    }).catch(function() {
                        return t.goHome()
                    })
                }]
            },
            data: {
                authorize: ["employee", "parent", "learner"],
                parentState: "behaviour.select-behaviour",
                pageTitle: "ADD BEHAVIOUR"
            }
        }).state("behaviour.points-achievement", {
            url: "/points/achievement",
            views: {
                behaviourLeft: {
                    template: _.default,
                    controller: ["$state", "studentsService", function(e, t) {
                        t.selectedStudents.length || e.go("behaviour.search")
                    }]
                },
                behaviourRight: {
                    template: l.default,
                    controller: function() {
                        this.pageType = "achievement"
                    },
                    controllerAs: "vm"
                }
            },
            resolve: {
                studentBehaviourInputsPrepService: ["behaviourDataService", "menuService", function(e, t) {
                    return e.behaviourAchievementLookups || e.getBehaviourAchievementLookupsFromDb().catch(function() {
                        return t.goHome()
                    })
                }],
                teachersPrepService: ["teachersService", "menuService", function(e, t) {
                    return e.getEmployeesWithFullNameFromDb().then(function(t) {
                        e.teachers = t
                    }).catch(function() {
                        return t.goHome()
                    })
                }]
            },
            data: {
                authorize: ["employee", "parent"],
                parentState: "behaviour.select-achievement",
                pageTitle: "ADD ACHIEVEMENT"
            }
        }).state("behaviour.summary-behaviour-points", {
            url: "/summary/points/behaviour",
            resolve: {
                behaviourService: ["$q", "behaviourDataService", "userService", "menuService", function(e, t, n, i) {
                    var a = n.user.idFromLastAction,
                        s = [t.getBehaviourDataFromDb(a)];
                    return t.behaviourAchievementLookups || s.push(t.getBehaviourAchievementLookupsFromDb()), e.all(s).then(function(e) {
                        var n = e[0].report_cards;
                        n && (t.behaviourData[a].report_cards = t.addTypesToReportCards(n))
                    }).catch(function() {
                        return i.goHome()
                    })
                }],
                marksPrepService: ["registersService", "menuService", function(e, t) {
                    return e.getRegisterCodes().catch(function() {
                        return t.goHome()
                    })
                }]
            },
            data: {
                authorize: ["employee", "parent", "learner"],
                parentState: "home",
                pageTitle: "Behaviour"
            }
        }).state("behaviour.summary-achievement-points", {
            url: "/summary/points/achievement",
            views: {
                behaviourLeft: {
                    template: o.default
                },
                behaviourRight: {
                    template: u.default
                }
            },
            resolve: {
                behaviourPointsPrepService: ["behaviourDataService", "menuService", "userService", function(e, t, n) {
                    var i = null;
                    return (n.checkRole("parent") || n.checkRole("learner")) && (i = n.user.idFromLastAction), e.data.achievementData[i] || e.getAchievementDataFromDb(i).catch(function() {
                        return t.goHome()
                    })
                }],
                behaviourAchievementLookups: ["behaviourDataService", "menuService", function(e, t) {
                    return e.behaviourAchievementLookups || e.getBehaviourAchievementLookupsFromDb().catch(function() {
                        return t.goHome()
                    })
                }]
            },
            data: {
                authorize: ["employee", "parent", "learner"],
                parentState: "home",
                pageTitle: "Achievements",
                headerGradientColors: {
                    from: "#509BD5",
                    to: "#50B4D5"
                }
            }
        }).state("behaviour.single-behaviour-points", {
            url: "/points/behaviour/single",
            views: {
                behaviourLeft: {
                    template: r.default
                },
                behaviourRight: {
                    template: s.default,
                    controller: ["$state", "behaviourDataService", function(e, t) {
                        t.currentTypeForNewPage || e.go("behaviour.summary-behaviour-points")
                    }]
                }
            },
            data: {
                authorize: ["employee", "parent", "learner"],
                parentState: "behaviour.summary-behaviour-points",
                pageTitle: "Behaviour"
            }
        }).state("behaviour.single-achievement-points", {
            url: "/points/achievement/single",
            views: {
                behaviourLeft: {
                    template: r.default
                },
                behaviourRight: {
                    template: s.default,
                    controller: ["$state", "behaviourDataService", function(e, t) {
                        t.currentTypeForNewPage || e.go("behaviour.summary-achievement-points")
                    }]
                }
            },
            data: {
                authorize: ["employee", "parent", "learner"],
                parentState: "behaviour.summary-achievement-points",
                pageTitle: "Achievement"
            }
        })
    }]).component("behaviour", a.default).name;
    exports.default = m
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1e3)),
        i = a(t(1001));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1008);
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="container" ng-class="{\'_animation-out\': $ctrl._routeClassService.isMenuIn}">\n  <pr-child-selector\n    ng-if="$ctrl._$state.current.name !== \'behaviour.single-behaviour-points\'\n      && $ctrl._$state.current.name !== \'behaviour.single-achievement-points\'">\n  </pr-child-selector>\n  <b-behaviour class="noSwipe"\n    data="$ctrl.behaviourAchievementData">\n  </b-behaviour>\n</div>\n\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = r(t(35)),
        i = r(t(11)),
        a = r(t(1)),
        s = r(t(2));

    function r(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var o = function() {
        function e(t, n, i, s, r, o, l, c, d, u) {
            "ngInject";
            (0, a.default)(this, e), this._$rootScope = t, this._$scope = n, this._$state = i, this._routeClassService = s, this._userService = r, this._windowWidthService = c, this._deviceMarginConstants = u, this._behaviourDataService = d, this._colorService = o, this.initValues(), this.setDataToNewUser(), this._colorService.clear();
            var _ = n.$on("userChangeLearner", this.setDataToNewUser.bind(this));
            n.$on("$destroy", function() {
                l.clearSelectedStudents(), _()
            })
        }
        return e.$inject = ["$rootScope", "$scope", "$state", "routeClassService", "userService", "colorService", "studentsService", "windowWidthService", "behaviourDataService", "deviceMarginConstants"], (0, s.default)(e, [{
            key: "$onInit",
            value: function() {
                var e = this,
                    t = this._$scope.$watch(function() {
                        return e._behaviourDataService.dateFilter
                    }, function(t) {
                        if (t) {
                            var n = e._userService.user.idFromLastAction,
                                a = void 0,
                                s = null;
                            if ("behaviour.summary-behaviour-points" === e._$state.current.name || "student.behaviour.summary-behaviour-points" === e._$state.current.name) {
                                var r = e._behaviourDataService.data.behaviourData[n];
                                angular.isDefined(r.behaviour) && (a = [].concat((0, i.default)(r.behaviour))), s = "behaviour"
                            } else if ("behaviour.summary-achievement-points" === e._$state.current.name || "student.behaviour.summary-achievement-points" === e._$state.current.name) {
                                var o = e._behaviourDataService.data.achievementData[n];
                                a = [].concat((0, i.default)(o.achievement || [])), s = "achievement"
                            }
                            a && (e.behaviourAchievementData[s] = a.filter(function(e) {
                                return t.dateTo ? new Date(t.dateSince) < new Date(e.date) && new Date(e.date) < new Date(t.dateTo) : new Date(t.dateSince) < new Date(e.date)
                            }))
                        }
                    }, !0);
                this._$scope.$on("$destroy", t)
            }
        }, {
            key: "initValues",
            value: function(e) {
                this.data && !e || (this.data = {
                    behaviourAchievementData: null
                })
            }
        }, {
            key: "setDataToNewUser",
            value: function() {
                var e = this,
                    t = this._userService.user.idFromLastAction;
                this.isBehaviour ? this._behaviourDataService.data.behaviourData[t] ? this.behaviourAchievementData = (0, n.default)({}, this._behaviourDataService.data.behaviourData[t]) : this._behaviourDataService.getBehaviourDataFromDb(t).then(function(i) {
                    e._behaviourDataService.data.behaviourData[t] = i, e.behaviourAchievementData = (0, n.default)({}, e._behaviourDataService.data.behaviourData[t])
                }) : this.isAchievement && (this._behaviourDataService.data.achievementData[t] ? this.behaviourAchievementData = (0, n.default)({}, this._behaviourDataService.data.achievementData[t]) : this._behaviourDataService.getAchievementDataFromDb(t).then(function(i) {
                    e._behaviourDataService.data.achievementData[t] = i, e.behaviourAchievementData = (0, n.default)({}, e._behaviourDataService.data.achievementData[t])
                })), this._$rootScope.$emit("user.userSelectChild")
            }
        }, {
            key: "behaviourAchievementData",
            set: function(e) {
                this.data.behaviourAchievementData = e
            },
            get: function() {
                return this.data.behaviourAchievementData
            }
        }, {
            key: "isBehaviour",
            get: function() {
                return this._$state.current.name.indexOf("summary-behaviour-points") >= 0 || this._$state.current.name.indexOf("single-behaviour-points") >= 0
            }
        }, {
            key: "isAchievement",
            get: function() {
                return this._$state.current.name.indexOf("summary-achievement-points") >= 0 || this._$state.current.name.indexOf("single-achievement-points") >= 0
            }
        }]), e
    }();
    exports.default = o
}, , , , , , , function(e, exports) {}, function(e, exports) {
    e.exports = "<b-student-summary-full></b-student-summary-full>\n"
}, function(e, exports) {
    e.exports = "<b-student-summary-title></b-student-summary-title>\n"
}, function(e, exports) {
    e.exports = "\x3c!--<f-student-summary></f-student-summary>--\x3e\n"
}, function(e, exports) {
    e.exports = '<f-student-points page-type="vm.pageType"></f-student-points>\n'
}, function(e, exports) {
    e.exports = '<f-student-search title="Select Learners"\n                  users-service="vm._studentsService"></f-student-search>\n'
}, function(e, exports) {
    e.exports = '<f-student-search back-link="behaviour.search"\n                  title="Select Learners"\n                  users-service="vm._studentsService"></f-student-search>\n'
}, function(e, exports) {
    e.exports = "<l-student-summary></l-student-summary>\n"
}, function(e, exports) {
    e.exports = "<l-student-points></l-student-points>\n"
}, function(e, exports) {
    e.exports = "<l-student-search></l-student-search>\n"
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(0)),
        i = s(t(9)),
        a = s(t(1019));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = n.default.module("calendar", [i.default]).config(["$stateProvider", "$urlRouterProvider", function(e, t) {
        "ngInject";
        t.otherwise("/"), e.state("calendar", {
            url: "/calendar",
            component: "calendar",
            data: {
                pageClass: "p-calendar",
                headerGradientColors: {
                    from: "#2abcc5",
                    to: "#4dbdaf"
                },
                pageTitle: "My Calendar",
                parentState: "home",
                authorize: ["employee", "parent", "learner"],
                destroyFastClick: !0
            }
        })
    }]).component("calendar", a.default).name;
    exports.default = r
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1020)),
        i = a(t(1021));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = {
        restrict: "E",
        bindings: {},
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="container" ng-class="{\'_animation-out\': $ctrl._routeClassService.isMenuIn }">\n  <b-student-info\n    class="noSwipe"\n    ng-if="$ctrl._windowWidthService.windowWidth < $ctrl._deviceMarginConstants.MOBILE_MARGIN"></b-student-info>\n\n  <b-schedule\n    events="$ctrl.events"\n    class="noSwipe"></b-schedule>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(11)),
        i = s(t(1)),
        a = s(t(2));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = function() {
        function e(t, n, a, s, r, o) {
            "ngInject";
            (0, i.default)(this, e), this._routeClassService = s, this._deviceMarginConstants = r, this._windowWidthService = o, this._calendarService = a, this._$scope = t, this.data = {
                instanceEvents: null,
                events: null
            }, this._subscriptions = [], this.setDataToNewUser(n, a)
        }
        return e.$inject = ["$scope", "userService", "calendarService", "routeClassService", "deviceMarginConstants", "windowWidthService"], (0, a.default)(e, [{
            key: "$onInit",
            value: function() {
                var e = this;
                this._subscriptions.push(this._$scope.$watch(function() {
                    return e._calendarService.currentEvents
                }, function(t) {
                    e.data.events && (e.data.events = [].concat((0, n.default)(t)))
                }))
            }
        }, {
            key: "$onDestroy",
            value: function() {
                this._subscriptions.forEach(function(e) {
                    return e()
                })
            }
        }, {
            key: "setDataToNewUser",
            value: function(e, t) {
                var n = this;
                this._subscriptions = [];
                var i = {},
                    a = e.user.idFromLastAction;
                i[e.user.roleFromLastAction + "_id"] = a, t.getEventsFromDB(i).then(function(e) {
                    n.data.events = e
                })
            }
        }, {
            key: "rootStateName",
            get: function() {
                return this._routeClassService.rootStateName
            }
        }, {
            key: "events",
            get: function() {
                return this.data.events
            },
            set: function(e) {
                this.data.events = e
            }
        }]), e
    }();
    exports.default = r
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(0)),
        i = s(t(9)),
        a = s(t(1023));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = n.default.module("catering", [i.default]).config(["$stateProvider", "$urlRouterProvider", function(e, t) {
        "ngInject";
        t.otherwise("/"), e.state("catering", {
            url: "/catering",
            component: "catering",
            abstract: !0,
            data: {
                pageClass: "p-catering",
                headerGradientColors: {
                    from: "#4889ec",
                    to: "#4ba8e7"
                },
                pageTitle: "My catering",
                authorize: ["employee", "parent", "learner"]
            }
        }).state("catering.info", {
            url: "/info",
            component: "catering",
            data: {
                pageClass: "p-catering",
                headerGradientColors: {
                    from: "#4889ec",
                    to: "#4ba8e7"
                },
                pageTitle: "Catering",
                authorize: ["parent", "learner", "employee"],
                parentState: "home"
            },
            resolve: {
                cateringPrepService: ["cateringService", "userService", "menuService", function(e, t, n) {
                    var i = null;
                    return t.user.activeChild && (i = t.user.activeChild.id), t.checkRole("learner") && (i = t.user.id), e.getCateringDataFromDb(i).then(function(t) {
                        e.catering = t
                    }).catch(function() {
                        return n.goHome()
                    })
                }]
            }
        })
    }]).component("catering", a.default).name;
    exports.default = r
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1024)),
        i = a(t(1025));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="container" ng-class="{\'_animation-out\': $ctrl._routeClassService.isMenuIn }">\n  <div class="catering">\n    <div class="catering__inner noSwipe">\n      <div class="catering__header">\n        <button type="button" class="catering__close" ng-click="$ctrl._menuService.goHome()">\n          <svg-use name="cross"></svg-use>\n        </button>\n      </div>\n      <div class="catering__body">\n        <t-catering data="$ctrl._cateringService.catering.transactions"></t-catering>\n      </div>\n      <div class="catering__total">\n        <div class="catering__total-title">\n          Balance<span>:</span>\n        </div>\n        <div class="catering__total-points">\n          &pound{{ $ctrl._cateringService.catering.balance | number: 2 }}\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(1),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    var s = function e(t, n, i) {
        "ngInject";
        (0, a.default)(this, e), this._cateringService = t, this._menuService = n, this._routeClassService = i
    };
    s.$inject = ["cateringService", "menuService", "routeClassService"], exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = _(t(194)),
        i = _(t(0)),
        a = _(t(9)),
        s = _(t(1032)),
        r = _(t(1035)),
        o = _(t(415)),
        l = _(t(1036)),
        c = _(t(1037)),
        d = _(t(1038)),
        u = _(t(1039));

    function _(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var f = i.default.module("clubs", [a.default]).config(["$stateProvider", "$urlRouterProvider", function(e, t) {
        "ngInject";
        t.otherwise("/"), e.state("clubs", {
            url: "/clubs",
            abstract: !0,
            component: "clubs"
        }).state("clubs.list", {
            url: "/list?page",
            views: {
                header: {
                    template: c.default,
                    controller: ["clubsService", "deviceMarginConstants", "userService", "windowWidthService", function(e, t, n, i) {
                        this._clubsService = e, this._deviceMarginConstants = t, this._userService = n, this._windowWidthService = i
                    }],
                    controllerAs: "vm"
                },
                content: {
                    template: o.default,
                    controller: ["clubsService", function(e) {
                        this._clubsService = e
                    }],
                    controllerAs: "vm"
                }
            },
            resolve: {
                clubsPrepService: ["$stateParams", "clubsService", "menuService", "userService", function(e, t, n, i) {
                    var a = {
                        member: !e.page || "my_clubs" === e.page,
                        learner_id: i.checkRole("parent") ? i.user.activeChild.id : i.user.id
                    };
                    return t.getClubs(a).catch(function() {
                        return n.goHome()
                    })
                }]
            },
            data: {
                pageClass: "p-clubs",
                headerGradientColors: {
                    from: "#4889ec",
                    to: "#4ba8e7"
                },
                parentState: "home",
                pageTitle: "Clubs",
                authorize: ["learner", "parent"]
            }
        }).state("clubs.employee", {
            url: "/employee?page",
            views: {
                header: {
                    template: c.default,
                    controller: ["clubsService", "deviceMarginConstants", "windowWidthService", "userService", function(e, t, n, i) {
                        this._clubsService = e, this._deviceMarginConstants = t, this._userService = i, this._windowWidthService = n
                    }],
                    controllerAs: "vm"
                },
                content: {
                    template: l.default,
                    controller: ["clubsService", function(e) {
                        this._clubsService = e
                    }],
                    controllerAs: "vm"
                }
            },
            resolve: {
                clubsPrepService: ["$stateParams", "clubsService", "menuService", function(e, t, n) {
                    var i = {
                        member: !e.page || "my_clubs" === e.page
                    };
                    return t.getClubs(i).catch(function() {
                        return n.goHome()
                    })
                }],
                studentsPrepService: ["studentsService", "menuService", function(e, t) {
                    return e.getStudents().catch(function() {
                        return t.goHome()
                    })
                }]
            },
            data: {
                pageClass: "p-clubs",
                headerGradientColors: {
                    from: "#4889ec",
                    to: "#4ba8e7"
                },
                parentState: "home",
                pageTitle: "Clubs",
                authorize: ["employee"]
            }
        }).state("clubs.create", {
            url: "/create",
            views: {
                header: {
                    template: d.default,
                    controller: function() {
                        this.link = "clubs.employee", this.title = "Bookable Learners"
                    },
                    controllerAs: "vm"
                },
                content: {
                    template: u.default,
                    controller: ["$scope", "studentsService", "teachersService", function(e, t, n) {
                        e.$on("$destroy", function() {
                            n.selectedTeachers = [], t.clearSelectedStudents()
                        })
                    }]
                }
            },
            resolve: {
                employeesPrepService: ["teachersService", "menuService", function(e, t) {
                    return e.employees && (e.filteredTeachers = e.employees), e.employees && e.employees.length < 0 || e.getEmployeesWithFullNameFromDb().then(function(t) {
                        return e.employees = t
                    }).catch(function() {
                        return t.goHome()
                    })
                }],
                studentsPrepService: ["userService", "studentsService", "menuService", function(e, t, n) {
                    return t.getStudents().catch(function() {
                        return n.goHome()
                    })
                }],
                userDefinedGroupsPrepService: ["studentsService", "menuService", function(e, t) {
                    return !!e.userDefinedGroups.length || e.getUserDefinedGroups().then(function(t) {
                        e.userDefinedGroups = t.groups
                    }).catch(function() {
                        return t.goHome()
                    })
                }]
            },
            data: {
                pageClass: "p-clubs",
                destroyFastClick: !0,
                headerGradientColors: {
                    from: "#4889ec",
                    to: "#4ba8e7"
                },
                parentState: "clubs.employee",
                pageTitle: "Bookable Learners",
                authorize: ["employee"]
            }
        }).state("clubs.update", {
            url: "/update/:id",
            views: {
                header: {
                    template: d.default,
                    controller: function() {
                        this.link = "clubs.employee", this.title = "Bookable Learners"
                    },
                    controllerAs: "vm"
                },
                content: {
                    template: u.default,
                    controller: ["$scope", "clubsService", "studentsService", "teachersService", function(e, t, n, i) {
                        e.$on("$destroy", function() {
                            i.selectedTeachers = [], n.clearSelectedStudents(), t.editableClub = null
                        })
                    }]
                }
            },
            resolve: {
                clubPrepService: ["$q", "$stateParams", "clubsService", "studentsService", "teachersService", "menuService", "dateService", function(e, t, n, i, a, s, r) {
                    var o = [i.getStudents()];
                    a.employees && a.employees.length ? a.filteredTeachers = a.employees : o.push(a.employees || a.getEmployeesWithFullNameFromDb().then(function(e) {
                        return a.employees = e
                    })), e.all(o).then(function() {
                        var e = t.id;
                        return n.getClub({
                            club_id: e
                        }).then(function(e) {
                            var t = e.club;
                            n.editableClub = {
                                club_id: t.id,
                                name: t.name,
                                capacity: t.capacity.maximum,
                                sessions: t.sessions.map(function(e) {
                                    return {
                                        start_time: moment(e.start_time).format(r.getDateFormat("apiDateTime")),
                                        end_time: moment(e.end_time).format(r.getDateFormat("apiDateTime")),
                                        id: e.id
                                    }
                                }),
                                leaders: t.leaders.map(function(e) {
                                    return e.id
                                }),
                                learners_available: t.learners_available.map(function(e) {
                                    return e.id
                                }),
                                learner_ids: t.learners.map(function(e) {
                                    return e.id
                                }),
                                location: t.location,
                                description: t.description
                            }, i.selectedStudents = i.students.students.filter(function(e) {
                                var t = e.id;
                                return n.editableClub.learners_available.includes(t)
                            }), a.selectedTeachers = a.employees.filter(function(e) {
                                var t = e.id;
                                return n.editableClub.leaders.includes(t)
                            })
                        })
                    }).catch(function() {
                        return s.goHome()
                    })
                }],
                employeesPrepService: ["teachersService", "menuService", function(e, t) {
                    return e.employees && (e.filteredTeachers = e.employees), e.employees || e.getEmployeesWithFullNameFromDb().then(function(t) {
                        return e.employees = t
                    }).catch(function() {
                        return t.goHome()
                    })
                }]
            },
            data: {
                pageClass: "p-clubs",
                destroyFastClick: !0,
                headerGradientColors: {
                    from: "#4889ec",
                    to: "#4ba8e7"
                },
                parentState: "clubs.employee",
                pageTitle: "Bookable Learners",
                authorize: ["employee"]
            }
        }).state("clubs.register", {
            url: "/club/:clubId/register/:sessionId",
            views: {
                header: {
                    template: d.default,
                    controller: function() {
                        this.link = "clubs.employee"
                    },
                    controllerAs: "vm"
                },
                content: {
                    template: r.default,
                    controller: ["$scope", "$state", "$stateParams", "teachersService", "clubRegisterPrepService", "clubsService", "notificationService", "behaviourDataService", function(e, t, n, i, a, s, r, o) {
                        this._clubRegisterPrepService = a, this.changeAttending = function(e) {
                            var t = e.learner;
                            return t.attended = !t.attended
                        }, this.update = function(e) {
                            var i = e.learners.map(function(e) {
                                return {
                                    id: e.id,
                                    attended: e.attended
                                }
                            });
                            return s.clubSessionAttendanceUpdate(n.sessionId, i).then(function() {
                                return r.showSuccessNotification("Success")
                            }).then(function() {
                                return t.transitionTo("clubs.employee", {
                                    page: ""
                                }, {
                                    notify: !1
                                })
                            })
                        }, e.$on("$destroy", function() {
                            i.teachers = [], o.resetBehaviourAchievementLookups()
                        })
                    }],
                    controllerAs: "vm"
                }
            },
            resolve: {
                clubRegisterPrepService: ["$q", "$stateParams", "clubsService", "studentsService", "menuService", function(e, t, i, a, s) {
                    var r = t.sessionId,
                        o = t.clubId;
                    return e.all([i.getClubSessionAttendance(r), i.getClub({
                        club_id: o
                    }), a.getStudents()]).then(function(e) {
                        var a = (0, n.default)(e, 2),
                            s = a[0],
                            r = s.attendance,
                            o = s.tags_autohide,
                            l = a[1].club,
                            c = {
                                attendance: r,
                                tags_autohide: o,
                                club: l,
                                session: l.sessions.find(function(e) {
                                    return e.id === Number(t.sessionId)
                                })
                            };
                        return i.handleLearners(l.learners, r).then(function(e) {
                            return l.learners = e, c
                        })
                    }).catch(function() {
                        return s.goHome()
                    })
                }],
                teachersPrepService: ["teachersService", "menuService", function(e, t) {
                    return e.teachers || e.getEmployeesWithFullNameFromDb().then(function(t) {
                        e.teachers = t
                    }).catch(function() {
                        return t.goHome()
                    })
                }],
                behaviourPrepService: ["teachersService", "menuService", "behaviourDataService", function(e, t, n) {
                    return n.getBehaviourAchievementLookupsFromDb().catch(function() {
                        return t.goHome()
                    })
                }],
                detentionSessions: ["detentionsService", "detectDeviceService", "behaviourDataService", "menuService", "dateService", function(e, t, n, a, s) {
                    if (e.sessions) return e.sessions;
                    var r = moment().format(s.getDateFormat("apiDate"));
                    return e.fetchSessions({
                        from_date: r,
                        exclude_full: !0
                    }).then(function(t) {
                        e.sessions = t
                    }).catch(i.default.noop)
                }]
            },
            data: {
                pageClass: "p-clubs",
                destroyFastClick: !0,
                headerGradientColors: {
                    from: "#4889ec",
                    to: "#4ba8e7"
                },
                parentState: "clubs.employee",
                pageTitle: "Clubs",
                authorize: ["employee"]
            }
        })
    }]).component("clubs", s.default).name;
    exports.default = f
}, , , , , , function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1033)),
        i = a(t(1034));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="container" ng-class="{\'_animation-out\': $ctrl._routeClassService.isMenuIn}">\n  <div class="clubs">\n    <div class="clubs__inner noSwipe">\n      <ui-view name="header" class="clubs__header"></ui-view>\n      <div class="clubs__body">\n        <ui-view name="content" class="clubs__content"></ui-view>\n      </div>\n      <div class="clubs__footer-mobile"></div>\n    </div>\n  </div>\n</div>\n\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s) {
            "ngInject";
            (0, n.default)(this, e), this._clubsService = t, this._studentsService = i, this._teachersService = a, this._routeClassService = s
        }
        return e.$inject = ["clubsService", "studentsService", "teachersService", "routeClassService"], (0, i.default)(e, [{
            key: "$onDestroy",
            value: function() {
                this._teachersService.employees = [], this._studentsService.clearLearners(), this._clubsService.initValues(!0)
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {
    e.exports = '<f-club-register club="vm._clubRegisterPrepService.club"\n                 session="vm._clubRegisterPrepService.session"\n                 tags-autohide="vm._clubRegisterPrepService.tags_autohide"\n                 on-submit="vm.update({ learners })"\n                 change-attending="vm.changeAttending({ learner })"\n></f-club-register>\n'
}, function(e, exports) {
    e.exports = '<t-clubs clubs="vm._clubsService.data.clubs"></t-clubs>\n'
}, function(e, exports) {
    e.exports = '<div class="clubs__header-inner">\n  <a ui-sref="clubs.create" class="clubs__btn-add btn btn-default _small _blue _fill"\n     ng-if="vm._userService.user.capabilities.club && vm._userService.user.capabilities.club.create"\n  >Create</a>\n  <b-navigation class="clubs__menu"\n                menu="vm._clubsService.menu"\n                ng-if="vm._windowWidthService.windowWidth > vm._deviceMarginConstants.MOBILE_MARGIN"\n  ></b-navigation>\n  <sl-navigation class="clubs__menu"\n                 menu="vm._clubsService.menu"\n                 ng-if="vm._windowWidthService.windowWidth <= vm._deviceMarginConstants.MOBILE_MARGIN"\n  ></sl-navigation>\n</div>\n'
}, function(e, exports) {
    e.exports = '<div class="clubs__header-inner">\n  <div class="clubs__header-title" ng-if="vm.title">{{ vm.title }}</div>\n  <a class="clubs__close _right" ui-sref="{{vm.link}}">\n    <svg-use name="cross"></svg-use>\n  </a>\n</div>\n'
}, function(e, exports) {
    e.exports = "<b-select-learners-recipients></b-select-learners-recipients>\n"
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = d(t(11)),
        i = d(t(0)),
        a = d(t(9)),
        s = d(t(1041)),
        r = d(t(1044)),
        o = d(t(1045)),
        l = d(t(1046)),
        c = d(t(1047));

    function d(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var u = i.default.module("communicator", [a.default]).config(["$stateProvider", "$urlRouterProvider", function(e, t) {
        "ngInject";
        t.otherwise("/"), e.state("communicator", {
            url: "/communicator",
            component: "communicator",
            abstract: !0,
            data: {
                pageClass: "p-communicator",
                headerGradientColors: {
                    from: "#e95555",
                    to: "#e95555"
                },
                pageTitle: "Communicator",
                authorize: ["employee", "parent", "learner"],
                parentState: "home"
            }
        }).state("communicator.mailbox", {
            url: "/mailbox",
            views: {
                header: {
                    template: l.default,
                    controller: ["$timeout", "deviceMarginConstants", "delayConstantsService", "communicatorDataService", "menuService", "routeClassService", "windowWidthService", function(e, t, n, i, a, s, r) {
                        this._communicatorDataService = i, this.isDisabled = i.cantCreateNewMessage(), this.isMobile = function() {
                            return r.windowWidth <= t.MOBILE_MARGIN
                        }, this.showModal = function() {
                            return i.handleNewMessageButton()
                        }, this.goHome = function() {
                            s.isMenuIn = !0, e(function() {
                                return a.goHome()
                            }, n.WAIT_END_OF_STATE_ANIMATION_OUT)
                        }
                    }],
                    controllerAs: "vm"
                },
                content: {
                    template: r.default
                }
            },
            data: {
                authorize: ["employee", "parent", "learner"],
                parentState: "home"
            },
            resolve: {
                messagesPrepService: ["$stateParams", "$state", "communicatorDataService", "userService", "menuService", function(e, t, n, i, a) {
                    return n.getInboxFromDb().catch(function() {
                        return a.goHome()
                    })
                }],
                studentsPrepService: ["userService", "studentsService", "menuService", function(e, t, n) {
                    if (t.cleaningBlocked = !0, !e.checkRole("learner")) {
                        if (!e.checkRole("parent") || e.checkRole("employee")) return t.clearStudents(), t.getStudents().then(function() {
                            return t.students.filteredStudents = t.students.students
                        }).then(function() {
                            return t.addCommunityAndFormGroupsInfo(t.students.students, e.user)
                        }).catch(function() {
                            return n.goHome()
                        });
                        t.students.filteredStudents = e.user.children
                    }
                }],
                admissionsPrepService: ["admissionsService", "userService", "menuService", function(e, t, n) {
                    if (t.checkRole("employee")) return e.clearStudents(), e.getStudents().catch(function() {
                        return n.goHome()
                    })
                }],
                leaversPrepService: ["leaversService", "userService", "menuService", function(e, t, n) {
                    if (t.checkRole("employee")) return e.clearStudents(), e.getStudents().catch(function() {
                        return n.goHome()
                    })
                }],
                employeesPrepService: ["teachersService", "menuService", "userService", function(e, t, n) {
                    n.checkRole("employee") && e.getEmployeesWithFullNameFromDb().then(function(t) {
                        e.employees = t
                    }).catch(function() {
                        return t.goHome()
                    })
                }],
                contactsPrepService: ["communicatorDataService", "contactsDataService", "menuService", "userService", function(e, t, i, a) {
                    if (a.user.capabilities["communicator.switchuser"]) {
                        return t.getRelatedParentsFromDb({
                            only_parents: !0
                        }).then(function(i) {
                            var a = t.prepareContactsForUserSelect(i.contacts);
                            e.users = [].concat((0, n.default)(a))
                        }).catch(function() {
                            return i.goHome()
                        })
                    }
                }],
                userDefinedGroupsPrepService: ["studentsService", "userService", "menuService", function(e, t, n) {
                    return !!t.checkRole("learner") || (!!e.userDefinedGroups.length || e.getUserDefinedGroups().then(function(t) {
                        e.userDefinedGroups = t.groups
                    }).catch(function() {
                        return n.goHome()
                    }))
                }],
                fontLoader: function() {
                    WebFont.load({
                        custom: {
                            families: ["Calibri"]
                        }
                    })
                }
            }
        }).state("communicator.send", {
            url: "/send",
            views: {
                header: {
                    template: c.default,
                    controller: ["$state", function(e) {
                        this.goToMailbox = function() {
                            e.transitionTo("communicator.mailbox")
                        }
                    }],
                    controllerAs: "vm"
                },
                content: {
                    template: o.default,
                    controller: ["$scope", "communicatorDataService", function(e, t) {
                        e.$on("$destroy", function() {
                            return t.variables = null
                        })
                    }]
                }
            },
            resolve: {
                redirectService: ["$state", "communicatorDataService", function(e, t) {
                    !t.isReply && !t.isRecipientsExist() && e.transitionTo("communicator.mailbox")
                }]
            },
            data: {
                authorize: ["employee", "parent", "learner"],
                parentState: "home",
                destroyFastClick: !0
            }
        })
    }]).component("communicator", s.default).name;
    exports.default = u
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1042)),
        i = a(t(1043));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="container" ng-class="{\'_animation-out\': $ctrl._routeClassService.isMenuIn,\n                                  \'_animation-in\': !$ctrl._communicatorDataService.isMobile()}">\n  <div class="communicator" class="noSwipe" ng-class="{ \'_not-email\': $ctrl.isNotEmail() }">\n    <div class="communicator__header" ui-view="header"\n         ng-if="!$ctrl._communicatorDataService.isMobile()"></div>\n    <div class="communicator__content" ui-view="content"></div>\n  </div>\n</div>\n\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = r(t(11)),
        i = r(t(10)),
        a = r(t(1)),
        s = r(t(2));

    function r(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var o = function() {
        function e(t, n, i, s, r, o, l) {
            "ngInject";
            var c = this;
            (0, a.default)(this, e), this._communicatorDataService = n, this._routeClassService = i, this._studentsService = r, this._modalDefaultService = s, this._userService = o, this._teachersService = l, this.savedStudent = null, this.activeChild = null, this.communicatorLocationChanged = !1, this.handleActiveStudent(), this.handleActiveChild();
            var d = t.$on("$locationChangeStart", function(e, t) {
                -1 === t.indexOf("communicator") && (c.communicatorLocationChanged = !0, c._userService.user.activeStudent = c.savedStudent, c._userService.user.activeChild = c.activeChild, d())
            })
        }
        return e.$inject = ["$scope", "communicatorDataService", "routeClassService", "modalDefaultService", "studentsService", "userService", "teachersService"], (0, s.default)(e, [{
            key: "$onDestroy",
            value: function() {
                this._communicatorDataService.resetValues(), this.communicatorLocationChanged || (this._userService.user.activeStudent = this.savedStudent, this._userService.user.activeChild = this.activeChild)
            }
        }, {
            key: "$onInit",
            value: function() {
                this._communicatorDataService.learnerIdsWithoutBooking.length && this.handleModalWithParentsWithoutBooking(), this._communicatorDataService.clubLearners.length && this.handleModalWithClubLearners(), this._userService.user.capabilities["communicator.switchuser"] && this.setUsersForUserSelect()
            }
        }, {
            key: "setUsersForUserSelect",
            value: function() {
                this._communicatorDataService.users = this.getAllUsers(), this._communicatorDataService.selectedUser = (0, i.default)({}, this._userService.user.data)
            }
        }, {
            key: "getAllUsers",
            value: function() {
                return [].concat((0, n.default)(this._communicatorDataService.users || []), (0, n.default)(this._teachersService.employees || []), (0, n.default)(this._studentsService.students.students || []))
            }
        }, {
            key: "handleModalWithParentsWithoutBooking",
            value: function() {
                var e = this;
                this._studentsService.getStudents(this._communicatorDataService.learnerIdsWithoutBooking).then(function(t) {
                    e._communicatorDataService.recipientsButtons.parents.isClicked = !0, e._communicatorDataService.filterRecipientsButtons(["learners", "teachers", "parents", "formTutors", "hoy", "hoh", "custom"]), e._studentsService.selectedStudents = t, e._communicatorDataService.showSelectRecipientsModal()
                })
            }
        }, {
            key: "handleModalWithClubLearners",
            value: function() {
                var e = this;
                this._studentsService.getStudents(this._communicatorDataService.clubLearners).then(function(t) {
                    e._communicatorDataService.recipientsButtons.learners.isClicked = !0, e._communicatorDataService.filterRecipientsButtons(["learners", "teachers", "parents", "formTutors", "hoy", "hoh", "custom"]), e._studentsService.selectedStudents = t, e._communicatorDataService.showSelectRecipientsModal()
                })
            }
        }, {
            key: "isNotEmail",
            value: function() {
                return "email" !== this._communicatorDataService.messageType && "communicator.send" === this._routeClassService.fullStateName
            }
        }, {
            key: "handleActiveStudent",
            value: function() {
                this._userService.user.activeStudent && (this.savedStudent = this._userService.user.activeStudent, this._userService.user.activeStudent = null)
            }
        }, {
            key: "handleActiveChild",
            value: function() {
                this._userService.user.activeChild && (this.activeChild = this._userService.user.activeChild, this._userService.user.activeChild = null)
            }
        }]), e
    }();
    exports.default = o
}, function(e, exports) {
    e.exports = "<b-mailbox></b-mailbox>\n"
}, function(e, exports) {
    e.exports = "<f-send></f-send>\n"
}, function(e, exports) {
    e.exports = '<button type="button" class="btn btn-default _green _small _fill communicator__new-message"\n        ng-if="!vm.isMobile()"\n        ng-click="vm.showModal()"\n        ng-disabled="vm.isDisabled || !vm._communicatorDataService.ownMailbox()"\n>New Message</button>\n<button type="button" class="communicator__close" ng-click="vm.goHome()">\n  <svg-use name="cross"></svg-use>\n</button>\n\n\n'
}, function(e, exports) {
    e.exports = '<button type="button" class="communicator__close" ng-click="vm.goToMailbox()">\n  <svg-use name="cross"></svg-use>\n</button>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = o(t(0)),
        i = o(t(9)),
        a = o(t(1049)),
        s = o(t(1053)),
        r = o(t(1054));

    function o(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var l = n.default.module("employeecallout", [i.default]).config(["$stateProvider", "$urlRouterProvider", function(e, t) {
        "ngInject";
        t.otherwise("/"), e.state("employeecallout", {
            url: "/employeecallout",
            component: "employeecallout",
            virtual: !0,
            data: {
                pageClass: "p-employeecallout",
                headerGradientColors: {
                    from: "#873EEA",
                    to: "#8E54E9"
                },
                pageTitle: "Callout",
                authorize: ["employee"],
                parentState: "home"
            },
            resolve: {}
        }).state("employeecallout.list", {
            url: "/list?page",
            views: {
                header: {
                    template: s.default,
                    controller: ["deviceMarginConstants", "userService", "windowWidthService", "modalDefaultService", "calloutService", "navigationService", function(e, t, n, i, a, s) {
                        this._deviceMarginConstants = e, this._userService = t, this._windowWidthService = n, this._modalDefaultService = i, this._calloutService = a, this._navigationService = s;
                        this.menu = this._calloutService.received ? [{
                            name: "Received callouts",
                            params: {
                                page: "received"
                            }
                        }, {
                            name: "Sent callouts",
                            params: {
                                page: "sent"
                            }
                        }] : null
                    }],
                    controllerAs: "vm"
                },
                content: {
                    template: r.default
                }
            },
            resolve: {
                employeesPrepService: ["teachersService", function(e) {
                    return e.getEmployeesFromDb({}).then(function(t) {
                        e.employees = t.employees
                    })
                }],
                calloutPrepService: ["calloutService", function(e) {
                    return e.getCalloutsFromDB().then(function(t) {
                        e.setCallouts(t)
                    })
                }]
            },
            data: {
                pageClass: "p-employeecallout",
                headerGradientColors: {
                    from: "#4889ec",
                    to: "#4ba8e7"
                },
                parentState: "home",
                pageTitle: "Callout",
                authorize: ["employee"]
            }
        })
    }]).component("employeecallout", a.default).name;
    exports.default = l
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1050)),
        i = a(t(1051));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1052);
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="container" ng-class="{\'_animation-out\': $ctrl._routeClassService.isMenuIn}">\n    <div class="callout">\n      <div class="callout__inner noSwipe">\n        <ui-view name="header" class="callout__header"></ui-view>\n        <div class="callout__body">\n            <ui-view name="content" class="callout__content"></ui-view>\n        </div>\n        <div class="callout__footer-mobile"></div>\n      </div>\n    </div>\n  </div>\n  '
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a) {
            "ngInject";
            (0, n.default)(this, e), this._routeClassService = t, this._modalDefaultService = i, this._navigationService = a
        }
        return e.$inject = ["routeClassService", "modalDefaultService", "navigationService"], (0, i.default)(e, [{
            key: "newCall",
            value: function() {
                this._modalDefaultService.showModalWithTemplates("modal-new-call", {
                    isSave: !0
                }, "New callout")
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports) {
    e.exports = '<div class="callout__header-inner">\n    <a type="button" class="btn btn-default _green _small _fill callout__btn-add" ng-if="vm._navigationService.currentTab === \'sent\' || !vm._navigationService.currentTab" ng-click="$ctrl.newCall()">New</a>\n    <b-navigation class="callout__menu"\n                  menu="vm.menu"\n                  ng-if="vm.menu && vm._windowWidthService.windowWidth > vm._deviceMarginConstants.MOBILE_MARGIN"\n    ></b-navigation>\n    <sl-navigation class="callout__menu"\n                   menu="vm.menu"\n                   ng-if="vm.menu && vm._windowWidthService.windowWidth <= vm._deviceMarginConstants.MOBILE_MARGIN"\n    ></sl-navigation>\n</div>\n'
}, function(e, exports) {
    e.exports = "<t-callout ng-if=\"$ctrl._navigationService.currentTab == 'sent' || !$ctrl._navigationService.currentTab\"></t-callout>\n<t-callout-received ng-if=\"$ctrl._navigationService.currentTab == 'received'\"></t-callout-received>"
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = o(t(0)),
        i = o(t(9)),
        a = o(t(1056)),
        s = o(t(1060)),
        r = o(t(1061));

    function o(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var l = n.default.module("childprotection", [i.default]).config(["$stateProvider", "$urlRouterProvider", function(e, t) {
        "ngInject";
        t.otherwise("/"), e.state("childprotection", {
            url: "/childprotection",
            component: "childprotection",
            virtual: !0,
            data: {
                pageClass: "p-childprotection",
                headerGradientColors: {
                    from: "#873EEA",
                    to: "#8E54E9"
                },
                pageTitle: "Child protection",
                authorize: ["employee"],
                parentState: "home"
            }
        }).state("childprotection.list", {
            url: "/list?page",
            views: {
                header: {
                    template: s.default,
                    controller: ["clubsService", "deviceMarginConstants", "userService", "windowWidthService", "modalDefaultService", function(e, t, n, i, a) {
                        this._clubsService = e, this._deviceMarginConstants = t, this._userService = n, this._windowWidthService = i, this._modalDefaultService = a;
                        this.menu = [{
                            name: "My referrals",
                            params: {
                                page: "referrals"
                            }
                        }], (this._userService.user.capabilities.child_protection.manager || this._userService.user.capabilities.child_protection.team) && this.menu.push({
                            name: "Manage",
                            params: {
                                page: "manage"
                            }
                        })
                    }],
                    controllerAs: "vm"
                },
                content: {
                    template: r.default,
                    controller: ["deviceMarginConstants", "windowWidthService", function(e, t) {
                        this._deviceMarginConstants = e, this._windowWidthService = t
                    }]
                },
                controllerAs: "vm"
            },
            data: {
                pageClass: "p-childprotection",
                headerGradientColors: {
                    from: "#4889ec",
                    to: "#4ba8e7"
                },
                parentState: "home",
                pageTitle: "Child protection",
                authorize: ["employee"]
            }
        })
    }]).component("childprotection", a.default).name;
    exports.default = l
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1057)),
        i = a(t(1058));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1059);
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="container" ng-class="{\'_animation-out\': $ctrl._routeClassService.isMenuIn}">\n    <div class="childprotection">\n      <div class="childprotection__inner noSwipe">\n        <ui-view name="header" class="childprotection__header"></ui-view>\n        <div class="childprotection__body">\n            <ui-view name="content" class="childprotection__content"></ui-view>\n        </div>\n        <div class="childprotection__footer-mobile"></div>\n      </div>\n    </div>\n  </div>\n  '
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r, o, l, c) {
            "ngInject";
            (0, n.default)(this, e), this._routeClassService = t, this._userService = i, this._personalDataService = a, this._requestService = s, this._modalDefaultService = r, this._studentsService = l, this._navigationService = o, this._childProtectionService = c
        }
        return e.$inject = ["routeClassService", "userService", "personalDataService", "requestService", "modalDefaultService", "navigationService", "studentsService", "childProtectionService"], (0, i.default)(e, [{
            key: "openNew",
            value: function() {
                var e = this,
                    t = {
                        isSave: !0,
                        onSelect: function() {
                            return e.openAddReferralModal()
                        }
                    };
                this._modalDefaultService.showModalWithTemplates("modal-select-learners", t, "Learner")
            }
        }, {
            key: "openAddReferralModal",
            value: function() {
                this._studentsService.selectedStudents.length > 1 && this._studentsService.selectedStudents.shift(), 1 === this._studentsService.selectedStudents.length && this._modalDefaultService.showModalWithTemplates("modal-add-referral", {
                    buttonText: "Add referral"
                }, "Add referral")
            }
        }, {
            key: "openStatuses",
            value: function() {
                this._modalDefaultService.showModalWithTemplates("modal-manage-statuses", {
                    isSave: !0
                }, "Statuses")
            }
        }, {
            key: "export",
            value: function() {
                var e = this;
                this._childProtectionService.downloadRefFile(this._childProtectionService.selectedStudents).then(function() {
                    return e._childProtectionService.callBacks.forEach(function(e) {
                        return e()
                    })
                })
            }
        }, {
            key: "selectedStudents",
            get: function() {
                return this._childProtectionService.selectedStudents
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports) {
    e.exports = '<div class="childprotection__header-inner">\n  <div class="childprotection__header-inner__left-side">\n    <a type="button"\n      class="btn btn-default _green _small _fill"\n      ng-if="$ctrl._navigationService.currentTab === \'referrals\'"\n      ng-click="$ctrl.openNew()">\n      New Referral\n    </a>\n\n    <a type="button" class="btn btn-default _tangerine _small _fill"\n      ng-if="$ctrl._navigationService.currentTab === \'manage\'"\n      ng-click="$ctrl.openStatuses()">\n      Manage statuses\n    </a>\n\n    <a type="button" class="btn btn-default _tangerine _small _fill"\n      ng-if="$ctrl._navigationService.currentTab === \'manage\'"\n      ng-disabled="!$ctrl.selectedStudents.length"\n      ng-click="$ctrl.export()">\n      Export\n    </a>\n  </div>\n\n  <b-navigation\n    class="childprotection__menu"\n    menu="vm.menu"\n    ng-if="vm._windowWidthService.windowWidth > vm._deviceMarginConstants.MOBILE_MARGIN"></b-navigation>\n\n  <sl-navigation\n    class="childprotection__menu"\n    menu="vm.menu"\n    ng-if="vm._windowWidthService.windowWidth <= vm._deviceMarginConstants.MOBILE_MARGIN"></sl-navigation>\n</div>\n'
}, function(e, exports) {
    e.exports = "<t-child-protection ng-if=\"$ctrl._navigationService.currentTab === 'referrals'\"></t-child-protection>\n<t-child-protection-manage ng-if=\"$ctrl._navigationService.currentTab === 'manage'\"></t-child-protection-manage>"
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(0)),
        i = s(t(9)),
        a = s(t(1063));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = n.default.module("contact", [i.default]).config(["$stateProvider", "$urlRouterProvider", function(e, t) {
        "ngInject";
        t.otherwise("/"), e.state("contact", {
            url: "/contact",
            component: "contact",
            data: {
                pageClass: "p-contact",
                headerGradientColors: {
                    from: "#D63B75",
                    to: "#D63B8F"
                },
                pageTitle: "My contact",
                authorize: ["parent", "employee", "learner"],
                parentState: "home"
            },
            resolve: {
                contactPrepService: ["contactsDataService", "userService", "menuService", "$q", function(e, t, n, i) {
                    var a = [t.user.idFromLastAction];
                    return e.contacts = e.contacts || {}, e.contacts[a] || e.getContactsDataFromDb({
                        learner_ids: a
                    }).catch(function(e) {
                        return n.goHome() && i.reject(e)
                    })
                }],
                personalPrepService: ["personalDataService", "userService", "menuService", "requestService", "$q", function(e, t, n, i, a) {
                    var s = null,
                        r = null,
                        o = null;
                    return t.checkRole("parent") || t.checkRole("learner") ? o = {
                        learner_id: s = t.user.idFromLastAction
                    } : t.checkRole("employee") && (o = {
                        employee_id: r = t.user.idFromLastAction
                    }), i.isDemoMode && ((t.checkRole("parent") || t.checkRole("employee")) && (o.currentGender = t.user.activeChild && t.user.activeChild.gender || t.user.activeStudent && t.user.activeStudent.gender || t.user._local.user.gender), t.checkRole("parent") ? o.currentType = "learner" : t.checkRole("employee") ? o.currentType = t.user.data.types[0] : (o.currentGender = "Male", o.currentType = "learner")), e.personal = e.personal || {}, e.personal[s || r] || e.getPersonalDataFromDb(o).catch(function(e) {
                        return n.goHome() && a.reject(e)
                    })
                }]
            }
        })
    }]).component("contact", a.default).name;
    exports.default = r
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1064)),
        i = a(t(1065));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="container" ng-class="{\'_animation-out\': $ctrl._routeClassService.isMenuIn }">\n  <b-student-info\n    data="$ctrl.contacts"\n    class="noSwipe"></b-student-info>\n</div>\n\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s) {
            "ngInject";
            (0, n.default)(this, e), this._routeClassService = i, this._userService = a, this._contactsDataService = s, this.data = {
                contacts: null
            }, this.setDataToNewUser();
            var r = t.$on("userChangeLearner", this.setDataToNewUser.bind(this));
            t.$on("$destroy", r)
        }
        return e.$inject = ["$scope", "routeClassService", "userService", "contactsDataService"], (0, i.default)(e, [{
            key: "setDataToNewUser",
            value: function() {
                var e = this,
                    t = [this._userService.user.idFromLastAction];
                this._contactsDataService.contacts[t] ? this.contacts = this._contactsDataService.contacts[t] : this._contactsDataService.getContactsDataFromDb({
                    learner_ids: t
                }).then(function(t) {
                    e.contacts = t.contacts
                })
            }
        }, {
            key: "contacts",
            set: function(e) {
                this.data.contacts = e
            },
            get: function() {
                return this.data.contacts
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = u(t(0)),
        i = u(t(9)),
        a = u(t(1067)),
        s = u(t(1070)),
        r = u(t(1071)),
        o = u(t(1072)),
        l = u(t(1073)),
        c = u(t(1074)),
        d = u(t(1075));

    function u(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var _ = n.default.module("data-collection", [i.default]).config(["$stateProvider", "$urlRouterProvider", function(e, t) {
        "ngInject";
        t.otherwise("/"), e.state("data-collection", {
            url: "/data-collection",
            component: "dataCollection",
            abstract: !0,
            data: {
                pageClass: "p-data-collection",
                headerGradientColors: {
                    from: "#eca54a",
                    to: "#eca54a"
                },
                pageTitle: "Data Collection",
                authorize: ["parent", "employee", "learner"]
            }
        }).state("data-collection.update", {
            url: "/update-information",
            views: {
                header: {
                    template: s.default,
                    controller: ["$state", "$timeout", "routeClassService", "menuService", "blockedTransitionService", function(e, t, n, i, a) {
                        this.goHome = function(e) {
                            t(function() {
                                e && e.preventDefault(), a.isTransitionBlocked ? a._showModal() : i.goHome()
                            })
                        }
                    }],
                    controllerAs: "vm"
                },
                content: {
                    template: l.default,
                    controller: ["dataCollectionService", "blockedTransitionService", "modalDefaultService", function(e, t, i) {
                        var a = this;
                        this.model = n.default.copy(e.dataCollectionValues.categories), this.users = e.getUsers(), this.activeUser = e.getActiveUser(this.users), this.isUserDataLoading = !1, this.save = function() {
                            e.saveCollectionChanges(a.model).finally(function() {
                                t.enableTransition(), a.model = n.default.copy(e.dataCollectionValues.categories)
                            })
                        };
                        var s = function() {
                                return i.pop()
                            },
                            r = function(e) {
                                var n = {
                                    message: "You have unsaved changes, do you want to change user?",
                                    cancel: function() {
                                        return s()
                                    },
                                    confirm: function() {
                                        return function(e) {
                                            t.enableTransition(), a.selectUser({
                                                user: e
                                            }), s()
                                        }(e)
                                    }
                                };
                                i.showModalWithTemplates("modal-confirm", n, "Changes Detected")
                            };
                        this.selectUser = function(i) {
                            var s = i.user;
                            if (!a.isUserDataLoading) {
                                if (!t.isTransitionBlocked) return a.isUserDataLoading = !0, e.selectUser(a.users, s).then(function(t) {
                                    a.model = n.default.copy(t.categories), a.activeUser = e.getActiveUser(a.users)
                                }).finally(function() {
                                    return a.isUserDataLoading = !1
                                });
                                r(s)
                            }
                        }
                    }],
                    controllerAs: "vm"
                }
            },
            data: {
                parentState: "home",
                authorize: ["parent", "employee", "learner"]
            },
            resolve: {
                dataCollectionValuesPrepService: ["dataCollectionService", "menuService", function(e, t) {
                    return e.getDataCollectionValuesFromDb().catch(function() {
                        return t.goHome()
                    })
                }],
                lookupsPrepService: ["dataCollectionService", "menuService", function(e, t) {
                    return e.getDataCollectionLookupsFromDb().catch(function() {
                        return t.goHome()
                    })
                }]
            }
        }).state("data-collection.manage", {
            url: "/manage?page&dateFrom&dateTo",
            views: {
                header: {
                    template: r.default,
                    controller: ["$state", "$stateParams", "data", "routeClassService", "dateService", "dataCollectionService", function(e, t, n, i, a, s) {
                        var r = this;
                        this.activeTab = null, this.dateRangeLimit = 60, this._dateService = a, this.tabs = [{
                            name: "Requests",
                            active: !(!n || !n.submissions),
                            value: "requests",
                            onClick: function(t) {
                                t.active || e.transitionTo(i.fullStateName, {
                                    page: t.value
                                }, {
                                    notify: !1
                                })
                            }
                        }, {
                            name: "Log",
                            value: "log",
                            active: !(!n || !n.log),
                            onClick: function(t) {
                                t.active || e.transitionTo(i.fullStateName, {
                                    page: t.value
                                }, {
                                    notify: !1
                                })
                            }
                        }], this.$onInit = function() {
                            var e = s.getDateParams(t);
                            r.activeTab = r.tabs.find(function(e) {
                                return e.active
                            }), r.dateFrom = e.dateFrom, r.dateTo = e.dateTo
                        }, this.onDateChange = function(t) {
                            var n = t.newValue,
                                a = {
                                    page: "log",
                                    dateFrom: n.from,
                                    dateTo: n.to
                                };
                            e.transitionTo(i.fullStateName, a, {
                                notify: !1
                            })
                        }, this.export = function() {
                            s.exportLog({
                                from_date: r.dateFrom,
                                until_date: r.dateTo
                            })
                        }
                    }],
                    controllerAs: "$ctrl"
                },
                content: {
                    template: c.default,
                    controller: ["data", function(e) {
                        this.data = e
                    }],
                    controllerAs: "vm"
                }
            },
            data: {
                parentState: "home",
                authorize: ["employee"]
            },
            resolve: {
                data: ["$stateParams", "dataCollectionService", "menuService", function(e, t, n) {
                    if ("log" === e.page) {
                        var i = t.getDateParams(e),
                            a = {
                                from_date: i.dateFrom,
                                until_date: i.dateTo
                            };
                        return t.dataCollectionLog(a).then(function(e) {
                            return {
                                log: e
                            }
                        }).catch(function() {
                            return n.goHome()
                        })
                    }
                    return t.getDataCollectionSubmissionsFromDb().then(function(e) {
                        return {
                            submissions: e
                        }
                    }).catch(function() {
                        return n.goHome()
                    })
                }],
                lookupsPrepService: ["dataCollectionService", "menuService", function(e, t) {
                    return e.getDataCollectionLookupsFromDb().catch(function() {
                        return t.goHome()
                    })
                }]
            }
        }).state("data-collection.submission", {
            url: "/submission?employee_id&contact_id&learner_id",
            views: {
                header: {
                    template: o.default,
                    controller: ["$timeout", "routeClassService", "menuService", function(e, t, n) {
                        this.goHome = function() {
                            n.goHome()
                        }
                    }],
                    controllerAs: "vm"
                },
                content: {
                    template: d.default,
                    controller: ["submissionPrepService", "dataCollectionService", function(e, t) {
                        var n = this,
                            i = e.param;
                        this.fields = e.fields, this.manageDataCollection = function(a) {
                            var s = a.field,
                                r = a.operation;
                            return t.manageDataCollection(i, s, r, e.next_method).then(function(e) {
                                n.fields = e ? e.fields : {}
                            })
                        }
                    }],
                    controllerAs: "vm"
                }
            },
            data: {
                parentState: "home",
                authorize: ["employee"]
            },
            resolve: {
                submissionPrepService: ["dataCollectionService", "notificationService", "$stateParams", "menuService", function(e, t, n, i) {
                    return e.getDataCollectionSubmissionFromDb(n.learner_id, n.employee_id, n.contact_id).catch(function() {
                        return i.goHome()
                    })
                }],
                lookupsPrepService: ["dataCollectionService", "menuService", function(e, t) {
                    return e.getDataCollectionLookupsFromDb().catch(function() {
                        return t.goHome()
                    })
                }]
            }
        })
    }]).component("dataCollection", a.default).name;
    exports.default = _
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1068)),
        i = a(t(1069));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="container" ng-class="{\'_animation-out\': $ctrl._routeClassService.isMenuIn}">\n  <div class="data-collection">\n    <div class="data-collection__inner noSwipe">\n      <ui-view name="header" class="data-collection__header"></ui-view>\n      <ui-view name="content" class="data-collection__content"></ui-view>\n    </div>\n  </div>\n</div>\n\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r) {
            "ngInject";
            (0, n.default)(this, e), this._routeClassService = s, this._dataCollectionService = r, this.unsubscribeRootScope = t.$on("blockedTransitionRequest", function() {
                i(function() {
                    a._showModal()
                })
            })
        }
        return e.$inject = ["$rootScope", "$timeout", "blockedTransitionService", "routeClassService", "dataCollectionService"], (0, i.default)(e, [{
            key: "$onDestroy",
            value: function() {
                this.unsubscribeRootScope(), this._dataCollectionService.lookups = null, this._dataCollectionService.dataCollectionValues = null
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {
    e.exports = '<button type="button" class="data-collection__close" ng-click="vm.goHome($event)">\n  <svg-use name="cross"></svg-use>\n</button>\n'
}, function(e, exports) {
    e.exports = '<div class="data-collection__actions"\n  ng-if="$ctrl.activeTab.value === \'log\'">\n  <b-date-range-select class="data-collection__filter"\n    date-from="::$ctrl.dateFrom"\n    date-to="::$ctrl.dateTo"\n    max-days-range="::$ctrl.dateRangeLimit"\n    on-change="$ctrl.onDateChange({ newValue })"></b-date-range-select>\n  <button class="data-collection__btn"\n    type="button"\n    ng-click="$ctrl.export()">\n    <span class="data-collection__btn-text">export</span>\n    <svg-use class="data-collection__btn-icon" name="download"></svg-use>\n  </button>\n</div>\n\n<div class="data-collection__tabs">\n  <div class="data-collection__tabs-item"\n    ng-class="{ _active: tab.active }"\n    ng-repeat="tab in $ctrl.tabs track by $index">\n    <button type="button" class="data-collection__tabs-btn" ng-click="tab.onClick(tab)">\n      {{ tab.name }}\n    </button>\n  </div>\n</div>\n\n\n'
}, function(e, exports) {
    e.exports = '<a class="data-collection__close" ui-sref="data-collection.manage">\n  <svg-use name="cross"></svg-use>\n</a>\n\n\n'
}, function(e, exports) {
    e.exports = '<b-collection-update users="vm.users"\n                     active-user="vm.activeUser"\n                     model="vm.model"\n                     is-loading="vm.isUserDataLoading"\n                     on-user-select="vm.selectUser({ user })"\n                     on-save="vm.save()"\n></b-collection-update>\n'
}, function(e, exports) {
    e.exports = '<t-submissions ng-if="vm.data.submissions"\n               submissions="vm.data.submissions"></t-submissions>\n\n<t-log ng-if="vm.data.log"\n       log="vm.data.log"></t-log>\n'
}, function(e, exports) {
    e.exports = '<t-manage-submission fields="vm.fields"\n                     on-button-click="vm.manageDataCollection({ field, operation })"></t-manage-submission>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = r(t(0)),
        i = r(t(9)),
        a = r(t(1077)),
        s = r(t(1080));

    function r(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var o = n.default.module("demo", [i.default]).config(["$stateProvider", "$urlRouterProvider", function(e, t) {
        "ngInject";
        t.otherwise("/"), e.state("demo", {
            url: "/demo",
            component: "demo",
            data: {
                pageClass: "p-demo",
                headerGradientColors: {
                    from: "#8282c6",
                    to: "#4996cd"
                },
                authorize: [],
                parentState: "login"
            }
        }).state("demo.employee", {
            url: "/employee",
            component: "demo",
            data: {
                pageClass: "p-demo",
                headerGradientColors: {
                    from: "#8282c6",
                    to: "#4996cd"
                },
                authorize: [],
                parentState: "demo"
            }
        }).state("demo.parent", {
            url: "/parent",
            component: "demo",
            data: {
                pageClass: "p-demo",
                headerGradientColors: {
                    from: "#8282c6",
                    to: "#4996cd"
                },
                authorize: [],
                parentState: "demo"
            }
        }).state("demo.learner", {
            url: "/learner",
            component: "demo",
            data: {
                pageClass: "p-demo",
                headerGradientColors: {
                    from: "#8282c6",
                    to: "#4996cd"
                },
                authorize: [],
                parentState: "demo"
            }
        })
    }]).service({
        demoService: s.default
    }).component("demo", a.default).name;
    exports.default = o
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1078)),
        i = a(t(1079));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="container">\n  <l-demo-select-role class="noSwipe" ng-if="$ctrl.config.secondPartOfCurrentState === \'demo\'"></l-demo-select-role>\n  <l-stors></l-stors>\n  <b-demo-info class="noSwipe" ng-if="$ctrl.config.secondPartOfCurrentState !== \'demo\'"></b-demo-info>\n</div>\n\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(1),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    var s = function e(t) {
        "ngInject";
        (0, a.default)(this, e), this.config = t.config
    };
    s.$inject = ["routeClassService"], exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(1),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    exports.default = function e() {
        "ngInject";
        (0, a.default)(this, e)
    }
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = d(t(35)),
        i = d(t(0)),
        a = d(t(9)),
        s = d(t(1082)),
        r = d(t(1085)),
        o = d(t(1086)),
        l = d(t(1087)),
        c = d(t(1088));

    function d(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var u = i.default.module("detentions", [a.default]).config(["$stateProvider", "$urlRouterProvider", function(e, t) {
        "ngInject";
        t.otherwise("/"), e.state("detention", {
            url: "/detentions",
            component: "detentions",
            abstract: !0,
            data: {
                pageClass: "p-detentions",
                headerGradientColors: {
                    from: "#FF6C5D",
                    to: "#FF745D"
                },
                pageTitle: "Detentions",
                authorize: ["employee"]
            },
            resolve: {
                studentsPrepService: ["studentsService", "menuService", "userService", function(e, t, n) {
                    return e.students.length ? e.students : e.getStudents().then(function(t) {
                        e.students = t, e.filteredStudents = t
                    }).then(function() {
                        return e.addCommunityAndFormGroupsInfo(e.students.students, n.user)
                    }).catch(function() {
                        return t.goHome()
                    })
                }],
                userDefinedGroupsPrepService: ["studentsService", "menuService", function(e, t) {
                    return !!e.userDefinedGroups.length || e.getUserDefinedGroups().then(function(t) {
                        e.userDefinedGroups = t.groups
                    }).catch(function() {
                        return t.goHome()
                    })
                }],
                studentGroups: ["groupsService", "menuService", function(e, t) {
                    return !!e.groups || e.getGroupsDataFromDb().catch(function() {
                        return t.goHome()
                    })
                }]
            }
        }).state("detention.sessions", {
            url: "/sessions",
            views: {
                header: {
                    template: l.default,
                    controller: ["$scope", "menuService", function(e, t) {
                        this.goHome = function() {
                            return t.goHome()
                        }
                    }],
                    controllerAs: "vm"
                },
                body: {
                    template: c.default
                }
            },
            data: {
                parentState: "home"
            },
            resolve: {
                sessionsPrepService: ["detentionsService", "menuService", "dateService", "teachersService", function(e, t, n, i) {
                    return e.fetchSessions({
                        from_date: moment().format(n.getDateFormat("apiDate"))
                    }).then(function() {
                        return i.getEmployeesFromDb({})
                    }).then(function(e) {
                        i.employees = e.employees
                    }).catch(function() {
                        return t.goHome()
                    })
                }]
            }
        }).state("detention.session", {
            url: "/session/:id",
            views: {
                header: {
                    template: r.default
                },
                body: {
                    template: o.default,
                    controller: ["$scope", "modalDefaultService", "userService", "notificationService", "detentionsService", "session", function(e, t, i, a, s, r) {
                        var o = this;
                        this.detention = r, this.showAddLeranerButton = !i.user.capabilities["behaviour_detentionmanagement.hide_learner_add"], this.learners = r.students;
                        var l = function() {
                            return e.$emit("hideModal")
                        };
                        this.openAddSessionModal = function() {
                            t.showModalWithTemplates("modal-select-learners", {
                                gradient: {
                                    from: "#4889ec",
                                    to: "#4ba8e7"
                                }
                            }, "Select Learners")
                        }, this.edit = function(e) {
                            var i = e.learner,
                                r = {
                                    model: {
                                        attended_code: i.attended,
                                        attend_next_session: !1,
                                        reason_for_non_attendance: i.reason_for_non_attendance,
                                        staff_comments: i.staff_comments
                                    },
                                    isEditForm: !0,
                                    onSubmit: function(e) {
                                        return function(e, i) {
                                            var r = s.createLearnerData(e);
                                            r.id = i.id;
                                            var o = s.createAddLearnersRequest(r, [r]);
                                            return s.updateLearner(o).then(function() {
                                                a.showSuccessNotification("Changes successfully submitted"), t.closeAllModals(), (0, n.default)(i, {
                                                    attended: e.attended_code
                                                }, e)
                                            })
                                        }(e, i)
                                    }
                                };
                            t.showModalWithTemplates("modal-learner-detention", r, "Edit learner")
                        }, this.update = function(e) {
                            var t = e.learner;
                            return s.updateAttendedForLearner(r, t).then(function() {
                                return a.showSuccessNotification("Changes successfully submitted")
                            })
                        }, this.remove = function(e) {
                            var n = e.learner,
                                i = {
                                    message: "Are you sure you want to remove <b>" + n.fullName + "</b> from detention?",
                                    confirm: function() {
                                        return function(e) {
                                            return s.removeLearner(r, e).then(function() {
                                                var t = o.learners.indexOf(e);
                                                t >= 0 && o.learners.splice(t, 1), l()
                                            }).then(function() {
                                                return a.showSuccessNotification("Learner has been deleted")
                                            }).catch(function(e) {
                                                return a.showErrorNotification(e.message, void 0, e)
                                            })
                                        }(n)
                                    },
                                    cancel: l
                                };
                            t.showModalWithTemplates("modal-confirm", i, "Confirmation window")
                        }
                    }],
                    controllerAs: "vm"
                }
            },
            data: {
                parentState: "detention.sessions"
            },
            resolve: {
                session: ["detentionsService", "$stateParams", "menuService", function(e, t, n) {
                    var i = parseInt(t.id, 10);
                    return e.fetchSession(i).catch(function() {
                        return n.goHome()
                    })
                }],
                sessionsPrepService: ["detentionsService", "menuService", "dateService", function(e, t, n) {
                    return e.fetchSessions({
                        from_date: moment().format(n.getDateFormat("apiDate"))
                    }).catch(function() {
                        return t.goHome()
                    })
                }],
                lookupsPrepService: ["detentionsService", "menuService", function(e, t) {
                    return e.getAchievementBehaviourLookups().then(function(t) {
                        e.behaviourTypes = e.getActiveItems(t.behaviour_types)
                    }).catch(function() {
                        return t.goHome()
                    })
                }]
            }
        })
    }]).component("detentions", s.default).name;
    exports.default = u
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1083)),
        i = a(t(1084));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="container" ng-class="{\'_animation-out\': $ctrl._routeClassService.isMenuIn}">\n  <div class="detentions">\n    <div class="detentions__inner noSwipe">\n      <div class="detentions__header" ui-view="header"></div>\n      <div class="detentions__body" ui-view="body"></div>\n    </div>\n  </div>\n  <div class="detentions__footer"></div>\n</div>\n\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a) {
            "ngInject";
            (0, n.default)(this, e), this._studentsService = t, this._detentionsService = i, this._routeClassService = a
        }
        return e.$inject = ["studentsService", "detentionsService", "routeClassService"], (0, i.default)(e, [{
            key: "$onDestroy",
            value: function() {
                this._studentsService.clearLearners(), this._detentionsService.resetValues()
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="detentions__header-inner">\n  <a ui-sref="detention.sessions" class="detentions__close _right">\n    <svg-use name="cross"></svg-use>\n  </a>\n</div>\n'
}, function(e, exports) {
    e.exports = '<div class="detentions__body-inner">\n  <div class="detentions__left _session">\n    <div class="detentions__preview">\n      <div class="detentions__preview-row">\n        <b>Date</b>: {{ vm.detention.date }}\n      </div>\n      <div class="detentions__preview-row">\n        <b>From</b>: {{ vm.detention.start_time }}\n      </div>\n      <div class="detentions__preview-row">\n        <b>To</b>: {{ vm.detention.end_time }}\n      </div>\n      <div class="detentions__preview-row">\n        <b>Location</b>: {{ vm.detention.location }}\n      </div>\n      <div class="detentions__preview-row">\n        <b>Description</b>: {{ vm.detention.description }}\n      </div>\n    </div>\n\n    <button type="button" class="btn btn-default detentions__preview-btn"\n            ng-click="vm.openAddSessionModal()"\n            ng-if="vm.showAddLeranerButton"\n    >\n      Add learner\n    </button>\n  </div>\n  <div class="detentions__right">\n    <t-detention-learners learners="vm.learners"\n                          update="vm.update({ learner })"\n                          remove="vm.remove({ learner })"\n                          edit="vm.edit({ learner })"\n    ></t-detention-learners>\n  </div>\n</div>\n'
}, function(e, exports) {
    e.exports = '<div class="detentions__header-inner">\n  <button type="button" class="detentions__close _right" ng-click="vm.goHome($event)">\n    <svg-use name="cross"></svg-use>\n  </button>\n</div>\n'
}, function(e, exports) {
    e.exports = '\n<div class="detentions__body-inner">\n  <div class="detentions__left">\n    <f-detentions-sessions></f-detentions-sessions>\n  </div>\n  <div class="detentions__right">\n    <t-detentions></t-detentions>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(0)),
        i = s(t(9)),
        a = s(t(1090));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = n.default.module("documents", [i.default]).config(["$stateProvider", "$urlRouterProvider", function(e, t) {
        "ngInject";
        t.otherwise("/"), e.state("documents", {
            url: "/documents",
            component: "documents",
            data: {
                pageClass: "p-documents",
                headerGradientColors: {
                    from: "#FF6C5D",
                    to: "#FF745D"
                },
                parentState: "home",
                pageTitle: "My Documents",
                authorize: ["learner", "parent", "employee"]
            },
            resolve: {
                documentsPrepService: ["documentsService", "menuService", "userService", function(e, t, n) {
                    var i = n.user.idFromLastAction;
                    return e.documents = e.documents || {}, e.documents[i] || e.getDocumentsDataFromDb(i).then(function(t) {
                        e.documents[i] = t.documents
                    }).catch(function() {
                        return t.goHome()
                    })
                }]
            }
        })
    }]).component("documents", a.default).name;
    exports.default = r
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1091)),
        i = a(t(1092));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="container" ng-class="{\'_animation-out\': $ctrl._routeClassService.isMenuIn }">\n  <b-student-info data="$ctrl.documents"\n                  class="noSwipe"></b-student-info>\n</div>\n\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s) {
            "ngInject";
            (0, n.default)(this, e), this._routeClassService = i, this._userService = a, this._documentsService = s, this.initValues(), this.setDataToNewUser();
            var r = t.$on("userChangeLearner", this.setDataToNewUser.bind(this));
            t.$on("$destroy", r)
        }
        return e.$inject = ["$scope", "routeClassService", "userService", "documentsService"], (0, i.default)(e, [{
            key: "initValues",
            value: function(e) {
                this.data && !e || (this.data = {
                    documents: null
                })
            }
        }, {
            key: "setDataToNewUser",
            value: function() {
                var e = this,
                    t = this._userService.user.idFromLastAction;
                this._documentsService.documents[t] ? this.documents = this._documentsService.documents[t] : this._documentsService.getDocumentsDataFromDb(t).then(function(n) {
                    return e.documents = n.documents, e._documentsService.documents[t] = n.documents, e._documentsService.documents[t]
                })
            }
        }, {
            key: "documents",
            set: function(e) {
                this.data.documents = e
            },
            get: function() {
                return this.data.documents
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = u(t(35)),
        i = u(t(0)),
        a = u(t(9)),
        s = u(t(1094)),
        r = u(t(1097)),
        o = u(t(1098)),
        l = u(t(1099)),
        c = u(t(1100)),
        d = u(t(1101));

    function u(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var _ = i.default.module("documents-message", [a.default]).config(["$stateProvider", "$urlRouterProvider", function(e, t) {
        "ngInject";
        t.otherwise("/"), e.state("documents-message", {
            url: "/documents-message",
            component: "documentsMessage",
            abstract: !0,
            data: {
                pageClass: "p-documents-message",
                headerGradientColors: {
                    from: "#50b4d5",
                    to: "#509bd5"
                },
                pageTitle: "Document Messaging",
                authorize: ["employee"]
            }
        }).state("documents-message.select", {
            url: "/search",
            views: {
                documentsMessageLeft: {
                    template: r.default,
                    controller: ["studentsService", function(e) {
                        this._studentsService = e
                    }],
                    controllerAs: "vm"
                },
                documentsMessageRight: {
                    template: l.default,
                    controller: ["$state", "studentsService", function(e, t) {
                        t.selectedStudents = null, t.filteredStudents = t.students.students
                    }]
                }
            },
            data: {
                parentState: "home"
            },
            resolve: {
                studentsPrepService: ["studentsService", "menuService", function(e, t) {
                    var n = e.students;
                    return n.length ? n : e.getStudents().then(function(t) {
                        e.students = t, e.filteredStudents = t
                    }).catch(function() {
                        return t.goHome()
                    })
                }],
                userDefinedGroupsPrepService: ["studentsService", "menuService", function(e, t) {
                    return !!e.userDefinedGroups.length || e.getUserDefinedGroups().then(function(t) {
                        e.userDefinedGroups = t.groups
                    }).catch(function() {
                        return t.goHome()
                    })
                }],
                studentGroups: ["groupsService", "menuService", function(e, t) {
                    return !!e.groups || e.getGroupsDataFromDb().catch(function() {
                        return t.goHome()
                    })
                }]
            }
        }).state("documents-message.types", {
            url: "/type",
            views: {
                documentsMessageLeft: {
                    template: o.default,
                    controllerAs: "vm",
                    controller: ["userService", "studentsService", "$state", "documentsMessageService", function(e, t, a, s) {
                        if (!t.selectedStudents.length) return a.go("documents-message.select");
                        var r = t.selectedStudents.map(function(e) {
                            return (0, n.default)({}, e)
                        }).map(function(e) {
                            return e.id
                        });
                        this.types = e.user.document && e.user.document.types, s._model = {}, this.update = function(e) {
                            var t = e.model,
                                n = t.summary,
                                a = void 0;
                            if (i.default.isString(t.type)) {
                                var o = i.default.fromJson(t.type);
                                a = o && o.code
                            } else a = t.type && t.type.code;
                            return s.model = t, s.fetchDocuments({
                                learner_ids: r,
                                summary: n,
                                document_type: a
                            }).then(function(e) {
                                return s.associateSearchResultsAndLearners(e.learners)
                            })
                        }
                    }]
                },
                documentsMessageRight: {
                    template: c.default
                },
                documentsMessageBottom: {
                    controller: ["$scope", "menuService", "notificationService", "documentsMessageService", "userService", "modalDefaultService", "learners", function(e, t, n, i, a, s, r) {
                        var o = this,
                            l = {
                                model: a.user.document && a.user.document.report,
                                submit: function(t) {
                                    a.user.document.report = t, e.$emit("hideModal")
                                }
                            };
                        this.canSend = !!r.find(function(e) {
                            return e.matches > 0
                        }), this.openEditModal = function() {
                            return s.showModalWithTemplates("modal-edit-message", l, "Edit message")
                        }, this.openPreviewModal = function() {
                            var e = i.formatLearnersToSend(),
                                t = null;
                            i.previewDocuments({
                                learners: e
                            }).then(function(e) {
                                return t = e.example_message, e
                            }).then(function(e) {
                                return i.associateParents(e.learners)
                            }).then(function() {
                                return i.formatLearnersToPreview()
                            }).then(function(e) {
                                var n = {
                                    users: e,
                                    report: t,
                                    submit: function(e) {
                                        var t = e.date;
                                        return o.submit(t)
                                    }
                                };
                                s.showModalWithTemplates("modal-preview-message", n, "Preview message")
                            })
                        }, this.submit = function(a) {
                            var s = {
                                learners: i.formatLearnersToSend()
                            };
                            return a && (s.send_on = a), i.sendDocuments(s).then(function() {
                                n.showSuccessNotification("The message was successfully sent!"), e.$emit("hideModal"), t.goHome()
                            })
                        }
                    }],
                    controllerAs: "vm",
                    template: d.default
                }
            },
            data: {
                destroyFastClick: !0,
                parentState: "documents-message.select"
            },
            resolve: {
                documentInfo: ["studentsService", "documentsMessageService", "menuService", function(e, t, i) {
                    if (e.selectedStudents && e.selectedStudents.length) {
                        var a = e.selectedStudents.map(function(e) {
                                return (0, n.default)({}, e)
                            }),
                            s = a.map(function(e) {
                                return e.id
                            });
                        return t.learners = a, t.fetchDocuments({
                            learner_ids: s
                        }).then(function(e) {
                            return t.associateSearchResultsAndLearners(e.learners)
                        }).catch(function() {
                            return i.goHome()
                        })
                    }
                }],
                learners: ["documentsMessageService", function(e) {
                    return e.learners
                }]
            }
        })
    }]).component("documentsMessage", s.default).name;
    exports.default = _
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1095)),
        i = a(t(1096));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="container" ng-class="{\'_animation-out\': $ctrl._routeClassService.isMenuIn}">\n  <b-documents-message class="noSwipe"></b-documents-message>\n</div>\n\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(1),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    var s = function e(t, n, i) {
        "ngInject";
        (0, a.default)(this, e), this._routeClassService = t, n.$on("$destroy", function() {
            i.clearSelectedStudents(), i.clearLearners()
        })
    };
    s.$inject = ["routeClassService", "$scope", "studentsService"], exports.default = s
}, function(e, exports) {
    e.exports = '<f-student-search extra-class="_learners"\n                  title="Select Learners"\n                  users-service="vm._studentsService"></f-student-search>\n'
}, function(e, exports) {
    e.exports = '<f-select-type types="vm.types" update="vm.update({ model })"></f-select-type>\n'
}, function(e, exports) {
    e.exports = '<l-student-search extra-class="_learners"></l-student-search>\n'
}, function(e, exports) {
    e.exports = '<l-learners-document learners="$resolve.learners"></l-learners-document>\n'
}, function(e, exports) {
    e.exports = '<button type="button" class="btn btn-default b-documents-message__button _edit"\n        ng-click="vm.openEditModal()"\n>\n  Edit message\n</button>\n<button type="button" class="btn btn-default b-documents-message__button _send"\n        ng-click="vm.openPreviewModal()"\n        ng-disabled="!vm.canSend"\n>\n  Send\n</button>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(0)),
        i = s(t(9)),
        a = s(t(1103));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = n.default.module("exams", [i.default]).config(["$stateProvider", "$urlRouterProvider", function(e, t) {
        "ngInject";
        t.otherwise("/"), e.state("exams", {
            url: "/exams",
            component: "exams",
            abstract: !0
        }).state("exams.list", {
            url: "/list?page",
            component: "exams",
            data: {
                pageClass: "p-exams",
                headerGradientColors: {
                    from: "#4889ec",
                    to: "#4ba8e7"
                },
                pageTitle: "My exams",
                authorize: ["parent", "learner", "employee"],
                parentState: "home"
            },
            resolve: {
                examsPrepService: ["$state", "$stateParams", "examsService", "userService", "menuService", function(e, t, n, i, a) {
                    var s = i.user.idFromLastAction,
                        r = t.page;
                    return n.getExamsDataFromDb(s, r).catch(function() {
                        return a.goHome()
                    })
                }]
            }
        })
    }]).component("exams", a.default).name;
    exports.default = r
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1104)),
        i = a(t(1105));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="container" ng-class="{\'_animation-out\': $ctrl._routeClassService.isMenuIn}">\n  <div class="exams">\n    <div class="exams__inner noSwipe">\n      <div class="exams__header">\n\t  <div class="parents-evening__buttons-wrapper">\n    <button ng-if="$ctrl._examsService.exams.timetable && $ctrl._windowWidthService.windowWidth > $ctrl._deviceMarginConstants.MOBILE_MARGIN" class="btn exams__button btn-default" ng-click="$ctrl._examsService.downloadExamTimetablePDF($ctrl._userService.user.idFromLastAction)">Download</button>\n  </div>\n        <b-student-info ng-if="$ctrl._windowWidthService.windowWidth < $ctrl._deviceMarginConstants.MOBILE_MARGIN && $ctrl._userService.user.children.length > 1 && $ctrl._userService.user.activeChild"></b-student-info>\n        <b-navigation menu="$ctrl._examsService.menu"\n                      ng-if="$ctrl._windowWidthService.windowWidth > $ctrl._deviceMarginConstants.MOBILE_MARGIN"></b-navigation>\n        <sl-navigation menu="$ctrl._examsService.menu"\n                       ng-if="$ctrl._windowWidthService.windowWidth <= $ctrl._deviceMarginConstants.MOBILE_MARGIN"></sl-navigation>\n      </div>\n      <div class="exams__body">\n        <ng-container ng-if="$ctrl._examsService.exams.timetable.length || $ctrl._examsService.exams.entries.length || $ctrl._examsService.exams.results.length">\n          <div class="exams__timetable" ng-if="$ctrl._examsService.exams.timetable">\n            <div class="exams__timer-outer">\n              <timer class="exams__timer" end-time="$ctrl._examsService.config.endTime" interval="1000">\n                {{days}} days, {{hours}} hours and {{minutes}} minutes until the start of&nbsp;\n              </timer>\n              {{$ctrl._examsService.countdown.exam}} exam\n            </div>\n            <t-exam-timetable class="exams__table _timetable" exams="$ctrl._examsService.exams.timetable"></t-exam-timetable>\n          </div>\n          <t-exam-entries class="exams__table _entries"\n                          ng-if="$ctrl._examsService.exams.entries"\n                          exams="$ctrl._examsService.exams.entries"></t-exam-entries>\n          <t-exam-results class="exams__table _results"\n                          ng-if="$ctrl._examsService.exams.results"\n                          exams="$ctrl._examsService.exams.results"></t-exam-results>\n        </ng-container>\n        <div class="exams__empty" ng-if="!$ctrl._examsService.exams.timetable.length && !$ctrl._examsService.exams.entries.length && !$ctrl._examsService.exams.results.length">\n          No exams data.\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r, o) {
            "ngInject";
            (0, n.default)(this, e), this._examsService = i, this._deviceMarginConstants = a, this._routeClassService = s, this._userService = r, this._windowWidthService = o
        }
        return e.$inject = ["$scope", "examsService", "deviceMarginConstants", "routeClassService", "userService", "windowWidthService"], (0, i.default)(e, [{
            key: "$onDestroy",
            value: function() {
                !this._userService.user.activeStudent && this._examsService.initValues(!0)
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = v(t(0)),
        i = v(t(9)),
        a = v(t(1107)),
        s = v(t(1110)),
        r = v(t(1111)),
        o = v(t(1112)),
        l = v(t(1113)),
        c = v(t(1114)),
        d = v(t(1115)),
        u = v(t(1116)),
        _ = v(t(1117)),
        f = v(t(1118));

    function v(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var m = n.default.module("events-forms", [i.default]).config(["$stateProvider", "$urlRouterProvider", function(e, t) {
        "ngInject";
        t.otherwise("/"), e.state("forms", {
            url: "/forms",
            component: "eventsForms",
            abstract: !0,
            data: {
                pageClass: "p-events-forms",
                headerGradientColors: {
                    from: "#eca54a",
                    to: "#eca54a"
                },
                pageTitle: "Forms"
            }
        }).state("forms.employee", {
            url: "/employee?page",
            views: {
                header: {
                    template: s.default,
                    controller: ["forms", "windowWidthService", "deviceMarginConstants", function(e, t, n) {
                        this._windowWidthService = t, this._deviceMarginConstants = n, this.menu = [{
                            name: "Active",
                            params: {
                                page: "active"
                            }
                        }, {
                            name: "Archived",
                            params: {
                                page: "archived"
                            }
                        }, {
                            name: "Personal",
                            params: {
                                page: "personal"
                            }
                        }]
                    }],
                    controllerAs: "vm"
                },
                content: {
                    template: d.default,
                    controller: ["$stateParams", "forms", "formsService", "notificationService", "modalDefaultService", function(e, t, n, i, a) {
                        var s = this;
                        this._$stateParams = e, this._forms = t;
                        this.onSave = function(e) {
                            var t = e.fields,
                                r = e.employee_id,
                                o = e.form_id,
                                l = [];
                            t.forEach(function(e) {
                                return e.value && l.push({
                                    id: e.id,
                                    value: e.value
                                })
                            });
                            var c = {
                                form_id: o,
                                employee_id: r,
                                fields: l
                            };
                            n.submitForm(c).then(function() {
                                return i.showSuccessNotification("Success")
                            }).then(function() {
                                return n.getFormsDataFromDb({
                                    for: "employee_personal",
                                    employee_personal: !0
                                })
                            }).then(function(e) {
                                return s._forms = {
                                    forms: e
                                }
                            }).then(function() {
                                a.pop()
                            })
                        }
                    }],
                    controllerAs: "vm"
                }
            },
            resolve: {
                forms: ["$stateParams", "formsService", "teachersService", "menuService", "userService", function(e, t, n, i, a) {
                    var s = {
                        for: "personal" === e.page ? "employee_personal" : "owner"
                    };
                    return n.selectedTeacher && n.selectedTeacher.id !== a.user.id && (s.employee_id = n.selectedTeacher.id), "archived" === e.page && (s.archived_only = !0), "personal" === e.page && (s.employee_personal = !0), t.getFormsDataFromDb(s).then(function(e) {
                        return {
                            forms: e
                        }
                    }).catch(function() {
                        return i.goHome()
                    })
                }],
                teachers: ["teachersService", "menuService", "userService", function(e, t, n) {
                    if (!n.user.capabilities.forms || n.user.capabilities.forms.switchteacher) return e.teachers || e.getEmployeesWithFullNameFromDb().then(function(t) {
                        e.teachers = t
                    }).catch(function() {
                        return t.goHome()
                    })
                }]
            },
            data: {
                authorize: ["employee"],
                parentState: "home"
            }
        }).state("forms.list", {
            url: "/list",
            views: {
                header: {
                    template: r.default,
                    controller: ["$timeout", "routeClassService", "menuService", "delayConstantsService", function(e, t, n, i) {
                        this.goHome = function() {
                            t.isMenuIn = !0, e(function() {
                                return n.goHome()
                            }, i.WAIT_END_OF_STATE_ANIMATION_OUT)
                        }
                    }],
                    controllerAs: "vm"
                },
                content: {
                    template: c.default,
                    controller: ["forms", "formsService", "modalDefaultService", "notificationService", "userService", function(e, t, n, i, a) {
                        var s = this;
                        this._forms = e;
                        this.onSave = function(e) {
                            var r = e.fields,
                                o = e.learner_id,
                                l = e.form_id,
                                c = [];
                            r.forEach(function(e) {
                                e.value && c.push({
                                    id: e.id,
                                    value: e.value
                                })
                            });
                            var d = {
                                form_id: l,
                                learner_id: o,
                                fields: c
                            };
                            t.submitForm(d).then(function() {
                                return i.showSuccessNotification("Success")
                            }).then(function() {
                                return t.getFormsDataFromDb({
                                    for: a.checkRole("learner") ? "learner" : "parent"
                                })
                            }).then(function(e) {
                                return s._forms = e
                            }).then(function() {
                                return n.pop()
                            })
                        }
                    }],
                    controllerAs: "vm"
                }
            },
            resolve: {
                forms: ["notificationService", "formsService", "menuService", "userService", function(e, t, n, i) {
                    var a = {
                        for: i.checkRole("learner") ? "learner" : "parent"
                    };
                    return t.getFormsDataFromDb(a).catch(function() {
                        return n.goHome()
                    })
                }]
            },
            data: {
                authorize: ["parent", "learner"],
                parentState: "home"
            }
        }).state("forms.createForm", {
            url: "/create-form",
            views: {
                header: {
                    template: o.default
                },
                content: {
                    template: l.default,
                    controller: ["model", function(e) {
                        this._model = e
                    }],
                    controllerAs: "vm"
                },
                footer: {
                    template: u.default,
                    controller: ["$rootScope", "$scope", "$state", "formsService", "model", "studentsService", "modalDefaultService", "teachersService", "notificationService", "windowWidthService", "deviceMarginConstants", function(e, t, n, i, a, s, r, o, l, c, d) {
                        var u = this;
                        this._model = a, this._windowWidthService = c, this._deviceMarginConstants = d, this.isLoading = !1, this.save = function() {
                            if (!t.eventFormsForm.$valid) return t.eventFormsForm.$setSubmitted(), void l.showErrorNotification("Please fill required fields");
                            u.isLoading = !0, i.prepFormData(a).then(function(e) {
                                return i.createForm(e)
                            }).then(function() {
                                return l.showSuccessNotification("Form successfully created")
                            }).then(function() {
                                return s.clearSelectedStudents()
                            }).then(function() {
                                return n.transitionTo("forms.employee", {
                                    page: "active"
                                }, {
                                    notify: !1
                                })
                            }).finally(function() {
                                return u.isLoading = !1
                            })
                        }, this.openSelectRespondentsModal = function() {
                            return i.tabs = i.initTabs(), i.tabs.parentsOf.active = !0, r.showModalWithTemplates("modal-select-respondents", null, "Select respondents")
                        }, t.$on("$destroy", function() {
                            s.clearSelectedStudents(), s.clearLearners(), o.selectedTeachers = []
                        })
                    }],
                    controllerAs: "vm"
                }
            },
            resolve: {
                model: function() {
                    return {
                        fields: [],
                        formName: null,
                        dueDate: null
                    }
                },
                studentsPrepService: ["studentsService", "menuService", function(e, t) {
                    return e.getStudents().then(function(t) {
                        e.students = t, e.filteredStudents = t
                    }).catch(function() {
                        return t.goHome()
                    })
                }],
                userDefinedGroupsPrepService: ["studentsService", "menuService", function(e, t) {
                    return !!e.userDefinedGroups.length || e.getUserDefinedGroups().then(function(t) {
                        e.userDefinedGroups = t.groups
                    }).catch(function() {
                        return t.goHome()
                    })
                }],
                employeesPrepService: ["teachersService", "menuService", function(e, t) {
                    return e.employees && (e.filteredTeachers = e.employees), e.employees || e.getEmployeesWithFullNameFromDb().then(function(t) {
                        e.employees = t
                    }).catch(function() {
                        return t.goHome()
                    })
                }]
            },
            data: {
                isForm: !0,
                destroyFastClick: !0,
                authorize: ["employee"],
                parentState: "forms.employee",
                parentStateParams: {
                    page: "active"
                }
            }
        }).state("forms.updateForm", {
            url: "/update-form/:form_id",
            views: {
                header: {
                    template: o.default
                },
                content: {
                    template: l.default,
                    controller: ["formPrepService", function(e) {
                        this._model = e.model, this._isBlockFields = !!e.form.responses
                    }],
                    controllerAs: "vm"
                },
                footer: {
                    template: _.default,
                    controller: ["$rootScope", "$scope", "$state", "formsService", "notificationService", "formPrepService", "studentsService", "teachersService", "modalDefaultService", function(e, t, n, i, a, s, r, o, l) {
                        var c = this;
                        this._formPrepService = s, this.disabledRespondentsButton = !1, this.data = {
                            isLoading: !1
                        }, this.openSelectRespondentsModal = function() {
                            var e = i.initTabs(),
                                t = e.parentsOf,
                                n = e.employees,
                                a = e.learners;
                            if ("learner" === s.form.recipient_type ? (i.tabs = {
                                    learners: a
                                }, i.tabs.learners.active = !0) : "parent" === s.form.recipient_type ? (i.tabs = {
                                    parentsOf: t
                                }, i.tabs.parentsOf.active = !0) : "employee" === s.form.recipient_type ? (i.tabs = {
                                    employees: n
                                }, i.tabs.employees.active = !0) : (i.tabs = {
                                    parentsOf: t,
                                    employees: n,
                                    learners: a
                                }, i.tabs.parentsOf.active = !0), s.form.learners && s.form.learners.length) {
                                var r = s.form.learners[0].learner_id;
                                return c.disabledRespondentsButton = !0, i.getLearnersStatus(r).then(function(e) {
                                    l.showModalWithTemplates("modal-select-respondents", {
                                        status: e
                                    }, "Select respondents")
                                }).finally(function() {
                                    c.disabledRespondentsButton = !1
                                })
                            }
                            l.showModalWithTemplates("modal-select-respondents", null, "Select respondents")
                        }, this.toggleArchivedCheckbox = function() {
                            s.model.archived = !s.model.archived
                        }, s.form.learners && s.form.learners.length && (i.setSelectedStudents(s.form.learners), i.prepSelectedStudents()), s.form.employees && s.form.employees.length && i.setSelectedEmployees(s.form.employees), this.update = function() {
                            if (!t.eventFormsForm.$valid) return t.eventFormsForm.$setSubmitted(), void a.showErrorNotification("Please fill required fields");
                            c.data.isLoading = !0, i.prepFormData(s.model).then(function(e) {
                                var t = e.form_id,
                                    n = e.learner_ids,
                                    a = e.fields,
                                    s = e.employee_ids,
                                    r = e.recipient_type,
                                    o = e.due,
                                    l = e.subject,
                                    d = e.available_date;
                                return i.updateForm({
                                    form_id: t,
                                    learner_ids: n,
                                    fields: a,
                                    archived: c._formPrepService.model.archived,
                                    employee_ids: s,
                                    recipient_type: r,
                                    subject: l,
                                    due: o,
                                    available_date: d
                                })
                            }).then(function() {
                                return a.showSuccessNotification("Form successfully updated")
                            }).then(function() {
                                return n.transitionTo("forms.employee", {
                                    page: "active"
                                }, {
                                    notify: !1
                                })
                            }).finally(function() {
                                return c.data.isLoading = !1
                            })
                        }, t.$on("$destroy", function() {
                            r.clearSelectedStudents(), r.clearLearners(), o.selectedTeachers = []
                        })
                    }],
                    controllerAs: "vm"
                }
            },
            resolve: {
                formPrepService: ["$q", "$stateParams", "formsService", "teachersService", "studentsService", "menuService", function(e, t, n, i, a, s) {
                    var r = void 0;
                    return n.getFormDataFromDb({
                        form_id: t.form_id
                    }).then(function(e) {
                        return e.form
                    }).then(function(t) {
                        if (r = {
                                model: {
                                    archived: t.archived,
                                    fields: n.prepFormFields(t.fields),
                                    formName: t.subject,
                                    dueDate: t.due,
                                    available_date: t.available_date,
                                    form_id: t.id,
                                    recipient_type: t.recipient_type
                                },
                                form: t
                            }, t.employees) return n.getEmployees();
                        if (t.learners) {
                            var i = t.learners.map(function(e) {
                                return e.learner_id
                            });
                            return n.getStudents(i)
                        }
                        return e.all([a.getStudents(), n.getEmployees()])
                    }).then(function() {
                        return r
                    }).catch(function() {
                        return s.goHome()
                    })
                }]
            },
            data: {
                isForm: !0,
                destroyFastClick: !0,
                authorize: ["employee"],
                parentState: "forms.employee",
                parentStateParams: {
                    page: "active"
                }
            }
        }).state("forms.cloneForm", {
            url: "/clone-form/:form_id",
            views: {
                header: {
                    template: o.default
                },
                content: {
                    template: l.default,
                    controller: ["formPrepService", function(e) {
                        this._model = e.model
                    }],
                    controllerAs: "vm"
                },
                footer: {
                    template: f.default,
                    controller: ["$rootScope", "$scope", "$state", "formsService", "notificationService", "formPrepService", "studentsService", "teachersService", "modalDefaultService", function(e, t, n, i, a, s, r, o, l) {
                        var c = this;
                        this._formPrepService = s, this.isLoading = !1, this.openSelectRespondentsModal = function() {
                            i.tabs = i.initTabs(), i.tabs.parentsOf.active = !0, l.showModalWithTemplates("modal-select-respondents", null, "Select respondents")
                        }, this.toggleArchivedCheckbox = function() {
                            s.model.archived = !s.model.archived
                        }, this.clone = function() {
                            if (!t.eventFormsForm.$valid) return t.eventFormsForm.$setSubmitted(), void a.showErrorNotification("Please fill required fields");
                            c.isLoading = !0, i.prepFormData(s.model).then(function(e) {
                                return i.createForm(e)
                            }).then(function() {
                                return a.showSuccessNotification("Form successfully cloned")
                            }).then(function() {
                                return r.clearSelectedStudents()
                            }).then(function() {
                                return n.transitionTo("forms.employee", {
                                    page: "active"
                                }, {
                                    notify: !1
                                })
                            }).finally(function() {
                                return c.isLoading = !1
                            })
                        }, t.$on("$destroy", function() {
                            r.clearSelectedStudents(), r.clearLearners(), o.selectedTeachers = []
                        })
                    }],
                    controllerAs: "vm"
                }
            },
            resolve: {
                formPrepService: ["$stateParams", "formsService", "menuService", function(e, t, n) {
                    return t.getFormDataFromDb({
                        form_id: e.form_id
                    }).then(function(e) {
                        return e.form
                    }).then(function(e) {
                        return {
                            model: {
                                archived: e.archived,
                                fields: t.prepFormFields(e.fields),
                                formName: e.subject,
                                dueDate: e.due,
                                form_id: e.id
                            },
                            form: e
                        }
                    }).catch(function() {
                        return n.goHome()
                    })
                }],
                studentsPrepService: ["studentsService", "menuService", function(e, t) {
                    return e.getStudents().then(function(t) {
                        e.students = t, e.filteredStudents = t
                    }).catch(function() {
                        return t.goHome()
                    })
                }],
                employeesPrepService: ["teachersService", "menuService", function(e, t) {
                    return e.employees && (e.filteredTeachers = e.employees), e.employees || e.getEmployeesWithFullNameFromDb().then(function(t) {
                        e.employees = t
                    }).catch(function() {
                        return t.goHome()
                    })
                }]
            },
            data: {
                isForm: !0,
                destroyFastClick: !0,
                authorize: ["employee"],
                parentState: "forms.employee",
                parentStateParams: {
                    page: "active"
                }
            }
        })
    }]).component("eventsForms", a.default).name;
    exports.default = m
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1108)),
        i = a(t(1109));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="container" name="form" ng-class="{\'_animation-out\': $ctrl._routeClassService.isMenuIn}">\n  <form class="events-forms" name="eventFormsForm" ng-if="$ctrl._$state.current.data.isForm">\n    <div class="events-forms__inner noSwipe">\n      <ui-view name="header" class="events-forms__header"></ui-view>\n      <ui-view name="content" class="events-forms__content"></ui-view>\n      <ui-view name="footer" class="events-forms__footer"></ui-view>\n    </div>\n  </form>\n  <div class="events-forms" name="eventForms" ng-if="!$ctrl._$state.current.data.isForm">\n    <div class="events-forms__inner noSwipe">\n      <ui-view name="header" class="events-forms__header"></ui-view>\n      <ui-view name="content" class="events-forms__content"></ui-view>\n    </div>\n  </div>\n  <div class="events-forms__bottom"></div>\n</div>\n\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a) {
            "ngInject";
            (0, n.default)(this, e), this._$state = t, this._teachersService = i, this._routeClassService = a
        }
        return e.$inject = ["$state", "teachersService", "routeClassService"], (0, i.default)(e, [{
            key: "$onDestroy",
            value: function() {
                this._teachersService.selectedTeacher = null
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {
    e.exports = '<a ui-sref="forms.createForm" class="events-forms__btn-new">New</a>\n\n<b-navigation class="events-forms__menu"\n              menu="vm.menu"\n              ng-if="vm._windowWidthService.windowWidth > vm._deviceMarginConstants.MOBILE_MARGIN">\n</b-navigation>\n<sl-navigation class="events-forms__menu"\n               menu="vm.menu"\n               ng-if="vm._windowWidthService.windowWidth <= vm._deviceMarginConstants.MOBILE_MARGIN">\n</sl-navigation>\n'
}, function(e, exports) {
    e.exports = '<a class="events-forms__close _right" ng-click="vm.goHome()">\n  <svg-use name="cross"></svg-use>\n</a>\n'
}, function(e, exports) {
    e.exports = '<a class="events-forms__close" ui-sref="forms.employee">\n  <svg-use name="cross"></svg-use>\n</a>\n'
}, function(e, exports) {
    e.exports = '<b-create-form model="vm._model"\n               is-block-fields="vm._isBlockFields"\n></b-create-form>\n'
}, function(e, exports) {
    e.exports = '<t-parent-forms forms="vm._forms" on-save="vm.onSave({ fields, form_id, learner_id })"></t-parent-forms>\n'
}, function(e, exports) {
    e.exports = '<t-teacher-forms forms="vm._forms.forms"\n                 ng-if="!vm._$stateParams.page || vm._$stateParams.page === \'active\' || vm._$stateParams.page === \'archived\'"></t-teacher-forms>\n\n<t-personal-forms forms="vm._forms.forms"\n                  on-save="vm.onSave({ fields, employee_id, form_id })"\n                  ng-if="vm._$stateParams.page === \'personal\'"></t-personal-forms>\n'
}, function(e, exports) {
    e.exports = '<div class="events-forms__users-picker">\n  <button type="button" class="btn btn-default events-forms__btn _small"\n          ng-click="vm.openSelectRespondentsModal()"\n  >Respondents</button>\n</div>\n\n<button type="button" class="btn btn-default events-forms__btn _small _save"\n        ng-disabled="!vm._model.fields.length || vm.isLoading"\n        ng-click="vm.save()"\n>Save</button>\n'
}, function(e, exports) {
    e.exports = '<div class="events-forms__footer-inner">\n  <label class="events-forms__checkbox">\n    <input type="checkbox" class="events-forms__checkbox-input"\n           ng-click="vm.toggleArchivedCheckbox()"\n           ng-class="{ _checked: vm._formPrepService.model.archived }"\n    >\n    <span class="events-forms__checkbox-title">Archived</span>\n  </label>\n\n  <div class="events-forms__panel">\n    <div class="events-forms__users-picker">\n      <button type="button" class="btn btn-default events-forms__btn _small"\n              ng-click="vm.openSelectRespondentsModal()"\n              ng-disabled="vm.disabledRespondentsButton"\n      >Respondents</button>\n    </div>\n\n    <button type="button" class="btn btn-default events-forms__btn _small _update"\n            ng-disabled="vm.data.isLoading"\n            ng-click="vm.update()"\n    >Update</button>\n  </div>\n</div>\n\n\n'
}, function(e, exports) {
    e.exports = '<div class="events-forms__footer-inner">\n  <label class="events-forms__checkbox">\n    <input type="checkbox" class="events-forms__checkbox-input"\n            ng-click="vm.toggleArchivedCheckbox()"\n            ng-class="{ _checked: vm._formPrepService.model.archived }"\n    >\n    <span class="events-forms__checkbox-title">Archived</span>\n  </label>\n\n  <div class="events-forms__panel">\n    <div class="events-forms__users-picker">\n      <button type="button" class="btn btn-default events-forms__btn _small"\n              ng-click="vm.openSelectRespondentsModal()"\n      >Respondents</button>\n    </div>\n\n    <button type="button" class="btn btn-default events-forms__btn _small _update"\n            ng-disabled="vm.data.isLoading"\n            ng-click="vm.clone()"\n    >Clone</button>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(0)),
        i = s(t(9)),
        a = s(t(1120));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = n.default.module("home", [i.default]).config(["$stateProvider", "$urlRouterProvider", function(e, t) {
        "ngInject";
        t.otherwise("/"), e.state("home", {
            url: "/",
            component: "home",
            data: {
                pageClass: "p-home",
                headerGradientColors: {
                    from: "#8282c6",
                    to: "#4996cd"
                },
                pageTitle: "Homepage",
                authorize: ["employee", "parent", "learner"]
            }
        })
    }]).component("home", a.default).name;
    exports.default = r
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1121)),
        i = a(t(1122));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = {
        restrict: "E",
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="container">\n  <l-children\n    binded-active-child-index="$ctrl.activeChildIndex"\n    binded-children="$ctrl._userService.user.children"\n    is-change-menu-logo="true"\n    ng-if="$ctrl._windowWidthService.windowWidth <= $ctrl._deviceMarginConstants.MOBILE_MARGIN\n           && $ctrl._userService.checkRole(\'parent\') && $ctrl.rootStateName !== \'student\'"\n  ></l-children>\n  <sl-timetable\n    ng-if="$ctrl._windowWidthService.windowWidth <= $ctrl._deviceMarginConstants.MOBILE_MARGIN\n      && ($ctrl._userService.checkRole(\'employee\') || $ctrl._userService.checkRole(\'learner\'))\n      && $ctrl.rootStateName !== \'student\' && !$ctrl.hasActiveChild"\n  ></sl-timetable>\n  <div class="container__inner">\n    <m-site-mobile\n      binded-events="$ctrl.menuEvents"\n      binded-menu="$ctrl.currentMenu"\n      ng-if="$ctrl.currentMenu && $ctrl._windowWidthService.windowWidth <= $ctrl._deviceMarginConstants.MOBILE_MARGIN"\n    ></m-site-mobile>\n    \x3c!--<l-messages--\x3e\n      \x3c!--ng-if="$ctrl._windowWidthService.windowWidth <= $ctrl._deviceMarginConstants.MOBILE_MARGIN">--\x3e\n    \x3c!--</l-messages>--\x3e\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r, o, l) {
            "ngInject";
            (0, n.default)(this, e), this._authService = t, this._menuService = s, this._routeClassService = l, this._deviceMarginConstants = a, this._modalDefaultService = r, this._userService = o, this._windowWidthService = i
        }
        return e.$inject = ["authService", "windowWidthService", "deviceMarginConstants", "menuService", "modalDefaultService", "userService", "routeClassService"], (0, i.default)(e, [{
            key: "$onInit",
            value: function() {
                this._authService.showUpdateVersionNotice && (this._modalDefaultService.showModalWithTemplates("modal-show-notice", {
                    title: this._userService.user.notice.title,
                    body: this._userService.user.notice.body
                }, "Notice"), this._authService.showUpdateVersionNotice = !1)
            }
        }, {
            key: "children",
            get: function() {
                return this._userService.user.children
            }
        }, {
            key: "activeChildIndex",
            get: function() {
                return this._userService.user.activeChildIndex
            }
        }, {
            key: "menuEvents",
            get: function() {
                return this._menuService.events
            }
        }, {
            key: "currentMenu",
            get: function() {
                return this._menuService.mobileMenu
            }
        }, {
            key: "rootStateName",
            get: function() {
                return this._routeClassService.rootStateName
            }
        }, {
            key: "hasActiveChild",
            get: function() {
                return this._userService.user.activeChildIndex >= 0
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(0)),
        i = s(t(9)),
        a = s(t(1124));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = n.default.module("help", [i.default]).config(["$stateProvider", "$urlRouterProvider", function(e, t) {
        "ngInject";
        t.otherwise("/"), e.state("help", {
            url: "/help",
            component: "help",
            data: {
                pageClass: "p-help",
                headerGradientColors: {
                    from: "#8282c6",
                    to: "#4996cd"
                },
                authorize: [],
                parentState: "login"
            }
        })
    }]).component("help", a.default).name;
    exports.default = r
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1125)),
        i = a(t(1126));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="container">\n  <button type="button" class="btn-back"\n          ng-click="$ctrl._loginService.goLogin()"></button>\n  <f-help></f-help>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(1),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    var s = function e(t) {
        "ngInject";
        (0, a.default)(this, e), this._loginService = t
    };
    s.$inject = ["loginService"], exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(0)),
        i = s(t(9)),
        a = s(t(1128));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = n.default.module("homework", [i.default]).config(["$stateProvider", "$urlRouterProvider", function(e, t) {
        "ngInject";
        t.otherwise("/"), e.state("homework", {
            url: "/homework",
            abstract: !0,
            component: "homework"
        }).state("homework.list", {
            url: "/list?page",
            component: "homework",
            resolve: {
                homeworkPrepService: ["$stateParams", "studentsService", "teachersService", "homeworkDataService", "userService", "menuService", function(e, t, n, i, a, s) {
                    var r = (a.checkRole("employee") || a.checkRole("parent")) && (a.user.activeChild || a.user.activeStudent),
                        o = {
                            page: e.page ? e.page : "current"
                        };
                    return r ? o.learner_id = a.user.idFromLastAction : n.selectedTeacher && n.selectedTeacher.id !== a.user.id && (o.employee_id = n.selectedTeacher.id), i.getHomework(o).catch(function() {
                        s.goHome()
                    })
                }],
                userDefinedGroupsPrepService: ["studentsService", "userService", "menuService", function(e, t, n) {
                    if (t.checkRole("employee") && !e.userDefinedGroups.length) return e.getUserDefinedGroups().then(function(t) {
                        e.userDefinedGroups = t.groups
                    }).catch(function() {
                        n.goHome()
                    })
                }],
                teachersPrepService: ["teachersService", "menuService", "userService", function(e, t, n) {
                    if (n.checkRole("employee")) return e.employees || e.getEmployeesWithFullNameFromDb().then(function(t) {
                        e.employees = t
                    }).catch(function() {
                        t.goHome()
                    })
                }],
                studentsPrepService: ["studentsService", "userService", "menuService", function(e, t, n) {
                    if (t.checkRole("employee") && t.user.capabilities["homework.create"] && !t.user.activeStudent) return e.students.length ? e.students : e.getStudents().then(function(t) {
                        e.students = t, e.filteredStudents = t
                    }).catch(function() {
                        n.goHome()
                    })
                }]
            },
            data: {
                pageClass: "p-homework",
                headerGradientColors: {
                    from: "#4889ec",
                    to: "#4ba8e7"
                },
                parentState: "home",
                pageTitle: "My homework",
                authorize: ["employee", "parent", "learner"]
            }
        })
    }]).component("homework", a.default).name;
    exports.default = r
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1129)),
        i = a(t(1130));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="container" ng-class="{\'_animation-out\': $ctrl._routeClassService.isMenuIn}">\n  <div class="homework">\n    <div class="homework__inner noSwipe">\n      <div class="homework__header">\n        <button type="button" class="homework__btn-add btn btn-default _small _blue _fill"\n                ng-if="$ctrl._userService.checkRole(\'employee\') && $ctrl._userService.user.capabilities[\'homework.create\'] && !$ctrl._userService.user.activeStudent"\n                ng-click="$ctrl._homeworkDataService.openLearnerSelectModal()"\n        >\n          ADD HOMEWORK\n        </button>\n\n        <button type="button" class="homework__btn-add btn btn-default _small _blue _fill"\n                ng-if="$ctrl._userService.checkRole(\'learner\') && $ctrl._userService.user.capabilities[\'homework.learnercreate\'] && !$ctrl._userService.user.activeStudent"\n                ng-click="$ctrl._homeworkDataService.openAddHomeworkModal()"\n        >\n          ADD HOMEWORK\n        </button>\n        <b-navigation class="homework__menu"\n                      menu="$ctrl.menu"\n                      ng-if="$ctrl._windowWidthService.windowWidth > $ctrl._deviceMarginConstants.MOBILE_MARGIN"\n        ></b-navigation>\n        <sl-navigation class="homework__menu"\n                       menu="$ctrl.menu"\n                       ng-if="$ctrl._windowWidthService.windowWidth <= $ctrl._deviceMarginConstants.MOBILE_MARGIN"\n        ></sl-navigation>\n      </div>\n      <div class="homework__body">\n        <ng-container ng-if="!$ctrl.isEmptyHomework()">\n          <t-administrate-homework class="homework__table"\n                                   ng-if="$ctrl._navigationService.currentTab === \'current\' && !$ctrl.isActiveLearner"\n                                   homework="$ctrl.homework.current"\n          ></t-administrate-homework>\n          <t-homework class="homework__table"\n                      ng-if="$ctrl._navigationService.currentTab === \'current\' && $ctrl.isActiveLearner"\n                      homework="$ctrl.homework.current"\n          ></t-homework>\n          <t-administrate-homework class="homework__table"\n                                   ng-if="$ctrl._navigationService.currentTab === \'past\' && !$ctrl.isActiveLearner"\n                                   homework="$ctrl.homework.past"\n          ></t-administrate-homework>\n          <t-homework class="homework__table"\n                      ng-if="$ctrl._navigationService.currentTab === \'past\' && $ctrl.isActiveLearner"\n                      homework="$ctrl.homework.past"\n          ></t-homework>\n          <t-homework-report class="homework__table"\n                             ng-if="$ctrl._navigationService.currentTab === \'report\'"\n                             homework="$ctrl.homework.report"\n          ></t-homework-report>\n        </ng-container>\n\n        <div class="homework__empty" ng-if="$ctrl.isEmptyHomework()">No homework data.</div>\n      </div>\n      <div class="homework__footer" ng-if="$ctrl._userService.checkRole(\'employee\') && $ctrl._userService.user.capabilities[\'homework.create\'] && !$ctrl._userService.user.activeStudent || $ctrl._userService.checkRole(\'learner\') && $ctrl._userService.user.capabilities[\'homework.learnercreate\'] && !$ctrl._userService.user.activeStudent"></div>\n    </div>\n  </div>\n</div>\n\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r, o) {
            "ngInject";
            (0, n.default)(this, e), this._deviceMarginConstants = t, this._homeworkDataService = i, this._routeClassService = a, this._userService = s, this._navigationService = r, this._windowWidthService = o, this.menu = [{
                name: "Current",
                params: {
                    page: "current"
                }
            }, {
                name: "Past",
                params: {
                    page: "past"
                }
            }], this.reportMenuItem = {
                name: "Report",
                params: {
                    page: "report"
                }
            }, this.isActiveLearner = this._userService.checkRole("employee") && this._userService.user.activeStudent || !this._userService.checkRole("employee")
        }
        return e.$inject = ["deviceMarginConstants", "homeworkDataService", "routeClassService", "userService", "navigationService", "windowWidthService"], (0, i.default)(e, [{
            key: "$onInit",
            value: function() {
                this.homework.report && this.menu.push(this.reportMenuItem)
            }
        }, {
            key: "$onDestroy",
            value: function() {
                this._homeworkDataService.clearSelectedTeacher(), this._homeworkDataService.clearHomework()
            }
        }, {
            key: "isEmptyHomework",
            value: function() {
                var e = this._navigationService.currentTab;
                return !this.homework[e] || !this.homework[e].length
            }
        }, {
            key: "homework",
            get: function() {
                return this._homeworkDataService.homework
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(0)),
        i = s(t(9)),
        a = s(t(1132));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = n.default.module("learners", [i.default]).config(["$stateProvider", function(e) {
        "ngInject";
        e.state("learners", {
            url: "/learners",
            component: "learners",
            data: {
                pageClass: "p-learners",
                headerGradientColors: {
                    from: "#50b4d5",
                    to: "#509bd5"
                },
                pageTitle: "Learners",
                authorize: ["employee", "parent"],
                parentState: "home"
            },
            resolve: {
                studentsPrepService: ["studentsService", "menuService", function(e, t) {
                    var n = e.students;
                    return n.length ? n : e.getStudents().then(function(t) {
                        e.students = t, e.filteredStudents = t
                    }).catch(function() {
                        return t.goHome()
                    })
                }],
                userDefinedGroupsPrepService: ["studentsService", "menuService", function(e, t) {
                    return !!e.userDefinedGroups.length || e.getUserDefinedGroups().then(function(t) {
                        e.userDefinedGroups = t.groups
                    }).catch(function() {
                        return t.goHome()
                    })
                }]
            }
        })
    }]).component("learners", a.default).name;
    exports.default = r
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1133)),
        i = a(t(1134));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="container" ng-class="{\'_animation-out\': $ctrl._routeClassService.isMenuIn }">\n  <b-learners class="noSwipe"></b-learners>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(1),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    var s = function e(t, n) {
        "ngInject";
        (0, a.default)(this, e), this._routeClassService = t, n.selectedStudents = null
    };
    s.$inject = ["routeClassService", "studentsService"], exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = r(t(0)),
        i = r(t(9)),
        a = r(t(1136)),
        s = r(t(1139));

    function r(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var o = n.default.module("link-account", [i.default]).config(["$stateProvider", "$urlRouterProvider", function(e, t) {
        "ngInject";
        t.otherwise("/"), e.state("link-account", {
            url: "/link_account?issuer,token",
            template: "<link-account></link-account>",
            resolve: {
                linkAccountPrepService: ["$stateParams", "linkAccountService", "educationalsService", "requestService", "userService", "logoutService", function(e, t, n, i, a, s) {
                    var r = e.issuer,
                        o = function() {
                            return t.getFromThirdPartyIdentifier(r).then(function(e) {
                                return i.setUrlForMainApi(e.school.server), n.getSchoolDetails({
                                    establishment_id: "" + e.school.school_id
                                })
                            })
                        };
                    return a.user ? s.logout(!0).then(o) : o()
                }]
            },
            data: {
                pageClass: "p-link-account",
                headerGradientColors: {
                    from: "#8282c6",
                    to: "#4996cd"
                },
                pageTitle: "Link account page"
            }
        })
    }]).service({
        linkAccountService: s.default
    }).component("linkAccount", a.default).name;
    exports.default = o
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1137)),
        i = a(t(1138));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = {
        restrict: "E",
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="container">\n  <f-login link-account="$ctrl.linkAccount"></f-login>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(1),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    var s = function e(t) {
        "ngInject";
        (0, a.default)(this, e), this.linkAccount = {
            provider: "squid",
            reference: t.token
        }
    };
    s.$inject = ["$stateParams"], exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t) {
            "ngInject";
            (0, n.default)(this, e), this._requestService = t
        }
        return e.$inject = ["requestService"], (0, i.default)(e, [{
            key: "getFromThirdPartyIdentifier",
            value: function(e) {
                var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "squid";
                return this._requestService.getData("schoolCode", "from_third_party_identifier", {
                    identifier: e,
                    provider: t
                })
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(0)),
        i = s(t(9)),
        a = s(t(1141));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = n.default.module("links", [i.default]).config(["$stateProvider", "$urlRouterProvider", function(e, t) {
        "ngInject";
        t.otherwise("/"), e.state("links", {
            url: "/links",
            component: "links",
            abstract: !0,
            data: {
                pageClass: "p-links",
                headerGradientColors: {
                    from: "#4889ec",
                    to: "#4ba8e7"
                },
                pageTitle: "My links",
                authorize: ["employee", "learner", "parent"],
                parentState: "home"
            }
        }).state("links.list", {
            url: "/list?page",
            component: "links",
            resolve: {
                linksPrepService: ["externalLinksService", "menuService", "requestService", function(e, t, n) {
                    return e.getExternalLinks().then(function(t) {
                        e.externalLinks = t.links, n.isDemoMode || e.externalLinks.forEach(function(t) {
                            e.getExternalLinkFetch({
                                link_id: t.id
                            }).then(function(e) {
                                t.url = e.url
                            })
                        })
                    }).catch(function() {
                        return t.goHome()
                    })
                }]
            }
        })
    }]).component("links", a.default).name;
    exports.default = r
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1142)),
        i = a(t(1143));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="container" ng-class="{\'_animation-out\': $ctrl._routeClassService.isMenuIn }">\n  <b-links></b-links>\n</div>\n\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(1),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    var s = function e(t) {
        "ngInject";
        (0, a.default)(this, e), this._routeClassService = t
    };
    s.$inject = ["routeClassService"], exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = o(t(10)),
        i = o(t(0)),
        a = o(t(9)),
        s = o(t(1145)),
        r = o(t(1148));

    function o(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var l = i.default.module("login", [a.default]).config(["$stateProvider", "$urlRouterProvider", function(e, t) {
        "ngInject";
        t.otherwise("/"), e.state("login", {
            url: "/login?id,reset,code,server,idp_token",
            template: "<login></login>",
            controllerAs: "vm",
            controller: ["$timeout", "$stateParams", "modalDefaultService", function(e, t, n) {
                t.reset && e(function() {
                    return n.showModalWithTemplates("modal-reset-password", {
                        token: t.reset
                    }, "Set Password")
                })
            }],
            resolve: {
                loginPrepService: ["educationalsService", "configService", "requestService", "$stateParams", "$location", "$fcmService", "$q", "notificationService", "authService", "userService", "loginService", "$state", "menuService", "$window", function(e, t, a, s, r, o, l, c, d, u, _, f, v, m) {
                    var h = r.search().error;
                    h && c.showErrorNotification(h);
                    var p = r.search().idp_token;
                    if (p) {
                        var g = r.search().server,
                            b = r.search().server_url,
                            S = r.search().route_to,
                            y = r.search().route_to_params,
                            k = y ? i.default.fromJson(decodeURI(y)) : null,
                            M = b || "https://" + g + "/api/";
                        a.setUrlForMainApi(M);
                        var w = d.buildLoginParams();
                        w.token = p;
                        var D = r.search().establishment_id,
                            T = "login_from_idp";
                        D && (w.establishment_id = D, T = "login_from_moodle");
                        var C = void 0;
                        m.cordova && m.cordova.plugins && m.cordova.plugins.PinCheck && (C = d.getPinCheckPromise());
                        var P = function(e, t) {
                            return d.loginFromIDP((0, n.default)({}, w, {
                                fcm_token: e,
                                device_passcode_enabled: t
                            }), T).then(function(e) {
                                a.setUrlForMainApi(M), d.handleSuccess(e, M), v.setActiveMenuToStorage("mainMenu"), u.setUser(e), _.isCurrentSchoolSelected = !1, f.go(S || "home", k)
                            }).catch(function(e) {
                                d.handleFailed(), a.generateRejectResponse(e)
                            })
                        };
                        return C ? l.all([C, o.notificationsPush()]).then(function(e) {
                            return P(o.fcm_token, e[0])
                        }) : o.notificationsPush().then(function() {
                            return P(o.fcm_token)
                        })
                    }
                    if (!t.isCordovaEnv && !t.schoolByHelpForm) {
                        var L = {};
                        if (t.educationalIdStateParam = s.id || null, t.educationalCodeStateParam = s.code || null, t.educationalIdStateParam && (L.establishment_id = t.educationalIdStateParam), t.educationalCodeStateParam) return e.checkSchoolCode(t.educationalCodeStateParam).then(function(e) {
                            L.establishment_id = "" + e.school.school_id, a.setUrlForMainApi(e.school.server)
                        }).then(function() {
                            return e.getSchoolDetails(L)
                        });
                        if (!a.classes.initial.url) {
                            var x = m.location.origin + "/api/";
                            t.isLocalhost && (x = "https://demo.edulinkone.com/api/"), a.setUrlForMainApi(x)
                        }
                        return e.getSchoolDetails(L)
                    }
                }]
            },
            data: {
                pageClass: "p-login",
                headerGradientColors: {
                    from: "#8282c6",
                    to: "#4996cd"
                },
                pageTitle: "Login page"
            }
        })
    }]).service({
        loginService: r.default
    }).component("login", s.default).name;
    exports.default = l
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1146)),
        i = a(t(1147));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = {
        restrict: "E",
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="container">\n  <button type="button" class="btn-back"\n          ng-if="($ctrl._loginService.data.loginToSchoolState || $ctrl._loginService.data.addingNewSchool) && !$ctrl._educationalsService.data.isEducationalsEmpty"\n          ng-click="$ctrl._loginService.goLogin()"\n  ></button>\n\n  <button type="button" class="btn-back"\n          ng-if="$ctrl._loginService.data.addingNewSchool && ($ctrl._configService.isCordovaEnv || $ctrl._configService.isMultiSchoolServer) && !$ctrl._configService.schoolByHelpForm && !$ctrl._authService.showSchoolCode"\n          ng-click="$ctrl._authService.goToSchoolCodeStep()"\n  ></button>\n\n  <l-educational ng-show="$ctrl._loginService.data.listEducationalState"></l-educational>\n\n  <f-login ng-show="$ctrl._loginService.data.addingNewSchool || $ctrl._loginService.data.loginToSchoolState"></f-login>\n\n  <button class="btn-add"\n          type="button"\n          ng-if="!($ctrl._loginService.data.loginToSchoolState || $ctrl._loginService.data.addingNewSchool)"\n          ng-click="$ctrl._loginService.addNewSchool()"></button>\n  <a class="btn btn-round _transparent"\n          ng-click="$ctrl.setActiveDemoMode()"\n          ng-if="!$ctrl._loginService.data.listEducationalState"\n          ui-sref="demo"\n          type="button">DEMO</a>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r, o, l) {
            "ngInject";
            (0, n.default)(this, e), this._authService = i, this._configService = a, this._loginService = s, this._educationalsService = l, this._requestService = o, this._loginService.skipRestoreService ? (r.restore(this._loginService.skipRestoreService), this._loginService.skipRestoreService = !1) : r.restore(), t.$emit("hideModal", {
                closeAllModals: !0
            })
        }
        return e.$inject = ["$scope", "authService", "configService", "loginService", "restoreService", "requestService", "educationalsService"], (0, i.default)(e, [{
            key: "setActiveDemoMode",
            value: function() {
                this._requestService.isDemoMode = !0
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(35)),
        i = s(t(1)),
        a = s(t(2));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = function() {
        function e(t, n, a, s, r, o) {
            "ngInject";
            (0, i.default)(this, e), this._$rootScope = t, this._$state = n, this._educationalsService = s, this._routeClassService = a, this._requestService = r, this._configService = o, this.initValues()
        }
        return e.$inject = ["$rootScope", "$state", "routeClassService", "educationalsService", "requestService", "configService"], (0, a.default)(e, [{
            key: "initValues",
            value: function(e) {
                this.data && !e || (this.data = {
                    addingNewSchool: 0 === this._educationalsService.educationals.length,
                    loginToSchoolState: !1,
                    listEducationalState: 0 !== this._educationalsService.educationals.length,
                    selectingSchool: null,
                    skipRestoreService: !1
                })
            }
        }, {
            key: "locateMenuToCenter",
            value: function() {
                angular.element(".m-site").css({
                    transform: "matrix(1, 0, 0, 1, 0, 0)"
                })
            }
        }, {
            key: "addNewSchool",
            value: function() {
                this._educationalsService.currentEducational = [], this._$rootScope.$broadcast("login.clearCurrentUser", {}), this.data.addingNewSchool = !0, this.data.listEducationalState = !1
            }
        }, {
            key: "loginToCurrentSchool",
            value: function(e) {
                var t = this;
                if (!(arguments.length > 1 && void 0 !== arguments[1] && arguments[1])) {
                    var i = {
                        establishment_id: e.schoolId.toString()
                    };
                    return this._requestService.setUrlForMainApi(e.serverUrl), void this._educationalsService.getSchoolDetails(i).then(function() {
                        t.data.loginToSchoolState = !0, t._educationalsService.currentEducational = (0, n.default)({}, e), t.data.addingNewSchool = !1, t.data.listEducationalState = !1
                    })
                }
                this.data.loginToSchoolState = !0, this._educationalsService.currentEducational = (0, n.default)({}, e), this.data.addingNewSchool = !1, this.data.listEducationalState = !1
            }
        }, {
            key: "goLogin",
            value: function() {
                this._requestService.isDemoMode && (this._requestService.isDemoMode = !1), this.initValues(!0), "login" !== this._routeClassService.firstPartOfCurrentState && this._$state.transitionTo("login", {
                    notify: !0
                }), this.restoreService()
            }
        }, {
            key: "restoreService",
            value: function() {
                this.data.addingNewSchool = 0 === this._educationalsService.educationals.length, this.data.loginToSchoolState = !1, this.data.listEducationalState = 0 !== this._educationalsService.educationals.length, this._configService.schoolByHelpForm = !1, (this._configService.isMultiSchoolServer || this._configService.isCordovaEnv) && (this._configService.schoolEnv = null)
            }
        }, {
            key: "addingNewSchool",
            set: function(e) {
                this.data.addingNewSchool = e
            }
        }, {
            key: "skipRestoreService",
            set: function(e) {
                this.data.skipRestoreService = e
            },
            get: function() {
                return this.data.skipRestoreService
            }
        }]), e
    }();
    exports.default = r
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = h(t(0)),
        i = h(t(9)),
        a = h(t(1150)),
        s = h(t(1153)),
        r = h(t(1154)),
        o = h(t(1155)),
        l = h(t(1156)),
        c = h(t(1157)),
        d = h(t(1158)),
        u = h(t(1159)),
        _ = h(t(1160)),
        f = h(t(1161)),
        v = h(t(1162)),
        m = h(t(1163));

    function h(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var p = n.default.module("marksheets", [i.default]).config(["$stateProvider", function(e) {
        "ngInject";
        e.state("marksheets", {
            url: "/marksheets",
            component: "marksheets",
            abstract: !0,
            data: {
                pageClass: "p-marksheets",
                headerGradientColors: {
                    from: "#67cd99",
                    to: "#67cd99"
                },
                pageTitle: "MARKSHEETS"
            },
            authorize: ["employee"]
        }).state("marksheets.selections", {
            url: "/selections",
            views: {
                marksheetsLeft: {
                    template: f.default
                },
                marksheetsRight: {
                    template: u.default,
                    controller: ["marksheets", function(e) {
                        this.marksheets = e
                    }],
                    controllerAs: "vm"
                }
            },
            resolve: {
                marksheets: ["prTeacherService", "marksheetService", "userService", "menuService", function(e, t, n, i) {
                    var a = (e.currentTeacher ? e.currentTeacher : n.user.data).id;
                    return t.getMarksheetsFromDb({
                        employee_id: a
                    }).catch(function() {
                        return i.goHome()
                    })
                }]
            },
            data: {
                authorize: ["employee"],
                parentState: "home"
            }
        }).state("marksheets.comment-banks", {
            url: "/comment-banks",
            views: {
                marksheetsRight: {
                    template: m.default,
                    controller: ["commentBanks", function(e) {
                        this.yearGroups = e.year_groups
                    }],
                    controllerAs: "vm"
                }
            },
            resolve: {
                commentBanks: ["marksheetService", "menuService", function(e, t) {
                    return e.getMarksheetCommentBanksFromDb().catch(function() {
                        return t.goHome()
                    })
                }]
            },
            data: {
                authorize: ["employee"],
                parentState: "marksheets.selections"
            }
        }).state("marksheets.search", {
            url: "/search",
            views: {
                marksheetsLeft: {
                    template: d.default
                },
                marksheetsRight: {
                    template: v.default,
                    controller: ["teachersPrepService", "teachersService", function(e, t) {
                        t.teachers = e, t.filteredTeachers = e
                    }]
                }
            },
            data: {
                authorize: ["employee"],
                parentState: "marksheets.selections"
            },
            resolve: {
                teachersPrepService: ["$state", "teachersService", "$timeout", function(e, t, n) {
                    return t.getEmployeesWithFullNameFromDb().catch(function() {
                        return n(function() {
                            e.go("marksheets.selections")
                        }, 0)
                    })
                }]
            }
        }).state("marksheets.learners", {
            url: "/selections/{marksheetId}",
            views: {
                marksheetsLeft: {
                    template: _.default
                },
                marksheetsRight: {
                    template: r.default
                }
            },
            data: {
                authorize: ["employee"],
                parentState: "marksheets.selections"
            },
            resolve: {
                marksheetPrepService: ["$stateParams", "marksheetService", "$state", "$timeout", function(e, t, n, i) {
                    return t.getMarksheetDataWithFullNameFromDb(e.marksheetId).then(function(n) {
                        t.learners = n.learners, t.marksheetData = n, t.marksheetId = e.marksheetId
                    }).catch(function() {
                        return i(function() {
                            n.go("marksheets.selections")
                        }, 0)
                    })
                }]
            }
        }).state("marksheets.selection-learners", {
            url: "/selections/{marksheetId}/learners",
            views: {
                marksheetsRight: {
                    template: c.default,
                    controller: ["$scope", "studentsService", "marksheetService", function(e, t, n) {
                        n.marksheets = n.generateMarksheets(n.learners, n.marksheetColumns), e.$on("$destroy", function() {
                            n.clearMarksheetData(), t.clearSelectedStudents()
                        })
                    }]
                },
                marksheetsBottom: {
                    template: s.default
                }
            },
            data: {
                authorize: ["employee"],
                parentState: "marksheets.selections"
            },
            resolve: {
                marksheetPrepService: ["userService", "$stateParams", "studentsService", "marksheetService", "$state", "$timeout", function(e, t, n, i, a, s) {
                    return i.getMarksheetDataWithFullNameFromDb(t.marksheetId).then(function(a) {
                        a.learners.forEach(function(t) {
                            var n = t.community_group_id,
                                i = t.form_group_id;
                            t.communityGroup = e.getCommunityGroupNameFromId(n), t.formGroup = e.getFormGroupNameFromId(i)
                        }), n.selectedStudents = a.learners, i.learners = a.learners, i.marksheetData = a, i.marksheetId = t.marksheetId
                    }).catch(function() {
                        return s(function() {
                            a.go("marksheets.selections")
                        }, 0)
                    })
                }]
            }
        }).state("marksheets.rating", {
            url: "/selections/{marksheetId}/learner/{learnerId}",
            views: {
                marksheetsLeft: {
                    template: o.default
                },
                marksheetsRight: {
                    template: l.default,
                    controller: ["$stateParams", "marksheetService", "$state", function(e, t, n) {
                        t.learnerId = e.learnerId, t.setActiveLearnerFromId(e.learnerId) || n.go("marksheets.selections")
                    }]
                },
                marksheetsBottom: {
                    template: s.default
                }
            },
            data: {
                authorize: ["employee"],
                parentState: "marksheets.learners"
            },
            resolve: {
                marksheetPrepService: ["userService", "$stateParams", "marksheetService", "$state", "$timeout", function(e, t, n, i, a) {
                    return n.getMarksheetDataWithFullNameFromDb(t.marksheetId).then(function(i) {
                        i.learners.forEach(function(t) {
                            var n = t.community_group_id,
                                i = t.form_group_id;
                            t.communityGroup = e.getCommunityGroupNameFromId(n), t.formGroup = e.getFormGroupNameFromId(i)
                        }), n.learners = i.learners, n.marksheetData = i, n.marksheetId = t.marksheetId
                    }).catch(function() {
                        return a(function() {
                            i.go("marksheets.selections")
                        }, 0)
                    })
                }]
            }
        })
    }]).component("marksheets", a.default).name;
    exports.default = p
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1151)),
        i = a(t(1152));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<form class="p-marksheets__form" name="marksheetsForm" novalidate>\n  <div class="container"\n       ng-class="{\'_animation-out\': $ctrl._routeClassService.isMenuIn }"\n       ng-init="$ctrl.addFormToScope(marksheetsForm)"\n  >\n    <b-marksheets class="noSwipe"></b-marksheets>\n    <div class="p-marksheets__bottom" ui-view="marksheetsBottom"></div>\n  </div>\n</form>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s) {
            "ngInject";
            (0, n.default)(this, e), this._routeClassService = t, this.marksheetId = i.marksheetId, this._$scope = a, this._$timeout = s
        }
        return e.$inject = ["routeClassService", "$stateParams", "$scope", "$timeout"], (0, i.default)(e, [{
            key: "addFormToScope",
            value: function(e) {
                this._$scope.form = e
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {
    e.exports = "<f-student-marksheets></f-student-marksheets>\n"
}, function(e, exports) {
    e.exports = "<l-marksheets-learners></l-marksheets-learners>\n"
}, function(e, exports) {
    e.exports = "<b-marksheets-learners-info></b-marksheets-learners-info>\n\n\n\n"
}, function(e, exports) {
    e.exports = "<l-marksheets></l-marksheets>\n"
}, function(e, exports) {
    e.exports = "<l-marksheet></l-marksheet>\n"
}, function(e, exports) {
    e.exports = '<f-teacher-search back-link="marksheets.selections" class="_white" name="marksheets"></f-teacher-search>\n\n\n'
}, function(e, exports) {
    e.exports = '<l-marksheets-select ng-if="vm.marksheets && vm.marksheets.length" marksheets="vm.marksheets"></l-marksheets-select>\n<div class="p-marksheets__message" ng-if="!vm.marksheets || !vm.marksheets.length">\n  No marksheets data.\n</div>\n'
}, function(e, exports) {
    e.exports = '<pr-teacher name="Marksheets" search-link="marksheets.search" class="_marksheets-learners" back-link="marksheets.selections"></pr-teacher>\n'
}, function(e, exports) {
    e.exports = '<pr-teacher search-link="marksheets.search" name="Marksheets" class="_marksheets-selections"></pr-teacher>\n'
}, function(e, exports) {
    e.exports = '<l-teachers next-state="marksheets.selections"></l-teachers>\n'
}, function(e, exports) {
    e.exports = '<b-comment-banks year-groups="vm.yearGroups"></b-comment-banks>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(0)),
        i = s(t(9)),
        a = s(t(1165));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = n.default.module("medical", [i.default]).config(["$stateProvider", "$urlRouterProvider", function(e, t) {
        "ngInject";
        t.otherwise("/"), e.state("medical", {
            url: "/medical",
            component: "medical",
            data: {
                pageClass: "p-medical",
                headerGradientColors: {
                    from: "#D63B75",
                    to: "#D63B8F"
                },
                pageTitle: "My medical info",
                authorize: ["learner", "parent"],
                parentState: "home"
            },
            resolve: {
                medicalPrepService: ["medicalDataService", "userService", "menuService", function(e, t, n) {
                    var i = t.user.idFromLastAction;
                    return e.medical = e.medical || {}, e.medical[i] || e.getMedicalDataFromDb(i, 2).then(function(t) {
                        e.medical[i] = t.medical
                    }).catch(function() {
                        return n.goHome()
                    })
                }]
            }
        })
    }]).component("medical", a.default).name;
    exports.default = r
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1166)),
        i = a(t(1167));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="container" ng-class="{\'_animation-out\': $ctrl._routeClassService.isMenuIn }">\n  <b-student-info class="noSwipe"\n                  data="$ctrl.medical"></b-student-info>\n</div>\n\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s) {
            "ngInject";
            (0, n.default)(this, e), this._$scope = t, this._routeClassService = i, this._userService = a, this._medicalDataService = s, this.initValues(), this.setDataToNewUser();
            var r = t.$on("userChangeLearner", this.setDataToNewUser.bind(this));
            t.$on("$destroy", r)
        }
        return e.$inject = ["$scope", "routeClassService", "userService", "medicalDataService"], (0, i.default)(e, [{
            key: "initValues",
            value: function(e) {
                this.data && !e || (this.data = {
                    medical: null
                })
            }
        }, {
            key: "setDataToNewUser",
            value: function() {
                var e = this,
                    t = this._userService.user.idFromLastAction;
                this._medicalDataService.medical[t] ? this.medical = this._medicalDataService.medical[t] : this._medicalDataService.getMedicalDataFromDb(t, 2).then(function(n) {
                    e.medical = n.medical, e._medicalDataService.medical[t] = n.medical
                })
            }
        }, {
            key: "medical",
            get: function() {
                return this.data.medical
            },
            set: function(e) {
                this.data.medical = e
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = l(t(0)),
        i = l(t(9)),
        a = l(t(1169)),
        s = l(t(1172)),
        r = l(t(1173)),
        o = l(t(1174));

    function l(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var c = n.default.module("noticeboard", [i.default]).config(["$stateProvider", "$urlRouterProvider", "noticeboardConstants", function(e, t, n) {
        "ngInject";
        t.otherwise("/"), e.state("noticeboard", {
            url: "/noticeboard",
            component: "noticeboard",
            virtual: !0,
            data: {
                pageClass: "p-noticeboard",
                headerGradientColors: {
                    from: "#873EEA",
                    to: "#8E54E9"
                },
                pageTitle: "Noticeboard",
                authorize: ["parent", "employee", "learner"],
                parentState: "home"
            },
            resolve: {}
        }).state(n.states.NOTICEBOARD, {
            url: "/list",
            views: {
                content: {
                    template: s.default,
                    controller: ["noticeboardService", "userService", function(e, t) {
                        this._noticeboardService = e, this._userService = t
                    }],
                    controllerAs: "vm"
                }
            },
            resolve: {
                noticeboardPrepService: ["noticeboardService", "userService", function(e, t) {
                    if (t.user.capabilities.noticeboard.folders) {
                        return e.getNoticeboardFolders({
                            folder_id: 0
                        })
                    }
                    return e.getNoticeboardDocuments()
                }]
            }
        }).state(n.states.MANAGE_SNIPPETS, {
            url: "/manage-snippets",
            views: {
                content: {
                    template: r.default,
                    controller: ["modalDefaultService", function(e) {
                        this.addSnippet = function() {
                            e.showModalWithTemplates("modal-new-snippet", null, "New snippet")
                        }
                    }],
                    controllerAs: "vm"
                }
            }
        }).state(n.states.DOCUMENTS, {
            url: "/documents",
            views: {
                content: {
                    template: o.default,
                    controller: ["modalDefaultService", function(e) {
                        this.addDocument = function() {
                            e.showModalWithTemplates("modal-new-document", null, "New document")
                        }
                    }],
                    controllerAs: "vm"
                }
            }
        })
    }]).component("noticeboard", a.default).name;
    exports.default = c
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1170)),
        i = a(t(1171));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="container" ng-class="{\'_animation-out\': $ctrl._routeClassService.isMenuIn }">\n  <div class="noticeboard">\n    <div class="noticeboard__inner noSwipe">\n      <div class="noticeboard__header">\n        <div class="noticeboard__header-inner">\n          <b-tabs-nav class="noticeboard__menu"\n                      menu="$ctrl.menu"\n                      ng-if="$ctrl._windowWidthService.windowWidth > $ctrl._deviceMarginConstants.MOBILE_MARGIN"\n          ></b-tabs-nav>\n          <sl-tabs-nav class="noticeboard__menu"\n                         menu="$ctrl.menu"\n                         ng-if="$ctrl._windowWidthService.windowWidth <= $ctrl._deviceMarginConstants.MOBILE_MARGIN"\n          ></sl-tabs-nav>\n        </div>\n      </div>\n      <ui-view name="content" class="noticeboard__content"></ui-view>\n    </div>\n  </div>\n</div>\n\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(11)),
        i = s(t(1)),
        a = s(t(2));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = function() {
        function e(t, n, a, s, r, o) {
            "ngInject";
            (0, i.default)(this, e), this._routeClassService = t, this._noticeboardService = n, this._userService = a, this._deviceMarginConstants = s, this._windowWidthService = r, this.menu = [{
                name: "Noticeboard",
                state: o.states.NOTICEBOARD
            }], this.optionalMenu = [{
                name: "Manage snippets",
                state: o.states.MANAGE_SNIPPETS
            }, {
                name: "Manage documents",
                state: o.states.DOCUMENTS
            }]
        }
        return e.$inject = ["routeClassService", "noticeboardService", "userService", "deviceMarginConstants", "windowWidthService", "noticeboardConstants"], (0, a.default)(e, [{
            key: "$onInit",
            value: function() {
                this.handleMenu()
            }
        }, {
            key: "$onDestroy",
            value: function() {
                this._noticeboardService.resetValues()
            }
        }, {
            key: "handleMenu",
            value: function() {
                var e;
                this._userService.user.capabilities.noticeboard.manager && (e = this.menu).push.apply(e, (0, n.default)(this.optionalMenu))
            }
        }]), e
    }();
    exports.default = r
}, function(e, exports) {
    e.exports = '<div class="noticeboard__content-inner">\n    <sl-noticeboard ng-if="vm._noticeboardService.snippets.length"\n                    list="vm._noticeboardService.snippets"\n    ></sl-noticeboard>\n\n    <l-noticeboard class="noticeboard__list"\n                   ng-if="!vm._userService.user.capabilities.noticeboard.folders"\n                   documents="vm._noticeboardService.documents"\n    ></l-noticeboard>\n\n    <b-folders ng-if="vm._userService.user.capabilities.noticeboard.folders"\n               model="vm._noticeboardService.folders"\n    ></b-folders>\n</div>\n'
}, function(e, exports) {
    e.exports = '<div class="noticeboard__content-inner">\n    <div class="noticeboard__label _title">\n        Snippets\n        <button type="button" class="noticeboard__add" ng-click="vm.addSnippet()"></button>\n    </div>\n    <t-manage-snippets></t-manage-snippets>\n</div>\n'
}, function(e, exports) {
    e.exports = '<div class="noticeboard__content-inner">\n    <div class="noticeboard__label _title">\n        Documents\n        <button type="button" class="noticeboard__add" ng-click="vm.addDocument()"></button>\n    </div>\n    <t-manage-documents></t-manage-documents>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = m(t(0)),
        i = m(t(9)),
        a = m(t(1176)),
        s = m(t(1179)),
        r = m(t(1180)),
        o = m(t(1181)),
        l = m(t(1182)),
        c = m(t(1183)),
        d = m(t(1184)),
        u = m(t(1185)),
        _ = m(t(1186)),
        f = m(t(1187)),
        v = m(t(1188));

    function m(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var h = n.default.module("profiles", [i.default]).config(["$stateProvider", function(e) {
        "ngInject";
        e.state("profiles", {
            url: "/profiles",
            component: "profiles",
            abstract: !0,
            data: {
                pageClass: "p-profiles",
                pageTitle: "Profiles",
                headerGradientColors: {
                    from: "#fa4e7f",
                    to: "#edc751"
                }
            },
            authorize: ["employee"]
        }).state("profiles.sessions", {
            url: "/sessions",
            views: {
                profilesLeft: {
                    template: o.default
                },
                profilesRight: {
                    template: s.default,
                    controller: ["menuService", "profilesService", "sessionsPrepService", function(e, t, n) {
                        !n && e.goHome(), t.sessions = n
                    }]
                }
            },
            resolve: {
                sessionsPrepService: ["profilesService", "userService", "prTeacherService", "menuService", function(e, t, n, i) {
                    var a = n.currentTeacher ? n.currentTeacher.id : t.user.idFromLastAction;
                    return e.getProfileSessionsFromDb(a).catch(function() {
                        return i.goHome()
                    })
                }]
            },
            data: {
                authorize: ["employee"]
            }
        }).state("profiles.search", {
            url: "/search",
            views: {
                profilesLeft: {
                    template: r.default
                },
                profilesRight: {
                    template: d.default,
                    controller: ["$state", "teachersService", "teachersPrepService", function(e, t, n) {
                        !n && e.go("profiles.sessions"), t.teachers = n, t.filteredTeachers = n
                    }]
                }
            },
            resolve: {
                teachersPrepService: ["teachersService", "menuService", function(e, t) {
                    return e.teachers ? e.teachers : e.getEmployeesWithFullNameFromDb().catch(function() {
                        return t.goHome()
                    })
                }]
            },
            data: {
                authorize: ["employee"]
            }
        }).state("profiles.groups", {
            url: "/sessions/{sessionId}",
            views: {
                profilesLeft: {
                    template: l.default
                },
                profilesRight: {
                    template: _.default,
                    controller: ["$stateParams", "sessionsPrepService", "$state", "profilesService", function(e, t, n, i) {
                        t || n.go("profiles.sessions"), i.sessions = t;
                        var a = e.sessionId;
                        i.sessionIndex = i.findArrayIndexFromId(t, a), -1 === i.sessionIndex && n.go("profiles.sessions")
                    }]
                }
            },
            resolve: {
                sessionsPrepService: ["profilesService", "menuService", function(e, t) {
                    return e.sessions || e.getProfileSessionsFromDb().catch(function() {
                        return t.goHome()
                    })
                }]
            },
            data: {
                authorize: ["employee"]
            }
        }).state("profiles.learners", {
            url: "/sessions/{sessionId}/group/{groupId}",
            views: {
                profilesLeft: {
                    template: c.default,
                    controller: ["$scope", "$stateParams", function(e, t) {
                        e.sessionId = t.sessionId
                    }]
                },
                profilesRight: {
                    template: u.default,
                    controller: ["$stateParams", "learnersPrepService", "sessionsPrepService", "$state", "profilesService", function(e, t, n, i, a) {
                        t && n || i.go("profiles.sessions"), a.learners = t, a.sessions = n;
                        var s = e.sessionId,
                            r = e.groupId;
                        a.sessionIndex = a.findArrayIndexFromId(n, s), a.groupIndex = a.findArrayIndexFromId(a.groups, r), -1 !== a.sessionIndex && -1 !== a.groupIndex || i.go("profiles.sessions")
                    }]
                }
            },
            resolve: {
                learnersPrepService: ["$timeout", "profilesService", "$stateParams", "menuService", function(e, t, n, i) {
                    var a = n.sessionId,
                        s = n.groupId;
                    return t.getGroupLearnersFromDb(a, s).catch(function() {
                        return i.goHome()
                    })
                }],
                sessionsPrepService: ["profilesService", "prTeacherService", "userService", "menuService", function(e, t, n, i) {
                    var a = t.currentTeacher ? t.currentTeacher.id : n.user.idFromLastAction;
                    return e.sessions || e.getProfileSessionsFromDb(a).catch(function() {
                        return i.goHome()
                    })
                }]
            },
            data: {
                authorize: ["employee"]
            }
        }).state("profiles.comment", {
            url: "/sessions/{sessionId}/group/{groupId}/comment/{learnerId}",
            views: {
                profilesLeft: {
                    template: v.default
                },
                profilesRight: {
                    template: f.default,
                    controller: ["$stateParams", "profilesService", function(e, t) {
                        var n = e.learnerId;
                        t.setCache(n, t.areas), t.setActiveLearnerFromId(n)
                    }]
                }
            },
            resolve: {
                sessionsPrepService: ["$state", "$stateParams", "profilesService", "prTeacherService", "userService", "menuService", function(e, t, n, i, a, s) {
                    var r = i.currentTeacher ? i.currentTeacher.id : a.user.idFromLastAction;
                    return n.getProfileSessionsFromDb(r).then(function(i) {
                        if (!i) return e.go("profiles.sessions");
                        var a = t.sessionId;
                        n.sessions = i, n.sessionIndex = n.findArrayIndexFromId(i, a), n.groupIndex = n.findArrayIndexFromId(n.groups, t.groupId), -1 !== n.sessionIndex && -1 !== n.groupIndex || e.go("profiles.sessions")
                    }).catch(function() {
                        return s.goHome()
                    })
                }],
                learnersPrepService: ["$state", "userService", "profilesService", "$stateParams", "menuService", function(e, t, n, i, a) {
                    var s = i.sessionId,
                        r = i.groupId;
                    return n.getGroupLearnersFromDb(s, r).then(function(i) {
                        if (!i) return e.go("profiles.sessions");
                        i.forEach(function(e) {
                            var n = e.community_group_id || -1,
                                i = e.form_group_id || -1,
                                a = e.year_group_id || -1;
                            e.communityGroup = t.getCommunityGroupNameFromId(n), e.formGroup = t.getFormGroupNameFromId(i), e.yearGroup = t.getYearGroupNameFromId(a)
                        }), n.learners = i
                    }).catch(function() {
                        return a.goHome()
                    })
                }],
                commentPrepService: ["$state", "$q", "$stateParams", "profilesService", "prTeacherService", "userService", "menuService", function(e, t, n, i, a, s, r) {
                    var o = n.learnerId,
                        l = i.getCache(o);
                    if (l) return i.areas = l, t.resolve(l);
                    var c = a.currentTeacher ? a.currentTeacher.id : s.user.idFromLastAction;
                    return i.getSessionEntryFromDb(c, n.sessionId, n.groupId, n.learnerId).then(function(t) {
                        if (!t) return e.go("profiles.sessions");
                        i.areas = t, t.allow_inline_editing || (i.areas.areas = i.changeCommentTextToSelectedComments(t.areas))
                    }).catch(function() {
                        return r.goHome()
                    })
                }]
            },
            data: {
                authorize: ["employee"]
            }
        })
    }]).component("profiles", a.default).name;
    exports.default = h
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1177)),
        i = a(t(1178));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = {
        restrict: "E",
        bindings: {},
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="container" ng-class="{\'_animation-out\': $ctrl._routeClassService.isMenuIn}">\n  <b-profiles class="noSwipe"></b-profiles>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(1),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    var s = function e(t) {
        "ngInject";
        (0, a.default)(this, e), this._routeClassService = t
    };
    s.$inject = ["routeClassService"], exports.default = s
}, function(e, exports) {
    e.exports = "<l-sessions></l-sessions>\n"
}, function(e, exports) {
    e.exports = '<f-teacher-search back-link="profiles.sessions" class="_pink" name="Profiles"></f-teacher-search>\n'
}, function(e, exports) {
    e.exports = '<pr-teacher search-link="profiles.search" name="Profiles" class="_profiles-sessions"></pr-teacher>\n'
}, function(e, exports) {
    e.exports = '<b-profiles-teacher-info back-sref="profiles.sessions"></b-profiles-teacher-info>\n'
}, function(e, exports) {
    e.exports = '<b-profiles-teacher-info back-sref="profiles.groups({ sessionId: {{ sessionId }} })"></b-profiles-teacher-info>\n'
}, function(e, exports) {
    e.exports = '<l-teachers next-state="profiles.sessions"></l-teachers>\n'
}, function(e, exports) {
    e.exports = "<l-learners></l-learners>\n"
}, function(e, exports) {
    e.exports = "<l-profiles-groups></l-profiles-groups>\n"
}, function(e, exports) {
    e.exports = "<f-profiles-entry></f-profiles-entry>\n"
}, function(e, exports) {
    e.exports = "<b-profiles-learner-info></b-profiles-learner-info>\n"
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = _(t(0)),
        i = _(t(9)),
        a = _(t(1190)),
        s = _(t(1193)),
        r = _(t(1194)),
        o = _(t(1195)),
        l = _(t(1196)),
        c = _(t(1197)),
        d = _(t(1198)),
        u = _(t(1199));

    function _(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }

    function f(e) {
        this.setDate(e)
    }

    function v() {
        return this.date.value
    }
    var m = n.default.module("registers", [i.default]).config(["$stateProvider", "$urlRouterProvider", function(e, t) {
        "ngInject";
        t.otherwise("/"), e.state("registers", {
            component: "registers",
            abstract: !0,
            data: {
                pageClass: "p-registers",
                headerGradientColors: {
                    from: "#4996cd",
                    to: "#8282c6"
                },
                pageTitle: "Registers",
                parentState: "home"
            }
        }).state("registers.lobby", {
            url: "/registers",
            views: {
                left: {
                    template: s.default,
                    controller: ["teachersService", "teachersPrepService", "registersService", "$scope", function(e, t, n, i) {
                        e.teachers = t, e.filteredTeachers = t, i.data = {
                            date: n.date,
                            calendarScope: {
                                setDate: f.bind(n),
                                getDate: v.bind(n),
                                handleClick: function(e) {
                                    n.updateData(e.date), i.$emit("hideModal")
                                }
                            }
                        }
                    }]
                },
                right: {
                    template: r.default,
                    controller: ["registersLobbyPrepService", "registersService", "menuService", function(e, t, n) {
                        this._registersService = t, !e && n.goHome(), t.registers = e, t.periods = e.periods
                    }],
                    controllerAs: "vm"
                }
            },
            resolve: {
                registersLobbyPrepService: ["requestService", "registersService", "userService", "prTeacherService", "menuService", "$q", function(e, t, n, i, a, s) {
                    var r = t.date.value,
                        o = e.getDateToRequest(r),
                        l = i.currentTeacher && i.currentTeacher.id || n.user.idFromLastAction;
                    return t.getRegistersFromDb({
                        date: o,
                        employee_id: l
                    }).catch(function() {
                        return a.goHome()
                    })
                }],
                teachersPrepService: ["teachersService", "menuService", function(e, t) {
                    return e.teachers || e.getEmployeesWithFullNameFromDb().catch(function() {
                        return t.goHome()
                    })
                }]
            },
            data: {
                parentState: "home",
                authorize: ["employee"]
            }
        }).state("registers.change-teacher", {
            url: "/registers/change-teacher",
            views: {
                left: {
                    template: o.default,
                    controller: ["$scope", "registersService", function(e, t) {
                        e.data = {
                            setDate: function(n) {
                                t.setDate(n), e.$emit("hideModal")
                            },
                            date: t.date
                        }
                    }]
                },
                right: {
                    template: l.default,
                    controller: ["teachersService", "teachersPrepService", function(e, t) {
                        e.teachers = t, e.filteredTeachers = t
                    }]
                }
            },
            resolve: {
                teachersPrepService: ["teachersService", "menuService", function(e, t) {
                    return e.teachers || e.getEmployeesWithFullNameFromDb().catch(function() {
                        return t.goHome()
                    })
                }]
            },
            data: {
                parentState: "registers.lobby",
                authorize: ["employee"]
            }
        }).state("registers.register", {
            url: "/registers/register/:id/:page",
            views: {
                header: {
                    template: u.default,
                    controller: ["deviceMarginConstants", "windowWidthService", "seatingPlanService", "$stateParams", function(e, t, n, i) {
                        this._deviceMarginConstants = e, this._windowWidthService = t, this._seatingPlanService = n, this._$stateParams = i, this.menu = [{
                            name: "Register",
                            params: {
                                page: "marks"
                            }
                        }, {
                            name: "Seating Plan",
                            params: {
                                page: "plan"
                            }
                        }]
                    }],
                    controllerAs: "vm"
                },
                left: {
                    template: c.default,
                    controller: ["registersService", "$scope", "$state", function(e, t, n) {
                        t.data = {
                            date: e.date,
                            calendarScope: {
                                setDate: f.bind(e),
                                getDate: v.bind(e),
                                handleClick: function() {
                                    t.$emit("hideModal"), n.go("registers.lobby")
                                }
                            }
                        }
                    }]
                },
                right: {
                    template: d.default,
                    controller: ["$scope", "studentsService", "registersService", function(e, t, n) {
                        e.$on("$destroy", function() {
                            t.clearSelectedStudents(), n.register = null
                        })
                    }]
                }
            },
            resolve: {
                registerPrepService: ["$stateParams", "$q", "behaviourDataService", "detentionsService", "seatingPlanService", "studentsService", "menuService", "registersService", "dateService", function(e, t, n, i, a, s, r, o, l) {
                    if ("plan" === e.page) return a.getSeatingPlan(e.id).catch(function() {
                        return r.goHome()
                    });
                    var c = [function(e) {
                        return i.fetchSessions({
                            from_date: e,
                            exclude_full: !0
                        }).then(function(e) {
                            i.sessions = e, n.addPreelemToArray(i.sessions, "sessionData", "Detention")
                        })
                    }(moment().format(l.getDateFormat("apiDate"))), o.getRegisterWithCodes(e.id), n.getBehaviourAchievementLookupsFromDb(), s.getStudents()];
                    return t.all(c).catch(function() {
                        return r.goHome()
                    })
                }],
                teachersPrepService: ["teachersService", "menuService", function(e, t) {
                    return e.teachers || e.getEmployeesWithFullNameFromDb().then(function(t) {
                        e.teachers = t
                    }).catch(function() {
                        return t.goHome()
                    })
                }]
            },
            data: {
                parentState: "registers.lobby",
                authorize: ["employee"]
            }
        })
    }]).component("registers", a.default).name;
    exports.default = m
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1191)),
        i = a(t(1192));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = {
        restrict: "E",
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="container" ng-class="{\'_animation-out\': $ctrl._routeClassService.isMenuIn}">\n  <b-registers class="noSwipe"></b-registers>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(1),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    var s = function e(t, n, i, s, r, o, l) {
        "ngInject";
        (0, a.default)(this, e), this._routeClassService = n, t.$on("$destroy", function() {
            i.behaviourAchievementLookups = null, s.registers = null, o.initValues(!0), r.clearLearners(), l.teachers = null
        })
    };
    s.$inject = ["$scope", "routeClassService", "behaviourDataService", "registersService", "studentsService", "seatingPlanService", "teachersService"], exports.default = s
}, function(e, exports) {
    e.exports = '<pr-teacher\n  search-link="registers.change-teacher"\n  data="data"\n  name="Registers"></pr-teacher>\n'
}, function(e, exports) {
    e.exports = '<l-lessons registers="vm._registersService.registers"\n           ng-if="vm._registersService.registers && vm._registersService.registers.length"></l-lessons>\n<div class="p-registers__message" ng-if="!vm._registersService.registers || !vm._registersService.registers.length">\n  No registers data.\n</div>\n'
}, function(e, exports) {
    e.exports = '<f-teacher-search\n  back-link="registers.lobby"\n  class="_dark-blue"\n  data="data"\n  name="Registers"></f-teacher-search>\n'
}, function(e, exports) {
    e.exports = '<l-teachers next-state="registers.lobby"></l-teachers>\n'
}, function(e, exports) {
    e.exports = '<pr-teacher\n  data="data"\n  back-link="registers.lobby"\n  name="Registers"\n  submit-mode="true"></pr-teacher>\n'
}, function(e, exports) {
    e.exports = "<l-register></l-register>\n"
}, function(e, exports) {
    e.exports = '<b-checkbox ng-if="vm._$stateParams.page === \'plan\'"\n            text="Show additional data"\n            model="vm._seatingPlanService.showTags"\n></b-checkbox>\n<b-navigation class="b-registers__menu"\n              menu="vm.menu"\n              ng-if="vm._windowWidthService.windowWidth > vm._deviceMarginConstants.MOBILE_MARGIN"\n></b-navigation>\n<sl-navigation class="b-registers__menu"\n               menu="vm.menu"\n               ng-if="vm._windowWidthService.windowWidth <= vm._deviceMarginConstants.MOBILE_MARGIN"\n></sl-navigation>\n\n\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(0)),
        i = s(t(9)),
        a = s(t(1201));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = n.default.module("reset", [i.default]).config(["$stateProvider", "$urlRouterProvider", function(e, t) {
        "ngInject";
        t.otherwise("/"), e.state("reset", {
            url: "/reset",
            component: "reset",
            resolve: {
                resetPrepService: ["educationalsService", "configService", "requestService", "$stateParams", function(e, t, n, i) {
                    if (!t.isCordovaEnv) {
                        var a = {};
                        return t.educationalIdStateParam = i.id || null, t.educationalCodeStateParam = i.code || null, t.educationalIdStateParam && (a.establishment_id = t.educationalIdStateParam), t.educationalCodeStateParam ? e.checkSchoolCode(t.educationalCodeStateParam).then(function(t) {
                            return a.establishment_id = "" + t.school.school_id, n.setUrlForMainApi(t.school.server), e.getSchoolDetails(a)
                        }) : e.getSchoolDetails(a)
                    }
                }]
            },
            data: {
                pageClass: "p-reset",
                headerGradientColors: {
                    from: "#8282c6",
                    to: "#4996cd"
                },
                authorize: [],
                parentState: "login"
            }
        })
    }]).component("reset", a.default).name;
    exports.default = r
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1202)),
        i = a(t(1203));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="container">\n    <button type="button" class="btn-back"\n    ng-click="$ctrl._loginService.goLogin()"></button>\n  <f-reset></f-reset>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(1),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    var s = function e(t, n) {
        "ngInject";
        (0, a.default)(this, e), this._loginService = n, this.config = t.config
    };
    s.$inject = ["routeClassService", "loginService"], exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(0)),
        i = s(t(9)),
        a = s(t(1205));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = n.default.module("resourceBooking", [i.default]).config(["$stateProvider", "$urlRouterProvider", function(e, t) {
        "ngInject";
        t.otherwise("/"), e.state("resourcebooking", {
            url: "/resource-booking",
            component: "resourceBooking",
            abstract: !0,
            data: {
                pageClass: "p-resource-booking",
                headerGradientColors: {
                    from: "#50b4d5",
                    to: "#509bd5"
                },
                pageTitle: "Room/Resource Booking",
                authorize: ["employee"],
                parentState: "home"
            }
        }).state("resourcebooking.list", {
            url: "/list?page",
            data: {
                destroyFastClick: !0
            },
            resolve: {
                bookingsPrepService: ["$stateParams", "$q", "teachersService", "ResourceBookingService", "menuService", "navigationService", function(e, t, n, i, a, s) {
                    var r = s.clickedTab ? s.clickedTab : e.page;
                    if ("bookings" === r || !r) {
                        var o = [i.getResourceTimetable(), i.getTimetableCyclePeriods(), i.getResources(), i.getResourceCategories()];
                        !n.employees && o.push(n.getEmployeesWithFullNameFromDb().then(function(e) {
                            return n.employees = e
                        })), n.employees && (n.filteredTeachers = n.employees), t.all(o).catch(function() {
                            return a.goHome()
                        })
                    }
                }],
                changesPrepService: ["$stateParams", "ResourceBookingService", "menuService", "navigationService", "dateService", function(e, t, n, i, a) {
                    if ("changes" === (i.clickedTab ? i.clickedTab : e.page)) {
                        var s = t.filter.date ? t.filter.date.response : moment().format(a.getDateFormat("apiDate"));
                        return t.getResourceChanges(s).catch(function() {
                            return n.goHome()
                        })
                    }
                }],
                reportPrepService: ["$stateParams", "ResourceBookingService", "menuService", "navigationService", "dateService", function(e, t, n, i, a) {
                    if ("report" === (i.clickedTab ? i.clickedTab : e.page)) return t.dates.from_date = moment().subtract(7, "days").format(a.getDateFormat("apiDate")), t.dates.until_date = moment().format(a.getDateFormat("apiDate")), t.getResourceUsage(t.dates).catch(function() {
                        return n.goHome()
                    })
                }]
            }
        })
    }]).component("resourceBooking", a.default).name;
    exports.default = r
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1206)),
        i = a(t(1207));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="container" ng-class="{\'_animation-out\': $ctrl._routeClassService.isMenuIn }">\n  <b-resource-booking></b-resource-booking>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i) {
            "ngInject";
            (0, n.default)(this, e), this._resourceBookingService = t, this._routeClassService = i
        }
        return e.$inject = ["ResourceBookingService", "routeClassService"], (0, i.default)(e, [{
            key: "$onDestroy",
            value: function() {
                this._resourceBookingService.initValues()
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = p(t(35)),
        i = p(t(26)),
        a = p(t(281)),
        s = p(t(0)),
        r = p(t(9)),
        o = p(t(1209)),
        l = p(t(1212)),
        c = p(t(1213)),
        d = p(t(1214)),
        u = p(t(1215)),
        _ = p(t(1216)),
        f = p(t(1217)),
        v = p(t(1218)),
        m = p(t(1219)),
        h = p(t(1220));

    function p(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var g = s.default.module("parents-evening", [r.default]).config(["$stateProvider", "$urlRouterProvider", function(e, t) {
        "ngInject";
        t.otherwise("/"), e.state("parentevent", {
            url: "/parents-evening",
            component: "parentsEvening",
            abstract: !0,
            data: {
                pageClass: "p-parents-evening",
                headerGradientColors: {
                    from: "#eca54a",
                    to: "#eca54a"
                },
                authorize: ["employee", "parent"],
                pageTitle: "Parents' Evening"
            }
        }).state("parentevent.events", {
            url: "",
            views: {
                content: {
                    template: m.default,
                    controller: ["parentsEveningService", "userService", function(e, t) {
                        t.checkRole("employee") && t.checkRole("parent") && t.user.activeChild || t.checkRole("parent") && !t.checkRole("employee") ? this.nextState = "parentevent.parentEvent" : t.checkRole("employee") && (this.nextState = "parentevent.teacherEvent"), this.events = function() {
                            return e.events
                        }
                    }],
                    controllerAs: "vm"
                },
                header: {
                    template: l.default,
                    controllerAs: "vm",
                    controller: ["modalDefaultService", "parentsEveningService", "menuService", "windowWidthService", "deviceMarginConstants", "events", "userService", function(e, t, n, i, a, s, r) {
                        var o = this;
                        this._userService = r, this._windowWidthService = i, this._deviceMarginConstants = a, this.isAdmin = t.isAdmin, this.goHome = function() {
                            n.goHome()
                        }, this.openEventCreatingModal = function() {
                            e.showModalWithTemplates("modal-create-event", {}, "Create event")
                        }, this.selectTab = function(e) {
                            var n = e.tab;
                            if (!n.isClicked) {
                                var i = {};
                                if (r.checkRole("parent") && r.checkRole("employee")) {
                                    var a = r.user.activeChild && r.user.activeChild.id;
                                    a && (i.learner_id = a)
                                }
                                n.isArchived && (i.show_historic = !0), t.fetchAll(i).then(function(e) {
                                    o.tabs.forEach(function(e) {
                                        e.isClicked = !1
                                    }), n.isClicked = !n.isClicked, e
                                })
                            }
                        }, this.tabs = [{
                            name: "Active",
                            isClicked: !0
                        }, {
                            name: "Archived",
                            isClicked: !1,
                            isArchived: !0
                        }]
                    }]
                }
            },
            data: {
                parentState: "home",
                destroyFastClick: !0
            },
            resolve: {
                studentsPrepService: ["parentsEveningService", "studentsService", "menuService", function(e, t, n) {
                    if (e.isAdmin) {
                        var i = t.students;
                        return i.data.users.size ? i : t.getStudents().then(function(e) {
                            t.students = e, t.filteredStudents = e
                        }).catch(function() {
                            return n.goHome()
                        })
                    }
                }],
                userDefinedGroupsPrepService: ["studentsService", "menuService", function(e, t) {
                    return !!e.userDefinedGroups.length || e.getUserDefinedGroups().then(function(t) {
                        e.userDefinedGroups = t.groups
                    }).catch(function() {
                        return t.goHome()
                    })
                }],
                teachersPrepService: ["teachersService", "userService", "menuService", function(e, t, n) {
                    if (t.checkRole("employee")) return e.fetchEmployeesWithPhoto().then(function(t) {
                        e.employees = t
                    }).catch(function() {
                        return n.goHome()
                    })
                }],
                events: ["parentsEveningService", "userService", "menuService", function(e, t, n) {
                    var i = t.user.activeChild && t.user.activeChild.id;
                    return t.checkRole("parent") && t.checkRole("employee") && i ? e.fetchAll({
                        learner_id: i
                    }) : e.fetchAll().catch(function() {
                        return n.goHome()
                    })
                }]
            }
        }).state("parentevent.details", {
            url: "/event/:event_id/name/:event_name",
            views: {
                content: {
                    template: h.default,
                    controller: ["$scope", "parentsEveningService", function(e, t) {
                        e.$on("$destroy", function() {
                            t.clearEventDetails()
                        })
                    }],
                    controllerAs: "vm"
                },
                header: {
                    template: c.default
                }
            },
            data: {
                authorize: ["employee"],
                parentState: "parentevent.events"
            },
            resolve: {
                eventDetailsPrepService: ["$stateParams", "parentsEveningService", "teachersService", "menuService", function(e, t, n, i) {
                    return t.getEventDetails({
                        event_id: e.event_id
                    }).then(function() {
                        if (!n.employees || !n.employees.length) return n.getEmployeesWithFullNameFromDb().then(function(e) {
                            n.employees = e, t.prepTeachers(n.employees), n.filteredTeachers = e
                        });
                        t.prepTeachers(n.employees), n.filteredTeachers = n.employees
                    }).catch(function() {
                        return i.goHome()
                    })
                }],
                studentsPrepService: ["studentsService", "menuService", function(e, t) {
                    var n = e.students;
                    return n.data.users.size ? n : e.getStudents().then(function(t) {
                        e.students = t, e.filteredStudents = t
                    }).catch(function() {
                        return t.goHome()
                    })
                }]
            }
        }).state("parentevent.parentEvent", {
            url: "/parent/:event_id",
            views: {
                header: {
                    template: d.default,
                    controller: ["$stateParams", "parentsEveningService", "eventPrepService", "notificationService", "userService", function(e, t, n, i, s) {
                        var r = this,
                            o = n.video,
                            l = (0, a.default)(n, ["video"]),
                            c = parseInt(e.event_id, 10);
                        this.video = o, this.model = l, this.isLoading = !1, this.isOpeningVideoCallsPage = !1, this.emailMe = function() {
                            r.isLoading = !0, t.sendEmailMeRequest(c).then(function() {
                                return i.showSuccessNotification("Success")
                            }).finally(function() {
                                return r.isLoading = !1
                            })
                        }, this.openVideoCallsPage = function() {
                            r.isOpeningVideoCallsPage = !0, t.openVideoCallsPage(c).finally(function() {
                                r.isOpeningVideoCallsPage = !1
                            })
                        }, this.downloadParentEventPDF = function() {
                            var e = s.user.id;
                            t.downloadPDF(c, e)
                        }
                    }],
                    controllerAs: "vm"
                },
                content: {
                    template: v.default,
                    controllerAs: "vm",
                    controller: ["$timeout", "$scope", "userService", "notificationService", "modalDefaultService", "parentsEveningService", "eventPrepService", "$stateParams", function(e, t, n, s, r, o, l, c) {
                        var d = this,
                            u = c.event_id,
                            _ = (l.video, (0, a.default)(l, ["video"]));
                        this.model = _, this.header = [];
                        var f = {};
                        _.options.header.forEach(function(e) {
                            f[e.learner_id] ? f[e.learner_id].push(e) : f[e.learner_id] = [e]
                        }), this.header = (0, i.default)(f).map(function(e) {
                            var t = f[e].find(function(t) {
                                return e === t.learner_id
                            });
                            return {
                                learner_id: e,
                                learner: t ? t.learner : "",
                                data: f[e]
                            }
                        });
                        this.select = function(e) {
                            var t = e.slot,
                                n = e.slots,
                                i = e.isMobile,
                                a = e.isSlotInfo;
                            if (t || i) {
                                var s = t && t.slot;
                                if (i || s.available) return a || s && s.booked ? function(e, t, n) {
                                    var i = {
                                        slot: e,
                                        slots: t,
                                        isMobile: n,
                                        unbook: function(e) {
                                            return d.unbook(e)
                                        },
                                        book: function(e) {
                                            return d.book(e)
                                        }
                                    };
                                    r.push({
                                        id: "modal-slots-info",
                                        scope: i,
                                        title: "Slot info"
                                    })
                                }(t, n, i) : i ? d.book(t) : void
                                function(e) {
                                    var t = {
                                        model: e,
                                        book: function(e) {
                                            var t = e.model;
                                            return d.book({
                                                event_id: t.event_id,
                                                learner_id: t.learner.id,
                                                slot_id: t.slot.slot_id,
                                                teacher_id: t.teacher_id,
                                                notes_to_teacher: t.notes_to_teacher,
                                                parent_id: t.parent_id
                                            })
                                        }
                                    };
                                    r.push({
                                        id: "modal-booked-slot",
                                        scope: t,
                                        title: "Book slot"
                                    })
                                }(t)
                            }
                        }, this.book = function(e) {
                            return d.send(o.book(e))
                        }, this.unbook = function(e) {
                            return d.send(o.unbook(e))
                        }, this.send = function(i) {
                            return i.then(function(e) {
                                return n.checkRole("parent") && n.checkRole("employee") && n.user.activeChild && (e.parent_id = n.user.id), e
                            }).then(function(e) {
                                return o.fetchWithEmployees({
                                    event_id: u,
                                    parent_id: e.parent_id
                                })
                            }).then(function(e) {
                                e.parent_options = o.associateLearnersForSlots(e.parent_options), d.model.options = o.prepareParentSlots(e.parent_options, u), d.model.emailme = e.emailme, r.pop(), s.showSuccessNotification("Success")
                            }).then(function() {
                                e(function() {
                                    t.$digest(), t.$broadcast("regenerateTable")
                                })
                            })
                        }
                    }]
                }
            },
            data: {
                authorize: ["parent"],
                parentState: "parentevent.events"
            },
            resolve: {
                eventPrepService: ["userService", "parentsEveningService", "$stateParams", "menuService", function(e, t, n, i) {
                    var a = {};
                    return a.event_id = parseInt(n.event_id, 10), e.checkRole("parent") && e.checkRole("employee") && e.user.activeChild && (a.parent_id = e.user.id), t.fetchWithEmployees(a).then(function(e) {
                        return e.parent_options = t.associateLearnersForSlots(e.parent_options), e.parent_options = t.prepareParentSlots(e.parent_options, a.event_id), {
                            options: e.parent_options,
                            emailme: e.emailme,
                            video: e.event.video
                        }
                    }).catch(function() {
                        return i.goHome()
                    })
                }]
            }
        }).state("parentevent.teacherEvent", {
            url: "/teacher/:event_id",
            views: {
                header: {
                    template: u.default,
                    controllerAs: "vm",
                    controller: ["$scope", "$rootScope", "$stateParams", "eventPrepService", "modalDefaultService", "parentsEveningService", function(e, t, n, i, a, s) {
                        var r = this,
                            o = n.event_id;
                        this._eventPrepService = i, this._parentsEveningService = s, this.isAdmin = s.isAdmin, this.isOpeningVideoCallsPage = !1, this.openVideoCallsPage = function() {
                            r.isOpeningVideoCallsPage = !0, s.openVideoCallsPage(o).finally(function() {
                                r.isOpeningVideoCallsPage = !1
                            })
                        }, this.openTeacherBookModal = function() {
                            var e = {
                                onBook: function(e) {
                                    var n = e.event_id,
                                        i = e.employee_id;
                                    return s.fetchPrepEvent({
                                        event_id: n,
                                        employee_id: i
                                    }).then(function(e) {
                                        t.$emit("eventUpdate", e), a.closeAllModals()
                                    })
                                }
                            };
                            a.showModalWithTemplates("modal-teacher-book", e, "Book")
                        }, e.$on("$destroy", function() {
                            s.clearStudents()
                        })
                    }]
                },
                content: {
                    template: f.default,
                    controller: ["$scope", "$rootScope", "$stateParams", "parentsEveningService", "teachersService", "notificationService", "userService", "eventPrepService", "modalDefaultService", function(e, t, i, a, s, r, o, l, c) {
                        this._eventPrepService = l, this.block = function(e) {
                            var t = e.slot,
                                n = s.selectedTeacher ? s.selectedTeacher.id : o.user.id;
                            return a.block(t, i.event_id, n)
                        }, this.attend = function(e) {
                            var t = e.slot,
                                n = s.selectedTeacher ? s.selectedTeacher.id : o.user.id;
                            return a.attend(t, i.event_id, n)
                        };
                        var d = function() {
                            return c.pop()
                        };
                        this.showConfirmModal = function(e) {
                            var t = e.slot;
                            c.showModalWithTemplates("modal-confirm", {
                                message: "Cancel this booking?",
                                cancel: function() {
                                    return d()
                                },
                                confirm: function() {
                                    return function(e) {
                                        var t = s.selectedTeacher ? s.selectedTeacher.id : o.user.id;
                                        return a.unbookSlot(e, i.event_id, t).then(function(e) {
                                            return (0, n.default)(l, e)
                                        }).then(function() {
                                            return r.showSuccessNotification("Success")
                                        }).then(function() {
                                            return d()
                                        })
                                    }(t)
                                }
                            }, "Confirm")
                        };
                        var u = t.$on("eventUpdate", function(e, t) {
                            (0, n.default)(l, t)
                        });
                        e.$on("$destroy", function() {
                            u(), a.teachersEvents = {}, s.selectedTeacher = null
                        })
                    }],
                    controllerAs: "vm"
                },
                footer: {
                    template: _.default,
                    controllerAs: "vm",
                    controller: ["$stateParams", "$filter", "eventPrepService", "attachmentsService", "parentsEveningService", "teachersService", "userService", function(e, t, n, i, a, s, r) {
                        var o = this;
                        this._parentsEveningService = a, this.export = function() {
                            return i.downloadCSV(a.formatDataForExporting(n.slots), "Bookings")
                        }, this.isLoading = !1, this.print = function() {
                            var t = {
                                event_id: e.event_id
                            };
                            return s.data.selectedTeacher && s.data.selectedTeacher.id !== r.user.id && (t.employee_id = s.data.selectedTeacher.id), o.isLoading = !0, a.downloadEmployeePDF(t).finally(function() {
                                return o.isLoading = !1
                            })
                        }
                    }]
                }
            },
            resolve: {
                eventPrepService: ["$stateParams", "parentsEveningService", "menuService", function(e, t, n) {
                    var i = parseInt(e.event_id, 10);
                    return t.fetchPrepEvent({
                        event_id: i
                    }).catch(function() {
                        return n.goHome()
                    })
                }],
                teachersPrepService: ["teachersService", "menuService", "userService", function(e, t, n) {
                    if (n.checkRole("employee")) return e.employees || e.getEmployeesWithFullNameFromDb().then(function(t) {
                        e.employees = t
                    }).catch(function() {
                        return t.goHome()
                    })
                }]
            },
            data: {
                authorize: ["employee"],
                parentState: "parentevent.events",
                destroyFastClick: !0
            }
        })
    }]).component("parentsEvening", o.default).name;
    exports.default = g
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1210)),
        i = a(t(1211));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="container" ng-class="{\'_animation-out\': $ctrl._routeClassService.isMenuIn}">\n  <div class="parents-evening">\n    <div class="parents-evening__inner noSwipe">\n      <ui-view name="header" class="parents-evening__header"></ui-view>\n      <ui-view name="content" class="parents-evening__content"></ui-view>\n      <ui-view name="footer" class="parents-evening__footer"\n               ng-if="$ctrl._routeClassService.fullStateName === \'parentevent.teacherEvent\'"\n      ></ui-view>\n    </div>\n  </div>\n</div>\n\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(1),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    var s = function e(t, n, i) {
        "ngInject";
        var s = this;
        (0, a.default)(this, e), this._routeClassService = t, n.$on("$destroy", function() {
            "student" !== s._routeClassService.rootStateName && (i.clearSelectedStudents(), i.clearLearners())
        })
    };
    s.$inject = ["routeClassService", "$scope", "studentsService"], exports.default = s
}, function(e, exports) {
    e.exports = '<button class="parents-evening__close" ng-click="vm.goHome()" ng-if="!vm.isAdmin">\n    <svg-use name="cross"></svg-use>\n</button>\n<sl-simple-tabs\n  list="vm.tabs"\n  on-change="vm.selectTab({ tab })"\n  ng-if="vm._windowWidthService.windowWidth <= vm._deviceMarginConstants.MOBILE_MARGIN && vm._userService.checkRole(\'employee\')"\n></sl-simple-tabs>\n<button ng-if="vm.isAdmin" class="btn parents-evening__button btn-default" ng-click="vm.openEventCreatingModal()">Add event</button>\n<ul class="parents-evening__tabs"\n    ng-if="vm._windowWidthService.windowWidth > vm._deviceMarginConstants.MOBILE_MARGIN && vm._userService.checkRole(\'employee\')"\n>\n  <li class="parents-evening__tabs-item" ng-repeat="tab in vm.tabs track by $index"\n      ng-click="vm.selectTab({ tab })"\n      ng-class="{ _active: tab.isClicked }">{{ tab.name }}</li>\n</ul>\n'
}, function(e, exports) {
    e.exports = '<a class="parents-evening__close" ui-sref="parentevent.events">\n    <svg-use name="cross"></svg-use>\n</a>\n\n'
}, function(e, exports) {
    e.exports = '<a class="parents-evening__close _event" ui-sref="parentevent.events">\n    <svg-use name="cross"></svg-use>\n</a>\n\n<button type="button" class="btn parents-evening__button btn-default"\n        ng-click="vm.openVideoCallsPage()"\n        ng-if="vm.video"\n        ng-disabled="vm.isOpeningVideoCallsPage"\n>Start appointments</button>\n\n<button class="btn parents-evening__button btn-default _print"\n        ng-disabled="vm.isLoading"\n        ng-click="vm.downloadParentEventPDF()"\n>Print</button>\n\n<button class="btn parents-evening__button btn-default"\n        ng-disabled="vm.isLoading"\n        ng-click="vm.emailMe()"\n        ng-if="vm.model.emailme"\n>Email Me</button>\n\n'
}, function(e, exports) {
    e.exports = '<div class="parents-evening__header-inner">\n  <a class="parents-evening__close _event" ui-sref="parentevent.events">\n    <svg-use name="cross"></svg-use>\n  </a>\n\n  <button type="button" class="btn parents-evening__button btn-default"\n          ng-click="vm.openVideoCallsPage()"\n          ng-if="vm._eventPrepService.event.video"\n          ng-disabled="vm.isOpeningVideoCallsPage"\n  >Start appointments</button>\n\n  <button class="btn parents-evening__button _book btn-default"\n          ng-disabled="!vm._parentsEveningService.students.length"\n          ng-click="vm.openTeacherBookModal()"\n  >Book</button>\n</div>\n\n\n'
}, function(e, exports) {
    e.exports = '<div class="parents-evening__footer-inner">\n  <button class="btn parents-evening__button btn-default _export"\n          ng-disabled="!vm._parentsEveningService.students.length"\n          ng-click="vm.export()"\n  >Export</button>\n\n  <button class="btn parents-evening__button btn-default _print"\n          ng-disabled="vm.isLoading"\n          ng-click="vm.print()"\n  >Print</button>\n</div>\n\n\n'
}, function(e, exports) {
    e.exports = '<t-teacher-event attend="vm.attend({ slot })"\n                 block="vm.block({ slot })"\n                 cancel="vm.showConfirmModal({ slot })"\n                 slots="vm._eventPrepService.slots"\n></t-teacher-event>\n'
}, function(e, exports) {
    e.exports = '<t-parent-event\n  fixed-column\n  model="vm.model.options"\n  header="vm.header"\n  unbook="vm.unbook(slot)"\n  book="vm.book(slot)"\n  select="vm.select({ slot, slots, isMobile, isSlotInfo })"\n></t-parent-event>\n'
}, function(e, exports) {
    e.exports = '<t-events\n  events="vm.events()"\n  next-state="{{ vm.nextState }}"\n></t-events>\n'
}, function(e, exports) {
    e.exports = "<b-event-details></b-event-details>\n"
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = o(t(0)),
        i = o(t(9)),
        a = o(t(1222)),
        s = o(t(1224)),
        r = o(t(1225));

    function o(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var l = n.default.module("parents-evening-call", [i.default]).config(["$stateProvider", "$urlRouterProvider", function(e, t) {
        "ngInject";
        t.otherwise("/"), e.state("parenteventcall", {
            url: "/parents-evening-call",
            component: "parentsEveningCall",
            abstract: !0,
            data: {
                headerGradientColors: {
                    from: "#eca54a",
                    to: "#eca54a"
                },
                pageClass: "p-parents-evening-call",
                authorize: ["employee", "parent"]
            }
        }).state("parenteventcall.event", {
            url: "/:event_id",
            views: {
                header: {
                    template: s.default,
                    controller: ["$stateParams", "$window", "parentsEveningService", function(e, t, n) {
                        this.close = function() {
                            n.room && n.room.disconnect(), t.close()
                        }
                    }],
                    controllerAs: "vm"
                },
                content: {
                    template: r.default,
                    controller: ["$scope", "parentsEveningService", function(e, t) {
                        e.$on("$destroy", function() {
                            t.appointments = null, t.room = null
                        })
                    }],
                    controllerAs: "vm"
                }
            },
            resolve: {
                eventPrepService: ["$stateParams", "parentsEveningService", "menuService", function(e, t, n) {
                    var i = Number(e.event_id);
                    return t.getParentEventAppointments(i).catch(function() {
                        return n.goHome()
                    })
                }]
            },
            data: {
                authorize: ["parent", "employee"]
            }
        })
    }]).component("parentsEveningCall", a.default).name;
    exports.default = l
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(1223);
    var a = {
        template: ((n = i) && n.__esModule ? n : {
            default: n
        }).default
    };
    exports.default = a
}, function(e, exports) {
    e.exports = '<div class="parents-evening-call">\n  <div class="parents-evening-call__inner noSwipe">\n    <ui-view name="header" class="parents-evening-call__header"></ui-view>\n    <ui-view name="content" class="parents-evening-call__content"></ui-view>\n  </div>\n</div>\n\n'
}, function(e, exports) {
    e.exports = '<button type="button" class="parents-evening-call__close" ng-click="vm.close()">\n  <svg-use name="cross"></svg-use>\n</button>\n\n\n'
}, function(e, exports) {
    e.exports = "<b-video-call></b-video-call>\n"
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(0)),
        i = s(t(9)),
        a = s(t(1227));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = n.default.module("sen", [i.default]).config(["$stateProvider", "$urlRouterProvider", function(e, t) {
        "ngInject";
        t.otherwise("/"), e.state("sen", {
            url: "/sen",
            component: "sen",
            data: {
                pageClass: "p-sen",
                headerGradientColors: {
                    from: "#5f62d8",
                    to: "#3988c6"
                },
                pageTitle: "SEN",
                authorize: ["employee", "parent", "learner"],
                parentState: "home"
            },
            resolve: {
                senPrepService: ["menuService", "senDataService", "userService", function(e, t, n) {
                    return t.getSenDataFromDb(n.user.idFromLastAction).then(function(e) {
                        return t.sen[n.user.idFromLastAction] = e.details, e
                    }).catch(function() {
                        return e.goHome()
                    })
                }],
                personalPrepService: ["personalDataService", "userService", "menuService", function(e, t, n) {
                    var i = t.user.idFromLastAction,
                        a = {
                            learner_id: i
                        };
                    return e.personal = e.personal || {}, e.personal[i] || e.getPersonalDataFromDb(a).catch(function() {
                        return n.goHome()
                    })
                }]
            }
        })
    }]).component("sen", a.default).name;
    exports.default = r
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1228)),
        i = a(t(1229));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="container" ng-class="{\'_animation-out\': $ctrl._routeClassService.isMenuIn}">\n  <b-student-info data="$ctrl.sen" class="noSwipe"></b-student-info>\n</div>\n\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s) {
            "ngInject";
            (0, n.default)(this, e), this._senDataService = i, this._userService = a, this._routeClassService = s, this.initValues(), this.setDataToNewUser();
            var r = t.$on("userChangeLearner", this.setDataToNewUser.bind(this));
            t.$on("$destroy", r)
        }
        return e.$inject = ["$scope", "senDataService", "userService", "routeClassService"], (0, i.default)(e, [{
            key: "initValues",
            value: function(e) {
                this.data && !e || (this.data = {
                    sen: null
                })
            }
        }, {
            key: "setDataToNewUser",
            value: function() {
                var e = this,
                    t = this._userService.user.idFromLastAction;
                this._senDataService.sen[t] ? this.sen = this._senDataService.sen[t] : this._senDataService.getSenDataFromDb(t).then(function(n) {
                    e._senDataService.sen[t] = n.details, e.sen = e._senDataService.sen[t]
                })
            }
        }, {
            key: "sen",
            get: function() {
                return this.data.sen
            },
            set: function(e) {
                this.data.sen = e
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = E(t(26)),
        i = E(t(35)),
        a = E(t(0)),
        s = E(t(9)),
        r = E(t(1231)),
        o = E(t(1234)),
        l = E(t(1235)),
        c = E(t(1236)),
        d = E(t(1237)),
        u = E(t(1238)),
        _ = E(t(1239)),
        f = E(t(1240)),
        v = E(t(1241)),
        m = E(t(1242)),
        h = E(t(1243)),
        p = E(t(1244)),
        g = E(t(1245)),
        b = E(t(1246)),
        S = E(t(1247)),
        y = E(t(1248)),
        k = E(t(1249)),
        M = E(t(1250)),
        w = E(t(1251)),
        D = E(t(1252)),
        T = E(t(1253)),
        C = E(t(1254)),
        P = E(t(1255)),
        L = E(t(1256)),
        x = E(t(1257)),
        j = E(t(1258)),
        I = E(t(1259)),
        A = E(t(415));

    function E(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var O = a.default.module("student", [s.default]).config(["$stateProvider", function(e) {
        "ngInject";
        e.state("student", {
            url: "/student/{studentId}",
            component: "student",
            data: {
                pageClass: "p-student p-home",
                headerGradientColors: {
                    from: "#4996cd",
                    to: "#8282c6"
                },
                parentState: "learners",
                authorize: ["employee"]
            },
            resolve: {
                singleStudentPrepService: ["userService", "studentsService", "$stateParams", function(e, t, n) {
                    return t.getStudents(n.studentId).then(function(t) {
                        e.user.activeStudent = t[0]
                    }).catch(function() {
                        return null
                    })
                }],
                singleStudentPhotoPrepService: ["menuService", "studentsService", "$stateParams", "requestService", "userService", function(e, t, n, i, a) {
                    return t.students.getPhotos([n.studentId], 640).then(function(t) {
                        if (i.isDemoMode) {
                            var n = t.filter(function(e) {
                                return e.id === a.user.activeStudent.id
                            }).pop();
                            e.logo = {
                                path: -1 !== n.photo.indexOf("data:image/") ? n.photo : "data:image/gif;base64," + n.photo
                            }
                        } else e.logo = {
                            path: -1 !== t[0].photo.indexOf("data:image/") ? t[0].photo : "data:image/gif;base64," + t[0].photo
                        }
                    }).catch(function() {
                        return null
                    })
                }]
            }
        }).state("student.contact", {
            url: "/contact",
            data: {
                pageClass: "p-student p-contact",
                parentState: "student",
                pageTitle: "Contacts"
            },
            views: {
                studentPage: {
                    template: _.default,
                    controller: ["$scope", "$rootScope", "userService", "contactsDataService", function(e, t, n, i) {
                        var a = [n.user.idFromLastAction];
                        t.$on("userChangeLearner", void(i.contacts[a] ? e.contacts = i.contacts[a] : i.getContactsDataFromDb({
                            learner_ids: a
                        }).then(function(t) {
                            e.contacts = t.contacts
                        })))
                    }]
                }
            },
            resolve: {
                contactPrepService: ["contactsDataService", "userService", "menuService", function(e, t, n) {
                    var i = [t.user.idFromLastAction];
                    return e.contacts = e.contacts || {}, e.getContactsDataFromDb({
                        learner_ids: i
                    }).then(function(t) {
                        e.contacts[i] = t.contacts
                    }).catch(function() {
                        return n.goHome(), null
                    })
                }],
                personalPrepService: ["personalDataService", "userService", "menuService", function(e, t, n) {
                    var i = t.user.idFromLastAction,
                        a = {
                            learner_id: i
                        };
                    return a.currentGender = t.user.activeStudent && t.user.activeStudent.gender, a.currentType = "learner", e.personal = e.personal || {}, e.personal[i] || e.getPersonalDataFromDb(a).then(function(t) {
                        e.personal[i] = t.personal
                    }).catch(function() {
                        return n.goHome(), null
                    })
                }]
            }
        }).state("student.calendar", {
            url: "/calendar",
            data: {
                pageClass: "p-student p-calendar",
                parentState: "student",
                pageTitle: "Calendar"
            },
            views: {
                studentPage: {
                    template: d.default
                }
            }
        }).state("student.account", {
            url: "/account",
            data: {
                pageClass: "p-student p-account",
                parentState: "student",
                pageTitle: "Account Info"
            },
            views: {
                studentPage: {
                    template: l.default,
                    controller: ["$rootScope", "$scope", "userService", "personalDataService", function(e, t, n, i) {
                        var a, s = e.$on("userChangeLearner", (a = n.user.idFromLastAction, void(i.personal[a] ? t.personal = i.personal[a] : i.getPersonalDataFromDb({
                            currentId: a
                        }).then(function(e) {
                            t.personal = e.personal, i.personal[a] = e.personal
                        }))));
                        t.$on("$destroy", s)
                    }]
                }
            },
            resolve: {
                personalPrepService: ["personalDataService", "userService", "menuService", function(e, t, n) {
                    var i = t.user.idFromLastAction,
                        a = {
                            learner_id: i
                        };
                    return a.currentGender = t.user.activeStudent && t.user.activeStudent.gender, a.currentType = "learner", e.personal = e.personal || {}, e.getPersonalDataFromDb(a).then(function(t) {
                        e.personal[i] = t.personal
                    }).catch(function() {
                        return n.goHome()
                    })
                }]
            }
        }).state("student.timetable", {
            url: "/timetable",
            abstract: !0,
            views: {
                studentPage: {
                    template: m.default,
                    controller: ["$rootScope", "$scope", "userService", "requestService", "timetableService", function(e, t, n, i, a) {
                        var s, r, o = e.$on("userChangeLearner", (s = n.user.idFromLastAction, r = i.getDateToRequest(), void a.getTimetableDataFromDb({
                            date: r,
                            learner_id: s
                        }, !0)));
                        t.$on("$destroy", o)
                    }]
                }
            },
            data: {
                pageClass: "p-student p-timetable",
                pageTitle: "Timetable"
            }
        }).state("student.timetable.list", {
            url: "/list?day",
            resolve: {
                timetablePrepService: ["timetableService", "requestService", "userService", "menuService", function(e, t, n, i) {
                    var a = t.getDateToRequest(),
                        s = n.user.idFromLastAction;
                    return e.getTimetableDataFromDb({
                        date: a,
                        learner_id: s
                    }, !0).catch(function() {
                        return i.goHome()
                    })
                }]
            },
            data: {
                pageClass: "p-student p-timetable",
                parentState: "student"
            }
        }).state("student.attendance", {
            url: "/attendance",
            abstract: !0,
            data: {
                pageClass: "p-student p-attendance"
            },
            views: {
                studentPage: {
                    template: h.default
                }
            }
        }).state("student.attendance.list", {
            url: "/list?page",
            data: {
                parentState: "student",
                pageTitle: "Attendance"
            },
            resolve: {
                attendancePrepService: ["attendanceService", "userService", "menuService", function(e, t, n) {
                    var i = t.user.idFromLastAction;
                    return e.getAttendanceDataFromDB(i).catch(function() {
                        return n.goHome()
                    })
                }]
            }
        }).state("student.documents", {
            url: "/documents",
            views: {
                studentPage: {
                    template: f.default,
                    controller: ["$rootScope", "$scope", "documentsService", "userService", function(e, t, n, i) {
                        var a, s = e.$on("userChangeLearner", (a = i.user.idFromLastAction, void(n.documents[a] ? t.documents = n.documents[a] : n.getDocumentsDataFromDb(a).then(function(e) {
                            return t.documents = e.documents, n.documents[a] = e.documents, n.documents[a]
                        }))));
                        t.$on("$destroy", s)
                    }]
                }
            },
            resolve: {
                documentsPrepService: ["documentsService", "menuService", "userService", function(e, t, n) {
                    var i = n.user.idFromLastAction;
                    return e.documents = e.documents || {}, e.getDocumentsDataFromDb(i).then(function(t) {
                        e.documents[i] = t.documents
                    }).catch(function() {
                        return t.goHome()
                    })
                }]
            },
            data: {
                pageClass: "p-documents p-student",
                pageTitle: "Documents",
                parentState: "student"
            }
        }).state("student.medical", {
            url: "/medical",
            views: {
                studentPage: {
                    template: v.default,
                    controller: ["$rootScope", "$scope", "medicalDataService", "userService", function(e, t, n, i) {
                        var a, s = e.$on("userChangeLearner", (a = i.user.idFromLastAction, void(n.medical[a] ? t.medical = n.medical[a] : n.getMedicalDataFromDb(a, 2).then(function(e) {
                            t.medical = e.medical, n.medical[a] = e.medical
                        }))));
                        t.$on("$destroy", s)
                    }]
                }
            },
            resolve: {
                medicalPrepService: ["medicalDataService", "userService", "menuService", function(e, t, n) {
                    var i = t.user.idFromLastAction;
                    return e.medical = e.medical || {}, e.getMedicalDataFromDb(i, 2).then(function(t) {
                        e.medical[i] = t.medical
                    }).catch(function() {
                        return n.goHome()
                    })
                }]
            },
            data: {
                pageClass: "p-medical p-student",
                pageTitle: "Medical info",
                parentState: "student"
            }
        }).state("student.behaviour", {
            url: "/behaviour",
            abstract: !0,
            views: {
                studentPage: {
                    template: c.default,
                    controller: ["colorService", function(e) {
                        e.clear()
                    }]
                }
            },
            data: {
                pageClass: "p-medical p-student"
            }
        }).state("student.behaviour.summary-achievement-points", {
            url: "/summary/points/achievement",
            views: {
                behaviourLeft: {
                    template: M.default
                },
                behaviourRight: {
                    template: w.default,
                    controller: ["$rootScope", "$scope", "behaviourDataService", "userService", function(e, t, n, a) {
                        var s = function() {
                                var e = a.user.idFromLastAction;
                                n.data.achievementData[e] ? t.data = (0, i.default)({}, n.data.achievementData[e]) : n.getBehaviourDataFromDb(e).then(function(a) {
                                    n.data.achievementData[e] = a, t.data = (0, i.default)({}, n.data.achievementData[e])
                                }), t.$emit("user.userSelectChild")
                            },
                            r = e.$on("userChangeLearner", s);
                        t.$on("$destroy", r), s()
                    }]
                }
            },
            resolve: {
                behaviourPointsPrepService: ["behaviourDataService", "menuService", "userService", function(e, t, n) {
                    var i = n.user.idFromLastAction;
                    return e.achievementData = e.achievementData || {}, e.getAchievementDataFromDb(i).then(function(t) {
                        e.achievementData[i] = t
                    }).catch(function() {
                        return t.goHome()
                    })
                }],
                behaviourAchievementLookups: ["behaviourDataService", "menuService", function(e, t) {
                    return e.behaviourAchievementLookups || e.getBehaviourAchievementLookupsFromDb().catch(function() {
                        return t.goHome()
                    })
                }]
            },
            data: {
                pageClass: "p-behaviour _summary-achievement-points p-student",
                parentState: "student",
                pageTitle: "Achievement",
                headerGradientColors: {
                    from: "#509BD5",
                    to: "#50B4D5"
                }
            }
        }).state("student.behaviour.points-behaviour", {
            url: "/points/behaviour",
            views: {
                behaviourLeft: {
                    template: D.default,
                    controller: ["$state", "studentsService", function(e, t) {
                        t.selectedStudents.length || e.go("student.behaviour.summary-behaviour-points")
                    }]
                },
                behaviourRight: {
                    template: T.default,
                    controller: function() {
                        this.pageType = "behaviour"
                    },
                    controllerAs: "vm"
                }
            },
            resolve: {
                studentBehaviourInputsPrepService: ["behaviourDataService", "menuService", function(e, t) {
                    return e.behaviourAchievementLookups || e.getBehaviourAchievementLookupsFromDb().catch(function() {
                        return t.goHome()
                    })
                }],
                teachersPrepService: ["teachersService", "menuService", function(e, t) {
                    return e.teachers || e.getEmployeesWithFullNameFromDb().then(function(t) {
                        e.teachers = t
                    }).catch(function() {
                        return t.goHome()
                    })
                }]
            },
            data: {
                authorize: ["employee", "parent", "learner"],
                parentState: "student.behaviour.summary-behaviour-points",
                pageTitle: "Behaviour"
            }
        }).state("student.behaviour.points-achievement", {
            url: "/points/achievement",
            views: {
                behaviourLeft: {
                    template: D.default,
                    controller: ["$state", "studentsService", function(e, t) {
                        t.selectedStudents.length || e.go("behaviour.search")
                    }]
                },
                behaviourRight: {
                    template: T.default,
                    controller: function() {
                        this.pageType = "achievement"
                    },
                    controllerAs: "vm"
                }
            },
            resolve: {
                studentBehaviourInputsPrepService: ["behaviourDataService", "menuService", function(e, t) {
                    return e.behaviourAchievementLookups || e.getBehaviourAchievementLookupsFromDb().catch(function() {
                        return t.goHome()
                    })
                }],
                teachersPrepService: ["teachersService", "menuService", function(e, t) {
                    return e.teachers || e.getAllTeachersWithFullNameFromDb().then(function(t) {
                        e.teachers = t
                    }).catch(function() {
                        return t.goHome()
                    })
                }]
            },
            data: {
                authorize: ["employee", "parent"],
                parentState: "behaviour.select-achievement",
                pageTitle: "Bulk Achievement"
            }
        }).state("student.behaviour.summary-behaviour-points", {
            url: "/summary/points/behaviour",
            views: {
                behaviourLeft: {
                    template: M.default
                },
                behaviourRight: {
                    template: w.default,
                    controller: ["$rootScope", "$scope", "behaviourDataService", "userService", function(e, t, n, a) {
                        var s = function() {
                                var e = a.user.idFromLastAction;
                                n.data.behaviourData[e] ? t.data = (0, i.default)({}, n.data.behaviourData[e]) : n.getBehaviourDataFromDb(e).then(function(a) {
                                    n.data.behaviourData[e] = a, t.data = (0, i.default)({}, n.data.behaviourData[e])
                                }), t.$emit("user.userSelectChild")
                            },
                            r = e.$on("userChangeLearner", s);
                        t.$on("$destroy", r), s()
                    }]
                }
            },
            resolve: {
                sessions: ["detentionsService", "behaviourDataService", "menuService", "dateService", function(e, t, n, i) {
                    var a = moment().format(i.getDateFormat("apiDate"));
                    e.fetchSessions({
                        from_date: a,
                        exclude_full: !0
                    }).then(function(n) {
                        e.sessions = n, t.addPreelemToArray(e.sessions, "sessionData", "Detention")
                    }).catch(function() {
                        return n.goHome()
                    })
                }],
                behaviourService: ["$q", "behaviourDataService", "userService", "menuService", function(e, t, n, i) {
                    var a = n.user.idFromLastAction;
                    t.behaviourData = t.behaviourData || {};
                    var s = [t.getBehaviourDataFromDb(a)];
                    return t.behaviourAchievementLookups || s.push(t.getBehaviourAchievementLookupsFromDb()), e.all(s).then(function(e) {
                        var n = e[0].report_cards;
                        n && (t.behaviourData[a].report_cards = t.addTypesToReportCards(n))
                    }).catch(function() {
                        return i.goHome()
                    })
                }],
                behaviourAchievementLookups: ["behaviourDataService", "menuService", function(e, t) {
                    return e.behaviourAchievementLookups || e.getBehaviourAchievementLookupsFromDb().catch(function() {
                        return t.goHome()
                    })
                }],
                marksPrepService: ["registersService", "menuService", function(e, t) {
                    return e.getRegisterCodes().catch(function() {
                        return t.goHome()
                    })
                }]
            },
            data: {
                pageClass: "p-behaviour _summary-behaviour-points p-student",
                parentState: "student",
                pageTitle: "Behaviour"
            }
        }).state("student.behaviour.single-behaviour-points", {
            url: "/points/behaviour/single",
            views: {
                behaviourLeft: {
                    template: y.default
                },
                behaviourRight: {
                    template: k.default,
                    controller: ["$state", "behaviourDataService", function(e, t) {
                        t.currentTypeForNewPage || e.go("student.behaviour.summary-behaviour-points")
                    }]
                }
            },
            data: {
                authorize: ["employee"],
                parentState: "student.behaviour.summary-behaviour-points",
                pageTitle: "Behaviour"
            }
        }).state("student.behaviour.single-achievement-points", {
            url: "/points/achievement/single",
            views: {
                behaviourLeft: {
                    template: y.default
                },
                behaviourRight: {
                    template: k.default,
                    controller: ["$state", "behaviourDataService", function(e, t) {
                        t.currentTypeForNewPage || e.go("student.behaviour.summary-achievement-points")
                    }]
                }
            },
            data: {
                authorize: ["employee"],
                parentState: "student.behaviour.summary-achievement-points",
                pageTitle: "Achievements"
            }
        }).state("student.exams", {
            url: "/exams",
            abstract: !0,
            views: {
                studentPage: {
                    template: p.default
                }
            },
            data: {
                pageClass: "p-student p-exams",
                headerGradientColors: {
                    from: "#4889ec",
                    to: "#4ba8e7"
                },
                pageTitle: "My exams",
                authorize: ["employee"]
            }
        }).state("student.exams.list", {
            url: "/list?page",
            data: {
                pageClass: "p-student p-exams",
                headerGradientColors: {
                    from: "#4889ec",
                    to: "#4ba8e7"
                },
                pageTitle: "Exams",
                authorize: ["employee"],
                parentState: "student"
            },
            resolve: {
                examsPrepService: ["$stateParams", "examsService", "menuService", function(e, t, n) {
                    var i = e.studentId,
                        a = e.page;
                    return t.getExamsDataFromDb(i, a).catch(function() {
                        return n.goHome()
                    })
                }]
            }
        }).state("student.homework", {
            url: "/homework",
            abstract: !0,
            views: {
                studentPage: {
                    template: g.default
                }
            }
        }).state("student.homework.list", {
            url: "/list?page",
            data: {
                pageClass: "p-student p-homework",
                headerGradientColors: {
                    from: "#4889ec",
                    to: "#4ba8e7"
                },
                authorize: ["employee"],
                parentState: "student",
                pageTitle: "Homework"
            },
            resolve: {
                homeworkPrepService: ["$stateParams", "homeworkDataService", "userService", "menuService", function(e, t, n, i) {
                    var a = {
                        page: e.page ? e.page : "current"
                    };
                    return n.checkRole("employee") && (a.learner_id = n.user.idFromLastAction), t.getHomework(a).catch(function() {
                        return i.goHome()
                    })
                }],
                studentsPrepService: ["menuService", "studentsService", "userService", function(e, t, n) {
                    if (n.checkRole("employee")) return t.getStudents().then(function(e) {
                        t.students = e, t.filteredStudents = e
                    }).catch(function() {
                        return e.goHome()
                    })
                }],
                userDefinedGroupsPrepService: ["menuService", "studentsService", "userService", function(e, t, n) {
                    if (n.checkRole("employee") && !t.userDefinedGroups.length) return t.getUserDefinedGroups().then(function(e) {
                        t.userDefinedGroups = e.groups
                    }).catch(function() {
                        return e.goHome()
                    })
                }]
            }
        }).state("student.catering", {
            url: "/catering",
            abstract: !0,
            views: {
                studentPage: {
                    template: u.default
                }
            },
            data: {
                pageClass: "p-student p-catering",
                headerGradientColors: {
                    from: "#4889ec",
                    to: "#4ba8e7"
                },
                pageTitle: "Catering",
                authorize: ["employee"],
                parentState: "student"
            }
        }).state("student.catering.info", {
            url: "/info",
            resolve: {
                cateringPrepService: ["cateringService", "userService", "menuService", function(e, t, n) {
                    var i = t.user.idFromLastAction;
                    return e.getCateringDataFromDb(i).then(function(t) {
                        e.catering = t
                    }).catch(function() {
                        return n.goHome()
                    })
                }]
            }
        }).state("student.assessment", {
            url: "/assessment",
            abstract: !0,
            views: {
                studentPage: {
                    template: o.default
                }
            },
            data: {
                pageClass: "p-student p-assessment",
                headerGradientColors: {
                    from: "#FF6C5D",
                    to: "#FF745D"
                },
                pageTitle: "My assessment",
                authorize: ["employee"]
            }
        }).state("student.assessment.list", {
            url: "/list?year?tab",
            resolve: {
                assessmentPrepService: ["$stateParams", "AssessmentService", "userService", "menuService", function(e, t, n, i) {
                    var a = t,
                        s = e.studentId;
                    return a.getAssessmentGridsFromDb({
                        learner_id: s
                    }).then(function(t) {
                        return a.activeSelect = e.year || "current", a.data.activeGrid = t, a.getCurrentTabs(e.tab), a.renderTab(null, a.currentTab), a.getSelectOption(t), t
                    }).catch(function() {
                        return i.goHome()
                    })
                }]
            }
        }).state("student.sen", {
            url: "/sen",
            views: {
                studentPage: {
                    template: b.default
                }
            },
            resolve: {
                senPrepService: ["menuService", "senDataService", "userService", function(e, t, n) {
                    return t.getSenDataFromDb(n.user.idFromLastAction).then(function(e) {
                        return t.sen[n.user.idFromLastAction] = e.details, e
                    }).catch(function() {
                        return e.goHome()
                    })
                }],
                personalPrepService: ["personalDataService", "userService", "menuService", function(e, t, n) {
                    var i = t.user.idFromLastAction,
                        a = {
                            learner_id: i
                        };
                    return e.personal = e.personal || {}, e.personal[i] || e.getPersonalDataFromDb(a).catch(function() {
                        return n.goHome()
                    })
                }]
            },
            data: {
                pageClass: "p-sen p-student",
                headerGradientColors: {
                    from: "#5f62d8",
                    to: "#3988c6"
                },
                pageTitle: "SEN",
                parentState: "student"
            }
        }).state("student.parentevent", {
            url: "/parents-evening",
            views: {
                studentPage: {
                    template: C.default
                }
            },
            abstract: !0,
            data: {
                pageClass: "p-parents-evening",
                headerGradientColors: {
                    from: "#eca54a",
                    to: "#eca54a"
                },
                authorize: ["employee"],
                pageTitle: "Parents' Evening"
            }
        }).state("student.clubs", {
            url: "/clubs",
            abstract: !0,
            views: {
                studentPage: {
                    template: S.default
                }
            }
        }).state("student.clubs.list", {
            url: "/list?page",
            views: {
                header: {
                    template: I.default,
                    controller: ["clubsService", "deviceMarginConstants", "userService", "windowWidthService", function(e, t, n, i) {
                        this._clubsService = e, this._deviceMarginConstants = t, this._userService = n, this._windowWidthService = i
                    }],
                    controllerAs: "vm"
                },
                content: {
                    template: A.default,
                    controller: ["clubsService", function(e) {
                        this._clubsService = e
                    }],
                    controllerAs: "vm"
                }
            },
            resolve: {
                clubsPrepService: ["$stateParams", "clubsService", "menuService", "userService", function(e, t, n, i) {
                    var a = {
                        member: !e.page || "my_clubs" === e.page,
                        learner_id: i.user.activeStudent.id
                    };
                    return t.getClubs(a).catch(function() {
                        return n.goHome()
                    })
                }]
            },
            data: {
                pageClass: "p-clubs",
                headerGradientColors: {
                    from: "#4889ec",
                    to: "#4ba8e7"
                },
                parentState: "home",
                pageTitle: "Clubs",
                authorize: ["employee"]
            }
        }).state("student.parentevent.events", {
            url: "",
            views: {
                header: {
                    template: P.default,
                    controller: ["modalDefaultService", "menuService", function(e, t) {
                        this.goHome = function() {
                            return t.goHome()
                        }
                    }],
                    controllerAs: "vm"
                },
                content: {
                    template: '<t-events events="vm.events()" next-state="{{ vm.nextState }}"></t-events>',
                    controller: ["parentsEveningService", function(e) {
                        this.nextState = "student.parentevent.parentEvent", this.events = function() {
                            return e.events
                        }
                    }],
                    controllerAs: "vm"
                }
            },
            data: {
                parentState: "student"
            },
            resolve: {
                events: ["parentsEveningService", "userService", "menuService", function(e, t, n) {
                    var i = t.user.idFromLastAction;
                    return e.fetchAll({
                        learner_id: i
                    }).catch(function() {
                        return n.goHome()
                    })
                }]
            }
        }).state("student.parentevent.details", {
            url: "/event/:event_id/name/:event_name",
            views: {
                content: {
                    template: "<b-event-details></b-event-details>"
                },
                header: {
                    template: j.default
                }
            },
            data: {
                authorize: ["employee"],
                parentState: "student.parentevent.events"
            },
            resolve: {
                eventDetailsPrepService: ["$stateParams", "parentsEveningService", "teachersService", "menuService", function(e, t, n, i) {
                    return t.getEventDetails({
                        event_id: e.event_id
                    }).then(function() {
                        n.employees && n.employees.length ? (t.prepTeachers(n.employees), n.filteredTeachers = n.employees) : n.getEmployeesWithFullNameFromDb().then(function(e) {
                            n.employees = e, t.prepTeachers(n.employees), n.filteredTeachers = e
                        })
                    }).catch(function() {
                        return i.goHome()
                    })
                }],
                studentsPrepService: ["studentsService", "menuService", function(e, t) {
                    var n = e.students;
                    return n.data.users.size ? n : e.getStudents().then(function(t) {
                        e.students = t, e.filteredStudents = t
                    }).catch(function() {
                        return t.goHome()
                    })
                }]
            }
        }).state("student.parentevent.parentEvent", {
            url: "/:event_id",
            views: {
                header: {
                    template: L.default,
                    controller: ["$stateParams", "contactsDataService", "parentsEveningService", "model", "notificationService", "modalDefaultService", "userService", function(e, t, n, i, a, s, r) {
                        var o = this,
                            l = parseInt(e.event_id, 10);
                        this.model = i, this.isLoading = !1, this.emailMe = function() {
                            o.isLoading = !0, n.sendEmailMeRequest(l).then(function() {
                                return a.showSuccessNotification("Success")
                            }).finally(function() {
                                return o.isLoading = !1
                            })
                        }, this.downloadParentEventPDF = function() {
                            var e = r.user.activeStudent.id;
                            t.getRelatedParentsFromDb({
                                learner_ids: [e],
                                only_parents: !0
                            }).then(function(e) {
                                if (!(e.contacts && e.contacts.length > 0)) return n.downloadPDF(l, parent_id);
                                var t = {
                                    parents: e.contacts,
                                    onTeacherSelect: function(e) {
                                        var t = e.parent_id;
                                        return n.downloadPDF(l, t)
                                    }
                                };
                                s.showModalWithTemplates("modal-select-parent", t, "Select Parent")
                            })
                        }
                    }],
                    controllerAs: "vm"
                },
                content: {
                    template: x.default,
                    controllerAs: "vm",
                    controller: ["$timeout", "$scope", "notificationService", "modalDefaultService", "parentsEveningService", "model", "$stateParams", "userService", function(e, t, a, s, r, o, l, c) {
                        var d = this,
                            u = parseInt(l.event_id, 10),
                            _ = c.user.idFromLastAction;
                        this.model = o, this.header = [];
                        var f = {};
                        o.options.header.forEach(function(e) {
                            f[e.learner_id] ? f[e.learner_id].push(e) : f[e.learner_id] = [e]
                        }), this.header = (0, n.default)(f).map(function(e) {
                            var t = f[e].find(function(t) {
                                return e === t.learner_id
                            });
                            return {
                                learner_id: e,
                                learner: t ? t.learner : "",
                                data: f[e]
                            }
                        }), this.select = function(e) {
                            var t = e.slot,
                                n = e.slots,
                                i = e.isMobile,
                                a = e.isSlotInfo;
                            if (t || i) {
                                var r = t && t.slot;
                                if (i || r.available) return a || r && r.booked ? s.push({
                                    id: "modal-slots-info",
                                    scope: {
                                        slot: t,
                                        slots: n || [t],
                                        isMobile: i,
                                        unbook: function(e) {
                                            return d.unbook(e)
                                        },
                                        book: function(e) {
                                            return d.book(e)
                                        }
                                    },
                                    title: "Slot info"
                                }) : i ? d.book(t) : void s.push({
                                    id: "modal-booked-slot",
                                    title: "Book slot",
                                    scope: {
                                        model: t,
                                        book: function(e) {
                                            var t = e.model;
                                            return d.book({
                                                event_id: t.event_id,
                                                learner_id: t.learner.id,
                                                slot_id: t.slot.slot_id,
                                                teacher_id: t.teacher_id,
                                                notes_to_teacher: t.notes_to_teacher,
                                                parent_id: t.parent_id
                                            })
                                        }
                                    }
                                })
                            }
                        }, this.book = function(e) {
                            return d.send(r.book(e))
                        }, this.unbook = function(e) {
                            return d.send(r.unbook(e))
                        }, this.send = function(n) {
                            return n.then(function() {
                                return r.handleTeacherLearnerState(u, _)
                            }).then(function(e) {
                                (0, i.default)(d.model, e), s.pop(), a.showSuccessNotification("Success")
                            }).then(function() {
                                e(function() {
                                    t.$digest(), t.$broadcast("regenerateTable")
                                })
                            })
                        }
                    }]
                }
            },
            data: {
                authorize: ["employee"],
                parentState: "student.parentevent.events"
            },
            resolve: {
                model: ["parentsEveningService", "$stateParams", "userService", "menuService", function(e, t, n, i) {
                    var a = parseInt(t.event_id, 10),
                        s = n.user.idFromLastAction;
                    return e.handleTeacherLearnerState(a, s).catch(function() {
                        return i.goHome()
                    })
                }]
            }
        })
    }]).component("student", r.default).name;
    exports.default = O
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1232)),
        i = a(t(1233));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="student">\n  <div class="student__back">\n    <div class="student__back-wrapper">\n      <div class="student__back-artboard"></div>\n      <button class="student__back-link" ng-click="$ctrl.goOnTeacher()">\n        <svg-use name="home"></svg-use>\n      </button>\n    </div>\n  </div>\n\n  <pr-student-selector\n    ng-if="!$ctrl.isBehaviourSingle && !$ctrl.isAchievementSingle && !$ctrl.isParentsEveningSingle"\n  ></pr-student-selector>\n  <home\n    ng-if="$ctrl._windowWidthService.windowWidth <= $ctrl._deviceMarginConstants.MOBILE_MARGIN\n      && $ctrl.fullStateName === \'student\'">\n  </home>\n  <div ui-view="studentPage"></div>\n</div>\n\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r, o, l, c) {
            "ngInject";
            (0, n.default)(this, e), this._menuService = s, this._studentsService = r, this._$state = a, this._routeClassService = t, this._windowWidthService = i, this._deviceMarginConstants = o, this._userService = l, this._$timeout = c
        }
        return e.$inject = ["routeClassService", "windowWidthService", "$state", "menuService", "studentsService", "deviceMarginConstants", "userService", "$timeout"], (0, i.default)(e, [{
            key: "goOnTeacher",
            value: function() {
                angular.element(".student__back").removeClass("_active");
                var e = [this._menuService.eventsName.MENU_HIDE, this._menuService.eventsName.MENU_INIT, this._menuService.eventsName.MENU_EMPTY],
                    t = [null, function(e, t, n) {
                        n.user.activeStudent = null, e.menu = e.availableMenu[n.user.mainMenuName].mainMenu, e.logo = n.user.logo, t.transitionTo("home", {}, {
                            notify: !1
                        })
                    }.bind(null, this._menuService, this._$state, this._userService), "bindEvents"];
                this._menuService.setEvents(e, [], t)
            }
        }, {
            key: "$onInit",
            value: function() {
                var e = this;
                this._userService.user.activeStudent.photo || this.getPhoto(this._userService.user.activeStudent.id, this._userService.user.activeStudent.gender).then(function(t) {
                    return e._userService.user.activeStudent.photo = t
                }), this._studentsService.getStudents()
            }
        }, {
            key: "getPhoto",
            value: function(e, t) {
                var n = this;
                return this._studentsService.students.getPhotos([e]).then(function(e) {
                    return e.length ? "data:image/png;base64," + e[0].photo : n._studentsService.getDefaultPhotoUsingGender(t)
                })
            }
        }, {
            key: "activeStudent",
            get: function() {
                return this._userService.user.activeStudent
            }
        }, {
            key: "fullStateName",
            get: function() {
                return this._routeClassService.fullStateName
            }
        }, {
            key: "isAchievementSingle",
            get: function() {
                return this._routeClassService.fullStateName.indexOf("student.behaviour.single-achievement-points") >= 0
            }
        }, {
            key: "isParentsEveningSingle",
            get: function() {
                return this._routeClassService.fullStateName.indexOf("student.parentevent.parentEvent") >= 0
            }
        }, {
            key: "isBehaviourSingle",
            get: function() {
                return this._routeClassService.fullStateName.indexOf("student.behaviour.single-behaviour-points") >= 0
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {
    e.exports = '<assessment binded-state="{{ state }}"></assessment>\n'
}, function(e, exports) {
    e.exports = "<account></account>\n"
}, function(e, exports) {
    e.exports = "<behaviour></behaviour>\n"
}, function(e, exports) {
    e.exports = "<calendar></calendar>\n"
}, function(e, exports) {
    e.exports = "<catering></catering>\n"
}, function(e, exports) {
    e.exports = "<contact></contact>\n"
}, function(e, exports) {
    e.exports = "<documents></documents>\n\n"
}, function(e, exports) {
    e.exports = "<medical></medical>\n"
}, function(e, exports) {
    e.exports = "<timetable></timetable>\n"
}, function(e, exports) {
    e.exports = "<attendance></attendance>\n"
}, function(e, exports) {
    e.exports = "<exams></exams>\n"
}, function(e, exports) {
    e.exports = "<homework></homework>\n"
}, function(e, exports) {
    e.exports = "<sen></sen>\n\n"
}, function(e, exports) {
    e.exports = "<clubs></clubs>\n"
}, function(e, exports) {
    e.exports = "<b-student-summary-title></b-student-summary-title>\n"
}, function(e, exports) {
    e.exports = "<b-student-summary-full></b-student-summary-full>\n"
}, function(e, exports) {
    e.exports = "\x3c!--<f-student-summary></f-student-summary>--\x3e\n"
}, function(e, exports) {
    e.exports = '<l-student-summary data="data"></l-student-summary>\n'
}, function(e, exports) {
    e.exports = "<l-student-points></l-student-points>\n"
}, function(e, exports) {
    e.exports = '<f-student-points page-type="vm.pageType"></f-student-points>\n'
}, function(e, exports) {
    e.exports = "<parents-evening></parents-evening>"
}, function(e, exports) {
    e.exports = '<button class="parents-evening__close" ng-click="vm.goHome()">\n    <svg-use name="cross"></svg-use>\n</button>\n'
}, function(e, exports) {
    e.exports = '<div class="parents-evening__header-inner">\n  <a class="parents-evening__close" ui-sref="student.parentevent.events">\n    <svg-use name="cross"></svg-use>\n  </a>\n\n  <div class="parents-evening__buttons-wrapper">\n    <button class="btn parents-evening__button btn-default"\n            ng-disabled="vm.isLoading"\n            ng-click="vm.downloadParentEventPDF()"\n    >Print</button>\n\n    <button class="btn parents-evening__button btn-default"\n            ng-disabled="vm.isLoading"\n            ng-click="vm.emailMe()"\n            ng-if="vm.model.emailme"\n    >Email</button>\n  </div>\n</div>\n'
}, function(e, exports) {
    e.exports = '<t-parent-event\n  fixed-column\n  model="vm.model.options"\n  unbook="vm.unbook(slot)"\n  book="vm.book(slot)"\n  select="vm.select({ slot, slots, isMobile, isSlotInfo })"\n  header="vm.header">\n\n</t-parent-event>\n'
}, function(e, exports) {
    e.exports = '<a class="parents-evening__close" ui-sref="parentevent.events">\n    <svg-use name="cross"></svg-use>\n</a>'
}, function(e, exports) {
    e.exports = '<div class="clubs__header-inner">\n  <b-navigation class="clubs__menu"\n                menu="vm._clubsService.menu"\n                ng-if="vm._windowWidthService.windowWidth > vm._deviceMarginConstants.MOBILE_MARGIN"\n  ></b-navigation>\n  <sl-navigation class="clubs__menu"\n                 menu="vm._clubsService.menu"\n                 ng-if="vm._windowWidthService.windowWidth <= vm._deviceMarginConstants.MOBILE_MARGIN"\n  ></sl-navigation>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(0)),
        i = s(t(9)),
        a = s(t(1261));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = n.default.module("timetable", [i.default]).config(["$stateProvider", "$urlRouterProvider", function(e, t) {
        "ngInject";
        t.otherwise("/"), e.state("timetable", {
            url: "/timetable",
            component: "timetable",
            abstract: !0,
            data: {
                pageClass: "p-timetable",
                headerGradientColors: {
                    from: "#FF6C5D",
                    to: "#FF745D"
                },
                pageTitle: "My Timetable",
                authorize: ["employee", "parent", "learner"]
            }
        }).state("timetable.list", {
            url: "/list",
            component: "timetable",
            data: {
                pageClass: "p-timetable",
                headerGradientColors: {
                    from: "#FF6C5D",
                    to: "#FF745D"
                },
                pageTitle: "My timetable",
                authorize: ["learner", "parent", "employee"],
                parentState: "home"
            },
            resolve: {
                timetablePrepService: ["timetableService", "userService", "requestService", "menuService", "dateService", function(e, t, n, i, a) {
                    var s = {
                        date: moment().format(a.getDateFormat("apiDate"))
                    };
                    return t.user.activeChild || t.user.activeStudent || t.checkRole("learner") ? s.learner_id = t.user.idFromLastAction : t.checkRole("employee") && (s.employee_id = t.user.idFromLastAction), e.getTimetableDataFromDb(s).catch(function() {
                        return i.goHome()
                    })
                }],
                teachersPrepService: ["teachersService", "menuService", "userService", function(e, t, n) {
                    if (n.checkRole("employee")) return e.teachers || e.getEmployeesWithFullNameFromDb().then(function(t) {
                        e.teachers = t
                    }).catch(function() {
                        return t.goHome()
                    })
                }]
            }
        })
    }]).component("timetable", a.default).name;
    exports.default = r
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1262)),
        i = a(t(1263));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="container" ng-class="{ \'_animation-out\': $ctrl._routeClassService.isMenuIn }">\n  <b-student-info class="noSwipe" ng-if="$ctrl._windowWidthService.windowWidth <= $ctrl._deviceMarginConstants.MOBILE_MARGIN"></b-student-info>\n  <pr-teacher ng-if="$ctrl._userService.checkRole(\'employee\') && !$ctrl._userService.user.activeChild && !$ctrl._userService.user.activeStudent && $ctrl._windowWidthService.windowWidth <= $ctrl._deviceMarginConstants.MOBILE_MARGIN"></pr-teacher>\n  <b-timetable class="noSwipe"></b-timetable>\n</div>\n\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r) {
            "ngInject";
            (0, n.default)(this, e), this._deviceMarginConstants = t, this._routeClassService = i, this._userService = a, this._windowWidthService = s, this._timetableService = r
        }
        return e.$inject = ["deviceMarginConstants", "routeClassService", "userService", "windowWidthService", "timetableService"], (0, i.default)(e, [{
            key: "$onDestroy",
            value: function() {
                this._timetableService.timetables = []
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = o(t(0)),
        i = o(t(9)),
        a = o(t(1265));
    t(1268);
    var s = o(t(1269)),
        r = o(t(1273));

    function o(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var l = n.default.module("medicaltest", [i.default, s.default, r.default]).config(["$stateProvider", "$urlRouterProvider", function(e, t) {
        "ngInject";
        t.otherwise("/"), e.state("medicaltest", {
            url: "/medicaltest",
            component: "medicaltest",
            data: {
                pageClass: "p-events-forms p-medical",
                headerGradientColors: {
                    from: "#D63B75",
                    to: "#D63B8F"
                },
                pageTitle: "My medical tests info",
                parentState: "home"
            },
            resolve: {
                medicalPrepService: ["medicalTestDataService", "menuService", function(e, t) {
                    return e.getMedicalTestDataFromDb().catch(function() {
                        return t.goHome()
                    })
                }],
                studentsPrepService: ["studentsService", "userService", "menuService", function(e, t, n) {
                    return e.getStudents().then(function(t) {
                        e.students = t, e.filteredStudents = t
                    }).catch(function() {
                        n.goHome()
                    })
                }],
                employeesPrepService: ["teachersService", function(e) {
                    e.getEmployeesFromDb({}).then(function(t) {
                        e.employees = t.employees, e.filteredTeachers = t.employees
                    })
                }]
            }
        }).state("staff_dashboard", {
            url: "/medicaltest/staff-dashboard",
            component: "staffDashboard",
            data: {
                pageClass: "p-events-forms p-medical",
                headerGradientColors: {
                    from: "#D63B75",
                    to: "#D63B8F"
                },
                pageTitle: "Staff Dashboard info",
                parentState: "home"
            },
            resolve: {
                medicalPrepService: ["medicalTestDataService", "menuService", function(e, t) {
                    return e.getMedicalTestDataDashboard("employee").catch(function() {
                        return t.goHome()
                    })
                }]
            }
        }).state("student_dashboard", {
            url: "/medicaltest/student-dashboard",
            component: "studentDashboard",
            data: {
                pageClass: "p-events-forms p-medical",
                headerGradientColors: {
                    from: "#D63B75",
                    to: "#D63B8F"
                },
                pageTitle: "Student Dashboard info",
                parentState: "home"
            },
            resolve: {
                medicalPrepService: ["medicalTestDataService", "menuService", function(e, t) {
                    return e.getMedicalTestDataDashboard("learner").catch(function() {
                        return t.goHome()
                    })
                }]
            }
        })
    }]).component("medicaltest", a.default).name;
    exports.default = l
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1266)),
        i = a(t(1267));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="container" ng-class="{\'_animation-out\': $ctrl._routeClassService.isMenuIn}">\n    <div class="medical-tests">\n        <div class="medical-tests__inner noSwipe">\n\n            <div class="clubs__header-inner">\n                <a ui-sref="clubs.create" class="clubs__btn-add btn btn-default _small _blue _fill"\n                   ng-click="$ctrl.addLearn()"\n                >ADD ALLOCATE</a>\n                <b-navigation class="clubs__menu"\n                              params="true"\n                              menu="$ctrl.menu"\n                              ng-if="$ctrl._windowWidthService.windowWidth > $ctrl._deviceMarginConstants.MOBILE_MARGIN"\n                ></b-navigation>\n                <sl-navigation class="clubs__menu"\n                               menu="$ctrl.menu"\n                               ng-if="$ctrl._windowWidthService.windowWidth <= $ctrl._deviceMarginConstants.MOBILE_MARGIN"\n                ></sl-navigation>\n            </div>\n\n            <div class="medical-tests__body">\n                <t-medical-tests class="noSwipe" participants="$ctrl.medicaltest"></t-medical-tests>\n            </div>\n            <div class="medical-tests__footer-mobile"></div>\n        </div>\n    </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r) {
            "ngInject";
            (0, n.default)(this, e), this.initValues(), this._medicalTestDataService = t, this._modalDefaultService = i, this._windowWidthService = a, this._deviceMarginConstants = s
        }
        return e.$inject = ["medicalTestDataService", "modalDefaultService", "windowWidthService", "deviceMarginConstants", "$rootScope"], (0, i.default)(e, [{
            key: "initValues",
            value: function(e) {
                this.data && !e || (this.data = {
                    medicaltest: null,
                    menu: [{
                        name: "Medical tests",
                        params: {
                            page: "medicaltest"
                        }
                    }, {
                        name: "Staff Dashboard",
                        params: {
                            page: "staff_dashboard"
                        }
                    }, {
                        name: "Student Dashboard",
                        params: {
                            page: "student_dashboard"
                        }
                    }]
                })
            }
        }, {
            key: "addLearn",
            value: function() {
                this._modalDefaultService.showModalWithTemplates("modal-select-users", {
                    gradient: {
                        from: "#4889ec",
                        to: "#4ba8e7"
                    },
                    type: "medicaltest"
                }, "Select Users")
            }
        }, {
            key: "medicaltest",
            get: function() {
                return this._medicalTestDataService.medicaltest || []
            }
        }, {
            key: "menu",
            get: function() {
                return this.data.menu
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1270));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(416);
    var s = n.default.module("staff-dashboard", []).component("staffDashboard", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1271)),
        i = a(t(1272));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(416);
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="container" ng-class="{\'_animation-out\': $ctrl._routeClassService.isMenuIn}">\n    <div class="medical-tests">\n        <div class="medical-tests__inner noSwipe">\n\n            <div class="clubs__header-inner">\n                <b-navigation class="clubs__menu"\n                              params="true"\n                              menu="$ctrl.menu"\n                              ng-if="$ctrl._windowWidthService.windowWidth > $ctrl._deviceMarginConstants.MOBILE_MARGIN"\n                ></b-navigation>\n                <sl-navigation class="clubs__menu"\n                               menu="$ctrl.menu"\n                               ng-if="$ctrl._windowWidthService.windowWidth <= $ctrl._deviceMarginConstants.MOBILE_MARGIN"\n                ></sl-navigation>\n            </div>\n\n\n            <div class="medical-tests__body student-dashboard__table">\n                <table>\n                    <thead>\n                    <tr>\n                        <th>\n                            Name\n                        </th>\n                        <th>\n                            Unused Tests\n                        </th>\n                        <th>\n                            latest Result\n                        </th>\n                        <th>\n                            Scheduled\n                        </th>\n                        <th>\n                            Submitted\n                        </th>\n                        <th>\n                            Next scheduled test\n                        </th>\n                    </tr>\n                    </thead>\n                    <tbody>\n                    <tr ng-repeat="option in $ctrl.employees">\n                        <td>{{ option.name }}</td>\n                        <td>{{ option.unused_tests }}</td>\n                        <td>{{ option.result }}</td>\n                        <td>{{ option.test_date | date:\'HH:mm\':\'UTC\' }}</td>\n                        <td>{{ option.last_submitted_time | date:\'HH:mm\':\'UTC\'}}</td>\n                        <td>{{ option.next_scheduled | date:\'HH:mm\':\'UTC\'}}</td>\n                    </tr>\n                    </tbody>\n                </table>\n            </div>\n            <div class="medical-tests__footer-mobile"></div>\n        </div>\n    </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a) {
            "ngInject";
            (0, n.default)(this, e), this._medicalTestDataService = t, this._windowWidthService = i, this._deviceMarginConstants = a, this.menuData = [{
                name: "Medical tests",
                params: {
                    page: "medicaltest"
                }
            }, {
                name: "Staff Dashboard",
                params: {
                    page: "staff_dashboard"
                }
            }, {
                name: "Student Dashboard",
                params: {
                    page: "student_dashboard"
                }
            }]
        }
        return e.$inject = ["medicalTestDataService", "windowWidthService", "deviceMarginConstants"], (0, i.default)(e, [{
            key: "employees",
            get: function() {
                return this._medicalTestDataService.data.type.employees || []
            }
        }, {
            key: "menu",
            get: function() {
                return this.menuData
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1274));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(417);
    var s = n.default.module("student-dashboard", []).component("studentDashboard", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1275)),
        i = a(t(1276));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(417);
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="container" ng-class="{\'_animation-out\': $ctrl._routeClassService.isMenuIn}">\n    <div class="medical-tests">\n        <div class="medical-tests__inner noSwipe">\n\n            <div class="clubs__header-inner">\n                <b-navigation class="clubs__menu"\n                              params="true"\n                              menu="$ctrl.menu"\n                              ng-if="$ctrl._windowWidthService.windowWidth > $ctrl._deviceMarginConstants.MOBILE_MARGIN"\n                ></b-navigation>\n                <sl-navigation class="clubs__menu"\n                               menu="$ctrl.menu"\n                               ng-if="$ctrl._windowWidthService.windowWidth <= $ctrl._deviceMarginConstants.MOBILE_MARGIN"\n                ></sl-navigation>\n            </div>\n\n\n            <div class="medical-tests__body student-dashboard__table">\n                <table>\n                    <thead>\n                        <tr>\n                            <th>\n                                Name\n                            </th>\n                            <th>\n                                Form\n                            </th>\n                            <th>\n                                Year\n                            </th>\n                            <th>\n                                Unused Tests\n                            </th>\n                            <th>\n                                latest Result\n                            </th>\n                            <th>\n                                Scheduled\n                            </th>\n                            <th>\n                                Submitted\n                            </th>\n                            <th>\n                                Next scheduled test\n                            </th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr ng-repeat="option in $ctrl.learners">\n                            <td>{{ option.name }}</td>\n                            <td>{{ option.form }}</td>\n                            <td>{{ option.year }}</td>\n                            <td>{{ option.unused_tests }}</td>\n                            <td>{{ option.result }}</td>\n                            <td>{{ option.test_date | date:\'HH:mm\':\'UTC\' }}</td>\n                            <td>{{ option.last_submitted_time | date:\'HH:mm\':\'UTC\'}}</td>\n                            <td>{{ option.next_scheduled | date:\'HH:mm\':\'UTC\'}}</td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div>\n            <div class="medical-tests__footer-mobile"></div>\n        </div>\n    </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a) {
            "ngInject";
            (0, n.default)(this, e), this._medicalTestDataService = t, this._windowWidthService = i, this._deviceMarginConstants = a, this.menuData = [{
                name: "Medical tests",
                params: {
                    page: "medicaltest"
                }
            }, {
                name: "Staff Dashboard",
                params: {
                    page: "staff_dashboard"
                }
            }, {
                name: "Student Dashboard",
                params: {
                    page: "student_dashboard"
                }
            }]
        }
        return e.$inject = ["medicalTestDataService", "windowWidthService", "deviceMarginConstants"], (0, i.default)(e, [{
            key: "learners",
            get: function() {
                return this._medicalTestDataService.data.type.learners || []
            }
        }, {
            key: "menu",
            get: function() {
                return this.menuData
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = f(t(0)),
        i = f(t(1278)),
        a = f(t(1806)),
        s = f(t(2247)),
        r = f(t(2475)),
        o = f(t(2488)),
        l = f(t(3015)),
        c = f(t(3077)),
        d = f(t(3088)),
        u = f(t(3129)),
        _ = f(t(3435));

    function f(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var v = n.default.module("app.components", [i.default, a.default, s.default, r.default, o.default, l.default, c.default, d.default, u.default, _.default]).name;
    exports.default = v
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = xe(t(0)),
        i = xe(t(1279)),
        a = xe(t(1284)),
        s = xe(t(1289)),
        r = xe(t(1294)),
        o = xe(t(1299)),
        l = xe(t(1303)),
        c = xe(t(1307)),
        d = xe(t(1316)),
        u = xe(t(1321)),
        _ = xe(t(1326)),
        f = xe(t(1331)),
        v = xe(t(1336)),
        m = xe(t(1341)),
        h = xe(t(1346)),
        p = xe(t(1351)),
        g = xe(t(1356)),
        b = xe(t(1361)),
        S = xe(t(1366)),
        y = xe(t(1371)),
        k = xe(t(1376)),
        M = xe(t(1381)),
        w = xe(t(1386)),
        D = xe(t(1391)),
        T = xe(t(1396)),
        C = xe(t(1401)),
        P = xe(t(1406)),
        L = xe(t(1411)),
        x = xe(t(1416)),
        j = xe(t(1421)),
        I = xe(t(1426)),
        A = xe(t(1431)),
        E = xe(t(1436)),
        O = xe(t(1441)),
        F = xe(t(1446)),
        N = xe(t(1451)),
        R = xe(t(1456)),
        Y = xe(t(1461)),
        B = xe(t(1466)),
        H = xe(t(1470)),
        q = xe(t(1475)),
        W = xe(t(1480)),
        V = xe(t(1485)),
        z = xe(t(1490)),
        G = xe(t(1495)),
        U = xe(t(1500)),
        J = xe(t(1505)),
        Q = xe(t(1510)),
        K = xe(t(1515)),
        Z = xe(t(1520)),
        X = xe(t(1525)),
        ee = xe(t(1537)),
        te = xe(t(1542)),
        ne = xe(t(1546)),
        ie = xe(t(1551)),
        ae = xe(t(1556)),
        se = xe(t(1561)),
        re = xe(t(1566)),
        oe = xe(t(1571)),
        le = xe(t(1576)),
        ce = xe(t(1581)),
        de = xe(t(1586)),
        ue = xe(t(1591)),
        _e = xe(t(1596)),
        fe = xe(t(1601)),
        ve = xe(t(1606)),
        me = xe(t(1611)),
        he = xe(t(1616)),
        pe = xe(t(1621)),
        ge = xe(t(1626)),
        be = xe(t(1632)),
        Se = xe(t(1637)),
        ye = xe(t(1642)),
        ke = xe(t(1647)),
        $e = xe(t(1652)),
        Me = xe(t(1657)),
        we = xe(t(1662)),
        De = xe(t(1667)),
        Te = xe(t(1672)),
        Ce = xe(t(1677)),
        Pe = xe(t(1682)),
        Le = xe(t(1687));

    function xe(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var je = n.default.module("app.blocks", [i.default, a.default, s.default, r.default, c.default, d.default, u.default, _.default, f.default, o.default, l.default, m.default, h.default, p.default, g.default, b.default, v.default, S.default, y.default, k.default, M.default, w.default, D.default, T.default, C.default, P.default, L.default, x.default, j.default, I.default, A.default, E.default, O.default, F.default, N.default, R.default, Y.default, B.default, H.default, q.default, W.default, V.default, z.default, G.default, U.default, J.default, K.default, Q.default, Z.default, X.default, ee.default, te.default, ne.default, ie.default, ae.default, se.default, re.default, oe.default, le.default, ce.default, de.default, ue.default, _e.default, fe.default, ve.default, me.default, he.default, pe.default, ge.default, be.default, Se.default, ye.default, ke.default, $e.default, Me.default, we.default, De.default, Te.default, Ce.default, Pe.default, Le.default]).name;
    exports.default = je
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1280));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("b-analytics", []).component("bAnalytics", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1281)),
        i = a(t(1282));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1283);
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="b-analytics">\n  <div class="b-analytics__left">\n    <div class="b-analytics__left-inner">\n      <div class="b-analytics__left-item">\n        <div class="b-analytics__label">Report:</div>\n        <ui-select class="select-default b-analytics__select"\n                   ng-model="$ctrl._analyticsService.reportId"\n                   ng-change="$ctrl.changeReport()"\n                   theme="selectize"\n                   search-enabled="false">\n          <ui-select-match placeholder="-">\n            {{ $select.selected.text || $select.selected }}\n          </ui-select-match>\n          <ui-select-choices repeat="item.id as item in $ctrl._analyticsService.menu track by $index">\n            <span>{{ ::item.text }}</span>\n          </ui-select-choices>\n        </ui-select>\n        <div class="f-default__select-mobile-wrap">\n          <select class="f-default__select-mobile b-analytics__select-mobile"\n                  ng-model="$ctrl._analyticsService.reportId"\n                  ng-change="$ctrl.changeReport()"\n          >\n            <option ng-repeat="item in $ctrl._analyticsService.menu track by $index"\n                    ng-value="::item.id"\n            >\n              {{::item.text}}\n            </option>\n          </select>\n        </div>\n      </div>\n      <ui-view name="filters" class="b-analytics__filters"></ui-view>\n    </div>\n  </div>\n  <div class="b-analytics__right">\n    <ui-view name="content" class="b-analytics__content"></ui-view>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a) {
            "ngInject";
            (0, n.default)(this, e), this._$state = t, this._analyticsService = i, this._homeworkOverviewService = a
        }
        return e.$inject = ["$state", "analyticsService", "homeworkOverviewService"], (0, i.default)(e, [{
            key: "changeReport",
            value: function() {
                this._$state.transitionTo("analytics." + this._analyticsService.reportId, null, {
                    notify: !1
                })
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1285));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("b-attachments", []).component("bAttachments", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1286)),
        i = a(t(1287));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1288);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            maxFileSize: "<",
            remove: "&",
            onPicked: "&"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="b-attachments">\n  <button type="button" class="b-attachments__btn-attach"\n          ngf-select="$ctrl.picked($files)"\n          ngf-multiple="true">\n    <svg-use name="clip-desktop"></svg-use>\n    <input type="file" class="b-attachments__input" multiple>\n  </button>\n  <div class="b-attachments__attachments" ng-if="$ctrl._attachmentsService.documents.length">\n    <button type="button" class="b-attachments__btn-files"\n            ng-click="$ctrl.openAttachmentsModal()">\n      {{ $ctrl._attachmentsService.documents.length }}\n    </button>\n    <div class="b-attachments__name-outer">\n      <div class="b-attachments__name">\n        {{ (attachment = $ctrl.getLastAttachment()).name ? attachment.name : attachment.filename }}\n      </div>\n      <div class="b-attachments__loader"\n           ng-style="{ \'width\': $ctrl.getLastAttachment().loaderWidth + \'%\' }"\n           ng-if="$ctrl.getLastAttachment().loaderWidth"></div>\n    </div>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a) {
            "ngInject";
            (0, n.default)(this, e), this._attachmentsService = t, this._modalDefaultService = i, this._notificationService = a
        }
        return e.$inject = ["attachmentsService", "modalDefaultService", "notificationService"], (0, i.default)(e, [{
            key: "openAttachmentsModal",
            value: function() {
                var e = this,
                    t = {
                        attachments: this._attachmentsService.documents,
                        remove: function(t) {
                            return e.remove({
                                attachment: t
                            })
                        }
                    };
                this._modalDefaultService.showModalWithTemplates("modal-attachments", t, "Attachments")
            }
        }, {
            key: "getLastAttachment",
            value: function() {
                return this._attachmentsService.documents[this._attachmentsService.documents.length - 1]
            }
        }, {
            key: "picked",
            value: function(e) {
                var t = this.removeEmptyFiles(e);
                this.onPicked({
                    data: {
                        documents: t,
                        maxFileSize: this.maxFileSize
                    }
                })
            }
        }, {
            key: "removeEmptyFiles",
            value: function(e) {
                var t = this;
                return e.filter(function(e) {
                    return e.size || t._notificationService.showErrorNotification(e.name + ": file size is 0"), e.size
                })
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1290));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("b-attendance-today", []).component("bAttendanceToday", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1291)),
        i = a(t(1292));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1293), t(150);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            data: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="b-attendance-today__container">\n  <div class="b-attendance-today__item" ng-if="$ctrl._attendanceService.attendance.attendanceSessions.length > 0">\n    <div class="b-attendance-today__title">Statutory</div>\n    <t-attendance-sessions data="$ctrl._attendanceService.attendance.attendanceSessions"></t-attendance-sessions>\n  </div>\n  <div class="b-attendance-today__item" ng-if="$ctrl._attendanceService.attendance.attendanceLessons.length > 0">\n    <div class="b-attendance-today__title">Lessons</div>\n    <t-attendance-lessons data="$ctrl._attendanceService.attendance.attendanceLessons"></t-attendance-lessons>\n  </div>\n  <div class="b-attendance-today__item" ng-if="$ctrl._attendanceService.attendance.attendanceClubs.length > 0">\n    <div class="b-attendance-today__title">Clubs</div>\n    <t-attendance-clubs data="$ctrl._attendanceService.attendance.attendanceClubs"></t-attendance-clubs>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i) {
            "ngInject";
            (0, n.default)(this, e), this._attendanceService = i, this._sortDataService = t, this.reverse = {}
        }
        return e.$inject = ["sortDataService", "attendanceService"], (0, i.default)(e, [{
            key: "sort",
            value: function(e, t) {
                this.data = this._sortDataService.sortBy(this.data, e, this.reverse, t)
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1295));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("b-behaviour", []).component("bBehaviour", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1296)),
        i = a(t(1297));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1298);
    var s = {
        template: n.default,
        bindings: {
            data: "="
        },
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="b-behaviour"\n     ng-if="!(\n       $ctrl._routeClassService.secondPartOfCurrentState === \'summary-behaviour-points\'\n       || $ctrl._routeClassService.secondPartOfCurrentState === \'summary-achievement-points\'\n     )">\n  <div class="b-behaviour__inner">\n    <div class="b-behaviour__left">\n      <div class="b-behaviour__left-content" ui-view="behaviourLeft"></div>\n    </div>\n    <div class="b-behaviour__right">\n      <div class="b-behaviour__right-content" ui-view="behaviourRight"></div>\n    </div>\n  </div>\n</div>\n\n<div class="b-behaviour"\n     ng-class="{\n        _summary: $ctrl._routeClassService.secondPartOfCurrentState === \'summary-behaviour-points\'\n        || $ctrl._routeClassService.secondPartOfCurrentState === \'summary-achievement-points\'\n      }"\n     ng-if="\n        $ctrl._routeClassService.secondPartOfCurrentState === \'summary-behaviour-points\'\n        || $ctrl._routeClassService.secondPartOfCurrentState === \'summary-achievement-points\'\n">\n  <div class="b-behaviour__inner">\n    <div class="b-behaviour__right">\n      <l-student-summary data="$ctrl.data"></l-student-summary>\n    </div>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r, o) {
            "ngInject";
            var l = this;
            (0, n.default)(this, e), this._routeClassService = a, this._windowWidthService = r, this._deviceMarginConstants = o, this._userService = s, t.$on("$destroy", function() {
                "student" !== l._routeClassService.rootStateName && i.clearLearners()
            })
        }
        return e.$inject = ["$scope", "studentsService", "routeClassService", "userService", "windowWidthService", "deviceMarginConstants"], (0, i.default)(e, [{
            key: "children",
            get: function() {
                return this._userService.user.children
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1300));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("b-bookings", []).component("bBookings", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(1301),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    t(1302);
    var s = {
        template: a.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="b-bookings noSwipe">\n  <div class="b-bookings__left">\n    <f-resource-booking></f-resource-booking>\n  </div>\n  <div class="b-bookings__right">\n    <b-resource-booking-select-date></b-resource-booking-select-date>\n    <t-resource-booking></t-resource-booking>\n  </div>\n</div>\n'
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1304));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("b-breadcrumbs", []).component("bBreadcrumbs", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(1305),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    t(1306);
    var s = {
        template: a.default,
        bindings: {
            location: "<",
            currentFolderId: "<",
            onClick: "&"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="b-breadcrumbs">\n      <span class="b-breadcrumbs__item" ng-repeat="folder in $ctrl.location.path">\n        {{ $index ? \' > \' : \'\' }}\n        <span ng-class="{_blocked: folder.id === $ctrl.currentFolderId}"\n              ng-click="$ctrl.onClick({ id: folder.id })"\n        >{{ folder.name }}</span>\n      </span>\n</div>\n'
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(0)),
        i = s(t(1308)),
        a = s(t(1314));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = n.default.module("b-calendar", []).component("bCalendar", i.default).service({
        bCalendarService: a.default
    }).name;
    exports.default = r
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1309)),
        i = a(t(1310));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1313);
    var s = {
        template: n.default,
        bindings: {
            scope: "<",
            events: "<"
        },
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="b-calendar"\n     ng-class="{\n      \'_no-future\': $ctrl.scope.noFuture,\n      \'_no-past\': $ctrl.scope.noPast\n    }">\n  <div class="b-calendar__buttons">\n    <button\n      type="button"\n      class="btn-prev"\n      mwl-date-modifier\n      date="$ctrl.config.viewDate"\n      decrement="$ctrl.config.calendarView">\n      <svg-use name="arrow"></svg-use>\n    </button>\n    <span class="b-calendar__month">\n      {{ $ctrl.config.calendarTitle }}\n    </span>\n    <button\n      type="button"\n      class="btn-next"\n      mwl-date-modifier\n      date="$ctrl.config.viewDate"\n      increment="$ctrl.config.calendarView">\n      <svg-use name="arrow"></svg-use>\n    </button>\n  </div>\n\n  <div ng-include=" \'calendarCell.html\' "></div>\n\n  <mwl-calendar\n    view="$ctrl.config.calendarView"\n    view-date="$ctrl.config.viewDate"\n    view-title="$ctrl.config.calendarTitle"\n    events="$ctrl.events"\n    custom-template-urls="{calendarMonthCell: \'calendarCell.html\'}"\n    template-scope="$ctrl"\n    slide-box-disabled\n    cell-modifier="$ctrl._calendarService.handleModifier(calendarCell, $ctrl.scope)">\n    \x3c!--b-calendar-directive--\x3e\n  </mwl-calendar>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(1)),
        i = s(t(1311)),
        a = s(t(1312));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = function e(t, s, r, o, l) {
        "ngInject";
        var c = this;
        (0, n.default)(this, e), this._calendarService = t, this.config = this._calendarService.config, this._userService = o, this.dataForModal = null, this.templateCell = s.templates[this._calendarService.config.templateName], r.put("calendarCell.html", this.templateCell), r.put("calendar-month.tmpl.html", i.default), r.put("calendar.tmpl.html", a.default), l.$on("$destroy", function() {
            c._calendarService.resetCalendar()
        })
    };
    r.$inject = ["calendarService", "bCalendarService", "$templateCache", "userService", "$scope"], exports.default = r
}, function(e, exports) {
    e.exports = '<div class="cal-row-fluid cal-row-head">\n  <div class="cal-cell1" ng-repeat="day in vm.weekDays track by $index" ng-bind="day"></div>\n</div>\n<div class="cal-month-box">\n  <div ng-repeat="rowOffset in vm.monthOffsets track by rowOffset">\n    <div class="cal-row-fluid cal-before-eventlist">\n      <div\n        ng-repeat="day in vm.view | calendarLimitTo:7:rowOffset track by $index"\n        ng-init="dayIndex = vm.view.indexOf(day)"\n        class="cal-cell1 cal-cell {{ day.highlightClass }}"\n        ng-click="vm.dayClicked(day, false, $event)"\n        ng-class="{ \'pointer\': day.events.length > 0 }">\n        <ng-include src="vm.customTemplateUrls.calendarMonthCell || vm.calendarConfig.templates.calendarMonthCell"></ng-include>\n      </div>\n    </div>\n  </div>\n</div>\n\n'
}, function(e, exports) {
    e.exports = '<div\n  class="cal-context"\n  ng-switch="vm.view"\n  ng-if="vm.templatesLoaded">\n\n  <mwl-calendar-month\n    events="vm.events"\n    view-date="vm.viewDate"\n    on-event-click="vm.onEventClick"\n    on-event-times-changed="vm.onEventTimesChanged"\n    on-timespan-click="vm.onTimespanClick"\n    on-date-range-select="vm.onDateRangeSelect"\n    cell-is-open="vm.cellIsOpen"\n    cell-modifier="vm.cellModifier"\n    slide-box-disabled="vm.slideBoxDisabled"\n    custom-template-urls="vm.customTemplateUrls"\n    template-scope="vm.templateScope"\n    ng-switch-when="month">\n  </mwl-calendar-month>\n\n</div>\n'
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(26)),
        i = s(t(1)),
        a = s(t(1315));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = function e(t) {
        "ngInject";
        (0, i.default)(this, e), this.templates = {
            calendar: a.default
        }, this.currentEventSources = (0, n.default)(t).map(function(e) {
            return t[e]
        })
    };
    r.$inject = ["calendarEventSourceConstants"], exports.default = r
}, function(e, exports) {
    e.exports = '<script id="calendarCell.html" type="text/ng-template">\n  <div class="calendar-day__cell"\n    ng-class="{\n      _active: day.selected,\n      _message: day.events.length,\n      _today: day.isToday,\n      _future: day.isFuture,\n      _past: day.isPast\n    }"\n    ng-click="vm.templateScope._calendarService.handleClick(vm, day, {\n      setDate: vm.templateScope.scope.setDate,\n      handleClick: vm.templateScope.scope.handleClick\n    })">\n    <span class="calendar-day__text">{{ day.label }}</span>\n  </div>\n<\/script>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1317));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("b-callout-overview", []).component("bCalloutOverview", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1318)),
        i = a(t(1319));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1320);
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="b-callout-overview">\n  <div class="b-callout-overview__item">\n    <b-chart data="$ctrl._calloutOverviewService.analytics.data"\n             labels="$ctrl._calloutOverviewService.analytics.labels"\n             label-x="Dates"\n             label-y="Number of callouts/responses"\n             series="[\'Requests\', \'Responses\']"\n    ></b-chart>\n  </div>\n  <div class="b-callout-overview__item">\n    <div class="b-callout-overview__item-title">Top Requesters:</div>\n    <t-requesters data="$ctrl._calloutOverviewService.callers" limit="10"></t-requesters>\n  </div>\n  <div class="b-callout-overview__item">\n    <div class="b-callout-overview__item-title">Top Responders:</div>\n    <t-responders data="$ctrl._calloutOverviewService.responders"></t-responders>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t) {
            "ngInject";
            (0, n.default)(this, e), this._calloutOverviewService = t
        }
        return e.$inject = ["calloutOverviewService"], (0, i.default)(e, [{
            key: "$onDestroy",
            value: function() {
                this._calloutOverviewService.resetValues()
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1322));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("b-changes", []).component("bChanges", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1323)),
        i = a(t(1324));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1325);
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="b-changes">\n  <div class="b-changes__date">{{ $ctrl._resourceBookingService.changes.date }}</div>\n  <div class="b-changes__title">Room Closures:</div>\n  <t-room-closures class="b-changes__table"></t-room-closures>\n  <div class="b-changes__title">Room Changes:</div>\n  <t-room-changes class="b-changes__table"></t-room-changes>\n  <button type="button" class="btn btn-default b-changes__btn _small"\n          ng-click="$ctrl.downloadPDF()"\n  >Print</button>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a) {
            "ngInject";
            (0, n.default)(this, e), this._attachmentsService = t, this._resourceBookingService = i, this._dateService = a
        }
        return e.$inject = ["attachmentsService", "ResourceBookingService", "dateService"], (0, i.default)(e, [{
            key: "downloadPDF",
            value: function() {
                var e = this,
                    t = this._resourceBookingService.filter.date ? this._resourceBookingService.filter.date.response : moment().format(this._dateService.getDateFormat("apiDate"));
                this._resourceBookingService.getResourceChangesPDF(t).then(function(t) {
                    var n = {
                        content: t,
                        mime_type: "application/pdf",
                        filename: "ResourceChangesPDF"
                    };
                    e._attachmentsService.downloadDocument(n)
                })
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1327));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("b-chart", []).component("bChart", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1328)),
        i = a(t(1329));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1330);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            data: "<",
            series: "<",
            labels: "<",
            labelY: "@",
            labelX: "@",
            onClick: "&"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="b-chart">\n  <canvas class="chart chart-bar"\n          chart="$ctrl.chart"\n          chart-data="$ctrl.data"\n          chart-labels="$ctrl.labels"\n          chart-options="$ctrl.options"\n          chart-series="$ctrl.series"\n  ></canvas>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i) {
            "ngInject";
            var a = this;
            (0, n.default)(this, e), this.options = {
                responsive: !0,
                scales: {
                    yAxes: [{
                        ticks: {
                            autoSkip: !0,
                            beginAtZero: !0,
                            fontSize: i.windowWidth > t.MOBILE_MARGIN ? 12 : 8
                        }
                    }],
                    xAxes: [{
                        ticks: {
                            autoSkip: !1,
                            minRotation: 0,
                            maxRotation: 90,
                            fontSize: i.windowWidth > t.MOBILE_MARGIN ? 12 : 8
                        }
                    }]
                },
                onClick: function(e, t) {
                    if (a.onClick) {
                        var n = t.pop();
                        n && a.onClick({
                            index: n._index
                        })
                    }
                }
            }
        }
        return e.$inject = ["deviceMarginConstants", "windowWidthService"], (0, i.default)(e, [{
            key: "$onInit",
            value: function() {
                this.labelY && (this.options.scales.yAxes[0].scaleLabel = {
                    display: !0,
                    labelString: this.labelY
                }), this.labelX && (this.options.scales.xAxes[0].scaleLabel = {
                    display: !0,
                    labelString: this.labelX
                })
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1332));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("b-checkbox", []).component("bCheckbox", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1333)),
        i = a(t(1334));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1335);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            model: "=",
            onChange: "&",
            isRequired: "<",
            text: "@",
            readonly: "<",
            disabled: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<label class="b-checkbox" ng-class="{_readonly: $ctrl.readonly, _disabled: $ctrl.disabled }">\n  <input type="checkbox" class="b-checkbox__input"\n         ng-model="$ctrl.model"\n         ng-required="$ctrl.isRequired"\n         ng-change="$ctrl.onChange({ value: $ctrl.model })"\n         ng-disabled="$ctrl.disabled"\n  >\n  <span class="b-checkbox__box"></span>\n  {{ ::$ctrl.text }}\n</label>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(1),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    exports.default = function e() {
        "ngInject";
        (0, a.default)(this, e)
    }
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1337));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("b-child-protection", []).component("bChildProtection", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1338)),
        i = a(t(1339));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1340);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="b-child-protection">\n    <div class="f-default__row-default b-child-protection__row">\n        <div class="b-child-protection__elem">\n            <div class="b-child-protection__label">Student:</div>\n            <p class="b-child-protection__text">{{ $ctrl.scope.student.info.resultRow }} - </p>\n            <p class="b-child-protection__text">{{ $ctrl.scope.student.info.year_group_id | yearGroupIdFilter: \'year\' }}, </p>\n            <p class="b-child-protection__text">Form {{ $ctrl.scope.student.info.form_group_id | yearGroupIdFilter: \'form\' }}</p>\n        </div>\n    </div>\n    <div class="f-default__row-default b-child-protection__row">\n        <div class="b-child-protection__elem">\n            <div class="b-child-protection__label">Submitted:</div>\n            <p class="b-child-protection__text">{{ $ctrl.scope.student.refInfo.created | date: $ctrl._dateService.getDateFormat(\'defaultDateTime\') }}</p>\n            <p class="b-child-protection__text">By {{ $ctrl.referral_employee.forename }} {{ $ctrl.referral_employee.surname }}</p>\n        </div>\n    </div>\n    <div class="f-default__row-default b-child-protection__row">\n        <div class="b-child-protection__elem">\n            <div class="b-child-protection__label">Referred to:</div>\n            <p class="b-child-protection__text">{{ $ctrl.referred_to_employee.forename }} {{ $ctrl.referred_to_employee.surname }}</p>\n        </div>\n    </div>\n    <div class="f-default__row-default b-child-protection__row">\n        <div class="b-child-protection__elem">\n            <div class="b-child-protection__label">Details:</div>\n            <p class="b-child-protection__text">{{ $ctrl.scope.student.refInfo.details }}</p>\n        </div>\n    </div>\n    <div class="f-default__row-default b-child-protection__row" ng-if="$ctrl.scope.student.refInfo.disclosure">\n        <div class="b-child-protection__elem">\n            <div class="b-child-protection__label">Disclosure:</div>\n            <p class="b-child-protection__text">{{ $ctrl.scope.student.refInfo.disclosure }}</p>\n        </div>\n    </div>\n    <div class="f-default__row-default b-child-protection__row" ng-if="$ctrl.scope.student.refInfo.occurred">\n        <div class="b-child-protection__elem">\n            <div class="b-child-protection__label">When:</div>\n            <p class="b-child-protection__text">{{ $ctrl.scope.student.refInfo.occurred }}</p>\n        </div>\n    </div>\n    <div class="f-default__row-default b-child-protection__row" ng-if="$ctrl.scope.student.refInfo.location">\n        <div class="b-child-protection__elem">\n            <div class="b-child-protection__label">Where:</div>\n            <p class="b-child-protection__text">{{ $ctrl.scope.student.refInfo.location }}</p>\n        </div>\n    </div>\n    <div class="f-default__row-default b-child-protection__row" ng-if="$ctrl.scope.student.refInfo.referrer_action">\n        <div class="b-child-protection__elem">\n            <div class="b-child-protection__label">Action taken:</div>\n            <p class="b-child-protection__text">{{ $ctrl.scope.student.refInfo.referrer_action }}</p>\n        </div>\n    </div>\n    <div class="b-child-protection__form">\n        <div class="f-default__row-default">\n                <label class="b-child-protection__checkbox f-default__label"\n                    ng-class="{ \'_checkbox-checked\': $ctrl.scope.student.refInfo.acknowledged }"\n                >\n                <input type="checkbox"\n                        class="b-child-protection__checkbox-input"\n                        ng-click="$ctrl.toggleAcknowledgedCheckbox()"\n                        ng-model="$ctrl.scope.student.refInfo.acknowledged"\n                >\n                <span class="b-child-protection__checkbox-title">Acknowledge</span>\n                </label>\n          </div>\n        <div class="f-default__row-default b-child-protection__row _action">\n            <div class="f-default__field-title b-child-protection__field-title">Details of action</div>\n            <textarea class="b-child-protection__textarea f-default__textarea" ng-model="$ctrl.scope.student.refInfo.decision_description"></textarea>\n          </div>\n          <div class="f-default__row-default b-child-protection__row _action">\n            <div class="f-default__field-title b-child-protection__field-title">Reason of action</div>\n            <textarea class="b-child-protection__textarea f-default__textarea" ng-model="$ctrl.scope.student.refInfo.decision_reason"></textarea>\n          </div>\n          <div class="b-child-protection__elem">\n            <div class="b-child-protection__label">Status</div>\n            <ui-select class="select-default"\n                       ng-model="$ctrl.status"\n                       ng-init="hash = $ctrl._selectsService.generateHash($ctrl.selects); $ctrl._selectsService.setItemsNumber($ctrl.infiniteScrollSettings, hash)"\n                       uis-open-close="$ctrl._selectsService.handleSelectToggling(hash, $ctrl.infiniteScrollSettings)"\n                       ng-attr-id="{{\'_\' + hash}}"\n                       theme="selectize"\n                       search-enabled="false">\n              <ui-select-match placeholder="Status">\n                {{ $select.selected.name || $select.selected }}\n              </ui-select-match>\n              <ui-select-choices repeat="status in $ctrl.scope.student.status_options | limitTo:$ctrl.selects[hash].currentItems track by $index"\n                                 infinite-scroll-container="\'#_\' + hash + \' .ui-select-choices-content\'"\n                                 infinite-scroll="$ctrl._selectsService.addNewItemsToSelect($ctrl.selects[hash], $ctrl.infiniteScrollSettings.numToAdd)">\n                <span>{{ ::status.name }}</span>\n              </ui-select-choices>\n            </ui-select>\n            <div class="f-default__select-mobile-wrap">\n                <select class="f-default__select-mobile b-recipients-select__mobile-select"\n                        ng-model="$ctrl.status"\n                >\n                    <option ng-repeat="status in $ctrl.scope.student.status_options track by $index"\n                            ng-value="::status"\n                    >\n                    {{::status.name}}\n                    </option>\n                </select>\n            </div>\n        </div>\n        <a type="button" class="btn btn-default _green _small _fill b-child-protection__btn" ng-click="$ctrl.update()">save</a>\n        <a type="button" class="btn btn-default _blue _small _fill b-child-protection__btn _print" ng-click="$ctrl.print()">print</a>\n    </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r, o, l, c, d, u, _, f, v, m, h, p, g, b, S, y, k, M) {
            "ngInject";
            (0, n.default)(this, e), this._$scope = t, this._$state = i, this._$rootScope = d, this._$stateParams = a, this._clubsService = s, this._studentsService = r, this._userService = o, this._modalDefaultService = l, this._notificationService = c, this._windowWidthService = f, this._deviceMarginConstants = m, this._menuService = h, this._configService = p, this._routeClassService = g, this._authService = b, this._communicatorDataService = S, this._teachersService = y, this._requestService = k, this._selectsService = v, this._childProtectionService = _, this._attachmentsService = u, this._dateService = M, this.status = "", this.data = {
                infiniteScrollSettings: this._selectsService.getInfiniteScrollSettings()
            }
        }
        return e.$inject = ["$scope", "$state", "$stateParams", "clubsService", "studentsService", "userService", "modalDefaultService", "notificationService", "$rootScope", "attachmentsService", "childProtectionService", "windowWidthService", "selectsService", "deviceMarginConstants", "menuService", "configService", "routeClassService", "authService", "communicatorDataService", "teachersService", "requestService", "dateService"], (0, i.default)(e, [{
            key: "$onInit",
            value: function() {
                var e = this;
                this.scope.student.refInfo.created = Date.parse(this.scope.student.refInfo.created), this._teachersService.getEmployeesFromDb(this.scope.student.learner_id).then(function(t) {
                    e.referral_employee = t.employees.find(function(t) {
                        return t.id === e.scope.student.refInfo.referral_employee_id
                    }), e.referred_to_employee = t.employees.find(function(t) {
                        return t.id === e.scope.student.refInfo.referred_to_employee_id
                    })
                }), this.scope.student.status_options && this.scope.student.refInfo.status_id && (this.status = this.scope.student.status_options.find(function(t) {
                    return t.id === e.scope.student.refInfo.status_id
                }))
            }
        }, {
            key: "toggleAcknowledgedCheckbox",
            value: function() {
                this.scope.student.refInfo.acknowledged = !this.scope.student.refInfo.acknowledged
            }
        }, {
            key: "hideModal",
            value: function() {
                this._$rootScope.$emit("hideModal", {
                    isCancel: !0
                })
            }
        }, {
            key: "print",
            value: function() {
                var e = this;
                return this.getChildProtectionReferralPDF().then(function(t) {
                    var n = {
                        filename: "childprotection",
                        content: t,
                        mime_type: "application/pdf"
                    };
                    e._attachmentsService.downloadDocument(n)
                })
            }
        }, {
            key: "getChildProtectionReferralPDF",
            value: function() {
                return this._requestService.getData("child_protection", "child_protection_referral_pdf", {
                    id: this.scope.student.refInfo.id
                }).then(function(e) {
                    return e.document
                })
            }
        }, {
            key: "update",
            value: function() {
                var e = this,
                    t = {
                        id: this.scope.student.refInfo.id,
                        status_id: this.status.id || null,
                        acknowledged: this.scope.student.refInfo.acknowledged,
                        decision_description: this.scope.student.refInfo.decision_description || "",
                        decision_reason: this.scope.student.refInfo.decision_reason || ""
                    };
                this._requestService.getData("child_protection", "child_protection_referral_update", t).then(function() {
                    e._childProtectionService.updateReferral(t), e.scope.onSave(), e.hideModal()
                })
            }
        }, {
            key: "selects",
            get: function() {
                return this.data.infiniteScrollSettings.selects
            }
        }, {
            key: "infiniteScrollSettings",
            get: function() {
                return this.data.infiniteScrollSettings
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1342));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("b-club-attendance-overview", []).component("bClubAttendanceOverview", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1343)),
        i = a(t(1344));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1345);
    var s = {
        controller: i.default,
        template: n.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="b-club-attendance-overview">\n  <div class="b-club-attendance-overview__message"\n    ng-if="!$ctrl.selectedLearners.length">\n    Please select some students and click "Update" button\n  </div>\n  <div class="b-club-attendance-overview__table-outer"\n    ng-if="$ctrl.analytics">\n    <t-club-attendance-overview class="b-club-attendance-overview__table"\n      analytics-data="$ctrl.analytics"></t-club-attendance-overview>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i) {
            "ngInject";
            (0, n.default)(this, e), this._clubAttendanceOverviewService = i, this._studentsService = t
        }
        return e.$inject = ["studentsService", "clubAttendanceOverviewService"], (0, i.default)(e, [{
            key: "selectedLearners",
            get: function() {
                return this._studentsService.selectedStudents
            }
        }, {
            key: "analytics",
            get: function() {
                return this._clubAttendanceOverviewService.analytics
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1347));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("b-club-attendance-overview-filters", []).component("bClubAttendanceOverviewFilters", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1348)),
        i = a(t(1349));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1350);
    var s = {
        controller: i.default,
        template: n.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="b-club-attendance-overview-filters">\n  <div class="f-default__row-default b-club-attendance-overview-filters__row">\n    <div class="b-club-attendance-overview-filters__learners">\n      <div class="b-club-attendance-overview-filters__learners-left">\n        <div class="b-club-attendance-overview-filters__learners-label">Students</div>\n        <l-photos-group items="$ctrl.selectedLearners"></l-photos-group>\n      </div>\n      <div class="b-club-attendance-overview-filters__learners-right">\n        <button type="button" class="b-club-attendance-overview-filters__learners-btn"\n          ng-click="$ctrl.showAddLearnersModal()">\n          <span></span>\n        </button>\n      </div>\n    </div>\n  </div>\n  <div class="f-default__row-default b-club-attendance-overview-filters__row">\n    <b-from-to-dates\n      from-date="$ctrl.fromDate"\n      to-date="$ctrl.toDate"\n      on-change="$ctrl.onDateChange({ fromDate, untilDate })"></b-from-to-dates>\n  </div>\n  <div class="f-default__row-default b-club-attendance-overview-filters__row _bottom">\n    <button class="b-club-attendance-overview-filters__btn btn btn-default _small"\n      type="button"\n      ng-disabled="$ctrl.isLoading || !$ctrl.selectedLearners.length"\n      ng-click="$ctrl.updateReport()">\n      Update\n    </button>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a) {
            "ngInject";
            (0, n.default)(this, e), this._modalDefaultService = i, this._studentsService = a, this._clubAttendanceOverviewService = t, this.isLoading = !1
        }
        return e.$inject = ["clubAttendanceOverviewService", "modalDefaultService", "studentsService"], (0, i.default)(e, [{
            key: "$onDestroy",
            value: function() {
                this._studentsService.clearSelectedStudents(), this._clubAttendanceOverviewService.resetValues()
            }
        }, {
            key: "updateReport",
            value: function() {
                var e = this,
                    t = {
                        learner_ids: this._studentsService.selectedStudents.map(function(e) {
                            return e.id
                        }),
                        date_from: this.fromDate,
                        date_until: this.toDate
                    };
                this.isLoading = !0, this._clubAttendanceOverviewService.getAttendanceOverviewReport(t).then(function(t) {
                    var n = t.learners,
                        i = t.clubs;
                    e._clubAttendanceOverviewService.analytics = {
                        clubs: i,
                        learners: n
                    }
                }).catch(function() {
                    e._clubAttendanceOverviewService.analytics = {
                        clubs: [],
                        learners: []
                    }
                }).finally(function() {
                    e.isLoading = !1
                })
            }
        }, {
            key: "showAddLearnersModal",
            value: function() {
                return this._studentsService.filteredStudents = this._studentsService.students.students, this._modalDefaultService.showModalWithTemplates("modal-select-learners", {
                    isSave: !0
                }, "Select learners")
            }
        }, {
            key: "onDateChange",
            value: function(e) {
                var t = e.fromDate,
                    n = e.untilDate;
                this._clubAttendanceOverviewService.fromDate = t, this._clubAttendanceOverviewService.toDate = n, this.selectedLearners && this.selectedLearners.length && this.updateReport()
            }
        }, {
            key: "fromDate",
            get: function() {
                return this._clubAttendanceOverviewService.fromDate
            }
        }, {
            key: "toDate",
            get: function() {
                return this._clubAttendanceOverviewService.toDate
            }
        }, {
            key: "selectedLearners",
            get: function() {
                return this._studentsService.selectedStudents
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1352));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("b-club-details", []).component("bClubDetails", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1353)),
        i = a(t(1354));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1355);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="b-club-details">\n  <div class="b-club-details__row _top" ng-if="$ctrl._userService.checkRole(\'employee\') || $ctrl.leader">\n    <button type="button" class="b-club-details__btn btn btn-default _small"\n\t\t\t\n            ng-click="$ctrl.goToUpdatePage()"\n    >Edit</button>\n    <button type="button" class="b-club-details__btn btn btn-default _small"\n\t\t\tng-if="$ctrl.leader" \n            ng-click="$ctrl.showDeletingModal()"\n            ng-disabled="$ctrl.isLoading"\n    >Delete</button>\n    <button type="button" class="b-club-details__btn btn btn-default _small"\n            ng-if="$ctrl._userService.user.capabilities.club.export"\n            ng-click="$ctrl._clubsService.exportClubAttendance($ctrl.scope.club.id)"\n            ng-disabled="$ctrl.isLoading"\n    >Attendance Export</button>\n    <button type="button" class="b-club-details__btn btn btn-default _small _message" ng-if="$ctrl._userService.checkRole(\'employee\')"\n            ng-click="$ctrl.goToCommunicator()"\n            ng-disabled="$ctrl.isLoading"\n    >Message</button>\n    \n  </div>\n  <div class="b-club-details__row">\n    <div class="b-club-details__name">{{ ::($ctrl.scope.club.name || \'-\') }}</div>\n  </div>\n  <div class="b-club-details__row">\n    <div class="b-club-details__col-wrap">\n      <div class="b-club-details__col">\n        <span class="b-club-details__title">Location:</span>\n        {{ ::($ctrl.scope.club.location ? $ctrl.scope.club.location : \'-\') }}\n      </div>\n      <div class="b-club-details__col">\n        <div class="b-club-details__row">\n          <span class="b-club-details__title">Leaders:</span>\n          {{ $ctrl.scope.club.leaders_names }}\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class="b-club-details__row">\n    <div class="b-club-details__title">Description:</div>\n    <div class="b-club-details__description"\n         ng-bind-html="$ctrl.scope.club.description ? $ctrl.scope.club.description : \'-\'"\n    ></div>\n  </div>\n  <div class="b-club-details__row">\n    <div class="b-club-details__title">All Dates:</div>\n    <t-club-dates ng-if="!$ctrl._userService.checkRole(\'employee\') || $ctrl._userService.user.activeStudent"\n                  dates="$ctrl.scope.club.sessions"\n    ></t-club-dates>\n    <t-club-dates ng-if="$ctrl._userService.checkRole(\'employee\') && !$ctrl._userService.user.activeStudent"\n                  on-select="$ctrl.goToRegisterPage(data)"\n                  dates="$ctrl.scope.club.sessions"\n    ></t-club-dates>\n  </div>\n  <div class="b-club-details__row" ng-if="$ctrl._userService.checkRole(\'employee\')">\n    <div class="b-club-details__title _members">\n      <div class="b-club-details__col-wrap">\n        <div class="b-club-details__col _title">\n          Members:\n          <button type="button" class="b-club-details__edit"\n                  ng-if="!$ctrl._userService.user.activeStudent"\n                  ng-click="$ctrl.showMembersModal()"\n          >\n            <svg-use name="pencil"></svg-use>\n          </button>\n        </div>\n        <div class="b-club-details__col _capability">\n          Capacity: {{ $ctrl.scope.club.learners.length || \'0\' }}/{{ ::($ctrl.scope.club.capacity.maximum || \'Unlimited\') }}\n        </div>\n      </div>\n    </div>\n    <l-related-students class="b-club-details__users"\n                        students="$ctrl.scope.learners"\n                        empty-message="No members."\n    ></l-related-students>\n  </div>\n  <div class="b-club-details__row"\n       ng-if="$ctrl.scope.club.bookable && ($ctrl._userService.checkRole(\'learner\') || $ctrl._userService.user.activeChild)"\n  >\n    <button type="button" class="b-club-details__btn btn btn-default _small _fill _book"\n            ng-class="{ _green: !$ctrl.scope.club.booked, _red: $ctrl.scope.club.booked }"\n            ng-click="$ctrl.book()"\n    >{{ $ctrl.scope.club.booked ? \'Un-book\' : \'Join club\' }}</button>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    (function($) {
        Object.defineProperty(exports, "__esModule", {
            value: !0
        });
        var e = a(t(11)),
            n = a(t(1)),
            i = a(t(2));

        function a(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        var s = function() {
            function t(e, i, a, s, r, o, l, c, d, u, _, f, v, m, h, p) {
                "ngInject";
                (0, n.default)(this, t), this._$scope = e, this._$state = i, this._$stateParams = a, this._clubsService = s, this._studentsService = r, this._userService = o, this._modalDefaultService = l, this._notificationService = c, this._windowWidthService = d, this._deviceMarginConstants = u, this._menuService = _, this._configService = f, this._routeClassService = v, this._authService = m, this._communicatorDataService = h, this._teachersService = p, this.isLoading = !1, this.leader = !1
            }
            return t.$inject = ["$scope", "$state", "$stateParams", "clubsService", "studentsService", "userService", "modalDefaultService", "notificationService", "windowWidthService", "deviceMarginConstants", "menuService", "configService", "routeClassService", "authService", "communicatorDataService", "teachersService"], (0, i.default)(t, [{
                key: "$onInit",
                value: function() {
                    var e = this;
                    this.leader = this.scope.club.leaders.find(function(t) {
                        return t.id === e._userService.user.id
                    })
                }
            }, {
                key: "getLeadersList",
                value: function() {
                    return this.scope.employees.reduce(function(e, t) {
                        return e = "" + e + (e && ",") + " " + t.forename + " " + t.surname
                    }, "")
                }
            }, {
                key: "goToCommunicator",
                value: function() {
                    var e = this;
                    if (this.scope.learners) {
                        if (this._windowWidthService.windowWidth > this._deviceMarginConstants.MOBILE_MARGIN) {
                            var t = [this._menuService.eventsName.MENU_IN, this._menuService.eventsName.MENU_HIDE, this._menuService.eventsName.MENU_EMPTY],
                                n = [function() {
                                    return e._routeClassService.isMenuIn = !0
                                }, function() {
                                    return $(".student__back").removeClass("_active")
                                }, function() {
                                    e._$state.transitionTo("communicator.mailbox", null, {
                                        notify: !1
                                    }), e._authService.isNotFirstAuth = !1, e._menuService.menu = null, e._communicatorDataService.clubLearners = e.scope.learners.map(function(e) {
                                        return e.id.toString()
                                    })
                                }]; - 1 !== this._configService.config.isMenuCenterStates.indexOf(this._routeClassService.fullStateName) && (t.shift(), n.shift()), this._menuService.setEvents(t, [], n)
                        } else this._$state.transitionTo("communicator.mailbox", null, {
                            notify: !1
                        }), this._communicatorDataService.clubLearners = this.scope.learners.map(function(e) {
                            return e.id.toString()
                        });
                        this._$scope.$emit("hideModal")
                    } else this._notificationService.showErrorNotification("No one to send")
                }
            }, {
                key: "goToUpdatePage",
                value: function() {
                    var e = this;
                    this._$state.transitionTo("clubs.update", {
                        id: this.scope.club.id
                    }, {
                        notify: !1
                    }).then(function() {
                        return e._$scope.$emit("hideModal")
                    })
                }
            }, {
                key: "goToRegisterPage",
                value: function(e) {
                    var t = this,
                        n = e.id;
                    this._$state.transitionTo("clubs.register", {
                        clubId: this.scope.club.id,
                        sessionId: n
                    }, {
                        notify: !1
                    }).then(function() {
                        return t._$scope.$emit("hideModal")
                    })
                }
            }, {
                key: "book",
                value: function() {
                    var e = this,
                        t = {
                            club_id: this.scope.club.id,
                            learner_id: this._userService.checkRole("learner") ? this._userService.user.id : this._userService.user.activeChild.id,
                            attending: !this.scope.club.booked
                        };
                    this.scope.attendClub(t).then(function() {
                        e._notificationService.showSuccessNotification("Success"), e.closeModal()
                    })
                }
            }, {
                key: "deleteClub",
                value: function(e) {
                    var t = this;
                    this.isLoading = !0, this._clubsService.deleteClub(e).then(function() {
                        t._$state.transitionTo(t._$state.current, t._$stateParams, {
                            notify: !1,
                            inherit: !1,
                            reload: t._$state.current.name
                        }), t.closeAllModal()
                    }).finally(function() {
                        return t.isLoading = !1
                    })
                }
            }, {
                key: "showDeletingModal",
                value: function() {
                    var e = this,
                        t = {
                            confirm: function() {
                                return e.deleteClub(e.scope.club.id)
                            },
                            cancel: function() {
                                return e.closeModal()
                            },
                            message: "Are you sure you want to delete the club?"
                        };
                    return this._modalDefaultService.showModalWithTemplates("modal-confirm", t, "Club deleting")
                }
            }, {
                key: "showMembersModal",
                value: function() {
                    var t = this,
                        n = {
                            onSubmit: function(n) {
                                var i = n.selectedStudents,
                                    a = {
                                        club_id: t.scope.club.id,
                                        learner_ids: i.map(function(e) {
                                            return e.id
                                        })
                                    };
                                t._clubsService.updateClub(a).then(function() {
                                    t._notificationService.showSuccessNotification("Success"), t.closeModal(), t._clubsService.getClub({
                                        club_id: t.scope.club.id
                                    }).then(function(n) {
                                        var a = n.club;
                                        t.scope.learners = t._clubsService.prepClubLearners(i, a.learners), t.scope.club.learners = [].concat((0, e.default)(i.map(function(e) {
                                            return {
                                                id: e.id
                                            }
                                        }))), t._$state.transitionTo(t._$state.current, t._$stateParams, {
                                            notify: !1,
                                            inherit: !1,
                                            reload: t._$state.current.name
                                        })
                                    })
                                })
                            },
                            buttonText: "Update"
                        };
                    return this._studentsService.selectedStudents = this._studentsService.students.students.filter(function(e) {
                        return t.scope.club.learners.find(function(t) {
                            return t.id === e.id
                        })
                    }), this._modalDefaultService.showModalWithTemplates("modal-select-learners", n, "Members")
                }
            }, {
                key: "closeAllModal",
                value: function() {
                    this._$scope.$emit("hideModal", {
                        closeAllModals: !0
                    })
                }
            }, {
                key: "closeModal",
                value: function() {
                    this._$scope.$emit("hideModal")
                }
            }]), t
        }();
        exports.default = s
    }).call(exports, t(22))
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1357));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("b-collection-update", []).component("bCollectionUpdate", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1358)),
        i = a(t(1359));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1360);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            model: "<",
            activeUser: "<",
            users: "=",
            onSave: "&",
            onUserSelect: "&",
            isLoading: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="b-collection-update">\n    <div class="b-collection-update__left">\n      <l-collection-users ng-if="$ctrl._windowWidthService.windowWidth > $ctrl._deviceMarginConstants.MOBILE_MARGIN"\n                          is-loading="$ctrl.isLoading"\n                          users="$ctrl.users"\n                          on-select="$ctrl.onUserSelect({ user })"\n      ></l-collection-users>\n\n      <pr-user-select\n        ng-if="$ctrl._windowWidthService.windowWidth <= $ctrl._deviceMarginConstants.MOBILE_MARGIN"\n        photo="$ctrl.activeUser.photo"\n        users="$ctrl.users"\n        active-user="$ctrl.activeUser"\n        on-select="$ctrl.onUserSelect({ user })"\n        limit="5"\n      ></pr-user-select>\n    </div>\n\n    <div class="b-collection-update__right">\n      <div class="b-collection-update__loader" ng-if="$ctrl.isLoading">\n        <b-loader></b-loader>\n      </div>\n      <f-collection-update user-type="$ctrl.activeUser.type"\n                           on-save="$ctrl.onSave()"\n                           model="$ctrl.model"\n      ></f-collection-update>\n    </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(1),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    var s = function e(t, n) {
        "ngInject";
        (0, a.default)(this, e), this._deviceMarginConstants = t, this._windowWidthService = n
    };
    s.$inject = ["deviceMarginConstants", "windowWidthService"], exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1362));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("b-comment-banks", []).component("bCommentBanks", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1363)),
        i = a(t(1364));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1365);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            yearGroups: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="b-comment-banks">\n  <div class="b-comment-banks__header">\n    <div class="b-comment-banks__filter">\n      <div class="b-comment-banks__filter-item">\n        <ui-select ng-model="$ctrl.model.year"\n                   ng-change="$ctrl.getSubjects()"\n                   theme="selectize"\n                   class="b-comment-banks__select select-default"\n                   search-enabled="false"\n        >\n          <ui-select-match placeholder="Year">{{ $select.selected.name }}</ui-select-match>\n          <ui-select-choices repeat="option.id as option in $ctrl.yearGroups track by $index">\n            <span>{{ ::option.name }}</span>\n          </ui-select-choices>\n        </ui-select>\n        <div class="f-default__select-mobile-wrap">\n          <select class="f-default__select-mobile"\n                  ng-model="$ctrl.model.year"\n                  ng-change="$ctrl.getSubjects()"\n          >\n            <option value="" disabled selected>Year</option>\n            <option ng-repeat="option in $ctrl.yearGroups track by $index"\n                    ng-value="::option.id"\n            >\n              {{::option.name}}\n            </option>\n          </select>\n        </div>\n      </div>\n      <div class="b-comment-banks__filter-item">\n        <ui-select ng-model="$ctrl.model.subject"\n                   ng-disabled="!$ctrl.model.year"\n                   ng-change="$ctrl.getAreas()"\n                   theme="selectize"\n                   class="b-comment-banks__select select-default"\n                   search-enabled="false"\n        >\n          <ui-select-match placeholder="Subject">{{ $select.selected.name }}</ui-select-match>\n          <ui-select-choices repeat="option.id as option in $ctrl.subjects track by $index">\n            <span>{{ ::option.name }}</span>\n          </ui-select-choices>\n        </ui-select>\n        <div class="f-default__select-mobile-wrap">\n          <select class="f-default__select-mobile"\n                  ng-model="$ctrl.model.subject"\n                  ng-disabled="!$ctrl.model.year"\n                  ng-change="$ctrl.getAreas()"\n          >\n            <option value="" disabled selected>Subject</option>\n            <option ng-repeat="option in $ctrl.subjects track by $index"\n                    ng-value="::option.id"\n            >\n              {{::option.name}}\n            </option>\n          </select>\n        </div>\n      </div>\n      <div class="b-comment-banks__filter-item">\n        <ui-select ng-model="$ctrl.model.area"\n                   ng-disabled="!$ctrl.model.subject"\n                   ng-change="$ctrl.getComments()"\n                   theme="selectize"\n                   class="b-comment-banks__select select-default"\n                   search-enabled="false"\n        >\n          <ui-select-match placeholder="Area">{{ $select.selected.name }}</ui-select-match>\n          <ui-select-choices repeat="option.id as option in $ctrl.areas track by $index">\n            <span>{{ ::option.name }}</span>\n          </ui-select-choices>\n        </ui-select>\n        <div class="f-default__select-mobile-wrap">\n          <select class="f-default__select-mobile"\n                  ng-model="$ctrl.model.area"\n                  ng-disabled="!$ctrl.model.subject"\n                  ng-change="$ctrl.getComments()"\n          >\n            <option value="" disabled selected>Area</option>\n            <option ng-repeat="option in $ctrl.areas track by $index"\n                    ng-value="::option.id"\n            >\n              {{::option.name}}\n            </option>\n          </select>\n        </div>\n      </div>\n      <div class="b-comment-banks__filter-item">\n        <button type="button"\n                class="f-seating-plan__btn btn btn-default _fill _small _green"\n                ng-click="$ctrl.showManageAreasModal()"\n        >Manage areas</button>\n      </div>\n    </div>\n    <a ui-sref="marksheets.selections" class="b-comment-banks__btn-close btn-close">\n      <svg-use name="cross" class="btn-close__svg"></svg-use>\n    </a>\n  </div>\n  <div class="b-comment-banks__body" ng-if="$ctrl.model.area">\n    <div class="b-comment-banks__body-item" ng-if="!$ctrl.comments.length">\n      <button type="submit"\n              class="b-comment-banks__btn btn btn-default _fill _small"\n              ng-click="$ctrl.addNewCommentForm()"\n      >Add new comment</button>\n    </div>\n    <div class="b-comment-banks__body-item"\n         ng-if="$ctrl.comments.length"\n         ng-repeat="comment in $ctrl.comments track by $index"\n    >\n      <f-comment-bank\n        ng-if="!$last"\n        index="$index"\n        comment="comment"\n        on-save="$ctrl.saveComment({ comment })"\n        on-remove="$ctrl.removeComment({ comment, index })"\n        variables="$ctrl.variables"\n      ></f-comment-bank>\n      <f-comment-bank\n        ng-if="$last"\n        index="$index"\n        comment="comment"\n        on-save="$ctrl.saveComment({ comment })"\n        on-add-new="$ctrl.addNewCommentForm()"\n        on-remove="$ctrl.removeComment({ comment, index })"\n        variables="$ctrl.variables"\n      ></f-comment-bank>\n    </div>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(10)),
        i = s(t(1)),
        a = s(t(2));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = function() {
        function e(t, n, a, s) {
            "ngInject";
            (0, i.default)(this, e), this.model = {
                year: null,
                subject: null,
                area: null
            }, this.subjects = [], this.areas = [], this.comments = [], this.defaultComment = {
                comment: ""
            }, this._$q = t, this._marksheetService = n, this._modalDefaultService = a, this._notificationService = s
        }
        return e.$inject = ["$q", "marksheetService", "modalDefaultService", "notificationService"], (0, a.default)(e, [{
            key: "getSubjects",
            value: function() {
                var e = this,
                    t = {
                        year_id: this.model.year
                    };
                this._marksheetService.getMarksheetCommentBanksFromDb(t).then(function(t) {
                    e.model.subject = null, e.model.area = null, e.subjects = t.subjects, e.areas = []
                })
            }
        }, {
            key: "getAreas",
            value: function() {
                var e = this,
                    t = {
                        year_id: this.model.year,
                        subject_id: this.model.subject
                    };
                this._marksheetService.getMarksheetCommentBanksFromDb(t).then(function(t) {
                    e.model.area = null, e.comments = [], e.variables = [], e.areas = t.areas
                })
            }
        }, {
            key: "getComments",
            value: function() {
                var e = this,
                    t = {
                        year_id: this.model.year,
                        subject_id: this.model.subject,
                        area_id: this.model.area
                    };
                this._marksheetService.getMarksheetCommentBanksFromDb(t).then(function(t) {
                    e.comments = t.comments, e.variables = t.variables
                })
            }
        }, {
            key: "showManageAreasModal",
            value: function() {
                var e = this,
                    t = {
                        callback: function() {
                            return e.model.subject && e.getAreas()
                        }
                    };
                this._modalDefaultService.showModalWithTemplates("modal-manage-areas", t, "Manage areas")
            }
        }, {
            key: "addNewCommentForm",
            value: function() {
                this.comments.push((0, n.default)({}, this.defaultComment))
            }
        }, {
            key: "removeComment",
            value: function(e) {
                var t = this,
                    n = e.comment,
                    i = e.index;
                if (n.id) {
                    var a = {
                        comment_id: n.id
                    };
                    return this._marksheetService.removeComment(a).then(function() {
                        return t.getComments()
                    }).then(function() {
                        return t._notificationService.showSuccessNotification("Removed")
                    })
                }
                return this.comments.splice(i, 1), this._$q.resolve()
            }
        }, {
            key: "saveComment",
            value: function(e) {
                var t = this,
                    n = e.comment;
                if (n.id) {
                    var i = {
                        comment_id: n.id,
                        comment: n.comment
                    };
                    return i.id = n.id, this._marksheetService.updateComment(i).then(function() {
                        t.getComments(), t._notificationService.showSuccessNotification("Updated")
                    })
                }
                var a = {
                    comment: n.comment,
                    area_id: this.model.area,
                    subject_id: this.model.subject,
                    year_id: this.model.year
                };
                return this._marksheetService.addComment(a).then(function() {
                    t.getComments(), t._notificationService.showSuccessNotification("Added")
                })
            }
        }]), e
    }();
    exports.default = r
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1367));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("b-create-form", []).component("bCreateForm", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1368)),
        i = a(t(1369));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1370);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            model: "=",
            isBlockFields: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="b-create-form">\n  <div class="b-create-form__left">\n    <div class="b-create-form__row">\n      <b-input-container>\n        <label class="f-default__label b-create-form__label" float-label>Form Name</label>\n        <input class="f-default__input b-create-form__input _required"\n          type="text"\n          name="name"\n          with-float-label\n          required\n          ng-model="$ctrl.model.formName">\n      </b-input-container>\n    </div>\n    <div class="b-create-form__row">\n      <b-date-time-select class="b-create-form__date"\n        format="{{::$ctrl._dateService.getDateFormat(\'apiDateTime\')}}"\n        visible-date-format="{{::$ctrl._dateService.getDateFormat(\'momentDateTime\')}}"\n        name="dueDate"\n        date="$ctrl.model.dueDate"\n        is-required="true"\n        label="Due date"></b-date-time-select>\n    </div>\n    <div class="b-create-form__row">\n      <b-date-time-select class="b-create-form__date"\n        format="{{::$ctrl._dateService.getDateFormat(\'apiDateTime\')}}"\n        visible-date-format="{{::$ctrl._dateService.getDateFormat(\'momentDateTime\')}}"\n        name="available"\n        date="$ctrl.model.available_date"\n        is-required="true"\n        label="Available date"></b-date-time-select>\n    </div>\n    <div class="b-create-form__row">\n      <div class="b-create-form__label">Add form fields</div>\n      <div class="b-create-form__panel">\n        <button type="button" class="b-create-form__btn"\n          ng-disabled="$ctrl.isBlockFields"\n          ng-repeat="component in $ctrl.components track by $index"\n          ng-click="$ctrl.addFormElem(component)">\n          {{ component.name }}\n        </button>\n      </div>\n    </div>\n  </div>\n  <div class="b-create-form__right">\n    <div class="b-create-form__message" ng-if="!$ctrl.model.fields.length">\n      Select components.\n    </div>\n    <div class="b-create-form__row"\n      ng-if="$ctrl.model.fields.length"\n      ng-repeat="elem in $ctrl.model.fields">\n\n      <div class="b-create-form__header">\n        {{ elem.name }}:\n        <div class="b-create-form__controls">\n          <button type="button" class="b-create-form__sort _top"\n            ng-if="$index !== 0"\n            ng-click="$ctrl.sortElements($index, $index - 1)"></button>\n          <button type="button" class="b-create-form__sort _bottom"\n            ng-if="$ctrl.model.fields.length > 1 && $index !== $ctrl.model.fields.length - 1"\n            ng-click="$ctrl.sortElements($index, $index + 1)"></button>\n        </div>\n      </div>\n\n      <div class="b-create-form__element" ng-if="elem.type === \'subheading\'">\n        <div class="b-create-form__field-outer">\n          <button type="button" class="b-create-form__remove"\n            ng-if="!$ctrl.isBlockFields"\n            ng-click="$ctrl.removeElemFromArrayByIndex($index, $ctrl.model.fields)"></button>\n          <input type="text" class="f-default__input b-create-form__input" placeholder="Text" required ng-model="elem.content">\n        </div>\n      </div>\n\n      <div class="b-create-form__element" ng-if="elem.type === \'paragraph\'">\n        <div class="b-create-form__field-outer">\n          <button type="button" class="b-create-form__remove"\n            ng-if="!$ctrl.isBlockFields"\n            ng-click="$ctrl.removeElemFromArrayByIndex($index, $ctrl.model.fields)"></button>\n\n          <f-summernote content="elem.content" required-field="true"></f-summernote>\n        </div>\n      </div>\n\n      <div class="b-create-form__element" ng-if="elem.type === \'choice\'">\n        <div class="b-create-form__field-outer">\n          <button type="button" class="b-create-form__remove"\n            ng-if="!$ctrl.isBlockFields"\n            ng-click="$ctrl.removeElemFromArrayByIndex($index, $ctrl.model.fields)"></button>\n          <input type="text" class="f-default__input b-create-form__input" placeholder="Label" required ng-model="elem.label">\n        </div>\n\n        <div class="b-create-form__field-outer _flex">\n          <input type="text" class="f-default__input b-create-form__input"\n            placeholder="Option"\n            ng-required="!elem.options || elem.options.length < 2"\n            ng-disabled="$ctrl.isBlockFields"\n            ng-model="elem.newOption">\n          <div class="b-create-form__add-outer">\n            \x3c!--this input helps validate options, e.g. should be elem.options.length > 2--\x3e\n            <input type="text" class="b-create-form__add-input"\n              ng-model="emptyModel"\n              ng-required="!elem.options || elem.newOption && elem.options.length < 2">\n            <button type="button" class="b-create-form__add"\n              ng-disabled="!elem.newOption || $ctrl.isBlockFields"\n              ng-click="$ctrl.addOption($event.currentTarget, elem)">Add</button>\n          </div>\n\n        </div>\n\n        <div class="b-create-form__field-outer">\n          <div class="b-create-form__options">\n            <div class="b-create-form__option" ng-repeat="option in elem.options track by $index">\n              <div class="b-create-form__option-name">{{ option }}</div>\n              <button type="button" class="b-create-form__delete"\n                ng-if="!$ctrl.isBlockFields"\n                ng-click="$ctrl.removeElemFromArrayByIndex($index, elem.options)"></button>\n            </div>\n          </div>\n        </div>\n\n        <div class="b-create-form__field-outer">\n          <label class="b-create-form__checkbox">\n            <input type="checkbox" class="b-create-form__checkbox-input"\n              ng-click="$ctrl.toggleCheckbox(elem, \'required\')"\n              ng-class="{ _checked: elem.required }">\n            <span class="b-create-form__checkbox-title">Required</span>\n          </label>\n        </div>\n      </div>\n\n      <div class="b-create-form__element" ng-if="elem.type === \'email\'">\n        <div class="b-create-form__field-outer">\n          <button type="button" class="b-create-form__remove"\n            ng-if="!$ctrl.isBlockFields"\n            ng-click="$ctrl.removeElemFromArrayByIndex($index, $ctrl.model.fields)"></button>\n          <input class="f-default__input b-create-form__input"\n            placeholder="Label"\n            required\n            ng-model="elem.label">\n        </div>\n        <div class="b-create-form__field-outer">\n          <label class="b-create-form__checkbox">\n            <input type="checkbox" class="b-create-form__checkbox-input"\n              ng-click="$ctrl.toggleCheckbox(elem, \'required\')"\n              ng-class="{ _checked: elem.required }">\n            <span class="b-create-form__checkbox-title">Required</span>\n          </label>\n        </div>\n      </div>\n\n      <div class="b-create-form__element" ng-if="elem.type === \'text\'">\n        <div class="b-create-form__field-outer">\n          <button type="button" class="b-create-form__remove"\n            ng-if="!$ctrl.isBlockFields"\n            ng-click="$ctrl.removeElemFromArrayByIndex($index, $ctrl.model.fields)"></button>\n          <input type="text" class="f-default__input b-create-form__input" placeholder="Label" required ng-model="elem.label">\n        </div>\n\n        <div class="b-create-form__field-outer">\n          <input type="text" class="f-default__input b-create-form__input" required placeholder="Placeholder" ng-model="elem.placeholder">\n        </div>\n\n        <div class="b-create-form__field-outer">\n          <label class="b-create-form__checkbox">\n            <input type="checkbox" class="b-create-form__checkbox-input"\n              ng-click="$ctrl.toggleCheckbox(elem, \'multiline\')"\n              ng-class="{ _checked: elem.multiline }">\n            <span class="b-create-form__checkbox-title">Multiline</span>\n          </label>\n        </div>\n\n        <div class="b-create-form__field-outer">\n          <label class="b-create-form__checkbox">\n            <input type="checkbox" class="b-create-form__checkbox-input"\n              ng-click="$ctrl.toggleCheckbox(elem, \'required\')"\n              ng-class="{ _checked: elem.required }">\n            <span class="b-create-form__checkbox-title">Required</span>\n          </label>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s) {
            "ngInject";
            (0, n.default)(this, e), this._formsService = a, this._dateService = s, this._$scope = i, this._$filter = t, this.data = {
                OPTIONS_MIN_COUNT: 2,
                editFormDate: !0
            }
        }
        return e.$inject = ["$filter", "$scope", "formsService", "dateService"], (0, i.default)(e, [{
            key: "addFormElem",
            value: function(e) {
                this.isBlockFields || this.model.fields.push(angular.copy(e))
            }
        }, {
            key: "removeElemFromArrayByIndex",
            value: function(e, t) {
                this.isBlockFields || t.splice(e, 1)
            }
        }, {
            key: "addOption",
            value: function(e, t) {
                -1 !== t.options.indexOf(t.newOption) || this.isBlockFields || (t.options.push(t.newOption), t.newOption = null, angular.element(e).parent().prev().focus())
            }
        }, {
            key: "toggleCheckbox",
            value: function(e, t) {
                e[t] = !e[t]
            }
        }, {
            key: "sortElements",
            value: function(e, t) {
                var n = this.model.fields[e];
                this.model.fields[e] = this.model.fields[t], this.model.fields[t] = n
            }
        }, {
            key: "components",
            get: function() {
                return this._formsService.components
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1372));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("b-date-range-select", []).component("bDateRangeSelect", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1373)),
        i = a(t(1374));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1375);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            onChange: "&?",
            dateFrom: "<",
            dateTo: "<",
            maxDaysRange: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="b-date-range-select" ng-click="$ctrl.openSelectDateRangesModal()">\n  <div class="b-date-range-select__field">\n    <span class="b-date-range-select__label" ng-if="!$ctrl.dateFrom">Select a date range</span>\n    <span class="b-date-range-select__dates"\n          ng-if="$ctrl.dateFrom && $ctrl.dateTo">\n      {{ $ctrl.getFormattedDate($ctrl.dateFrom) }} - {{ $ctrl.getFormattedDate($ctrl.dateTo) }}\n    </span>\n    <span class="b-date-range-select__dates"\n          ng-if="$ctrl.dateFrom && !$ctrl.dateTo">From {{ $ctrl.getFormattedDate($ctrl.dateFrom) }}</span>\n  </div>\n  <button type="button"\n          class="b-date-range-select__btn">\n    <svg-use name="calendar-small"></svg-use>\n  </button>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i) {
            "ngInject";
            (0, n.default)(this, e), this._modalDefaultService = t, this._dateService = i, this.dateFrom = null, this.dateTo = null, this.maxDaysRange = null
        }
        return e.$inject = ["modalDefaultService", "dateService"], (0, i.default)(e, [{
            key: "getFormattedDate",
            value: function(e) {
                return moment(e).format(this._dateService.getDateFormat("momentDate"))
            }
        }, {
            key: "onDateChange",
            value: function(e) {
                var t = e.newValue;
                this.onChange && this.onChange({
                    newValue: t
                })
            }
        }, {
            key: "openSelectDateRangesModal",
            value: function() {
                var e = this;
                return this._modalDefaultService.showModalWithTemplates("modal-select-date-range", {
                    maxDaysRange: this.maxDaysRange,
                    from: this.dateFrom,
                    select: function(t) {
                        var n = t.from,
                            i = t.to;
                        e.dateFrom = n, e.dateTo = i, e.onDateChange({
                            newValue: {
                                from: n,
                                to: i
                            }
                        }), e._modalDefaultService.pop()
                    },
                    cancel: function() {
                        return e._modalDefaultService.pop()
                    }
                }, "Select a date range")
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1377));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("b-date-time-select", []).component("bDateTimeSelect", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1378)),
        i = a(t(1379));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1380);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            date: "=",
            isRequired: "<",
            showHeader: "<",
            isDisabled: "<",
            label: "@?",
            placeholder: "@?",
            name: "@",
            format: "@",
            visibleDateFormat: "@",
            minDate: "<",
            maxDate: "<",
            icon: "@",
            onChange: "&?",
            isClear: "<",
            additions: "<",
            setOnSelect: "<",
            customButtonClick: "&"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="b-date-time-select">\n  <div class="b-date-time-select__field">\n    <button type="button"\n      class="b-date-time-select__btn"\n      ng-disabled="$ctrl.isDisabled"\n      moment-picker="$ctrl.date"\n      change="$ctrl.onDateChange({ newValue })"\n      format="{{ $ctrl.format }}"\n      min-date="$ctrl.minDate"\n      max-date="$ctrl.maxDate"\n      show-header="$ctrl.showHeader"\n      start-view="month"\n      today="true"\n      additions="$ctrl.additions"\n      set-on-select="$ctrl.setOnSelect"\n      is-open="$ctrl.isOpen"\n      ng-click="$ctrl.disableFastClick()"></button>\n    <input type="text" class="b-date-time-select__input f-default__input _hide"\n      ng-model="$ctrl.date">\n    <b-input-container>\n      <label class="f-default__label b-date-time-select__label"\n        ng-if="$ctrl.label"\n        float-label>{{ $ctrl.label }}</label>\n      <input type="text" class="b-date-time-select__input f-default__input"\n        ng-required="$ctrl.isRequired"\n        with-float-label\n        ng-disabled="$ctrl.isDisabled"\n        ng-attr-name="{{ $ctrl.name }}"\n        placeholder="{{ $ctrl.placeholder }}"\n        field-name="{{ $ctrl.name }}"\n        ng-model="$ctrl.visibleDate">\n    </b-input-container>\n    <svg-use name="{{ $ctrl.icon ? $ctrl.icon : \'calendar-small\' }}"></svg-use>\n  </div>\n  <button type="button" class="b-date-time-select__clear"\n    ng-if="$ctrl.isClear && $ctrl.date"\n    ng-click="$ctrl.clear()"></button>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t) {
            "ngInject";
            (0, n.default)(this, e), this._fastClickService = t, this._isOpen = !1
        }
        return e.$inject = ["fastClickService"], (0, i.default)(e, [{
            key: "$onInit",
            value: function() {
                this.date && (this.visibleDate = this.getFormattedVisibleDate())
            }
        }, {
            key: "$onDestroy",
            value: function() {
                this.restoreFastClick()
            }
        }, {
            key: "getFormattedVisibleDate",
            value: function() {
                return this.visibleDateFormat && this.date ? moment(this.date).format(this.visibleDateFormat) : this.date
            }
        }, {
            key: "onDateChange",
            value: function(e) {
                var t = e.newValue;
                this.onChange && this.onChange({
                    newValue: t
                }), this.visibleDate = this.getFormattedVisibleDate()
            }
        }, {
            key: "clear",
            value: function() {
                this.date = null
            }
        }, {
            key: "disableFastClick",
            value: function() {
                this._fastClickService.removeFastClick(document.body)
            }
        }, {
            key: "restoreFastClick",
            value: function() {
                this._fastClickService.hasFastClick(document.body) || this._fastClickService.addFastClick(document.body)
            }
        }, {
            key: "isOpen",
            get: function() {
                return this._isOpen
            },
            set: function(e) {
                this._isOpen = e, e || this.restoreFastClick()
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1382));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("b-demo-info", []).component("bDemoInfo", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1383)),
        i = a(t(1384));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1385);
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<a class="btn-back" ui-sref="demo"></a>\n<div class="b-demo-info">\n  <span class="b-demo-info__title" ng-if="$ctrl.local.secondPartOfCurrentState === \'employee\'">Employee Demo</span>\n  <span class="b-demo-info__title" ng-if="$ctrl.local.secondPartOfCurrentState === \'parent\'">Parent Demo</span>\n  <span class="b-demo-info__title" ng-if="$ctrl.local.secondPartOfCurrentState === \'learner\'">Learner Demo</span>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(1),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    var s = function e(t) {
        "ngInject";
        (0, a.default)(this, e), this.config = t.config, this.local = {
            secondPartOfCurrentState: this.config.secondPartOfCurrentState
        }
    };
    s.$inject = ["routeClassService"], exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1387));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("b-document", []).component("bDocument", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1388)),
        i = a(t(1389));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1390);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            document: "<",
            onMove: "&?"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="b-document" ng-click="$ctrl.download()">\n  <div class="b-document__icon-outer">\n    <svg-use name="noticeboard"></svg-use>\n    <span class="b-document__icon fiv-cla fiv-size-lg"\n          ng-if="$ctrl.document.type"\n          ng-class="\'fiv-icon-\' + $ctrl.document.type"></span>\n  </div>\n  <div class="b-document__name">{{ $ctrl.document.name }}</div>\n  <button type="button" class="b-document__btn-move" ng-if="$ctrl.onMove" ng-click="$ctrl.move($event)">\n    <svg-use name="arrow"></svg-use>\n  </button>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i) {
            "ngInject";
            (0, n.default)(this, e), this._attachmentsService = t, this._noticeboardService = i
        }
        return e.$inject = ["attachmentsService", "noticeboardService"], (0, i.default)(e, [{
            key: "download",
            value: function() {
                var e = this;
                this._noticeboardService.getNoticeboardFileFromDb(this.document.id).then(function(t) {
                    e._attachmentsService.downloadDocument(t.document)
                })
            }
        }, {
            key: "move",
            value: function(e) {
                e.stopPropagation(), this.onMove({
                    document: this.document
                })
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1392));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("b-document-access", []).component("bDocumentAccess", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1393)),
        i = a(t(1394));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1395);
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="b-document-access">\n  <div class="b-document-access__message" ng-if="!$ctrl._documentAccessReportService.analytics">\n    Please select some students and click "Update" button\n  </div>\n  <div class="b-document-access__table-outer" ng-if="$ctrl._documentAccessReportService.analytics">\n    <div class="b-document-access__table">\n      <t-document-access data="$ctrl._documentAccessReportService.analytics"></t-document-access>\n    </div>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i) {
            "ngInject";
            (0, n.default)(this, e), this._documentAccessReportService = t, this._studentsService = i
        }
        return e.$inject = ["documentAccessReportService", "studentsService"], (0, i.default)(e, [{
            key: "$onDestroy",
            value: function() {
                this._studentsService.clearSelectedStudents(), this._documentAccessReportService.resetValues()
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1397));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("b-document-access-filters", []).component("bDocumentAccessFilters", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1398)),
        i = a(t(1399));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1400);
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="b-document-access-filters">\n  <div class="f-default__row-default b-document-access-filters__row">\n    <div class="b-document-access-filters__learners">\n      <div class="b-document-access-filters__learners-left">\n        <div class="b-document-access-filters__learners-label">Students</div>\n        <l-photos-group items="$ctrl._studentsService.selectedStudents"></l-photos-group>\n      </div>\n      <div class="b-document-access-filters__learners-right">\n        <button type="button" class="b-document-access-filters__learners-btn"\n                ng-click="$ctrl.showAddLearnersModal()"\n        ><span></span></button>\n      </div>\n    </div>\n  </div>\n  <div class="f-default__row-default b-document-access-filters__row">\n    <ui-select class="select-default b-document-access-filters__select"\n               ng-model="$ctrl._documentAccessReportService.documentType"\n               theme="selectize"\n               search-enabled="false">\n      <ui-select-match placeholder="Document type">\n        {{ $select.selected.description || $select.selected }}\n      </ui-select-match>\n      <ui-select-choices repeat="item.code as item in $ctrl.documentTypes track by $index">\n        <span>{{ ::item.description }}</span>\n      </ui-select-choices>\n    </ui-select>\n    <div class="f-default__select-mobile-wrap">\n      <select class="f-default__select-mobile b-document-access-filters__select-mobile"\n              ng-model="$ctrl._documentAccessReportService.documentType"\n      >\n        <option value="" disabled selected>Document type</option>\n        <option ng-repeat="item in $ctrl.documentTypes track by $index"\n                ng-value="::item.code"\n        >\n          {{::item.description}}\n        </option>\n      </select>\n    </div>\n  </div>\n  <div class="f-default__row-default b-document-access-filters__row">\n    <b-input-container class="b-document-access-filters__input-container">\n      <label class="b-document-access-filters__label" float-label>Document name</label>\n      <input type="text" class="b-document-access-filters__input f-default__input"\n        with-float-label\n        ng-model="$ctrl._documentAccessReportService.documentName">\n    </b-input-container>\n  </div>\n  <div class="f-default__row-default b-document-access-filters__row">\n    <div class="b-document-access-filters__table">\n      <div class="b-document-access-filters__table-header">\n        <div class="b-document-access-filters__table-col _accessed">Accessed</div>\n        <div class="b-document-access-filters__table-col _yes">Yes</div>\n        <div class="b-document-access-filters__table-col _no">No</div>\n        <div class="b-document-access-filters__table-col _na">N/A</div>\n      </div>\n      <div class="b-document-access-filters__table-body">\n        <div class="b-document-access-filters__table-row">\n          <div class="b-document-access-filters__table-col _accessed">Parent</div>\n          <div class="b-document-access-filters__table-col _yes">\n            <label class="f-default__radio b-document-access-filters__radio">\n              <input type="radio"\n                     ng-model="$ctrl.accessed.parent"\n                     ng-value="true"\n              >\n              <span class="f-default__radio-text b-document-access-filters__radio-text"></span>\n            </label>\n          </div>\n          <div class="b-document-access-filters__table-col _no">\n            <label class="f-default__radio b-document-access-filters__radio">\n              <input type="radio"\n                     ng-model="$ctrl.accessed.parent"\n                     ng-value="false"\n              >\n              <span class="f-default__radio-text b-document-access-filters__radio-text"></span>\n            </label>\n          </div>\n          <div class="b-document-access-filters__table-col _na">\n            <label class="f-default__radio b-document-access-filters__radio">\n              <input type="radio"\n                     ng-model="$ctrl.accessed.parent"\n                     value="{{ $ctrl._documentAccessConstants.N_A }}"\n              >\n              <span class="f-default__radio-text b-document-access-filters__radio-text"></span>\n            </label>\n          </div>\n        </div>\n        <div class="b-document-access-filters__table-row">\n          <div class="b-document-access-filters__table-col _accessed">Learner</div>\n          <div class="b-document-access-filters__table-col _yes">\n            <label class="f-default__radio b-document-access-filters__radio">\n              <input type="radio"\n                     ng-model="$ctrl.accessed.learner"\n                     ng-value="true"\n              >\n              <span class="f-default__radio-text b-document-access-filters__radio-text"></span>\n            </label>\n          </div>\n          <div class="b-document-access-filters__table-col _no">\n            <label class="f-default__radio b-document-access-filters__radio">\n              <input type="radio"\n                     ng-model="$ctrl.accessed.learner"\n                     ng-value="false"\n              >\n              <span class="f-default__radio-text b-document-access-filters__radio-text"></span>\n            </label>\n          </div>\n          <div class="b-document-access-filters__table-col _na">\n            <label class="f-default__radio b-document-access-filters__radio">\n              <input type="radio"\n                     ng-model="$ctrl.accessed.learner"\n                     value="{{ $ctrl._documentAccessConstants.N_A }}"\n              >\n              <span class="f-default__radio-text b-document-access-filters__radio-text"></span>\n            </label>\n          </div>\n        </div>\n        <div class="b-document-access-filters__table-row">\n          <div class="b-document-access-filters__table-col _accessed">Employee</div>\n          <div class="b-document-access-filters__table-col _yes">\n            <label class="f-default__radio b-document-access-filters__radio">\n              <input type="radio"\n                     ng-model="$ctrl.accessed.employee"\n                     ng-value="true"\n              >\n              <span class="f-default__radio-text b-document-access-filters__radio-text"></span>\n            </label>\n          </div>\n          <div class="b-document-access-filters__table-col _no">\n            <label class="f-default__radio b-document-access-filters__radio">\n              <input type="radio"\n                     ng-model="$ctrl.accessed.employee"\n                     ng-value="false"\n              >\n              <span class="f-default__radio-text b-document-access-filters__radio-text"></span>\n            </label>\n          </div>\n          <div class="b-document-access-filters__table-col _na">\n            <label class="f-default__radio b-document-access-filters__radio">\n              <input type="radio"\n                     ng-model="$ctrl.accessed.employee"\n                     value="{{ $ctrl._documentAccessConstants.N_A }}"\n              >\n              <span class="f-default__radio-text b-document-access-filters__radio-text"></span>\n            </label>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class="f-default__row-default b-document-access-filters__row _bottom">\n    <button type="button" class="b-document-access-filters__btn btn btn-default _small"\n            ng-disabled="$ctrl.isLoading || !$ctrl._studentsService.selectedStudents.length"\n            ng-click="$ctrl.updateReport()"\n    >Update</button>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(11)),
        i = s(t(1)),
        a = s(t(2));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = function() {
        function e(t, n, a, s, r, o, l) {
            "ngInject";
            (0, i.default)(this, e), this._analyticsConstants = t, this._documentAccessReportService = n, this._documentAccessConstants = a, this._userService = s, this._modalDefaultService = r, this._notificationService = o, this._studentsService = l, this.isLoading = !1, this.accessed = {
                parent: a.N_A,
                learner: a.N_A,
                employee: a.N_A
            }
        }
        return e.$inject = ["analyticsConstants", "documentAccessReportService", "documentAccessConstants", "userService", "modalDefaultService", "notificationService", "studentsService"], (0, a.default)(e, [{
            key: "$onInit",
            value: function() {
                this.documentTypes = [{
                    code: this._analyticsConstants.SELECT_ALL_CODE,
                    description: "Select all"
                }].concat((0, n.default)(this._userService.user.document.types))
            }
        }, {
            key: "updateReport",
            value: function() {
                var e = this,
                    t = {
                        learner_ids: this._studentsService.selectedStudents.map(function(e) {
                            return e.id
                        }),
                        accessed: this.accessed.parent !== this._documentAccessConstants.N_A || this.accessed.learner !== this._documentAccessConstants.N_A || this.accessed.employee !== this._documentAccessConstants.N_A ? {} : void 0
                    };
                this._documentAccessReportService.documentType && this._documentAccessReportService.documentType !== this._analyticsConstants.SELECT_ALL_CODE && (t.document_type = this._documentAccessReportService.documentType), this._documentAccessReportService.documentName && (t.summary = this._documentAccessReportService.documentName), this.accessed.parent !== this._documentAccessConstants.N_A && (t.accessed.parent = this.accessed.parent), this.accessed.learner !== this._documentAccessConstants.N_A && (t.accessed.learner = this.accessed.learner), this.accessed.employee !== this._documentAccessConstants.N_A && (t.accessed.employee = this.accessed.employee), this.isLoading = !0, this._documentAccessReportService.getDocumentAccessReport(t).then(function(t) {
                    e._documentAccessReportService.analytics = e._documentAccessReportService.getPreparedAnalytics(t.learners), e._notificationService.showSuccessNotification("Updated")
                }).finally(function() {
                    e.isLoading = !1
                })
            }
        }, {
            key: "showAddLearnersModal",
            value: function() {
                return this._studentsService.filteredStudents = this._studentsService.students.students, this._modalDefaultService.showModalWithTemplates("modal-select-learners", {
                    isSave: !0
                }, "Select learners")
            }
        }]), e
    }();
    exports.default = r
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1402));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("b-documents-message", []).component("bDocumentsMessage", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1403)),
        i = a(t(1404));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1405);
    var s = {
        template: n.default,
        bindings: {
            data: "="
        },
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="b-documents-message">\n  <div class="b-documents-message__top" ng-class="{ \'_footer\': $ctrl._routeClassService.secondPartOfCurrentState === \'types\' }">\n    <div class="b-documents-message__left">\n      <div class="b-documents-message__left-content" ui-view="documentsMessageLeft"></div>\n    </div>\n    <div class="b-documents-message__right">\n      <div class="b-documents-message__right-content" ui-view="documentsMessageRight"></div>\n    </div>\n  </div>\n  <div class="b-documents-message__bottom" ng-if="$ctrl._routeClassService.secondPartOfCurrentState === \'types\'" ui-view="documentsMessageBottom"></div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r, o) {
            "ngInject";
            (0, n.default)(this, e), this._routeClassService = a, this._windowWidthService = r, this._deviceMarginConstants = o, this._userService = s, t.$on("$destroy", function() {
                i.clearLearners()
            })
        }
        return e.$inject = ["$scope", "studentsService", "routeClassService", "userService", "windowWidthService", "deviceMarginConstants"], (0, i.default)(e, [{
            key: "children",
            get: function() {
                return this._userService.user.children
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1407));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("b-edit-groups", []).component("bEditGroups", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1408)),
        i = a(t(1409));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1410);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            status: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="b-edit-groups">\n    <div class="b-edit-groups__left">\n      <f-student-search users-service="$ctrl._studentsService"\n                        status-filter="true"\n                        status-filter-value="$ctrl.status"\n      ></f-student-search>\n    </div>\n    <div class="b-edit-groups__right">\n      <l-student-search></l-student-search>\n    </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(1),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    var s = function e(t, n, i) {
        "ngInject";
        (0, a.default)(this, e), this._studentsService = i, t.$on("$destroy", function() {
            n.selectedMembers = null
        })
    };
    s.$inject = ["$scope", "groupsService", "studentsService"], exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1412));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("b-event-details", []).component("bEventDetails", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1413)),
        i = a(t(1414));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1415);
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="b-event-details">\n  <div class="b-event-details__item _header">\n    <div class="b-event-details__info">\n      <div class="b-event-details__col">\n        <p class="b-event-details__text">Event name: {{ $ctrl._$stateParams.event_name }}</p>\n        <p class="b-event-details__text">\n          Number of learners: {{ $ctrl._parentsEveningService.eventDetails.learners.total }}\n        </p>\n\t\t    <p class="b-event-details__text">\n          Number of learners with Booking: {{ $ctrl._parentsEveningService.eventDetails.learners.parent_booked.total }}\n        </p>\n        <div class="b-event-details__col-item">\n          <p class="b-event-details__text _no-grow">\n            Max parent bookings: {{ $ctrl._parentsEveningService.eventDetails.event.bookable_slots_per_learner || "-" }}\n          </p>\n          <button type="button" class="b-event-details__btn-edit"\n            ng-if="$ctrl._parentsEveningService.isAdmin"\n            ng-click="$ctrl.openUpdateBookableSlotsModal($event)">\n            <svg-use name="pencil"></svg-use>\n          </button>\n        </div>\n      </div>\n      <div class="b-event-details__col">\n        <div class="b-event-details__col-item">\n          <p class="b-event-details__text">Available to parents: {{ $ctrl.dateAvailableFrom() }} <span ng-if="$ctrl._parentsEveningService.eventDetails.event.closed_to_parents_at"> - {{ $ctrl.dateAvailableTo() }}</span></p>\n          <button type="button" class="b-event-details__btn-edit"\n                  ng-if="$ctrl._parentsEveningService.isAdmin"\n                  ng-click="$ctrl.openUpdateSessionsModal($event)"\n          >\n            <svg-use name="pencil"></svg-use>\n          </button>\n        </div>\n\t\t    <p class="b-event-details__text" ng-if="$ctrl._parentsEveningService.eventDetails.event.prevent_consecutive_bookings == true">Prevent consecutive bookings: Yes</p>\n\t\t\t  <p class="b-event-details__text" ng-if="$ctrl._parentsEveningService.eventDetails.event.prevent_consecutive_bookings != true">Prevent consecutive bookings: No</p>\n\t\t\t  <p class="b-event-details__text">\n          Attendance: {{ $ctrl._parentsEveningService.eventDetails.learners.parent_attended.percent_of_total }}% ({{$ctrl._parentsEveningService.eventDetails.learners.parent_attended.total}} Learner\'s parents)\n        </p>\n      </div>\n    </div>\n  </div>\n\n  <div class="b-event-details__item _buttons">\n    <button type="button" class="b-event-details__btn _add"\n            ng-click="$ctrl.showTeachersModal()"\n    >\n      <div>Teachers</div>\n      <span></span>\n    </button>\n\n\n\t<div class="b-event-details__item _learners">\n      <div class="b-event-details__label">Learners</div>\n       <button type="button" class="b-event-details__btn-add"\n            ng-click="$ctrl.showAddLearnersModal()"\n          ><span></span></button>\n       <button type="button" class="b-event-details__btn-delete"\n            ng-click="$ctrl.showDeleteLearnersModal()"\n      ><span></span></button>\n    </div>\n\n    <div class="b-event-details__buttons-outer">\n      <div class="b-event-details__text"> Parents Without Bookings: </div>\n        <button type="button" class="b-event-details__btn _parents"\n                ng-if="$ctrl.learnersWithoutBooking.length"\n                ng-click="$ctrl.goToCommunicator()"\n        >Message</button>\n        <button type="button" class="b-event-details__btn _export"\n                ng-click="$ctrl.export()"\n        >Export</button>\n      </div>\n  </div>\n\n\n\n  <div class="b-event-details__item _table">\n    <t-manage-event></t-manage-event>\n  </div>\n\n  <div class="b-event-details__item _footer">\n    <button type="button" class="b-event-details__remove btn btn-default _red _fill _small"\n            ng-click="$ctrl.showConfirmModal()"\n    >Remove Whole Event</button>\n    <button type="button" class="b-event-details__remove btn btn-default _green _fill _small"\n            ng-click="$ctrl.exportAllBookings()"\n    >Export all bookings</button>\n    <button type="button" class="b-event-details__remove btn btn-default _blue _fill _small"\n            ng-disabled="$ctrl.isLoading"\n            ng-click="$ctrl.showOverview()"\n    >Attendance overview</button>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    (function($) {
        Object.defineProperty(exports, "__esModule", {
            value: !0
        });
        var e = a(t(11)),
            n = a(t(1)),
            i = a(t(2));

        function a(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        var s = function() {
            function t(e, i, a, s, r, o, l, c, d, u, _, f, v, m, h, p, g, b, S, y) {
                "ngInject";
                (0, n.default)(this, t), this._$q = e, this._attachmentsService = s, this._communicatorDataService = v, this._contactsDataService = o, this._deviceMarginConstants = r, this._establishmentService = l, this._parentsEveningService = c, this._modalDefaultService = d, this._notificationService = u, this._$state = i, this._$stateParams = a, this._userService = _, this._teachersService = f, this._menuService = m, this._configService = h, this._routeClassService = p, this._windowWidthService = g, this._authService = b, this._studentsService = S, this._dateService = y, this.isLoading = !1
            }
            return t.$inject = ["$q", "$state", "$stateParams", "attachmentsService", "deviceMarginConstants", "contactsDataService", "establishmentService", "parentsEveningService", "modalDefaultService", "notificationService", "userService", "teachersService", "communicatorDataService", "menuService", "configService", "routeClassService", "windowWidthService", "authService", "studentsService", "dateService"], (0, i.default)(t, [{
                key: "showTeachersModal",
                value: function() {
                    this.prepFilteredTeachers(), this._modalDefaultService.showModalWithTemplates("modal-add-teachers", {
                        teachers: this._teachersService.employees,
                        gradient: {
                            from: "rgb(236, 165, 74)",
                            to: "rgb(236, 165, 74)"
                        }
                    }, "Add teachers")
                }
            }, {
                key: "goToCommunicator",
                value: function() {
                    var e = this;
                    if (this._windowWidthService.windowWidth > this._deviceMarginConstants.MOBILE_MARGIN) {
                        var t = [this._menuService.eventsName.MENU_IN, this._menuService.eventsName.MENU_HIDE, this._menuService.eventsName.MENU_EMPTY],
                            n = [function() {
                                return e._routeClassService.isMenuIn = !0
                            }, function() {
                                return $(".student__back").removeClass("_active")
                            }, function() {
                                e._$state.transitionTo("communicator.mailbox", null, {
                                    notify: !1
                                }), e._authService.isNotFirstAuth = !1, e._menuService.menu = null, e._communicatorDataService.parentIdsWithoutBooking = e.parentsWithoutBooking, e._communicatorDataService.learnerIdsWithoutBooking = e.learnersWithoutBooking.map(function(e) {
                                    return e.toString()
                                })
                            }]; - 1 !== this._configService.config.isMenuCenterStates.indexOf(this._routeClassService.fullStateName) && (t.shift(), n.shift()), this._menuService.setEvents(t, [], n)
                    } else this._$state.transitionTo("communicator.mailbox", null, {
                        notify: !1
                    }), this._communicatorDataService.parentIdsWithoutBooking = this.parentsWithoutBooking, this._communicatorDataService.learnerIdsWithoutBooking = this.learnersWithoutBooking.map(function(e) {
                        return e.toString()
                    })
                }
            }, {
                key: "showOverview",
                value: function() {
                    var e = this,
                        t = {
                            event_id: this._$stateParams.event_id
                        };
                    this.isLoading = !0, this._parentsEveningService.getParentEventSlotAttendance(t).then(function(t) {
                        var n = {
                            data: t.learners
                        };
                        e._modalDefaultService.showModalWithTemplates("modal-attendance-overview", n, "Attendance overview")
                    }).finally(function() {
                        e.isLoading = !1
                    })
                }
            }, {
                key: "dateAvailableFrom",
                value: function() {
                    return moment(this._parentsEveningService.eventDetails.event.available_to_parents).format("H:mm DD/M/YY")
                }
            }, {
                key: "dateAvailableTo",
                value: function() {
                    return moment(this._parentsEveningService.eventDetails.event.closed_to_parents_at).format("H:mm DD/M/YY")
                }
            }, {
                key: "openUpdateBookableSlotsModal",
                value: function(e, t) {
                    var n = this;
                    e.stopPropagation(), e.preventDefault();
                    var i = this._$stateParams.event_id,
                        a = {
                            update: function(e) {
                                var t = e.value;
                                return n._parentsEveningService.updateField(i, {
                                    bookable_slots_per_learner: t || null
                                }).then(function() {
                                    n._parentsEveningService.getEventDetails({
                                        event_id: i
                                    }).then(function() {
                                        n._parentsEveningService.prepTeachers(n._teachersService.employees), n._teachersService.filteredTeachers = n._teachersService.employees
                                    }), n._notificationService.showSuccessNotification("Max parent bookings was updated."), n.closeModal()
                                })
                            },
                            cancel: function() {
                                return n.closeModal()
                            },
                            title: "Max parent bookings",
                            initialValue: this._parentsEveningService.eventDetails.event.bookable_slots_per_learner
                        };
                    this._modalDefaultService.showModalWithTemplates("modal-update-input-field", a, "Change Max parent bookings")
                }
            }, {
                key: "openUpdateSessionsModal",
                value: function(e) {
                    var t = this;
                    e.stopPropagation(), e.preventDefault();
                    var n = this._parentsEveningService.eventDetails.event.available_to_parents,
                        i = this._parentsEveningService.eventDetails.event.closed_to_parents_at,
                        a = {
                            available_to_parents: n ? moment(n).format(this._dateService.getDateFormat("apiDateTime")) : n,
                            closed_to_parents: i ? moment(i).format(this._dateService.getDateFormat("apiDateTime")) : i
                        },
                        s = this._$stateParams.event_id,
                        r = {
                            update: function(e) {
                                var n = e.model;
                                t._parentsEveningService.updateField(s, n).then(function() {
                                    t._parentsEveningService.getEventDetails({
                                        event_id: s
                                    }).then(function() {
                                        t._parentsEveningService.prepTeachers(t._teachersService.employees), t._teachersService.filteredTeachers = t._teachersService.employees
                                    }), t._notificationService.showSuccessNotification("Field was updated."), t.closeModal()
                                })
                            },
                            cancel: function() {
                                return t.closeModal()
                            },
                            initialValue: a
                        };
                    this._modalDefaultService.showModalWithTemplates("modal-update-date", r, "Update date")
                }
            }, {
                key: "prepFilteredTeachers",
                value: function() {
                    var e = this._parentsEveningService.eventDetails.teachers.map(function(e) {
                        return e.id
                    });
                    e.push("" + this._userService.user.id), this._teachersService.filteredTeachers = this._teachersService.filteredTeachers.filter(function(t) {
                        return -1 === e.indexOf(t.id)
                    })
                }
            }, {
                key: "showAddLearnersModal",
                value: function() {
                    var e = this.getAllLearners();
                    return this._studentsService.filteredStudents = this._studentsService.students.students.filter(function(t) {
                        return !e.find(function(e) {
                            return e === t.id
                        })
                    }), this._modalDefaultService.showModalWithTemplates("modal-select-learners", null, "Add learners")
                }
            }, {
                key: "showDeleteLearnersModal",
                value: function() {
                    var e = this.getAllLearners();
                    return this._studentsService.filteredStudents = this._studentsService.students.students.filter(function(t) {
                        return e.find(function(e) {
                            return e === t.id
                        })
                    }), this._modalDefaultService.showModalWithTemplates("modal-select-learners", null, "Delete learners")
                }
            }, {
                key: "getAllLearners",
                value: function() {
                    return [].concat((0, e.default)(this._parentsEveningService.eventDetails.learners.parent_booked.ids.map(function(e) {
                        return "" + e
                    })), (0, e.default)(this._parentsEveningService.eventDetails.learners.without_booking.map(function(e) {
                        return "" + e
                    })))
                }
            }, {
                key: "showConfirmModal",
                value: function() {
                    var e = this,
                        t = {
                            message: "Do you want to remove whole event?",
                            confirm: function() {
                                return e.removeEvent()
                            },
                            cancel: function() {
                                return e.closeModal()
                            }
                        };
                    this._modalDefaultService.showModalWithTemplates("modal-confirm", t, "")
                }
            }, {
                key: "closeModal",
                value: function() {
                    this._modalDefaultService.pop()
                }
            }, {
                key: "removeEvent",
                value: function() {
                    var e = this,
                        t = {
                            event_id: this._$stateParams.event_id,
                            employee_id: this._userService.user.data.id
                        };
                    this._parentsEveningService.removeEvent(t).then(function() {
                        return e._notificationService.showSuccessNotification("Success")
                    }).then(function() {
                        return e.closeModal()
                    }).then(function() {
                        return e._$state.transitionTo("parentevent.events", null, {
                            notify: !1
                        })
                    })
                }
            }, {
                key: "exportAllBookings",
                value: function() {
                    var e = this;
                    this.isLoading = !0;
                    var t = this._$stateParams.event_id;
                    this._parentsEveningService.exportEvent(t).then(function(t) {
                        return e._attachmentsService.downloadCSV(t.bookings.rows, "Bookings")
                    }).finally(function() {
                        return e.isLoading = !1
                    })
                }
            }, {
                key: "export",
                value: function() {
                    var e = this,
                        t = this.learnersWithoutBooking.map(function(e) {
                            return e.toString()
                        }),
                        n = this.parentsWithoutBooking;
                    this._$q.all([this._studentsService.getStudents(t), this._contactsDataService.fetchContacts({
                        learner_ids: t,
                        only_parents: !0,
                        contact_ids: n
                    })]).then(function(t) {
                        var n = e.formatDataForExporting({
                            learners: t[0],
                            parents: t[1].contacts
                        });
                        e._attachmentsService.downloadCSV(n, "Parents without bookings")
                    })
                }
            }, {
                key: "getParentsString",
                value: function(e) {
                    return e.reduce(function(e, t) {
                        return e + "" + (e && ", ") + t.title + " " + t.forename + " " + t.surname
                    }, "")
                }
            }, {
                key: "formatDataForExporting",
                value: function(e) {
                    var t = this,
                        n = e.learners,
                        i = e.parents,
                        a = [];
                    return n.forEach(function(e) {
                        var n = i.filter(function(t) {
                                return t.learners.find(function(t) {
                                    return t.id === e.id
                                })
                            }),
                            s = [e.fullName, t._studentsService.getNameById(e.form_group_id, t._establishmentService.establishment.form_groups), t.getParentsString(n)];
                        a.push(s)
                    }), [
                        ["Learner", "Form group", "Parent"]
                    ].concat(a)
                }
            }, {
                key: "parentsWithoutBooking",
                get: function() {
                    return this._parentsEveningService.eventDetails.parents.ids.map(function(e) {
                        return "" + e
                    })
                }
            }, {
                key: "learnersWithoutBooking",
                get: function() {
                    return this._parentsEveningService.eventDetails.learners.without_booking
                }
            }]), t
        }();
        exports.default = s
    }).call(exports, t(22))
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1417));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("b-folder", []).component("bFolder", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1418)),
        i = a(t(1419));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1420);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            folderName: "<",
            folderId: "<",
            disabled: "<",
            onClick: "&",
            onMove: "&?"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="b-folder"\n      ng-class="{_disabled: $ctrl.disabled}"\n      ng-click="$ctrl.onClick({ id: $ctrl.folderId })"\n>\n  <div class="b-folder__icon"><div></div></div>\n  <div class="b-folder__name">{{$ctrl.folderName}}</div>\n  <button type="button" class="b-folder__btn-move" ng-if="$ctrl.onMove" ng-click="$ctrl.move($event)">\n    <svg-use name="arrow"></svg-use>\n  </button>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e() {
            "ngInject";
            (0, n.default)(this, e)
        }
        return (0, i.default)(e, [{
            key: "move",
            value: function(e) {
                e.stopPropagation(), this.onMove({
                    id: this.folderId
                })
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1422));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("b-folders", []).component("bFolders", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1423)),
        i = a(t(1424));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1425);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            model: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="b-folders">\n  <div class="b-folders__header">\n    <b-breadcrumbs location="$ctrl.model.location"\n                   current-folder-id="$ctrl.currentFolder.id"\n                   on-click="$ctrl.openFolder({ id })"\n    ></b-breadcrumbs>\n  </div>\n  <div class="b-folders__body">\n    <div class="b-folders__list">\n      <div class="b-folders__item" ng-repeat="folder in $ctrl.model.folders">\n        <b-folder ng-if="!$ctrl.organise"\n                  disabled="$ctrl.isFolderLoading"\n                  on-click="$ctrl.openFolder({ id })"\n                  folder-name="folder.name"\n                  folder-id="folder.id"\n        ></b-folder>\n\n        <b-folder ng-if="$ctrl.organise"\n                  disabled="$ctrl.isFolderLoading"\n                  on-click="$ctrl.openFolder({ id })"\n                  folder-name="folder.name"\n                  folder-id="folder.id"\n                  on-move="$ctrl.showMoveFolderModal({ id })"\n        ></b-folder>\n      </div>\n      <div class="b-folders__item" ng-repeat="document in $ctrl.model.documents">\n        <b-document ng-if="!$ctrl.organise" document="document"></b-document>\n        <b-document ng-if="$ctrl.organise" document="document"\n                    on-move="$ctrl.showMoveDocumentModal({ document })"\n        ></b-document>\n      </div>\n    </div>\n  </div>\n  <div class="b-folders__bottom">\n    <button type="button" class="b-folders__btn btn btn-default _small"\n            ng-disabled="$ctrl.isFolderLoading || !$ctrl.currentFolder.hasParentFolder"\n            ng-click="$ctrl.openParentFolder()"\n    >Back</button>\n    <b-checkbox ng-if="$ctrl._userService.user.capabilities.noticeboard.manager"\n                text="Organise"\n                model="$ctrl.organise"\n                disabled="$ctrl.isFolderLoading"\n                on-change="$ctrl.switchOrganise({ value })"\n    ></b-checkbox>\n    </div>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a) {
            "ngInject";
            (0, n.default)(this, e), this._modalDefaultService = a, this._noticeboardService = t, this._userService = i, this.isFolderLoading = !1, this.currentFolder = null, this.organise = !1
        }
        return e.$inject = ["noticeboardService", "userService", "modalDefaultService"], (0, i.default)(e, [{
            key: "$onInit",
            value: function() {
                this.setCurrentFolder()
            }
        }, {
            key: "setCurrentFolder",
            value: function() {
                this.currentFolder = this._noticeboardService.getCurrentFolder(this.model.location.path)
            }
        }, {
            key: "openParentFolder",
            value: function() {
                this.openFolder({
                    id: this.currentFolder.parent_folder_id
                })
            }
        }, {
            key: "openFolder",
            value: function(e) {
                var t = this,
                    n = e.id;
                this.isFolderLoading = !0, this.updateFolderList(n).finally(function() {
                    t.isFolderLoading = !1
                })
            }
        }, {
            key: "updateFolderList",
            value: function(e) {
                var t = this,
                    n = {
                        folder_id: e
                    };
                return this.organise && (n.manage = !0), this._noticeboardService.getNoticeboardFolders(n).then(function() {
                    return t.setCurrentFolder()
                })
            }
        }, {
            key: "switchOrganise",
            value: function(e) {
                var t = this,
                    n = e.value,
                    i = {
                        folder_id: this.currentFolder.id
                    };
                return n && (i.manage = !0), this.isFolderLoading = !0, this._noticeboardService.getNoticeboardFolders(i).finally(function() {
                    t.isFolderLoading = !1
                })
            }
        }, {
            key: "showMoveFolderModal",
            value: function(e) {
                var t = this,
                    n = e.id,
                    i = {
                        folder_id: 0,
                        disabledFolderId: n,
                        select: function(e) {
                            var i = e.parentFolderId,
                                a = {
                                    folder_id: n,
                                    parent_folder_id: i
                                };
                            return t._noticeboardService.updateFolder(a).then(function() {
                                t.openFolder({
                                    id: t.currentFolder.id
                                }), t.closeModal()
                            })
                        }
                    };
                return this._modalDefaultService.showModalWithTemplates("modal-manage-folders", i, "Manage folders")
            }
        }, {
            key: "showMoveDocumentModal",
            value: function(e) {
                var t = this,
                    n = e.document,
                    i = {
                        folder_id: 0,
                        select: function(e) {
                            var i = e.parentFolderId,
                                a = {
                                    id: n.id,
                                    parent_folder_id: i,
                                    name: n.name
                                };
                            return t._noticeboardService.updateDocumentRequest(a).then(function() {
                                t.openFolder({
                                    id: t.currentFolder.id
                                }), t.closeModal()
                            })
                        }
                    };
                return this._modalDefaultService.showModalWithTemplates("modal-manage-folders", i, "Manage documents")
            }
        }, {
            key: "closeModal",
            value: function() {
                this._modalDefaultService.pop()
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1427));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("b-from-to-dates", []).component("bFromToDates", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1428)),
        i = a(t(1429));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1430);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            fromDate: "<",
            toDate: "<",
            onChange: "&"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="b-from-to-dates">\n  <div class="f-default__row-default b-from-to-dates__row">\n    <div class="b-from-to-dates__label">From:</div>\n    <b-date-time-select name="fromDate"\n      format="{{::$ctrl._dateService.getDateFormat(\'apiDate\')}}"\n      visible-date-format="{{::$ctrl._dateService.getDateFormat(\'momentDate\')}}"\n      date="$ctrl.fromDate"\n      max-date="$ctrl.toDate"\n      on-change="$ctrl.onFromDateChange({ newValue })"\n      placeholder="-"></b-date-time-select>\n  </div>\n  <div class="f-default__row-default b-from-to-dates__row">\n    <div class="b-from-to-dates__label">To:</div>\n    <b-date-time-select name="toDate"\n      format="{{::$ctrl._dateService.getDateFormat(\'apiDate\')}}"\n      visible-date-format="{{::$ctrl._dateService.getDateFormat(\'momentDate\')}}"\n      date="$ctrl.toDate"\n      min-date="$ctrl.fromDate"\n      is-disabled="!$ctrl.fromDate"\n      on-change="$ctrl.onToDateChange({ newValue })"\n      placeholder="-"></b-date-time-select>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t) {
            "ngInject";
            (0, n.default)(this, e), this.formDateInitialized = !1, this.toDateInitialized = !1, this._dateService = t
        }
        return e.$inject = ["dateService"], (0, i.default)(e, [{
            key: "onFromDateChange",
            value: function(e) {
                var t = e.newValue;
                if (this.formDateInitialized) {
                    var n = {
                        fromDate: t.format(this._dateService.getDateFormat("apiDate"))
                    };
                    this.toDate && (n.untilDate = this.toDate), this.onChange(n)
                } else this.formDateInitialized = !0
            }
        }, {
            key: "onToDateChange",
            value: function(e) {
                var t = e.newValue;
                if (this.toDateInitialized) {
                    var n = {
                        untilDate: t.format(this._dateService.getDateFormat("apiDate"))
                    };
                    this.fromDate && (n.fromDate = this.fromDate), this.onChange(n)
                } else this.toDateInitialized = !0
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1432));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("b-graph", ["chart.js"]).config(["ChartJsProvider", function(e) {
        "ngInject";
        e.setOptions({
            responsive: !1
        }), e.setOptions({
            datasets: {
                defaultColor: ["#a1c203", "#68dada", "#ce62ce", "#eebc3b"]
            }
        })
    }]).component("bGraph", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1433)),
        i = a(t(1434));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1435);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            data: "<"
        },
        transclude: {
            slot: "?slot"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="b-graph">\n  <div class="b-graph__graph" ng-if="$ctrl.data.data.length">\n    <canvas class="chart chart-doughnut b-graph__palette-item"\n            height="210"\n            width="210"\n            chart-data="$ctrl.data.dataToChart"\n            chart-labels="$ctrl.data.labels"\n            chart-series="$ctrl.series"\n            chart-options="$ctrl.options"\n            chart-colors="$ctrl.data.colors"\n            chart-dataset-override="$ctrl.datasetOverride"\n            chart-hover="$ctrl.hover"\n    ></canvas>\n  </div>\n\n  <div class="b-graph__empty" ng-if="!$ctrl.data.data.length">\n    No data.\n  </div>\n\n  <ng-transclude ng-transclude-slot="slot" ng-if="$ctrl._$transclude.isSlotFilled(\'slot\')"></ng-transclude>\n\n  <div class="b-graph__aliases" ng-if="$ctrl.data.data.length">\n    <div class="b-graph__alias" ng-repeat="item in $ctrl.data.data track by $index">\n    <span class="b-graph__alias-marker" ng-style="{\'border-color\': item.color}">\n    </span>{{ item.label }} <span class="b-graph__alias-value">{{ item.value }}%</span>\n    </div>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(1),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    var s = function e(t, n) {
        "ngInject";
        (0, a.default)(this, e), this._colorService = n, this._$transclude = t, this.datasetOverride = {
            borderColor: "#f9fafa"
        }
    };
    s.$inject = ["$transclude", "colorService"], exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1437));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("b-homework-analytics", []).component("bHomeworkAnalytics", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1438)),
        i = a(t(1439));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1440);
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="b-homework-analytics">\n  <div class="b-homework-analytics__inner"\n       ng-if="$ctrl.activeState === $ctrl._homeworkOverviewConstants.HOMEWORK_OVERVIEW_YEARS_STATE"\n  >\n    <div class="b-homework-analytics__item" ng-repeat="item in $ctrl._homeworkOverviewService.analytics">\n      <div class="b-homework-analytics__item-title">{{item.name}}</div>\n      <b-chart data="item.data"\n               label-y="Homework due count"\n               labels="item.labels"\n               on-click="$ctrl.selectSubject({ index }, item)"\n      ></b-chart>\n    </div>\n  </div>\n\n  <div class="b-homework-analytics__inner"\n       ng-if="$ctrl.activeState === $ctrl._homeworkOverviewConstants.HOMEWORK_OVERVIEW_SUBJECT_STATE"\n  >\n    <div class="b-homework-analytics__item-top">\n      <button type="button" class="b-homework-analytics__btn-back"\n              ng-disabled="$ctrl.isLoading"\n              ng-click="$ctrl.goBack()"\n      >Back</button>\n    </div>\n    <div class="b-homework-analytics__item-title">\n      {{ $ctrl._homeworkOverviewService.selectedYear.name }} - {{ $ctrl._homeworkOverviewService.selectedSubject.name }}\n    </div>\n    <b-chart data="$ctrl._homeworkOverviewService.analytics.graphData"\n             label-y="Homework due count"\n             labels="$ctrl._homeworkOverviewService.analytics.graphLabels"\n             on-click="$ctrl.selectGroup({ index }, item)"\n    ></b-chart>\n  </div>\n\n  <div class="b-homework-analytics__inner"\n       ng-if="$ctrl.activeState === $ctrl._homeworkOverviewConstants.HOMEWORK_OVERVIEW_GROUP_STATE"\n  >\n    <div class="b-homework-analytics__item-top">\n      <button type="button" class="b-homework-analytics__btn-back"\n              ng-disabled="$ctrl.isLoading"\n              ng-click="$ctrl.goBack()"\n      >Back</button>\n    </div>\n    <div class="b-homework-analytics__item-title">\n      {{ $ctrl._homeworkOverviewService.selectedYear.name }} - {{ $ctrl._homeworkOverviewService.selectedSubject.name }} {{ $ctrl._homeworkOverviewService.selectedGroup ? \'- \' + $ctrl._homeworkOverviewService.selectedGroup.name : \'\' }}\n    </div>\n    <t-homework-overview data="$ctrl._homeworkOverviewService.analytics"></t-homework-overview>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a) {
            "ngInject";
            (0, n.default)(this, e), this._homeworkOverviewService = t, this._homeworkOverviewConstants = a, this._$scope = i, this.activeState = this._homeworkOverviewConstants.HOMEWORK_OVERVIEW_YEARS_STATE, this.isLoading = !1
        }
        return e.$inject = ["homeworkOverviewService", "$scope", "homeworkOverviewConstants"], (0, i.default)(e, [{
            key: "$onDestroy",
            value: function() {
                this._homeworkOverviewService.resetValues()
            }
        }, {
            key: "selectSubject",
            value: function(e, t) {
                var n = e.index;
                this.isLoading || (this._homeworkOverviewService.selectedYear = t, this._homeworkOverviewService.selectedSubject = t.subjects[n], this._homeworkOverviewService.selectedYear.id === this._homeworkOverviewConstants.HOMEWORK_OVERVIEW_UNKNOWN_YEAR_ID ? this.showHomework() : this.showSubject())
            }
        }, {
            key: "selectGroup",
            value: function(e) {
                var t = e.index;
                this.isLoading || (this._homeworkOverviewService.selectedGroup = this._homeworkOverviewService.analytics.data[t], this.showHomework())
            }
        }, {
            key: "showYears",
            value: function() {
                var e = this;
                this.isLoading = !0;
                var t = {
                    from_date: this._homeworkOverviewService.fromDate,
                    until_date: this._homeworkOverviewService.toDate
                };
                return this._homeworkOverviewService.getHomeworkOverview(t).then(function(t) {
                    e._homeworkOverviewService.analytics = e._homeworkOverviewService.getPreparedYearsHomeworkAnalytics(t.data), e.setActiveState(e._homeworkOverviewConstants.HOMEWORK_OVERVIEW_YEARS_STATE)
                }).finally(function() {
                    e.isLoading = !1
                })
            }
        }, {
            key: "showSubject",
            value: function() {
                var e = this;
                this.isLoading = !0;
                var t = {
                    year_id: this._homeworkOverviewService.selectedYear.id,
                    subject_id: this._homeworkOverviewService.selectedSubject.id,
                    from_date: this._homeworkOverviewService.fromDate,
                    until_date: this._homeworkOverviewService.toDate
                };
                return this._homeworkOverviewService.getHomeworkOverview(t).then(function(t) {
                    e._homeworkOverviewService.analytics = e._homeworkOverviewService.getPreparedYearAnalytics(t.data), e.setActiveState(e._homeworkOverviewConstants.HOMEWORK_OVERVIEW_SUBJECT_STATE)
                }).finally(function() {
                    e.isLoading = !1
                })
            }
        }, {
            key: "showHomework",
            value: function() {
                var e = this;
                this.isLoading = !0;
                var t = {
                    year_id: this._homeworkOverviewService.selectedYear.id,
                    subject_id: this._homeworkOverviewService.selectedSubject.id,
                    from_date: this._homeworkOverviewService.fromDate,
                    until_date: this._homeworkOverviewService.toDate
                };
                return this._homeworkOverviewService.selectedGroup && (t.teaching_group_id = this._homeworkOverviewService.selectedGroup.id), this._homeworkOverviewService.getHomeworkOverview(t).then(function(t) {
                    return e._homeworkOverviewService.getPreparedGroupAnalytics(t.data)
                }).then(function(t) {
                    e._homeworkOverviewService.analytics = t, e.setActiveState(e._homeworkOverviewConstants.HOMEWORK_OVERVIEW_GROUP_STATE)
                }).finally(function() {
                    e.isLoading = !1
                })
            }
        }, {
            key: "goBack",
            value: function() {
                var e = this;
                this.activeState === this._homeworkOverviewConstants.HOMEWORK_OVERVIEW_GROUP_STATE && this._homeworkOverviewService.selectedYear.id !== this._homeworkOverviewConstants.HOMEWORK_OVERVIEW_UNKNOWN_YEAR_ID ? this.showSubject().then(function() {
                    e._homeworkOverviewService.selectedGroup = null
                }) : this.showYears().then(function() {
                    e._homeworkOverviewService.selectedSubject = null, e._homeworkOverviewService.selectedYear = null
                })
            }
        }, {
            key: "setActiveState",
            value: function(e) {
                this.activeState = e
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1442));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("b-homework-detail", []).component("bHomeworkDetail", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1443)),
        i = a(t(1444));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1445);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            remove: "&",
            homework: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="b-homework-detail">\n  <div class="b-homework-detail__row _center">{{ ::$ctrl.homework.activity}}</div>\n  <div class="b-homework-detail__row _center">{{ ::$ctrl.homework.due_date | date:$ctrl._dateService.getDateFormat(\'defaultDate\')}}</div>\n  <div class="b-homework-detail__row _center">{{ ::$ctrl.homework.subject}}</div>\n  <div class="b-homework-detail__row">\n    <span class="b-homework-detail__title">Set by:</span>\n    <span class="b-homework-detail__data">{{ ::$ctrl.homework.set_by}}</span>\n  </div>\n  <div class="b-homework-detail__row" ng-if="$ctrl.homework.duration">\n    <span class="b-homework-detail__title">Duration:</span>\n    <span class="b-homework-detail__data">{{ ::$ctrl.homework.duration }} minutes</span>\n  </div>\n  <div class="b-homework-detail__row">\n    <span class="b-homework-detail__title">Description:</span>\n    <span class="b-homework-detail__data" ng-bind-html="::$ctrl.homework.description"></span>\n  </div>\n  <div class="b-homework-detail__row" ng-if="$ctrl.homework.link">\n    <span class="b-homework-detail__title">Grade:</span>\n    <span class="b-homework-detail__data">{{ ::$ctrl.homework.grade }}</span>\n  </div>\n  <div class="b-homework-detail__row" ng-if="$ctrl.homework.link">\n    <span class="b-homework-detail__title">Feedback:</span>\n    <span class="b-homework-detail__data">{{ ::$ctrl.homework.feedback }}</span>\n  </div>\n  <div class="b-homework-detail__row" ng-if="$ctrl.homework.attachments.length">\n    <ul class="b-homework-detail__attachments">\n      <li class="b-homework-detail__item" ng-repeat="attachment in $ctrl.homework.attachments">\n        <button type="button" class="b-homework-detail__btn-download"\n                ng-disabled="attachment.isLoading"\n                ng-click="$ctrl.downloadDocument(attachment)">\n          <svg-use name="download"></svg-use>\n          <span class="b-homework-detail__name">{{ attachment.filename }}</span>\n          <span class="b-homework-detail__btn-download-message">Downloading...</span>\n        </button>\n      </li>\n    </ul>\n  </div>\n  <div class="b-homework-detail__row _flex _bottom">\n    <button type="button"\n            ng-if="$ctrl._userService.checkRole(\'learner\') && $ctrl.homework.link "\n            ng-click="$ctrl.goToLink($ctrl.homework)"\n            class="b-homework-detail__link">\n      Go To Moodle\n    </button>\n    <a\n            ng-if="($ctrl._userService.checkRole(\'learner\') || $ctrl._userService.checkRole(\'employee\')) && $ctrl.homework.google_link"\n            href="{{$ctrl.homework.google_link}}"\n            target = "_blank">\n       <button type="button"\n            class="b-homework-detail__link">\n         Go to Google\n       </button>\n    </a>\n    <a\n            ng-if="($ctrl._userService.checkRole(\'learner\') || $ctrl._userService.checkRole(\'employee\')) && $ctrl.homework.web_url"\n            href="{{$ctrl.homework.web_url}}"\n            target = "_blank">\n       <button type="button" class="b-homework-detail__link">\n         Go to Teams\n       </button>\n    </a>\n    <button type="button"\n            ng-if="$ctrl._userService.checkRole(\'learner\') && !$ctrl.homework.completed && ($ctrl.homework.source === \'EduLink\' || $ctrl.homework.source === \'SIMS\')"\n            ng-click="$ctrl.markHomeworkAsCompleted($event, $ctrl.homework)"\n            class="b-homework-detail__link">\n      Completed\n    </button>\n\t<button type="button"\n            ng-if="$ctrl._userService.checkRole(\'learner\') && $ctrl.homework.completed && ($ctrl.homework.source === \'EduLink\' || $ctrl.homework.source === \'SIMS\')"\n            ng-click="$ctrl.markHomeworkAsNotCompleted($event, $ctrl.homework)"\n            class="b-homework-detail__link">\n      Revert Completed\n    </button>\n    <button type="button" class="b-homework-detail__remove"\n            ng-if="$ctrl.homework.deletable"\n            ng-disabled="$ctrl.isLoading"\n            ng-click="$ctrl.onRemove($ctrl.homework)">\n      <svg-use name="trash"></svg-use>\n    </button>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r, o) {
            "ngInject";
            (0, n.default)(this, e), this._attachmentsService = i, this._externalLinksService = a, this._$window = t, this._userService = s, this._homeworkDataService = r, this._dateService = o, this.isLoading = !1
        }
        return e.$inject = ["$window", "attachmentsService", "externalLinksService", "userService", "homeworkDataService", "dateService"], (0, i.default)(e, [{
            key: "goToLink",
            value: function(e) {
                var t = this;
                this._externalLinksService.getExternalLinkFetch({
                    link_url: e.link
                }).then(function(e) {
                    return t._$window.open(e.url, "_blank")
                })
            }
        }, {
            key: "markHomeworkAsCompleted",
            value: function(e, t) {
                var n = this;
                e.stopPropagation();
                var i = {
                    homework_id: t.id,
                    learner_id: this._userService.data.user.id,
                    source: t.source,
                    completed: "true"
                };
                this._homeworkDataService.homeworkCompleted(i).then(function() {
                    t.completed = !0, n._homeworkDataService.reloadHomework()
                })
            }
        }, {
            key: "markHomeworkAsNotCompleted",
            value: function(e, t) {
                var n = this;
                e.stopPropagation();
                var i = {
                    homework_id: t.id,
                    learner_id: this._userService.data.user.id,
                    source: t.source,
                    completed: "false"
                };
                this._homeworkDataService.homeworkNotCompleted(i).then(function() {
                    t.completed = !1, n._homeworkDataService.reloadHomework()
                })
            }
        }, {
            key: "downloadDocument",
            value: function(e) {
                var t = this;
                e.isLoading = !0;
                var n = {
                    homework_id: this.homework.id,
                    attachment_id: e.id,
                    format: 2
                };
                this._homeworkDataService.homeworkAttachmentFetch(n).then(function(n) {
                    var i = n.attachment;
                    return i.filename = e.filename, t._attachmentsService.downloadDocument(i)
                }).finally(function() {
                    e.isLoading = !1
                })
            }
        }, {
            key: "onRemove",
            value: function(e) {
                var t = this;
                this.isLoading = !0, this.remove({
                    homework: e
                }).finally(function() {
                    t.isLoading = !1
                })
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1447));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("b-i-calendars", []).component("bICalendars", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1448)),
        i = a(t(1449));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1450);
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="b-i-calendars">\n  <div class="b-i-calendars__content">\n    <div class="b-i-calendars__content-item _fill"\n         ng-if="!$ctrl._iCalendarsService.iCalendars.exports && !$ctrl._iCalendarsService.iCalendars.imports">\n      <p class="b-i-calendars__loader">Loading...</p>\n    </div>\n\n    <div class="b-i-calendars__content-item"\n         ng-if="$ctrl._iCalendarsService.iCalendars.exports.personal && $ctrl._iCalendarsService.iCalendars.exports.personal.length">\n      <div class="b-i-calendars__title">Exports</div>\n      <div class="b-i-calendars__label">Personal</div>\n      <t-i-calendars exports-data="$ctrl._iCalendarsService.iCalendars.exports.personal"></t-i-calendars>\n    </div>\n\n    <div class="b-i-calendars__content-item"\n         ng-if="$ctrl._iCalendarsService.iCalendars.exports.children && $ctrl._iCalendarsService.iCalendars.exports.children.length">\n      <div class="b-i-calendars__title" ng-if="!$ctrl._iCalendarsService.iCalendars.exports.personal ||\n        ($ctrl._iCalendarsService.iCalendars.exports.personal && !$ctrl._iCalendarsService.iCalendars.exports.personal.length)">\n        Exports\n      </div>\n      <div class="b-i-calendars__content-item-inner" ng-repeat="child in $ctrl._iCalendarsService.iCalendars.exports.children">\n        <div class="b-i-calendars__label">{{ $ctrl.getChildNameById(child.learner_id) }}</div>\n        <t-i-calendars exports-data="child.calendars" learner-id="child.learner_id"></t-i-calendars>\n      </div>\n    </div>\n\n    <div class="b-i-calendars__content-item">\n      <div class="b-i-calendars__title">\n        Imports\n        <button type="button" class="b-i-calendars__btn-add" ng-click="$ctrl.openAddModal()">\n          Add <span></span>\n        </button>\n      </div>\n      <t-i-calendars\n        ng-if="$ctrl._iCalendarsService.iCalendars.imports.length"\n        imports-data="$ctrl._iCalendarsService.iCalendars.imports"></t-i-calendars>\n    </div>\n  </div>\n  <div class="b-i-calendars__bottom">\n    <button type="button" class="b-i-calendars__btn btn btn-default _small"\n            ng-click="$ctrl.hideModal()">Close</button>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a) {
            "ngInject";
            (0, n.default)(this, e), this._iCalendarsService = i, this._modalDefaultService = t, this._userService = a
        }
        return e.$inject = ["modalDefaultService", "iCalendarsService", "userService"], (0, i.default)(e, [{
            key: "hideModal",
            value: function() {
                this._modalDefaultService.closeLastModal()
            }
        }, {
            key: "getChildNameById",
            value: function(e) {
                var t = this._userService.user.children.filter(function(t) {
                    return t.id === e
                });
                return t && t.length ? t[0].fullName : ""
            }
        }, {
            key: "openAddModal",
            value: function() {
                this._modalDefaultService.showModalWithTemplates("modal-add-import", null, "Add Import")
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1452));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("b-input-container", []).directive({
        bInputContainer: i.default
    }).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), exports.default = function() {
        return {
            controller: i.default,
            link: function(e) {},
            replace: !0,
            restrict: "E",
            scope: {},
            template: n.default,
            transclude: !0
        }
    };
    var n = a(t(1453)),
        i = a(t(1454));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1455)
}, function(e, exports) {
    e.exports = '<div class="b-input-container" ng-transclude></div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i) {
            "ngInject";
            (0, n.default)(this, e), this._$element = t, this._$scope = i, this.label = null, this.input = null, this.labelAndInputChangesListener = angular.noop
        }
        return e.$inject = ["$element", "$scope"], (0, i.default)(e, [{
            key: "$onInit",
            value: function() {
                this.bindListeners()
            }
        }, {
            key: "$onDestroy",
            value: function() {
                this.unbindListeners()
            }
        }, {
            key: "bindListeners",
            value: function() {
                var e = this;
                this.labelAndInputChangesListener = this._$scope.$watch(function() {
                    return e.label && e.input
                }, function(t) {
                    return e.handleLabelAndInputChanges(t)
                })
            }
        }, {
            key: "unbindListeners",
            value: function() {
                this.labelAndInputChangesListener()
            }
        }, {
            key: "handleLabelAndInputChanges",
            value: function(e) {
                e && !this.label.attr("for") && this.label.attr("for", this.input.attr("id"))
            }
        }, {
            key: "setFocused",
            value: function(e) {
                this._$element.toggleClass("_input-focused", !!e)
            }
        }, {
            key: "setHasValue",
            value: function(e) {
                this._$element.toggleClass("_input-has-value", !!e)
            }
        }, {
            key: "setHasPlaceholder",
            value: function(e) {
                this._$element.toggleClass("_input-has-placeholder", !!e)
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1457));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("b-learners", []).component("bLearners", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1458));
    t(1459);
    var i = a(t(1460));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="b-learners">\n    <div class="b-learners__left">\n      <f-student-search title="Search"\n                        extra-class="_learners"\n                        users-service="$ctrl._studentsService"\n                        single="true"\n      ></f-student-search>\n    </div>\n    <div class="b-learners__right">\n      <l-student-search extra-class="_learners"></l-student-search>\n    </div>\n</div>\n'
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t) {
            "ngInject";
            (0, n.default)(this, e), this._studentsService = t
        }
        return e.$inject = ["studentsService"], (0, i.default)(e, [{
            key: "$onDestroy",
            value: function() {
                this._studentsService.clearLearners()
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1462));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("b-links", []).component("bLinks", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1463)),
        i = a(t(1464));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1465);
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="b-links">\n  <ul class="b-links__list">\n    <li class="b-links__item" ng-repeat="link in $ctrl.externalLinks track by $index">\n      <a class="b-links__btn" ng-href="{{ ::link.url }}" target="_blank">\n        <div class="b-links__icon"\n             ng-style="{ \'background-image\': \'url(\' + link.icon + \')\' }">\n        </div>\n        <div class="b-links__name">\n          {{link.name}}\n        </div>\n      </a>\n    </li>\n  </ul>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i) {
            "ngInject";
            (0, n.default)(this, e), this._externalLinksService = i, this._$window = t
        }
        return e.$inject = ["$window", "externalLinksService"], (0, i.default)(e, [{
            key: "externalLinks",
            get: function() {
                return this._externalLinksService.externalLinks
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1467));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("b-loader", []).component("bLoader", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(1468),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    t(1469);
    var s = {
        template: a.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="b-loader"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>\n'
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1471));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("b-mailbox", []).component("bMailbox", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1472)),
        i = a(t(1473));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1474);
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="b-mailbox">\n  <div class="b-mailbox__top"\n       ng-if="!$ctrl._communicatorDataService.isMobile() || $ctrl._communicatorDataService.isMobile() && !$ctrl.isOpenedMessage()"\n  >\n    <div class="b-mailbox__buttons">\n      <button type="button" class="b-mailbox__btn"\n              ng-repeat="button in $ctrl.messagesButtons.buttons track by $index"\n              ng-disabled="$ctrl.messagesButtons.isLoading"\n              ng-class="{_active: button.active}"\n              ng-click="button.onClick(button)"\n      >{{ button.name }}</button>\n    </div>\n    <div class="b-mailbox__actions" ng-if="$ctrl._communicatorDataService.viewedMessagesType === \'received\'">\n      <button class="b-mailbox__btn-mark" ng-click="$ctrl.openMarkMessagesAsReadModal()">\n        Mark all read\n      </button>\n      <label class="b-mailbox__checkbox f-default__label"\n             ng-class="{ \'_checkbox-checked\': $ctrl.archived }"\n      >\n        <input type="checkbox"\n               class="b-mailbox__checkbox-input"\n               ng-change="$ctrl.getInboxMessages()"\n               ng-model="$ctrl.archived"\n        >\n        <span class="b-mailbox__checkbox-title">Archive</span>\n      </label>\n    </div>\n  </div>\n\n  <div class="b-mailbox__content" ng-if="!$ctrl.messages.length">\n    <div class="b-mailbox__content-empty">There aren\'t any messages yet</div>\n  </div>\n  <div class="b-mailbox__content" ng-if="$ctrl.messages.length">\n    <div class="b-mailbox__content-left"\n         ng-if="!$ctrl._communicatorDataService.isMobile() || $ctrl._communicatorDataService.isMobile() && !$ctrl.isOpenedMessage()"\n    >\n      <l-messages class="b-mailbox__messages"></l-messages>\n      <div class="b-mailbox__pagination">\n          <button type="button" class="b-mailbox__pagination-btn _prev"\n                  ng-disabled="!$ctrl.pagination.previous_page || $ctrl._communicatorDataService.hideNavigateButtons()"\n                  ng-click="$ctrl.getPage($ctrl.pagination.previous_page)">\n          </button>\n          <button type="button" class="b-mailbox__pagination-btn _page"\n                  ng-click="$ctrl.getPage(page)"\n                  ng-class="{ _active: page === $ctrl.pagination.current_page }"\n                  ng-repeat="page in $ctrl.visiblePages"\n          >\n            {{ ::page }}\n          </button>\n          <button type="button" class="b-mailbox__pagination-btn _next"\n                  ng-disabled="!$ctrl.pagination.next_page || $ctrl._communicatorDataService.hideNavigateButtons()"\n                  ng-click="$ctrl.getPage($ctrl.pagination.next_page)"\n          ></button>\n      </div>\n    </div>\n    <div class="b-mailbox__content-right"\n         ng-if="!$ctrl._communicatorDataService.isMobile() || $ctrl._communicatorDataService.isMobile() && $ctrl.isOpenedMessage()"\n    >\n      <b-show-message ng-if="$ctrl.selectedMessage"></b-show-message>\n    </div>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(10)),
        i = s(t(1)),
        a = s(t(2));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = function() {
        function e(t, n) {
            "ngInject";
            (0, i.default)(this, e), this._communicatorDataService = t, this._modalDefaultService = n, this.isMarkAllReadLoading = !1
        }
        return e.$inject = ["communicatorDataService", "modalDefaultService"], (0, a.default)(e, [{
            key: "$onInit",
            value: function() {
                this._communicatorDataService.generatePaginationList()
            }
        }, {
            key: "$onDestroy",
            value: function() {
                this._communicatorDataService.resetMessagesButtons(), this._communicatorDataService.resetPaginationSettings()
            }
        }, {
            key: "isOpenedMessage",
            value: function() {
                return this._communicatorDataService.selectedMessage
            }
        }, {
            key: "openMarkMessagesAsReadModal",
            value: function() {
                var e = this;
                this._modalDefaultService.showModalWithTemplates("modal-confirm", {
                    cancel: function() {
                        return e._modalDefaultService.pop()
                    },
                    confirm: function() {
                        e._communicatorDataService.markMessagesAsRead().then(function() {
                            return e._modalDefaultService.pop()
                        })
                    },
                    message: "Are you sure you want to mark all unread messages as read?"
                }, "Confirm")
            }
        }, {
            key: "getInboxMessages",
            value: function() {
                var e = {};
                this._communicatorDataService.isSelectedAnotherUserInUserSelect() && (e = (0, n.default)({}, e, this._communicatorDataService.getUserId())), this._communicatorDataService.getInboxMessages(e)
            }
        }, {
            key: "getPage",
            value: function(e) {
                var t = {
                    page: e
                };
                this._communicatorDataService.isSelectedAnotherUserInUserSelect() && (t = (0, n.default)({}, t, this._communicatorDataService.getUserId())), this._communicatorDataService.getPage(t)
            }
        }, {
            key: "pagination",
            get: function() {
                return this._communicatorDataService.pagination
            }
        }, {
            key: "messages",
            get: function() {
                return this._communicatorDataService.messages
            }
        }, {
            key: "selectedMessage",
            get: function() {
                return this._communicatorDataService.selectedMessage
            }
        }, {
            key: "isLoading",
            get: function() {
                return this._communicatorDataService.paginationSettings.isLoading
            }
        }, {
            key: "messagesButtons",
            get: function() {
                return this._communicatorDataService.messagesButtons
            }
        }, {
            key: "visiblePages",
            get: function() {
                return this._communicatorDataService.paginationSettings.visiblePages
            }
        }, {
            key: "archived",
            get: function() {
                return this._communicatorDataService.archived
            },
            set: function(e) {
                this._communicatorDataService.archived = e
            }
        }]), e
    }();
    exports.default = r
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1476));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("b-manage-folders", []).component("bManageFolders", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1477)),
        i = a(t(1478));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1479);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            model: "<",
            disabledFolderId: "<?",
            updateFolders: "&",
            select: "&"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="b-manage-folders">\n  <div class="b-manage-folders__header">\n    <b-breadcrumbs location="$ctrl.model.location"\n                   current-folder-id="$ctrl.currentFolder.id"\n                   on-click="$ctrl.openFolder({ id })"\n    ></b-breadcrumbs>\n    <div class="b-manage-folders__settings" click-outside>\n      <button type="button" class="b-manage-folders__settings-btn" ng-click="toggle()">\n        <svg-use name="settings"></svg-use>\n      </button>\n      <div class="b-manage-folders__settings-popup" ng-if="isPopupVisible">\n        <button type="button" class="b-manage-folders__settings-popup-item"\n                ng-disabled="!$ctrl.currentFolder.hasParentFolder"\n                ng-click="$ctrl.showDeleteModal()"\n        >Delete</button>\n        <button type="button" class="b-manage-folders__settings-popup-item"\n                ng-click="$ctrl.showAddNewModal()"\n        >New</button>\n        <button type="button" class="b-manage-folders__settings-popup-item"\n                ng-disabled="!$ctrl.currentFolder.hasParentFolder"\n                ng-click="$ctrl.showRenameModal()"\n        >Rename</button>\n      </div>\n    </div>\n  </div>\n  <div class="b-manage-folders__body">\n    <div class="b-manage-folders__list">\n      <div class="b-manage-folders__item" ng-repeat="folder in $ctrl.model.folders">\n        <b-folder disabled="$ctrl.isFolderLoading || folder.id === $ctrl.disabledFolderId"\n                  on-click="$ctrl.openFolder({ id })"\n                  folder-name="folder.name"\n                  folder-id="folder.id"\n        ></b-folder>\n      </div>\n    </div>\n  </div>\n  <div class="b-manage-folders__bottom">\n      <button type="button" class="b-manage-folders__btn btn btn-default _small"\n              ng-if="$ctrl.currentFolder.hasParentFolder"\n              ng-disabled="$ctrl.isFolderLoading"\n              ng-click="$ctrl.openParentFolder()"\n      >Back</button>\n      <button type="button" class="b-manage-folders__btn btn btn-default _green _small _fill _select"\n              ng-if="$ctrl.select"\n              ng-disabled="$ctrl.isSaving"\n              ng-click="$ctrl.selectFolder()"\n      >Select</button>\n    </div>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s) {
            "ngInject";
            (0, n.default)(this, e), this._modalDefaultService = i, this._noticeboardService = a, this._notificationService = s, this._$scope = t, this.isFolderLoading = !1, this.isSaving = !1, this.currentFolder = null
        }
        return e.$inject = ["$scope", "modalDefaultService", "noticeboardService", "notificationService"], (0, i.default)(e, [{
            key: "$onInit",
            value: function() {
                this.setCurrentFolder()
            }
        }, {
            key: "setCurrentFolder",
            value: function() {
                this.currentFolder = this._noticeboardService.getCurrentFolder(this.model.location.path)
            }
        }, {
            key: "createFolder",
            value: function(e) {
                var t = this,
                    n = this.model.location.path[this.model.location.path.length - 1].id;
                return this._noticeboardService.createFolder(e, n).then(function() {
                    t._notificationService.showSuccessNotification("Success"), t.updateFolderList(n), t.closeModal()
                })
            }
        }, {
            key: "renameFolder",
            value: function(e, t) {
                var n = this;
                return this._noticeboardService.updateFolder({
                    folder_id: e,
                    name: t
                }).then(function() {
                    n._notificationService.showSuccessNotification("Success"), n.updateFolderList(e)
                }).finally(function() {
                    return n.closeModal()
                })
            }
        }, {
            key: "deleteFolder",
            value: function() {
                var e = this,
                    t = this.currentFolder.id;
                return this._noticeboardService.deleteFolder(t).then(function() {
                    e._notificationService.showSuccessNotification("Success"), e.updateFolderList(e.currentFolder.parent_folder_id)
                }).finally(function() {
                    return e.closeModal()
                })
            }
        }, {
            key: "selectFolder",
            value: function() {
                var e = this;
                this.isSaving = !0, this.select({
                    parentFolderId: this.currentFolder.id
                }).then(function() {
                    e._notificationService.showSuccessNotification("Success")
                }).finally(function() {
                    e.isSaving = !1
                })
            }
        }, {
            key: "showAddNewModal",
            value: function() {
                var e = this,
                    t = {
                        submit: function(t) {
                            var n = t.name;
                            return e.createFolder(n)
                        },
                        cancel: function() {
                            return e.closeModal()
                        }
                    };
                this._modalDefaultService.showModalWithTemplates("modal-create-folder", t, "Create folder"), this._$scope.isPopupVisible = !1
            }
        }, {
            key: "showRenameModal",
            value: function() {
                var e = this,
                    t = {
                        name: this.currentFolder.name,
                        submit: function(t) {
                            var n = t.name;
                            return e.renameFolder(e.currentFolder.id, n)
                        },
                        cancel: function() {
                            return e.closeModal()
                        }
                    };
                this._modalDefaultService.showModalWithTemplates("modal-rename-folder", t, "Rename folder"), this._$scope.isPopupVisible = !1
            }
        }, {
            key: "showDeleteModal",
            value: function() {
                var e = this,
                    t = {
                        confirm: function() {
                            return e.deleteFolder()
                        },
                        cancel: function() {
                            return e.closeModal()
                        },
                        message: "Are you sure you want to remove this folder?"
                    };
                this._modalDefaultService.showModalWithTemplates("modal-confirm", t, ""), this._$scope.isPopupVisible = !1
            }
        }, {
            key: "openParentFolder",
            value: function() {
                this.openFolder({
                    id: this.currentFolder.parent_folder_id
                })
            }
        }, {
            key: "openFolder",
            value: function(e) {
                var t = this,
                    n = e.id;
                this.isFolderLoading = !0, this.updateFolderList(n).finally(function() {
                    t.isFolderLoading = !1
                })
            }
        }, {
            key: "closeModal",
            value: function() {
                this._$scope.$emit("hideModal")
            }
        }, {
            key: "updateFolderList",
            value: function(e) {
                var t = this;
                return this.updateFolders({
                    id: e
                }).then(function() {
                    return t.setCurrentFolder()
                })
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1481));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("b-manage-statuses", []).component("bManageStatuses", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1482)),
        i = a(t(1483));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1484);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="b-manage-statuses">\n    <div class="b-manage-statuses__elem" ng-repeat="status in $ctrl.status_options">\n        <div class="b-manage-statuses__label">{{ status.name }}</div>\n        <a ng-click="$ctrl.showDeletingModal(status.id)" class="b-manage-statuses__btn-close btn-close">\n          <svg-use name="cross" class="btn-close__svg"></svg-use>\n        </a>\n    </div>\n    \n    <div class="f-default__row-default b-manage-statuses__row">\n      <div class="f-default__field-title b-manage-statuses__label">Status name</div>\n      <input class="f-default__input b-manage-statuses__input" type="text" ng-model="$ctrl.status_name">\n    </div>\n    <a type="button" class="btn btn-default _green _small _fill b-manage-statuses__btn" ng-click="$ctrl.addStatus()">Add status</a>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r, o, l, c, d, u, _, f, v, m, h, p, g, b, S) {
            "ngInject";
            (0, n.default)(this, e), this._$scope = t, this._$state = i, this._$stateParams = a, this._clubsService = s, this._studentsService = r, this._userService = o, this._modalDefaultService = l, this._notificationService = d, this._windowWidthService = u, this._deviceMarginConstants = _, this._menuService = v, this._configService = m, this._routeClassService = h, this._authService = p, this._communicatorDataService = g, this._teachersService = b, this._requestService = S, this._$rootScope = c, this._childProtectionService = f, this.isLoading = !1, this.leader = !1
        }
        return e.$inject = ["$scope", "$state", "$stateParams", "clubsService", "studentsService", "userService", "modalDefaultService", "$rootScope", "notificationService", "windowWidthService", "deviceMarginConstants", "childProtectionService", "menuService", "configService", "routeClassService", "authService", "communicatorDataService", "teachersService", "requestService"], (0, i.default)(e, [{
            key: "$onInit",
            value: function() {
                this.status_options = this._childProtectionService.statusOptions.filter(function(e) {
                    return !e.deleted
                })
            }
        }, {
            key: "addStatus",
            value: function() {
                var e = this;
                this._requestService.getData("child_protection", "child_protection_referral_status_add", {
                    name: this.status_name
                }).then(function(t) {
                    var n = {
                        id: t.status_id,
                        name: e.status_name
                    };
                    e.status_options.push(n), e._childProtectionService.addStatus(t.status_id, e.status_name)
                })
            }
        }, {
            key: "deleteDeleteStatus",
            value: function(e) {
                var t = this;
                this.status_options = this.status_options.filter(function(t) {
                    return t.id !== e
                }), this._requestService.getData("child_protection", "child_protection_referral_status_delete", {
                    id: e
                }).then(function(n) {
                    t._childProtectionService.deleteStatus(e), t._childProtectionService.updateReferralsStatuses(), t.closeModal()
                })
            }
        }, {
            key: "closeModal",
            value: function() {
                this._$scope.$emit("hideModal")
            }
        }, {
            key: "showDeletingModal",
            value: function(e) {
                var t = this,
                    n = {
                        confirm: function() {
                            return t.deleteDeleteStatus(e)
                        },
                        cancel: function() {
                            return t.closeModal()
                        },
                        message: "Are you sure you want to delete the status?"
                    };
                return this._modalDefaultService.showModalWithTemplates("modal-confirm", n, "Delete status")
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1486));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("b-marksheets", []).component("bMarksheets", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1487));
    t(1488);
    var i = a(t(1489));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="b-marksheets" save-scroll-position>\n  <div class="b-marksheets__nav-wrapper" ng-if="$ctrl._routeClassService.secondPartOfCurrentState === \'selection-learners\'">\n    <a ng-click="$ctrl.goToPreviousPage($event)"\n       class="b-marksheets__btn-back">\n      <svg-use name="cross"></svg-use>\n    </a>\n  </div>\n  <div class="b-marksheets__wrapper" ng-class="{ \'_close-button\': $ctrl._routeClassService.secondPartOfCurrentState === \'selection-learners\' }">\n    <div class="b-marksheets__left">\n      <div class="b-marksheets__content" ui-view="marksheetsLeft"></div>\n    </div>\n    <div class="b-marksheets__right">\n      <div class="b-marksheets__content" ui-view="marksheetsRight"></div>\n    </div>\n  </div>\n</div>\n'
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r, o, l) {
            "ngInject";
            var c = this;
            (0, n.default)(this, e), this._$state = i, this._$rootScope = o, this._$timeout = l, this._routeClassService = r, this._modalDefaultService = a, this._blockedTransitionService = s, this.unsubscribeRootScope = this._$rootScope.$on("blockedTransitionRequest", function() {
                c._$timeout(function() {
                    c._blockedTransitionService._showModal()
                }, 0)
            })
        }
        return e.$inject = ["$scope", "$state", "modalDefaultService", "blockedTransitionService", "routeClassService", "$rootScope", "$timeout"], (0, i.default)(e, [{
            key: "goToPreviousPage",
            value: function(e, t) {
                e && e.preventDefault(), this._blockedTransitionService.isTransitionBlocked ? this._blockedTransitionService._showModal() : !t && this._$state.transitionTo("marksheets.selections", {
                    notify: !1
                })
            }
        }, {
            key: "$onDestroy",
            value: function() {
                this.unsubscribeRootScope(), this.goToPreviousPage(null, !0)
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1491));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("b-marksheets-learner", []).component("bMarksheetsLearner", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1492)),
        i = a(t(1493));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1494);
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="b-marksheets-learner">\n\n  <a ui-sref="marksheets.selections" class="btn-close"></a>\n  <div class="b-marksheets-learner__title">Learners - Marksheets</div>\n\n  <div class="b-marksheets-learner__middle">\n    <div class="b-marksheets-learner__info">\n      <div class="b-marksheets-learner__info-avatar"\n           ng-style="{\'background\': \'url(http://placehold.it/160x160)\'}"\n      ></div>\n      <div class="b-marksheets-learner__info-name">{{$ctrl.currentLearner.info.forename}} {{$ctrl.currentLearner.info.surname}}</div>\n      <div class="b-marksheets-learner__info-details _class">Hooke 7B</div>\n    </div>\n  </div>\n\n  <div class="b-marksheets-learner__bottom" ng-class="{_active: $ctrl.data.nextLearnerId !== -1 && $ctrl.data.prevLearnerId !== -1}">\n    <a class="b-marksheets-learner__btn _prev"\n       ng-hide="$ctrl.countLearnersInMarksheet === 1"\n       ui-sref="marksheets.rating({markheetId: $ctrl.marksheet.id, learnerId: $ctrl.data.prevLearnerId})"\n    >previous</a>\n    <div class="b-marksheets-learner__current">{{ $ctrl.currentLearner.index + 1 }}/{{$ctrl.countLearnersInMarksheet}}</div>\n    <a class="b-learner-info__btn _next"\n       ng-hide="$ctrl.countLearnersInMarksheet === 1"\n       ui-sref="marksheets.rating({markheetId: $ctrl.marksheet.id, learnerId: $ctrl.data.nextLearnerId})"\n    >next</a>\n  </div>\n\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a) {
            "ngInject";
            return (0, n.default)(this, e), this._$state = a, this._marksheetService = t, this.learnerId = i.learnerId, this.data = {
                prevLearnerId: -1,
                nextLearnerId: -1
            }, this.currentLearner = this._marksheetService.findLearnerInMarksheet(this.learnerId), null === this.currentLearner && this._$state.go("marksheets.selections"), this.data.prevLearnerId = this.prevLearnerId, this.data.nextLearnerId = this.nextLearnerId, data
        }
        return e.$inject = ["marksheetService", "$stateParams", "$state"], (0, i.default)(e, [{
            key: "currentLearner",
            get: function() {
                return this._marksheetService.currentLearner
            },
            set: function(e) {
                this._marksheetService.currentLearner = e
            }
        }, {
            key: "nextLearnerId",
            get: function() {
                var e = void 0;
                try {
                    e = this._marksheetService.nextLearner
                } catch (e) {
                    return
                }
                return e && e.info.id
            }
        }, {
            key: "prevLearnerId",
            get: function() {
                var e = void 0;
                try {
                    e = this._marksheetService.prevLearner
                } catch (e) {
                    return
                }
                return e && e.info.id
            }
        }, {
            key: "countLearnersInMarksheet",
            get: function() {
                return this._marksheetService.marksheet.learners.length
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1496));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("b-marksheets-learners-info", []).component("bMarksheetsLearnersInfo", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1497)),
        i = a(t(1498));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1499);
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="b-marksheets-learners-info">\n  <sl-users binded-data=\'$ctrl.learnersInfo\'\n    name="LEARNERS - MARKSHEETS"\n    class-name="_marksheets-learner"\n    back-link="marksheets.learners({marksheetId: {{ ::$ctrl._$stateParams.marksheetId }} })"></sl-users>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r) {
            "ngInject";
            (0, n.default)(this, e), this._studentsService = r, this._$state = a, this._$stateParams = i, this._marksheetService = t, this._$scope = s, this.initValues()
        }
        return e.$inject = ["marksheetService", "$stateParams", "$state", "$scope", "studentsService"], (0, i.default)(e, [{
            key: "initValues",
            value: function(e) {
                this.data && !e || (this.data = {
                    learnersInfo: null,
                    uiSref: this.srefDetect()
                })
            }
        }, {
            key: "srefDetect",
            value: function() {
                return "marksheets.learners({marksheetId: " + this._$stateParams.marksheetId + "})"
            }
        }, {
            key: "$onInit",
            value: function() {
                var e = this,
                    t = this._$scope.$watch(function() {
                        return e._marksheetService.currentLearner
                    }, function(n) {
                        n && (e.data.learnersInfo = {
                            user: {
                                info: e._marksheetService.currentLearner,
                                other: {
                                    className: n.communityGroup + " " + n.formGroup
                                }
                            },
                            users: e._marksheetService.learners,
                            index: e._marksheetService.currentLearnerIndex + 1,
                            nextUserLink: {
                                marksheetId: e._$stateParams.marksheetId,
                                learnerId: e._marksheetService.nextLearnerId
                            },
                            prevUserLink: {
                                marksheetId: e._$stateParams.marksheetId,
                                learnerId: e._marksheetService.prevLearnerId
                            }
                        }, t())
                    })
            }
        }, {
            key: "getPhoto",
            value: function(e, t) {
                return e._studentsService.students.getPhotos(t)
            }
        }, {
            key: "learnersInfo",
            get: function() {
                return this.data.learnersInfo
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1501));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("b-medical-info", []).component("bMedicalInfo", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1502)),
        i = a(t(1503));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1504);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            data: "="
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="b-medical-info">\n\n  <div class="b-medical-info__item">\n    <div class="b-medical-info__consent">\n      <span>Emergency Consent:</span>\n      <span class="b-medical-info__icon-outer">\n      <svg-use name="check" ng-if="$ctrl.data.have_emergency_consent"></svg-use>\n      <svg-use name="cross" ng-if="!$ctrl.data.have_emergency_consent"></svg-use>\n    </span>\n    </div>\n  </div>\n\n  <div class="b-medical-info__item" ng-if="$ctrl.data.dietary_needs">\n    <div class="b-medical-info__header">\n      <div class="b-medical-info__col">Dietary Needs</div>\n    </div>\n    <div class="b-medical-info__table">\n      <div class="b-medical-info__row" ng-repeat="item in $ctrl.data.dietary_needs">\n        <div class="b-medical-info__col">\n          <div class="b-medical-info__mob-title"\n               ng-if="$ctrl._windowWidthService.windowWidth <= $ctrl._deviceMarginConstants.MOBILE_MARGIN">\n            Dietary Needs\n          </div>\n          {{ item }}\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div class="b-medical-info__item" ng-if="$ctrl.data.medical_conditions">\n    <div class="b-medical-info__label">Medical Conditions</div>\n    <div class="b-medical-info__header">\n      <div class="b-medical-info__col _description">Description</div>\n      <div class="b-medical-info__col _summary">Summary</div>\n      <div class="b-medical-info__col _condition">Attachments & notes</div>\n    </div>\n    <div class="b-medical-info__table">\n      <div class="b-medical-info__row" ng-repeat="condition in $ctrl.data.medical_conditions">\n        <div class="b-medical-info__col _description">\n          <div class="b-medical-info__mob-title"\n               ng-if="$ctrl._windowWidthService.windowWidth <= $ctrl._deviceMarginConstants.MOBILE_MARGIN && condition.description">\n            Description\n          </div>\n          {{ condition.description }}\n        </div>\n        <div class="b-medical-info__col _summary">\n          <div class="b-medical-info__mob-title"\n               ng-if="$ctrl._windowWidthService.windowWidth <= $ctrl._deviceMarginConstants.MOBILE_MARGIN">\n            Summary / Attachments & notes\n          </div>\n          <ul class="b-medical-info__list" ng-if="condition.notes && condition.notes.length">\n            <li class="b-medical-info__list-item" ng-repeat="note in condition.notes">\n              <p class="b-medical-info__summary">{{ note.summary }}</p>\n              <p class="b-medical-info__attachment"\n                 ng-click="$ctrl._medicalDataService.downloadDocument(note.document_id, note.attachment_name)"\n                 ng-if="note.attachment_name && $ctrl._windowWidthService.windowWidth <= $ctrl._deviceMarginConstants.MOBILE_MARGIN">\n                <svg-use name="pdf"></svg-use>\n                <span>{{ note.attachment_name }}</span>\n              </p>\n              <p ng-if="note.note && $ctrl._windowWidthService.windowWidth <= $ctrl._deviceMarginConstants.MOBILE_MARGIN">\n                {{ note.note }}\n              </p>\n            </li>\n          </ul>\n        </div>\n        <div class="b-medical-info__col _condition"\n             ng-if="$ctrl._windowWidthService.windowWidth > $ctrl._deviceMarginConstants.MOBILE_MARGIN">\n          <ul class="b-medical-info__list" ng-if="condition.notes && condition.notes.length">\n            <li class="b-medical-info__list-item" ng-repeat="note in condition.notes">\n              <p class="b-medical-info__attachment"\n                 ng-click="$ctrl._medicalDataService.downloadDocument(note.document_id, note.attachment_name)"\n                 ng-if="note.attachment_name">\n                <svg-use name="pdf"></svg-use>\n                <span>{{ note.attachment_name }}</span>\n              </p>\n              <p ng-if="note.note">{{ note.note }}</p>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div class="b-medical-info__item" ng-if="$ctrl.data.medical_notes">\n    <div class="b-medical-info__label">Medical Notes</div>\n    <div class="b-medical-info__header">\n      <div class="b-medical-info__col _note">Summary</div>\n\t  <div class="b-medical-info__col _note">Last update</div>\n      <div class="b-medical-info__col _attachment">Attachment / note</div>\n    </div>\n    <div class="b-medical-info__table">\n      <div class="b-medical-info__row" ng-repeat="note in $ctrl.data.medical_notes">\n        <div class="b-medical-info__col _note">\n          <div class="b-medical-info__mob-title"\n               ng-if="$ctrl._windowWidthService.windowWidth <= $ctrl._deviceMarginConstants.MOBILE_MARGIN">\n            Summary / Attachment / note\n          </div>\n          <p class="b-medical-info__summary">{{ note.summary }}</p>\n        </div>\n\t\t<div class="b-medical-info__col _note">\n          <div class="b-medical-info__mob-title"\n               ng-if="$ctrl._windowWidthService.windowWidth <= $ctrl._deviceMarginConstants.MOBILE_MARGIN">\n            Last update\n          </div>\n          <p class="b-medical-info__col">{{ note.last_update }}</p>\n        </div>\n        <div class="b-medical-info__col _attachment">\n          <p class="b-medical-info__attachment"\n             ng-click="$ctrl._medicalDataService.downloadDocument(note.document_id, note.attachment_name)"\n             ng-if="note.attachment_name">\n            <svg-use name="pdf"></svg-use>\n            <span>{{ note.attachment_name }}</span>\n          </p>\n          <p ng-if="note.note">{{ note.note }}</p>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div class="b-medical-info__item" ng-if="$ctrl.data.medical_practices">\n    <div class="b-medical-info__label">Medical Practices</div>\n    <div class="b-medical-info__header">\n      <div class="b-medical-info__col _name">Name</div>\n      <div class="b-medical-info__col _phone">Phone</div>\n      <div class="b-medical-info__col _email">Email</div>\n      <div class="b-medical-info__col _address">Address</div>\n    </div>\n    <div class="b-medical-info__table">\n      <div class="b-medical-info__row" ng-repeat="item in $ctrl.data.medical_practices">\n        <div class="b-medical-info__col _name">\n          <div class="b-medical-info__mob-title"\n               ng-if="$ctrl._windowWidthService.windowWidth <= $ctrl._deviceMarginConstants.MOBILE_MARGIN && item.name">\n            Name\n          </div>\n          {{ item.name }}\n        </div>\n        <div class="b-medical-info__col _phone">\n          <div class="b-medical-info__mob-title"\n               ng-if="$ctrl._windowWidthService.windowWidth <= $ctrl._deviceMarginConstants.MOBILE_MARGIN && item.phone">\n            Phone\n          </div>\n          {{ item.phone }}\n        </div>\n        <div class="b-medical-info__col _email">\n          <div class="b-medical-info__mob-title"\n               ng-if="$ctrl._windowWidthService.windowWidth <= $ctrl._deviceMarginConstants.MOBILE_MARGIN && item.email">\n            Email\n          </div>\n          {{ item.email }}\n        </div>\n        <div class="b-medical-info__col _address">\n          <div class="b-medical-info__mob-title"\n               ng-if="$ctrl._windowWidthService.windowWidth <= $ctrl._deviceMarginConstants.MOBILE_MARGIN && item.address">\n            Address\n          </div>\n          {{ item.address }}\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div class="b-medical-info__item" ng-if="$ctrl.data.medical_events">\n    <div class="b-medical-info__label">Medical Events</div>\n    <div class="b-medical-info__header">\n      <div class="b-medical-info__col _type">Type</div>\n      <div class="b-medical-info__col _date">Date</div>\n      <div class="b-medical-info__col _info">Description</div>\n    </div>\n    <div class="b-medical-info__table">\n      <div class="b-medical-info__row" ng-repeat="item in $ctrl.data.medical_events">\n        <div class="b-medical-info__col _type">\n          <div class="b-medical-info__mob-title"\n               ng-if="$ctrl._windowWidthService.windowWidth <= $ctrl._deviceMarginConstants.MOBILE_MARGIN && item.type">\n            Type\n          </div>\n          {{ item.type }}\n        </div>\n        <div class="b-medical-info__col _date">\n          <div class="b-medical-info__mob-title"\n               ng-if="$ctrl._windowWidthService.windowWidth <= $ctrl._deviceMarginConstants.MOBILE_MARGIN && item.date">\n            Date\n          </div>\n          {{ item.date }}\n        </div>\n        <div class="b-medical-info__col _info">\n          <div class="b-medical-info__mob-title"\n               ng-if="$ctrl._windowWidthService.windowWidth <= $ctrl._deviceMarginConstants.MOBILE_MARGIN && item.description">\n            Description\n          </div>\n          {{ item.description }}\n        </div>\n      </div>\n    </div>\n  </div>\n\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(1),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    var s = function e(t, n, i) {
        "ngInject";
        (0, a.default)(this, e), this._deviceMarginConstants = t, this._medicalDataService = n, this._windowWidthService = i
    };
    s.$inject = ["deviceMarginConstants", "medicalDataService", "windowWidthService"], exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1506));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("b-modify-location", []).component("bModifyLocation", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1507)),
        i = a(t(1508));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1509);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="b-modify-location">\n    <div class="f-default__row-default b-modify-location__row">\n      <textarea class="f-default__textarea b-modify-location__textarea" ng-model="$ctrl.scope.location"></textarea>\n    </div>\n    <a type="button" class="btn btn-default _green _small _fill b-modify-location__btn" ng-click="$ctrl.changeLocation()">change</a>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s) {
            "ngInject";
            (0, n.default)(this, e), this._requestService = t, this._$scope = i, this._parentsEveningService = s, this._teachersService = a
        }
        return e.$inject = ["requestService", "$scope", "teachersService", "parentsEveningService"], (0, i.default)(e, [{
            key: "closeModal",
            value: function() {
                this._$scope.$emit("hideModal")
            }
        }, {
            key: "changeLocation",
            value: function() {
                var e = this,
                    t = {
                        event_id: this.scope.event_id,
                        employees: [{
                            id: this.scope.id,
                            location: this.scope.location
                        }]
                    };
                this._requestService.getData("parents-evening", "update", t).then(function() {
                    e.updateList(), e.closeModal()
                })
            }
        }, {
            key: "updateList",
            value: function() {
                var e = this;
                this._parentsEveningService.getEventDetails({
                    event_id: this.scope.event_id
                }).then(function() {
                    e._parentsEveningService.prepTeachers(e._teachersService.employees)
                })
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1511));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("b-new-call", []).component("bNewCall", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1512)),
        i = a(t(1513));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1514);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="b-new-call">\n    <div class="f-default__row-default b-new-call__row">\n      <textarea class="f-default__textarea b-new-call__textarea" ng-model="$ctrl.message"></textarea>\n    </div>\n    <button type="button" class="btn btn-default _green _small _fill b-new-call__btn"\n       ng-click="$ctrl.newCallout()"\n       ng-disabled="$ctrl.isLoading"\n    >new callout</button>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s) {
            "ngInject";
            (0, n.default)(this, e), this._requestService = t, this._$scope = i, this._notificationService = a, this._calloutService = s, this.isLoading = !1
        }
        return e.$inject = ["requestService", "$scope", "notificationService", "calloutService"], (0, i.default)(e, [{
            key: "$onInit",
            value: function() {
                var e = this;
                this._requestService.getData("callout", "employee_callout_create").then(function(t) {
                    e.message = t.message
                })
            }
        }, {
            key: "closeModal",
            value: function() {
                this._$scope.$emit("hideModal")
            }
        }, {
            key: "newCallout",
            value: function() {
                var e = this;
                this.isLoading = !0, this._requestService.getData("callout", "employee_callout_create", {
                    message: this.message
                }).then(function() {
                    e._notificationService.showSuccessNotification("Successfully added callout"), e._calloutService.addNewSentCallouts(), e.closeModal()
                }).finally(function() {
                    e.isLoading = !1
                })
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1516));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("b-navigation", []).component("bNavigation", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1517)),
        i = a(t(1518));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1519);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            menu: "<",
            inactive: "<",
            params: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="b-navigation">\n  <div class="b-navigation__item"\n       ng-class="{ _active: item.active }"\n       ng-repeat="item in $ctrl.menu track by $index">\n    <button type="button" class="b-navigation__btn" ng-click="$ctrl.selectTab(item)">\n      {{ ::item.name }}\n    </button>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(10)),
        i = s(t(1)),
        a = s(t(2));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = function() {
        function e(t, n, a, s, r) {
            "ngInject";
            (0, i.default)(this, e), this._$state = t, this._$stateParams = n, this._navigationService = s, this._attendanceService = a, this._modalDefaultService = r
        }
        return e.$inject = ["$state", "$stateParams", "attendanceService", "navigationService", "modalDefaultService"], (0, a.default)(e, [{
            key: "$onInit",
            value: function() {
                this.setActiveTab()
            }
        }, {
            key: "$onDestroy",
            value: function() {
                this._navigationService.initValues(!0)
            }
        }, {
            key: "setActiveTab",
            value: function() {
                var e = this.params ? this._$state.current.name : this._$stateParams.page;
                if (this.menu.forEach(function(e) {
                        return e.active = !1
                    }), !this.inactive)
                    if (e) {
                        var t = this.menu.find(function(t) {
                            return t.params.page === e
                        });
                        t && (t.active = !0, this._navigationService.currentTab = t.params.page)
                    } else {
                        var n = this.menu[0];
                        n.active = !0, this._navigationService.currentTab = n.params.page
                    }
            }
        }, {
            key: "selectTab",
            value: function(e) {
                this.menu.forEach(function(e) {
                    return e.active = !1
                }), e.active = !0, this._navigationService.clickedTab = e.params.page, "marks" === e.params.page && this._navigationService.seatingPlanChanged ? this._modalDefaultService.showModalWithTemplates("modal-changes-detected", {
                    transition: this.transition.bind(this),
                    params: e.params
                }, "Changes Detected") : this.transition(e.params)
            }
        }, {
            key: "transition",
            value: function(e) {
                var t = this;
                if (this.params) return this._$state.transitionTo(e.page, {
                    notify: !1
                }).then(function() {
                    t._navigationService.currentTab = e.page
                });
                this._$state.transitionTo(this._$state.$current, (0, n.default)({}, this._$stateParams, e), {
                    notify: !1
                }).then(function() {
                    t._navigationService.currentTab = e.page
                })
            }
        }]), e
    }();
    exports.default = r
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1521));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("b-preview-documents", []).component("bPreviewDocuments", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1522));
    t(1523);
    var i = a(t(1524));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            users: "<",
            report: "<",
            submit: "&"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="b-preview-documents _desktop">\n  <div class="b-preview-documents__left">\n    <l-users-error users="$ctrl.users" date="$ctrl.date"></l-users-error>\n    <b-date-time-select class="f-message-options__date"\n      format="{{::$ctrl._dateService.getDateFormat(\'apiDateTime\')}}"\n      visible-date-format="{{::$ctrl._dateService.getDateFormat(\'momentDateTime\')}}"\n      name="date"\n      date="$ctrl.date"\n      label="Send on: Date/Time"></b-date-time-select>\n  </div>\n  <div class="b-preview-documents__right">\n    <div class="b-preview-documents__subject">\n      <span class="b-preview-documents__subject-title">Subject:</span>\n      <span ng-bind="$ctrl.report.subject"></span>\n    </div>\n    <div class="b-preview-documents__body">\n      <span class="b-preview-documents__body-title">Body:</span>\n      <span ng-bind-html="$ctrl.report.body"></span>\n    </div>\n\n    <div class="b-preview-documents__buttons">\n      <button type="button" ng-click="$ctrl.close()" class="btn btn-default b-preview-documents__button _cancel">Cancel</button>\n      <button type="button" ng-click="$ctrl.onSubmit()" class="btn btn-default b-preview-documents__button _send">Send</button>\n    </div>\n  </div>\n</div>\n\n<div class="b-preview-documents _mobile">\n  <div class="b-preview-documents__report">\n    <div class="b-preview-documents__subject">\n      <span class="b-preview-documents__subject-title">Subject:</span>\n      <span ng-bind="$ctrl.report.subject"></span>\n    </div>\n    <div class="b-preview-documents__body">\n      <span class="b-preview-documents__body-title">Body:</span>\n      <span ng-bind-html="$ctrl.report.body"></span>\n    </div>\n    <b-date-time-select class="f-message-options__date"\n      format="{{::$ctrl._dateService.getDateFormat(\'apiDateTime\')}}"\n      visible-date-format="{{::$ctrl._dateService.getDateFormat(\'momentDateTime\')}}"\n      name="date"\n      date="$ctrl.date"\n      label="Send on: Date/Time"></b-date-time-select>\n  </div>\n  <div class="b-preview-documents__users">\n    <l-users-error users="$ctrl.users"></l-users-error>\n  </div>\n\n  <div class="b-preview-documents__buttons">\n    <button type="button" ng-click="$ctrl.close()" class="btn btn-default b-preview-documents__button _cancel">Cancel</button>\n    <button type="button" ng-click="$ctrl.onSubmit()" class="btn btn-default b-preview-documents__button _send">Send</button>\n  </div>\n</div>\n'
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i) {
            "ngInject";
            (0, n.default)(this, e), this._$scope = t, this._dateService = i, this.date = null
        }
        return e.$inject = ["$scope", "dateService"], (0, i.default)(e, [{
            key: "close",
            value: function() {
                this._$scope.$emit("hideModal")
            }
        }, {
            key: "onSubmit",
            value: function() {
                this.submit({
                    date: this.date
                })
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1526));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("b-profiles", []).component("bProfiles", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1527));
    t(1528);
    var i = a(t(1529));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="b-profiles">\n  <div class="b-profiles__wrapper">\n    <div class="b-profiles__left">\n      <div class="b-profiles__content" ui-view="profilesLeft"></div>\n    </div>\n    <div class="b-profiles__right">\n      <div class="b-profiles__content" ui-view="profilesRight"></div>\n    </div>\n  </div>\n  <div class="b-profiles__footer"\n       ng-if="$ctrl.isShowEntryBtn">\n    <button type="button" class="b-profiles__btn btn btn-default btn-comment"\n            ng-disabled="!$ctrl.hasChanges()"\n            ng-click="$ctrl.saveEntry()">Save entry</button>\n  </div>\n</div>\n'
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = r(t(411)),
        i = r(t(195)),
        a = r(t(1)),
        s = r(t(2));

    function r(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var o = function() {
        function e(t, n, i, s, r, o, l, c) {
            "ngInject";
            var d = this;
            (0, a.default)(this, e), this._$timeout = r, this._$rootScope = o, this._profilesService = t, this._routeClassService = i, this._notificationService = n, this._blockedTransitionService = s, this._modalDefaultService = l, this._$state = c, this.unsubscribeRootScope = this._$rootScope.$on("blockedTransitionRequest", function() {
                d._$timeout(function() {
                    d._blockedTransitionService._showModal()
                }, 0)
            }), this.unsubscribeBlockNavigationBetweenStudents = this._$rootScope.$on("blockNavigationBetweenStudents", function(e, t) {
                var n = t.stateName,
                    i = t.link;
                d._$timeout(function() {
                    d.hasChanges() ? d.openConfirmModal(n, i) : d.navigateToNextUser(n, i)
                }, 0)
            })
        }
        return e.$inject = ["profilesService", "notificationService", "routeClassService", "blockedTransitionService", "$timeout", "$rootScope", "modalDefaultService", "$state"], (0, s.default)(e, [{
            key: "openConfirmModal",
            value: function(e, t) {
                var n = this,
                    i = {
                        message: "You have unsaved changes, do you want to save them?",
                        confirm: function() {
                            n.saveEntry().then(function() {
                                return n.navigateToNextUser(e, t)
                            }).then(function() {
                                return n.hideModal()
                            })
                        },
                        cancel: function() {
                            return n.hideModal()
                        }
                    };
                this._modalDefaultService.showModalWithTemplates("modal-confirm", i, "CHANGES DETECTED")
            }
        }, {
            key: "hideModal",
            value: function() {
                this._$rootScope.$emit("hideModal")
            }
        }, {
            key: "navigateToNextUser",
            value: function(e, t) {
                return this._$state.transitionTo(e, t, {
                    notify: !1
                })
            }
        }, {
            key: "saveEntry",
            value: function() {
                var e = this,
                    t = this.generateResponse();
                if (!this.hasWarnings) return t.areas.length ? this._profilesService.profilesSessionsWrite(t).then(function() {
                    e.removeIsChangeFlag(), e.updateOldValues(), e.unblockTransition(), e._notificationService.showSuccessNotification("Success")
                }) : i.default.resolve();
                this._notificationService.showErrorNotification("Error")
            }
        }, {
            key: "generateResponse",
            value: function() {
                var e = this._profilesService.areas.areas;
                return {
                    session_id: this._profilesService.currentSessionId,
                    group_id: this._profilesService.currentGroupId,
                    learner_id: this._profilesService.currentLearnerId,
                    areas: this.generateAreas(e)
                }
            }
        }, {
            key: "generateAreas",
            value: function(e) {
                var t = this;
                if (!e.length) return null;
                var n = [];
                return e.forEach(function(e) {
                    var i = t.generateSections(e.sections);
                    i && i.length && n.push({
                        area_id: e.id,
                        sections: i
                    })
                }), n
            }
        }, {
            key: "generateSections",
            value: function(e) {
                var t = this;
                return e.length ? e.reduce(function(e, n) {
                    return n.is_change && e.push({
                        section_id: n.id,
                        comment_text: n.comment_text,
                        comment_bank_ids: t.generateCommentBankIds(n.comment_bank)
                    }), e
                }, []) : null
            }
        }, {
            key: "hasChanges",
            value: function() {
                return (arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : this._profilesService.areas.areas).some(function(e) {
                    return e.sections.some(function(e) {
                        return e.is_change
                    })
                })
            }
        }, {
            key: "unblockTransition",
            value: function() {
                this.hasOtherUnsavedChanges || this._blockedTransitionService.enableTransition()
            }
        }, {
            key: "removeIsChangeFlag",
            value: function() {
                this._profilesService.areas.areas.forEach(function(e) {
                    e.sections.forEach(function(e) {
                        e.is_change && (e.is_change = !1)
                    })
                })
            }
        }, {
            key: "generateCommentBankIds",
            value: function(e) {
                if (!e.length) return [];
                var t = [];
                return e.forEach(function(e) {
                    e.is_selected && t.push(e.id)
                }), t
            }
        }, {
            key: "updateOldValues",
            value: function() {
                this._profilesService.areas.areas.forEach(function(e) {
                    e.sections.forEach(function(e) {
                        e.old_value = e.comment_text
                    })
                })
            }
        }, {
            key: "$onDestroy",
            value: function() {
                this.unsubscribeRootScope(), this.unsubscribeBlockNavigationBetweenStudents(), this._profilesService.clearCache()
            }
        }, {
            key: "isShowEntryBtn",
            get: function() {
                return "profiles.comment" === this._routeClassService.fullStateName && "Entry" === this._profilesService.typeOfViewComments
            }
        }, {
            key: "hasWarnings",
            get: function() {
                var e = angular.element(".l-profiles-entry__label-textarea");
                return (0, n.default)(e).some(function(e) {
                    return angular.element(e).hasClass("_warning")
                })
            }
        }, {
            key: "hasOtherUnsavedChanges",
            get: function() {
                var e = this._profilesService.getAllCache();
                for (var t in e)
                    if (e.hasOwnProperty(t) && angular.isDefined(e[t].areas) && this.hasChanges(e[t].areas)) return !0;
                return !1
            }
        }]), e
    }();
    exports.default = o
}, , , , , , , , function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1538));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("b-profiles-learner-info", []).component("bProfilesLearnerInfo", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1539)),
        i = a(t(1540));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1541);
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="b-profiles-learner-info">\n  <sl-users\n    binded-data=\'$ctrl.learnersInfo\'\n    name="Profiles session entry"\n    class-name="_profiles-session-entry"\n    back-link="{{ $ctrl.backLink }}"></sl-users>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s) {
            "ngInject";
            var r = this;
            (0, n.default)(this, e), this._$state = a, this._$stateParams = i, this._profilesService = t, this._$scope = s, this.data = {
                learnerInfo: null,
                backLink: this.srefDetect()
            };
            var o = this._$scope.$watch(function() {
                return r._profilesService.currentLearner
            }, function(e) {
                e && (r.data.learnersInfo = {
                    user: {
                        info: e,
                        other: {
                            year: e.yearGroup,
                            className: e.communityGroup + " " + e.formGroup
                        }
                    },
                    users: r._profilesService.learners,
                    index: r._profilesService.currentLearnerIndex + 1,
                    nextUserLink: {
                        sessionId: r._$stateParams.sessionId,
                        groupId: r._$stateParams.groupId,
                        learnerId: r._profilesService.nextLearnerId
                    },
                    prevUserLink: {
                        sessionId: r._$stateParams.sessionId,
                        groupId: r._$stateParams.groupId,
                        learnerId: r._profilesService.prevLearnerId
                    }
                }, o())
            })
        }
        return e.$inject = ["profilesService", "$stateParams", "$state", "$scope"], (0, i.default)(e, [{
            key: "srefDetect",
            value: function() {
                return "profiles.learners({sessionId: " + this._$stateParams.sessionId + ", groupId: " + this._$stateParams.groupId + "})"
            }
        }, {
            key: "learnersInfo",
            get: function() {
                return this.data.learnersInfo
            }
        }, {
            key: "backLink",
            get: function() {
                return this.data.backLink
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1543));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("b-profiles-teacher-info", []).component("bProfilesTeacherInfo", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(1544),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    t(1545);
    var s = {
        template: a.default,
        bindings: {
            backSref: "@"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<pr-teacher back-link="{{ ::$ctrl.backSref }}" class="_profiles-learners" name="Profiles"></pr-teacher>\n'
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1547));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("b-recipients-select", []).component("bRecipientsSelect", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1548)),
        i = a(t(1549));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1550);
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="b-recipients-select">\n  <div class="b-recipients-select__top">\n    <ul class="b-recipients-select__control">\n      <li class="b-recipients-select__control-item"\n          ng-repeat="button in $ctrl._communicatorDataService.recipientsButtons track by $index"\n          ng-click="button.onClick(button)"\n          ng-class="{_active: button.isClicked, _disabled: button.isLoading}"\n          ng-init="button.isClicked && !button.isFilled && button.onClick(button, true)"\n      >\n        <div class="b-recipients-select__icon-outer">\n          <div class="b-recipients-select__icon-check">\n            <svg-use name="circle-check"></svg-use>\n          </div>\n          <svg-use name="{{button.svgName}}"></svg-use>\n        </div>\n        <div class="b-recipients-select__data">\n          <div class="b-recipients-select__data-inner">\n            {{button.name}}\n            <span ng-if="$ctrl.isNotMobile() && button.isClicked\n                    && $ctrl._communicatorDataService.getRecipientsNumberByType(button.recipientType)"\n            >\n              {{::$ctrl._communicatorDataService.getRecipientsNumberByType(button.recipientType)}}\n              ({{$ctrl._communicatorDataService.getSelectedRecipientsNumberByType(button.recipientType)}})\n            </span>\n          </div>\n        </div>\n      </li>\n    </ul>\n    <div class="b-recipients-select__outer-mobile" ng-if="!$ctrl.isNotMobile()">\n      <button type="button" class="b-recipients-select__button _export btn btn-default _small"\n              ng-click="$ctrl.downloadParentsContacts()"\n              ng-disabled="!$ctrl.getInaccessibleParents().length"\n      >Undeliverable List</button>\n      <button type="button" class="b-recipients-select__button _options btn btn-default _small"\n              ng-if="$ctrl._userService.checkRole(\'employee\') && $ctrl._communicatorDataService.isActiveTab(\'parents\') && $ctrl._userService.user.capabilities.communicator.custom_parent_options.enabled"\n              ng-click="$ctrl.showParentOptionsModal()"\n      >Options</button>\n      <div class="b-recipients-select__select-outer">\n        <ui-select ng-model="$ctrl._communicatorDataService.messageType"\n                   ng-change="$ctrl.onMessageTypeChange()"\n                   theme="selectize"\n                   class="select-default b-recipients-select__select"\n                   ng-disabled="!$ctrl._userService.checkRole(\'employee\')"\n                   search-enabled="false"\n        >\n          <ui-select-match placeholder="Message Type:">\n            <span class="b-recipients-select__note">Message Type: </span>\n            {{ $select.selected }}\n          </ui-select-match>\n          <ui-select-choices repeat="type in $ctrl._userService.user._local.can_create_message_types track by $index">\n            <span>{{ ::type }}</span>\n          </ui-select-choices>\n        </ui-select>\n        <div class="f-default__select-mobile-wrap b-recipients-select__select-mobile-wrap">\n          <span class="b-recipients-select__note">Message Type: </span>\n          <select class="f-default__select-mobile b-recipients-select__mobile-select"\n                  ng-disabled="!$ctrl._userService.checkRole(\'employee\')"\n                  ng-change="$ctrl.onMessageTypeChange()"\n                  ng-model="$ctrl._communicatorDataService.messageType"\n          >\n            <option ng-repeat="type in $ctrl._userService.user._local.can_create_message_types track by $index"\n                    ng-value="::type"\n            >\n              {{::type}}\n            </option>\n          </select>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div class="b-recipients-select__body">\n    <label class="b-recipients-select__checkbox f-default__label"\n           ng-class="{ \'_checkbox-checked\': $ctrl._communicatorDataService.selectAll }"\n    >\n      <input type="checkbox" class="b-recipients-select__checkbox-input"\n             ng-change="$ctrl.toggleSelectAllCheckbox()"\n             ng-model="$ctrl._communicatorDataService.selectAll"\n      >\n      <span class="b-recipients-select__checkbox-title"></span>\n    </label>\n    <t-select-recipients></t-select-recipients>\n  </div>\n\n  <div class="b-recipients-select__bottom">\n    <div class="b-recipients-select__bottom-col">\n      <button type="button" class="b-recipients-select__button _prev btn btn-default _gray _fill _small"\n              ng-click="$ctrl.hideModal()"\n      >Previous Step</button>\n      <button type="button" class="b-recipients-select__button _next btn btn-default _green _fill _small"\n              ng-disabled="$ctrl.isCustomFieldsEmpty() && !$ctrl._communicatorDataService.editableRecipients.length"\n              ng-class="{\'_green\' : $ctrl.isNotMobile()}"\n              ng-click="$ctrl.goToNextStep()"\n      >Next Step</button>\n    </div>\n    <div class="b-recipients-select__bottom-col" ng-if="$ctrl.isNotMobile()">\n      <div class="b-recipients-select__select-outer">\n        <ui-select ng-model="$ctrl._communicatorDataService.messageType"\n                   ng-change="$ctrl.onMessageTypeChange()"\n                   theme="selectize"\n                   class="select-default b-recipients-select__select"\n                   ng-disabled="!$ctrl._userService.checkRole(\'employee\')"\n                   search-enabled="false"\n        >\n          <ui-select-match placeholder="Message Type:">\n            {{ $select.selected }}\n          </ui-select-match>\n          <ui-select-choices repeat="type in $ctrl._userService.user._local.can_create_message_types track by $index">\n            <span>{{ ::type }}</span>\n          </ui-select-choices>\n        </ui-select>\n        <div class="f-default__select-mobile-wrap b-recipients-select__select-mobile-wrap">\n          <span class="b-recipients-select__note">Message Type: </span>\n          <select class="f-default__select-mobile b-recipients-select__mobile-select"\n                  ng-disabled="!$ctrl._userService.checkRole(\'employee\')"\n                  ng-change="$ctrl.onMessageTypeChange()"\n                  ng-model="$ctrl._communicatorDataService.messageType"\n          >\n            <option ng-repeat="type in $ctrl._userService.user._local.can_create_message_types track by $index"\n                    ng-value="::type"\n            >\n              {{::type}}\n            </option>\n          </select>\n        </div>\n      </div>\n      <button type="button" class="b-recipients-select__button _export btn btn-default _small"\n              ng-click="$ctrl.downloadParentsContacts()"\n              ng-disabled="!$ctrl.getInaccessibleParents().length"\n      >Undeliverable List</button>\n      <button type="button" class="b-recipients-select__button _options btn btn-default _small"\n              ng-if="$ctrl._userService.checkRole(\'employee\') && $ctrl._communicatorDataService.isActiveTab(\'parents\') && $ctrl._userService.user.capabilities.communicator.custom_parent_options.enabled"\n              ng-click="$ctrl.showParentOptionsModal()"\n      >Options</button>\n    </div>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r, o, l, c, d, u, _, f) {
            "ngInject";
            (0, n.default)(this, e), this._$q = a, this._$scope = t, this._$state = i, this._admissionsService = s, this._attachmentsService = r, this._communicatorDataService = u, this._deviceMarginConstants = o, this._studentsService = l, this._modalDefaultService = _, this._userService = c, this._windowWidthService = d, this._leaversService = f
        }
        return e.$inject = ["$scope", "$state", "$q", "admissionsService", "attachmentsService", "deviceMarginConstants", "studentsService", "userService", "windowWidthService", "communicatorDataService", "modalDefaultService", "leaversService"], (0, i.default)(e, [{
            key: "$onInit",
            value: function() {
                this._communicatorDataService.selectAll = !!this._userService.user.capabilities["communicator.select_all"]
            }
        }, {
            key: "toggleSelectAllCheckbox",
            value: function() {
                this._communicatorDataService.setRecipientsAvailability(), this._communicatorDataService.selectAll ? this._communicatorDataService.editableRecipients = this._communicatorDataService.getPreparedAvailableRecipients() : this._communicatorDataService.editableRecipients = []
            }
        }, {
            key: "hideModal",
            value: function() {
                this._modalDefaultService.pop()
            }
        }, {
            key: "hideAllModals",
            value: function() {
                this._$scope.$emit("hideModal", {
                    closeAllModals: !0
                })
            }
        }, {
            key: "isNotMobile",
            value: function() {
                return this._windowWidthService.windowWidth > this._deviceMarginConstants.MOBILE_MARGIN
            }
        }, {
            key: "goToNextStep",
            value: function() {
                this.hideAllModals(), this._$state.transitionTo("communicator.send")
            }
        }, {
            key: "getLearnerIds",
            value: function() {
                return this._admissionsService.selectedStudents.length ? this._admissionsService.selectedStudents.map(function(e) {
                    return e.id
                }) : this._leaversService.selectedStudents.length ? this._leaversService.selectedStudents.map(function(e) {
                    return e.id
                }) : this._studentsService.selectedStudents.map(function(e) {
                    return e.id
                })
            }
        }, {
            key: "getInaccessibleParents",
            value: function() {
                return this._communicatorDataService.recipients.filter(function(e) {
                    return "Parent" === e.role && !e.available
                })
            }
        }, {
            key: "isCustomFieldsEmpty",
            value: function() {
                return 0 === this._communicatorDataService.customSearches.filter(function(e) {
                    return e.value
                }).length
            }
        }, {
            key: "onMessageTypeChange",
            value: function() {
                this._communicatorDataService.setRecipientsAvailability(), this._communicatorDataService.selectAll && (this._communicatorDataService.editableRecipients = this._communicatorDataService.getPreparedAvailableRecipients())
            }
        }, {
            key: "getLearnersByIds",
            value: function(e) {
                return this._studentsService.selectedStudents.filter(function(t) {
                    return -1 !== e.indexOf(t.id)
                })
            }
        }, {
            key: "getLearnersNames",
            value: function(e) {
                var t = "";
                return e.forEach(function(n, i) {
                    t += n.fullName + (e.length - 1 === i ? "" : ",")
                }), t
            }
        }, {
            key: "getLearnersGroups",
            value: function(e) {
                var t = "";
                return e.forEach(function(n, i) {
                    t += n.form_group + (e.length - 1 === i ? "" : ",")
                }), t
            }
        }, {
            key: "prepContactsDataForDownloading",
            value: function(e) {
                var t = this,
                    n = [
                        ["name", "address", "email", "phone", "mobile phone", "learners", "form groups"]
                    ];
                return angular.copy(e).forEach(function(e) {
                    var i = n.length;
                    n.push([]), n[i].push(e.title + " " + e.forename + " " + e.surname);
                    var a = e.learners ? e.learners.map(function(e) {
                            return e.id
                        }) : [],
                        s = t.getLearnersByIds(a);
                    e.address ? n[i].push(e.address.replace(/\n/g, " ")) : n[i].push("-"), e.email ? n[i].push(e.email) : n[i].push("-"), e.phone ? n[i].push(e.phone) : n[i].push("-"), e.mobile_phone ? n[i].push(e.mobile_phone) : n[i].push("-"), s.length ? n[i].push(t.getLearnersNames(s)) : n[i].push("-"), s.length ? n[i].push(t.getLearnersGroups(s)) : n[i].push("-")
                }), n
            }
        }, {
            key: "downloadParentsContacts",
            value: function() {
                var e = this.getInaccessibleParents(),
                    t = this.prepContactsDataForDownloading(e);
                this._attachmentsService.downloadCSV(t, "undeliverable-list")
            }
        }, {
            key: "showParentOptionsModal",
            value: function() {
                this._modalDefaultService.showModalWithTemplates("modal-parent-options", {}, "Options")
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1552));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("b-registers", []).component("bRegisters", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1553)),
        i = a(t(1554));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1555);
    var s = {
        restrict: "E",
        bindings: {},
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="b-registers">\n  <div class="b-registers__header" ui-view="header" ng-if="$ctrl.showHeader()"></div>\n  <div class="b-registers__body" ng-if="$ctrl._$stateParams.page !== \'plan\'">\n    <div class="b-registers__left">\n      <div class="b-registers__content" ui-view="left"></div>\n    </div>\n    <div class="b-registers__right">\n      <div class="b-registers__content" ui-view="right"></div>\n    </div>\n  </div>\n  <div class="b-registers__body" ng-if="$ctrl._$stateParams.page === \'plan\'">\n    <f-seating-plan seating-plan="$ctrl._seatingPlanService.seatingPlan"\n                    ng-if="$ctrl._windowWidthService.windowWidth > $ctrl._deviceMarginConstants.MOBILE_MARGIN">\n    </f-seating-plan>\n    <f-seating-plan seating-plan="$ctrl._seatingPlanService.seatingPlan"\n                    change-viewport\n                    view-mode="true"\n                    ng-if="$ctrl._windowWidthService.windowWidth < $ctrl._deviceMarginConstants.MOBILE_MARGIN">\n    </f-seating-plan>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r, o, l, c, d) {
            "ngInject";
            (0, n.default)(this, e), this._$scope = t, this._$timeout = s, this._$state = i, this._$stateParams = a, this._delayConstantsService = r, this._deviceMarginConstants = o, this._seatingPlanService = l, this._routeClassService = c, this._windowWidthService = d
        }
        return e.$inject = ["$scope", "$state", "$stateParams", "$timeout", "delayConstantsService", "deviceMarginConstants", "seatingPlanService", "routeClassService", "windowWidthService"], (0, i.default)(e, [{
            key: "goHome",
            value: function() {
                var e = this;
                this._$scope.$emit("closeMenu", {}), this._$timeout(function() {
                    e._$state.go("home")
                }, this._delayConstantsService.WAIT_END_OF_STATE_ANIMATION_OUT)
            }
        }, {
            key: "showHeader",
            value: function() {
                return "registers.register" === this._routeClassService.fullStateName
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1557));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("b-report", []).component("bReport", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1558)),
        i = a(t(1559));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1560);
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="b-report">\n  <div class="b-report__filter">\n    <div class="b-report__filter-col">\n      <div class="b-report__label">Date - From:<b-date-time-select class="b-report__date"\n        format="{{::$ctrl._dateService.getDateFormat(\'apiDate\')}}"\n        visible-date-format="{{::$ctrl._dateService.getDateFormat(\'momentDate\')}}"\n        name="fromDate"\n        date="$ctrl.dates.from_date"\n        max-date="$ctrl.dates.until_date"\n        on-change="$ctrl.onFromDateChange({ newValue })"\n        placeholder="{{$ctrl._resourceBookingService.dates.from_date}}"></b-date-time-select></div>\n    </div>\n    <div class="b-report__filter-col">\n      <div class="b-report__label">To: <b-date-time-select class="b-report__date"\n        format="{{::$ctrl._dateService.getDateFormat(\'apiDate\')}}"\n        visible-date-format="{{::$ctrl._dateService.getDateFormat(\'momentDate\')}}"\n        name="toDate"\n        date="$ctrl.dates.until_date"\n        min-date="$ctrl.dates.from_date"\n        on-change="$ctrl.onUntilDateChange({ newValue })"\n        placeholder="{{$ctrl._resourceBookingService.dates.until_date}}"></b-date-time-select></div>\n    </div>\n  </div>\n  <t-bookings-report></t-bookings-report>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i) {
            "ngInject";
            (0, n.default)(this, e), this._resourceBookingService = t, this._dateService = i, this.dates = {
                from_date: null,
                until_date: null
            }
        }
        return e.$inject = ["ResourceBookingService", "dateService"], (0, i.default)(e, [{
            key: "onFromDateChange",
            value: function(e) {
                var t = e.newValue,
                    n = this._dateService.getDateFormat("apiDate"),
                    i = {
                        from_date: moment(t).format(n),
                        until_date: this.dates.until_date ? moment(this.dates.until_date).format(n) : this._resourceBookingService.dates.until_date
                    };
                this._resourceBookingService.getResourceUsage(i)
            }
        }, {
            key: "onUntilDateChange",
            value: function(e) {
                var t = e.newValue,
                    n = this._dateService.getDateFormat("apiDate"),
                    i = {
                        from_date: this.dates.from_date ? moment(this.dates.from_date).format(n) : this._resourceBookingService.dates.from_date,
                        until_date: moment(t).format(n)
                    };
                this._resourceBookingService.getResourceUsage(i)
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1562));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("b-report-card", []).component("bReportCard", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1563)),
        i = a(t(1564));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1565);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            reportCard: "<",
            readonly: "<",
            cancel: "&",
            save: "&"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="b-report-card">\n  <div class="b-report-card__learner">\n    {{ ::$ctrl.reportCard.learner.forename }} {{ ::$ctrl.reportCard.learner.surname }}\n  </div>\n\n  <div class="b-report-card__nav">\n    <button type="button" class="b-report-card__nav-btn _left"\n            ng-click="$ctrl.goToPrevDay()"\n            ng-disabled="$ctrl.isDisabledPrevButton"\n    ></button>\n    <div class="b-report-card__nav-text">{{ $ctrl.day.date }}</div>\n    <button type="button" class="b-report-card__nav-btn _right"\n            ng-click="$ctrl.goToNextDay()"\n            ng-disabled="$ctrl.isDisabledNextButton"\n    ></button>\n  </div>\n\n  <div class="b-report-card__info">\n    <div class="b-report-card__info-item">\n      Start date: {{ ::$ctrl.reportCard.card.start_date }}\n    </div>\n    <div class="b-report-card__info-item">\n      End date: {{ ::$ctrl.reportCard.card.end_date }}\n    </div>\n    <div class="b-report-card__info-item">\n      Reason for On Report: {{ ::$ctrl.getReasonForOnReport($ctrl.reportCard.card.behaviour_incident_type_id) }}\n    </div>\n  </div>\n\n  <div class="b-report-card__comment">Additional Comments: {{ ::$ctrl.reportCard.card.comments }}</div>\n\n  <t-report-card data="$ctrl.day.classes" readonly="$ctrl.readonly" ng-if="$ctrl.day.classes.length"></t-report-card>\n\n  <div class="b-report-card__buttons">\n    <button type="button" class="btn btn-default b-report-card__btn"\n            ng-if="$ctrl.cancel"\n            ng-click="$ctrl.cancel()"\n    >Cancel</button>\n    <button type="button" class="btn btn-default _green _fill b-report-card__btn"\n            ng-if="!$ctrl.readonly"\n            ng-disabled="$ctrl.isLoading"\n            ng-click="$ctrl.onSave()"\n    >Save</button>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i) {
            "ngInject";
            (0, n.default)(this, e), this._behaviourDataService = t, this._dateService = i, this.days = [], this.day = null, this.isLoading = !1, this.isDisabledNextButton = !1, this.isDisabledPrevButton = !1
        }
        return e.$inject = ["behaviourDataService", "dateService"], (0, i.default)(e, [{
            key: "$onInit",
            value: function() {
                this.days = this.getDaysWithClasses(angular.copy(this.reportCard.card.days)), this.days.length && this.setFirstDay(), 1 === this.days.length && (this.isDisabledNextButton = !0)
            }
        }, {
            key: "setFirstDay",
            value: function() {
                var e = moment().format(this._dateService.getDateFormat("momentDate")),
                    t = this.days.find(function(t) {
                        return t.date === e
                    });
                t ? this.day = t : (this.isDisabledPrevButton = !0, this.day = this.days[0])
            }
        }, {
            key: "getDaysWithClasses",
            value: function(e) {
                return e.filter(function(e) {
                    return e.classes && e.classes.length
                })
            }
        }, {
            key: "onSave",
            value: function() {
                var e = this;
                this.isLoading = !0, this.save({
                    days: this.days,
                    reportCardId: this.reportCard.card.id
                }).finally(function() {
                    e.isLoading = !1
                })
            }
        }, {
            key: "getReasonForOnReport",
            value: function(e) {
                var t = this._behaviourDataService.behaviourAchievementLookups.behaviour_types.find(function(t) {
                    return t.id === e
                });
                return t ? t.description : "-"
            }
        }, {
            key: "goToNextDay",
            value: function() {
                var e = this.days.indexOf(this.day) + 1;
                e === this.days.length - 1 && (this.isDisabledNextButton = !0), this.day = this.days[e], this.isDisabledPrevButton = !1
            }
        }, {
            key: "goToPrevDay",
            value: function() {
                var e = this.days.indexOf(this.day) - 1;
                !e && (this.isDisabledPrevButton = !0), this.day = this.days[e], this.isDisabledNextButton = !1
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1567));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("b-resource-booking", []).component("bResourceBooking", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1568)),
        i = a(t(1569));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1570);
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="b-resource-booking">\n  <div class="b-resource-booking__inner">\n    <div class="b-resource-booking__header">\n      <b-navigation menu="$ctrl.menu"\n                    ng-if="$ctrl._windowWidthService.windowWidth > $ctrl._deviceMarginConstants.MOBILE_MARGIN"\n      ></b-navigation>\n      <sl-navigation menu="$ctrl.menu"\n                     ng-if="$ctrl._windowWidthService.windowWidth <= $ctrl._deviceMarginConstants.MOBILE_MARGIN"\n      ></sl-navigation>\n    </div>\n    <div class="b-resource-booking__body">\n      <b-bookings ng-if="$ctrl._navigationService.currentTab === \'bookings\'"></b-bookings>\n      <b-changes ng-if="$ctrl._navigationService.currentTab === \'changes\'"></b-changes>\n      <b-report ng-if="$ctrl._navigationService.currentTab === \'report\'"></b-report>\n    </div>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r) {
            "ngInject";
            (0, n.default)(this, e), this._deviceMarginConstants = t, this._routeClassService = i, this._navigationService = a, this._windowWidthService = s, this._userService = r, this.menu = [{
                name: "Bookings",
                params: {
                    page: "bookings"
                }
            }, {
                name: "Changes",
                params: {
                    page: "changes"
                }
            }]
        }
        return e.$inject = ["deviceMarginConstants", "routeClassService", "navigationService", "windowWidthService", "userService"], (0, i.default)(e, [{
            key: "$onInit",
            value: function() {
                this._userService.user.capabilities["resourcebooking.manager"] && this.menu.push({
                    name: "Report",
                    params: {
                        page: "report"
                    }
                })
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1572));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("b-resource-booking-select-date", []).component("bResourceBookingSelectDate", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1573)),
        i = a(t(1574));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1575);
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="b-resource-booking-select-date">\n  <button class="b-resource-booking-select-date__button _prev" ng-click="$ctrl._setNewDate(\'down\')"></button>\n  <span class="b-resource-booking-select-date__date">\n    {{($ctrl.filter.date && $ctrl.filter.date.filtered || $ctrl._getCurrentDate())}}\n  </span>\n  <button class="b-resource-booking-select-date__button _next" ng-click="$ctrl._setNewDate(\'up\')"></button>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a) {
            "ngInject";
            (0, n.default)(this, e), this._$filter = t, this._resourceBookingService = i, this._dateService = a, this.filter = this._resourceBookingService.filter
        }
        return e.$inject = ["$filter", "ResourceBookingService", "dateService"], (0, i.default)(e, [{
            key: "createDateObj",
            value: function(e) {
                return {
                    value: e,
                    response: moment(e).format(this._dateService.getDateFormat("apiDate")),
                    filtered: this._$filter("date")(e, "EEEE MMM d, yyyy")
                }
            }
        }, {
            key: "_getCurrentDate",
            value: function() {
                return this._$filter("date")(new Date, "EEEE MMM d, yyyy")
            }
        }, {
            key: "_setNewDate",
            value: function(e) {
                var t = this.filter.date && new Date(this.filter.date.filtered) || new Date(this._getCurrentDate());
                "down" === e ? t.setDate(t.getDate() - 1) : t.setDate(t.getDate() + 1), this.filter.date = this.createDateObj(t), this._resourceBookingService.getResourceTimetable()
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1577));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("b-schedule", []).component("bSchedule", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1578)),
        i = a(t(1579));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1580);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            events: "="
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="b-schedule">\n  <div\n    class="b-schedule__btn-add-calendar-entry" ng-if="!$ctrl.$state.includes(\'student\')">\n    <button type="button" class="btn btn-default _fill _small"\n            ng-if="$ctrl._userService.user.capabilities[\'calendar.event_create\']"\n            ng-click="$ctrl.addEntry()">Add Event</button>\n  </div>\n  <button class="b-schedule__btn-settings"\n      ng-if="$ctrl._windowWidthService.windowWidth <= $ctrl._deviceMarginConstants.MOBILE_MARGIN\n        && !$ctrl._userService.user.capabilities[\'calendar.hide_sourcecog\']">\n      <svg-use name="settings" ng-click="$ctrl.openEventSourceModal()"></svg-use>\n  </button>\n  <div class="b-schedule__wrapper">\n    <div class="b-schedule__left">\n    <b-title name="Calendar" go-back="$ctrl._menuService.goHome()">\n      <b-title-controls>\n        <button class="b-schedule__btn-settings"\n                ng-if="!$ctrl._userService.user.capabilities[\'calendar.hide_sourcecog\']">\n          <svg-use name="settings" ng-click="$ctrl.openEventSourceModal()"></svg-use>\n        </button>\n      </b-title-controls>\n    </b-title>\n    <b-calendar scope="$ctrl.scope" events="$ctrl.filteredEvents"></b-calendar>\n  </div>\n    <div class="b-schedule__right">\n      <l-schedule-events events="$ctrl.eventsFromCurrentDay"></l-schedule-events>\n    </div>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(1)),
        i = s(t(2)),
        a = t(191);

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = function() {
        function e(t, i, a, s, r, o, l, c, d, u) {
            "ngInject";
            var _ = this;
            (0, n.default)(this, e), this._menuService = r, this._userService = u, this._calendarService = s, this._bCalendarService = a, this._windowWidthService = o, this._deviceMarginConstants = l, this._modalDefaultService = c, this._calendarEventSourceConstants = d, this._$scope = t, this.$state = i, this.local = {
                date: new Date,
                eventsFromCurrentDay: [],
                filteredEvents: [],
                scope: {
                    getDate: this.getDate.bind(this),
                    setDate: this.setDate.bind(this),
                    handleClick: this.handleClick.bind(this),
                    handleCurrentDay: this.handleCurrentDay.bind(this)
                }
            }, this.eventSourcesSubscription = this._$scope.$watchCollection(function() {
                return _._bCalendarService.currentEventSources
            }, function() {
                _.triggerEventsFilter()
            }), this.eventsSubscription = this._$scope.$watch(function() {
                return _.events
            }, function() {
                _.triggerEventsFilter()
            }), this.isAllSources = !0
        }
        return e.$inject = ["$scope", "$state", "bCalendarService", "calendarService", "menuService", "windowWidthService", "deviceMarginConstants", "modalDefaultService", "calendarEventSourceConstants", "userService"], (0, i.default)(e, [{
            key: "$onDestroy",
            value: function() {
                this.eventSourcesSubscription(), this.eventsSubscription()
            }
        }, {
            key: "setDate",
            value: function(e) {
                this.local.date = e
            }
        }, {
            key: "getDate",
            value: function() {
                return this.local.date
            }
        }, {
            key: "handleClick",
            value: function(e) {
                this.setEventsFromHandle(e.events)
            }
        }, {
            key: "handleCurrentDay",
            value: function(e) {
                this.setEventsFromHandle(e.events)
            }
        }, {
            key: "triggerEventsFilter",
            value: function() {
                var e = this;
                this.events && (this.local.filteredEvents = this.events.filter(function(t) {
                    var n = e._bCalendarService.currentEventSources.indexOf(t.source) > -1,
                        i = a.allEventSources.indexOf(t.source) > -1;
                    return n || !i && e._bCalendarService.currentEventSources.indexOf(e._calendarEventSourceConstants.OTHER) > -1
                }))
            }
        }, {
            key: "addEntry",
            value: function() {
                this._modalDefaultService.showModalWithTemplates("modal-add-calendar-entry", {
                    startDate: this.local.date
                }, "Add New Calendar Entry")
            }
        }, {
            key: "switchEventSource",
            value: function() {
                this.isAllSources = !this.isAllSources
            }
        }, {
            key: "openEventSourceModal",
            value: function() {
                this._modalDefaultService.showModalWithTemplates("modal-select-event-source", null, "Choose Event Sources")
            }
        }, {
            key: "setEventsFromHandle",
            value: function(e) {
                this.local.eventsFromCurrentDay = e
            }
        }, {
            key: "scope",
            get: function() {
                return this.local.scope
            }
        }, {
            key: "eventsFromCurrentDay",
            get: function() {
                return this.local.eventsFromCurrentDay
            }
        }, {
            key: "filteredEvents",
            get: function() {
                return this.local.filteredEvents
            }
        }]), e
    }();
    exports.default = r
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1582));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("b-select-event-source", []).component("bSelectEventSource", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1583)),
        i = a(t(1584));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1585);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            scope: "="
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<ul class="b-select-event-source">\n  <li class="b-default__item b-select-event-source__item"\n    ng-repeat="source in $ctrl.allSources track by $index">\n    <label class="f-default__checkbox b-select-event-source__label f-default__label _events-none"\n    ng-style="{\'border-color\': $ctrl.selectedSources.indexOf(source) > -1 && $ctrl.colorMap[source]}">\n      <input type="checkbox" value="{{fruitName}}"\n          ng-checked="$ctrl.selectedSources.indexOf(source) > -1"\n          ng-click="$ctrl.toggleSelection(source)"\n          value="{{source}}">\n      <span class="f-default__checkbox-text b-select-event-source__text">\n        {{ source }}</span>\n    </label>\n  </li>\n</ul>\n\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(1)),
        i = s(t(2)),
        a = t(191);

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = function() {
        function e(t, i) {
            "ngInject";
            (0, n.default)(this, e), this.allSources = a.allEventSources, this.colorMap = a.calendarEventSourceColorMap, this._bCalendarService = t
        }
        return e.$inject = ["bCalendarService", "calendarEventSourceConstants"], (0, i.default)(e, [{
            key: "toggleSelection",
            value: function(e) {
                var t = this.selectedSources.indexOf(e);
                t > -1 ? this.selectedSources.splice(t, 1) : this.selectedSources.push(e)
            }
        }, {
            key: "selectedSources",
            get: function() {
                return this._bCalendarService.currentEventSources
            }
        }]), e
    }();
    exports.default = r
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1587));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("b-select-learners-recipients", []).component("bSelectLearnersRecipients", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1588));
    t(1589);
    var i = a(t(1590));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            isSave: "<",
            employeeId: "<",
            learnerIds: "<",
            statusFilter: "<",
            onSubmit: "&",
            onSelect: "&"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="b-select-learners-recipients">\n    <div class="b-select-learners-recipients__left">\n        <f-student-search extra-class="_learners"\n                          employee-id="$ctrl.employeeId"\n                          is-save="$ctrl.isSave"\n                          learner-ids="$ctrl.learnerIds"\n                          users-service="$ctrl._studentsService"\n                          status-filter="$ctrl.statusFilter"\n        ></f-student-search>\n    </div>\n    <div class="b-select-learners-recipients__right">\n        <l-student-search extra-class="_learners"></l-student-search>\n    </div>\n</div>\n'
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(1),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    var s = function e(t, n) {
        "ngInject";
        var i = this;
        (0, a.default)(this, e), this._studentsService = n, t.$on("$destroy", function() {
            i.isSave || (i._studentsService.clearSelectedStudents(), i._studentsService.filteredStudents = i._studentsService.students.students)
        })
    };
    s.$inject = ["$scope", "studentsService"], exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1592));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("b-select-respondents", []).component("bSelectRespondents", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1593)),
        i = a(t(1594));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1595);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            status: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="b-select-respondents">\n  <div class="b-select-respondents__left">\n    <div class="b-select-respondents__tabs">\n      <button type="button" class="b-select-respondents__tab"\n              ng-repeat="tab in $ctrl._formsService.tabs track by $index"\n              ng-class="{ _active: tab.active }"\n              ng-click="tab.onClick(tab)"\n      >{{ tab.text }}</button>\n    </div>\n\n    <f-student-search ng-if="$ctrl._formsService.tabs.parentsOf && $ctrl._formsService.tabs.parentsOf.active"\n                      extra-class="_learners"\n                      users-service="$ctrl._studentsService"\n                      status-filter="true"\n                      status-filter-value="$ctrl.status"\n    >\n      <button type="button" class="btn btn-default f-student-search__btn"\n              ng-click="$ctrl.closeModal()"\n      >Done</button>\n    </f-student-search>\n\n    <f-add-teachers ng-if="$ctrl._formsService.tabs.employees && $ctrl._formsService.tabs.employees.active"\n                    teachers="$ctrl._teachersService.employees"\n    >\n      <button type="button" class="btn btn-default f-add-teachers__btn"\n              ng-click="$ctrl.closeModal()"\n      >Done</button>\n    </f-add-teachers>\n\n    <f-student-search ng-if="$ctrl._formsService.tabs.learners && $ctrl._formsService.tabs.learners.active"\n                      extra-class="_learners"\n                      users-service="$ctrl._studentsService"\n                      status-filter="true"\n                      status-filter-value="$ctrl.status"\n    >\n      <button type="button" class="btn btn-default f-student-search__btn"\n              ng-click="$ctrl.closeModal()"\n      >Done</button>\n    </f-student-search>\n  </div>\n  <div class="b-select-respondents__right">\n    <l-student-search ng-if="$ctrl._formsService.tabs.parentsOf && $ctrl._formsService.tabs.parentsOf.active"></l-student-search>\n\n    <l-users-search ng-if="$ctrl._formsService.tabs.employees && $ctrl._formsService.tabs.employees.active"\n                    title="Teachers selected:"\n                    filtered-users="$ctrl._teachersService.filteredTeachers"\n                    selected-users="$ctrl._teachersService.selectedTeachers"\n                    get-photo="$ctrl._teachersService.getTeacherPhoto({ photosId })"\n                    get-default-photo="$ctrl._teachersService.getTeacherDefaultPhoto({ gender })"\n    ></l-users-search>\n\n    <l-student-search ng-if="$ctrl._formsService.tabs.learners && $ctrl._formsService.tabs.learners.active"></l-student-search>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s) {
            "ngInject";
            (0, n.default)(this, e), this._formsService = i, this._studentsService = a, this._teachersService = s, this._$scope = t
        }
        return e.$inject = ["$scope", "formsService", "studentsService", "teachersService"], (0, i.default)(e, [{
            key: "closeModal",
            value: function() {
                this._$scope.$emit("hideModal")
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1597));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("b-select-teachers", []).component("bSelectTeachers", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1598));
    t(1599);
    var i = a(t(1600));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            singleSelect: "<",
            teachers: "<",
            isSave: "<",
            onSubmit: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="b-select-teachers">\n    <div class="b-select-teachers__left">\n      <f-add-teachers on-submit="$ctrl.onSubmit" teachers="$ctrl.teachers"></f-add-teachers>\n    </div>\n    <div class="b-select-teachers__right">\n      <l-users-search title="Teachers selected:"\n                      filtered-users="$ctrl._teachersService.filteredTeachers"\n                      selected-users="$ctrl._teachersService.selectedTeachers"\n                      get-photo="$ctrl._teachersService.getTeacherPhoto({ photosId })"\n                      get-default-photo="$ctrl._teachersService.getTeacherDefaultPhoto({ gender })"\n                      single-select="$ctrl.singleSelect">\n      </l-users-search>\n    </div>\n</div>\n'
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a) {
            "ngInject";
            var s = this;
            (0, n.default)(this, e), this._teachersService = i, this._routeClassService = a, t.$on("$destroy", function() {
                s.isSave || (s._teachersService.selectedTeachers = [], s._teachersService.filteredTeachers = s._teachersService.employees)
            })
        }
        return e.$inject = ["$scope", "teachersService", "routeClassService"], (0, i.default)(e, [{
            key: "$onInit",
            value: function() {
                this._teachersService.filteredTeachers = this.teachers
            }
        }, {
            key: "selectTeacher",
            value: function(e) {
                var t = e.user; - 1 === this._teachersService.selectedTeachers.indexOf(t) ? this.singleSelect ? this._teachersService.selectedTeachers = [t] : this._teachersService.selectedTeachers.push(t) : this._teachersService.selectedTeachers = this._teachersService.selectedTeachers.filter(function(e) {
                    return e !== t
                })
            }
        }, {
            key: "fullStateName",
            get: function() {
                return this._routeClassService.fullStateName
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1602));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("b-select-users", []).component("bSelectUsers", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1603)),
        i = a(t(1604));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1605);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="b-select-users"\n  ng-class="{ \'_not-toggle\': $ctrl._userService.checkRole(\'parent\') && !$ctrl._userService.checkRole(\'employee\') }">\n  <div class="b-select-users__left">\n    <div class="b-select-users__panel" ng-if="$ctrl._userService.checkRole(\'employee\')">\n      <ui-select ng-model="$ctrl.usersType"\n        ng-change="$ctrl.search()"\n        theme="selectize"\n        ng-init="hash = $ctrl._selectsService.generateHash($ctrl.selects); $ctrl._selectsService.setItemsNumber($ctrl.infiniteScrollSettings, hash)"\n        uis-open-close="$ctrl._selectsService.handleSelectToggling(hash, $ctrl.infiniteScrollSettings)"\n        class="select-default b-select-users__select"\n        ng-attr-id="{{\'_\' + hash}}"\n        search-enabled="false">\n        <ui-select-match placeholder="User type">{{ $select.selected.value }}</ui-select-match>\n        <ui-select-choices repeat="item in $ctrl.data.userTypesNavigation | limitTo:$ctrl.selects[hash].currentItems track by $index"\n          infinite-scroll="$ctrl._selectsService.addNewItemsToSelect($ctrl.selects[hash], $ctrl.infiniteScrollSettings.numToAdd)"\n          infinite-scroll-container="\'#_\' + hash + \' .ui-select-choices-content\'">\n          <span>{{::item.value}}</span>\n        </ui-select-choices>\n      </ui-select>\n      <div class="f-default__select-mobile-wrap">\n        <select class="f-default__select-mobile b-recipients-select__mobile-select-usertype"\n          ng-change="$ctrl.search()"\n          ng-model="$ctrl.usersType">\n          <option ng-repeat="item in $ctrl.data.userTypesNavigation track by $index"\n            ng-value="::item">\n            {{::item.value}}\n          </option>\n        </select>\n      </div>\n    </div>\n\n    <f-student-search ng-if="$ctrl.usersType.type === \'learners\'"\n      extra-class="_learners"\n      users-service="$ctrl._studentsService">\n      <button type="button" class="btn btn-default f-student-search__btn"\n        ng-click="$ctrl.nextStep()"\n        ng-disabled="!$ctrl._studentsService.selectedStudents.length"\n      >Next Step</button>\n    </f-student-search>\n    <f-add-teachers ng-if="$ctrl.usersType.type === \'employees\'"\n      teachers="$ctrl._teachersService.employees"\n      model="$ctrl.model">\n      <button type="button" class="btn btn-default f-add-teachers__btn"\n        ng-click="$ctrl.nextStep()"\n        ng-disabled="!$ctrl._teachersService.selectedTeachers.length"\n      >Next Step</button>\n    </f-add-teachers>\n    <f-student-search ng-if="$ctrl.usersType.type === \'admissions\'"\n      extra-class="_learners"\n      users-type="Admissions"\n      users-service="$ctrl._admissionsService">\n      <button type="button" class="btn btn-default f-student-search__btn"\n        ng-click="$ctrl.nextStep()"\n        ng-disabled="!$ctrl._admissionsService.selectedStudents.length"\n      >Next Step</button>\n    </f-student-search>\n    <f-student-search ng-if="$ctrl.usersType.type === \'leavers\'"\n      extra-class="_learners"\n      users-type="Leavers"\n      users-service="$ctrl._leaversService">\n      <button type="button" class="btn btn-default f-student-search__btn"\n        ng-click="$ctrl.nextStep()"\n        ng-disabled="!$ctrl._leaversService.selectedStudents.length">Next Step</button>\n    </f-student-search>\n  </div>\n  <div class="b-select-users__right">\n    <l-users-search ng-if="$ctrl.usersType.type === \'employees\'"\n      title="Teachers selected:"\n      filtered-users="$ctrl._teachersService.filteredTeachers"\n      selected-users="$ctrl._teachersService.selectedTeachers"\n      get-photo="$ctrl._teachersService.getTeacherPhoto({ photosId })"\n      get-default-photo="$ctrl._teachersService.getTeacherDefaultPhoto({ gender })"></l-users-search>\n\n    <l-student-search ng-if="$ctrl.usersType.type === \'learners\'"></l-student-search>\n\n    <l-users-search ng-if="$ctrl.usersType.type === \'admissions\'"\n      extra-class="_learners"\n      title="Admissions selected:"\n      filtered-users="$ctrl._admissionsService.filteredStudents"\n      selected-users="$ctrl._admissionsService.selectedStudents"\n      get-photo="$ctrl.getAdmissionPhoto({ photosId })"\n      get-default-photo="$ctrl.getStudentDefaultPhoto({ user })"></l-users-search>\n\n    <l-users-search ng-if="$ctrl.usersType.type === \'leavers\'"\n      extra-class="_learners"\n      title="Leavers selected:"\n      filtered-users="$ctrl._leaversService.filteredStudents"\n      selected-users="$ctrl._leaversService.selectedStudents"\n      get-photo="$ctrl.getLeaverPhoto({ photosId })"\n      get-default-photo="$ctrl.getStudentDefaultPhoto({ user })"></l-users-search>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r, o, l, c, d, u) {
            "ngInject";
            var _ = this;
            (0, n.default)(this, e), this._admissionsService = i, this._communicatorDataService = a, this._studentsService = s, this._teachersService = r, this._userService = o, this._$state = t, this._selectsService = l, this._leaversService = c, this._modalDefaultService = d, this._medicalTestDataService = u, this.data = {
                model: {},
                sessions: [],
                userTypesNavigation: [{
                    type: "learners",
                    value: "Learners",
                    onClick: function() {
                        _.clearUnnecessaryData("learners")
                    }
                }, {
                    type: "employees",
                    value: "Employees",
                    onClick: function() {
                        _.clearUnnecessaryData("employees")
                    }
                }, {
                    type: "admissions",
                    value: "Admissions",
                    onClick: function() {
                        _.clearUnnecessaryData("admissions")
                    }
                }, {
                    type: "leavers",
                    value: "Leavers",
                    onClick: function() {
                        _.clearUnnecessaryData("leavers")
                    }
                }],
                infiniteScrollSettings: this._selectsService.getInfiniteScrollSettings()
            }
        }
        return e.$inject = ["$state", "admissionsService", "communicatorDataService", "studentsService", "teachersService", "userService", "selectsService", "leaversService", "modalDefaultService", "medicalTestDataService"], (0, i.default)(e, [{
            key: "$onInit",
            value: function() {
                this.data.userTypesNavigation = this.getNavigations()
            }
        }, {
            key: "getNavigations",
            value: function() {
                var e = this;
                return "medicaltest" !== this.type ? [{
                    type: "learners",
                    value: "Learners",
                    onClick: function() {
                        e.clearUnnecessaryData("learners")
                    }
                }, {
                    type: "employees",
                    value: "Employees",
                    onClick: function() {
                        e.clearUnnecessaryData("employees")
                    }
                }, {
                    type: "admissions",
                    value: "Admissions",
                    onClick: function() {
                        e.clearUnnecessaryData("admissions")
                    }
                }, {
                    type: "leavers",
                    value: "Leavers",
                    onClick: function() {
                        e.clearUnnecessaryData("leavers")
                    }
                }] : [{
                    type: "learners",
                    value: "Learners",
                    onClick: function() {
                        e.clearUnnecessaryData("learners")
                    }
                }, {
                    type: "employees",
                    value: "Employees",
                    onClick: function() {
                        e.clearUnnecessaryData("employees")
                    }
                }]
            }
        }, {
            key: "search",
            value: function() {
                this.usersType.onClick()
            }
        }, {
            key: "$onDestroy",
            value: function() {
                this._userService.checkRole("learner") || !this._userService.checkRole("parent") || this._userService.checkRole("employee") ? this._studentsService.filteredStudents = this._studentsService.students.students : this._studentsService.filteredStudents = this._userService.user.children
            }
        }, {
            key: "clearUnnecessaryData",
            value: function(e) {
                switch (e) {
                    case "learners":
                        this.clearEmployeesData(), this.clearAdmissionsData(), this.clearLeaversData();
                        break;
                    case "leavers":
                        this.clearEmployeesData(), this.clearStudentsData(), this.clearAdmissionsData();
                        break;
                    case "admissions":
                        this.clearEmployeesData(), this.clearStudentsData(), this.clearLeaversData();
                        break;
                    case "employees":
                        this.clearStudentsData(), this.clearAdmissionsData(), this.clearLeaversData()
                }
            }
        }, {
            key: "clearStudentsData",
            value: function() {
                this._studentsService.clearSelectedStudents(), this._studentsService.filteredStudents = this._studentsService.students.students
            }
        }, {
            key: "clearEmployeesData",
            value: function() {
                this._teachersService.selectedTeachers = [], this._teachersService.filteredTeachers = this._teachersService.employees
            }
        }, {
            key: "clearAdmissionsData",
            value: function() {
                this._admissionsService.selectedStudents = [], this._admissionsService.filteredStudents = this._admissionsService.students.students
            }
        }, {
            key: "clearLeaversData",
            value: function() {
                this._leaversService.selectedStudents = [], this._leaversService.filteredStudents = this._leaversService.students.students
            }
        }, {
            key: "getEmployeeIds",
            value: function() {
                return this._teachersService.selectedTeachers.map(function(e) {
                    return e.id
                })
            }
        }, {
            key: "getStudentsIds",
            value: function() {
                return this._studentsService.selectedStudents.map(function(e) {
                    return e.id
                })
            }
        }, {
            key: "nextStep",
            value: function() {
                var e = this,
                    t = [],
                    n = this.usersType.type;
                if (this._communicatorDataService.resetRecipientsData(), this.usersType = n, this._communicatorDataService.resetRecipientsButtons(), !this._userService.checkRole("employee") && this._userService.checkRole("parent") ? t.push("teachers", "formTutors", "hoy", "hoh") : "learners" === n ? t.push("learners", "teachers", "parents", "formTutors", "hoy", "hoh", "custom") : "employees" === n ? (t.push("employees", "custom"), this._communicatorDataService.recipientsButtons.employees.isClicked = !0) : "admissions" === n ? t.push("admissions", "parents") : "leavers" === n && t.push("leavers", "parents"), "medicaltest" !== this.type) this.clearUnnecessaryData(n), this._communicatorDataService.filterRecipientsButtons(t), this._communicatorDataService.showSelectRecipientsModal();
                else {
                    var i = {
                        sessions: this.data.sessions,
                        learner_ids: this.getStudentsIds(),
                        employee_ids: this.getEmployeeIds(),
                        onDateRemove: function(t) {
                            var n = t.index;
                            return e.data.sessions.splice(n, 1)
                        },
                        onDatesAdd: function(t) {
                            var n = t.model;
                            return e.data.sessions.push(n)
                        },
                        onSubmit: function(t) {
                            return e.submitMedicalData(t)
                        }
                    };
                    this._modalDefaultService.showModalWithTemplates("modal-add-time-test", i, "")
                }
            }
        }, {
            key: "submitMedicalData",
            value: function(e) {
                var t = this,
                    n = e.require_parent_submission,
                    i = e.test_kit_count;
                return this._medicalTestDataService.submitAddMedicalTestData({
                    require_parent_submission: n,
                    test_kit_count: i,
                    learner_ids: this.getStudentsIds(),
                    employee_ids: this.getEmployeeIds(),
                    times: this.data.sessions
                }).then(function() {
                    return t._medicalTestDataService.getMedicalTestDataFromDb()
                }).then(function() {
                    t.data.sessions = [], t.clearStudentsData(), t.clearEmployeesData(), t._modalDefaultService.closeAllModals()
                })
            }
        }, {
            key: "getAdmissionPhoto",
            value: function(e) {
                var t = e.photosId;
                return this._admissionsService.students.getPhotos(t)
            }
        }, {
            key: "getLeaverPhoto",
            value: function(e) {
                var t = e.photosId;
                return this._leaversService.students.getPhotos(t)
            }
        }, {
            key: "getStudentDefaultPhoto",
            value: function(e) {
                var t = e.user;
                return this._admissionsService.getDefaultPhoto(t)
            }
        }, {
            key: "selects",
            get: function() {
                return this.data.infiniteScrollSettings.selects
            }
        }, {
            key: "type",
            get: function() {
                return this.scope && this.scope.type
            }
        }, {
            key: "infiniteScrollSettings",
            get: function() {
                return this.data.infiniteScrollSettings
            }
        }, {
            key: "usersType",
            get: function() {
                return angular.isObject(this._communicatorDataService.usersType) ? this._communicatorDataService.usersType : this.data.userTypesNavigation[0]
            },
            set: function(e) {
                this._communicatorDataService.usersType = e
            }
        }, {
            key: "model",
            get: function() {
                return this.data.model
            },
            set: function(e) {
                this.data.model = e
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1607));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("b-sen-info", []).component("bSenInfo", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1608)),
        i = a(t(1609));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1610);
    var s = {
        template: n.default,
        bindings: {
            data: "="
        },
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="b-sen-info">\n  <div class="b-sen-info__item"\n       ng-if="!$ctrl.data.status_code && !$ctrl.data.status_code_description && !$ctrl.data.current_needs.length &&\n        !$ctrl.data.documents.length && !$ctrl.data.sen_events.length && !(($ctrl.data.strategies.length || $ctrl._userService.user.capabilities.sen.strategy_manager) && $ctrl._userService.checkRole(\'employee\'))">\n    <p class="b-sen-info__message">\n      No data.\n    </p>\n  </div>\n\n  <div class="b-sen-info__item _status" ng-if="$ctrl.data.status_code || $ctrl.data.status_code_description">\n    <p class="b-sen-info__status">\n      Status: {{ $ctrl.data.status_code }} - {{ $ctrl.data.status_code_description }}\n    </p>\n  </div>\n\n  <div class="b-sen-info__item" ng-if="$ctrl.data.current_needs.length">\n    <div class="b-sen-info__label">Current Needs</div>\n    <div class="b-sen-info__header">\n      <div class="b-sen-info__col _rank">Rank</div>\n      <div class="b-sen-info__col _date">Start date</div>\n      <div class="b-sen-info__col _need-type">Need Type</div>\n      <div class="b-sen-info__col _description">Description</div>\n    </div>\n    <div class="b-sen-info__table">\n      <div class="b-sen-info__row" ng-repeat="item in $ctrl.data.current_needs track by $index">\n        <div class="b-sen-info__col _rank">\n          <div class="b-sen-info__label-mob">Rank</div>\n          {{ item.ranking }}\n        </div>\n        <div class="b-sen-info__col _date">\n          <div class="b-sen-info__label-mob">Start date</div>\n          {{ item.start_date }}\n        </div>\n        <div class="b-sen-info__col _need-type">\n          <div class="b-sen-info__label-mob">Need Type</div>\n          {{ item.type_description }}\n        </div>\n        <div class="b-sen-info__col _description">\n          <div class="b-sen-info__label-mob">Description</div>\n          {{ item.description }}\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div class="b-sen-info__item" ng-if="$ctrl.data.documents.length">\n    <div class="b-sen-info__label">Full Description</div>\n    <div class="b-sen-info__header">\n      <div class="b-sen-info__col _summary">Summary</div>\n      <div class="b-sen-info__col _type">Type</div>\n      <div class="b-sen-info__col _note">Note</div>\n      <div class="b-sen-info__col _attachment">Attachment</div>\n    </div>\n    <div class="b-sen-info__table">\n      <div class="b-sen-info__row" ng-repeat="item in $ctrl.data.documents track by $index">\n        <div class="b-sen-info__col _summary">\n          <div class="b-sen-info__label-mob">Summary</div>\n          {{ item.summary }}\n        </div>\n        <div class="b-sen-info__col _type">\n          <div class="b-sen-info__label-mob">Type</div>\n          {{ item.type }}\n        </div>\n        <div class="b-sen-info__col _note">\n          <div class="b-sen-info__label-mob">Note</div>\n          {{ item.note }}\n        </div>\n        <div class="b-sen-info__col _attachment">\n          <div class="b-sen-info__label-mob" ng-if="item.attachment_name">Attachment</div>\n          <p class="b-sen-info__attachment"\n             ng-if="item.attachment_name"\n             ng-click="$ctrl.downloadDocument(item.document_id, item.attachment_name)">\n            <svg-use name="pdf"></svg-use>\n            <span>{{ item.attachment_name }}</span>\n          </p>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div class="b-sen-info__item" ng-if="$ctrl.data.sen_events.length">\n    <div class="b-sen-info__label">Events</div>\n    <div class="b-sen-info__header">\n      <div class="b-sen-info__col _type">Type</div>\n      <div class="b-sen-info__col _date">Date</div>\n      <div class="b-sen-info__col _comments">Comments</div>\n    </div>\n    <div class="b-sen-info__table">\n      <div class="b-sen-info__row" ng-repeat="item in $ctrl.data.sen_events track by $index">\n        <div class="b-sen-info__col _type">\n          <div class="b-sen-info__label-mob">Type</div>\n          {{ item.description }}\n        </div>\n        <div class="b-sen-info__col _date">\n          <div class="b-sen-info__label-mob">Date</div>\n          {{ item.date }}\n        </div>\n        <div class="b-sen-info__col _comments">\n          <div class="b-sen-info__label-mob">Comments</div>\n          {{ item.comments }}\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div class="b-sen-info__item" ng-if="($ctrl.data.strategies.length || $ctrl._userService.user.capabilities.sen.strategy_manager) && $ctrl._userService.checkRole(\'employee\')">\n    <div class="b-sen-info__label _title">\n      Strategies\n      <button type="button" ng-if="$ctrl._userService.user.capabilities.sen.strategy_manager && $ctrl._userService.checkRole(\'employee\')" class="b-sen-info__add" ng-click="$ctrl.openStrategyAddModal()"></button>\n    </div>\n    <div class="b-sen-info__header">\n      <div class="b-sen-info__col _title">Title</div>\n      <div class="b-sen-info__col _strategy">Strategy</div>\n      <div class="b-sen-info__col _delete" ng-if="$ctrl._userService.user.capabilities.sen.strategy_manager && $ctrl._userService.checkRole(\'employee\')"></div>\n    </div>\n    <div class="b-sen-info__table">\n      <div class="b-sen-info__row" ng-repeat="item in $ctrl._strategies track by $index">\n        <div class="b-sen-info__col _title">\n          <div class="b-sen-info__label-mob">Title</div>\n          {{ item.title }}\n        </div>\n        <div class="b-sen-info__col _strategy">\n          <div class="b-sen-info__label-mob">Strategy</div>\n          <span ng-bind-html="item.strategy" />\n        </div>\n        <div class="b-sen-info__col _delete" ng-if="$ctrl._userService.user.capabilities.sen.strategy_manager && $ctrl._userService.checkRole(\'employee\')">\n          <div class="b-sen-info__label-mob">Delete</div>\n          <a ng-click="$ctrl.showDeletingModal(item.id)" class="b-sen-info__btn-close btn-close">\n            <svg-use name="bin" class="btn-close__svg"></svg-use>\n          </a>\n          </div>\n      </div>\n    </div>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(10)),
        i = s(t(1)),
        a = s(t(2));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = function() {
        function e(t, n, a, s, r, o) {
            "ngInject";
            (0, i.default)(this, e), this._attachmentsService = t, this._documentsService = n, this._userService = a, this._modalDefaultService = s, this._senDataService = r, this._requestService = o, this._strategies = []
        }
        return e.$inject = ["attachmentsService", "documentsService", "userService", "modalDefaultService", "senDataService", "requestService"], (0, a.default)(e, [{
            key: "$onInit",
            value: function() {
                this._strategies = this.strategies()
            }
        }, {
            key: "downloadDocument",
            value: function(e, t) {
                var n = this;
                this._documentsService.getDocumentDataFromDb(e).then(function(e) {
                    var i = e.result;
                    i.filename = t, n._attachmentsService.downloadDocument(i)
                })
            }
        }, {
            key: "closeModal",
            value: function() {
                this._modalDefaultService.pop()
            }
        }, {
            key: "openStrategyAddModal",
            value: function() {
                this._modalDefaultService.showModalWithTemplates("modal-add-strategy", {}, "Add strategy")
            }
        }, {
            key: "showDeletingModal",
            value: function(e) {
                var t = this,
                    n = {
                        confirm: function() {
                            return t.deleteStrategy(e)
                        },
                        cancel: function() {
                            return t.closeModal()
                        },
                        message: "Are you sure you want to delete the strategy?"
                    };
                return this._modalDefaultService.showModalWithTemplates("modal-confirm", n, "Delete strategy")
            }
        }, {
            key: "deleteStrategy",
            value: function(e) {
                var t = this;
                this._requestService.getData("sen", "sen_data_strategy_delete", {
                    id: e
                }).then(function(n) {
                    var i = t._userService.user.idFromLastAction;
                    t._senDataService.sen[i].strategies = t._senDataService.sen[i].strategies.filter(function(t) {
                        return t.id !== e
                    }), t.closeModal()
                })
            }
        }, {
            key: "strategies",
            value: function() {
                return this.data.strategies.map(function(e) {
                    return (0, n.default)({}, e, {
                        strategy: e.strategy.replace(/\bhttp[^ <]+/gi, function(e) {
                            return '<a href="' + e + '">' + e + "</a>"
                        })
                    })
                })
            }
        }]), e
    }();
    exports.default = r
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1612));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("b-show-message", []).component("bShowMessage", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1613)),
        i = a(t(1614));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1615);
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="b-show-message">\n  <div class="b-show-message__item _info">\n    <l-photos class="b-show-message__photos"\n      limit="$ctrl.message.recipients ? 4 : 1"\n      photos="$ctrl.message.photos"></l-photos>\n    <div class="b-show-message__info">\n      <div class="b-show-message__info-item">\n        <div class="b-show-message__name" ng-if="$ctrl.message.sender">\n          {{$ctrl.message.sender.name}}\n        </div>\n        <div class="b-show-message__recipients" ng-if="$ctrl.message.recipients">\n          <div class="b-show-message__recipients-list">\n            {{$ctrl.getFormattedRecipients($ctrl.message.recipients)}}\n          </div>\n          <div class="b-show-message__recipients-number"\n            ng-click="$ctrl.showRecipientsModal()">\n            ({{$ctrl.message.recipients.length}}<span> {{ $ctrl.message.recipients.length > 1 ? \'Recipients\' : \'Recipient\' }}</span>)\n          </div>\n        </div>\n        <div class="b-show-message__time">\n          {{$ctrl.message.date ? $ctrl.message.date : $ctrl.message.created | date:$ctrl._dateService.getDateFormat(\'defaultDateTime\'):\'UTC\'}}\n        </div>\n      </div>\n\n      <div class="b-show-message__info-item">\n        <div class="b-show-message__subject">{{$ctrl.message.subject}}</div>\n        <div class="b-show-message__queued"\n          ng-if="$ctrl._communicatorDataService.viewedMessagesType === \'sent\' && $ctrl.message.status === \'queued\'">\n          <button type="button" class="b-show-message__btn-abort"\n            ng-disabled="$ctrl.isLoading"\n            ng-click="$ctrl.abortMessage()">\n            Abort\n          </button>\n          <div class="b-show-message__queued-icon">\n            <svg-use name="time"></svg-use>\n          </div>\n          <div class="b-show-message__queued-date">{{$ctrl.message.queued_until | date:$ctrl._dateService.getDateFormat(\'defaultDateTime\'):\'UTC\'}}</div>\n        </div>\n        <div class="show-copied" ng-if="$ctrl.message.copied.length">\n          <svg-use\n            name="learners"\n            ng-click="$ctrl.showCopiedModal($ctrl.message.copied)">\n          </svg-use>\n        </div>\n\n        <div class="b-show-message__buttons"\n          ng-if="$ctrl._communicatorDataService.ownMailbox() && ($ctrl.message.sender.type === \'parent\' || $ctrl._communicatorDataService.viewedMessagesType === \'received\')">\n          <button type="button" class="b-show-message__btn-archive"\n            ng-if="$ctrl._communicatorDataService.viewedMessagesType === \'received\'"\n            ng-class="{ \'_un-archived\': $ctrl._communicatorDataService.archived }"\n            ng-disabled="$ctrl.isLoading"\n            ng-click="$ctrl.archiveMessage()">\n            {{$ctrl._communicatorDataService.archived ? \'Un-archive\' : \'Archive\'}}\n          </button>\n          <button type="button" class="b-show-message__btn-log"\n            ng-if="$ctrl.message.sender.type === \'parent\'"\n            ng-disabled="$ctrl.message.logged || $ctrl.isLoading"\n            ng-click="$ctrl.recordMessage()">\n            {{$ctrl.message.logged ? \'Recorded\' : \'Record in log\'}}\n          </button>\n        </div>\n      </div>\n      <div class="b-show-message__info-item" ng-if="$ctrl.message.attachments && $ctrl.message.attachments.length">\n        <ul class="b-show-message__attachments">\n          <li class="b-show-message__attachment"\n            ng-repeat="attachment in $ctrl.message.attachments track by $index"\n            ng-click="$ctrl.downloadAttachment(attachment)"\n            ng-class="{_disabled: attachment.isLoading}">\n            <span class="b-show-message__attachment-downloading">Downloading...</span>\n            <span class="b-show-message__attachment-name">{{attachment.filename}}</span>\n          </li>\n        </ul>\n        <div class="b-show-message__counter"\n          ng-if="$ctrl.message.attachments.length"\n          ng-click="$ctrl.showAttachmentsModal()">\n          <span>Attachments: </span> ({{$ctrl.message.attachments.length}})\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class="b-show-message__item _message"\n    ng-bind-html="$ctrl.showMessage()"></div>\n  <div class="b-show-message__item _reply"\n    ng-if="\n       $ctrl._communicatorDataService.viewedMessagesType === \'received\'\n       && $ctrl._communicatorDataService.ownMailbox()\n       && $ctrl._userService.user.capabilities.communicator.message_reply">\n    <button type="buttom" class="btn btn-default _red _fill _small b-show-message__btn-reply"\n      ng-disabled="$ctrl._communicatorDataService.selectedMessage.sender.id === \'0\'"\n      ng-click="$ctrl.goToSendPage()">Reply</button>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r, o, l, c) {
            "ngInject";
            (0, n.default)(this, e), this._$state = t, this._$sanitize = i, this._attachmentsService = a, this._communicatorDataService = s, this._modalDefaultService = r, this._requestService = o, this._userService = l, this._dateService = c, this.local = {
                isLoading: !1
            }
        }
        return e.$inject = ["$state", "$sanitize", "attachmentsService", "communicatorDataService", "modalDefaultService", "requestService", "userService", "dateService"], (0, i.default)(e, [{
            key: "downloadAttachment",
            value: function(e) {
                this._requestService.isDemoMode ? this.downloadDemoAttachment() : this.downloadLiveAttachment(e)
            }
        }, {
            key: "downloadDemoAttachment",
            value: function() {
                this._attachmentsService.downloadDocument(this._communicatorDataService.messages[0].attachments[0])
            }
        }, {
            key: "downloadLiveAttachment",
            value: function(e) {
                var t = this,
                    n = {
                        message_id: this._communicatorDataService.selectedMessage.id,
                        attachment_id: e.id
                    };
                e.isLoading = !0, this._communicatorDataService.getAttachmentFromDB(n).then(function(e) {
                    return t._attachmentsService.downloadDocument(e.attachment)
                }).finally(function() {
                    e.isLoading = !1
                })
            }
        }, {
            key: "recordMessage",
            value: function() {
                var e = this;
                this.local.isLoading = !0, this._communicatorDataService.sendMessageLog({
                    message_recipient_id: this.message.id
                }).then(function() {
                    return e._communicatorDataService.selectedMessage.logged = !0
                }).finally(function() {
                    return e.local.isLoading = !1
                })
            }
        }, {
            key: "archiveMessage",
            value: function() {
                var e = this;
                this.local.isLoading = !0, this._communicatorDataService.messageArchive(this.message.id).then(function() {
                    e._communicatorDataService.isMobile() && (e._communicatorDataService.selectedMessage = null)
                }).finally(function() {
                    return e.local.isLoading = !1
                })
            }
        }, {
            key: "abortMessage",
            value: function() {
                var e = this;
                this.local.isLoading = !0, this._communicatorDataService.messageAbort(this.message.id).then(function() {
                    e._communicatorDataService.getOutboxFromDb({})
                }).finally(function() {
                    return e.local.isLoading = !1
                })
            }
        }, {
            key: "showMessage",
            value: function() {
                var e = this.message.body || this.message.subject;
                "push | sms" !== this.message.type && "push" !== this.message.type && "sms" !== this.message.type || (e = e.replace(/\bhttp[^ <]+/gi, function(e) {
                    return '<a href="' + e + '">' + e + "</a>"
                }));
                try {
                    return this._$sanitize(e)
                } catch (e) {
                    return '<p class="b-show-message__error">Message is invalid</p>'
                }
            }
        }, {
            key: "getFormattedRecipients",
            value: function(e) {
                for (var t = "", n = e.length > 4 ? 4 : e.length, i = 0; i < n; i++) {
                    t += " " + e[i].name, i < n - 1 && (t += ",")
                }
                return e.length > 4 && (t += "..."), t
            }
        }, {
            key: "goToSendPage",
            value: function() {
                this._communicatorDataService.resetRecipientsData(), this._communicatorDataService.messageType = "email", this._communicatorDataService.isReply = !0, this._$state.transitionTo("communicator.send")
            }
        }, {
            key: "showAttachmentsModal",
            value: function() {
                var e = this,
                    t = {
                        attachments: this.message.attachments,
                        download: function(t) {
                            var n = t.attachmentId;
                            return e.downloadAttachments(n)
                        }
                    };
                this._modalDefaultService.showModalWithTemplates("modal-show-attachments", t, "Attachments")
            }
        }, {
            key: "showCopiedModal",
            value: function(e) {
                var t = {
                    copied: e
                };
                this._modalDefaultService.showModalWithTemplates("modal-show-copied", t, "Sent to")
            }
        }, {
            key: "downloadAttachments",
            value: function(e) {
                var t = this,
                    n = {
                        message_id: this.message.id,
                        attachment_id: e,
                        format: 2
                    };
                return this._communicatorDataService.getAttachmentFromDB(n).then(function(e) {
                    return t._attachmentsService.downloadDocument(e.attachment)
                })
            }
        }, {
            key: "showRecipientsModal",
            value: function() {
                var e = {
                    recipients: this.message.recipients
                };
                this._modalDefaultService.showModalWithTemplates("modal-show-recipients", e, "Recipients")
            }
        }, {
            key: "isLoading",
            get: function() {
                return this.local.isLoading
            }
        }, {
            key: "message",
            get: function() {
                return this._communicatorDataService.selectedMessage
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1617));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("b-student-info", []).component("bStudentInfo", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1618)),
        i = a(t(1619));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1620);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            data: "="
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="b-student-info">\n  <div class="b-student-info__inner">\n    <pr-child-selector></pr-child-selector>\n\x3c!--      {{ $ctrl.user }}--\x3e\n    <div class="b-student-info__left" ng-if="$ctrl._windowWidthService.windowWidth > $ctrl._deviceMarginConstants.MOBILE_MARGIN">\n      <b-student-title binded-user="$ctrl.user"></b-student-title>\n    </div>\n\n    <div class="b-student-info__right">\n      <l-student-info\n        data="$ctrl.dataInfo"\n        ng-if="$ctrl.secondPartOfCurrentState === \'contact\' || $ctrl.secondPartOfCurrentState === \'account\'"></l-student-info>\n\n      <t-documents documents="$ctrl.data" ng-if="$ctrl.secondPartOfCurrentState === \'documents\'"></t-documents>\n\n      <b-medical-info data="$ctrl.data"\n                      ng-if="$ctrl.secondPartOfCurrentState === \'medical\'"></b-medical-info>\n\n      <f-absence-report ng-if="$ctrl.secondPartOfCurrentState === \'absence-reporting\'"></f-absence-report>\n\n      <b-sen-info data="$ctrl.data" ng-if="$ctrl.secondPartOfCurrentState === \'sen\'"></b-sen-info>\n    </div>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r) {
            "ngInject";
            var o = this;
            (0, n.default)(this, e), this._routeClassService = t, this._windowWidthService = i, this._deviceMarginConstants = a, this._userService = s, this.dataInfo = {}, r.$watch(function() {
                return o.data
            }, function(e) {
                o.dataInfo = angular.copy(e)
            }, !0)
        }
        return e.$inject = ["routeClassService", "windowWidthService", "deviceMarginConstants", "userService", "$scope"], (0, i.default)(e, [{
            key: "secondPartOfCurrentState",
            get: function() {
                return this._routeClassService.secondPartOfCurrentState
            }
        }, {
            key: "children",
            get: function() {
                return this._userService.user.children
            }
        }, {
            key: "user",
            get: function() {
                return this._userService.user
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1622));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("b-student-search", []).component("bStudentSearch", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1623)),
        i = a(t(1624));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1625);
    var s = {
        bindings: {
            student: "="
        },
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="b-student-search" slide-toggle-buttons>\n  <div class="b-student-search__profile" draggable draggable-config="$ctrl.draggableConfig">\n    <div class="b-student-search__profile-info">\n      <div class="b-student-search__img"\n        ng-style="{\'background-image\': \'url(\' + $ctrl._imagesConstants.DEFAULT_IMAGE + \')\'}"\n        binded-photo photo-url="{{ ::$ctrl.student.photo }}"></div>\n      <div class="b-student-search__info">\n        <div class="b-student-search__name">{{ ::$ctrl.student.resultRow }}</div>\n        <div class="b-student-search__group">{{ ::$ctrl.student.year_group_id | yearGroupIdFilter: \'year\' }} {{ ::$ctrl.student.form_group_id | yearGroupIdFilter: \'form\'}}</div>\n      </div>\n    </div>\n    <div class="b-student-search__profile-points">\n      <div class="b-student-search__behaviour">\n        {{ ::$ctrl.student.behaviour_points }}\n      </div>\n      <div class="b-student-search__achievement">\n        {{ ::$ctrl.student.achievement_points }}\n      </div>\n    </div>\n    <div class="b-student-search__toggle"></div>\n  </div>\n  <div class="b-student-search__buttons">\n    <a ui-sref="behaviour.points-behaviour"\n       class="btn btn-default _red _lightblue _left-btn"\n       ng-click="$ctrl.addToSelected()"><span>Add </span>Behaviour</a>\n    <a ui-sref="behaviour.points-achievement"\n       class="btn btn-default _green _lightblue _right-btn"\n       ng-click="$ctrl.addToSelected()"><span>Add </span> Achievement</a>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a) {
            "ngInject";
            (0, n.default)(this, e), this._behaviourDataService = a, this._studentsService = t, this._imagesConstants = i, this.local = {
                isCurrentStudentNotExist: -1
            }, this.draggableConfig = {
                leftBlock: ".b-student-search__profile-info",
                rightBlock: ".b-student-search__profile-points",
                leftBounce: 2,
                leftBounceTablet: 2.5,
                leftShiftTablet: .5,
                leftShiftDesktop: .73,
                leftBlockResistance: .685,
                leftBlockResistanceTablet: .8
            }
        }
        return e.$inject = ["studentsService", "imagesConstants", "behaviourDataService"], (0, i.default)(e, [{
            key: "addToSelected",
            value: function() {
                this._behaviourDataService.data.moveFromStartBehaviourPage = !0, this._studentsService.clearSelectedStudents(), this._studentsService.selectedStudents.push(this.student)
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(0)),
        i = s(t(1627)),
        a = s(t(1631));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = n.default.module("b-student-select", []).component("bStudentSelect", i.default).service({
        BlockStudentSelectService: a.default
    }).name;
    exports.default = r
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1628)),
        i = a(t(1629));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1630);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            student: "="
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="b-student-select">\n  <div class="b-student-select__profile"\n    ng-click="$ctrl.selectStudent()">\n    <div class="b-student-select__img"\n         ng-style="{\'background-image\': \'url(\' + $ctrl._imagesConstants.DEFAULT_IMAGE + \')\'}"\n         binded-photo photo-url="{{ ::$ctrl.student.photo }}"\n         ng-class="{\n        \'_checked\':\n          $ctrl.isSelected($ctrl.student.id)\n          || $ctrl._groupsService.selectedMembers.indexOf($ctrl.student.id) >= 0\n          && ($ctrl.secondPartOfCurrentState === \'select-behaviour\'\n          || $ctrl.secondPartOfCurrentState === \'select-achievement\'\n          || $ctrl.secondPartOfCurrentState === \'mailbox\'\n          || $ctrl._groupsService.isGroupEditModalOpen())\n    }">\n      <svg-use name="check"></svg-use>\n    </div>\n    <div class="b-student-select__name">{{ ::($ctrl.student.resultRow || $ctrl.student.fullName) }}</div>\n    <div class="b-student-select__group">\n      ({{ ::$ctrl.student.year_group_id | yearGroupIdFilter: \'year\' }} {{ ::$ctrl.student.form_group_id | yearGroupIdFilter: \'form\'}})\n    </div>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r) {
            "ngInject";
            (0, n.default)(this, e), this._clubsService = t, this._studentsService = i, this._routeClassService = a, this._imagesConstants = s, this._groupsService = r, this.local = {
                isCurrentStudentNotExist: -1,
                isLoading: !1
            }
        }
        return e.$inject = ["clubsService", "studentsService", "routeClassService", "imagesConstants", "groupsService"], (0, i.default)(e, [{
            key: "selectStudent",
            value: function() {
                var e = this;
                if (this.student.loading || "learners" === this.secondPartOfCurrentState || this.student.isNotAvailabe) return !1;
                this._groupsService.isGroupEditModalOpen() && (this._groupsService.selectedMembers.indexOf(this.student.id) >= 0 ? this._groupsService.selectedMembers = this._groupsService.selectedMembers.filter(function(t) {
                    return t !== e.student.id
                }) : this._groupsService.selectedMembers.push(this.student.id)), this.isSelected(this.student.id) ? this._studentsService.selectedStudents = this._studentsService.selectedStudents.filter(function(t) {
                    return t.id !== e.student.id
                }) : this._studentsService.selectedStudents.push(this.student)
            }
        }, {
            key: "isSelected",
            value: function(e) {
                return !!this._studentsService.selectedStudents.find(function(t) {
                    return t.id === e
                })
            }
        }, {
            key: "secondPartOfCurrentState",
            get: function() {
                return this._routeClassService.secondPartOfCurrentState
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(1),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    exports.default = function e() {
        (0, a.default)(this, e)
    }
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1633));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("b-student-summary", []).component("bStudentSummary", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1634)),
        i = a(t(1635));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1636);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            type: "=",
            tab: "@",
            document: "=",
            medical: "=",
            catering: "=",
            message: "@"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="b-student-summary _behaviour _achievement"\n     ng-if="($ctrl.isBehaviour && $ctrl.tab === \'Behaviour Records\') || $ctrl.isAchievement"\n     ui-sref="{{ ::$ctrl.getNextSref() }}"\n     ng-click="$ctrl.saveCurrentType($ctrl.type); $ctrl.stopIfNotMobileView($event)"\n>\n  <div class="b-student-summary__col _date">\n    <div class="b-student-summary__data _gray">\n      {{ ::$ctrl.type.date | date:$ctrl._dateService.getDateFormat(\'defaultDate\') }}\n    </div>\n    <div class="b-student-summary__data"\n         ng-bind-html="::$ctrl.type.behaviourType"\n         ng-if="$ctrl.fullStateName.indexOf(\'behaviour.summary-behaviour-points\') !== -1">\n    </div>\n    <div class="b-student-summary__data"\n         ng-bind-html="::$ctrl.type.achievementType"\n         ng-if="$ctrl.fullStateName.indexOf(\'behaviour.summary-achievement-points\') !== -1">\n    </div>\n  </div>\n  <div class="b-student-summary__col _comment _mobile-hidden">\n    <div class="b-student-summary__data _gray"\n         ng-if="$ctrl.fullStateName.indexOf(\'behaviour.summary-behaviour-points\') !== -1">\n      {{ ::$ctrl.type.recordedTeacherFullName }}\n    </div>\n    <div class="b-student-summary__data _gray"\n         ng-if="$ctrl.fullStateName.indexOf(\'behaviour.summary-achievement-points\') !== -1">\n      {{ ::$ctrl.type.recordedTeacherFullName }}\n    </div>\n    <div class="b-student-summary__data ">\n      {{ ::($ctrl.type.comments || \'-\') }}\n    </div>\n  </div>\n  <div class="b-student-summary__col _action">\n    <div class="b-student-summary__data _gray"\n         ng-if="$ctrl.fullStateName.indexOf(\'behaviour.summary-behaviour-points\') !== -1">\n      {{ ::($ctrl.type.action || \'-\') }}\n    </div>\n    <div class="b-student-summary__data _gray"\n         ng-if="$ctrl.fullStateName.indexOf(\'behaviour.summary-achievement-points\') !== -1">\n      {{ ::($ctrl.type.activity || \'-\') }}\n    </div>\n    <div class="b-student-summary__data">\n      {{ ::($ctrl.type.lesson_information || \'-\') }}\n    </div>\n  </div>\n  <div class="b-student-summary__col _location _mobile-hidden">\n    <div class="b-student-summary__data _gray"\n         ng-if="$ctrl.tab === \'Behaviour Records\' && $ctrl.fullStateName.indexOf(\'behaviour.summary-behaviour-points\') !== -1">\n      {{ ::($ctrl.type.location || \'-\') }}\n    </div>\n    <div class="b-student-summary__data"\n         ng-if="$ctrl.tab === \'Behaviour Records\' && $ctrl.fullStateName.indexOf(\'behaviour.summary-behaviour-points\') !== -1">\n      {{ $ctrl.type.status_id | locationFilter: $ctrl._behaviourDataService.behaviourAchievementLookups.behaviour_statuses }}\n    </div>\n    <div class="b-student-summary__data"\n         ng-if="$ctrl.tab !== \'Behaviour Records\'"\n         ng-if="$ctrl.fullStateName.indexOf(\'behaviour.summary-behaviour-points\') !== -1">\n      {{ ::($ctrl.type.location || \'-\') }}\n    </div>\n    <div class="b-student-summary__data"\n         ng-if="$ctrl.fullStateName.indexOf(\'behaviour.summary-achievement-points\') !== -1">\n      {{ ::($ctrl.type.award || \'-\') }}\n    </div>\n  </div>\n  <div class="b-student-summary__col _points">\n    <div class="b-student-summary__data _points">\n      {{ ::$ctrl.type.points }}\n    </div>\n    <span class="b-student-summary__btn" ng-if="$ctrl._windowWidthService.windowWidth < $ctrl._deviceMarginConstants.MOBILE_MARGIN"></span>\n  </div>\n</div>\n\n<div class="b-student-summary _behaviour _report"\n     ng-if="($ctrl.isBehaviour && $ctrl.tab === \'Report Cards\') && $ctrl._windowWidthService.windowWidth > $ctrl._deviceMarginConstants.MOBILE_MARGIN">\n  <div class="b-student-summary__col _date">\n    <div class="b-student-summary__data">\n      {{ ::$ctrl.type.start_date | date:$ctrl._dateService.getDateFormat(\'defaultDate\') }}\n    </div>\n  </div>\n  <div class="b-student-summary__col _date">\n    <div class="b-student-summary__data">\n      {{ ::$ctrl.type.end_date | date:$ctrl._dateService.getDateFormat(\'defaultDate\') }}\n    </div>\n  </div>\n  <div class="b-student-summary__col _type">\n    <div class="b-student-summary__data">\n      {{ ::$ctrl.type.type }}\n    </div>\n  </div>\n  <div class="b-student-summary__col _comment">\n    <div class="b-student-summary__data">\n      {{ ::$ctrl.type.comments }}\n    </div>\n  </div>\n  <div class="b-student-summary__col _details" ng-if="$ctrl._userService.user.capabilities.behaviour.report_card.detail">\n    <button type="button" class="b-student-summary__btn-details"\n            ng-click="$ctrl.showReportCardModal($ctrl.type.id)"\n    ><svg-use name="search"></svg-use></button>\n  </div>\n</div>\n<div class="b-student-summary _behaviour _report" ng-if="($ctrl.isBehaviour && $ctrl.tab === \'Report Cards\') && $ctrl._windowWidthService.windowWidth <= $ctrl._deviceMarginConstants.MOBILE_MARGIN">\n  <div class="b-student-summary__col">\n    <div class="b-student-summary__row">\n      <div class="b-student-summary__title">Start Date</div>\n      <div class="b-student-summary__data">{{ ::$ctrl.type.start_date | date:$ctrl._dateService.getDateFormat(\'defaultDate\') }}</div>\n    </div>\n    <div class="b-student-summary__row">\n      <div class="b-student-summary__title">End Date</div>\n      <div class="b-student-summary__data">{{ ::$ctrl.type.end_date | date:$ctrl._dateService.getDateFormat(\'defaultDate\') }}</div>\n    </div>\n    <div class="b-student-summary__row">\n      <div class="b-student-summary__title">Behaviour Type</div>\n      <div class="b-student-summary__data">{{ ::$ctrl.type.type }}</div>\n    </div>\n    <div class="b-student-summary__row">\n      <div class="b-student-summary__title">Comment</div>\n      <div class="b-student-summary__data">{{ ::$ctrl.type.comments }}</div>\n    </div>\n    <div class="b-student-summary__row">\n      <div class="b-student-summary__title">Details</div>\n      <button type="button" class="b-student-summary__btn-details"\n              ng-click="$ctrl.showReportCardModal($ctrl.type.id)"\n      ><svg-use name="search"></svg-use></button>\n    </div>\n  </div>\n</div>\n\n<div class="b-student-summary _behaviour _detentions"\n     ng-if="($ctrl.isBehaviour && $ctrl.tab === \'Detentions\') && $ctrl._windowWidthService.windowWidth > $ctrl._deviceMarginConstants.MOBILE_MARGIN">\n  <div class="b-student-summary__col">\n    <div class="b-student-summary__data">\n      {{ ::$ctrl.type.date | date:$ctrl._dateService.getDateFormat(\'defaultDate\') }}\n    </div>\n  </div>\n  <div class="b-student-summary__col">\n    <div class="b-student-summary__data">\n      {{ ::$ctrl.type.description }}\n    </div>\n  </div>\n  <div class="b-student-summary__col">\n    <div class="b-student-summary__data">\n      {{ ::$ctrl.type.location }}\n    </div>\n  </div>\n  <div class="b-student-summary__col">\n    <div class="b-student-summary__data">\n      {{ ::$ctrl.type.start_time }}\n    </div>\n  </div>\n  <div class="b-student-summary__col">\n    <div class="b-student-summary__data">\n      {{ ::$ctrl.type.end_time }}\n    </div>\n  </div>\n  <div class="b-student-summary__col">\n    <div class="b-student-summary__data">\n      {{ ::$ctrl.type.attended }}\n    </div>\n  </div>\n</div>\n<div class="b-student-summary _behaviour _detentions" ng-if="($ctrl.isBehaviour && $ctrl.tab === \'Detentions\') && $ctrl._windowWidthService.windowWidth <= $ctrl._deviceMarginConstants.MOBILE_MARGIN">\n  <div class="b-student-summary__col">\n    <div class="b-student-summary__row">\n      <div class="b-student-summary__title">Date</div>\n      <div class="b-student-summary__data" ng-if="$ctrl.type.date">{{ $ctrl.type.date | date:$ctrl._dateService.getDateFormat(\'defaultDate\') }}</div>\n    </div>\n    <div class="b-student-summary__row" ng-if="$ctrl.type.description">\n      <div class="b-student-summary__title">Description</div>\n      <div class="b-student-summary__data">{{ $ctrl.type.description }}</div>\n    </div>\n    <div class="b-student-summary__row" ng-if="$ctrl.type.location">\n      <div class="b-student-summary__title">Location</div>\n      <div class="b-student-summary__data">{{ $ctrl.type.location }}</div>\n    </div>\n    <div class="b-student-summary__row" ng-if="$ctrl.type.start_time">\n      <div class="b-student-summary__title">Start Time</div>\n      <div class="b-student-summary__data">{{ $ctrl.type.start_time }}</div>\n    </div>\n    <div class="b-student-summary__row" ng-if="$ctrl.type.end_time">\n      <div class="b-student-summary__title">End Time</div>\n      <div class="b-student-summary__data">{{ $ctrl.type.end_time }}</div>\n    </div>\n    <div class="b-student-summary__row" ng-if="$ctrl.type.attended">\n      <div class="b-student-summary__title">End Time</div>\n      <div class="b-student-summary__data">{{ $ctrl.type.attended }}</div>\n    </div>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r, o, l) {
            "ngInject";
            (0, n.default)(this, e), this._behaviourDataService = t, this._deviceMarginConstants = i, this._routeClassService = a, this._windowWidthService = s, this._userService = r, this._modalDefaultService = o, this._dateService = l
        }
        return e.$inject = ["behaviourDataService", "deviceMarginConstants", "routeClassService", "windowWidthService", "userService", "modalDefaultService", "dateService"], (0, i.default)(e, [{
            key: "getNextSref",
            value: function() {
                return "student" === this._routeClassService.rootStateName ? this.isBehaviour ? "student.behaviour.single-behaviour-points" : "student.behaviour.single-achievement-points" : this.isBehaviour ? "behaviour.single-behaviour-points" : "behaviour.single-achievement-points"
            }
        }, {
            key: "showReportCardModal",
            value: function(e) {
                var t = {
                    reportCardId: e,
                    readonly: this._userService.checkRole("learner") || !!this._userService.user.activeChild
                };
                this._modalDefaultService.showModalWithTemplates("modal-report-card", t, "Report card details")
            }
        }, {
            key: "saveCurrentType",
            value: function(e) {
                this._behaviourDataService.currentTypeForNewPage = e
            }
        }, {
            key: "stopIfNotMobileView",
            value: function(e) {
                this._windowWidthService.windowWidth >= this._deviceMarginConstants.MOBILE_MARGIN && e.preventDefault()
            }
        }, {
            key: "isAchievement",
            get: function() {
                return this.fullStateName.indexOf("behaviour.summary-achievement-points") >= 0
            }
        }, {
            key: "isBehaviour",
            get: function() {
                return this.fullStateName.indexOf("behaviour.summary-behaviour-points") >= 0
            }
        }, {
            key: "fullStateName",
            get: function() {
                return this._routeClassService.fullStateName
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1638));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("b-student-summary-full", []).component("bStudentSummaryFull", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1639)),
        i = a(t(1640));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1641);
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="b-student-summary-full" ng-if="$ctrl._routeClassService.fullStateName.indexOf(\'single-behaviour-points\') !== -1">\n  <div class="b-student-summary-full__row">\n    <div class="b-student-summary-full__label">Location</div>\n    <div class="b-student-summary-full__data">{{$ctrl.currentType.location_id | locationFilter: $ctrl._behaviourDataService.behaviourAchievementLookups.behaviour_locations}}</div>\n  </div>\n  <div class="b-student-summary-full__row">\n    <div class="b-student-summary-full__label">Status</div>\n    <div class="b-student-summary-full__data">{{$ctrl.currentType.status_id | locationFilter: $ctrl._behaviourDataService.behaviourAchievementLookups.behaviour_statuses}}</div>\n  </div>\n  <div class="b-student-summary-full__row">\n    <div class="b-student-summary-full__label">Comments</div>\n    <div class="b-student-summary-full__data">{{$ctrl.currentType.comments || \'-\'}}</div>\n  </div>\n  <div class="b-student-summary-full__row">\n    <div class="b-student-summary-full__label">Action</div>\n    <div class="b-student-summary-full__data">{{$ctrl.currentType.action_taken.id | behaviourAction: $ctrl._behaviourDataService.behaviourAchievementLookups.behaviour_actions_taken}}</div>\n  </div>\n  <div class="b-student-summary-full__row">\n    <div class="b-student-summary-full__label">Status</div>\n    <div class="b-student-summary-full__data">{{$ctrl.currentType.status_id | behaviourStatus: $ctrl._behaviourDataService.behaviourAchievementLookups.behaviour_statuses}}</div>\n  </div>\n  <div class="b-student-summary-full__row">\n    <div class="b-student-summary-full__label">Lesson Information</div>\n    <div class="b-student-summary-full__data">{{$ctrl.currentType.lesson_information}}</div>\n  </div>\n  <div class="b-student-summary-full__row">\n    <div class="b-student-summary-full__label">Points</div>\n    <div class="b-student-summary-full__data">{{$ctrl.currentType.points}}</div>\n  </div>\n  <div class="b-student-summary-full__row">\n    <div class="b-student-summary-full__label">Teacher</div>\n    <div class="b-student-summary-full__data">{{$ctrl.currentType.recorded.employee_id | behaviourTeacher: $ctrl._behaviourDataService.data.behaviourData[$ctrl.currentId].employees}}</div>\n  </div>\n</div>\n\n<div class="b-student-summary-full" ng-if="$ctrl._routeClassService.fullStateName.indexOf(\'single-achievement-points\') !== -1">\n  <div class="b-student-summary-full__row">\n    <div class="b-student-summary-full__label">Activity</div>\n    <div class="b-student-summary-full__data">{{$ctrl.currentType.activity_id | achievementActivityFilter: $ctrl._behaviourDataService.behaviourAchievementLookups.achievement_activity_types}}</div>\n  </div>\n  <div class="b-student-summary-full__row">\n    <div class="b-student-summary-full__label">Comments</div>\n    <div class="b-student-summary-full__data">{{$ctrl.currentType.comments || \'-\'}}</div>\n  </div>\n  <div class="b-student-summary-full__row">\n    <div class="b-student-summary-full__label">Points</div>\n    <div class="b-student-summary-full__data">{{$ctrl.currentType.points}}</div>\n  </div>\n  <div class="b-student-summary-full__row">\n    <div class="b-student-summary-full__label">Lesson Information</div>\n    <div class="b-student-summary-full__data">{{$ctrl.currentType.lesson_information}}</div>\n  </div>\n  <div class="b-student-summary-full__row">\n    <div class="b-student-summary-full__label">Teacher</div>\n    <div class="b-student-summary-full__data">{{$ctrl.currentType.recorded.employee_id | behaviourTeacher: $ctrl._behaviourDataService.data.achievementData[$ctrl.currentId].employees}}</div>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(1),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    var s = function e(t, n, i) {
        "ngInject";
        (0, a.default)(this, e), this._behaviourDataService = t, this._userService = n, this._routeClassService = i, this.currentType = this._behaviourDataService.currentTypeForNewPage, this.currentId = this._userService.user.idFromLastAction
    };
    s.$inject = ["behaviourDataService", "userService", "routeClassService"], exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1643));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("b-student-summary-title", []).component("bStudentSummaryTitle", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1644)),
        i = a(t(1645));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1646);
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="b-student-summary-title" ng-if="$ctrl._routeClassService.fullStateName.indexOf(\'single-behaviour-points\') !== -1">\n  <div class="b-student-summary-title__title"\n       ng-repeat="item in $ctrl.currentType.type_ids">\n    {{ item | behaviourTypes: $ctrl._behaviourDataService.behaviourAchievementLookups.behaviour_types}}\n  </div>\n  <div class="b-student-summary-title__date">{{$ctrl.currentType.date}}</div>\n</div>\n\n<div class="b-student-summary-title" ng-if="$ctrl._routeClassService.fullStateName.indexOf(\'single-achievement-points\') !== -1">\n  <div class="b-student-summary-title__title"\n       ng-repeat="item in $ctrl.currentType.type_ids">\n    {{ item | behaviourTypes: $ctrl._behaviourDataService.behaviourAchievementLookups.achievement_types}}\n  </div>\n  <div class="b-student-summary-title__date">{{$ctrl.currentType.date}}</div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(1),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    var s = function e(t, n) {
        "ngInject";
        (0, a.default)(this, e), this._behaviourDataService = t, this._routeClassService = n, this.currentType = this._behaviourDataService.currentTypeForNewPage
    };
    s.$inject = ["behaviourDataService", "routeClassService"], exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1648));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("b-student-title", []).component("bStudentTitle", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1649)),
        i = a(t(1650));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1651);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            user: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="b-student-title" ng-if="$ctrl.showStudentPhoto()">\n  <div class="b-student-title__photo"\n    binded-photo\n    photo-url="{{ $ctrl.user.photo }}"\n    photo-repeat="true">\n  </div>\n  <div class="b-student-title__title">\n    {{ ::($ctrl.user.fullName || ($ctrl.user.forename + \' \' + $ctrl.user.surname)) }}\n  </div>\n  <div class="b-student-title__info">\n    {{ ::$ctrl.user.year_group_id | yearGroupIdFilter: \'year\' }} {{ ::$ctrl.user.form_group_id | yearGroupIdFilter: \'form\'}}\n  </div>\n</div>\n\n<div class="b-student-title"\n  ng-if="$ctrl.secondPartOfCurrentState === \'account\' || $ctrl.secondPartOfCurrentState === \'contact\'\n      || $ctrl.secondPartOfCurrentState === \'sen\'">\n  <div class="b-student-title__photo"\n    binded-photo\n    photo-url="{{ $ctrl._userService.user.activeChild || $ctrl._userService.user.activeStudent ? !$ctrl.child.photo ? $ctrl._studentsService.getDefaultPhoto($ctrl.child) : $ctrl.child.photo : $ctrl._userService.user.photo }}"\n    photo-repeat="true">\n  </div>\n  <div class="b-student-title__title">\n    {{ ::$ctrl.dataForPage.forename }} {{ ::$ctrl.dataForPage.surname }}\n  </div>\n</div>\n\n<div class="b-student-title"\n  ng-if="$ctrl.secondPartOfCurrentState === \'absence-reporting\' || $ctrl.secondPartOfCurrentState === \'medical\'">\n  <div class="b-student-title__photo"\n    binded-photo\n    photo-url="{{ $ctrl._userService.user.activeChild || $ctrl._userService.user.activeStudent ? !$ctrl.child.photo ? $ctrl._studentsService.getDefaultPhoto($ctrl.child) : $ctrl.child.photo : $ctrl._userService.user.photo }}"\n    photo-repeat="true">\n  </div>\n  <div class="b-student-title__title"\n    ng-if="$ctrl._userService.user.activeChild">\n    {{ ::$ctrl._userService.user.activeChild.forename }} {{ ::$ctrl._userService.user.activeChild.surname }}\n  </div>\n  <div class="b-student-title__title"\n    ng-if="$ctrl._userService.user.activeStudent">\n    {{ ::$ctrl._userService.user.activeStudent.forename }} {{ ::$ctrl._userService.user.activeStudent.surname }}\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(10)),
        i = s(t(1)),
        a = s(t(2));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = function() {
        function e(t, n, a, s) {
            "ngInject";
            (0, i.default)(this, e), this._routeClassService = t, this._personalDataService = n, this._userService = a, this._studentsService = s, this.initValues()
        }
        return e.$inject = ["routeClassService", "personalDataService", "userService", "studentsService"], (0, a.default)(e, [{
            key: "initValues",
            value: function(e) {
                this.local && !e || (this.local = {
                    user: null,
                    student: null,
                    studentPhotoStates: ["behaviour.points-behaviour", "student.behaviour.points-behaviour", "documents-message.types", "registers.register", "behaviour.points-achievement", "student.behaviour.points-achievement", "clubs.register"]
                })
            }
        }, {
            key: "showStudentPhoto",
            value: function() {
                return this.studentPhotoStates.includes(this._routeClassService.fullStateName)
            }
        }, {
            key: "initUser",
            value: function(e) {
                this.local = (0, n.default)({}, this.local, {
                    user: e,
                    student: e.activeStudent || e.activeChild || e
                })
            }
        }, {
            key: "bindedUser",
            set: function(e) {
                e && this.initUser(e)
            }
        }, {
            key: "studentPhotoStates",
            get: function() {
                return this.local.studentPhotoStates || []
            }
        }, {
            key: "child",
            get: function() {
                return this._userService.user.activeChild || this._userService.user.activeStudent
            }
        }, {
            key: "secondPartOfCurrentState",
            get: function() {
                return this._routeClassService.secondPartOfCurrentState
            }
        }, {
            key: "fullStateName",
            get: function() {
                return this._routeClassService.fullStateName
            }
        }, {
            key: "dataForPage",
            get: function() {
                var e = this._userService.user.idFromLastAction;
                return this._personalDataService.personal[e]
            }
        }]), e
    }();
    exports.default = r
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1653));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("b-tabs-nav", []).component("bTabsNav", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1654)),
        i = a(t(1655));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1656);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            menu: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="b-tabs-nav">\n  <div class="b-tabs-nav__item"\n       ng-class="{ _active: item.active }"\n       ng-repeat="item in $ctrl.menu track by $index">\n    <button type="button" class="b-tabs-nav__btn" ng-click="$ctrl.selectTab(item.state)">\n      {{ ::item.name }}\n    </button>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a) {
            "ngInject";
            (0, n.default)(this, e), this._$state = t, this._$stateParams = i, this._attendanceService = a
        }
        return e.$inject = ["$state", "$stateParams", "attendanceService"], (0, i.default)(e, [{
            key: "$onInit",
            value: function() {
                this.setActiveTab(this._$state.current.name)
            }
        }, {
            key: "setActiveTab",
            value: function(e) {
                this.menu.forEach(function(t) {
                    t.state !== e ? t.active = !1 : t.active = !0
                })
            }
        }, {
            key: "selectTab",
            value: function(e) {
                this._$state.current.name !== e && (this.setActiveTab(e), this._$state.transitionTo(e, null, {
                    notify: !1
                }))
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1658));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("b-tabs", []).component("bTabs", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1659)),
        i = a(t(1660));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1661);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            data: "="
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="b-tabs">\n  <div class="b-tabs__nav-wrapper">\n    <ui-select ng-model="$ctrl._assessmentService.activeSelect"\n               theme="selectize"\n               class="select-default _week-select b-tabs__capitalize"\n               search-enabled="false"\n               ng-change="$ctrl._assessmentService.getCurrentTabs()"\n               ng-if="$ctrl._windowWidthService.windowWidth > $ctrl._deviceMarginConstants.MOBILE_MARGIN">\n      <ui-select-match placeholder="Year">{{ $select.selected.name ? $select.selected.name : $select.selected }}\n      </ui-select-match>\n      <ui-select-choices repeat="option in $ctrl._assessmentService.selectOptions track by $index">\n        <span>{{ ::option }}</span>\n      </ui-select-choices>\n    </ui-select>\n    <select class="b-tabs__select"\n            ng-model="$ctrl._assessmentService.activeSelect"\n            ng-change="$ctrl.changeTabs()"\n            ng-options="option for option in $ctrl._assessmentService.selectOptions">\n    </select>\n    <sl-assessments ng-if="$ctrl._windowWidthService.windowWidth <= $ctrl._deviceMarginConstants.MOBILE_MARGIN && $ctrl._assessmentService.isDataInit"\n                    menu="$ctrl._assessmentService.currentTabs"\n                    config="$ctrl.config">\n    </sl-assessments>\n\n    <ul class="b-tabs__nav"\n        ng-if="$ctrl._windowWidthService.windowWidth > $ctrl._deviceMarginConstants.MOBILE_MARGIN">\n      <li class="b-tabs__nav-item" ng-click="$ctrl._assessmentService.renderTab($event, tab)"\n          ng-repeat="tab in $ctrl._assessmentService.currentTabs"\n          ng-class="{ \'_current\': $ctrl._assessmentService.currentTab === tab }">\n        {{ tab }}\n      </li>\n    </ul>\n  </div>\n\n  <div class="b-tabs__wrapper"\n       ng-if="$ctrl._windowWidthService.windowWidth > $ctrl._deviceMarginConstants.MOBILE_MARGIN">\n    <div class="b-tabs__content _assessment">\n      <div class="b-tabs__bottom" ng-if="!$ctrl._assessmentService.activeTabData">\n        <div class="b-tabs__warning">No data for selected year.</div>\n      </div>\n      <div class="b-tabs__bottom" ng-if="$ctrl._assessmentService.activeTabData">\n        <div class="b-tabs__header" ng-bind-html="$ctrl._assessmentService.activeTabData.header"></div>\n        <table class="b-tabs__table">\n          <thead class="b-tabs__tbody">\n          <tr>\n            <th ng-repeat="headCol in $ctrl._assessmentService.activeTabData.formattedTables.thead track by $index"\n              ng-if="headCol.visible"\n              ng-style="$ctrl.parseStyles(headCol)">\n              {{ headCol.content }}\n            </th>\n          </tr>\n          </thead>\n          <tbody class="b-tabs__tbody" ng-repeat="tableRow in $ctrl._assessmentService.activeTabData.formattedTables.tbody track by $index">\n          <tr>\n            <td ng-repeat="tableCol in tableRow.data" ng-if="tableCol.visible" ng-style="$ctrl.parseStyles(tableCol)">\n              {{ tableCol.content }}\n              <button class="b-tabs__open-table"\n                      ng-class="{ \'_opened\': tableRow.showSubTables }"\n                      ng-if="$index === 0 && tableRow.subTables.length"\n                      ng-click="tableRow.showSubTables = !tableRow.showSubTables">\n              </button>\n            </td>\n          </tr>\n          <tr class="b-tabs__subtable"\n              ng-if="tableRow.showSubTables && tableRow.subTables.length">\n            <td colspan="{{ ::tableRow.data.length }}">\n              <b-tabs-subgrid ng-repeat="subTable in tableRow.subTables" subgrid="subTable"></b-tabs-subgrid>\n            </td>\n          </tr>\n          </tbody>\n        </table>\n        <div class="b-tabs__footer" ng-bind-html="$ctrl._assessmentService.activeTabData.footer"></div>\n      </div>\n    </div>\n  </div>\n\n  <div class="b-tabs__wrapper"\n       ng-if="$ctrl._windowWidthService.windowWidth <= $ctrl._deviceMarginConstants.MOBILE_MARGIN && $ctrl._assessmentService.isDataInit">\n    <div class="b-tabs__content _assessment">\n      <div class="b-tabs__bottom" ng-if="!$ctrl._assessmentService.activeTabData">\n        <div class="b-tabs__warning">No data for selected year.</div>\n      </div>\n      <div class="b-tabs__bottom" ng-if="$ctrl._assessmentService.activeTabData">\n        <div class="b-tabs__header" ng-bind-html="$ctrl._assessmentService.activeTabData.header"></div>\n        <div class="t-default__row b-tabs__row" ng-repeat="card in $ctrl._assessmentService.activeTabData.mobileViewData">\n          <div ng-repeat="row in card" class="b-tabs__text" ng-class="{\'_bold\': !row.fullName.length}" ng-if="row.visible">\n            <span ng-if="row.fullName.length" class="b-tabs__text-inner _title">\n              {{row.fullName}}\n            </span>\n            <span class="b-tabs__text-inner _value _colored"\n                  ng-if="row.fullName.length && row.content.length"\n                  ng-style="$ctrl.parseStyles(row)">\n              {{row.content}}\n            </span>\n            <span class="b-tabs__text-inner _value"\n                  ng-if="!row.fullName.length">\n              {{row.content}}\n            </span>\n          </div>\n        </div>\n        <div class="b-tabs__footer" ng-bind-html="$ctrl._assessmentService.activeTabData.footer"></div>\n      </div>\n    </div>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r) {
            "ngInject";
            (0, n.default)(this, e), this._$state = t, this._assessmentService = r, this._deviceMarginConstants = s, this._userService = a, this._windowWidthService = i, this.local = {
                dataLoaded: !0,
                arrayOfWeeks: [],
                requestIsSended: null,
                reverse: !1,
                datetimeReverse: !0
            }, this.reverse = {}, this.currentWeek = null, this.currentPage = null, this.todayPage = null, this.config = {}
        }
        return e.$inject = ["$state", "windowWidthService", "userService", "deviceMarginConstants", "AssessmentService"], (0, i.default)(e, [{
            key: "$onInit",
            value: function() {
                this.initSlides()
            }
        }, {
            key: "initSlides",
            value: function() {
                var e = this,
                    t = this._assessmentService.currentTabs.findIndex(function(t) {
                        return t === e._assessmentService.currentTab
                    });
                this.config = {
                    swipeToSlide: !0,
                    slidesToShow: 1,
                    centerMode: !0,
                    dots: !0,
                    infinite: !0,
                    speed: 500,
                    cssEase: "ease-out",
                    centerPadding: "50px",
                    arrows: !0,
                    initialSlide: t,
                    event: {
                        afterChange: function(t, n, i) {
                            return e.changeSlide(t, i)
                        }
                    }
                }
            }
        }, {
            key: "changeSlide",
            value: function(e, t) {
                this._assessmentService.renderTab(e, this._assessmentService.currentTabs[t])
            }
        }, {
            key: "changeTabs",
            value: function() {
                this._assessmentService.isDataInit = !1, this._assessmentService.getCurrentTabs()
            }
        }, {
            key: "$onDestroy",
            value: function() {
                this._assessmentService.initValues(!0)
            }
        }, {
            key: "parseStyles",
            value: function(e) {
                var t = e.css;
                return t && angular.isString(t) ? t.replace(" ", "").split(";").reduce(function(e, t) {
                    if (t) {
                        var n = t.split(":");
                        e[n[0].trim()] = n[1].trim()
                    }
                    return e
                }, {}) : null
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1663));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("b-tabs-subgrid", []).component("bTabsSubgrid", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1664)),
        i = a(t(1665));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1666);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            subgrid: "="
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="b-tabs-subgrid">\n  <div class="b-tabs-subgrid__title">{{ ::$ctrl.subgrid.name }}</div>\n  <div ng-bind-html="$ctrl.subgrid.header"></div>\n  <table class="b-tabs-subgrid__table">\n    <thead class="b-tabs-subgrid__thead">\n      <tr>\n        <th ng-repeat="headCol in $ctrl.subgrid.thead track by $index"\n            ng-if="headCol.visible"\n            ng-style="$ctrl.parseStyles(headCol)">\n          {{ ::headCol.content }}\n        </th>\n      </tr>\n    </thead>\n    <tbody class="b-tabs-subgrid__tbody">\n      <tr ng-repeat="tableRow in $ctrl.subgrid.tbody track by $index">\n        <td ng-repeat="tableCol in tableRow.data" ng-if="tableCol.visible" ng-style="$ctrl.parseStyles(tableCol)">\n          {{ ::tableCol.content }}\n        </td>\n      </tr>\n    </tbody>\n  </table>\n  <div ng-bind-html="$ctrl.subgrid.footer"></div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e() {
            (0, n.default)(this, e)
        }
        return (0, i.default)(e, [{
            key: "parseStyles",
            value: function(e) {
                var t = e.css;
                return t && angular.isString(t) ? t.replace(" ", "").split(";").reduce(function(e, t) {
                    if (t) {
                        var n = t.split(":");
                        e[n[0].trim()] = n[1].trim()
                    }
                    return e
                }, {}) : null
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1668));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("b-user-select", []).component("bUserSelect", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1669)),
        i = a(t(1670));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1671);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            user: "=",
            isSelected: "&",
            select: "&"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="b-user-select">\n  <div class="b-user-select__profile"\n       ng-click="$ctrl.select({ user: $ctrl.user })">\n    <div class="b-user-select__img"\n         ng-style="{\'background-image\': \'url(\' + $ctrl._imagesConstants.DEFAULT_IMAGE + \')\'}"\n         binded-photo photo-url="{{ ::$ctrl.user.photo }}"\n         ng-class="{ \'_checked\': $ctrl.isSelected({ user: $ctrl.user })}">\n      <svg-use name="check"></svg-use>\n    </div>\n    <div class="b-user-select__name">\n      {{ $ctrl.user.fullName ? $ctrl.user.fullName : $ctrl.user.forename + \' \' + $ctrl.user.surname }}\n    </div>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(1),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    var s = function e(t) {
        "ngInject";
        (0, a.default)(this, e), this._imagesConstants = t
    };
    s.$inject = ["imagesConstants"], exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1673));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("b-teaching-groups", []).component("bTeachingGroups", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1674)),
        i = a(t(1675));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1676);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            subjects: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="b-teaching-groups">\n  <div class="b-teaching-groups__item"\n       ng-class="{ _opened: subject.isOpen }"\n       ng-repeat="subject in $ctrl.subjects track by $index"\n  >\n    <div class="b-teaching-groups__subject"\n         ng-click="$ctrl.toggleSubject(subject)"\n    >\n      <div>{{ subject[0].subject }}</div>\n      <label class="b-teaching-groups__checkbox f-default__label"\n             ng-init="removedAll = true"\n             ng-class="{ \'_checkbox-checked\': removedAll }"\n      >\n        <input type="checkbox"\n               class="b-teaching-groups__checkbox-input"\n               ng-change="$ctrl.toggleTeachersCheckbox(subject)"\n               ng-model="removedAll"\n        >\n        <span class="b-teaching-groups__checkbox-title"></span>\n      </label>\n    </div>\n    <ul class="b-teaching-groups__groups" ng-if="subject.isOpen">\n      <li class="b-teaching-groups__group" ng-repeat="group in subject track by $index">\n        <div class="b-teaching-groups__name">{{ group.name }}</div>\n        <l-photos-group class="b-teaching-groups__photos"\n                        ng-if="group.selectedTeachers && group.selectedTeachers.length"\n                        ng-class="{_plus: group.teachers.length > 1}"\n                        ng-click="$ctrl.showTeachersSelectModal(group.teachers, group.selectedTeachers)"\n                        count="$ctrl.data.PHOTOS_LIMIT"\n                        items="group.selectedTeachers"\n        ></l-photos-group>\n\n        <button type="button" class="b-teaching-groups__btn-add"\n                ng-click="$ctrl.showTeachersSelectModal(group.teachers, group.selectedTeachers)"\n                ng-if="!group.selectedTeachers || !group.selectedTeachers.length"\n        ></button>\n      </li>\n    </ul>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(26)),
        i = s(t(1)),
        a = s(t(2));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = function() {
        function e(t, n) {
            "ngInject";
            (0, i.default)(this, e), this._teachersService = t, this._modalDefaultService = n, this.initValues()
        }
        return e.$inject = ["teachersService", "modalDefaultService"], (0, a.default)(e, [{
            key: "initValues",
            value: function(e) {
                this.data && !e || (this.data = {
                    PHOTOS_LIMIT: 1
                })
            }
        }, {
            key: "$onInit",
            value: function() {
                this.addTeachersToGroups()
            }
        }, {
            key: "toggleSubject",
            value: function(e) {
                e.isOpen = !e.isOpen
            }
        }, {
            key: "toggleTeachersCheckbox",
            value: function(e) {
                e.forEach(function(e) {
                    angular.isUndefined(e.removedTeachers) && (e.removedTeachers = []), e.selectedTeachers.length ? (e.removedTeachers = e.selectedTeachers, e.selectedTeachers = []) : (e.selectedTeachers = e.removedTeachers, e.removedTeachers = [])
                })
            }
        }, {
            key: "addTeachersToGroups",
            value: function() {
                var e = this;
                (0, n.default)(this.subjects).forEach(function(t) {
                    e.subjects[t].forEach(function(t) {
                        t.teachers = [], t.selectedTeachers = [];
                        var n = e._teachersService.employees.find(function(e) {
                            return e.id === t.main_teacher_id
                        });
                        t.teacher_ids.forEach(function(i) {
                            n && n.id === String(i) && t.selectedTeachers.push(n);
                            var a = e._teachersService.employees.find(function(e) {
                                return e.id === String(i)
                            });
                            a && t.teachers.push(a)
                        })
                    })
                })
            }
        }, {
            key: "showTeachersSelectModal",
            value: function(e, t) {
                var n = {
                    teachers: e,
                    selectedTeachers: t
                };
                this._modalDefaultService.showModalWithTemplates("modal-teachers-select", n, "Select Teacher")
            }
        }]), e
    }();
    exports.default = r
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1678));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("b-timetable", []).component("bTimetable", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1679)),
        i = a(t(1680));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1681);
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="b-timetable">\n  <div class="b-timetable__inner">\n    <div class="b-timetable__nav-wrapper">\n      <ui-select ng-model="$ctrl._timetableService.currentWeek"\n                 theme="selectize"\n                 class="select-default _week-select"\n                 search-enabled="false"\n                 ng-change="$ctrl._changeWeek($select.selected)"\n                 ng-if="$ctrl._windowWidthService.windowWidth > $ctrl._deviceMarginConstants.MOBILE_MARGIN">\n        <ui-select-match placeholder="Week">{{ $select.selected.name || $select.selected }}</ui-select-match>\n        <ui-select-choices repeat="week in $ctrl._timetableService.weeks track by $index">\n          <span>{{ ::week.name }}</span>\n        </ui-select-choices>\n      </ui-select>\n      <select class="b-timetable__select"\n              ng-if="$ctrl._timetableService.currentWeek"\n              ng-model="$ctrl._timetableService.currentWeek"\n              ng-options="week as week.name for week in $ctrl._timetableService.weeks"\n              ng-change="$ctrl._changeWeek()">\n      </select>\n\n      <ul class="b-timetable__nav" ng-if="$ctrl._windowWidthService.windowWidth > $ctrl._deviceMarginConstants.MOBILE_MARGIN">\n        <li class="b-timetable__nav-item no-animate"\n            ng-click="$ctrl._changeDay($event, day)"\n            ng-repeat="day in $ctrl._timetableService.currentWeek.days"\n            ng-class="{ \'_current\': $ctrl._isDaySelected(day) }">\n          {{ day.name }}\n        </li>\n      </ul>\n      <ul class="b-timetable__nav" ng-if="$ctrl._windowWidthService.windowWidth <= $ctrl._deviceMarginConstants.MOBILE_MARGIN">\n        <sl-tabs ng-if="$ctrl._timetableService.currentWeek && $ctrl._timetableService.isDataInit"\n                 config="$ctrl.slickConfig"\n                 init="$ctrl._timetableService.isDataInit"\n                 days="$ctrl._timetableService.currentWeek.days"\n                 day="$ctrl._timetableService.currentDay"></sl-tabs>\n      </ul>\n    </div>\n\n    <div class="b-timetable__wrapper">\n      <div class="b-timetable__content">\n        <t-timetable></t-timetable>\n      </div>\n      <l-teachers-timetable ng-if="$ctrl._windowWidthService.windowWidth > $ctrl._deviceMarginConstants.MOBILE_MARGIN"></l-teachers-timetable>\n    </div>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r, o, l, c, d, u, _, f) {
            "ngInject";
            var v = this;
            (0, n.default)(this, e), this._$scope = i, this._$rootScope = a, this._$state = s, this._$filter = t, this.orderBy = t("orderBy"), this._$stateParams = o, this._windowWidthService = c, this._timetableService = _, this._routeClassService = r, this._deviceMarginConstants = u, this._userService = d, this._$timeout = f, this._requestService = l, this._$scope.$on("$destroy", function() {
                v._timetableService.initValues(!0)
            });
            var m = this._$rootScope.$on("userChangeUser", this._setDataToNewUser.bind(this));
            this._$scope.$on("$destroy", m)
        }
        return e.$inject = ["$filter", "$scope", "$rootScope", "$state", "routeClassService", "$stateParams", "requestService", "windowWidthService", "userService", "deviceMarginConstants", "timetableService", "$timeout"], (0, i.default)(e, [{
            key: "$onInit",
            value: function() {
                this.slickConfig = this.getTimetableSlickConfig()
            }
        }, {
            key: "_setDataToNewUser",
            value: function(e, t) {
                var n = this._requestService.getDateToRequest(),
                    i = t,
                    a = t,
                    s = null;
                this._userService.user.activeChild || this._userService.user.activeStudent ? s = {
                    date: n,
                    learner_id: i
                } : this._userService.checkRole("employee") ? s = {
                    date: n,
                    employee_id: a
                } : (this._userService.checkRole("learner") || this._userService.checkRole("parent")) && (s = {
                    date: n,
                    learner_id: i
                }), this._timetableService.getTimetableDataFromDb(s, !0)
            }
        }, {
            key: "_changeDay",
            value: function(e, t) {
                this._timetableService.updateCurrentDay(t)
            }
        }, {
            key: "_changeWeek",
            value: function(e) {
                this._timetableService.isDataInit = !1, this._timetableService.updateCurrentWeek(e || this._timetableService.currentWeek)
            }
        }, {
            key: "_isDaySelected",
            value: function(e) {
                return this._timetableService.currentDay.name === e.name
            }
        }, {
            key: "getTimetableSlickConfig",
            value: function() {
                var e = this;
                return {
                    enabled: !0,
                    swipeToSlide: !0,
                    slidesToShow: 1,
                    centerMode: !0,
                    dots: !0,
                    infinite: !1,
                    arrows: !0,
                    slide: this.arrayOfDays || [],
                    speed: 0,
                    cssEase: "ease-out",
                    centerPadding: "0",
                    initialSlide: 0,
                    event: {
                        afterChange: function() {
                            var t = angular.element(".slick-current").text().trim();
                            e._changeDay(null, e._timetableService._getCurrentDayByName(t))
                        },
                        init: function(t, n) {
                            var i = e._timetableService.getCurrentDayIndex();
                            n.slickGoTo(i), n.slickSetOption("speed", 500)
                        }
                    }
                }
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1683));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("b-title", []).component("bTitle", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1684)),
        i = a(t(1685));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1686);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            goBack: "&",
            name: "@",
            sref: "@"
        },
        transclude: {
            controls: "?bTitleControls"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="b-title" ng-if="$ctrl._windowWidthService.windowWidth > $ctrl._deviceMarginConstants.MOBILE_MARGIN">\n  <button class="btn-close"\n          ng-if="!$ctrl.sref || !$ctrl.sref.length"\n          type="button"\n          ng-click="$ctrl.goBack()">\n    <svg-use name="cross" class="btn-close__svg"></svg-use>\n  </button>\n  <div class="b-title__controls" ng-transclude="controls"></div>\n  <a class="btn-close"\n     ng-click="$ctrl.checkBlockedTransition($event)"\n     ui-sref="{{ ::$ctrl.sref }}"\n     ng-if="$ctrl.sref && $ctrl.sref.length">\n    <svg-use name="cross" class="btn-close__svg"></svg-use>\n  </a>\n  <div class="b-title__text">{{ ::$ctrl.name }}</div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s) {
            "ngInject";
            (0, n.default)(this, e), this._windowWidthService = t, this._deviceMarginConstants = i, this._routeClassService = a, this._$blockedTransitionService = s
        }
        return e.$inject = ["windowWidthService", "deviceMarginConstants", "routeClassService", "blockedTransitionService"], (0, i.default)(e, [{
            key: "checkBlockedTransition",
            value: function(e) {
                this._$blockedTransitionService.isTransitionBlocked && (e.preventDefault(), this._$blockedTransitionService._showModal())
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1688));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("b-video-call", []).component("bVideoCall", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1689)),
        i = a(t(1690));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1805);
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="b-video-call">\n  <div class="b-video-call__title">\n    {{ ::$ctrl._parentsEveningService.appointments.event.name }}\n  </div>\n\n  <div class="b-video-call__content" ng-if="$ctrl.appointments.length && !$ctrl.isMediaPermissionDeniedError">\n    <div class="b-video-call__info" ng-if="$ctrl.currentAppointment.started">\n      The appointment with {{$ctrl.currentAppointment.participantName}} will finish in <span ng-bind-html="$ctrl.currentAppointment.formattedStartedAppointmentCounter"></span>.\n    </div>\n    <div class="b-video-call__info" ng-if="!$ctrl.currentAppointment.started">\n      Your next appointment starts in <span ng-bind-html="$ctrl.currentAppointment.formattedNextAppointmentCounter"></span> with {{$ctrl.currentAppointment.participantName}}.\n    </div>\n\n    <div id="media"\n      class="b-video-call__media"\n      ng-style="{ \'height\': $ctrl._windowWidthService.windowWidth <= $ctrl._deviceMarginConstants.MOBILE_MARGIN ? $ctrl._$window.innerHeight : \'auto\' }"\n    >\n      <div class="b-video-call__remote-media-wrapper">\n        <div class="b-video-call__remote-media-wrapper-inner">\n          <div id="remote-media-div" class="b-video-call__remote-media-content"></div>\n        </div>\n        <div class="b-video-call__participant"\n          ng-if="$ctrl.currentAppointment.started"\n          ng-class="{_end: $ctrl.currentAppointment.endSoon}"\n        >\n          <span ng-if="!$ctrl.remoteVideoTrack">\n             Waiting for: {{ $ctrl.currentAppointment.participantName }}\n          </span>\n\n          <span ng-if="$ctrl.remoteVideoTrack && !$ctrl.remoteVideoTrack.isTrackEnabled">\n            {{ $ctrl.currentAppointment.participantName }} (has video disabled)\n          </span>\n        </div>\n      </div>\n      <div class="b-video-call__local-media-wrapper" ng-class="{_disabled: !$ctrl.localVideoTrack.isEnabled}">\n        <div class="b-video-call__local-media-wrapper-inner">\n          <div id="local-media" class="b-video-call__local-media-content"></div>\n        </div>\n      </div>\n    </div>\n\n    <div class="b-video-call__actions">\n      <button type="button"\n        title="End call"\n        class="b-video-call__action-btn _end-call"\n        ng-disabled="!$ctrl.activeRoom"\n        ng-click="$ctrl.endCall()">\n        <svg-use name="call-end"></svg-use>\n      </button>\n      <button type="button"\n        title="Toggle video"\n        class="b-video-call__action-btn _video"\n        ng-click="$ctrl.toggleVideo()"\n        ng-disabled="!$ctrl.localVideoTrack">\n        <svg-use name="camera"\n          ng-show="!$ctrl.localVideoTrack || $ctrl.localVideoTrack.isEnabled"\n          class="no-animate"></svg-use>\n        <svg-use name="camera-crossed"\n          ng-show="$ctrl.localVideoTrack && !$ctrl.localVideoTrack.isEnabled"\n          class="no-animate"></svg-use>\n      </button>\n      <button type="button"\n        title="Toggle audio"\n        class="b-video-call__action-btn _mute"\n        ng-click="$ctrl.toggleMicrophone()"\n        ng-disabled="!$ctrl.localAudioTrack">\n        <svg-use class="no-animate"\n          ng-show="!$ctrl.localAudioTrack || $ctrl.localAudioTrack.isEnabled"\n          name="mute"></svg-use>\n        <svg-use class="no-animate"\n          ng-show="$ctrl.localAudioTrack && !$ctrl.localAudioTrack.isEnabled"\n          name="mute-crossed"></svg-use>\n      </button>\n    </div>\n\n    <t-appointments\n      appointments="$ctrl.appointments"\n      ng-if="$ctrl._windowWidthService.windowWidth > $ctrl._deviceMarginConstants.MOBILE_MARGIN\n      || !$ctrl._parentsEveningService.room && $ctrl._windowWidthService.windowWidth <= $ctrl._deviceMarginConstants.MOBILE_MARGIN"></t-appointments>\n  </div>\n\n  <div class="b-video-call__message" ng-if="!$ctrl.appointments.length">There are no appointments.</div>\n  <div class="b-video-call__message" ng-if="$ctrl.appointments.length && $ctrl.isMediaPermissionDeniedError">\n    You have to allow browser to use your camera and microphone, then reload the page\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = l(t(194)),
        i = l(t(1691)),
        a = l(t(10)),
        s = l(t(1)),
        r = l(t(2)),
        o = t(1694);

    function l(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var c = function() {
        function e(t, n, i, a, r, o, l, c, d, u, _, f) {
            "ngInject";
            (0, s.default)(this, e), this._windowWidthService = t, this._deviceMarginConstants = n, this._parentsEveningService = i, this._userService = a, this._notificationService = r, this._sessionStorage = f.sessionStorage, this._$stateParams = l, this._$interval = c, this._$window = d, this._$timeout = u, this._$sce = _, this._requestService = o, this.appointments = [], this.currentAppointment = null, this.localVideoTrack = null, this.localAudioTrack = null, this.disconnectInterval = null, this.connectInterval = null, this.pingInterval = null, this.isMediaPermissionDeniedError = !1, this.blurProcessor = null
        }
        return e.$inject = ["windowWidthService", "deviceMarginConstants", "parentsEveningService", "userService", "notificationService", "requestService", "$stateParams", "$interval", "$window", "$timeout", "$sce", "$storageService"], (0, r.default)(e, [{
            key: "$onInit",
            value: function() {
                var e = this;
                this.eventId = Number(this._$stateParams.event_id);
                var t = moment(this._parentsEveningService.appointments.now).valueOf();
                if (this.timeDifference = t - moment().valueOf(), this.appointments = this.getActualAppointments(), o.isSupported) this.appointments.length ? (this.initPinger(), this.setLocalMedia().then(function() {
                    e.handleAppointments()
                })) : this.closeWindowAfterDelay();
                else {
                    var n = this._$window.devicejs.ios() ? "This browser does not support video calls. Use Safari for video calls." : "This browser does not support video calls.";
                    this._notificationService.showErrorNotification(n)
                }
            }
        }, {
            key: "initPinger",
            value: function() {
                var e = this;
                this.pingInterval = this._$interval(function() {
                    e._requestService.getData("other", "ping")
                }, 3e5, 144)
            }
        }, {
            key: "closeWindowAfterDelay",
            value: function() {
                var e = this;
                this._$timeout(function() {
                    e._$window.close()
                }, 3e4)
            }
        }, {
            key: "getTime",
            value: function() {
                return moment().valueOf() + this.timeDifference
            }
        }, {
            key: "handleAppointments",
            value: function() {
                this.currentAppointment = (0, a.default)({}, this.appointments[0]), this.currentAppointment.participantName = this.getParticipantName(), moment(this.currentAppointment.start_time).valueOf() < this.getTime() ? this.handleStartedAppointment() : this.handleNextAppointment()
            }
        }, {
            key: "handleStartedAppointment",
            value: function() {
                var e = this,
                    t = moment(this.currentAppointment.end_time).valueOf(),
                    n = t - this.getTime();
                this.connect(), this.currentAppointment.formattedStartedAppointmentCounter = this.getFormattedTime(n), this.currentAppointment.endSoon = n <= 15e3, this.disconnectInterval = this._$interval(function() {
                    var n = t - e.getTime();
                    e.currentAppointment.formattedStartedAppointmentCounter = e.getFormattedTime(n), e.currentAppointment.endSoon = n <= 15e3, n <= 0 && e.disconnect()
                }, 500)
            }
        }, {
            key: "handleNextAppointment",
            value: function() {
                var e = this,
                    t = moment(this.currentAppointment.start_time).valueOf(),
                    n = t - this.getTime();
                this.currentAppointment.formattedNextAppointmentCounter = this.getFormattedTime(n), this.connectInterval = this._$interval(function() {
                    var n = t - e.getTime();
                    e.currentAppointment.formattedNextAppointmentCounter = e.getFormattedTime(n), n <= 0 && (e._$interval.cancel(e.connectInterval), e.handleStartedAppointment())
                }, 500)
            }
        }, {
            key: "getFormattedTime",
            value: function(e) {
                var t = moment.duration(e),
                    n = t.days(),
                    i = t.hours(),
                    a = t.minutes(),
                    s = t.seconds(),
                    r = (n ? n + " " + (1 === n ? "day" : "days") : "") + " " + (i ? i + " " + (1 === i ? "hour" : "hours") : n ? "0 hours" : "") + " " + (a ? a + " " + (1 === a ? "minute" : "minutes") : n || i ? "0 minutes" : "") + ' <span style="' + (e <= 3e4 ? "color: #ff0000" : "") + '">' + (s + " seconds") + "</span>";
                return this._$sce.getTrustedHtml(r)
            }
        }, {
            key: "getActualAppointments",
            value: function() {
                var e = this,
                    t = this._sessionStorage.get("leftAppointment");
                return this._parentsEveningService.appointments.appointments.filter(function(n) {
                    if (t && e.isTheSameAppointment(t, n)) return !1;
                    return moment(n.end_time).valueOf() - 5500 > e.getTime()
                })
            }
        }, {
            key: "setLocalMedia",
            value: function() {
                var e = this;
                return this.isMediaPermissionDeniedError = !1, (0, o.createLocalTracks)().then(function(t) {
                    var n = document.getElementById("local-media");
                    if (e.localVideoTrack = t.find(function(e) {
                            return "video" === e.kind
                        }), e.localAudioTrack = t.find(function(e) {
                            return "audio" === e.kind
                        }), n.appendChild(e.localVideoTrack.attach()), e._windowWidthService.windowWidth <= e._deviceMarginConstants.MOBILE_MARGIN) {
                        var i = document.getElementById("media");
                        Draggable.create(n, {
                            type: "x,y",
                            bounds: i
                        })
                    }
                }).catch(function(t) {
                    0 === t.code && (e.isMediaPermissionDeniedError = !0), console.error(t.message), e._notificationService.showErrorNotification(t.message)
                })
            }
        }, {
            key: "connectToRoom",
            value: function(e) {
                var t = this,
                    n = e.token,
                    i = (0, a.default)({}, e.connect_options, {
                        tracks: [this.localVideoTrack, this.localAudioTrack]
                    });
                this.isMediaPermissionDeniedError = !1, (0, o.connect)(n, i).then(function(e) {
                    t.currentAppointment.started = !0, t._notificationService.showSuccessNotification("You are in the room"), e.participants.forEach(function(e) {
                        return t.onParticipantConnected(e)
                    }), e.on("participantConnected", function(e) {
                        return t.onParticipantConnected(e)
                    }), e.on("participantDisconnected", function(e) {
                        return t.onParticipantDisconnected(e)
                    }), e.on("disconnected", function(e, n) {
                        var i = !!t._parentsEveningService.room,
                            a = "Disconnected",
                            s = 5e3;
                        i || (s = 0), n && (53205 === n.code ? (a = "Disconnected - The call can only be open in one place", s = 3e4) : n.code >= 53e3 && n.code < 54e3 && (s = 15e3)), i && (t._notificationService.showErrorNotification(a), t.resetRoomSettings()), t._$timeout(function() {
                            if (t.appointments = t.getActualAppointments(), !t.appointments.length) return t._$interval.cancel(t.pingInterval), t.stopLocalTracks(), void t.closeWindowAfterDelay();
                            t.handleAppointments()
                        }, s)
                    }), t._parentsEveningService.room = e
                }, function(e) {
                    var n = "Unable to connect to Room: " + e.message;
                    console.error(n), 0 === e.code && (t.isMediaPermissionDeniedError = !0), t._$interval.cancel(t.disconnectInterval), t.stopLocalTracks(), t.currentAppointment = null, t._notificationService.showErrorNotification(n)
                })
            }
        }, {
            key: "stopLocalTracks",
            value: function() {
                this.localVideoTrack.stop(), this.localAudioTrack.stop()
            }
        }, {
            key: "attachTrack",
            value: function(e) {
                document.getElementById("remote-media-div").appendChild(e.attach())
            }
        }, {
            key: "detachTrack",
            value: function(e) {
                e.detach().forEach(function(e) {
                    return e.remove()
                })
            }
        }, {
            key: "onParticipantConnected",
            value: function(e) {
                var t = this;
                this._notificationService.showSuccessNotification(this.getParticipantName() + " is connected to the Room"), e.on("trackSubscribed", function(e) {
                    return t.attachTrack(e)
                }), e.on("trackUnsubscribed", function(e) {
                    return t.detachTrack(e)
                }), e.tracks.forEach(function(e) {
                    "video" === e.kind && (t.remoteVideoTrack = e), e.isSubscribed && t.attachTrack(e.track)
                })
            }
        }, {
            key: "toggleMicrophone",
            value: function() {
                this.localAudioTrack.isEnabled ? this.localAudioTrack.disable() : this.localAudioTrack.enable()
            }
        }, {
            key: "toggleVideo",
            value: function() {
                this.localVideoTrack.isEnabled ? this.localVideoTrack.disable() : this.localVideoTrack.enable()
            }
        }, {
            key: "endCall",
            value: function() {
                var e = this._parentsEveningService.room;
                e && (this._sessionStorage.set("leftAppointment", this.currentAppointment), this.resetRoomSettings(), e.disconnect())
            }
        }, {
            key: "removeRemoteMedia",
            value: function() {
                document.getElementById("remote-media-div").innerHTML = ""
            }
        }, {
            key: "onParticipantDisconnected",
            value: function() {
                var e = moment(this.currentAppointment.end_time).valueOf() - this.getTime() - 500;
                this.remoteVideoTrack = null, e <= 0 ? this.disconnect() : (this._notificationService.showWarningNotification("Participant disconnected: " + this.getParticipantName()), this.removeRemoteMedia())
            }
        }, {
            key: "resetRoomSettings",
            value: function() {
                this._parentsEveningService.room.localParticipant.tracks.forEach(this.removeRemoteMedia), this._parentsEveningService.room = null, this.currentAppointment = null, this.remoteVideoTrack = null, this._$interval.cancel(this.disconnectInterval)
            }
        }, {
            key: "connect",
            value: function() {
                var e = this,
                    t = this._$window.devicejs.desktop();
                this._parentsEveningService.getParentEventVideoCredentials(this.eventId, this.currentAppointment.teacher_slot_id, t).then(function(t) {
                    var n = moment(t.now) - moment().valueOf();
                    e.timeDifference !== n ? (console.log("old difference: " + e.timeDifference + " new difference: " + n), e.timeDifference = n) : console.log("time difference: no change"), e.connectToRoom(t.credentials)
                })
            }
        }, {
            key: "disconnect",
            value: function() {
                var e = this._parentsEveningService.room;
                this.resetRoomSettings(), e.disconnect(), this._notificationService.showSuccessNotification("Appointment is over")
            }
        }, {
            key: "getParticipantName",
            value: function() {
                return this._userService.checkRole("employee") && !this._userService.user.activeChild ? this.currentAppointment.parent.name : this.currentAppointment.employee.name
            }
        }, {
            key: "isTheSameAppointment",
            value: function(e, t) {
                return (0, i.default)(t).every(function(t) {
                    var i = (0, n.default)(t, 2),
                        a = i[0],
                        s = i[1];
                    return e[a] === s
                })
            }
        }, {
            key: "activeRoom",
            get: function() {
                return this._parentsEveningService.room
            }
        }]), e
    }();
    exports.default = c
}, , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = Fe(t(0)),
        i = Fe(t(1807)),
        a = Fe(t(1812)),
        s = Fe(t(1817)),
        r = Fe(t(1822)),
        o = Fe(t(1827)),
        l = Fe(t(1832)),
        c = Fe(t(1837)),
        d = Fe(t(1842)),
        u = Fe(t(1847)),
        _ = Fe(t(1852)),
        f = Fe(t(1857)),
        v = Fe(t(1862)),
        m = Fe(t(1867)),
        h = Fe(t(1873)),
        p = Fe(t(1878)),
        g = Fe(t(1883)),
        b = Fe(t(1888)),
        S = Fe(t(1893)),
        y = Fe(t(1900)),
        k = Fe(t(1905)),
        M = Fe(t(1910)),
        w = Fe(t(1915)),
        D = Fe(t(1920)),
        T = Fe(t(1925)),
        C = Fe(t(1931)),
        P = Fe(t(1936)),
        L = Fe(t(1941)),
        x = Fe(t(1946)),
        j = Fe(t(1951)),
        I = Fe(t(1956)),
        A = Fe(t(1961)),
        E = Fe(t(1966)),
        O = Fe(t(1971)),
        F = Fe(t(1976)),
        N = Fe(t(1980)),
        R = Fe(t(1985)),
        Y = Fe(t(1990)),
        B = Fe(t(1995)),
        H = Fe(t(2e3)),
        q = Fe(t(2005)),
        W = Fe(t(2010)),
        V = Fe(t(2015)),
        z = Fe(t(2020)),
        G = Fe(t(2025)),
        U = Fe(t(2030)),
        J = Fe(t(2035)),
        Q = Fe(t(2040)),
        K = Fe(t(2045)),
        Z = Fe(t(2050)),
        X = Fe(t(2055)),
        ee = Fe(t(2061)),
        te = Fe(t(2066)),
        ne = Fe(t(2071)),
        ie = Fe(t(2076)),
        ae = Fe(t(2081)),
        se = Fe(t(2086)),
        re = Fe(t(2090)),
        oe = Fe(t(2095)),
        le = Fe(t(2100)),
        ce = Fe(t(2105)),
        de = Fe(t(2110)),
        ue = Fe(t(2115)),
        _e = Fe(t(2120)),
        fe = Fe(t(2125)),
        ve = Fe(t(2131)),
        me = Fe(t(2136)),
        he = Fe(t(2141)),
        pe = Fe(t(2146)),
        ge = Fe(t(2151)),
        be = Fe(t(2156)),
        Se = Fe(t(2161)),
        ye = Fe(t(2166)),
        ke = Fe(t(2171)),
        $e = Fe(t(2176)),
        Me = Fe(t(2181)),
        we = Fe(t(2186)),
        De = Fe(t(2191)),
        Te = Fe(t(2197)),
        Ce = Fe(t(2202)),
        Pe = Fe(t(2207)),
        Le = Fe(t(2212)),
        xe = Fe(t(2217)),
        je = Fe(t(2222)),
        Ie = Fe(t(2227)),
        Ae = Fe(t(2232)),
        Ee = Fe(t(2237)),
        Oe = Fe(t(2242));

    function Fe(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var Ne = n.default.module("app.forms", [r.default, o.default, i.default, a.default, s.default, l.default, c.default, d.default, u.default, _.default, f.default, v.default, m.default, h.default, p.default, g.default, b.default, S.default, y.default, k.default, M.default, w.default, D.default, T.default, C.default, P.default, L.default, x.default, j.default, I.default, A.default, E.default, O.default, F.default, N.default, R.default, Y.default, B.default, q.default, W.default, H.default, V.default, z.default, G.default, U.default, K.default, J.default, Q.default, Z.default, X.default, ee.default, te.default, ne.default, ie.default, ae.default, se.default, re.default, oe.default, le.default, ce.default, de.default, ue.default, _e.default, fe.default, ve.default, me.default, he.default, pe.default, ge.default, be.default, Se.default, ye.default, Te.default, ke.default, $e.default, De.default, Me.default, we.default, Ce.default, Pe.default, Le.default, xe.default, je.default, Ie.default, Ae.default, Ee.default, Oe.default]).name;
    exports.default = Ne
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1808));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("f-absence-report", []).component("fAbsenceReport", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1809)),
        i = a(t(1810));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1811);
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<form class="f-absence-report" name="formAbsenceReport" novalidate autocomplete="off"\n      ng-submit="$ctrl.sendReport(formAbsenceReport)">\n  <div class="f-absence-report__wrapper">\n    <div class="f-absence-report__top">\n      <div class="f-default__row-default f-absence-report__row _date">\n        <div class="f-default__field-title _required">From</div>\n        <b-date-time-select class="f-absence-report__date"\n          format="{{::$ctrl._dateService.getDateFormat(\'apiDateTime\')}}"\n          visible-date-format="{{::$ctrl._dateService.getDateFormat(\'momentDateTime\')}}"\n          name="startDate"\n          date="$ctrl.startDate"\n          is-required="true"\n          placeholder="Select start date and time"\n          additions="{ bottom: \'f-absence-report__date-bottom.html\' }"\n          set-on-select="true"\n          custom-button-click="$ctrl.setAllDay()"></b-date-time-select>\n        <script type="text/ng-template" id="f-absence-report__date-bottom.html">\n          <div class="f-absence-report__date-footer">\n            <button class="f-absence-report__btn-set-dates" type="button"\n                    ng-click="$ctrl.customButtonClick(); $ctrl.isOpen = false"\n            >All Day</button>\n          </div>\n        <\/script>\n      </div>\n      <div class="f-default__row-default f-absence-report__row _date">\n        <div class="f-default__field-title _required">To</div>\n        <b-date-time-select class="f-absence-report__date"\n          format="{{::$ctrl._dateService.getDateFormat(\'apiDateTime\')}}"\n          visible-date-format="{{::$ctrl._dateService.getDateFormat(\'momentDateTime\')}}"\n          name="endDate"\n          date="$ctrl.endDate"\n          min-date="$ctrl.startDate"\n          is-required="true"\n          is-disabled="!$ctrl.startDate"\n          placeholder="Select end date and time"></b-date-time-select>\n      </div>\n      <div class="f-default__row-default f-absence-report__row">\n        <div class="f-default__field-title _required">Reason for Absence</div>\n        <textarea class="f-absence-report__textarea f-default__textarea" ng-model="$ctrl.reason" required></textarea>\n      </div>\n    </div>\n    <div class="f-absence-report__bottom">\n      <div class="f-default__row-default f-absence-report__row">\n        <b-attachments class="f-absence-report__attachments"\n                       on-picked="$ctrl._attachmentsService.onPicked(data)"\n                       max-file-size="$ctrl._userService.user.miscellaneous.upload.max_attachment_size_communicator"\n                       remove="$ctrl.removeAttachment({ attachment })"></b-attachments>\n      </div>\n      <div class="f-default__row-default f-absence-report__row">\n        <div class="f-default__col-wrap">\n          <div class="f-default__col f-absence-report__col">\n            <button type="submit" class="f-absence-report__btn-send btn btn-default _green _fill" ng-disabled="$ctrl.isLoading">Send</button>\n          </div>\n          <div class="f-default__col f-absence-report__col">\n            <button type="button" class="f-absence-report__btn-cancel btn btn-default _gray _fill"\n                    ng-click="$ctrl._menuService.goHome()">Cancel</button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</form>\n\n\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r, o) {
            "ngInject";
            (0, n.default)(this, e), this._absenceService = a, this._attachmentsService = t, this._menuService = i, this._userService = s, this._notificationService = r, this._dateService = o, this.initValues(), this.isLoading = !1
        }
        return e.$inject = ["attachmentsService", "menuService", "absenceService", "userService", "notificationService", "dateService"], (0, i.default)(e, [{
            key: "initValues",
            value: function() {
                this.local = {
                    startDate: null,
                    endDate: null,
                    reason: null
                }
            }
        }, {
            key: "setAllDay",
            value: function() {
                var e = this._dateService.getDateFormat("apiDateTime");
                this.startDate = moment(this.startDate).startOf("day").format(e), this.endDate = moment(this.startDate).endOf("day").format(e)
            }
        }, {
            key: "removeAttachment",
            value: function(e) {
                var t = e.attachment;
                this._attachmentsService.deleteDocument(t)
            }
        }, {
            key: "sendReport",
            value: function(e) {
                var t = this;
                if (e.$invalid) this._notificationService.showErrorNotification("Please fill required fields");
                else {
                    var n = {
                        learner_id: this._userService.user.activeChild.id,
                        reason: this.reason,
                        start: this.startDate,
                        end: this.endDate
                    };
                    this._attachmentsService.documents.length && (n.has_attachments = !0), this.isLoading = !0, this._absenceService.sendReport(n).then(function() {
                        t._notificationService.showSuccessNotification("Report was successfully sent"), t._menuService.goHome()
                    }).catch(function() {
                        t.isLoading = !1
                    })
                }
            }
        }, {
            key: "reason",
            get: function() {
                return this.local.reason
            },
            set: function(e) {
                this.local.reason = e
            }
        }, {
            key: "startDate",
            get: function() {
                return this.local.startDate
            },
            set: function(e) {
                this.local.startDate = e
            }
        }, {
            key: "endDate",
            get: function() {
                return this.local.endDate
            },
            set: function(e) {
                this.local.endDate = e
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1813));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("f-activity-log", []).component("fActivityLog", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1814)),
        i = a(t(1815));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1816);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            onAdd: "&"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<form class="f-activity-log" name="activityLogForm"\n      novalidate\n      ng-submit="$ctrl.addActivity(activityLogForm, $ctrl.model)">\n  <div class="f-default__row-default f-activity-log__row">\n    <div class="f-default__field-title _required">Activity:</div>\n    <textarea type="text" class="f-activity-log__textarea f-default__textarea" required\n              ng-model="$ctrl.model"></textarea>\n  </div>\n  <div class="f-default__row-default f-activity-log__row">\n    <div class="f-default__col-wrap">\n      <div class="f-default__col">\n        <button type="button" class="f-activity-log__btn btn btn-default _small"\n                ng-click="$ctrl.hideModal()">Cancel</button>\n      </div>\n      <div class="f-default__col">\n        <button type="submit" class="f-activity-log__btn btn btn-default _green _small _fill"\n                ng-disabled="$ctrl.isLoading">\n          Add\n        </button>\n      </div>\n    </div>\n  </div>\n</form>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t) {
            "ngInject";
            (0, n.default)(this, e), this._$scope = t, this.model = "", this.isLoading = !1
        }
        return e.$inject = ["$scope"], (0, i.default)(e, [{
            key: "addActivity",
            value: function(e, t) {
                var n = this;
                this.isLoading = !0, this.onAdd({
                    form: e,
                    model: t
                }).finally(function() {
                    return n.isLoading = !1
                })
            }
        }, {
            key: "hideModal",
            value: function() {
                this._$scope.$emit("hideModal")
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1818));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("f-add-address", []).component("fAddAddress", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1819)),
        i = a(t(1820));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1821);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<form class="f-add-address" name="addAddressForm" novalidate>\n  <div class="f-add-address__inner">\n\n    <div class="f-add-address__step" ng-if="$ctrl.step === 1">\n      <div class="f-default__row-default f-add-address__row">\n        <dev class="f-default__field-title _required">Post code:</dev>\n        <input type="text" class="f-default__input f-add-address__input"\n               name="postCode"\n               required\n               ng-model="postCodeModel"\n        >\n      </div>\n      <div class="f-default__row-default f-add-address__row">\n        <dev class="f-default__field-title">House number:</dev>\n        <input type="text" class="f-default__input f-add-address__input" ng-model="houseNumberModel">\n      </div>\n      <div class="f-default__row-default f-add-address__row _bottom">\n        <button type="submit" class="f-add-address__btn btn btn-default _small _fill"\n                ng-disabled="$ctrl.isLoading"\n                ng-click="$ctrl.goToNextStep(postCodeModel, houseNumberModel, addAddressForm)"\n        >Next</button>\n      </div>\n    </div>\n\n    <div class="f-add-address__step" ng-if="$ctrl.step === 2">\n      <div class="f-default__row-default f-add-address__row">\n        <dev class="f-default__field-title">Apartment:</dev>\n        <input type="text" class="f-default__input f-add-address__input"\n               name="apartment"\n               ng-model="$ctrl.model.address.apartment"\n        >\n      </div>\n      <div class="f-default__row-default f-add-address__row">\n        <dev class="f-default__field-title">House name:</dev>\n        <input type="text" class="f-default__input f-add-address__input"\n               name="houseName"\n               ng-model="$ctrl.model.address.house_name"\n        >\n      </div>\n      <div class="f-default__row-default f-add-address__row">\n        <dev class="f-default__field-title">House number:</dev>\n        <input type="text" class="f-default__input f-add-address__input"\n               name="houseNumber"\n               ng-model="$ctrl.model.address.house_number"\n        >\n      </div>\n      <div class="f-default__row-default f-add-address__row">\n        <dev class="f-default__field-title">Street:</dev>\n        <input type="text" class="f-default__input f-add-address__input"\n               name="street"\n               ng-model="$ctrl.model.address.street"\n        >\n      </div>\n      <div class="f-default__row-default f-add-address__row">\n        <dev class="f-default__field-title">District:</dev>\n        <input type="text" class="f-default__input f-add-address__input"\n               name="district"\n               ng-model="$ctrl.model.address.district"\n        >\n      </div>\n      <div class="f-default__row-default f-add-address__row">\n        <dev class="f-default__field-title" ng-class="{_required: !$ctrl.model.address.post_code}">Town:</dev>\n        <input type="text" class="f-default__input f-add-address__input"\n               name="town"\n               ng-required="!$ctrl.model.address.post_code"\n               ng-model="$ctrl.model.address.town"\n        >\n      </div>\n      <div class="f-default__row-default f-add-address__row">\n        <dev class="f-default__field-title">County:</dev>\n        <input type="text" class="f-default__input f-add-address__input"\n               name="county"\n               ng-model="$ctrl.model.address.county"\n        >\n      </div>\n      <div class="f-default__row-default f-add-address__row">\n        <dev class="f-default__field-title" ng-class="{_required: !$ctrl.model.address.town}">Postcode:</dev>\n        <input type="text" class="f-default__input f-add-address__input"\n               name="postcode"\n               ng-required="!$ctrl.model.address.town"\n               ng-model="$ctrl.model.address.post_code"\n        >\n      </div>\n      <div class="f-default__row-default f-add-address__row">\n        <dev class="f-default__field-title">Country:</dev>\n        <ui-select ng-model="$ctrl.model.address.country_id"\n                   theme="selectize"\n                   class="select-default f-add-address__select"\n                   search-enabled="false">\n          <ui-select-match placeholder="-">{{ $select.selected.description }}</ui-select-match>\n          <ui-select-choices repeat="country.id as country in $ctrl._dataCollectionService.lookups.address_country track by $index">\n            <span>{{ ::country.description }}</span>\n          </ui-select-choices>\n        </ui-select>\n\n        <div class="f-default__select-mobile-wrap f-add-address__select-mobile-wrap">\n          <select class="f-default__select-mobile f-add-address__select-mobile"\n                  ng-model="$ctrl.model.address.country_id">\n            <option value="" disabled selected hidden>-</option>\n            <option ng-repeat="country in $ctrl._dataCollectionService.lookups.address_country track by $index"\n                    ng-value="country.id"\n            >{{ ::country.description }}</option>\n          </select>\n        </div>\n      </div>\n      <div class="f-default__row-default f-add-address__row" ng-if="$ctrl.scope.showLocation">\n        <dev class="f-default__field-title">Location:</dev>\n        <ui-select ng-model="$ctrl.model.location"\n                   theme="selectize"\n                   ng-init="hash = $ctrl._selectsService.generateHash($ctrl.selects); $ctrl._selectsService.setItemsNumber($ctrl.infiniteScrollSettings, hash)"\n                   uis-open-close="$ctrl._selectsService.handleSelectToggling(hash, $ctrl.infiniteScrollSettings)"\n                   class="select-default f-add-address__select"\n                   ng-attr-id="{{\'_\' + hash}}"\n                   search-enabled="false">\n          <ui-select-match placeholder="-">{{ $select.selected }}</ui-select-match>\n          <ui-select-choices repeat="location in $ctrl.scope.lookup | limitTo:$ctrl.selects[hash].currentItems track by $index"\n                             infinite-scroll="$ctrl._selectsService.addNewItemsToSelect($ctrl.selects[hash], $ctrl.infiniteScrollSettings.numToAdd)"\n                             infinite-scroll-container="\'#_\' + hash + \' .ui-select-choices-content\'">\n            <span>{{ ::location }}</span>\n          </ui-select-choices>\n        </ui-select>\n\n        <div class="f-default__select-mobile-wrap f-add-address__select-mobile-wrap">\n          <select class="f-default__select-mobile f-add-address__select-mobile"\n                  ng-model="$ctrl.model.location">\n            <option value="" disabled selected hidden>-</option>\n            <option ng-repeat="location in $ctrl.scope.lookup track by $index" ng-value="location">{{ ::location }}</option>\n          </select>\n        </div>\n      </div>\n      <div class="f-default__row-default f-add-address__row" ng-if="$ctrl.moveCohabitees">\n        <dev class="f-default__field-title _required">Occupants:</dev>\n        <ui-select ng-model="$ctrl.model.move_cohabitees"\n                   required\n                   theme="selectize"\n                   class="select-default f-add-address__select"\n                   search-enabled="false">\n          <ui-select-match placeholder="-">{{ $select.selected.text }}</ui-select-match>\n          <ui-select-choices repeat="occupant.value as occupant in $ctrl.occupants track by $index">\n            <span>{{ ::occupant.text }}</span>\n          </ui-select-choices>\n        </ui-select>\n\n        <div class="f-default__select-mobile-wrap f-add-address__select-mobile-wrap">\n          <select class="f-default__select-mobile f-add-address__select-mobile"\n                  required\n                  ng-model="$ctrl.model.move_cohabitees">\n            <option value="" disabled selected>-</option>\n            <option ng-repeat="occupant in $ctrl.occupants track by $index" ng-value="occupant.value">\n              {{ ::occupant.text }}\n            </option>\n          </select>\n        </div>\n      </div>\n\n      <div class="f-default__row-default f-add-address__row _bottom">\n        <button type="submit" class="f-add-address__btn btn btn-default _green _small _fill"\n                ng-click="$ctrl.createAddress(addAddressForm)"\n        >Done</button>\n      </div>\n    </div>\n\n    <div class="f-add-address__step" ng-if="$ctrl.step === 3">\n      <div class="f-default__row-default f-add-address__row">\n        <dev class="f-default__field-title _required">Address:</dev>\n        <ui-select ng-model="$ctrl.model.address"\n                   theme="selectize"\n                   required\n                   ng-init="hash = $ctrl._selectsService.generateHash($ctrl.selects); $ctrl._selectsService.setItemsNumber($ctrl.infiniteScrollSettings, hash)"\n                   uis-open-close="$ctrl._selectsService.handleSelectToggling(hash, $ctrl.infiniteScrollSettings)"\n                   class="select-default f-add-address__select"\n                   ng-attr-id="{{\'_\' + hash}}"\n                   search-enabled="false">\n          <ui-select-match placeholder="-">\n            {{ $select.selected.house_number }} {{ $select.selected.street }}, {{ $select.selected.town }} {{ $select.selected.post_code }}\n          </ui-select-match>\n          <ui-select-choices repeat="address in $ctrl.addresses | limitTo:$ctrl.selects[hash].currentItems track by $index"\n                             infinite-scroll="$ctrl._selectsService.addNewItemsToSelect($ctrl.selects[hash], $ctrl.infiniteScrollSettings.numToAdd)"\n                             infinite-scroll-container="\'#_\' + hash + \' .ui-select-choices-content\'">\n            <span>\n              {{ ::(address.apartment ? address.apartment + \',\' : \'\') }}\n              {{ ::(address.house_name ? address.house_name + \',\' : \'\') }}\n              {{ ::(address.house_number ? address.house_number : \'\') }}\n              {{ ::(address.street ? address.street + \',\' : \'\') }}\n              {{ ::(address.town ? address.town + \',\' : \'\') }}\n              {{ ::(address.post_code ? address.post_code : \'\') }}\n            </span>\n          </ui-select-choices>\n        </ui-select>\n\n        <div class="f-default__select-mobile-wrap f-add-address__select-mobile-wrap">\n          <select class="f-default__select-mobile f-add-address__select-mobile"\n                  required\n                  ng-model="$ctrl.model.address">\n            <option value="" disabled selected hidden>-</option>\n            <option ng-repeat="address in $ctrl.addresses track by $index" ng-value="address">\n              {{ ::(address.apartment ? address.apartment + \',\' : \'\') }}\n              {{ ::(address.house_name ? address.house_name + \',\' : \'\') }}\n              {{ ::(address.house_number ? address.house_number : \'\') }}\n              {{ ::(address.street ? address.street + \',\' : \'\') }}\n              {{ ::(address.town ? address.town + \',\' : \'\') }}\n              {{ ::(address.post_code ? address.post_code : \'\') }}\n            </option>\n          </select>\n        </div>\n      </div>\n      <div class="f-default__row-default f-add-address__row" ng-if="$ctrl.scope.showLocation">\n        <dev class="f-default__field-title _required">Location:</dev>\n        <ui-select ng-model="$ctrl.model.location"\n                   required\n                   theme="selectize"\n                   ng-init="hash = $ctrl._selectsService.generateHash($ctrl.selects); $ctrl._selectsService.setItemsNumber($ctrl.infiniteScrollSettings, hash)"\n                   uis-open-close="$ctrl._selectsService.handleSelectToggling(hash, $ctrl.infiniteScrollSettings)"\n                   class="select-default f-add-address__select"\n                   ng-attr-id="{{\'_\' + hash}}"\n                   search-enabled="false">\n          <ui-select-match placeholder="-">{{ $select.selected }}</ui-select-match>\n          <ui-select-choices repeat="location in $ctrl.scope.lookup | limitTo:$ctrl.selects[hash].currentItems track by $index"\n                             infinite-scroll="$ctrl._selectsService.addNewItemsToSelect($ctrl.selects[hash], $ctrl.infiniteScrollSettings.numToAdd)"\n                             infinite-scroll-container="\'#_\' + hash + \' .ui-select-choices-content\'">\n            <span>{{ ::location }}</span>\n          </ui-select-choices>\n        </ui-select>\n\n        <div class="f-default__select-mobile-wrap f-add-address__select-mobile-wrap">\n          <select class="f-default__select-mobile f-add-address__select-mobile"\n                  required\n                  ng-model="$ctrl.model.location">\n            <option value="" disabled selected hidden>-</option>\n            <option ng-repeat="location in $ctrl.scope.lookup track by $index" ng-value="location">{{ ::location }}</option>\n          </select>\n        </div>\n      </div>\n\n      <div class="f-default__row-default f-add-address__row" ng-if="$ctrl.moveCohabitees">\n        <dev class="f-default__field-title _required">Occupants:</dev>\n        <ui-select ng-model="$ctrl.model.move_cohabitees"\n                   required\n                   theme="selectize"\n                   class="select-default f-add-address__select"\n                   search-enabled="false">\n          <ui-select-match placeholder="-">{{ $select.selected.text }}</ui-select-match>\n          <ui-select-choices repeat="occupant.value as occupant in $ctrl.occupants track by $index">\n            <span>{{ ::occupant.text }}</span>\n          </ui-select-choices>\n        </ui-select>\n\n        <div class="f-default__select-mobile-wrap f-add-address__select-mobile-wrap">\n          <select class="f-default__select-mobile f-add-address__select-mobile"\n                  required\n                  ng-model="$ctrl.model.move_cohabitees">\n            <option value="" disabled selected>-</option>\n            <option ng-repeat="occupant in $ctrl.occupants track by $index" ng-value="occupant.value">\n              {{ ::occupant.text }}\n            </option>\n          </select>\n        </div>\n      </div>\n\n      <div class="f-default__row-default f-add-address__row _bottom">\n        <button type="submit" class="f-add-address__btn btn btn-default _green _small _fill"\n                ng-click="$ctrl.createAddress(addAddressForm)"\n        >Done</button>\n      </div>\n    </div>\n\n  </div>\n  <div class="f-add-address__loader" ng-if="$ctrl.isLoading">\n    <b-loader></b-loader>\n  </div>\n</form>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(10)),
        i = s(t(1)),
        a = s(t(2));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = function() {
        function e(t, n, a, s, r, o) {
            "ngInject";
            (0, i.default)(this, e), this._dataCollectionService = t, this._notificationService = n, this._selectsService = a, this._$scope = s, this._userService = r, this._modalDefaultService = o, this.isLoading = !1, this.addresses = null, this.occupants = [{
                text: "Only move this occupant",
                value: !1
            }, {
                text: "All Occupants of old address have moved to the above address",
                value: !0
            }], this.model = {
                address: {
                    apartment: "",
                    house_name: "",
                    house_number: "",
                    street: "",
                    district: "",
                    town: "",
                    county: "",
                    post_code: "",
                    country_id: null
                },
                location: null,
                move_cohabitees: null
            }, this.step = null, this.infiniteScrollSettings = this._selectsService.getInfiniteScrollSettings()
        }
        return e.$inject = ["dataCollectionService", "notificationService", "selectsService", "$scope", "userService", "modalDefaultService"], (0, a.default)(e, [{
            key: "$onInit",
            value: function() {
                this._dataCollectionService.lookups.address_validate_available ? this.step = 1 : this.step = 2, this.model.address.country_id = this._dataCollectionService.lookups.address_country_default_id
            }
        }, {
            key: "goToNextStep",
            value: function(e, t, n) {
                var i = this;
                n.$invalid ? this._notificationService.showErrorNotification("Please fill required fields") : (this.isLoading = !0, this._dataCollectionService.getDataCollectionAddressValidate({
                    post_code: e,
                    house_name_number: t
                }).then(function(e) {
                    e.addresses.length ? (i.addresses = e.addresses, i.step = 3, i._$scope.addAddressForm.$setPristine(), i._$scope.addAddressForm.$setUntouched()) : i.step = 2
                }).finally(function() {
                    return i.isLoading = !1
                }))
            }
        }, {
            key: "createAddress",
            value: function(e) {
                if (e.$invalid) this._notificationService.showErrorNotification("Please fill required fields");
                else {
                    var t = {};
                    !this.scope.showLocation && this.moveCohabitees ? t.data = {
                        model: (0, n.default)({}, this.model.address, {
                            move_cohabitees: this.model.move_cohabitees
                        })
                    } : this.scope.showLocation ? (t = (0, n.default)({}, t, {
                        fields: this.scope.fields,
                        model: (0, n.default)({}, this.model.address, {
                            type: this.model.location
                        })
                    }), this.moveCohabitees && (t.model.move_cohabitees = this.model.move_cohabitees)) : t.data = {
                        model: (0, n.default)({}, this.model.address, {
                            move_cohabitees: !1
                        })
                    }, this.scope.addAddress(t)
                }
            }
        }, {
            key: "selects",
            get: function() {
                return this.infiniteScrollSettings.selects
            }
        }, {
            key: "moveCohabitees",
            get: function() {
                return "Move address" === this._modalDefaultService.data.find(function(e) {
                    return "modal-add-address" === e.id
                }).title && this._userService.user.capabilities.data_collection && this._userService.user.capabilities.data_collection.move_cohabitees
            }
        }]), e
    }();
    exports.default = r
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1823));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("f-add-referral", []).component("fAddReferral", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1824)),
        i = a(t(1825));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1826);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<form class="f-add-referral" name="formAddReferral" novalidate ng-submit="$ctrl.addNewReferral(formAddReferral)">\n    <div class="f-default__row-default f-add-referral__row">\n        <div class="f-add-referral__elem">\n            <div class="f-add-referral__label">Referral for</div>\n            <p class="f-add-referral__text">{{ $ctrl._studentsService.selectedStudents[0].resultRow }}</p>\n        </div>\n    </div>\n    <div class="f-add-referral__elem">\n        <div class="f-add-referral__label">Staff name</div>\n        <ui-select class="select-default f-add-referral__select"\n                   ng-model="$ctrl.referral_employee"\n                   ng-init="hash = $ctrl._selectsService.generateHash($ctrl.selects); $ctrl._selectsService.setItemsNumber($ctrl.infiniteScrollSettings, hash)"\n                   uis-open-close="$ctrl._selectsService.handleSelectToggling(hash, $ctrl.infiniteScrollSettings)"\n                   ng-attr-id="{{\'_\' + hash}}"\n                   theme="selectize"\n                   search-enabled="false">\n          <ui-select-match placeholder="Select">\n            {{ $select.selected.title}} {{ $select.selected.surname || $select.selected }}\n          </ui-select-match>\n          <ui-select-choices repeat="staff in $ctrl.staff | limitTo:$ctrl.selects[hash].currentItems track by $index"\n                             infinite-scroll-container="\'#_\' + hash + \' .ui-select-choices-content\'"\n                             infinite-scroll="$ctrl._selectsService.addNewItemsToSelect($ctrl.selects[hash], $ctrl.infiniteScrollSettings.numToAdd)">\n            <span>{{ ::staff.title }} {{ ::staff.surname }}</span>\n          </ui-select-choices>\n        </ui-select>\n        <div class="f-default__select-mobile-wrap">\n            <select class="f-default__select-mobile f-add-referral__select"\n                    ng-model="$ctrl.referral_employee"\n            >\n                <option ng-repeat="staff in $ctrl.staff track by $index"\n                        ng-value="::staff"\n                >\n                {{::staff.title}} {{ ::staff.surname }}\n                </option>\n            </select>\n        </div>\n    </div>\n    <div class="f-add-referral__elem">\n      <div class="f-add-referral__label">Date / time</div>\n        <b-date-time-select class="f-add-referral__date"\n          format="{{::$ctrl._dateService.getDateFormat(\'apiDateTime\')}}"\n          visible-date-format="{{::$ctrl._dateService.getDateFormat(\'momentDateTime\')}}"\n          name="date"\n          max-date="$ctrl.maxDate"\n          date="$ctrl.date"\n          placeholder=""></b-date-time-select>\n    </div>\n    <div class="f-add-referral__elem">\n        <div class="f-add-referral__label">Referral to</div>\n        <ui-select class="select-default f-add-referral__select"\n                   ng-model="$ctrl.referred_to_employee"\n                   ng-init="hash = $ctrl._selectsService.generateHash($ctrl.selects); $ctrl._selectsService.setItemsNumber($ctrl.infiniteScrollSettings, hash)"\n                   uis-open-close="$ctrl._selectsService.handleSelectToggling(hash, $ctrl.infiniteScrollSettings)"\n                   ng-attr-id="{{\'_\' + hash}}"\n                   theme="selectize"\n                   required\n                   search-enabled="false">\n          <ui-select-match placeholder="Select">\n            {{ $select.selected.title }} {{ $select.selected.surname || $select.selected }}\n          </ui-select-match>\n          <ui-select-choices repeat="employee in $ctrl.referralsTo | limitTo:$ctrl.selects[hash].currentItems track by $index"\n                             infinite-scroll-container="\'#_\' + hash + \' .ui-select-choices-content\'"\n                             infinite-scroll="$ctrl._selectsService.addNewItemsToSelect($ctrl.selects[hash], $ctrl.infiniteScrollSettings.numToAdd)">\n            <span>{{ ::employee.title }} {{::employee.surname }}</span>\n          </ui-select-choices>\n        </ui-select>\n        <div class="f-default__select-mobile-wrap">\n            <select class="f-default__select-mobile f-add-referral__select"\n                    ng-model="$ctrl.referred_to_employee" required\n            >\n                <option ng-repeat="item in $ctrl.referralsTo track by $index"\n                        ng-value="::item"\n                >\n                {{::item.title}} {{::item.surname }}\n                </option>\n            </select>\n        </div>\n    </div>\n\n    <div class="f-default__row-default f-add-referral__row">\n      <div class="f-default__field-title f-add-referral__label">Details</div>\n      <textarea class="f-add-referral__textarea f-default__textarea" ng-model="$ctrl.details" required></textarea>\n    </div>\n    <div class="f-default__row-default f-add-referral__row">\n      <div class="f-default__field-title f-add-referral__label">Disclosure</div>\n      <textarea class="f-add-referral__textarea f-default__textarea" ng-model="$ctrl.disclosure"></textarea>\n    </div>\n    <div class="f-default__row-default f-add-referral__row">\n      <div class="f-default__field-title f-add-referral__label">When did it happen</div>\n      <input class="f-default__input f-add-referral__input" type="text" ng-model="$ctrl.time">\n    </div>\n    <div class="f-default__row-default f-add-referral__row">\n      <div class="f-default__field-title f-add-referral__label">Where did it happen</div>\n      <input class="f-default__input f-add-referral__input" type="text" ng-model="$ctrl.location">\n    </div>\n    <div class="f-default__row-default f-add-referral__row">\n      <div class="f-default__field-title f-add-referral__label">Action taken</div>\n      <textarea class="f-add-referral__textarea f-default__textarea" ng-model="$ctrl.action"></textarea>\n    </div>\n    <button type="submit" class="btn btn-default _green _small _fill f-add-referral__btn">save</button>\n  </form>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r, o, l, c, d) {
            "ngInject";
            (0, n.default)(this, e), this._$rootScope = t, this._studentsService = i, this._userService = a, this._modalDefaultService = s, this._notificationService = r, this._teachersService = l, this._requestService = c, this._childProtectionService = o, this._dateService = d
        }
        return e.$inject = ["$rootScope", "studentsService", "userService", "modalDefaultService", "notificationService", "childProtectionService", "teachersService", "requestService", "dateService"], (0, i.default)(e, [{
            key: "$onInit",
            value: function() {
                var e = this;
                this.maxDate = moment().format(this._dateService.getDateFormat("apiDateTime")), this.date = this.maxDate, this.staff = [], this.referral_employee = this._userService.user.data, this.staff.push(this._userService.user.data), this.referralsTo = [], this._teachersService.getEmployeesFromDb({}).then(function(t) {
                    e._teachersService.employees = t.employees, e._teachersService.employees.filter(function(t) {
                        return t.id !== e._userService.user.data.id
                    }).forEach(function(t) {
                        e.staff.push(t)
                    }), e._userService.user.capabilities.child_protection.team_employee_ids && e._userService.user.capabilities.child_protection.team_employee_ids.forEach(function(n) {
                        e.referralsTo.push(t.employees.find(function(e) {
                            return e.id === n
                        }))
                    })
                })
            }
        }, {
            key: "$onDestroy",
            value: function() {
                this._studentsService.clearSelectedStudents()
            }
        }, {
            key: "hideBothModals",
            value: function() {
                this._modalDefaultService.clear()
            }
        }, {
            key: "addNewReferral",
            value: function(e) {
                var t = this,
                    n = {};
                n.learner_id = this._studentsService.selectedStudents[0].id, n.referral_employee_id = this.referral_employee.id, n.details = this.details, this.referred_to_employee && (n.referred_to_employee_id = this.referred_to_employee.id), this.action && (n.referrer_action = this.action), this.disclosure && (n.disclosure = this.disclosure), this.location && (n.location = this.location), this.time && (n.occurred = this.time), e.$invalid ? this._notificationService.showErrorNotification("Please fill required fields") : this._requestService.getData("child_protection", "child_protection_referral_add", n).then(function(e) {
                    t.hideBothModals(), n.created = new Date(t.date), t.getCurrentStudentInfo(n), t._childProtectionService.addReferral(n)
                })
            }
        }, {
            key: "getCurrentStudentInfo",
            value: function(e) {
                this._studentsService.getStudents().then(function(t) {
                    e.info = t.find(function(t) {
                        return t.id === e.learner_id
                    })
                })
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1828));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("f-add-strategy", []).component("fAddStrategy", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1829)),
        i = a(t(1830));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1831);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<form class="f-add-strategy" name="formAddStrategy" novalidate ng-submit="$ctrl.addNewStrategy(formAddStrategy)">\n    <div class="f-default__row-default f-add-strategy__row">\n      <div class="f-default__field-title f-add-strategy__label">Title</div>\n      <input class="f-default__input f-add-strategy__input" type="text" required ng-model="$ctrl.title">\n    </div>\n    <div class="f-default__row-default f-add-strategy__row">\n      <div class="f-default__field-title f-add-strategy__label">Strategy</div>\n      <input class="f-default__input f-add-strategy__input" type="text" required ng-model="$ctrl.strategy">\n    </div>\n    <button type="submit" class="btn btn-default _green _small _fill f-add-strategy__btn">add</button>\n  </form>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r) {
            "ngInject";
            (0, n.default)(this, e), this._notificationService = t, this._userService = i, this._requestService = a, this._modalDefaultService = s, this._senDataService = r
        }
        return e.$inject = ["notificationService", "userService", "requestService", "modalDefaultService", "senDataService"], (0, i.default)(e, [{
            key: "closeModal",
            value: function() {
                this._modalDefaultService.pop()
            }
        }, {
            key: "addNewStrategy",
            value: function(e) {
                var t = this,
                    n = this._userService.user.idFromLastAction,
                    i = {
                        learner_id: n,
                        title: this.title,
                        strategy: this.strategy
                    };
                e.$invalid ? this._notificationService.showErrorNotification("Please fill all fields") : (this._requestService.getData("sen", "sen_data_strategy_add", i).then(function(e) {
                    var i = e.strategy_id;
                    t._senDataService.addNewSenStrategyFromDb(n, i)
                }), this.closeModal())
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1833));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("f-add-booking-category", []).component("fAddBookingCategory", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1834)),
        i = a(t(1835));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1836);
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<form class="f-add-booking-category" name="addBookingCategoryForm"\n      novalidate\n      ng-submit="$ctrl._saveCategory(addBookingCategoryForm)">\n  <div class="f-default__row-default f-add-booking-category__row">\n    <div class="f-default__field-title _required">Name</div>\n    <textarea class="f-default__textarea f-add-booking-category__textarea"\n              rows="3"\n              required\n              ng-model="$ctrl.description"></textarea>\n  </div>\n\n  <div class="f-default__row-default f-add-booking-category__row">\n    <button type="submit" class="f-add-booking-category__btn btn btn-default _green _small _fill">Add category</button>\n  </div>\n</form>\n\n\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i) {
            "ngInject";
            (0, n.default)(this, e), this._resourceBookingService = t, this._notificationService = i, this._initValues()
        }
        return e.$inject = ["ResourceBookingService", "notificationService"], (0, i.default)(e, [{
            key: "_initValues",
            value: function() {
                this.description = null
            }
        }, {
            key: "_saveCategory",
            value: function(e) {
                var t = this;
                e.$valid ? this._resourceBookingService.saveCategory(this.description).then(function() {
                    t._initValues(), e.$setPristine(), e.$setUntouched()
                }) : this._notificationService.showErrorNotification("Please fill required fields")
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1838));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("f-add-booking-period", []).component("fAddBookingPeriod", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1839)),
        i = a(t(1840));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1841);
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<form class="f-add-booking-period" name="addBookingPeriodForm"\n      novalidate\n      ng-submit="$ctrl._saveResource(addBookingPeriodForm)">\n  <div class="f-default__row-default f-add-booking-period__row">\n    <ui-select ng-model="$ctrl._resourceBookingService.data.selectedDay"\n               required\n               theme="selectize"\n               ng-animate-children="false"\n               class="f-add-booking-period__select select-default _gray"\n               search-enabled="false">\n      <ui-select-match placeholder="-">{{$select.selected.day_of_week}}</ui-select-match>\n      <ui-select-choices repeat="day in $ctrl._resourceBookingService.data.daysPeriods">\n        <span>{{day.day_of_week}}</span>\n      </ui-select-choices>\n    </ui-select>\n    <div class="f-default__select-mobile-wrap">\n      <select class="f-default__select-mobile f-add-booking-period__select-mobile"\n              required\n              ng-options="day as day.day_of_week for day in $ctrl._resourceBookingService.data.daysPeriods"\n              ng-model="$ctrl._resourceBookingService.data.selectedDay">\n      </select>\n    </div>\n  </div>\n  <div class="f-default__row-default f-add-booking-period__row">\n    <div class="f-default__field-title">Periods</div>\n    <ul class="f-add-booking-period__periods">\n      <li class="f-add-booking-period__period" ng-repeat="period in $ctrl._resourceBookingService.data.selectedDay.periods">\n        <span>{{period.description}}</span>\n        <div>\n          <span>{{period.start_time}} - {{period.end_time}}</span>\n          <button type="button"\n                  class="f-add-booking-period__remove"\n                  ng-click="$ctrl._removePeriod(period)"\n                  ng-if="$ctrl._isDeletingAllowed(period)">\n          </button>\n        </div>\n      </li>\n    </ul>\n  </div>\n  <div class="f-default__row-default f-add-booking-period__row">\n    <div class="f-default__col-wrap">\n      <div class="f-default__col">\n        <b-date-time-select class="f-add-booking-period__date"\n          format="HH:mm"\n          show-header="false"\n          name="startTime"\n          is-required="true"\n          min-date="\'07:00\'"\n          max-date="\'22:00\'"\n          placeholder="hh:mm"\n          show-header="false"\n          date="$ctrl.startTime"></b-date-time-select>\n      </div>\n      <div class="f-default__col">\n        <b-date-time-select class="f-add-booking-period__date"\n          format="HH:mm"\n          show-header="false"\n          name="finishTime"\n          is-required="true"\n          min-date="\'07:00\'"\n          max-date="\'22:00\'"\n          placeholder="hh:mm"\n          show-header="false"\n          date="$ctrl.finishTime"></b-date-time-select>\n      </div>\n    </div>\n  </div>\n  <div class="f-default__row-default f-add-booking-period__row">\n    <div class="f-default__field-title _required">Name</div>\n    <textarea class="f-default__textarea f-add-booking-period__textarea"\n              rows="3"\n              required\n              ng-model="$ctrl.description"></textarea>\n  </div>\n  <div class="f-default__row-default f-add-booking-period__row">\n    <button type="submit" class="f-add-booking-period__btn btn btn-default _green _small _fill">Add period</button>\n  </div>\n</form>\n\n\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i) {
            "ngInject";
            (0, n.default)(this, e), this._resourceBookingService = t, this._notificationService = i, this._initValues()
        }
        return e.$inject = ["ResourceBookingService", "notificationService"], (0, i.default)(e, [{
            key: "_initValues",
            value: function() {
                this.startTime = null, this.finishTime = null, this.description = null
            }
        }, {
            key: "_removePeriod",
            value: function(e) {
                this._resourceBookingService.removeTimetableCyclePeriod(e)
            }
        }, {
            key: "_isDeletingAllowed",
            value: function(e) {
                return ["EduLink"].indexOf(e.source) >= 0
            }
        }, {
            key: "_saveResource",
            value: function(e) {
                var t = this;
                e.$invalid ? this._notificationService.showErrorNotification("Please fill required fields") : this._resourceBookingService.saveTimetableCyclePeriod(this.description, this.startTime, this.finishTime).then(function() {
                    t._initValues(), e.$setPristine()
                })
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1843));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("f-add-booking-resource", []).component("fAddBookingResource", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1844)),
        i = a(t(1845));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1846);
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<form class="f-add-booking-resource" name="addBookingResouseForm"\n      novalidate\n      ng-submit="$ctrl._saveResource(addBookingResouseForm)">\n  <div class="f-default__row-default f-add-booking-resource__row">\n    <div class="f-default__field-title _required">Name</div>\n    <textarea class="f-default__textarea f-add-booking-resource__textarea"\n              rows="3"\n              required\n              ng-model="$ctrl.description"></textarea>\n  </div>\n\n  <div class="f-default__row-default f-add-booking-resource__row">\n    <label>\n      <input type="checkbox" class="f-add-booking-resource__checkbox" ng-model="$ctrl.isRoom"/>\n      <span>Is room?</span>\n    </label>\n  </div>\n\n  <div class="f-default__row-default f-add-booking-resource__row">\n    <button type="submit" class="f-add-booking-resource__btn btn btn-default _green _small _fill">Add resource</button>\n  </div>\n</form>\n\n\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i) {
            "ngInject";
            (0, n.default)(this, e), this._resourceBookingService = t, this._notificationService = i, this._initValues()
        }
        return e.$inject = ["ResourceBookingService", "notificationService"], (0, i.default)(e, [{
            key: "_initValues",
            value: function() {
                this.isRoom = !1, this.description = null
            }
        }, {
            key: "_saveResource",
            value: function(e) {
                var t = this;
                e.$valid ? this._resourceBookingService.saveResource(this.description, this.isRoom).then(function() {
                    t._initValues(), e.$setPristine(), e.$setUntouched()
                }) : this._notificationService.showErrorNotification("Please fill required fields")
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1848));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("f-add-calendar-entry", []).component("fAddCalendarEntry", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1849)),
        i = a(t(1850));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1851);
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<form class="f-add-calendar-entry" novalidate name="addCalendarEntryForm"\n      ng-submit="$ctrl.addNewEntry(addCalendarEntryForm)">\n  <div class="f-default__row-default f-add-calendar-entry__row">\n    <div class="f-default__field-title _required">Event</div>\n    <input class="f-default__input f-add-calendar-entry__input" type="text" required ng-model="$ctrl.description">\n  </div>\n\n  <div class="f-default__row-default f-add-calendar-entry__row">\n    <label class="f-add-calendar-entry__checkbox f-default__label"\n           ng-click="$ctrl.allDayEventChange($event)"\n           ng-class="{ \'_checkbox-checked\': $ctrl.allDayEvent }">\n        <input type="checkbox" class="f-add-calendar-entry__checkbox-input">\n        <span class="f-add-calendar-entry__checkbox-title">All Day Event</span>\n    </label>\n  </div>\n\n  <div class="f-default__row-default f-add-calendar-entry__row">\n    <div class="f-default__field-title _required">From</div>\n    <b-date-time-select class="f-add-calendar-entry__date"\n      format="{{::$ctrl._dateService.getDateFormat(\'apiDateTime\')}}"\n      visible-date-format="{{::$ctrl._dateService.getDateFormat(\'momentDateTime\')}}"\n      ng-if="!$ctrl.allDayEvent"\n      name="startDate"\n      date="$ctrl.startDate"\n      is-required="true"\n      placeholder="Select start date"></b-date-time-select>\n    <b-date-time-select class="f-add-calendar-entry__date"\n      format="{{::$ctrl._dateService.getDateFormat(\'apiDate\')}}"\n      visible-date-format="{{::$ctrl._dateService.getDateFormat(\'momentDate\')}}"\n      ng-if="$ctrl.allDayEvent"\n      name="startDate"\n      date="$ctrl.startDate"\n      is-required="true"\n      placeholder="Select start date"></b-date-time-select>\n  </div>\n  <div class="f-default__row-default f-add-calendar-entry__row">\n    <div class="f-default__field-title _required">To</div>\n    <b-date-time-select class="f-add-calendar-entry__date"\n      format="{{::$ctrl._dateService.getDateFormat(\'apiDateTime\')}}"\n      visible-date-format="{{::$ctrl._dateService.getDateFormat(\'momentDateTime\')}}"\n      ng-if="!$ctrl.allDayEvent"\n      name="endDate"\n      date="$ctrl.endDate"\n      is-required="true"\n      placeholder="Select end date"></b-date-time-select>\n    <b-date-time-select class="f-add-calendar-entry__date"\n      format="{{::$ctrl._dateService.getDateFormat(\'apiDate\')}}"\n      visible-date-format="{{::$ctrl._dateService.getDateFormat(\'momentDate\')}}"\n      ng-if="$ctrl.allDayEvent"\n      name="endDate"\n      date="$ctrl.endDate"\n      is-required="true"\n      placeholder="Select end date"></b-date-time-select>\n  </div>\n  <div class="f-default__row-default f-add-calendar-entry__row">\n    <div class="f-default__col-wrap">\n      <div class="f-default__col">\n        <button type="button" class="btn btn-default _gray _small _fill f-add-calendar-entry__btn"\n                ng-click="$ctrl.hideModal()">Cancel</button>\n      </div>\n      <div class="f-default__col">\n        <button type="submit" class="btn btn-default _green _small _fill f-add-calendar-entry__btn">Add</button>\n      </div>\n    </div>\n  </div>\n</form>\n\n\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r) {
            "ngInject";
            (0, n.default)(this, e), this._$scope = t, this._calendarService = i, this._modalDefaultService = a, this._notificationService = s, this._dateService = r, this.initValues()
        }
        return e.$inject = ["$scope", "calendarService", "modalDefaultService", "notificationService", "dateService"], (0, i.default)(e, [{
            key: "initValues",
            value: function() {
                this.local = {
                    startDate: null,
                    endDate: null,
                    allDayEvent: !1,
                    description: ""
                }
            }
        }, {
            key: "allDayEventChange",
            value: function(e) {
                e.preventDefault(), this.allDayEvent = !this.allDayEvent
            }
        }, {
            key: "addNewEntry",
            value: function(e) {
                var t = this;
                if (e.$valid) {
                    var n = {
                        all_day_event: this.allDayEvent,
                        start_date: this.allDayEvent ? this.startDate + " 00:01" : this.startDate,
                        end_date: this.allDayEvent ? this.endDate + " 23:59" : this.endDate,
                        description: this.description
                    };
                    return this._calendarService.createEvent(n).then(function() {
                        return t._notificationService.showSuccessNotification("Event was successfully created")
                    }).then(function() {
                        return t.hideModal()
                    })
                }
                this._notificationService.showErrorNotification("Please fill required fields")
            }
        }, {
            key: "hideModal",
            value: function() {
                this._$scope.$emit("hideModal")
            }
        }, {
            key: "startDate",
            get: function() {
                return this.local.startDate
            },
            set: function(e) {
                this.local.startDate = e
            }
        }, {
            key: "endDate",
            get: function() {
                return this.local.endDate
            },
            set: function(e) {
                this.local.endDate = e
            }
        }, {
            key: "description",
            get: function() {
                return this.local.description
            },
            set: function(e) {
                this.local.description = e
            }
        }, {
            key: "allDayEvent",
            get: function() {
                return this.local.allDayEvent
            },
            set: function(e) {
                this.local.allDayEvent = e
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1853));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("f-add-car", []).component("fAddCar", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1854)),
        i = a(t(1855));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1856);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            fields: "=",
            addCar: "&"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<form class="f-add-car" name="addCarForm"\n      novalidate\n      ng-submit="$ctrl.createCar(addCarForm, model, colour, registration)">\n  <div class="f-default__row-default f-add-car__row">\n    <div class="f-default__field-title _required">Model:</div>\n    <input type="text" class="f-add-car__input f-default__input" required ng-model="model">\n  </div>\n  <div class="f-default__row-default f-add-car__row">\n    <div class="f-default__field-title _required">Colour:</div>\n    <input type="text" class="f-add-car__input f-default__input" required ng-model="colour">\n  </div>\n  <div class="f-default__row-default f-add-car__row">\n    <div class="f-default__field-title _required">Registration:</div>\n    <input type="text" class="f-add-car__input f-default__input" required ng-model="registration">\n  </div>\n  <div class="f-default__row-default f-add-car__row _bottom">\n    <button type="button" class="f-add-car__cancel btn btn-default _small"\n            ng-click="$ctrl.hideModal()">Cancel</button>\n    <button type="submit" class="f-add-car__add btn btn-default _green _small _fill">\n      Add\n    </button>\n  </div>\n</form>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i) {
            "ngInject";
            (0, n.default)(this, e), this._$scope = t, this._notificationService = i
        }
        return e.$inject = ["$scope", "notificationService"], (0, i.default)(e, [{
            key: "createCar",
            value: function(e, t, n, i) {
                e.$valid ? this.addCar({
                    fields: this.fields,
                    model: {
                        model: t,
                        colour: n,
                        registration: i
                    }
                }) : this._notificationService.showErrorNotification("Please fill required fields")
            }
        }, {
            key: "hideModal",
            value: function() {
                this._$scope.$emit("hideModal")
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1858));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("f-add-contacts", []).component("fAddContacts", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1859)),
        i = a(t(1860));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1861);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            contact: "<",
            onAddContacts: "&",
            onCancel: "&"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<form class="f-add-contacts" name="addContactsForm" novalidate>\n  <div class="f-add-contacts__content">\n    <div class="f-default__row-default" ng-if="$ctrl.contact">\n      <div class="f-add-contacts__title">Linking {{ $ctrl.contact.name }} as a Contact</div>\n    </div>\n    <ng-container ng-if="!$ctrl.contact">\n      <div class="f-default__row-default">\n        <div class="f-default__field-title f-add-contacts__field-title">Title: *</div>\n        <div class="f-add-contacts__select-outer">\n          <ui-select ng-model="$ctrl.title"\n                     required\n                     ng-init="hash = $ctrl._selectsService.generateHash($ctrl.selects); $ctrl._selectsService.setItemsNumber($ctrl.infiniteScrollSettings, hash)"\n                     uis-open-close="$ctrl._selectsService.handleSelectToggling(hash, $ctrl.infiniteScrollSettings)"\n                     theme="selectize"\n                     class="select-default f-add-contacts__select"\n                     ng-attr-id="{{\'_\' + hash}}"\n                     search-enabled="false">\n            <ui-select-match placeholder="-">{{ $select.selected.description }}</ui-select-match>\n            <ui-select-choices repeat="title in $ctrl._dataCollectionService.lookups.title | limitTo:$ctrl.selects[hash].currentItems track by $index"\n                               infinite-scroll="$ctrl._selectsService.addNewItemsToSelect($ctrl.selects[hash], $ctrl.infiniteScrollSettings.numToAdd)"\n                               infinite-scroll-container="\'#_\' + hash + \' .ui-select-choices-content\'">\n              <span>{{ ::title.description }}</span>\n            </ui-select-choices>\n          </ui-select>\n\n          <div class="f-default__select-mobile-wrap f-add-contacts__select-mobile-wrap">\n            <select class="f-default__select-mobile f-add-contacts__select-mobile"\n                    required\n                    ng-model="$ctrl.title">\n              <option ng-repeat="title in $ctrl._dataCollectionService.lookups.title track by $index"\n                      ng-value="title">\n                {{ title.description }}\n              </option>\n            </select>\n          </div>\n        </div>\n      </div>\n      <div class="f-default__row-default">\n        <div class="f-default__field-title f-add-contacts__field-title">Forename: *</div>\n        <input type="text" class="f-default__input f-add-contacts__input"\n               required\n               ng-model="$ctrl.forename">\n      </div>\n      <div class="f-default__row-default">\n        <div class="f-default__field-title f-add-contacts__field-title">Surname: *</div>\n        <input type="text" class="f-default__input f-add-contacts__input"\n               required\n               ng-model="$ctrl.surname">\n      </div>\n      <div class="f-default__row-default">\n        <div class="f-default__field-title f-add-contacts__field-title">Gender: *</div>\n        <div class="f-add-contacts__select-outer">\n          <ui-select ng-model="$ctrl.gender"\n                     required\n                     ng-init="hash = $ctrl._selectsService.generateHash($ctrl.selects); $ctrl._selectsService.setItemsNumber($ctrl.infiniteScrollSettings, hash)"\n                     uis-open-close="$ctrl._selectsService.handleSelectToggling(hash, $ctrl.infiniteScrollSettings)"\n                     theme="selectize"\n                     class="select-default f-add-contacts__select"\n                     ng-attr-id="{{\'_\' + hash}}"\n                     search-enabled="false">\n            <ui-select-match placeholder="-">{{ $select.selected.description }}</ui-select-match>\n            <ui-select-choices repeat="gender in $ctrl._dataCollectionService.lookups.gender | limitTo:$ctrl.selects[hash].currentItems track by $index"\n                               infinite-scroll="$ctrl._selectsService.addNewItemsToSelect($ctrl.selects[hash], $ctrl.infiniteScrollSettings.numToAdd)"\n                               infinite-scroll-container="\'#_\' + hash + \' .ui-select-choices-content\'">\n              <span>{{ ::gender.description }}</span>\n            </ui-select-choices>\n          </ui-select>\n\n          <div class="f-default__select-mobile-wrap f-add-contacts__select-mobile-wrap">\n            <select class="f-default__select-mobile f-add-contacts__select-mobile"\n                    required\n                    ng-model="$ctrl.gender">\n              <option ng-repeat="gender in $ctrl._dataCollectionService.lookups.gender track by $index"\n                      ng-value="gender">\n                {{ gender.description }}\n              </option>\n            </select>\n          </div>\n        </div>\n      </div>\n      <div class="f-default__row-default">\n        <div class="f-default__field-title f-add-contacts__field-title">\n          Addresses:\n          <div class="f-add-contacts__btn-add-outer">\n            <input type="text" class="f-add-contacts__dummy-input" ng-model="emptyModel">\n            <button type="button" class="f-add-contacts__btn-add" ng-click="$ctrl.showAddAddressModal()"></button>\n          </div>\n        </div>\n        <t-addresses\n          ng-if="$ctrl.addresses.length"\n          field="{ data: $ctrl.addresses }"\n          remove="$ctrl.removeFieldItem(data)"\n          hide-moving="true"\n        ></t-addresses>\n      </div>\n      <div class="f-default__row-default">\n        <div class="f-default__field-title f-add-contacts__field-title">\n          Emails:\n          <div class="f-add-contacts__btn-add-outer">\n            <button type="button" class="f-add-contacts__btn-add"\n                    ng-click="$ctrl._dataCollectionService.showAddContactModal($ctrl.emails, \'address\', \'Emails\')"\n            ></button>\n          </div>\n        </div>\n        <t-contact-details\n          ng-if="$ctrl.emails.length"\n          field="{ data: $ctrl.emails }"\n          change-location="$ctrl._dataCollectionService.changeFieldItemLocation(data)"\n          remove-item="$ctrl.removeFieldItem(data)"\n          toggle-primary-checkbox="$ctrl._dataCollectionService.togglePrimaryCheckbox(data)"\n          toggle-main-checkbox="$ctrl._dataCollectionService[$ctrl._fCollectionUpdateService.getMainCheckboxMethodName(\'emails\')](data)"\n          first-column-name="\'Address\'"\n          lookups="$ctrl._dataCollectionService.lookups[$ctrl._fCollectionUpdateService.getLookupName(\'emails\')]"\n        ></t-contact-details>\n      </div>\n      <div class="f-default__row-default">\n        <div class="f-default__field-title f-add-contacts__field-title">\n          Telephones:\n          <div class="f-add-contacts__btn-add-outer">\n            <button type="button" class="f-add-contacts__btn-add"\n                    ng-click="$ctrl._dataCollectionService.showAddContactModal($ctrl.telephones, \'telephones\', \'Telephones\')"\n            ></button>\n          </div>\n        </div>\n        <t-contact-details\n          ng-if="$ctrl.telephones.length"\n          field="{ data: $ctrl.telephones }"\n          change-location="$ctrl._dataCollectionService.changeFieldItemLocation(data)"\n          remove-item="$ctrl.removeFieldItem(data)"\n          toggle-primary-checkbox="$ctrl._dataCollectionService.togglePrimaryCheckbox(data)"\n          toggle-main-checkbox="$ctrl._dataCollectionService[$ctrl._fCollectionUpdateService.getMainCheckboxMethodName(\'telephones\')](data)"\n          first-column-name="\'Telephones\'"\n          lookups="$ctrl._dataCollectionService.lookups[$ctrl._fCollectionUpdateService.getLookupName(\'telephones\')]"\n        ></t-contact-details>\n      </div>\n    </ng-container>\n    <div class="f-default__row-default">\n      <div class="f-default__field-title f-add-contacts__field-title">Relationship: *</div>\n      <div class="f-add-contacts__select-outer">\n        <ui-select ng-model="$ctrl.relationship"\n                   required\n                   ng-init="hash = $ctrl._selectsService.generateHash($ctrl.selects); $ctrl._selectsService.setItemsNumber($ctrl.infiniteScrollSettings, hash)"\n                   uis-open-close="$ctrl._selectsService.handleSelectToggling(hash, $ctrl.infiniteScrollSettings)"\n                   theme="selectize"\n                   class="select-default f-add-contacts__select"\n                   ng-attr-id="{{\'_\' + hash}}"\n                   search-enabled="false">\n          <ui-select-match placeholder="-">{{ $select.selected.description }}</ui-select-match>\n          <ui-select-choices repeat="type in $ctrl._dataCollectionService.lookups.relation_type | limitTo:$ctrl.selects[hash].currentItems track by $index"\n                             infinite-scroll="$ctrl._selectsService.addNewItemsToSelect($ctrl.selects[hash], $ctrl.infiniteScrollSettings.numToAdd)"\n                             infinite-scroll-container="\'#_\' + hash + \' .ui-select-choices-content\'">\n            <span>{{ ::type.description }}</span>\n          </ui-select-choices>\n        </ui-select>\n\n        <div class="f-default__select-mobile-wrap f-add-contacts__select-mobile-wrap">\n          <select class="f-default__select-mobile f-add-contacts__select-mobile"\n                  required\n                  ng-model="$ctrl.relationship">\n            <option ng-repeat="type in $ctrl._dataCollectionService.lookups.relation_type track by $index"\n                    ng-value="type">\n              {{ type.description }}\n            </option>\n          </select>\n        </div>\n      </div>\n    </div>\n    <div class="f-default__row-default">\n      <div class="f-default__field-title f-add-contacts__field-title">Priority:</div>\n      <div class="f-add-contacts__select-outer">\n        <ui-select ng-model="$ctrl.priority"\n                   theme="selectize"\n                   class="select-default f-add-contacts__select"\n                   search-enabled="false">\n          <ui-select-match placeholder="-">{{ $select.selected }}</ui-select-match>\n          <ui-select-choices repeat="priority in $ctrl.priorities track by $index">\n            <span>{{ ::priority }}</span>\n          </ui-select-choices>\n        </ui-select>\n\n        <div class="f-default__select-mobile-wrap f-add-contacts__select-mobile-wrap">\n          <select class="f-default__select-mobile f-add-contacts__select-mobile"\n                  ng-model="$ctrl.priority">\n            <option ng-repeat="priority in $ctrl.priorities track by $index">{{ priority }}</option>\n          </select>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class="f-add-contacts__bottom">\n    <div class="f-default__col-wrap">\n      <div class="f-default__col">\n        <button type="button" class="f-add-contacts__btn btn btn-default _small"\n                ng-click="$ctrl.goBack()">Back</button>\n      </div>\n      <div class="f-default__col">\n        <button type="submit" class="f-add-contacts__btn btn btn-default _small _green _fill"\n                ng-click="$ctrl.addContact(addContactsForm)">Add</button>\n      </div>\n    </div>\n  </div>\n</form>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r) {
            "ngInject";
            (0, n.default)(this, e), this._dataCollectionService = i, this._selectsService = t, this._fCollectionUpdateService = a, this._modalDefaultService = s, this._notificationService = r, this.infiniteScrollSettings = this._selectsService.getInfiniteScrollSettings(), this.addresses = [], this.emails = [], this.telephones = [], this.gender = null, this.surname = null, this.forename = null, this.title = null, this.relationship = null, this.priority = 0, this.priorities = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
        }
        return e.$inject = ["selectsService", "dataCollectionService", "fCollectionUpdateService", "modalDefaultService", "notificationService"], (0, i.default)(e, [{
            key: "showAddAddressModal",
            value: function() {
                var e = this,
                    t = {
                        fields: this.addresses,
                        lookup: this._dataCollectionService.getFreeAddressTypes(this.addresses, "contact"),
                        addAddress: function(t) {
                            return e.addAddress(t)
                        },
                        showLocation: !0
                    };
                this._modalDefaultService.showModalWithTemplates("modal-add-address", t, "Add new address")
            }
        }, {
            key: "addAddress",
            value: function(e) {
                var t = e.fields,
                    n = e.model;
                t.push(n), this.hideModal()
            }
        }, {
            key: "hideModal",
            value: function() {
                this._modalDefaultService.pop()
            }
        }, {
            key: "removeFieldItem",
            value: function(e) {
                var t = e.field,
                    n = e.item,
                    i = t.data.indexOf(n); - 1 !== i && t.data.splice(i, 1)
            }
        }, {
            key: "addContact",
            value: function(e) {
                if (e.$invalid) this._notificationService.showErrorNotification("Please fill required fields");
                else {
                    var t = {
                        relationship: {
                            id: this.relationship.id,
                            description: this.relationship.description
                        },
                        priority: this.priority
                    };
                    if (this.contact) {
                        var n = this.contact.name.split(" ");
                        t.id = this.contact.id, t.surname = n[n.length - 1], t.forename = n[n.length - 2]
                    } else t.surname = this.surname, t.forename = this.forename, t.title_id = this.title.id, t.gender_id = this.gender.id, t.emails = this.emails, t.telephones = this.telephones, t.addresses = this.addresses;
                    this.onAddContacts({
                        model: t
                    })
                }
            }
        }, {
            key: "goBack",
            value: function() {
                this.onCancel()
            }
        }, {
            key: "selects",
            get: function() {
                return this.infiniteScrollSettings.selects
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1863));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("f-add-group", []).component("fAddGroup", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1864)),
        i = a(t(1865));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1866);
    var s = {
        bindings: {
            selectedUsers: "<",
            onSubmit: "&"
        },
        controller: i.default,
        template: n.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<form class="f-add-group" name="addGroupForm">\n  <div class="f-default__row-default">\n    <dev class="f-default__field-title _required">Group Name:</dev>\n    <input type="text"\n      class="f-add-group__input f-default__input"\n      ng-model="$ctrl.groupName">\n  </div>\n\n  <div class="f-default__row-default">\n    <label class="f-add-group__label">\n      <input type="checkbox"\n        class="f-add-group__checkbox"\n        ng-model="$ctrl.isGlobal">\n      <span>Global</span>\n    </label>\n  </div>\n\n  <div class="f-default__row-default">\n    <div class="f-default__col-wrap">\n      <div class="f-default__col">\n        <button class="f-add-group__button _save"\n          ng-class="{ \'_disable\': !$ctrl.groupName }"\n          ng-click="$ctrl.saveGroup(addGroupForm)">\n          Save\n        </button>\n      </div>\n      <div class="f-default__col">\n        <button class="f-add-group__button _cancel" ng-click="$ctrl.hideModal()">Cancel</button>\n      </div>\n    </div>\n  </div>\n</form>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a) {
            "ngInject";
            (0, n.default)(this, e), this._$scope = t, this._notificationService = i, this._groupsService = a, this.local = {
                groupName: null,
                isGlobal: !1
            }
        }
        return e.$inject = ["$scope", "notificationService", "groupsService"], (0, i.default)(e, [{
            key: "saveGroup",
            value: function(e) {
                e.$invalid || this.onSubmit({
                    $data: {
                        name: this.groupName,
                        global: this.isGlobal
                    }
                })
            }
        }, {
            key: "hideModal",
            value: function() {
                this._$scope.$emit("hideModal")
            }
        }, {
            key: "groupName",
            set: function(e) {
                this.local.groupName = e
            },
            get: function() {
                return this.local.groupName
            }
        }, {
            key: "isGlobal",
            set: function(e) {
                this.local.isGlobal = e
            },
            get: function() {
                return this.local.isGlobal
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(0)),
        i = s(t(1868)),
        a = s(t(1872));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = n.default.module("f-autocomplete", []).component("fAutocomplete", i.default).directive({
        fAutocompleteShared: a.default
    }).name;
    exports.default = r
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1869)),
        i = a(t(1870));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1871);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            heading: "@",
            array: "<",
            placeholderText: "@",
            changeCallback: "&",
            limit: "<",
            mode: "@",
            studentsService: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<form class="f-autocomplete">\n  \x3c!--<div class="f-autocomplete__title">{{$ctrl.heading}}</div>--\x3e\n\n  <div class="f-default__row-default"\n      ng-if="$ctrl._windowWidthService.windowWidth <= $ctrl._deviceMarginConstants.MOBILE_MARGIN">\n    <div class="f-autocomplete__overlay"\n      ng-if="$ctrl.local.isMobileSearchVisible"\n      ng-click="$ctrl.closeDropList()"></div>\n    <div class="f-autocomplete__mobile-select">\n      <label ng-click="$ctrl.showDropList()">\n        <input class="f-autocomplete__mobile-field"\n          type="text"\n          ng-model="$ctrl.local.field">\n        <span class="f-autocomplete__mobile-selected" ng-if="!$ctrl.currentProfile.forename">{{$ctrl.placeholderText}}</span>\n        <span class="f-autocomplete__mobile-selected" ng-if="$ctrl.currentProfile.forename">\n          <span>{{$ctrl.currentProfile.forename}} {{$ctrl.currentProfile.surname}}</span>\n          <svg-use ng-if="$ctrl.array.length > 1" name="two-arrow"></svg-use>\n        </span>\n      </label>\n      <ul class="f-autocomplete__mobile-list"\n          ng-if="$ctrl.local.isMobileSearchVisible">\n        <li class="f-autocomplete__mobile-item"\n          ng-repeat="item in $ctrl.array | filter:$ctrl.local.field | limitTo:$ctrl.limit"\n          ng-click="$ctrl.onSelectedMobile(item)">\n          <span ng-if="$ctrl.mode === \'fullName\'">{{item.forename}} {{item.surname}}</span>\n          <span ng-if="$ctrl.mode === \'student\' || $ctrl.mode === \'teacher\'">\n            <pr-s-student student="item"></pr-s-student>\n          </span>\n        </li>\n      </ul>\n    </div>\n  </div>\n\n  <div class="f-default__row-default"\n    ng-if="$ctrl._windowWidthService.windowWidth > $ctrl._deviceMarginConstants.MOBILE_MARGIN"\n    lazy-photo\n    elements="$ctrl.items"\n    config="$ctrl.lazyPhotoConfig"\n  >\n    <ui-select ng-model="$ctrl.local.currentItem"\n      f-autocomplete-shared\n      theme="selectize"\n      on-select="$ctrl.onSelected($item)"\n      search-enabled="true"\n      class="select-default _gray"\n    >\n      <ui-select-match placeholder="{{ $ctrl.placeholderText }}">\n        {{ $ctrl.currentChild.resultRow || $select.selected.fullName }}\n      </ui-select-match>\n      <ui-select-choices\n        position=\'down\'\n        repeat="item in $ctrl.array | filter:{resultRow:$select.search} | limitTo:$ctrl.limit"\n      >\n        <span ng-if="$ctrl.mode === \'fullName\'">{{ item.resultRow }}</span>\n        <span ng-if="$ctrl.mode === \'student\' || $ctrl.mode === \'teacher\'|| $ctrl.mode === \'user\'">\n          <pr-s-student\n            photo-element data-hash="{{ item.hashPhoto }}"\n            student="item"\n          ></pr-s-student>\n        </span>\n      </ui-select-choices>\n    </ui-select>\n  </div>\n</form>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = o(t(11)),
        i = o(t(10)),
        a = o(t(35)),
        s = o(t(1)),
        r = o(t(2));

    function o(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var l = function() {
        function e(t, n, i, a, r, o, l, c, d, u, _, f, v, m, h, p, g, b, S) {
            "ngInject";
            (0, s.default)(this, e), this._$q = t, this._$rootScope = n, this._$stateParams = h, this._delayConstantsService = f, this._communicatorDataService = u, this._$timeout = _, this._$scope = a, this._autocompleteService = l, this._menuService = o, this._routeClassService = r, this._windowWidthService = c, this._deviceMarginConstants = d, this._$state = i, this._studentsService = p, this._userService = m, this._teachersService = g, this._timetableService = b, this._homeworkDataService = v, this._parentsEveningService = S, this.local = {
                field: "",
                currentItem: null,
                isMobileSearchVisible: !1,
                lazyPhotoConfig: {
                    prefix: "data:image/png;base64,",
                    reserveScroll: 150,
                    getPhotoCallback: this.getPhoto,
                    getDefaultPhotoCallback: this.getDefaultPhoto,
                    changeObjectTimeout: 500,
                    isUniqueElements: !0,
                    isSingleElements: !0
                }
            }
        }
        return e.$inject = ["$q", "$rootScope", "$state", "$scope", "routeClassService", "menuService", "autocompleteService", "windowWidthService", "deviceMarginConstants", "communicatorDataService", "$timeout", "delayConstantsService", "homeworkDataService", "userService", "$stateParams", "studentsService", "teachersService", "timetableService", "parentsEveningService"], (0, r.default)(e, [{
            key: "changeUserOnOtherPage",
            value: function(e) {
                var t = this;
                this._routeClassService.isMenuIn = !0, this._$timeout(function() {
                    var n = (0, a.default)({}, t._$stateParams, {
                        studentId: e.id
                    });
                    t._userService.user.activeStudent = e, t._$state.transitionTo(t._$state.$current, n, {
                        notify: !1
                    }), t._menuService.logo = {
                        path: e.photo,
                        isNotPng: !1
                    }
                }, this._delayConstantsService.WAIT_END_OF_STATE_ANIMATION_OUT)
            }
        }, {
            key: "changeUserOnStudentPage",
            value: function(e) {
                var t = this,
                    n = [function() {
                            angular.element(".student__back").removeClass("_active")
                        }, function() {
                            t._userService.user.activeStudent = e, t._$state.transitionTo(t._$state.$current, {
                                studentId: e.id
                            }, {
                                notify: !0
                            }), t._menuService.logo = {
                                path: e.photo,
                                isNotPng: !1
                            }
                        },
                        ["bindEvents", function() {
                            angular.element(".student__back").addClass("_active")
                        }]
                    ],
                    i = [this._menuService.eventsName.MENU_HIDE, this._menuService.eventsName.MENU_INIT, this._menuService.eventsName.EMPTY];
                this._menuService.setEvents(i, null, n)
            }
        }, {
            key: "changeUser",
            value: function(e) {
                this._$stateParams.studentId !== e.id && ("student" === this._routeClassService.fullStateName ? this.changeUserOnStudentPage(e) : this.changeUserOnOtherPage(e))
            }
        }, {
            key: "reloadPage",
            value: function() {
                this._$state.transitionTo(this._$state.current, this._$stateParams, {
                    notify: !1,
                    inherit: !1,
                    reload: this._$state.current.name
                })
            }
        }, {
            key: "onSelected",
            value: function(e) {
                var t = this;
                if (this.local.currentFullName = e.forename + " " + e.surname, this.studentsService && this.changeUser(e), "teacher" === this.mode && "timetable" === this._routeClassService.firstPartOfCurrentState) this._timetableService.updateListOfTeachers(e), this.selectedTeacher = e;
                else if ("teacher" === this.mode && "forms.employee" === this._$state.current.name) this.selectedTeacher = e, this.reloadPage();
                else if ("teacher" === this.mode && "homework" === this._routeClassService.firstPartOfCurrentState) this.selectedTeacher = e, this._homeworkDataService.reloadHomework();
                else if ("teacher" === this.mode && -1 !== this._routeClassService.fullStateName.indexOf("parentevent.teacherEvent")) {
                    if (this.selectedTeacher = e, this._parentsEveningService.teachersEvents[e.id]) {
                        var n = this._parentsEveningService.teachersEvents[e.id];
                        this._$rootScope.$emit("eventUpdate", n), n.learnerIds.length ? this._studentsService.getStudents(n.learnerIds).then(function(e) {
                            t._parentsEveningService.students = e
                        }) : this._parentsEveningService.students = []
                    }
                    var a = {
                        event_id: parseInt(this._$stateParams.event_id, 10)
                    };
                    e.id !== this._userService.user.id && (a.employee_id = e.id), this._parentsEveningService.fetchPrepEvent(a).then(function(e) {
                        return t._$rootScope.$emit("eventUpdate", e)
                    })
                } else if ("user" === this.mode) {
                    this._communicatorDataService.selectedUser = e, this.closeDropList(), this.changeCallback();
                    var s = {};
                    return this._communicatorDataService.isSelectedAnotherUserInUserSelect() && (s = (0, i.default)({}, s, this._communicatorDataService.getUserId())), void("received" === this._communicatorDataService.viewedMessagesType ? this._communicatorDataService.getInboxFromDb(s).then(function() {
                        return t._communicatorDataService.generatePaginationList()
                    }) : this._communicatorDataService.getOutboxFromDb(s).then(function() {
                        return t._communicatorDataService.generatePaginationList()
                    }))
                }
                this.closeDropList(), this.changeCallback(), this._$rootScope.$emit("userChangeLearner", {})
            }
        }, {
            key: "onSelectedMobile",
            value: function(e) {
                this.local.currentFullName = e.forename + " " + e.surname, "timetable" === this._routeClassService.firstPartOfCurrentState && this._windowWidthService.windowWidth < this._deviceMarginConstants.MOBILE_MARGIN && this._$scope.$emit("userChangeUser", e.id), this.closeDropList(), this.changeCallback({
                    args: e
                }), this._$scope.$emit("userChangeLearner", {})
            }
        }, {
            key: "closeDropList",
            value: function() {
                this.local.isMobileSearchVisible = !1
            }
        }, {
            key: "showDropList",
            value: function() {
                this.local.isMobileSearchVisible = !0
            }
        }, {
            key: "getPhoto",
            value: function(e, t) {
                return "student" === e._$scope.$ctrl.mode ? e._studentsService.students.getPhotos(t) : "teacher" === e._$scope.$ctrl.mode ? e._teachersService.getTeacherPhotosFromDb(t) : "user" === e._$scope.$ctrl.mode ? e._$q.all([e._studentsService.students.getPhotos(t), e._teachersService.getTeacherPhotosFromDb(t)]).then(function(e) {
                    return [].concat((0, n.default)(e[0]), (0, n.default)(e[1]))
                }) : void 0
            }
        }, {
            key: "getDefaultPhoto",
            value: function(e, t) {
                return e._studentsService.getDefaultPhotoUsingGender(t)
            }
        }, {
            key: "lazyPhotoConfig",
            get: function() {
                return this.local.lazyPhotoConfig
            }
        }, {
            key: "selectedTeacher",
            set: function(e) {
                this._teachersService.selectedTeacher = e
            }
        }, {
            key: "items",
            get: function() {
                return this._autocompleteService.getItems(this._$scope.$select)
            }
        }, {
            key: "currentChild",
            get: function() {
                return this._userService.user.activeChild || this._userService.user.activeStudent
            }
        }, {
            key: "currentProfile",
            get: function() {
                return this._userService.user.lastActiveProfile || this._userService.user.activeChild || this._userService.user.activeStudent
            }
        }]), e
    }();
    exports.default = l
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), exports.default = ["autocompleteService", function(e) {
        "ngInject";
        return {
            link: function(t, n, i, a) {
                e.addSelect(a), t.$parent.$parent.$select = a;
                var s = t.$watch(function() {
                        return a.search
                    }, function(t) {
                        e.addSearchValue(a, t)
                    }),
                    r = t.$watch(function() {
                        return a.items
                    }, function(t) {
                        e.addItems(a, t)
                    });
                t.$on("$destroy", function() {
                    ! function(t) {
                        e.removeSelect(t)
                    }(a)
                }), t.$on("$destroy", r), t.$on("$destroy", s)
            },
            require: "uiSelect"
        }
    }]
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1874));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("f-add-homework", ["ui.select"]).component("fAddHomework", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1875)),
        i = a(t(1876));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1877);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            homework: "<",
            onSubmit: "&",
            buttonText: "@",
            onRemove: "&",
            selectedClass: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<form class="f-add-homework"\n      name="addHomeworkForm"\n      novalidate\n      autocomplete="off"\n>\n  <div class="f-add-homework__left">\n    <div class="f-add-homework__content">\n      <div class="f-add-homework__wrapper">\n        <div class="f-add-homework__row">\n          <b-input-container class="f-add-homework__input-container">\n            <label class="f-add-homework__label" float-label>Homework title</label>\n            <input type="text"\n              required\n              with-float-label\n              class="f-default__input f-add-homework__input"\n              ng-model="$ctrl.model.activity">\n          </b-input-container>\n        </div>\n        <div class="f-add-homework__row">\n            <div class="f-add-homework__col _class" ng-if="!$ctrl._userService.checkRole(\'learner\')">\n              <ui-select ng-model="$ctrl.model.teaching_group_id"\n                          ng-init="hash = $ctrl._selectsService.generateHash($ctrl.selects); $ctrl._selectsService.setItemsNumber($ctrl.infiniteScrollSettings, hash)"\n                          uis-open-close="$ctrl._selectsService.handleSelectToggling(hash, $ctrl.infiniteScrollSettings)"\n                          theme="selectize"\n                          class="select-default f-add-homework__select"\n                          ng-attr-id="{{\'_\' + hash}}"\n                          search-enabled="true"\n                         ng-required="$ctrl._userService.user.capabilities[\'homework.teaching_group_required\']"\n              >\n                <ui-select-match placeholder="Class">{{ $ctrl.getName($ctrl.teachingList, $ctrl.model.teaching_group_id, $select.selected.name) }}</ui-select-match>\n                <ui-select-choices repeat="teaching.id as teaching in $ctrl.teachingList | filter:{name:$select.search} | limitTo:$ctrl.selects[hash].currentItems"\n                                    infinite-scroll="$ctrl._selectsService.addNewItemsToSelect($ctrl.selects[hash], $ctrl.infiniteScrollSettings.numToAdd)"\n                                    infinite-scroll-distance=\'1\'\n                                    infinite-scroll-container="\'#_\' + hash + \' .ui-select-choices-content\'"\n                                    ui-disable-choice="teaching.custom">\n                  <span>{{::teaching.name}}</span>\n                </ui-select-choices>\n              </ui-select>\n\n              <div class="f-default__select-mobile-wrap f-add-homework__select-mobile-wrap">\n                <select class="f-default__select-mobile f-add-homework__select-mobile"\n                        ng-required="$ctrl._userService.user.capabilities[\'homework.teaching_group_required\']"\n                        ng-model="$ctrl.model.teaching_group_id">\n                  <option value="" selected disabled hidden>Class</option>\n                  <option ng-repeat="teaching in $ctrl.teachingList track by $index"\n                          ng-disabled="teaching.custom"\n                          ng-value="teaching.id">\n                    {{::teaching.name}}\n                  </option>\n                </select>\n              </div>\n            </div>\n            <div class="f-add-homework__col _subject">\n                <ui-select class="select-default f-add-homework__select"\n                            ng-model="$ctrl.model.subject_obj"\n                            ng-required="!$ctrl.model.teaching_group_id"\n                            ng-init="hash = $ctrl._selectsService.generateHash($ctrl.selects); $ctrl._selectsService.setItemsNumber($ctrl.infiniteScrollSettings, hash)"\n                            uis-open-close="$ctrl._selectsService.handleSelectToggling(hash, $ctrl.infiniteScrollSettings)"\n                            ng-attr-id="{{\'_\' + hash}}"\n                            theme="selectize"\n                            search-enabled="true"\n                >\n                <ui-select-match placeholder="Subject">\n                  {{ $ctrl.getName($ctrl.subjects, $ctrl.model.subject_obj, $select.selected.name) }}\n                </ui-select-match>\n                <ui-select-choices repeat="subject.id as subject in $ctrl.subjects | filter:{name:$select.search} | limitTo:$ctrl.selects[hash].currentItems"\n                                    infinite-scroll-container="\'#_\' + hash + \' .ui-select-choices-content\'"\n                                    infinite-scroll-distance=\'1\'\n                                    infinite-scroll="$ctrl._selectsService.addNewItemsToSelect($ctrl.selects[hash], $ctrl.infiniteScrollSettings.numToAdd)">\n                  <span>{{ ::subject.name }}</span>\n                </ui-select-choices>\n              </ui-select>\n\n              <div class="f-default__select-mobile-wrap f-add-homework__select-mobile-wrap">\n                <select class="f-default__select-mobile f-add-homework__select-mobile"\n                        ng-required="!$ctrl.model.teaching_group_id"\n                        ng-model="$ctrl.model.subject_obj">\n                  <option disabled selected value="{{ null }}">Subject</option>\n                  <option ng-repeat="subject in $ctrl.subjects track by $index" ng-value="subject.id">\n                    {{::subject.name}}\n                  </option>\n                </select>\n              </div>\n            </div>\n        </div>\n        <div class="f-add-homework__row">\n          <b-date-time-select class="f-add-homework__date"\n            format="{{::$ctrl._dateService.getDateFormat(\'apiDate\')}}"\n            visible-date-format="{{::$ctrl._dateService.getDateFormat(\'momentDate\')}}"\n            name="dueDate"\n            date="$ctrl.model.due_date"\n            min-date="$ctrl.minDueDate"\n            on-change="$ctrl.onDueDateChange({ newValue })"\n            is-required="true"\n            label="Due date"\n            is-clear="true"></b-date-time-select>\n        </div>\n        <div class="f-add-homework__row" ng-if="!$ctrl._userService.checkRole(\'learner\')">\n          <div class="f-add-homework__label">\n            Optional Settings:\n          </div>\n          <b-date-time-select class="f-add-homework__date"\n            format="{{::$ctrl._dateService.getDateFormat(\'apiDateTime\')}}"\n            visible-date-format="{{::$ctrl._dateService.getDateFormat(\'momentDateTime\')}}"\n            is-disabled="!$ctrl.model.due_date"\n            name="availabilityDate"\n            date="$ctrl.model.available_date"\n            min-date="$ctrl.minAvailableDate"\n            max-date="$ctrl.maxAvailableDate"\n            label="Available On date/time"\n            is-clear="true"></b-date-time-select>\n        </div>\n        <div class="f-add-homework__row" ng-if="!$ctrl._userService.checkRole(\'learner\')">\n          <b-input-container class="f-add-homework__input-container">\n            <label class="f-add-homework__label" float-label>Expected Duration (mins)</label>\n            <input type="number"\n              min="1"\n              max="2147483647"\n              step="1"\n              class="f-default__input f-add-homework__input"\n              with-float-label\n              ng-model="$ctrl.model.duration">\n          </b-input-container>\n        </div>\n        <div class="f-add-homework__row" ng-if="!$ctrl._userService.checkRole(\'learner\')">\n          <b-date-time-select class="f-add-homework__date"\n            format="HH:mm"\n            show-header="false"\n            name="dueReminder"\n            date="$ctrl.model.due_reminder"\n            label="Collection Reminder (time)"\n            is-clear="true"></b-date-time-select>\n        </div>\n      </div>\n    </div>\n\n    <div class="f-add-homework__bottom">\n      <button type="submit" class="btn btn-default f-add-homework__btn-add"\n              ng-disabled="$ctrl.isLoading"\n              ng-click="$ctrl.submit(addHomeworkForm.$valid)"\n      >\n        {{ $ctrl.buttonText }}\n      </button>\n    </div>\n  </div>\n  <div class="f-add-homework__right">\n    <f-summernote class="f-add-homework__editor"\n                  content="$ctrl.model.description"\n                  required-field="true"\n    ></f-summernote>\n    <b-attachments class="f-add-homework__attachments"\n                   on-picked="$ctrl._attachmentsService.onPicked(data)"\n                   max-file-size="$ctrl._userService.user.miscellaneous.upload.max_attachment_size"\n                   remove="$ctrl.onRemove({ attachment })"\n    ></b-attachments>\n  </div>\n</form>\n\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = r(t(10)),
        i = r(t(11)),
        a = r(t(1)),
        s = r(t(2));

    function r(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var o = function() {
        function e(t, n, s, r, o, l, c, d) {
            "ngInject";
            (0, a.default)(this, e), this._attachmentsService = n, this._establishmentService = s, this._selectsService = t, this._userService = r, this._$window = o, this._modalDefaultService = l, this._studentsService = c, this._dateService = d, this.model = {
                activity: "",
                description: "",
                due_date: null,
                available_date: null,
                duration: null,
                due_reminder: null,
                teaching_group_id: null
            }, this.subjects = [{
                id: "-1",
                name: "Other"
            }].concat((0, i.default)(this._establishmentService.establishment.subjects.filter(function(e) {
                return e.active
            }))), this.infiniteScrollSettings = this._selectsService.getInfiniteScrollSettings(), this.isLoading = !1, this.minDueDate = moment().add(0, "days"), this.minAvailableDate = moment(), this.maxAvailableDate = null
        }
        return e.$inject = ["selectsService", "attachmentsService", "establishmentService", "userService", "$window", "modalDefaultService", "studentsService", "dateService"], (0, s.default)(e, [{
            key: "$onInit",
            value: function() {
                this.homework && this.fillModel(), this.teachingList = angular.copy(this._studentsService.teaching), this.teachingList[0].name = "Class", this.selectedClass && (this.model.teaching_group_id = this.selectedClass.id)
            }
        }, {
            key: "getName",
            value: function(e, t, n) {
                if (n && n.name) return n.name;
                if (t && e && e.length) {
                    var i = e.find(function(e) {
                        return Number(e.id) === Number(t)
                    });
                    if (i) return i.name
                }
            }
        }, {
            key: "fillModel",
            value: function() {
                var e = this,
                    t = this._establishmentService.establishment.subjects.find(function(t) {
                        return Number(t.id) === e.homework.subject_id
                    });
                this.model.activity = this.homework.activity, this.model.subject_obj = t && t.id, this.model.due_date = this._$window.moment(this.homework.due_date).format(this._dateService.getDateFormat("apiDate")), this.model.description = this.homework.description, this.model.duration = this.homework.duration, this.model.teaching_group_id = this.homework.teaching_group_id, this.homework.due_reminder && (this.model.due_reminder = this._$window.moment(this.homework.due_reminder, "hmm").format("HH:mm")), this.homework.available_date && (this.model.available_date = this._$window.moment(this.homework.available_date).format(this._dateService.getDateFormat("apiDateTime")))
            }
        }, {
            key: "submit",
            value: function(e) {
                var t = this;
                if (e) {
                    var n = this._establishmentService.establishment.subjects.find(function(e) {
                        return Number(e.id) === Number(t.model.subject_obj)
                    });
                    this.model.format = 1, this.model.subject_id = this.model.subject_obj, this.model.subject = n && (this.model.subject = n.name), this.isLoading = !0, this.onSubmit({
                        valid: e,
                        model: this.model
                    }).finally(function() {
                        t.isLoading = !1
                    })
                }
            }
        }, {
            key: "onDueDateChange",
            value: function(e) {
                var t = e.newValue;
                t ? (this.maxAvailableDate && (this.model.available_date = null), this.maxAvailableDate = t.subtract(5, "minutes")) : this.model = (0, n.default)({}, this.model, {
                    due_date: null,
                    available_date: null,
                    maxAvailableDate: null,
                    due_reminder: null
                })
            }
        }, {
            key: "selects",
            get: function() {
                return this.infiniteScrollSettings.selects
            }
        }]), e
    }();
    exports.default = o
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1879));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("f-add-import", []).component("fAddImport", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1880)),
        i = a(t(1881));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1882);
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<form class="f-add-import" name="addImportForm" novalidate>\n  <div class="f-default__row-default f-add-import__row">\n    <label class="f-default__field-title _required">Name</label>\n    <input type="text" class="f-default__input f-add-import__input"\n           placeholder="Text"\n           required\n           ng-model="description">\n  </div>\n  <div class="f-default__row-default f-add-import__row">\n    <label class="f-default__field-title _required">Url</label>\n    <input type="url" class="f-default__input f-add-import__input"\n           placeholder="Text"\n           required\n           ng-model="url">\n  </div>\n  <div class="f-default__row-default f-add-import__row" ng-if="$ctrl._userService.user.capabilities[\'icalendar.group_import\']">\n    <label class="f-default__field-title">Visible to:</label>\n    <div ng-dropdown-multiselect\n         options="$ctrl.visibleToOptions"\n         selected-model="$ctrl.visibleTo"\n         extra-settings="$ctrl.multipleSelects.settings"></div>\n  </div>\n  <div class="f-default__row-default f-add-import__row">\n    <div class="f-add-import__controls">\n      <button type="button" class="f-add-import__btn btn btn-default"\n              ng-click="$ctrl.hideModal()">Cancel</button>\n      <button type="submit" class="f-add-import__btn btn btn-default _fill _green"\n              ng-click="$ctrl.addImport(addImportForm, url, description)">\n        Add\n      </button>\n    </div>\n  </div>\n</form>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r) {
            "ngInject";
            (0, n.default)(this, e), this._modalDefaultService = i, this._iCalendarsService = a, this._notificationService = s, this._userService = r, this._$scope = t, this.visibleToOptions = [{
                description: "All Parents",
                key: "parent"
            }, {
                description: "All Staff",
                key: "employee"
            }, {
                description: "All Students",
                key: "learner"
            }], this.visibleTo = [], this.multipleSelects = {
                settings: {
                    scrollableHeight: "210px",
                    scrollable: !0,
                    displayProp: "description",
                    checkBoxes: !0
                }
            }
        }
        return e.$inject = ["$scope", "modalDefaultService", "iCalendarsService", "notificationService", "userService"], (0, i.default)(e, [{
            key: "addImport",
            value: function(e, t, n) {
                var i = this;
                if (e.$invalid) this._notificationService.showErrorNotification("Please fill required fields");
                else {
                    var a = {
                        url: t,
                        description: n
                    };
                    this.visibleTo.length && (a.group_import = !0, a.group_details = {
                        user_types: {}
                    }, this.visibleTo.forEach(function(e) {
                        a.group_details.user_types[e.key] = !0
                    })), this._iCalendarsService.addICalendarOption(a).then(function() {
                        return i._iCalendarsService.getICalendarsData()
                    }).then(function() {
                        return i.hideModal()
                    })
                }
            }
        }, {
            key: "hideModal",
            value: function() {
                this._$scope.$emit("hideModal")
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1884));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("f-add-teachers", []).component("fAddTeachers", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1885)),
        i = a(t(1886));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1887);
    var s = {
        template: n.default,
        controller: i.default,
        transclude: !0,
        bindings: {
            teachers: "<",
            onSubmit: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<form class="f-add-teachers">\n\n  <div class="f-add-teachers__wrapper">\n    <div class="f-add-teachers__row">\n      <b-input-container class="f-add-teachers__input-container">\n        <label class="f-add-teachers__label" float-label>Teacher name</label>\n        <input type="text" class="f-default__input f-add-teachers__input"\n          with-float-label\n          ng-model-options="{ debounce: 400 }"\n          ng-model="$ctrl.name"\n          ng-change="$ctrl._search()">\n      </b-input-container>\n    </div>\n    <div class="f-add-teachers__row">\n      <ui-select ng-model="$ctrl.selectedGroup"\n        theme="selectize"\n        ng-init="hash = $ctrl._selectsService.generateHash($ctrl.selects); $ctrl._selectsService.setItemsNumber($ctrl.infiniteScrollSettings, hash)"\n        class="select-default f-add-teachers__select"\n        ng-attr-id="{{\'_\' + hash}}"\n        uis-open-close="$ctrl._selectsService.handleSelectToggling(hash, $ctrl.infiniteScrollSettings)"\n        ng-change="$ctrl.onGroupChange()"\n        search-enabled="false">\n        <ui-select-match placeholder="Groups">{{ $select.selected.name }}</ui-select-match>\n        <ui-select-choices repeat="group in $ctrl.employeeGroups | limitTo:$ctrl.selects[hash].currentItems track by group.id"\n          infinite-scroll="$ctrl._selectsService.addNewItemsToSelect($ctrl.selects[hash], $ctrl.infiniteScrollSettings.numToAdd)"\n          infinite-scroll-container="\'#_\' + hash + \' .ui-select-choices-content\'">\n          <span ng-class="{ isDeselect: !$index }">{{ ::group.name }}</span>\n        </ui-select-choices>\n      </ui-select>\n\n      <div class="f-default__select-mobile-wrap">\n        <select class="f-default__select-mobile"\n          ng-change="$ctrl.onGroupChange()"\n          ng-model="$ctrl.selectedGroup">\n          <option ng-repeat="group in $ctrl.employeeGroups track by group.id" ng-value="::group">{{::group.name}}</option>\n        </select>\n      </div>\n    </div>\n    <div class="f-add-teachers__row"\n      ng-if="$ctrl.isCanCreateGroups">\n      <button class="f-add-teachers__add-group"\n        ng-disabled="!$ctrl.selectedEmployees.length"\n        ng-click="$ctrl.openAddGroupModal()">Create group</button>\n    </div>\n  </div>\n\n  <div class="f-add-teachers__bottom">\n    <button type="button" class="btn btn-default f-add-teachers__btn"\n            ng-if="$ctrl.firstPartOfCurrentState === \'parentevent\'"\n            ng-click="$ctrl._addTeachers()"\n            ng-disabled="!$ctrl._teachersService.selectedTeachers.length">Add</button>\n    <button type="button" class="btn btn-default f-add-teachers__btn"\n            ng-if="$ctrl.onSubmit"\n            ng-click="$ctrl.onSubmit()"\n            ng-disabled="!$ctrl._teachersService.selectedTeachers.length">Close</button>\n    <ng-transclude></ng-transclude>\n  </div>\n</form>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(11)),
        i = s(t(1)),
        a = s(t(2));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = function() {
        function e(t, n, a, s, r, o, l, c, d, u) {
            "ngInject";
            (0, i.default)(this, e), this._$scope = u, this._parentsEveningService = a, this._notificationService = s, this._teachersService = n, this._$stateParams = t, this._modalDefaultService = r, this._routeClassService = o, this._selectsService = l, this._groupsService = c, this._userService = d, this.groupsChangesListener = angular.noop, this.teachers = [], this.local = {
                name: "",
                infiniteScrollSettings: this._selectsService.getInfiniteScrollSettings(),
                selectedGroup: null,
                isLoading: !1,
                employeeGroups: [],
                isCanCreateGroups: !1
            }, console.log(this.local)
        }
        return e.$inject = ["$stateParams", "teachersService", "parentsEveningService", "notificationService", "modalDefaultService", "routeClassService", "selectsService", "groupsService", "userService", "$scope"], (0, a.default)(e, [{
            key: "_addTeachers",
            value: function() {
                var e = this,
                    t = this._teachersService.selectedTeachers.map(function(e) {
                        return e.id
                    }),
                    n = this._$stateParams.event_id;
                this._parentsEveningService.addEmployees({
                    event_id: n,
                    employee_ids: t
                }).then(function() {
                    return e._notificationService.showSuccessNotification("Success")
                }).then(function() {
                    return e.closeModal()
                }).then(function() {
                    return e._parentsEveningService.getEventDetails({
                        event_id: n
                    })
                }).then(function() {
                    return e._parentsEveningService.prepTeachers(e.teachers)
                })
            }
        }, {
            key: "_search",
            value: function() {
                var e = this;
                this._teachersService.filteredTeachers = this.teachers.filter(function(t) {
                    var n = -1 !== (t.title + " " + t.forename + " " + t.surname).toLowerCase().indexOf(e.local.name.toLowerCase()),
                        i = !0;
                    return e._groupsService.selectedMembers && e._groupsService.selectedMembers.length && (i = e._groupsService.selectedMembers.indexOf(t.id) >= 0), n && i
                })
            }
        }, {
            key: "onGroupChange",
            value: function() {
                var e = this;
                console.log(this.local.selectedGroup);
                var t = this.local.selectedGroup;
                t && t.id ? "none" === t.id ? (this._groupsService.selectedMembers = [], this._search()) : (this.local.isLoading = !0, this._groupsService.getMembersOfSelectedEmployeeGroups({
                    group_id: t.id
                }).then(function(e) {
                    var t = e.members;
                    return void 0 === t ? [] : t
                }).then(function(t) {
                    e._groupsService.selectedMembers = t.map(function(e) {
                        return e.id
                    })
                }).then(function() {
                    return e._search()
                }).finally(function() {
                    e.local.isLoading = !1
                })) : (this._groupsService.selectedMembers = [], this._search())
            }
        }, {
            key: "closeModal",
            value: function() {
                this._modalDefaultService.pop()
            }
        }, {
            key: "$onInit",
            value: function() {
                this.bindListeners(), this.local.isCanCreateGroups = this._userService.checkRole("employee")
            }
        }, {
            key: "$onDestroy",
            value: function() {
                this.unbindListeners(), this._groupsService.selectedMembers = []
            }
        }, {
            key: "bindListeners",
            value: function() {
                var e = this;
                this.groupsChangesListener = this._$scope.$watch(function() {
                    return e._groupsService.employeeGroups
                }, function(t) {
                    var i = [{
                        name: "Groups",
                        id: "none"
                    }];
                    t && t.length && (i = [].concat((0, n.default)(i), (0, n.default)(t))), e.local.employeeGroups = i, e.local.selectedGroup || (e.local.selectedGroup = e.local.employeeGroups[0])
                })
            }
        }, {
            key: "unbindListeners",
            value: function() {
                this.groupsChangesListener()
            }
        }, {
            key: "openAddGroupModal",
            value: function() {
                this._modalDefaultService.showModalWithTemplates("modal-create-group", {
                    isEmployeeGroups: !0
                }, "Create group")
            }
        }, {
            key: "employeeGroups",
            get: function() {
                return this.local.employeeGroups
            }
        }, {
            key: "name",
            get: function() {
                return this.local.name
            },
            set: function(e) {
                this.local.name = e
            }
        }, {
            key: "firstPartOfCurrentState",
            get: function() {
                return this._routeClassService.firstPartOfCurrentState
            }
        }, {
            key: "selects",
            get: function() {
                return this.local.infiniteScrollSettings.selects
            }
        }, {
            key: "infiniteScrollSettings",
            get: function() {
                return this.local.infiniteScrollSettings
            }
        }, {
            key: "selectedGroup",
            get: function() {
                return this.local.selectedGroup
            },
            set: function(e) {
                this.local.selectedGroup = e
            }
        }, {
            key: "isCanCreateGroups",
            get: function() {
                var e = !this._groupsService.isEmployeeGroupEditModalOpen(),
                    t = this._userService.checkRole("employee");
                return e && t
            }
        }, {
            key: "selectedEmployees",
            get: function() {
                return this._teachersService.selectedTeachers || []
            }
        }]), e
    }();
    exports.default = r
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1889));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("f-book-slot", []).component("fBookSlot", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1890)),
        i = a(t(1891));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1892);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            slots: "<",
            book: "&"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<form class="f-book-slot" name="bookSlotForm" novalidate\n      ng-submit="$ctrl.onBook({ bookSlotForm, slot: $ctrl.slot, note: $ctrl.note })">\n  <div class="f-default__row-default">\n    <div class="f-book-slot__time">\n      Date: <span>{{ $ctrl.slots[0].date }}</span>\n    </div>\n  </div>\n  <div class="f-default__row-default">\n    <div class="f-default__field-title _required">Subject:</div>\n    <div class="f-default__select-mobile-wrap">\n      <select class="f-default__select-mobile f-book-slot__select-mobile"\n              required\n              ng-model="$ctrl.slot"\n              ng-change="$ctrl.clearParentId($ctrl.slot)"\n              ng-options="slot.mobileText disable when !slot.available for slot in $ctrl.slots"\n      >\n        <option value="" disabled selected hidden>Choose subject...</option>\n      </select>\n    </div>\n  </div>\n  <div class="f-default__row-default" ng-if="$ctrl.slot && $ctrl.slot.parents && !$ctrl._userService.user.activeChild">\n    <div class="f-default__field-title _required">Parent:</div>\n    <div class="f-default__select-mobile-wrap">\n      <select class="f-default__select-mobile f-book-slot__select-mobile"\n              required\n              ng-model="$ctrl.parentId"\n      >\n        <option value="" selected disabled hidden>Select parent</option>\n        <option ng-repeat="parent in $ctrl.parents track by $index" ng-value="parent.id">\n          {{::parent.forename}} {{::parent.surname}}\n        </option>\n      </select>\n    </div>\n  </div>\n  <div class="f-default__row-default">\n    <div class="f-default__field-title">Comment:</div>\n    <textarea class="f-book-slot__textarea f-default__textarea"\n              name="comment"\n              placeholder="Add comment"\n              ng-model="$ctrl.note"\n    ></textarea>\n  </div>\n  <div class="f-default__row-default">\n    <button type="submit" class="f-book-slot__btn btn btn-default _green _fill _small">Book</button>\n  </div>\n</form>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i) {
            "ngInject";
            (0, n.default)(this, e), this._userService = t, this._notificationService = i, this._model = {}
        }
        return e.$inject = ["userService", "notificationService"], (0, i.default)(e, [{
            key: "clearParentId",
            value: function(e) {
                e.parent_id = null
            }
        }, {
            key: "onBook",
            value: function(e) {
                var t = e.bookSlotForm,
                    n = e.slot,
                    i = e.note;
                if (n)
                    if (t.$valid) {
                        var a = {
                            notes_to_teacher: i,
                            event_id: n.event_id,
                            teacher_id: n.teacher_id,
                            learner_id: n.learner.id,
                            slot_id: n.slot.slot_id
                        };
                        this._userService.checkRole("employee") && this._userService.user.activeStudent && (a.parent_id = n.parent_id), this.book({
                            slot: a
                        })
                    } else this._notificationService.showErrorNotification("Please fill required fields")
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1894));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("f-booked-slot", []).component("fBookedSlot", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1895)),
        i = a(t(1896));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1899);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            model: "<",
            book: "&"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<form class="f-booked-slot" name="selectUserForm" novalidate\n      ng-submit="$ctrl.submit(selectUserForm)"\n>\n  <div class="f-default__row-default f-booked-slot__row _info">\n    Date: {{ $ctrl.model.date }}\n  </div>\n  <div class="f-default__row-default f-booked-slot__row _info">\n    Subjects: {{ $ctrl.model.subject }}\n  </div>\n  <div class="f-default__row-default f-booked-slot__row _info">\n    Learner: {{ $ctrl.model.learner.name }}\n  </div>\n  <div class="f-default__row-default f-booked-slot__row _info" ng-if="$ctrl.model.parents.length">\n    <dev class="f-default__field-title _required">Select parent:</dev>\n    <ui-select ng-model="$ctrl.model.parent_id"\n               required\n               theme="selectize"\n               class="select-default f-student-search__select"\n               search-enabled="false"\n    >\n      <ui-select-match placeholder="Select parent">{{ $select.selected.forename }} {{ $select.selected.surname }}</ui-select-match>\n      <ui-select-choices repeat="parent.id as parent in $ctrl.model.parents track by $index">\n        <span>{{ parent.forename }} {{ parent.surname }}</span>\n      </ui-select-choices>\n    </ui-select>\n    <div class="f-default__select-mobile-wrap f-booked-slot__select-mobile-wrap">\n      <select class="f-default__select-mobile f-booked-slot__select-mobile"\n              required\n              ng-model="$ctrl.model.parent_id"\n      >\n        <option value="" selected disabled hidden>Select parent</option>\n        <option ng-repeat="parent in $ctrl.model.parents track by $index"\n                value="{{::parent.id}}"\n        >{{::parent.forename}} {{::parent.surname}}</option>\n      </select>\n    </div>\n  </div>\n  <div class="f-default__row-default">\n    <dev class="f-default__field-title">Comment:</dev>\n    <textarea class="f-booked-slot__textarea"\n              name="comment"\n              placeholder="Add comment"\n              ng-model="$ctrl.note"\n    ></textarea>\n  </div>\n  <div class="f-default__row-default f-booked-slot__row _info">\n    <div class="f-default__col-wrap">\n      <div class="f-default__col">\n        <button type="button"\n                class="f-booked-slot__btn btn btn-default _gray _fill _small"\n                ng-click="$ctrl.hideModal()"\n        >Cancel</button>\n      </div>\n      <div class="f-default__col">\n        <button type="submit"\n                class="f-booked-slot__btn btn btn-default _green _fill _small"\n                ng-click="$ctrl.onBook()"\n        >Book</button>\n      </div>\n    </div>\n  </div>\n</form>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(43)),
        i = s(t(1)),
        a = s(t(2));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = function() {
        function e(t, n, a, s) {
            "ngInject";
            (0, i.default)(this, e), this._parentsEveningService = t, this._userService = n, this._modalDefaultService = a, this._notificationService = s
        }
        return e.$inject = ["parentsEveningService", "userService", "modalDefaultService", "notificationService"], (0, a.default)(e, [{
            key: "$onInit",
            value: function() {
                this.model && this._userService.checkRole("parent") && this._userService.checkRole("employee") && this._userService.user.activeChild ? this.model.parent_id = this._userService.user.id : (0, n.default)(this.model, "parent_id")
            }
        }, {
            key: "hideModal",
            value: function() {
                this._modalDefaultService.pop()
            }
        }, {
            key: "submit",
            value: function(e) {
                return e.$invalid ? this._notificationService.showErrorNotification("Please fill required fields") : (this.model.notes_to_teacher = this.note, this.book({
                    model: this.model
                }))
            }
        }]), e
    }();
    exports.default = r
}, , , function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1901));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("f-booking-manage-room", []).component("fBookingManageRoom", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1902)),
        i = a(t(1903));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1904);
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<form class="f-booking-manage-room" name="bookingManageRoomForm"\n      novalidate\n      ng-submit="$ctrl._saveRoom(bookingManageRoomForm)">\n  <div class="f-default__row-default" ng-if="$ctrl._resourceBookingService.data.selectedRoom.source !== \'MISRoom\'">\n    <div class="f-default__field-title _required">Name</div>\n    <textarea class="f-booking-manage-room__textarea f-default__textarea"\n              required\n              rows="3"\n              ng-model="$ctrl.description"></textarea>\n  </div>\n  <div class="f-default__row-default">\n    <div class="f-default__field-title _required">Information</div>\n    <textarea class="f-booking-manage-room__textarea f-default__textarea"\n              required\n              rows="3"\n              ng-model="$ctrl.information"></textarea>\n  </div>\n  <div class="f-default__row-default">\n    <div class="f-default__field-title _required">Teacher</div>\n    <ui-select ng-model="$ctrl.selectedEmployee"\n               required\n               theme="selectize"\n               ng-init="hash = $ctrl._selectsService.generateHash($ctrl.selects); $ctrl._selectsService.setItemsNumber($ctrl.infiniteScrollSettings, hash)"\n               uis-open-close="$ctrl._selectsService.handleSelectToggling(hash, $ctrl.infiniteScrollSettings)"\n               class="select-default _gray f-booking-manage-room__select"\n               ng-attr-id="{{\'_\' + hash}}"\n               search-enabled="false">\n      <ui-select-match placeholder="Room owner">\n        {{$select.selected.title}} {{$select.selected.forename}} {{$select.selected.surname}}\n      </ui-select-match>\n      <ui-select-choices repeat="teacher in $ctrl._teachersService.filteredTeachers | limitTo:$ctrl.selects[hash].currentItems track by $index"\n                         infinite-scroll="$ctrl._selectsService.addNewItemsToSelect($ctrl.selects[hash], $ctrl.infiniteScrollSettings.numToAdd)"\n                         infinite-scroll-container="\'#_\' + hash + \' .ui-select-choices-content\'">\n        <span>{{teacher.title}} {{teacher.forename}} {{teacher.surname}}</span>\n      </ui-select-choices>\n    </ui-select>\n    <div class="f-default__select-mobile-wrap">\n      <select class="f-default__select-mobile f-booking-manage-room__select-mobile"\n              required\n              ng-options="teacher as teacher.title + \' \' + teacher.forename + \' \' + teacher.surname for teacher in $ctrl._teachersService.filteredTeachers"\n              ng-model="$ctrl.selectedEmployee">\n        <option value="" selected disabled>Room owner</option>\n      </select>\n    </div>\n  </div>\n  <div class="f-default__row-default">\n    <button type="submit" class="f-booking-manage-room__btn btn btn-default _green _small _fill">Save</button>\n  </div>\n</form>\n\n\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r) {
            "ngInject";
            (0, n.default)(this, e), this._resourceBookingService = t, this._teachersService = i, this._modalDefaultService = a, this._notificationService = s, this._selectsService = r, this._initValues()
        }
        return e.$inject = ["ResourceBookingService", "teachersService", "modalDefaultService", "notificationService", "selectsService"], (0, i.default)(e, [{
            key: "_initValues",
            value: function() {
                var e = this;
                this._teachersService.filteredTeachers.forEach(function(t) {
                    t.id === e._resourceBookingService.data.selectedRoom.owner_id && (e.selectedEmployee = t)
                }), this.description = this._resourceBookingService.data.selectedRoom.description, this.information = this._resourceBookingService.data.selectedRoom.information, this.infiniteScrollSettings = this._selectsService.getInfiniteScrollSettings()
            }
        }, {
            key: "_saveRoom",
            value: function(e) {
                e.$valid ? (this._resourceBookingService.saveRoom(this.selectedEmployee.id, this.description, this.information), this._hideModal()) : this._notificationService.showErrorNotification("Please fill required fields")
            }
        }, {
            key: "_hideModal",
            value: function() {
                this._modalDefaultService.pop()
            }
        }, {
            key: "selects",
            get: function() {
                return this.infiniteScrollSettings.selects
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1906));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("f-change-password", []).component("fChangePassword", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1907)),
        i = a(t(1908));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1909);
    var s = {
        restrict: "E",
        bindings: {},
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<form class="f-change-password" name="changePasswordForm"\n      novalidate\n      ng-submit="$ctrl.updatePassword(changePasswordForm)">\n  <div class="f-default__row-default">\n    <div class="f-default__field-title _required">Old Password</div>\n    <input type="password" class="f-default__input f-change-password__input"\n           name="oldPass"\n           required\n           ng-model="$ctrl.model.oldPassword">\n  </div>\n  <div class="f-default__row-default">\n    <div class="f-default__field-title _required">New Password</div>\n    <input type="password" class="f-default__input f-change-password__input"\n           ng-change="$ctrl.validateConfirmPasswordFields(changePasswordForm)"\n           ng-minlength="$ctrl.local.MIN_CHARACTERS"\n           name="newPass"\n           required\n           ng-model="$ctrl.model.newPassword">\n  </div>\n  <div class="f-default__row-default">\n    <div class="f-default__field-title _required">Confirm</div>\n    <input type="password" class="f-default__input f-change-password__input"\n           ng-change="$ctrl.validateConfirmPasswordFields(changePasswordForm)"\n           name="confirmPass"\n           required\n           ng-model="$ctrl.model.confirmPassword">\n  </div>\n\n  <div class="f-default__row-default">\n    <button type="submit" class="f-change-password__btn btn btn-default _green _small _fill">Update</button>\n  </div>\n</form>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s) {
            "ngInject";
            (0, n.default)(this, e), this._userService = t, this._educationalsService = i, this._modalDefaultService = a, this._notificationService = s, this.clearForm(), this.local = {
                MIN_CHARACTERS: 6
            }
        }
        return e.$inject = ["userService", "educationalsService", "modalDefaultService", "notificationService"], (0, i.default)(e, [{
            key: "clearForm",
            value: function() {
                this.model = {
                    oldPassword: "",
                    newPassword: "",
                    confirmPassword: ""
                }
            }
        }, {
            key: "validateConfirmPasswordFields",
            value: function(e) {
                e.confirmPass.$setValidity("", e.newPass.$viewValue === e.confirmPass.$viewValue)
            }
        }, {
            key: "updatePassword",
            value: function(e) {
                var t = this,
                    n = this.model;
                if (e.oldPass.$valid && e.newPass.$viewValue.length && e.confirmPass.$viewValue.length)
                    if (!e.newPass.$valid && e.newPass.$viewValue.length <= this.local.MIN_CHARACTERS) this._notificationService.showErrorNotification("Password must contain more than " + this.local.MIN_CHARACTERS + " characters.", "Incorrect length");
                    else {
                        if (e.newPass.$viewValue === e.confirmPass.$viewValue) return this._userService.fetchNewPassword(n.oldPassword, n.newPassword).then(function() {
                            return t.handleSuccess(n)
                        });
                        this._notificationService.showErrorNotification("New password and confirm password must be the same.", "Incorrect new password")
                    }
                else this._notificationService.showErrorNotification("Please fill all fields")
            }
        }, {
            key: "handleSuccess",
            value: function(e) {
                this._notificationService.showSuccessNotification("Password has been changed");
                var t = this._userService.user.username,
                    n = this._userService.user.establishmentId,
                    i = this._educationalsService.getEducationals().filter(function(e) {
                        return t === e.username && n === e.schoolId
                    });
                i.forEach(function(t) {
                    t.password && (t.password = e.newPassword)
                }), i.length && this._educationalsService.updateEducationalsInLocalStorage(), this.clearForm(), this._modalDefaultService.closeLastModal()
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1911));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("f-changes-detected", []).component("fChangesDetected", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1912)),
        i = a(t(1913));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1914);
    var s = {
        template: n.default,
        bindings: {
            scope: "<",
            link: "<"
        },
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<form class="f-changes-detected">\n  <div class="f-changes-detected__title">You have unsaved changes, do you want to leave this page?</div>\n\n  <div class="f-changes-detected__button">\n    <button class="btn btn-default _green _fill" type="button" ng-click="$ctrl.closePage()">Yes</button>\n    <button class="btn btn-default _red _fill" type="button" ng-click="$ctrl.hideModal()">No</button>\n  </div>\n</form>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r) {
            "ngInject";
            (0, n.default)(this, e), this._menuService = a, this._blockedTransitionService = s, this._$scope = t, this._$state = i, this._$stateParams = r
        }
        return e.$inject = ["$scope", "$state", "menuService", "blockedTransitionService", "$stateParams"], (0, i.default)(e, [{
            key: "closePage",
            value: function() {
                this.hideModal(), this._blockedTransitionService.enableTransition(), this.link && ("home" === this.link ? this._menuService.goHome() : this._$state.transitionTo(this.link, this._$stateParams, {
                    notify: !1
                })), angular.isFunction(this.scope.transition) && this.scope.transition(this.scope.params)
            }
        }, {
            key: "hideModal",
            value: function() {
                this._$scope.$emit("hideModal")
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1916));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("f-club-register", []).component("fClubRegister", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1917)),
        i = a(t(1918));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1919);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            club: "<",
            session: "<",
            onSubmit: "&",
            tagsAutohide: "<",
            changeAttending: "&"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<form class="f-club-register">\n  <div class="f-club-register__left">\n    <div class="f-club-register__teacher">\n      <div class="f-club-register__teacher-photo" binded-photo photo-url="{{ ::$ctrl._userService.user.photo }}"></div>\n      <div class="f-club-register__teacher-name">\n        {{ ::$ctrl._userService.user.forename }} {{ ::$ctrl._userService.user.surname }}\n      </div>\n    </div>\n    <button type="submit" class="btn btn-default _small f-club-register__btn-submit"\n      ng-disabled="$ctrl.isLoading"\n      ng-click="$ctrl.submit()">Update</button>\n  </div>\n  <div class="f-club-register__right">\n    <div class="f-club-register__top">\n      <div class="f-club-register__name">{{ ::$ctrl.club.name }}: {{ ::$ctrl.session.start_time }}</div>\n      <div class="f-club-register__actions">\n        <button type="button" class="f-club-register__button btn btn-default _red _behaviour _icon"\n          ng-disabled="!$ctrl._studentsService.selectedStudents.length"\n          ng-if="$ctrl._userService.user.capabilities.behaviour.create"\n          ng-click="$ctrl.showBehaviourModal(\'_behaviour\', \'Behaviour\', \'behaviour\')">\n          <svg-use class="f-club-register__button-icon"\n            name="behaviour"></svg-use>\n          <span class="f-club-register__button-text">Behaviour</span>\n        </button>\n        <button type="button" class="f-club-register__button btn btn-default _green _achievement _icon"\n          ng-disabled="!$ctrl._studentsService.selectedStudents.length"\n          ng-if="$ctrl._userService.user.capabilities.achievement.create"\n          ng-click="$ctrl.showBehaviourModal(\'_achievement\', \'Achievement\', \'achievement\')">\n          <svg-use class="f-club-register__button-icon"\n            name="achievement"></svg-use>\n          <span class="f-club-register__button-text">Achievement</span>\n        </button>\n        <button class="f-club-register__button btn btn-default _fill _green _add-learners"\n          type="button"\n          ng-click="$ctrl.showLearnersModal()">Add students</button>\n      </div>\n    </div>\n    <div class="f-club-register__control">\n      <label class="f-club-register__checkbox"\n        ng-click="$ctrl.toggleTagsVisibility($event)"\n        ng-class="{ _checked: !$ctrl.tagsHide }">\n        <input type="checkbox" class="f-club-register__checkbox-input">\n        <span class="f-club-register__checkbox-title">Show register tags</span>\n      </label>\n    </div>\n    <ul class="f-club-register__learners"\n      lazy-photo\n      elements="$ctrl.club.learners"\n      config="$ctrl.lazyPhotoConfig">\n      <li class="f-club-register__learner"\n        photo-element\n        data-hash="{{ learner.hashPhoto }}"\n        ng-repeat="learner in $ctrl.club.learners">\n        <div class="f-club-register__learner-photo"\n          binded-photo\n          ng-class="{ _checked: $ctrl._studentsService.selectedStudents.indexOf(learner) !== -1}"\n          ng-click="$ctrl.selectStudent(learner)"\n          ng-style="{\'background-image\': \'url(\' + $ctrl._imagesConstants.DEFAULT_IMAGE + \')\'}"\n          photo-url="{{ ::learner.photo }}">\n          <svg-use name="check"></svg-use>\n        </div>\n        <div class="f-club-register__data"\n          ng-click="$ctrl.showDetailsModal(learner)"\n          ng-class="{ _disabled: learner.disabled }">\n          <div class="f-club-register__learner-name">\n            <span>{{ ::learner.fullName }}</span>\n          </div>\n          <div class="f-club-register__tags" ng-if="!$ctrl.tagsHide">\n            <div class="f-club-register__tag _pink" ng-if="learner.tags.medical_condition">M</div>\n            <div class="f-club-register__tag _blue" ng-if="::learner.tags.sen.length && learner.tags.sen != \'-\'">SEN</div>\n            <div class="f-club-register__tag _orange" ng-if="::learner.tags.gifted_talented">MORE ABLE</div>\n            <div class="f-club-register__tag _purple" ng-if="::learner.tags.pupil_premium">PP</div>\n            <div class="f-club-register__tag _gray" ng-if="::learner.tags.eal">EAL</div>\n            <div class="f-club-register__tag _yellow" ng-if="::learner.tags.boarder">BOARDER</div>\n            <div class="f-club-register__tag _brick" ng-if="::learner.tags.mpc">MPC</div>\n          </div>\n        </div>\n        <div class="f-club-register__buttons">\n          <button type="button" class="f-club-register__accept"\n            ng-disabled="$ctrl.isLoading"\n            ng-class="{ _active: learner.attended }"\n            ng-click="$ctrl.changeAttending({ learner })"></button>\n          <button type="button" class="f-club-register__reject"\n            ng-disabled="$ctrl.isLoading"\n            ng-class="{ _active: !learner.attended }"\n            ng-click="$ctrl.changeAttending({ learner })">\n            <svg-use name="cross"></svg-use>\n          </button>\n        </div>\n      </li>\n    </ul>\n  </div>\n</form>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r, o, l, c, d) {
            "ngInject";
            (0, n.default)(this, e), this._$scope = t, this._imagesConstants = i, this._studentsService = s, this._userService = r, this._modalDefaultService = o, this._registersService = l, this._lRegisterService = c, this._$timeout = a, this._dateService = d, this.lazyPhotoConfig = {
                prefix: "data:image/png;base64,",
                reserveScroll: 150,
                getPhotoCallback: this.getPhoto,
                getDefaultPhotoCallback: this.getDefaultPhoto,
                changeObjectTimeout: 500,
                isUniqueElements: !0,
                isSingleElements: !0
            }, this.local = {
                tagsHide: !1
            }, this.isLoading = !1
        }
        return e.$inject = ["$scope", "imagesConstants", "$timeout", "studentsService", "userService", "modalDefaultService", "registersService", "lRegisterService", "dateService"], (0, i.default)(e, [{
            key: "$onInit",
            value: function() {
                var e = this;
                this._$timeout(function() {
                    e.local.tagsHide = e.tagsAutohide
                }, 0)
            }
        }, {
            key: "$onDestroy",
            value: function() {
                this._studentsService.selectedStudents && (this._studentsService.selectedStudents = [])
            }
        }, {
            key: "submit",
            value: function() {
                var e = this;
                this.isLoading = !0, this.onSubmit({
                    learners: this.club.learners
                }).finally(function() {
                    return e.isLoading = !1
                })
            }
        }, {
            key: "selectStudent",
            value: function(e) {
                this._studentsService.selectedStudents.find(function(t) {
                    return t.id === e.id
                }) ? this._studentsService.selectedStudents = this._studentsService.selectedStudents.filter(function(t) {
                    return t.id !== e.id
                }) : this._studentsService.selectedStudents.push(e)
            }
        }, {
            key: "showBehaviourModal",
            value: function(e, t, n) {
                this._modalDefaultService.showModalWithTemplates("modal-register-write", {
                    extraClass: e,
                    type: n
                }, t)
            }
        }, {
            key: "changeStudents",
            value: function() {
                var e = this;
                this.club.learners = this._studentsService.selectedStudents.map(function(t) {
                    var n = e.club.learners.find(function(e) {
                        return e.id === t.id
                    });
                    return n || (t.attended = !1, t)
                }), this.closeModal()
            }
        }, {
            key: "showLearnersModal",
            value: function() {
                var e = this,
                    t = {
                        onSubmit: function() {
                            return e.changeStudents()
                        },
                        buttonText: "Change"
                    };
                this._studentsService.filteredStudents = this._studentsService.students.students, this._studentsService.selectedStudents = this._studentsService.students.students.reduce(function(t, n) {
                    return e.club.learners.find(function(e) {
                        return e.id === n.id
                    }) && t.push(n), t
                }, []), this._modalDefaultService.showModalWithTemplates("modal-select-learners", t, "Learners")
            }
        }, {
            key: "toggleTagsVisibility",
            value: function(e) {
                e.preventDefault(), this.local.tagsHide = !this.local.tagsHide
            }
        }, {
            key: "showDetailsModal",
            value: function(e) {
                var t = this,
                    n = e.learner_id || e.id,
                    i = moment(this.session.start_time).format(this._dateService.getDateFormat("apiDate"));
                e.disabled = !0, this._registersService.getRegisterTagDetailsFromDb(n, i).then(function() {
                    var e = {
                        tables: t._lRegisterService.tables,
                        data: t._registersService.details
                    };
                    t._modalDefaultService.showModalWithTemplates("modal-details", e, "Details")
                }).finally(function() {
                    e.disabled = !1
                })
            }
        }, {
            key: "closeModal",
            value: function() {
                this._$scope.$emit("hideModal")
            }
        }, {
            key: "getPhoto",
            value: function(e, t) {
                return e._studentsService.students.getPhotos(t)
            }
        }, {
            key: "getDefaultPhoto",
            value: function(e, t) {
                return e._studentsService.getDefaultPhotoUsingGender(t)
            }
        }, {
            key: "tagsHide",
            get: function() {
                return this.local.tagsHide
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1921));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("f-club-sessions", []).component("fClubSessions", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1922)),
        i = a(t(1923));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1924);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<form class="f-club-sessions" name="clubSessionsForm" novalidate>\n  <div class="f-club-sessions__left">\n    <div class="f-default__row-default f-club-sessions__row">\n      <div class="f-default__field-title f-club-sessions__title _required">Start date:</div>\n      <b-date-time-select class="f-club-sessions__btn-date"\n        is-required="true"\n        format="{{::$ctrl._dateService.getDateFormat(\'apiDate\')}}"\n        visible-date-format="{{::$ctrl._dateService.getDateFormat(\'momentDate\')}}"\n        date="$ctrl.model.date"\n        on-change="$ctrl.a({ newValue })"\n        placeholder=""></b-date-time-select>\n    </div>\n    <div class="f-default__row-default f-club-sessions__row">\n      <div class="f-default__col-wrap f-club-sessions__col-wrap">\n        <div class="f-default__col f-club-sessions__col">\n          <div class="f-default__field-title f-club-sessions__title _required">Start time:</div>\n          <b-date-time-select class="f-club-sessions__btn-date"\n            is-required="true"\n            icon="time"\n            format="HH:mm"\n            date="$ctrl.model.startTime"\n            placeholder=""></b-date-time-select>\n        </div>\n        <div class="f-default__col f-club-sessions__col">\n          <div class="f-default__field-title f-club-sessions__title _required">End time:</div>\n          <b-date-time-select class="f-club-sessions__btn-date"\n            is-required="true"\n            icon="time"\n            format="HH:mm"\n            is-disabled="!$ctrl.model.startTime"\n            min-date="$ctrl.model.startTime"\n            date="$ctrl.model.endTime"\n            placeholder=""></b-date-time-select>\n        </div>\n      </div>\n    </div>\n    <div class="f-default__row-default f-club-sessions__row">\n      <div class="f-default__field-title f-club-sessions__title _required">Weeks:</div>\n      <input type="number" class="f-default__input f-club-sessions__input"\n             required\n             placeholder="-"\n             min="1"\n             ng-model="$ctrl.model.weeks"\n      >\n    </div>\n    <div class="f-default__row-default f-club-sessions__row">\n      <button type="submit" class="btn btn-default _small _fill _blue f-club-sessions__btn"\n              ng-click="$ctrl.addDate(clubSessionsForm)"\n      >\n        Add session\n      </button>\n    </div>\n    <div class="f-default__row-default f-club-sessions__row _bottom">\n      <div class="f-default__col-wrap f-club-sessions__col-wrap">\n        <div class="f-default__col f-club-sessions__col">\n          <button type="button" class="btn btn-default _small f-club-sessions__btn"\n                  ng-click="$ctrl.closeModal()"\n          >\n            Back\n          </button>\n        </div>\n        <div class="f-default__col f-club-sessions__col">\n          <button type="button" class="btn btn-default _small _fill _green f-club-sessions__btn"\n                  ng-disabled="!$ctrl.scope.sessions.length || $ctrl.isLoading"\n                  ng-click="$ctrl.submit()"\n          >\n            Done\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class="f-club-sessions__right">\n    <t-club-dates dates="$ctrl.scope.sessions"\n                  on-remove="$ctrl.scope.onDateRemove({ date })"\n    ></t-club-dates>\n  </div>\n</form>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(10)),
        i = s(t(1)),
        a = s(t(2));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = function() {
        function e(t, n, a, s) {
            "ngInject";
            (0, i.default)(this, e), this._$timeout = t, this._modalDefaultService = n, this._notificationService = a, this._dateService = s, this.initModel(), this.isLoading = !1
        }
        return e.$inject = ["$timeout", "modalDefaultService", "notificationService", "dateService"], (0, a.default)(e, [{
            key: "initModel",
            value: function(e) {
                this.model && !e || (this.model = {
                    date: null,
                    startTime: null,
                    endTime: null,
                    weeks: 1
                })
            }
        }, {
            key: "submit",
            value: function() {
                var e = this;
                this.isLoading = !0, this.scope.onSubmit().finally(function() {
                    return e.isLoading = !1
                })
            }
        }, {
            key: "addDate",
            value: function(e) {
                if (e.$invalid) return this._notificationService.showErrorNotification("Please fill required fields");
                this.scope.onDatesAdd({
                    model: (0, n.default)({}, this.model)
                }), this.initModel(!0), this._$timeout(function() {
                    return e.$setPristine()
                })
            }
        }, {
            key: "closeModal",
            value: function() {
                this._modalDefaultService.pop()
            }
        }]), e
    }();
    exports.default = r
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(0)),
        i = s(t(1926)),
        a = s(t(1930));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = n.default.module("f-collection-update", []).service({
        fCollectionUpdateService: a.default
    }).component("fCollectionUpdate", i.default).name;
    exports.default = r
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1927)),
        i = a(t(1928));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1929);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            userType: "<",
            model: "<",
            onSave: "&"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<form class="f-collection-update" name="collectionUpdateForm"\n  novalidate\n  ng-submit="$ctrl.save(collectionUpdateForm)"\n>\n  <div class="f-collection-update__top">\n    <div class="f-default__row-default f-collection-update__row"\n      ng-repeat="(categoryName, category) in $ctrl.model track by $index"\n    >\n      <div class="f-collection-update__category">{{ categoryName }}</div>\n\n      <div class="f-collection-update__info">\n        <span ng-bind-html="$ctrl.getCategoryInfo(categoryName)"></span>\n      </div>\n\n      <div class="f-collection-update__field"\n        ng-repeat="(fieldName, field) in category track by $index">\n        <div class="f-collection-update__field-heading">\n          <div class="f-collection-update__field-name">{{ field.label }}</div>\n          <button type="button" class="f-collection-update__add"\n            alt="Add new {{ field.label }}"\n            ng-if="fieldName === \'emails\' || fieldName === \'telephones\' && !field.read_only"\n            ng-click="$ctrl._dataCollectionService.showAddContactModal(field.data, $ctrl._fCollectionUpdateService.getModelName(fieldName), field.label)"\n          ></button>\n          <button type="button" class="f-collection-update__add"\n            alt="Add new car"\n            ng-if="fieldName === \'cars\' && !field.read_only"\n            ng-click="$ctrl.showAddCarModal(field)"\n          ></button>\n          <button type="button" class="f-collection-update__add"\n            alt="Add new address"\n            ng-if="fieldName === \'addresses\' && !field.read_only && $ctrl.isAddressTypesBusy(field.data)"\n            ng-click="$ctrl.showAddAddressModal(field)"\n          ></button>\n          <button type="button" class="f-collection-update__add"\n            alt="Add new contact"\n            ng-if="fieldName === \'family_contacts\' && !field.read_only"\n            ng-click="$ctrl.showAddFamilyContactsModal(field.data)"\n          ></button>\n        </div>\n        <div class="f-collection-update__notice" ng-if="field.in_review">\n          <div class="f-collection-update__notice-icon">\n            <svg-use name="warning"></svg-use>\n          </div>\n          <div class="f-collection-update__notice-content">\n            <div class="f-collection-update__notice-title">Review Pending</div>\n            <div class="f-collection-update__notice-message">Update submitted, the school will now review this change</div>\n          </div>\n        </div>\n\n        <div class="f-collection-update__field-content" ng-if="fieldName === \'cars\' && field.data && field.data.length">\n          <t-cars field="field"\n            remove="$ctrl.removeFieldItem({ field, item })"></t-cars>\n        </div>\n\n        <div class="f-collection-update__field-content" ng-if="fieldName === \'addresses\' && field.data && field.data.length">\n          <t-addresses field="field"\n            change-field-item="$ctrl.changeFieldItem(data)"\n            user-type="$ctrl.userType"\n            remove="$ctrl.removeFieldItem(data)"></t-addresses>\n        </div>\n\n        <div class="f-collection-update__field-content" ng-if="fieldName === \'family_contacts\' && field.data && field.data.length">\n\n          \x3c!--read_only--\x3e\n          <t-family-contacts remove-item="$ctrl.removeFieldItem({ field, item })"\n            change-priority="$ctrl.changePriority({ item, increment })"\n            field="field"></t-family-contacts>\n        </div>\n\n        <div class="f-collection-update__field-content"\n          ng-if="(fieldName === \'emails\' || fieldName === \'telephones\') && field.data && field.data.length">\n          <t-contact-details\n            field="field"\n            change-location="$ctrl.changeFieldItemLocation(data)"\n            remove-item="$ctrl.removeFieldItem(data)"\n            toggle-primary-checkbox="$ctrl.togglePrimaryCheckbox(data)"\n            toggle-main-checkbox="$ctrl[$ctrl._fCollectionUpdateService.getMainCheckboxMethodName(fieldName)](data)"\n            first-column-name="$ctrl._fCollectionUpdateService.getFirstColName(fieldName)"\n            lookups="$ctrl._dataCollectionService.lookups[$ctrl._fCollectionUpdateService.getLookupName(fieldName)]"\n          ></t-contact-details>\n        </div>\n\n        <div class="f-collection-update__field-content _meal"\n          ng-if="fieldName === \'weekly_meal_pattern\'">\n          <div class="f-collection-update__field-content-item" ng-repeat="day in field.data track by $index">\n            <div class="f-collection-update__day">{{ day.day_of_week }}: </div>\n            <ui-select class="select-default f-collection-update__select"\n              theme="selectize"\n              ng-attr-name="day_{{ day.day_of_week }}"\n              ng-model="day.meal_type_id"\n              ng-change="$ctrl.handleTransition()"\n              ng-disabled="field.read_only"\n              ng-required="$ctrl.isSelectRequired(field)"\n              ng-init="hash = $ctrl._selectsService.generateHash($ctrl.selects); $ctrl._selectsService.setItemsNumber($ctrl.infiniteScrollSettings, hash)"\n              uis-open-close="$ctrl._selectsService.handleSelectToggling(hash, $ctrl.infiniteScrollSettings)"\n              ng-attr-id="{{\'_\' + hash}}"\n              search-enabled="false">\n              <ui-select-match placeholder="-">\n                {{ $select.selected.description ? $select.selected.description : $ctrl.getDescriptionById(day.meal_type_id, field.lookup_key) }}\n              </ui-select-match>\n              <ui-select-choices repeat="meal.id as meal in $ctrl._dataCollectionService.lookups[field.lookup_key]\n                                  | filter: $ctrl.optionsFilter\n                                  | limitTo:$ctrl.selects[hash].currentItems track by $index"\n                infinite-scroll="$ctrl._selectsService.addNewItemsToSelect($ctrl.selects[hash], $ctrl.infiniteScrollSettings.numToAdd)"\n                infinite-scroll-container="\'#_\' + hash + \' .ui-select-choices-content\'">\n                <span>{{ meal.description }}</span>\n              </ui-select-choices>\n            </ui-select>\n\n            <div class="f-default__select-mobile-wrap f-collection-update__select-mobile-wrap">\n              <select class="f-default__select-mobile f-collection-update__select-mobile"\n                ng-model="day.meal_type_id"\n                ng-change="$ctrl.handleTransition()"\n                ng-disabled="field.read_only">\n                <option value="" selected disabled hidden>-</option>\n                <option ng-repeat="meal in $ctrl._dataCollectionService.lookups[field.lookup_key] | filter: $ctrl.optionsFilter track by $index"\n                  ng-value="meal.id">\n                  {{ meal.description }}\n                </option>\n              </select>\n            </div>\n          </div>\n        </div>\n\n        <div class="f-collection-update__field-content" ng-if="field.type === \'date\'">\n          <input type="text" class="f-collection-update__input"\n            ng-readonly="field.read_only"\n            ng-value="field.data | date: $ctrl._dateService.getDateFormat(\'defaultDate\')">\n        </div>\n\n        <div class="f-collection-update__field-content" ng-if="field.type === \'string\'">\n          <input type="text" class="f-collection-update__input"\n            ng-readonly="field.read_only"\n            ng-change="$ctrl.handleTransition()"\n            ng-model="field.data">\n        </div>\n\n        <div class="f-collection-update__field-content" ng-if="field.type === \'id-lookup\'">\n          <ui-select class="select-default f-collection-update__select"\n            theme="selectize"\n            ng-model="field.data"\n            ng-change="$ctrl.handleTransition()"\n            ng-disabled="field.read_only"\n            ng-init="hash = $ctrl._selectsService.generateHash($ctrl.selects); $ctrl._selectsService.setItemsNumber($ctrl.infiniteScrollSettings, hash)"\n            uis-open-close="$ctrl._selectsService.handleSelectToggling(hash, $ctrl.infiniteScrollSettings)"\n            ng-attr-id="{{\'_\' + hash}}"\n            search-enabled="false">\n            <ui-select-match placeholder="-">\n              {{ $select.selected.description ? $select.selected.description : $ctrl.getDescriptionById(field.data, field.lookup_key) }}\n            </ui-select-match>\n            <ui-select-choices repeat="item.id as item in $ctrl._dataCollectionService.lookups[field.lookup_key]\n                                | filter: $ctrl.optionsFilter\n                                | limitTo:$ctrl.selects[hash].currentItems track by $index"\n              infinite-scroll="$ctrl._selectsService.addNewItemsToSelect($ctrl.selects[hash], $ctrl.infiniteScrollSettings.numToAdd)"\n              infinite-scroll-container="\'#_\' + hash + \' .ui-select-choices-content\'">\n              <span>{{ item.description }}</span>\n            </ui-select-choices>\n          </ui-select>\n\n          <div class="f-default__select-mobile-wrap f-collection-update__select-mobile-wrap">\n            <select class="f-default__select-mobile f-collection-update__select-mobile"\n              ng-model="field.data"\n              ng-change="$ctrl.handleTransition()"\n              ng-disabled="field.read_only">\n              <option value="" selected disabled hidden>-</option>\n              <option ng-repeat="item in $ctrl._dataCollectionService.lookups[field.lookup_key] | filter: $ctrl.optionsFilter track by $index"\n                ng-value="item.id">\n                {{ item.description }}\n              </option>\n            </select>\n          </div>\n        </div>\n\n        <div class="f-collection-update__field-content" ng-if="field.type === \'id-lookup-array\'">\n          <div ng-if="fieldName === \'medical_practices\' || fieldName === \'medical_conditions\'"\n            ng-init="settings = $ctrl.getMultipleSelectSettings(false, false)">\n            <div ng-dropdown-multiselect class="f-collection-update__multiselect"\n              ng-click="$ctrl.setFocus($event)"\n              ng-init="options = $ctrl.getActiveOptions(field.lookup_key);"\n              options="options"\n              selected-model="field.data"\n              events="$ctrl.multipleSelect.events"\n              translation-texts="$ctrl.multipleSelect.translation"\n              extra-settings="settings"\n            ></div>\n          </div>\n          <div ng-dropdown-multiselect class="f-collection-update__multiselect"\n            ng-if="fieldName === \'parental_consents\'"\n            ng-click="$ctrl.setFocus($event, field.data)"\n            options="$ctrl.parental_consents"\n            selected-model="field.data"\n            events="$ctrl.multipleSelect.events"\n            translation-texts="$ctrl.multipleSelect.translation"\n            extra-settings="$ctrl.multipleSelect.settings"></div>\n          <div ng-dropdown-multiselect class="f-collection-update__multiselect"\n            ng-if="[\'parental_consents\',\'medical_practices\',\'medical_conditions\'].indexOf(fieldName) === -1"\n            ng-click="$ctrl.setFocus($event)"\n            ng-init="options = $ctrl.getActiveOptions(field.lookup_key)"\n            options="options"\n            selected-model="field.data"\n            events="$ctrl.multipleSelect.events"\n            translation-texts="$ctrl.multipleSelect.translation"\n            extra-settings="$ctrl.multipleSelect.settings"></div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class="f-collection-update__bottom">\n    <div class="f-collection-update__protection">\n      General Data Protection Regulation 2018: The school has a duty to protect this information and to keep it up to date. The school may be required to share some of the data with the Local Authority and with the DfE.\n    </div>\n    <button type="submit" class="f-collection-update__save btn btn-default _green _small _fill"\n      alt="Save"\n      ng-disabled="!$ctrl._dataCollectionService.isDataChanged($ctrl.model)">Save</button>\n  </div>\n</form>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = r(t(35)),
        i = r(t(10)),
        a = r(t(1)),
        s = r(t(2));

    function r(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var o = function() {
        function e(t, n, i, s, r, o, l, c, d) {
            "ngInject";
            var u = this;
            (0, a.default)(this, e), this._$scope = t, this._$timeout = n, this._blockedTransitionService = i, this._dataCollectionService = s, this._modalDefaultService = r, this._fCollectionUpdateService = o, this._notificationService = l, this._selectsService = c, this._dateService = d, this.parental_consents = this.getParentalConsents(), this.data = {
                multipleSelect: {
                    settings: {
                        smartButtonMaxItems: 5,
                        scrollableHeight: "180px",
                        scrollable: !0,
                        displayProp: "description",
                        checkBoxes: !0,
                        idProperty: "id"
                    },
                    events: {
                        onSelectionChanged: function() {
                            return u.handleTransition()
                        }
                    },
                    translation: {
                        buttonDefaultText: "-"
                    }
                },
                optionsFilter: {
                    active: !0
                },
                infiniteScrollSettings: this._selectsService.getInfiniteScrollSettings()
            };
            var _ = t.$on("handleTransition", function() {
                u.handleTransition()
            });
            t.$on("$destroy", _)
        }
        return e.$inject = ["$scope", "$timeout", "blockedTransitionService", "dataCollectionService", "modalDefaultService", "fCollectionUpdateService", "notificationService", "selectsService", "dateService"], (0, s.default)(e, [{
            key: "$onInit",
            value: function() {
                var e = this;
                this._$scope.$watch(function() {
                    return e.model
                }, function() {
                    e.parental_consents = e.getParentalConsents()
                })
            }
        }, {
            key: "getParentalConsents",
            value: function() {
                var e = this._dataCollectionService.dataCollectionValues.categories;
                return e = (e = e ? e["Parental Consent"] : null) ? e.parental_consents.data.map(function(e) {
                    return e.id
                }) : [], this._dataCollectionService.lookups.parental_consent || []
            }
        }, {
            key: "getMultipleSelectSettings",
            value: function() {
                var e = !(arguments.length > 0 && void 0 !== arguments[0]) || arguments[0],
                    t = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1];
                return (0, i.default)({}, this.multipleSelect.settings, {
                    showCheckAll: e,
                    showUncheckAll: t
                })
            }
        }, {
            key: "getCategoryInfo",
            value: function(e) {
                return this._dataCollectionService.dataCollectionValues.category_info && this._dataCollectionService.dataCollectionValues.category_info[e]
            }
        }, {
            key: "getDescriptionById",
            value: function(e, t) {
                var n = this._dataCollectionService.lookups[t].find(function(t) {
                    return e === t.id
                });
                return n ? n.description : "-"
            }
        }, {
            key: "changeFieldItemLocation",
            value: function(e) {
                this._dataCollectionService.changeFieldItemLocation(e), this.handleTransition()
            }
        }, {
            key: "removeFieldItem",
            value: function(e) {
                var t = e.field,
                    n = e.item;
                t.data = t.data.filter(function(e) {
                    return e !== n
                }), this.handleTransition()
            }
        }, {
            key: "changePriority",
            value: function(e) {
                var t = e.item;
                e.increment ? t.priority++ : t.priority--
            }
        }, {
            key: "addFieldItem",
            value: function(e) {
                var t = e.fields,
                    n = e.model;
                t.data || (t.data = []), t.data.push(n), this.handleTransition(), this.hideModal()
            }
        }, {
            key: "changeFieldItem",
            value: function(e) {
                var t = e.item,
                    i = e.model;
                (0, n.default)(t, i), this.handleTransition(), this.hideModal()
            }
        }, {
            key: "showAddFamilyContactsModal",
            value: function(e) {
                var t = this;
                this._dataCollectionService.getDataCollectionExistingContacts().then(function(n) {
                    var i = e.map(function(e) {
                        return e.id
                    });
                    n.contacts = n.contacts.filter(function(e) {
                        return -1 === i.indexOf(e.id)
                    });
                    var a = {
                        contacts: n.contacts,
                        onAddContacts: function(e) {
                            t.addContacts(e), t.hideModal(!0)
                        },
                        onCancel: function(e) {
                            return t.hideModal(e)
                        }
                    };
                    t._modalDefaultService.showModalWithTemplates("modal-select-contacts", a, "Select contact")
                })
            }
        }, {
            key: "addContacts",
            value: function(e) {
                this.model["Family/Home"].family_contacts.data.push(e)
            }
        }, {
            key: "showAddCarModal",
            value: function(e) {
                var t = {
                    fields: e,
                    addCar: this.addFieldItem.bind(this)
                };
                this._modalDefaultService.showModalWithTemplates("modal-add-car", t, "Add new car")
            }
        }, {
            key: "showAddAddressModal",
            value: function(e) {
                var t = {
                    fields: e,
                    lookup: this._dataCollectionService.getFreeAddressTypes(e.data, this.userType),
                    addAddress: this.addFieldItem.bind(this),
                    showLocation: !0
                };
                this._modalDefaultService.showModalWithTemplates("modal-add-address", t, "Add new address")
            }
        }, {
            key: "isAddressTypesBusy",
            value: function(e) {
                return !!this._dataCollectionService.getFreeAddressTypes(e, this.userType).length
            }
        }, {
            key: "togglePrimaryCheckbox",
            value: function(e) {
                this._dataCollectionService.togglePrimaryCheckbox(e), this.handleTransition()
            }
        }, {
            key: "toggleMainTelephoneCheckbox",
            value: function(e) {
                this._dataCollectionService.toggleMainTelephoneCheckbox(e), this.handleTransition()
            }
        }, {
            key: "toggleMainEmailCheckbox",
            value: function(e) {
                this._dataCollectionService.toggleMainEmailCheckbox(e), this.handleTransition()
            }
        }, {
            key: "getActiveOptions",
            value: function(e) {
                return this._dataCollectionService.lookups[e].filter(function(e) {
                    return e.active
                })
            }
        }, {
            key: "hideModal",
            value: function(e) {
                this._$scope.$emit("hideModal", {
                    closeAllModals: e
                })
            }
        }, {
            key: "handleTransition",
            value: function() {
                this._dataCollectionService.isDataChanged(this.model) ? this._blockedTransitionService.disableTransition("home") : this._blockedTransitionService.enableTransition()
            }
        }, {
            key: "save",
            value: function(e) {
                if (e.$valid) this.onSave();
                else {
                    if (e.$error.required) e.$error.required.find(function(e) {
                        return e.$name.startsWith("day_")
                    }) && this._notificationService.showWarningNotification('All fields of "Weekly meal pattern" should have value or not at the same time (all or nothing)');
                    this._notificationService.showErrorNotification("Please fill required fields")
                }
            }
        }, {
            key: "isSelectRequired",
            value: function(e) {
                var t = e.data;
                return (void 0 === t ? [] : t).some(function(e) {
                    return !!e.meal_type_id
                })
            }
        }, {
            key: "setFocus",
            value: function(e) {
                this._$timeout(function() {
                    var t = angular.element(e.currentTarget).find(".dropdown-menu");
                    t.attr("tabindex", 0), t.focus()
                }, 0)
            }
        }, {
            key: "selects",
            get: function() {
                return this.data.infiniteScrollSettings.selects
            }
        }, {
            key: "infiniteScrollSettings",
            get: function() {
                return this.data.infiniteScrollSettings
            }
        }, {
            key: "multipleSelect",
            get: function() {
                return this.data.multipleSelect
            }
        }, {
            key: "optionsFilter",
            get: function() {
                return this.data.optionsFilter
            }
        }]), e
    }();
    exports.default = o
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e() {
            "ngInject";
            (0, n.default)(this, e), this.data = {
                fields: {
                    emails: {
                        lookupName: "emails",
                        modelName: "address",
                        firstColumnName: "Address",
                        mainCheckboxMethodName: "toggleMainEmailCheckbox"
                    },
                    telephones: {
                        lookupName: "telephones",
                        modelName: "telephones",
                        firstColumnName: "Number",
                        mainCheckboxMethodName: "toggleMainTelephoneCheckbox"
                    }
                }
            }
        }
        return (0, i.default)(e, [{
            key: "getFirstColName",
            value: function(e) {
                return this.data.fields[e].firstColumnName
            }
        }, {
            key: "getModelName",
            value: function(e) {
                return this.data.fields[e].modelName
            }
        }, {
            key: "getLookupName",
            value: function(e) {
                return this.data.fields[e].lookupName
            }
        }, {
            key: "getMainCheckboxMethodName",
            value: function(e) {
                return this.data.fields[e].mainCheckboxMethodName
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1932));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("f-comment", []).component("fComment", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1933)),
        i = a(t(1934));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1935);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            newStudent: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<form class="f-comment"\n      novalidate\n      name="commentForm"\n      ng-submit="$ctrl.addComment(commentForm)"\n>\n\n  <div class="f-default__row-default">\n    <textarea placeholder="Add comment"\n              maxlength="200"\n              ng-model="$ctrl.local.comment"\n              class="f-default__textarea"\n    ></textarea>\n  </div>\n  <div class="f-default__row-default" ng-if="!$ctrl.isAvailableMinutesField()">\n    <div class="f-comment__row-title">Minutes Late</div>\n    <input class="f-comment__input f-default__input" type="number"\n           min="0"\n           max="255"\n           ng-model="$ctrl.local.minuteToLate" />\n  </div>\n\n  <div class="f-default__col-wrap">\n    <div class="f-default__col">\n      <button type="button"\n              ng-click="$ctrl.hideModal()"\n              class="btn btn-default _gray _fill _small _half-width">Cancel</button>\n    </div>\n    <div class="f-default__col">\n      <button type="submit" class="btn btn-default _green _fill _small _half-width">\n        Ok\n      </button>\n    </div>\n  </div>\n</form>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s) {
            "ngInject";
            (0, n.default)(this, e), this._$scope = t, this._modalDefaultService = i, this._registersService = a, this._notificationService = s, this.local = {
                comment: this._registersService.selectedStudentForComment.marks[this.currentPeriodId].comments ? this._registersService.selectedStudentForComment.marks[this.currentPeriodId].comments : "",
                minuteToLate: this._registersService.selectedStudentForComment.marks[this.currentPeriodId].minutes_late ? this._registersService.selectedStudentForComment.marks[this.currentPeriodId].minutes_late : ""
            }
        }
        return e.$inject = ["$scope", "modalDefaultService", "registersService", "notificationService"], (0, i.default)(e, [{
            key: "hideModal",
            value: function() {
                this._$scope.$emit("hideModal")
            }
        }, {
            key: "addComment",
            value: function(e) {
                e.$invalid ? this._notificationService.showErrorNotification("Invalid value") : (this._registersService.selectedStudentForComment.comment = this.local.comment, this._registersService.selectedStudentForComment.marks[this.currentPeriodId].comments = this.local.comment, this._registersService.selectedStudentForComment.minutes_late = this.local.minuteToLate, this._registersService.selectedStudentForComment.marks[this.currentPeriodId].minutes_late = this.local.minuteToLate, this.hideModal())
            }
        }, {
            key: "isAvailableMinutesField",
            value: function() {
                return this._registersService.selectedStudentForComment.newStudent
            }
        }, {
            key: "currentPeriodId",
            get: function() {
                return this._registersService.currentPeriodId
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1937));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("f-comment-bank", []).component("fCommentBank", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1938)),
        i = a(t(1939));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1940);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            comment: "<",
            variables: "<",
            index: "<",
            onAddNew: "&?",
            onRemove: "&",
            onSave: "&",
            onChange: "&"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<form class="f-comment-bank">\n  <div class="f-comment-bank__body">\n    <div class="f-comment-bank__body-header">\n      <span class="f-comment-bank__body-title">Comment:</span>\n      <button type="button"\n              class="f-comment-bank__btn-variables"\n              ng-click="$ctrl.showVariablesModal()"\n      >Add variables</button>\n    </div>\n    <textarea placeholder="Text"\n              class="l-profiles-entry__label-textarea"\n              ng-model="$ctrl.comment.comment"\n              ng-change="$ctrl.onCommentChange()"\n    ></textarea>\n  </div>\n  <div class="f-comment-bank__footer">\n    <div class="f-comment-bank__footer-item">\n      <button type="submit"\n              class="f-comment-bank__btn btn btn-default _fill _small _green"\n              ng-disabled="$ctrl.isLoading || !$ctrl.changed || !$ctrl.comment.comment.length"\n              ng-click="$ctrl.saveComment()"\n      >Save</button>\n    </div>\n    <div class="f-comment-bank__footer-item">\n      <button type="button"\n              class="f-comment-bank__btn btn btn-default _fill _small _red"\n              ng-click="$ctrl.removeComment()"\n              ng-disabled="$ctrl.isLoading"\n      >Remove</button>\n    </div>\n    <div class="f-comment-bank__footer-item" ng-if="$ctrl.onAddNew">\n      <button type="button"\n              class="f-comment-bank__btn btn btn-default _fill _small"\n              ng-click="$ctrl.onAddNew()"\n      >Add new</button>\n    </div>\n  </div>\n</form>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(26)),
        i = s(t(1)),
        a = s(t(2));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = function() {
        function e(t, n) {
            "ngInject";
            (0, i.default)(this, e), this._modalDefaultService = t, this._notificationService = n, this.isLoading = !1, this.changed = !1
        }
        return e.$inject = ["modalDefaultService", "notificationService"], (0, a.default)(e, [{
            key: "onCommentChange",
            value: function() {
                this.changed = !0
            }
        }, {
            key: "showVariablesModal",
            value: function() {
                var e = this;
                if (this.variables && (0, n.default)(this.variables).length) {
                    var t = {
                        variables: this.variables,
                        onSelect: function(t) {
                            var n = t.variable;
                            e.comment.comment += " " + n, e.onCommentChange(), e.hideModal()
                        }
                    };
                    this._modalDefaultService.showModalWithTemplates("modal-add-variable", t, "Add Variable")
                } else this._notificationService.showErrorNotification("Variables are missing")
            }
        }, {
            key: "hideModal",
            value: function() {
                this._modalDefaultService.pop()
            }
        }, {
            key: "removeComment",
            value: function() {
                var e = this;
                this.isLoading = !0, this.onRemove({
                    comment: this.comment,
                    index: this.index
                }).finally(function() {
                    return e.isLoading = !1
                })
            }
        }, {
            key: "saveComment",
            value: function() {
                var e = this;
                this.isLoading = !0, this.onSave({
                    comment: this.comment
                }).then(function() {
                    return e.changed = !1
                }).finally(function() {
                    return e.isLoading = !1
                })
            }
        }]), e
    }();
    exports.default = r
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1942));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("f-confirm", []).component("fConfirm", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1943)),
        i = a(t(1944));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1945);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            confirm: "&",
            cancel: "&",
            message: "@"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<form class="f-confirm">\n  <div class="f-confirm__title" ng-bind-html="$ctrl.message"></div>\n\n  <div class="f-confirm__button">\n    <button class="btn btn-default _green _fill _confirm" type="button"\n            ng-disabled="$ctrl.isLoading"\n            ng-click="$ctrl.onConfirm()">Yes</button>\n    <button class="btn btn-default _red _fill _cancel" type="button" ng-click="$ctrl.cancel()">No</button>\n  </div>\n</form>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t) {
            "ngInject";
            (0, n.default)(this, e), this._$q = t, this.local = {
                isLoading: !1
            }
        }
        return e.$inject = ["$q"], (0, i.default)(e, [{
            key: "onConfirm",
            value: function() {
                var e = this;
                this.local.isLoading = !0, this._$q.resolve().then(function() {
                    return e.confirm()
                }).finally(function() {
                    e.local.isLoading = !1
                })
            }
        }, {
            key: "isLoading",
            get: function() {
                return this.local.isLoading
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1947));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("f-confirm-registers", []).component("fConfirmRegisters", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1948)),
        i = a(t(1949));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1950);
    var s = {
        template: n.default,
        bindings: {
            title: "@",
            isMobileForm: "<",
            isSummaryView: "="
        },
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<form class="f-confirm-registers"\n      ng-submit="$ctrl.submitRegisters()">\n\n  <div class="f-confirm-registers__title">{{ $ctrl.local.registersName }}</div>\n  <div class="f-confirm-registers__subtitle"></div>\n\n  <ul class="f-confirm-registers__list">\n    <li class="f-confirm-registers__item"\n        ng-repeat="(keyCode, summary) in $ctrl.local.register.summary">\n      <button class="f-confirm-registers__btn"\n              ng-class="{\'_opened\': summary.learners.isVisible}"\n              ng-click="$ctrl.closeOpenedList(summary.learners)"\n              type="button">\n        <span class="f-confirm-registers__info"><b>{{keyCode}}</b> - {{summary.codeName ? summary.codeName : \'Present\'}}</span>\n        <span class="f-confirm-registers__count" ng-class="{ \'_present\': keyCode === \'\\\\\' || keyCode === \'/\'}">{{summary.learners.length}}</span>\n      </button>\n      <ul class="f-confirm-registers__students"\n          ng-if="summary.learners.isVisible"\n          lazy-photo elements="summary.learners"\n          config="$ctrl.lazyPhotoConfig">\n        <li class="f-confirm-registers__student"\n            photo-element data-hash="{{ student.hashPhoto }}"\n            ng-repeat="student in summary.learners">\n          <div class="f-confirm-registers__student-avatar"\n            ng-style="{\'background-image\': \'url(\' + $ctrl._imagesConstants.DEFAULT_IMAGE + \')\'}"\n            binded-photo photo-url="{{ student.photo }}"></div>\n          <div class="f-confirm-registers__student-name">{{student.forename}} {{student.surname}}\n            <span ng-if="student.mealTypeId"> - {{::$ctrl.getMealTypeById(student.mealTypeId)}}</span>\n          </div>\n        </li>\n      </ul>\n    </li>\n  </ul>\n\n  <div class="f-confirm-registers__bottom">\n    <div class="f-default__col-wrap">\n      <div class="f-default__col">\n        <button type="button"\n                ng-if="!$ctrl.isMobileForm"\n                ng-click="$ctrl.hideModal()"\n                class="btn btn-default _gray _fill _small _no-min-width">Cancel</button>\n        <button type="button"\n                ng-if="$ctrl.isMobileForm"\n                ng-click="$ctrl.isSummaryView = false"\n                class="btn btn-default _gray _fill _small _no-min-width">Cancel</button>\n      </div>\n      <div class="f-default__col">\n        <button type="button"\n                ng-disabled="$ctrl.isLoading"\n                ng-click="$ctrl.submitRegisters()"\n                class="btn btn-default _green _fill _small _no-min-width">Submit</button>\n      </div>\n    </div>\n  </div>\n</form>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r, o, l) {
            "ngInject";
            (0, n.default)(this, e), this._$scope = t, this._$stateParams = i, this._$state = s, this._imagesConstants = r, this._studentsService = o, this._registersService = a, this._notificationService = l, this.initRegistersData(a)
        }
        return e.$inject = ["$scope", "$stateParams", "registersService", "$state", "imagesConstants", "studentsService", "notificationService"], (0, i.default)(e, [{
            key: "initRegistersData",
            value: function(e) {
                var t = e.currentPeriodId;
                this.local = {
                    isLoading: !1,
                    register: this.prepareData(e.register, t),
                    registersName: e.register.name,
                    lazyPhotoConfig: {
                        prefix: "data:image/png;base64,",
                        reserveScroll: 150,
                        getPhotoCallback: this.getPhoto,
                        getDefaultPhotoCallback: this.getDefaultPhoto,
                        changeObjectTimeout: 500,
                        isUniqueElements: !0,
                        isSingleElements: !0
                    }
                }
            }
        }, {
            key: "prepareData",
            value: function(e, t) {
                for (var n = {}, i = 0, a = e.learners.length; i < a; i++)
                    if (e.learners[i].marks[t]) {
                        var s = e.learners[i].marks[t].mark,
                            r = e.learners[i].marks[t].name;
                        n[s] = n[s] ? n[s] : {}, n[s].codeName || (n[s].codeName = this.getCodeName(s, r)), angular.isArray(n[s].learners) ? n[s].learners.push(e.learners[i]) : n[s].learners = [e.learners[i]]
                    }
                return e.summary = n, e
            }
        }, {
            key: "getCodeName",
            value: function(e, t) {
                var n = this._registersService.marks.lesson_codes.filter(function(t) {
                    return t.code === e
                });
                return n.length ? n.pop().name : t
            }
        }, {
            key: "closeOpenedList",
            value: function(e) {
                var t = e.isVisible;
                for (var n in this.local.register.summary) n && (this.local.register.summary[n].isVisible = !1);
                e.isVisible = !t
            }
        }, {
            key: "getMealTypeById",
            value: function(e) {
                var t = this._registersService.register.meal_type.find(function(t) {
                    return t.id === e
                });
                return t ? t.description : ""
            }
        }, {
            key: "submitRegisters",
            value: function() {
                var e = this;
                this.local.isLoading = !0;
                var t = [],
                    n = function(n) {
                        n && e._registersService.data.register.summary[n].learners.forEach(function(e) {
                            t.push({
                                id: e.id,
                                mark: n,
                                comments: e.comment,
                                minutes_late: e.minutes_late,
                                meal_type_id: e.mealTypeId
                            })
                        })
                    };
                for (var i in this._registersService.data.register.summary) n(i);
                var a = {
                    register_id: this._$stateParams.id,
                    learners: t
                };
                this._registersService.register.meals && (a.meals = !0), this._registersService.sendRegisterDataToDb(a).then(function(t) {
                    e.local.isLoading = !1, e._notificationService.showSuccessNotification("Register successfully submitted"), e.hideModal(), e._$state.transitionTo("registers.lobby")
                }).catch(function() {
                    e.local.isLoading = !1
                })
            }
        }, {
            key: "hideModal",
            value: function() {
                this._$scope.$emit("hideModal")
            }
        }, {
            key: "getPhoto",
            value: function(e, t) {
                return e._studentsService.students.getPhotos(t)
            }
        }, {
            key: "getDefaultPhoto",
            value: function(e, t) {
                return e._studentsService.getDefaultPhotoUsingGender(t)
            }
        }, {
            key: "lazyPhotoConfig",
            get: function() {
                return this.local.lazyPhotoConfig
            }
        }, {
            key: "isLoading",
            get: function() {
                return this.local.isLoading
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1952));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("f-create-employee-group", []).component("fCreateEmployeeGroup", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1953)),
        i = a(t(1954));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1955);
    var s = {
        controller: i.default,
        template: n.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<form class="f-create-employee-group" name="createEmployeeGroupForm" novalidate\n  ng-submit="$ctrl.submit(createEmployeeGroupForm)">\n  <div class="f-default__row-default f-create-employee-group__row">\n    <div class="f-default__field-title _required">Group name:</div>\n    <input class="f-create-employee-group__input f-default__input"\n      type="text"\n      required\n      ng-model="$ctrl.groupName">\n  </div>\n  <div class="f-default__row-default">\n    <label class="f-create-employee-group__checkbox-label">\n      <input type="checkbox"\n        class="f-create-employee-group__checkbox"\n        ng-model="$ctrl.isGlobal">\n      <span>Global</span>\n    </label>\n  </div>\n  <div class="f-default__row-default f-create-employee-group__row">\n    <div class="f-default__field-title _required">Employees:</div>\n    <div class="f-create-employee-group__employees">\n      <l-photos-group items="$ctrl.selectedEmployees"></l-photos-group>\n      <input type="number"\n        class="f-create-employee-group__input _dummy"\n        required\n        min="1"\n        step="1"\n        ng-model="$ctrl.selectedEmployees.length">\n      <button class="f-create-employee-group__add"\n        type="button"\n        ng-click="$ctrl.openEmployeesModal()"></button>\n    </div>\n  </div>\n  <div class="f-default__row-default f-create-employee-group__row _bottom">\n    <div class="f-default__col-wrap">\n      <div class="f-default__col">\n        <button class="f-create-employee-group__btn btn btn-default _small"\n          type="button"\n          ng-disabled="$ctrl.isLoading"\n          ng-click="$ctrl.hideModal()">Cancel</button>\n      </div>\n      <div class="f-default__col">\n        <button class="f-create-employee-group__btn btn btn-default _green _small _fill"\n          type="submit"\n          ng-disabled="$ctrl.isLoading">Add</button>\n      </div>\n    </div>\n  </div>\n</form>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r) {
            "ngInject";
            (0, n.default)(this, e), this.groupName = "", this.isGlobal = !1, this._$scope = t, this._groupsService = i, this._teachersService = r, this._notificationService = a, this._modalDefaultService = s, this.isLoading = !1
        }
        return e.$inject = ["$scope", "groupsService", "notificationService", "modalDefaultService", "teachersService"], (0, i.default)(e, [{
            key: "$onDestroy",
            value: function() {
                this._teachersService.selectedTeachers = [], this._teachersService.filteredTeachers = this._teachersService.employees
            }
        }, {
            key: "submit",
            value: function(e) {
                var t = this;
                if (e.$invalid) return this._notificationService.showErrorNotification("Please fill required fields");
                var n = {
                    name: this.groupName,
                    employee_ids: this.selectedEmployees.map(function(e) {
                        return e.id
                    }),
                    global: this.isGlobal
                };
                this.isLoading = !0, this._groupsService.saveEmployeeGroupInDb(n).then(function() {
                    return t._groupsService.getEmployeeGroupsDataFromDb()
                }).then(function() {
                    return t.hideModal()
                }).finally(function() {
                    t.isLoading = !1
                })
            }
        }, {
            key: "openEmployeesModal",
            value: function() {
                var e = this;
                this._teachersService.employees && this._teachersService.employees.length ? this.openSelectEmployeesModal(this._teachersService.employees) : this._teachersService.getEmployeesWithFullNameFromDb().then(function(t) {
                    e._teachersService.employees = t, e._teachersService.filteredTeachers = t, e.openSelectEmployeesModal(e._teachersService.employees)
                })
            }
        }, {
            key: "openSelectEmployeesModal",
            value: function(e) {
                var t = this,
                    n = {
                        teachers: e,
                        isSave: !0,
                        onSubmit: function() {
                            t.hideModal()
                        }
                    };
                this._modalDefaultService.showModalWithTemplates("modal-add-teachers", n, "Select Group Members")
            }
        }, {
            key: "hideModal",
            value: function() {
                this._$scope.$emit("hideModal")
            }
        }, {
            key: "selectedEmployees",
            get: function() {
                return this._teachersService.selectedTeachers || []
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1957));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("f-create-field", []).component("fCreateField", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1958)),
        i = a(t(1959));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1960);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            label: "<",
            firstPropName: "<",
            fields: "<",
            fieldType: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<form class="f-create-field" name="createFieldForm"\n      novalidate\n      ng-submit="$ctrl.addLocation(createFieldForm, model)">\n  <div class="f-default__row-default f-create-field__row">\n    <dev class="f-default__field-title _required">{{ $ctrl.label }}:</dev>\n    <input type="{{ $ctrl.fieldType }}" class="f-create-field__input f-default__input" required ng-model="model">\n  </div>\n  <div class="f-default__row-default f-create-field__row _bottom">\n    <button type="button" class="f-create-field__cancel btn btn-default _small"\n            ng-click="$ctrl.hideModal()">Cancel</button>\n    <button type="submit" class="f-create-field__add btn btn-default _green _small _fill">\n      Add\n    </button>\n  </div>\n</form>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a) {
            "ngInject";
            (0, n.default)(this, e), this._$rootScope = t, this._modalDefaultService = i, this._notificationService = a
        }
        return e.$inject = ["$rootScope", "modalDefaultService", "notificationService"], (0, i.default)(e, [{
            key: "addLocation",
            value: function(e, t) {
                if (e.$valid) {
                    var n = angular.copy({
                        location: null,
                        main: !1,
                        primary: !1
                    });
                    "address" === this.firstPropName ? n.address = t : n.number = t, this.fields.push(n), this.handleTransition(), this.hideModal()
                } else this._notificationService.showErrorNotification("Please fill required fields")
            }
        }, {
            key: "handleTransition",
            value: function() {
                this._$rootScope.$broadcast("handleTransition")
            }
        }, {
            key: "hideModal",
            value: function() {
                this._modalDefaultService.pop()
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1962));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("f-create-folder", []).component("fCreateFolder", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1963)),
        i = a(t(1964));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1965);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<form class="f-create-folder" name="createFolderForm"\n      novalidate\n      ng-submit="$ctrl.createFolder(createFolderForm)">\n  <div class="f-default__row-default f-create-folder__row">\n    <div class="f-default__field-title _required">Name:</div>\n    <input type="text" class="f-create-folder__input f-default__input" required ng-model="$ctrl.name">\n  </div>\n\n  <div class="f-default__row-default f-create-folder__row">\n    <div class="f-default__col-wrap">\n      <div class="f-default__col">\n        <button type="button" class="f-create-folder__btn btn btn-default _small"\n                ng-click="$ctrl.scope.cancel()">Cancel</button>\n      </div>\n      <div class="f-default__col">\n        <button type="submit" class="f-create-folder__btn btn btn-default _green _small _fill" ng-disabled="$ctrl.isLoading">\n          Add\n        </button>\n      </div>\n    </div>\n  </div>\n</form>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e() {
            "ngInject";
            (0, n.default)(this, e), this.name = "", this.isLoading = !1
        }
        return (0, i.default)(e, [{
            key: "createFolder",
            value: function(e) {
                var t = this;
                e.$invalid || (this.isLoading = !0, this.scope.submit({
                    name: this.name
                }).finally(function() {
                    t.isLoading = !1
                }))
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1967));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("f-create-group", []).component("fCreateGroup", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1968)),
        i = a(t(1969));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1970);
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<form class="f-create-group" name="createGroupForm" novalidate\n  ng-submit="$ctrl.submit(createGroupForm)">\n  <div class="f-default__row-default f-create-group__row">\n    <div class="f-default__field-title _required">Group name:</div>\n    <input type="text" class="f-create-group__input f-default__input"\n      required\n      ng-model="$ctrl.groupName">\n  </div>\n  <div class="f-default__row-default f-create-group__row">\n    <label class="f-create-group__checkbox-label">\n      <input type="checkbox"\n        class="f-create-group__checkbox"\n        ng-model="$ctrl.isGlobal">\n      <span>Global</span>\n    </label>\n  </div>\n  <div class="f-default__row-default f-create-group__row">\n    <div class="f-default__field-title _required">Learners:</div>\n    <div class="f-create-group__learners">\n      <l-photos-group items="$ctrl._studentsService.selectedStudents"></l-photos-group>\n      <input type="number" class="f-create-group__input _dummy"\n        required\n        min="1"\n        ng-model="$ctrl._studentsService.selectedStudents.length">\n      <button type="button" class="f-create-group__add" ng-click="$ctrl.openLearnerSelectModal()"></button>\n    </div>\n  </div>\n  <div class="f-default__row-default f-create-group__row _bottom">\n    <div class="f-default__col-wrap">\n      <div class="f-default__col">\n        <button type="button" class="f-create-group__btn btn btn-default _small"\n          ng-click="$ctrl.hideModal()">Cancel</button>\n      </div>\n      <div class="f-default__col">\n        <button type="submit" class="f-create-group__btn btn btn-default _green _small _fill"\n          ng-disabled="$ctrl.isLoading">Add</button>\n      </div>\n    </div>\n  </div>\n</form>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r) {
            "ngInject";
            (0, n.default)(this, e), this.groupName = "", this.isGlobal = !1, this._$scope = t, this._groupsService = i, this._studentsService = a, this._notificationService = s, this._modalDefaultService = r, this.isLoading = !1
        }
        return e.$inject = ["$scope", "groupsService", "studentsService", "notificationService", "modalDefaultService"], (0, i.default)(e, [{
            key: "$onDestroy",
            value: function() {
                this._studentsService.clearSelectedStudents(), this._studentsService.filteredStudents = this._studentsService.students.students
            }
        }, {
            key: "submit",
            value: function(e) {
                var t = this;
                if (e.$invalid) return this._notificationService.showErrorNotification("Please fill required fields");
                var n = {
                    name: this.groupName,
                    learner_ids: this._studentsService.selectedStudents.map(function(e) {
                        return e.id
                    }),
                    global: this.isGlobal
                };
                this.isLoading = !0, this._groupsService.saveGroupInDb(n).then(function() {
                    return t._groupsService.getGroupsDataFromDb()
                }).then(function() {
                    return t.hideModal()
                }).finally(function() {
                    t.isLoading = !1
                })
            }
        }, {
            key: "openLearnerSelectModal",
            value: function() {
                var e = this;
                this._studentsService.students && this._studentsService.students.length ? this.openSelectLearnersModal() : this._studentsService.getStudents().then(function(t) {
                    e._studentsService.students = t, e._studentsService.filteredStudents = t, e.openSelectLearnersModal()
                })
            }
        }, {
            key: "openSelectLearnersModal",
            value: function() {
                this._modalDefaultService.showModalWithTemplates("modal-select-learners", {
                    isSave: !0,
                    statusFilter: !0
                }, "Select Group Members")
            }
        }, {
            key: "hideModal",
            value: function() {
                this._$scope.$emit("hideModal")
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1972));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("f-create-template", []).component("fCreateTemplate", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1973)),
        i = a(t(1974));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1975);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            body: "<",
            subject: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<form class="f-create-template">\n  <div class="f-default__row-default f-create-template__row">\n    <div class="f-create-template__title">New Template</div>\n  </div>\n\n  <div class="f-default__row-default f-create-template__row">\n    <label class="f-create-template__label">Name:</label>\n    <input type="text" class="f-create-template__input" placeholder="text"\n           ng-model="$ctrl.name">\n  </div>\n\n  <div class="f-default__row-default f-create-template__row">\n    <label class="f-create-template__checkbox" ng-click="$ctrl.toggleGlobalCheckbox($event)">\n      <input type="checkbox" class="f-create-template__checkbox-input"\n             ng-class="{ _checked: $ctrl.global }">\n      <span class="f-create-template__checkbox-title">Global</span>\n    </label>\n  </div>\n\n  <div class="f-default__row-default f-create-template__row">\n    <div class="f-create-template__controls">\n      <button type="button" class="btn btn-default _green _fill _submit f-create-template__btn"\n              ng-disabled="!$ctrl.name"\n              ng-click="$ctrl.createTemplate()">\n        Create\n      </button>\n      <button type="button" class="btn btn-default f-create-template__btn" ng-click="$ctrl.hideModal()">Cancel</button>\n    </div>\n  </div>\n</form>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r) {
            "ngInject";
            (0, n.default)(this, e), this._$scope = t, this._communicatorDataService = i, this._templatesService = s, this._modalDefaultService = a, this._notificationService = r, this.local = {
                name: null,
                global: !1
            }
        }
        return e.$inject = ["$scope", "communicatorDataService", "modalDefaultService", "templatesService", "notificationService"], (0, i.default)(e, [{
            key: "createTemplate",
            value: function() {
                var e = this,
                    t = "html";
                "email" !== this.messageType && (t = "text"), this._templatesService.createTemplate(this.name, this.global, t).then(function(e) {
                    return e.template_id
                }).then(function(t) {
                    return e.updateTemplateDetails(t)
                })
            }
        }, {
            key: "updateTemplateDetails",
            value: function(e) {
                var t = this;
                return this._templatesService.updateTemplate(e, !!this.global, this.name, this.subject, this.body).then(function() {
                    return t._templatesService.getTemplatesFromDB()
                }).then(function() {
                    t.subject = null, t.body = null, t._notificationService.showSuccessNotification("Template successfully created"), t.hideModal()
                })
            }
        }, {
            key: "hideModal",
            value: function() {
                this._$scope.$emit("hideModal")
            }
        }, {
            key: "toggleGlobalCheckbox",
            value: function(e) {
                e.preventDefault(), this.global = !this.global
            }
        }, {
            key: "name",
            get: function() {
                return this.local.name
            },
            set: function(e) {
                this.local.name = e
            }
        }, {
            key: "global",
            get: function() {
                return this.local.global
            },
            set: function(e) {
                this.local.global = e
            }
        }, {
            key: "messageType",
            get: function() {
                return this._communicatorDataService.messageType
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1977));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("f-default-dialog", []).component("fDefaultDialog", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(1978),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    t(1979);
    var s = {
        template: a.default,
        bindings: {
            data: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<form class="f-default-dialog">\n  <div class="f-default__row-default">\n    <div class="f-default-dialog__title"\n      ng-if="$ctrl.data.body">\n      {{ $ctrl.data.body }}\n    </div>\n  </div>\n\n  <div class="f-default__col-wrap">\n    <div class="f-default__col"\n      ng-repeat="button in $ctrl.data.buttons">\n      <button type="button"\n        ng-click="button.action($ctrl.data.event)"\n        class="btn btn-default {{ button.classes }}">{{ button.title }}</button>\n    </div>\n  </div>\n</form>\n\n'
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1981));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("f-detention", []).component("fDetention", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1982)),
        i = a(t(1983));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1984);
    var s = {
        bindings: {
            submit: "&",
            cancel: "&"
        },
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<form class="f-detention" name="detentionForm" novalidate>\n  <div class="f-default__row-default">\n    <div class="f-default__field-title _required">Date</div>\n    <b-date-time-select class="f-detention__date"\n      format="{{::$ctrl._dateService.getDateFormat(\'apiDate\')}}"\n      visible-date-format="{{::$ctrl._dateService.getDateFormat(\'momentDate\')}}"\n      name="date"\n      is-required="true"\n      date="$ctrl.model.date"></b-date-time-select>\n  </div>\n  <div class="f-default__row-default">\n    <div class="f-default__field-title _required">Start time</div>\n    <b-date-time-select class="f-detention__date"\n      format="HH:mm"\n      name="startTime"\n      is-required="true"\n      show-header="false"\n      date="$ctrl.model.start_time"></b-date-time-select>\n  </div>\n  <div class="f-default__row-default">\n    <div class="f-default__field-title _required">End time</div>\n    <b-date-time-select class="f-detention__date"\n      format="HH:mm"\n      name="endDate"\n      is-required="true"\n      show-header="false"\n      placeholder="hh:mm"\n      min-date="$ctrl.model.start_time"\n      date="$ctrl.model.end_time"></b-date-time-select>\n  </div>\n\n  <div class="f-default__row-default">\n    <div class="f-default__field-title _required">Room</div>\n    <ui-select ng-model="$ctrl.model.room_id"\n               required\n               theme="selectize"\n               ng-init="hash = $ctrl._selectsService.generateHash($ctrl.selects); $ctrl._selectsService.setItemsNumber($ctrl.infiniteScrollSettings, hash)"\n               uis-open-close="$ctrl._selectsService.handleSelectToggling(hash, $ctrl.infiniteScrollSettings)"\n               class="select-default f-detention__select"\n               ng-attr-id="{{\'_\' + hash}}"\n               search-enabled="false">\n      <ui-select-match placeholder="Select room...">{{ $select.selected.name }}</ui-select-match>\n      <ui-select-choices repeat="room.id as room in $ctrl.rooms | limitTo:$ctrl.selects[hash].currentItems track by $index"\n                         infinite-scroll="$ctrl._selectsService.addNewItemsToSelect($ctrl.selects[hash], $ctrl.infiniteScrollSettings.numToAdd)"\n                         infinite-scroll-distance=\'1\'\n                         infinite-scroll-container="\'#_\' + hash + \' .ui-select-choices-content\'">\n        <span>{{ ::room.name }}</span>\n      </ui-select-choices>\n    </ui-select>\n\n    <div class="f-default__select-mobile-wrap">\n      <select class="f-default__select-mobile f-detention__select-mobile"\n              required\n              ng-model="$ctrl.model.room_id">\n        <option value="" selected disabled>Select room...</option>\n        <option ng-repeat="room in $ctrl.rooms track by $index" value="{{::room.id}}">{{::room.name}}</option>\n      </select>\n    </div>\n  </div>\n\n  <div class="f-default__row-default">\n    <div class="f-default__field-title _required">Teacher</div>\n\x3c!--    <input type="text" class="f-default__input f-detention__input" required disabled ng-value="$ctrl.fullName" />--\x3e\n\x3c!--    <div class="f-default__field-title _required">Room</div>--\x3e\n    <ui-select ng-model="$ctrl.model.main_employee_id"\n               required\n               theme="selectize"\n               ng-init="hash = $ctrl._selectsService.generateHash($ctrl.selects); $ctrl._selectsService.setItemsNumber($ctrl.infiniteScrollSettings, hash)"\n               uis-open-close="$ctrl._selectsService.handleSelectToggling(hash, $ctrl.infiniteScrollSettings)"\n               class="select-default f-detention__select"\n               ng-attr-id="{{\'_\' + hash}}"\n               search-enabled="false">\n      <ui-select-match placeholder="Select teacher...">{{ $select.selected.forename + \' \' + $select.selected.surname}}</ui-select-match>\n      <ui-select-choices repeat="employee.id as employee in $ctrl.employees | limitTo:$ctrl.selects[hash].currentItems track by $index"\n                         infinite-scroll="$ctrl._selectsService.addNewItemsToSelect($ctrl.selects[hash], $ctrl.infiniteScrollSettings.numToAdd)"\n                         infinite-scroll-distance=\'1\'\n                         infinite-scroll-container="\'#_\' + hash + \' .ui-select-choices-content\'">\n        <span>{{ employee.forename + \' \' + employee.surname }}</span>\n      </ui-select-choices>\n    </ui-select>\n\n    <div class="f-default__select-mobile-wrap">\n      <select class="f-default__select-mobile f-detention__select-mobile"\n              required\n              ng-model="$ctrl.model.main_employee_id">\n        <option value="" selected disabled>Select room...</option>\n        <option ng-repeat="employee in $ctrl.employees track by $index" value="{{::employee.id}}">{{employee.forename + \' \' + employee.surname}}</option>\n      </select>\n    </div>\n  </div>\n\n  <div class="f-default__row-default">\n    <div class="f-default__col-wrap">\n      <div class="f-default__col">\n        <button type="button"\n                ng-click="$ctrl.cancel()"\n                class="f-detention__btn btn btn-default _gray _fill _small">Cancel</button>\n      </div>\n      <div class="f-default__col">\n        <button type="submit"\n                ng-disabled="$ctrl.isLoading"\n                ng-click="$ctrl.addDetention()"\n                class="f-detention__btn btn btn-default _green _fill _small">Add</button>\n      </div>\n    </div>\n  </div>\n</form>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r, o, l) {
            "ngInject";
            (0, n.default)(this, e), this._$scope = i, this._$window = t, this._userService = a, this._notificationService = s, this._selectsService = r, this._dateService = o, this._teachersService = l, this.local = {
                infiniteScrollSettings: this._selectsService.getInfiniteScrollSettings(),
                isLoading: !1
            }, this.employees = this._teachersService.employees
        }
        return e.$inject = ["$window", "$scope", "userService", "notificationService", "selectsService", "dateService", "teachersService"], (0, i.default)(e, [{
            key: "$onInit",
            value: function() {
                var e = this._userService.user;
                this.fullName = e.forename + " " + e.surname, this.rooms = this._userService.user.establishment.rooms, this.model = {
                    date: this._$window.moment().format(this._dateService.getDateFormat("apiDate")),
                    start_time: this._$window.moment().format("HH:mm"),
                    end_time: null
                }
            }
        }, {
            key: "addDetention",
            value: function() {
                var e = this;
                this.local.isLoading || (this._$scope.detentionForm.$invalid ? this._notificationService.showErrorNotification("Please fill required fields") : (this.local.isLoading = !0, this.submit({
                    model: this.model
                }).finally(function() {
                    return e.local.isLoading = !1
                })))
            }
        }, {
            key: "selects",
            get: function() {
                return this.local.infiniteScrollSettings.selects
            }
        }, {
            key: "infiniteScrollSettings",
            get: function() {
                return this.local.infiniteScrollSettings
            }
        }, {
            key: "isLoading",
            get: function() {
                return this.local.isLoading
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1986));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("f-detentions-sessions", []).component("fDetentionsSessions", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1987)),
        i = a(t(1988));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1989);
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<form class="f-detentions-sessions" name="detentionsSessionsForm">\n  <div class="f-default__row-default f-detentions-sessions__row">\n    <div class="f-detentions-sessions__label">From date:</div>\n    <b-date-time-select class="f-detentions-sessions__date"\n      format="{{::$ctrl._dateService.getDateFormat(\'apiDate\')}}"\n      visible-date-format="{{::$ctrl._dateService.getDateFormat(\'momentDate\')}}"\n      on-change="$ctrl.onFromDateChange({ newValue })"\n      max-date="$ctrl.toDate"\n      is-clear="true"\n      date="$ctrl.fromDate"></b-date-time-select>\n  </div>\n  <div class="f-default__row-default f-detentions-sessions__row">\n    <div class="f-detentions-sessions__label">To date:</div>\n    <b-date-time-select class="f-detentions-sessions__date"\n      format="{{::$ctrl._dateService.getDateFormat(\'apiDate\')}}"\n      visible-date-format="{{::$ctrl._dateService.getDateFormat(\'momentDate\')}}"\n      on-change="$ctrl.onToDateChange({ newValue })"\n      min-date="$ctrl.fromDate"\n      is-clear="true"\n      date="$ctrl.toDate"></b-date-time-select>\n  </div>\n  <div class="f-default__row-default f-detentions-sessions__row _bottom">\n    <button type="submit" class="btn btn-default f-detentions-sessions__btn"\n            ng-if="$ctrl._userService.user.capabilities[\'behaviour_detentionmanagement.session_create\']"\n            ng-click="$ctrl.openCreateDetentionModal()">\n      Add detention\n    </button>\n  </div>\n</form>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r, o) {
            "ngInject";
            (0, n.default)(this, e), this._$scope = t, this._detentionsService = i, this._userService = a, this._modalDefaultService = s, this._notificationService = r, this._dateService = o, this.fromDate = moment(), this.toDate = null, this.firstLoad = !0
        }
        return e.$inject = ["$scope", "detentionsService", "userService", "modalDefaultService", "notificationService", "dateService"], (0, i.default)(e, [{
            key: "onFromDateChange",
            value: function(e) {
                var t = e.newValue;
                if (this.firstLoad) this.firstLoad = !1;
                else {
                    var n = {
                        from_date: t ? moment(t).format(this._dateService.getDateFormat("apiDate")) : t
                    };
                    this.toDate && (n.until_date = this.toDate), this._detentionsService.fetchSessions(n)
                }
            }
        }, {
            key: "onToDateChange",
            value: function(e) {
                var t = e.newValue,
                    n = {
                        until_date: t ? moment(t).format(this._dateService.getDateFormat("apiDate")) : t
                    };
                this.fromDate && (n.from_date = this.fromDate), this._detentionsService.fetchSessions(n)
            }
        }, {
            key: "openCreateDetentionModal",
            value: function() {
                var e = this,
                    t = {
                        id: "modalDetention",
                        scope: {
                            submit: function(t) {
                                var n = t.model;
                                return e.submit(n)
                            },
                            cancel: function() {
                                return e.cancel()
                            }
                        },
                        title: "Create detention"
                    };
                return this._modalDefaultService.push(t)
            }
        }, {
            key: "cancel",
            value: function() {
                this._$scope.$emit("hideModal")
            }
        }, {
            key: "submit",
            value: function(e) {
                var t = this;
                return this._detentionsService.createSession(e).then(function() {
                    return t._detentionsService.fetchSessions({
                        from_date: t.fromDate,
                        until_date: t.toDate
                    })
                }).then(function() {
                    return t.cancel()
                }).then(function() {
                    return t._notificationService.showSuccessNotification("Success")
                })
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1991));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("f-document-message", ["summernote"]).component("fDocumentMessage", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1992)),
        i = a(t(1993));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1994);
    var s = {
        bindings: {
            scope: "<",
            submit: "&"
        },
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<form class="f-document-message">\n  <div class="f-document-message__row _subject">\n    <label class="f-document-message__label _subject">Subject:</label>\n    <input type="text"\n           class="f-document-message__input"\n           name="subject"\n           placeholder="subject"\n           ng-model="$ctrl._model.subject" />\n  </div>\n\n  <div class="f-document-message__body">\n    <label class="f-document-message__label _body">Body:</label>\n    <summernote\n      config="$ctrl.options"\n      ng-model="$ctrl._model.body"></summernote>\n  </div>\n\n  <button type="submit" class="btn-default f-document-message__button" ng-click="$ctrl.scope && $ctrl.scope.submit($ctrl._model)">Save</button>\n</form>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(35)),
        i = s(t(1)),
        a = s(t(2));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = function() {
        function e(t, n) {
            "ngInject";
            (0, i.default)(this, e), this._$timeout = t, this._modalDefaultService = n, this._model = {}
        }
        return e.$inject = ["$timeout", "modalDefaultService"], (0, a.default)(e, [{
            key: "$onInit",
            value: function() {
                this.options = {
                    height: 50,
                    toolbar: [
                        ["style", ["bold", "italic", "underline", "strikethrough"]],
                        ["color", ["color"]],
                        ["para", ["paragraph"]],
                        ["insert", ["link"]]
                    ]
                }, this._model = (0, n.default)({}, this.scope && this.scope.model || {})
            }
        }]), e
    }();
    exports.default = r
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(1996));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("f-edit-group", []).component("fEditGroup", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1997)),
        i = a(t(1998));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(1999);
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<form class="f-edit-group">\n  <div class="f-edit-group__row">\n    <div class="f-edit-group__row-title">Group Name</div>\n    <input class="f-edit-group__input" ng-model="$ctrl._groupsService.groupToEdit.name">\n  </div>\n  <div class="f-edit-group__row">\n    <label class="f-edit-group__label">\n      <input type="checkbox" class="f-edit-group__checkbox">\n      <span>Global</span>\n    </label>\n  </div>\n  <div class="f-edit-group__buttons">\n    <button class="f-edit-group__button">Update</button>\n  </div>\n</form>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(1),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    var s = function e(t) {
        "ngInject";
        (0, a.default)(this, e), this._groupsService = t
    };
    s.$inject = ["groupsService"], exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2001));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("f-edit-group-name", []).component("fEditGroupName", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2002)),
        i = a(t(2003));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2004);
    var s = {
        bindings: {
            groupName: "@?",
            onSubmit: "&"
        },
        controller: i.default,
        template: n.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<form class="f-add-group">\n  <div class="f-add-group__row">\n    <div class="f-add-group__title">Group Name</div>\n    <input class="f-add-group__input"\n      name="groupNewName"\n      type="text"\n      ng-model="$ctrl.groupName" />\n  </div>\n  <div class="f-add-group__row _col-wrap">\n    <div class="f-add-group__col">\n      <button class="f-add-group__button _save"\n        type="button"\n        ng-click="$ctrl.saveGroupName()">Save</button>\n    </div>\n    <div class="f-add-group__col">\n      <button class="f-add-group__button _cancel"\n        type="button"\n        ng-click="$ctrl.hideModal()">Cancel</button>\n    </div>\n  </div>\n</form>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t) {
            "ngInject";
            (0, n.default)(this, e), this._$scope = t, this.groupName = ""
        }
        return e.$inject = ["$scope"], (0, i.default)(e, [{
            key: "saveGroupName",
            value: function() {
                console.log(this), this.onSubmit({
                    $data: this.groupName
                })
            }
        }, {
            key: "hideModal",
            value: function() {
                this._$scope.$emit("hideModal")
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2006));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("f-edit-snippet", []).component("fEditSnippet", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2007)),
        i = a(t(2008));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2009);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<form class="f-edit-snippet" name="formEditSnippet" novalidate ng-submit="$ctrl.editSnippet(formEditSnippet)">\n  <div class="f-default__row-default f-edit-snippet__row">\n    <div class="f-default__field-title f-edit-snippet__label">Title</div>\n    <input class="f-default__input f-edit-snippet__input" type="text" required ng-model="$ctrl.snippet.title">\n  </div>\n  <div class="f-default__row-default f-edit-snippet__row">\n    <div class="f-default__field-title f-edit-snippet__label">Content</div>\n    <textarea class="f-default__textarea f-edit-snippet__textarea" required ng-model="$ctrl.snippet.content"></textarea>\n  </div>\n  <div class="f-default__row-default f-edit-snippet__row">\n    <div class="f-default__field-title f-edit-snippet__label">From</div>\n    <b-date-time-select class="f-edit-snippet__date"\n      format="{{::$ctrl._dateService.getDateFormat(\'apiDateTime\')}}"\n      visible-date-format="{{::$ctrl._dateService.getDateFormat(\'momentDateTime\')}}"\n      date="$ctrl.snippet.available_from"></b-date-time-select>\n  </div>\n  <div class="f-default__row-default f-edit-snippet__row">\n    <div class="f-default__field-title f-edit-snippet__label">To</div>\n    <b-date-time-select class="f-edit-snippet__date"\n      format="{{::$ctrl._dateService.getDateFormat(\'apiDateTime\')}}"\n      visible-date-format="{{::$ctrl._dateService.getDateFormat(\'momentDateTime\')}}"\n      date="$ctrl.snippet.available_until"></b-date-time-select>\n  </div>\n\n  <div class="f-default__row-default f-edit-snippet__row">\n    <div class="f-default__field-title f-edit-snippet__label">For</div>\n    <div ng-dropdown-multiselect class="f-edit-snippet__multiselect"\n          options="$ctrl.local.forTypes"\n          selected-model="$ctrl.select"\n          extra-settings="$ctrl.multipleSelects.settings"></div>\n\n    <div class="f-default__select-mobile-wrap _multiple">\n      <select class="f-default__select-mobile f-edit-snippet__select-mobile"\n              ng-model="$ctrl.select"\n              multiple>\n        <option value="" selected disabled hidden>{{$ctrl._windowWidthService.windowWidth > $ctrl._deviceMarginConstants.MOBILE_MARGIN ? \'Additional Type\' : $ctrl.local.placeholders.requiredField}}</option>\n        <option ng-repeat="type in $ctrl.local.forTypes" ng-value="type">{{type.description}}</option>\n      </select>\n    </div>\n  </div>\n  <button type="submit" class="btn btn-default _green _small _fill f-edit-snippet__btn">save snippet</button>\n</form>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = o(t(11)),
        i = o(t(10)),
        a = o(t(281)),
        s = o(t(1)),
        r = o(t(2));

    function o(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var l = function() {
        function e(t, n, i, a, r, o) {
            "ngInject";
            (0, s.default)(this, e), this._notificationService = t, this._modalDefaultService = n, this._noticeboardService = i, this._establishmentService = a, this._requestService = r, this._dateService = o, this.local = {
                forTypes: []
            }, this.select = [], this.multipleSelects = {
                settings: {
                    smartButtonMaxItems: 5,
                    scrollableHeight: "255px",
                    scrollable: !0,
                    enableSearch: !0,
                    displayProp: "description",
                    checkBoxes: !0
                }
            }
        }
        return e.$inject = ["notificationService", "modalDefaultService", "noticeboardService", "establishmentService", "requestService", "dateService"], (0, r.default)(e, [{
            key: "$onInit",
            value: function() {
                this.snippet = function(e) {
                    e.available_from, e.available_until, e.external_url;
                    var t = (0, a.default)(e, ["available_from", "available_until", "external_url"]);
                    return (0, i.default)({}, t)
                }(this.scope.snippet), this.scope.snippet.available_from && (this.snippet.available_from = moment(this.scope.snippet.available_from).format(this._dateService.getDateFormat("apiDateTime"))), this.scope.snippet.external_url && (this.snippet.external_url = this.scope.snippet.external_url), this.scope.snippet.available_until && (this.snippet.available_until = moment(this.scope.snippet.available_until).format(this._dateService.getDateFormat("apiDateTime"))), this.local.forTypes = [{
                    id: 1,
                    description: "All employees",
                    for_employee: !0
                }], this.addAditionalOptions(), this.addVisibleOptions()
            }
        }, {
            key: "closeModal",
            value: function() {
                this._modalDefaultService.pop()
            }
        }, {
            key: "editSnippet",
            value: function(e) {
                var t = this;
                e.$invalid ? this._notificationService.showErrorNotification("Please fill all fields") : (this.snippet = this.formatSnippetForRequest(), this._requestService.getData("noticeboard", "noticeboard_snippet_update", this.snippet).then(function(e) {
                    t._noticeboardService.getAllSnippetsFromDb().then(function(n) {
                        var i = t._noticeboardService.formatSnippet(n.snippets.find(function(t) {
                            return t.id === e.snippet_id
                        }));
                        t._noticeboardService.updateSnippet(i)
                    }), t.closeModal()
                }))
            }
        }, {
            key: "addVisibleOptions",
            value: function() {
                this.snippet.for_employee && this.select.push(this.local.forTypes[0]), this.addVisibleParentsOfStatuses(), this.addVisibleParentsOfYear(), this.addVisibleLearnersOfYear()
            }
        }, {
            key: "addAditionalOptions",
            value: function() {
                this.addParentsOfStatuses(), this.addParentsOfYear(), this.addLearnersOfYear()
            }
        }, {
            key: "addParentsOfStatuses",
            value: function() {
                var e = this,
                    t = this._noticeboardService.parentLearnerStatus.map(function(t, n) {
                        return {
                            id: 1 + e.local.forTypes.length + n,
                            description: "Parents of " + t,
                            parent_learner_status: t
                        }
                    });
                this.local.forTypes = [].concat((0, n.default)(this.local.forTypes), (0, n.default)(t))
            }
        }, {
            key: "addParentsOfYear",
            value: function() {
                var e = this,
                    t = this._establishmentService.establishment.year_groups.map(function(t, n) {
                        return {
                            id: 1 + e.local.forTypes.length + n,
                            description: "Parents of " + t.name,
                            parent_learner_year_ids: t.id
                        }
                    });
                this.local.forTypes = [].concat((0, n.default)(this.local.forTypes), (0, n.default)(t))
            }
        }, {
            key: "addLearnersOfYear",
            value: function() {
                var e = this,
                    t = this._establishmentService.establishment.year_groups.map(function(t, n) {
                        return {
                            id: 1 + e.local.forTypes.length + n,
                            description: "Learners of " + t.name,
                            learner_year_ids: t.id
                        }
                    });
                this.local.forTypes = [].concat((0, n.default)(this.local.forTypes), (0, n.default)(t))
            }
        }, {
            key: "addVisibleParentsOfStatuses",
            value: function() {
                var e = this,
                    t = this.local.forTypes.filter(function(t) {
                        return e.snippet.parent_learner_status.find(function(e) {
                            return t.parent_learner_status === e
                        })
                    });
                this.select = [].concat((0, n.default)(this.select), (0, n.default)(t))
            }
        }, {
            key: "addVisibleParentsOfYear",
            value: function() {
                var e = this,
                    t = this.local.forTypes.filter(function(t) {
                        return e.snippet.parent_learner_year_ids.find(function(e) {
                            return e === Number(t.parent_learner_year_ids)
                        })
                    });
                this.select = [].concat((0, n.default)(this.select), (0, n.default)(t))
            }
        }, {
            key: "addVisibleLearnersOfYear",
            value: function() {
                var e = this,
                    t = this.local.forTypes.filter(function(t) {
                        return e.snippet.learner_year_ids.find(function(e) {
                            return e === Number(t.learner_year_ids)
                        })
                    });
                this.select = [].concat((0, n.default)(this.select), (0, n.default)(t))
            }
        }, {
            key: "formatSnippetForRequest",
            value: function() {
                var e = this.select.find(function(e) {
                        return e.for_employee
                    }),
                    t = this.select.filter(function(e) {
                        return e.parent_learner_year_ids
                    }),
                    n = this.select.filter(function(e) {
                        return e.parent_learner_status
                    }),
                    a = this.select.filter(function(e) {
                        return e.learner_year_ids
                    });
                return e = !!e && e.for_employee, t = t.length ? t.map(function(e) {
                    return e.parent_learner_year_ids
                }) : [], n = n.length ? n.map(function(e) {
                    return e.parent_learner_status
                }) : [], a = a.length ? a.map(function(e) {
                    return e.learner_year_ids
                }) : [], (0, i.default)({}, this.snippet, {
                    for_employee: e,
                    parent_learner_year_ids: t,
                    parent_learner_status: n,
                    learner_year_ids: a
                })
            }
        }]), e
    }();
    exports.default = l
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2011));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("f-edit-document", []).component("fEditDocument", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2012)),
        i = a(t(2013));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2014);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<form class="f-edit-document" name="formEditDocument" novalidate ng-submit="$ctrl.editDocument(formEditDocument)">\n  <div class="f-default__row-default f-edit-document__row">\n    <div class="f-default__field-title f-edit-document__label">Title</div>\n    <input class="f-default__input f-edit-document__input" type="text" required ng-model="$ctrl.document.name">\n  </div>\n  <div class="f-default__row-default f-edit-document__row">\n    <div class="f-default__field-title f-edit-document__label">Document</div>\n    <b-attachments remove="$ctrl.removeAttachment({ attachment })"\n                    on-picked="$ctrl.onPicked(data)"\n                    max-file-size="$ctrl._userService.user.miscellaneous.upload.max_attachment_size_communicator"\n    ></b-attachments>\n  </div>\n  <div class="f-default__row-default f-edit-document__row">\n    <div class="f-default__field-title f-edit-document__label">From</div>\n    <b-date-time-select class="f-edit-document__date"\n      format="{{::$ctrl._dateService.getDateFormat(\'apiDateTime\')}}"\n      visible-date-format="{{::$ctrl._dateService.getDateFormat(\'momentDateTime\')}}"\n      date="$ctrl.document.available_from"></b-date-time-select>\n  </div>\n  <div class="f-default__row-default f-edit-document__row">\n    <div class="f-default__field-title f-edit-document__label">To</div>\n    <b-date-time-select class="f-edit-document__date"\n      format="{{::$ctrl._dateService.getDateFormat(\'apiDateTime\')}}"\n      visible-date-format="{{::$ctrl._dateService.getDateFormat(\'momentDateTime\')}}"\n      date="$ctrl.document.available_until"></b-date-time-select>\n  </div>\n\n  <div class="f-default__row-default f-edit-document__row">\n    <div class="f-default__field-title f-edit-document__label">For</div>\n    <div ng-dropdown-multiselect class="f-edit-document__multiselect"\n          options="$ctrl.local.forTypes"\n          selected-model="$ctrl.select"\n          extra-settings="$ctrl.multipleSelects.settings"></div>\n\n    <div class="f-default__select-mobile-wrap _multiple">\n      <select class="f-default__select-mobile f-edit-document__select-mobile"\n              ng-model="$ctrl.select"\n              multiple>\n        <option value="" selected disabled hidden>{{$ctrl._windowWidthService.windowWidth > $ctrl._deviceMarginConstants.MOBILE_MARGIN ? \'Additional Type\' : $ctrl.local.placeholders.requiredField}}</option>\n        <option ng-repeat="type in $ctrl.local.forTypes" ng-value="type">{{type.description}}</option>\n      </select>\n    </div>\n    <div class="f-default__row-default f-edit-document__row">\n      <div class="f-default__field-title f-edit-document__label">Display position (Lowest shown at the top)</div>\n      <input class="f-default__input f-edit-document__input" type="number" min="0" step="1" ng-model="$ctrl.document.position">\n    </div>\n  </div>\n  <button type="submit" class="btn btn-default _green _small _fill f-edit-document__btn">save</button>\n</form>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = o(t(11)),
        i = o(t(10)),
        a = o(t(281)),
        s = o(t(1)),
        r = o(t(2));

    function o(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var l = function() {
        function e(t, n, i, a, r, o, l, c) {
            "ngInject";
            (0, s.default)(this, e), this._notificationService = t, this._modalDefaultService = n, this._noticeboardService = i, this._establishmentService = a, this._requestService = r, this._userService = o, this._attachmentsService = l, this._dateService = c, this.local = {
                forTypes: []
            }, this.select = [], this.multipleSelects = {
                settings: {
                    smartButtonMaxItems: 5,
                    scrollableHeight: "255px",
                    scrollable: !0,
                    enableSearch: !0,
                    displayProp: "description",
                    checkBoxes: !0
                }
            }
        }
        return e.$inject = ["notificationService", "modalDefaultService", "noticeboardService", "establishmentService", "requestService", "userService", "attachmentsService", "dateService"], (0, r.default)(e, [{
            key: "$onInit",
            value: function() {
                this.document = function(e) {
                    e.available_from, e.available_until, e.external_url;
                    var t = (0, a.default)(e, ["available_from", "available_until", "external_url"]);
                    return (0, i.default)({}, t)
                }(this.scope.document), this.scope.document.available_from && (this.document.available_from = moment(this.scope.document.available_from).format(this._dateService.getDateFormat("apiDateTime"))), this.scope.document.available_until && (this.document.available_until = moment(this.scope.document.available_until).format(this._dateService.getDateFormat("apiDateTime"))), this.local.forTypes = [{
                    id: 1,
                    description: "All employees",
                    for_employee: !0
                }], this.addAditionalOptions(), this.addVisibleOptions()
            }
        }, {
            key: "$onDestroy",
            value: function() {
                this._attachmentsService.clearDocuments()
            }
        }, {
            key: "onPicked",
            value: function(e) {
                var t = e.documents;
                1 === t.length ? (this._attachmentsService.clearDocuments(), this._attachmentsService.onPicked({
                    documents: t
                }), this.prepareDocument(this._attachmentsService.documents[0])) : t.length > 1 && this._notificationService.showErrorNotification("Please select one document")
            }
        }, {
            key: "prepareDocument",
            value: function(e) {
                this.document.filename = e.name, this.document.filesize = e.size, this.document.mime_type = "application/" + this.getFileExtention(e)
            }
        }, {
            key: "getFileExtention",
            value: function(e) {
                return e.name.split(".").pop()
            }
        }, {
            key: "removeAttachment",
            value: function(e) {
                var t = e.attachment;
                this._attachmentsService.deleteDocument(t)
            }
        }, {
            key: "closeModal",
            value: function() {
                this._modalDefaultService.pop()
            }
        }, {
            key: "editDocument",
            value: function(e) {
                var t = this;
                e.$invalid ? this._notificationService.showErrorNotification("Please fill all fields") : (this.document = this.formatDocumentForRequest(), this._noticeboardService.addDocument(this.document).then(function(e) {
                    t._noticeboardService.getAllDocumentsFromDb().then(function(n) {
                        var i = t._noticeboardService.formatSnippet(n.docs.find(function(t) {
                            return t.id === e.document_id
                        }));
                        t._noticeboardService.updateDocumentView(i)
                    }), t.closeModal()
                }))
            }
        }, {
            key: "addVisibleOptions",
            value: function() {
                this.document.for_employee && this.select.push(this.local.forTypes[0]), this.addVisibleParentsOfStatuses(), this.addVisibleParentsOfYear(), this.addVisibleLearnersOfYear()
            }
        }, {
            key: "addAditionalOptions",
            value: function() {
                this.addParentsOfStatuses(), this.addParentsOfYear(), this.addLearnersOfYear()
            }
        }, {
            key: "addParentsOfStatuses",
            value: function() {
                var e = this,
                    t = this._noticeboardService.parentLearnerStatus.map(function(t, n) {
                        return {
                            id: 1 + e.local.forTypes.length + n,
                            description: "Parents of " + t,
                            parent_learner_status: t
                        }
                    });
                this.local.forTypes = [].concat((0, n.default)(this.local.forTypes), (0, n.default)(t))
            }
        }, {
            key: "addParentsOfYear",
            value: function() {
                var e = this,
                    t = this._establishmentService.establishment.year_groups.map(function(t, n) {
                        return {
                            id: 1 + e.local.forTypes.length + n,
                            description: "Parents of " + t.name,
                            parent_learner_year_ids: t.id
                        }
                    });
                this.local.forTypes = [].concat((0, n.default)(this.local.forTypes), (0, n.default)(t))
            }
        }, {
            key: "addLearnersOfYear",
            value: function() {
                var e = this,
                    t = this._establishmentService.establishment.year_groups.map(function(t, n) {
                        return {
                            id: 1 + e.local.forTypes.length + n,
                            description: "Learners of " + t.name,
                            learner_year_ids: t.id
                        }
                    });
                this.local.forTypes = [].concat((0, n.default)(this.local.forTypes), (0, n.default)(t))
            }
        }, {
            key: "addVisibleParentsOfStatuses",
            value: function() {
                var e = this,
                    t = this.local.forTypes.filter(function(t) {
                        return e.document.parent_learner_status.find(function(e) {
                            return t.parent_learner_status === e
                        })
                    });
                this.select = [].concat((0, n.default)(this.select), (0, n.default)(t))
            }
        }, {
            key: "addVisibleParentsOfYear",
            value: function() {
                var e = this,
                    t = this.local.forTypes.filter(function(t) {
                        return e.document.parent_learner_year_ids.find(function(e) {
                            return e === Number(t.parent_learner_year_ids)
                        })
                    });
                this.select = [].concat((0, n.default)(this.select), (0, n.default)(t))
            }
        }, {
            key: "addVisibleLearnersOfYear",
            value: function() {
                var e = this,
                    t = this.local.forTypes.filter(function(t) {
                        return e.document.learner_year_ids.find(function(e) {
                            return e === Number(t.learner_year_ids)
                        })
                    });
                this.select = [].concat((0, n.default)(this.select), (0, n.default)(t))
            }
        }, {
            key: "formatDocumentForRequest",
            value: function() {
                var e = this.select.find(function(e) {
                        return e.for_employee
                    }),
                    t = this.select.filter(function(e) {
                        return e.parent_learner_year_ids
                    }),
                    n = this.select.filter(function(e) {
                        return e.parent_learner_status
                    }),
                    a = this.select.filter(function(e) {
                        return e.learner_year_ids
                    });
                return e = !!e && e.for_employee, t = t.length ? t.map(function(e) {
                    return e.parent_learner_year_ids
                }) : [], n = n.length ? n.map(function(e) {
                    return e.parent_learner_status
                }) : [], a = a.length ? a.map(function(e) {
                    return e.learner_year_ids
                }) : [], (0, i.default)({}, this.document, {
                    for_employee: e,
                    parent_learner_year_ids: t,
                    parent_learner_status: n,
                    learner_year_ids: a
                })
            }
        }]), e
    }();
    exports.default = l
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2016));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("f-new-snippet", []).component("fNewSnippet", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2017)),
        i = a(t(2018));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2019);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<form class="f-new-snippet" name="formnewSnippet" novalidate ng-submit="$ctrl.newSnippet(formnewSnippet)">\n  <div class="f-default__row-default f-new-snippet__row">\n    <div class="f-default__field-title f-new-snippet__label">Title</div>\n    <input class="f-default__input f-new-snippet__input" type="text" required ng-model="$ctrl.snippet.title">\n  </div>\n  <div class="f-default__row-default f-new-snippet__row">\n    <div class="f-default__field-title f-new-snippet__label">Content</div>\n    <textarea class="f-default__textarea f-new-snippet__textarea" required ng-model="$ctrl.snippet.content"></textarea>\n  </div>\n  <div class="f-default__row-default f-new-snippet__row">\n    <div class="f-default__field-title f-new-snippet__label">From</div>\n    <b-date-time-select class="f-new-snippet__date"\n      format="{{::$ctrl._dateService.getDateFormat(\'apiDateTime\')}}"\n      visible-date-format="{{::$ctrl._dateService.getDateFormat(\'momentDateTime\')}}"\n      date="$ctrl.snippet.available_from"></b-date-time-select>\n  </div>\n  <div class="f-default__row-default f-new-snippet__row">\n    <div class="f-default__field-title f-new-snippet__label">To</div>\n    <b-date-time-select class="f-new-snippet__date"\n      format="{{::$ctrl._dateService.getDateFormat(\'apiDateTime\')}}"\n      visible-date-format="{{::$ctrl._dateService.getDateFormat(\'momentDateTime\')}}"\n      date="$ctrl.snippet.available_until"></b-date-time-select>\n  </div>\n\n  <div class="f-default__row-default f-new-snippet__row">\n    <div class="f-default__field-title f-new-snippet__label">For</div>\n    <div ng-dropdown-multiselect class="f-new-snippet__multiselect"\n          options="$ctrl.local.forTypes"\n          selected-model="$ctrl.select"\n          extra-settings="$ctrl.multipleSelects.settings"></div>\n\n    <div class="f-default__select-mobile-wrap _multiple">\n      <select class="f-default__select-mobile f-new-snippet__select-mobile"\n              ng-model="$ctrl.select"\n              multiple>\n        <option value="" selected disabled hidden>{{$ctrl._windowWidthService.windowWidth > $ctrl._deviceMarginConstants.MOBILE_MARGIN ? \'Additional Type\' : $ctrl.local.placeholders.requiredField}}</option>\n        <option ng-repeat="type in $ctrl.local.forTypes" ng-value="type">{{type.description}}</option>\n      </select>\n    </div>\n  </div>\n  <button type="submit" class="btn btn-default _green _small _fill f-new-snippet__btn">New snippet</button>\n</form>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = r(t(10)),
        i = r(t(11)),
        a = r(t(1)),
        s = r(t(2));

    function r(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var o = function() {
        function e(t, n, i, s, r, o, l) {
            "ngInject";
            (0, a.default)(this, e), this._establishmentService = n, this._noticeboardService = t, this._windowWidthService = i, this._notificationService = s, this._modalDefaultService = r, this._requestService = o, this._dateService = l, this.local = {
                forTypes: []
            }, this.select = [], this.snippet = {
                title: null,
                content: null
            }, this.multipleSelects = {
                settings: {
                    smartButtonMaxItems: 5,
                    scrollableHeight: "255px",
                    scrollable: !0,
                    enableSearch: !0,
                    displayProp: "description",
                    checkBoxes: !0
                }
            }
        }
        return e.$inject = ["noticeboardService", "establishmentService", "windowWidthService", "notificationService", "modalDefaultService", "requestService", "dateService"], (0, s.default)(e, [{
            key: "$onInit",
            value: function() {
                this.local.forTypes = [{
                    id: 1,
                    description: "All employees",
                    for_employee: !0
                }], this.addAditionalOptions()
            }
        }, {
            key: "addAditionalOptions",
            value: function() {
                this.addParentsOfStatuses(), this.addParentsOfYear(), this.addLearnersOfYear()
            }
        }, {
            key: "addParentsOfStatuses",
            value: function() {
                var e = this,
                    t = this._noticeboardService.parentLearnerStatus.map(function(t, n) {
                        return {
                            id: 1 + e.local.forTypes.length + n,
                            description: "Parents of " + t,
                            parent_learner_status: t
                        }
                    });
                this.local.forTypes = [].concat((0, i.default)(this.local.forTypes), (0, i.default)(t))
            }
        }, {
            key: "addParentsOfYear",
            value: function() {
                var e = this,
                    t = this._establishmentService.establishment.year_groups.map(function(t, n) {
                        return {
                            id: 1 + e.local.forTypes.length + n,
                            description: "Parents of " + t.name,
                            parent_learner_year_ids: t.id
                        }
                    });
                this.local.forTypes = [].concat((0, i.default)(this.local.forTypes), (0, i.default)(t))
            }
        }, {
            key: "addLearnersOfYear",
            value: function() {
                var e = this,
                    t = this._establishmentService.establishment.year_groups.map(function(t, n) {
                        return {
                            id: 1 + e.local.forTypes.length + n,
                            description: "Learners of " + t.name,
                            learner_year_ids: t.id
                        }
                    });
                this.local.forTypes = [].concat((0, i.default)(this.local.forTypes), (0, i.default)(t))
            }
        }, {
            key: "closeModal",
            value: function() {
                this._modalDefaultService.pop()
            }
        }, {
            key: "newSnippet",
            value: function(e) {
                var t = this;
                e.$invalid ? this._notificationService.showErrorNotification("Please fill all fields") : (this.snippet = this.formatSnippetForRequest(), this._requestService.getData("noticeboard", "noticeboard_snippet_add", this.snippet).then(function(e) {
                    t._noticeboardService.getAllSnippetsFromDb().then(function(n) {
                        var i = t._noticeboardService.formatSnippet(n.snippets.find(function(t) {
                            return t.id === e.snippet_id
                        }));
                        t._noticeboardService.allSnippets.unshift(i)
                    }), t.closeModal()
                }))
            }
        }, {
            key: "formatSnippetForRequest",
            value: function() {
                var e = this.select.find(function(e) {
                        return e.for_employee
                    }),
                    t = this.select.filter(function(e) {
                        return e.parent_learner_year_ids
                    }),
                    i = this.select.filter(function(e) {
                        return e.parent_learner_status
                    }),
                    a = this.select.filter(function(e) {
                        return e.learner_year_ids
                    });
                return e = !!e && e.for_employee, t = t.length ? t.map(function(e) {
                    return e.parent_learner_year_ids
                }) : [], i = i.length ? i.map(function(e) {
                    return e.parent_learner_status
                }) : [], a = a.length ? a.map(function(e) {
                    return e.learner_year_ids
                }) : [], (0, n.default)({}, this.snippet, {
                    for_employee: e,
                    parent_learner_year_ids: t,
                    parent_learner_status: i,
                    learner_year_ids: a
                })
            }
        }]), e
    }();
    exports.default = o
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2021));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("f-new-document", []).component("fNewDocument", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2022)),
        i = a(t(2023));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2024);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<form class="f-new-document" name="formnewDocument" novalidate ng-submit="$ctrl.newDocument(formnewDocument)">\n  <div class="f-default__row-default f-new-document__row">\n    <div class="f-default__field-title f-new-document__label">Name</div>\n    <input class="f-default__input f-new-document__input" type="text" required ng-model="$ctrl.document.name">\n  </div>\n  <div class="f-default__row-default f-new-document__row">\n    <div class="f-default__field-title f-new-document__label">Document</div>\n    <b-attachments remove="$ctrl.removeAttachment({ attachment })"\n                    on-picked="$ctrl.onPicked(data)"\n                    max-file-size="$ctrl._userService.user.miscellaneous.upload.max_attachment_size_communicator"\n    ></b-attachments>\n  </div>\n  <div class="f-default__row-default f-new-document__row">\n    <div class="f-default__field-title f-new-document__label">From</div>\n    <b-date-time-select class="f-new-document__date"\n      format="{{::$ctrl._dateService.getDateFormat(\'apiDateTime\')}}"\n      visible-date-format="{{::$ctrl._dateService.getDateFormat(\'momentDateTime\')}}"\n      date="$ctrl.document.available_from"></b-date-time-select>\n  </div>\n  <div class="f-default__row-default f-new-document__row">\n    <div class="f-default__field-title f-new-document__label">To</div>\n    <b-date-time-select class="f-new-document__date"\n      format="{{::$ctrl._dateService.getDateFormat(\'apiDateTime\')}}"\n      visible-date-format="{{::$ctrl._dateService.getDateFormat(\'momentDateTime\')}}"\n      date="$ctrl.document.available_until"></b-date-time-select>\n  </div>\n\n  <div class="f-default__row-default f-new-document__row">\n    <div class="f-default__field-title f-new-document__label">For</div>\n    <div ng-dropdown-multiselect class="f-new-document__multiselect"\n          options="$ctrl.local.forTypes"\n          selected-model="$ctrl.select"\n          extra-settings="$ctrl.multipleSelects.settings"></div>\n\n    <div class="f-default__select-mobile-wrap _multiple">\n      <select class="f-default__select-mobile f-new-document__select-mobile"\n              ng-model="$ctrl.select"\n              multiple>\n        <option value="" selected disabled hidden>{{$ctrl._windowWidthService.windowWidth > $ctrl._deviceMarginConstants.MOBILE_MARGIN ? \'Additional Type\' : $ctrl.local.placeholders.requiredField}}</option>\n        <option ng-repeat="type in $ctrl.local.forTypes" ng-value="type">{{type.description}}</option>\n      </select>\n    </div>\n    <div class="f-default__row-default f-new-document__row">\n      <div class="f-default__field-title f-new-document__label">Display position (Lowest shown at the top)</div>\n      <input class="f-default__input f-new-document__input" type="number" min="0" step="1" ng-model="$ctrl.document.position">\n    </div>\n  </div>\n  <button type="submit" class="btn btn-default _green _small _fill f-new-document__btn">save</button>\n</form>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = r(t(10)),
        i = r(t(11)),
        a = r(t(1)),
        s = r(t(2));

    function r(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var o = function() {
        function e(t, n, i, s, r, o, l, c, d) {
            "ngInject";
            (0, a.default)(this, e), this._establishmentService = n, this._noticeboardService = t, this._windowWidthService = i, this._notificationService = o, this._modalDefaultService = l, this._requestService = c, this._userService = s, this._attachmentsService = r, this._dateService = d, this.local = {
                forTypes: []
            }, this.select = [], this.document = {}, this.multipleSelects = {
                settings: {
                    smartButtonMaxItems: 5,
                    scrollableHeight: "255px",
                    scrollable: !0,
                    enableSearch: !0,
                    displayProp: "description",
                    checkBoxes: !0
                }
            }
        }
        return e.$inject = ["noticeboardService", "establishmentService", "windowWidthService", "userService", "attachmentsService", "notificationService", "modalDefaultService", "requestService", "dateService"], (0, s.default)(e, [{
            key: "$onInit",
            value: function() {
                this.local.forTypes = [{
                    id: 1,
                    description: "All employees",
                    for_employee: !0
                }], this.addAditionalOptions()
            }
        }, {
            key: "onPicked",
            value: function(e) {
                var t = e.documents;
                1 === t.length ? (this._attachmentsService.clearDocuments(), this._attachmentsService.onPicked({
                    documents: t
                }), this.prepareDocument(this._attachmentsService.documents[0])) : t.length > 1 && this._notificationService.showErrorNotification("Please select one document")
            }
        }, {
            key: "prepareDocument",
            value: function(e) {
                this.document.filename = e.name, this.document.filesize = e.size, this.document.mime_type = e.type
            }
        }, {
            key: "removeAttachment",
            value: function(e) {
                var t = e.attachment;
                this._attachmentsService.deleteDocument(t)
            }
        }, {
            key: "addAditionalOptions",
            value: function() {
                this.addParentsOfStatuses(), this.addParentsOfYear(), this.addLearnersOfYear()
            }
        }, {
            key: "addParentsOfStatuses",
            value: function() {
                var e = this,
                    t = this._noticeboardService.parentLearnerStatus.map(function(t, n) {
                        return {
                            id: 1 + e.local.forTypes.length + n,
                            description: "Parents of " + t,
                            parent_learner_status: t
                        }
                    });
                this.local.forTypes = [].concat((0, i.default)(this.local.forTypes), (0, i.default)(t))
            }
        }, {
            key: "addParentsOfYear",
            value: function() {
                var e = this,
                    t = this._establishmentService.establishment.year_groups.map(function(t, n) {
                        return {
                            id: 1 + e.local.forTypes.length + n,
                            description: "Parents of " + t.name,
                            parent_learner_year_ids: t.id
                        }
                    });
                this.local.forTypes = [].concat((0, i.default)(this.local.forTypes), (0, i.default)(t))
            }
        }, {
            key: "addLearnersOfYear",
            value: function() {
                var e = this,
                    t = this._establishmentService.establishment.year_groups.map(function(t, n) {
                        return {
                            id: 1 + e.local.forTypes.length + n,
                            description: "Learners of " + t.name,
                            learner_year_ids: t.id
                        }
                    });
                this.local.forTypes = [].concat((0, i.default)(this.local.forTypes), (0, i.default)(t))
            }
        }, {
            key: "closeModal",
            value: function() {
                this._modalDefaultService.pop()
            }
        }, {
            key: "newDocument",
            value: function(e) {
                var t = this;
                e.$invalid ? this._notificationService.showErrorNotification("Please fill all fields") : (this.document = this.formatDocumentForRequest(), this._noticeboardService.addDocument(this.document).then(function(e) {
                    t._noticeboardService.getAllDocumentsFromDb().then(function(n) {
                        var i = t._noticeboardService.formatSnippet(n.docs.find(function(t) {
                            return t.id === e
                        }));
                        t._noticeboardService.allDocuments.unshift(i)
                    }), t.closeModal()
                }))
            }
        }, {
            key: "formatDocumentForRequest",
            value: function() {
                var e = this.select.find(function(e) {
                        return e.for_employee
                    }),
                    t = this.select.filter(function(e) {
                        return e.parent_learner_year_ids
                    }),
                    i = this.select.filter(function(e) {
                        return e.parent_learner_status
                    }),
                    a = this.select.filter(function(e) {
                        return e.learner_year_ids
                    });
                return e = !!e && e.for_employee, t = t.length ? t.map(function(e) {
                    return e.parent_learner_year_ids
                }) : [], i = i.length ? i.map(function(e) {
                    return e.parent_learner_status
                }) : [], a = a.length ? a.map(function(e) {
                    return e.learner_year_ids
                }) : [], (0, n.default)({}, this.document, {
                    for_employee: e,
                    parent_learner_year_ids: t,
                    parent_learner_status: i,
                    learner_year_ids: a
                })
            }
        }]), e
    }();
    exports.default = o
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2026));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("f-select-parent", []).component("fSelectParent", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2027)),
        i = a(t(2028));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2029);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<form class="f-select-parent" name="employeeSelectForm" novalidate ng-submit="$ctrl.submit(employeeSelectForm)">\n  <div class="f-default__row-default f-select-parent__row">\n    <ui-select class="select-default f-student-search__select"\n               theme="selectize"\n               required\n               ng-if="$ctrl.isDesktop()"\n               ng-model="$ctrl.parent"\n               uis-open-close="$ctrl.handleSelectToggling(isOpen, hash)"\n               ng-attr-id="{{\'_\' + hash}}"\n               search-enabled="false"\n    >\n      <ui-select-match placeholder="Select parent">{{ $select.selected.title + \' \' + $select.selected.forename + \' \' + $select.selected.surname }}</ui-select-match>\n      <ui-select-choices repeat="parent in $ctrl.scope.parents | limitTo:$ctrl.selects[hash].currentItems track by $index"\n                         infinite-scroll="$ctrl._selectsService.addNewItemsToSelect($ctrl.selects[hash], $ctrl.infiniteScrollSettings.numToAdd)"\n                         infinite-scroll-container="\'#_\' + hash + \' .ui-select-choices-content\'">\n        <span>{{::(parent.title + \' \' + parent.forename + \' \' + parent.surname)}}</span>\n      </ui-select-choices>\n    </ui-select>\n    <div class="f-default__select-mobile-wrap" ng-if="!$ctrl.isDesktop()">\n      <select class="f-default__select-mobile" required ng-model="$ctrl.parent">\n        <option value="" selected disabled hidden>Select parent</option>\n        <option ng-repeat="parent in $ctrl.scope.parents track by $index" ng-value="parent">{{::(parent.title + \' \' + parent.forename + \' \' + parent.surname)}}</option>\n      </select>\n    </div>\n  </div>\n  <div class="f-default__row-default f-select-parent__row">\n    <div class="f-default__col-wrap">\n      <div class="f-default__col">\n        <button type="button" class="f-select-parent__btn btn btn-default _small"\n                ng-click="$ctrl.closeModal()"\n        >Cancel</button>\n      </div>\n      <div class="f-default__col">\n        <button type="submit" class="f-select-parent__btn btn btn-default _green _small _fill">Add</button>\n      </div>\n    </div>\n  </div>\n</form>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a) {
            "ngInject";
            (0, n.default)(this, e), this._modalDefaultService = t, this._notificationService = i, this._$window = a, this.parent = null
        }
        return e.$inject = ["modalDefaultService", "notificationService", "$window"], (0, i.default)(e, [{
            key: "isDesktop",
            value: function() {
                return this._$window.devicejs.desktop()
            }
        }, {
            key: "closeModal",
            value: function() {
                this._modalDefaultService.pop()
            }
        }, {
            key: "submit",
            value: function(e) {
                if (e.$invalid) return this._notificationService.showErrorNotification("Please fill required fields");
                this.scope.onTeacherSelect({
                    parent_id: this.parent.id
                }), this.closeModal()
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2031));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("f-event-create", []).component("fEventCreate", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2032)),
        i = a(t(2033));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2034);
    var s = {
        bindings: {
            model: "<"
        },
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<form class="f-event-create" name="eventCreateForm" novalidate>\n\n  <div class="f-default__row-default f-event-create__row">\n    <dev class="f-default__field-title _required">Name:</dev>\n    <input type="text"\n           required\n           class="f-default__input f-event-create__input"\n           name="name"\n           placeholder=""\n           ng-model="$ctrl.model.name"\n    >\n  </div>\n\n  <div class="f-default__row-default f-event-create__row">\n    <dev class="f-default__field-title">Information:</dev>\n    <textarea class="f-event-create__textarea"\n              name="information"\n              ng-model="$ctrl.model.information"\n    ></textarea>\n  </div>\n\n  <div class="f-default__row-default f-event-create__row _dates">\n    <dev class="f-default__field-title _required">Dates:</dev>\n    <input type="text" class="f-event-create__input _dummy"\n           ng-model="emptyModel"\n           ng-required="!$ctrl.model.sessions.length"\n    >\n    <button type="button" class="f-event-create__add" ng-click="$ctrl.openSelectDateRangesModal()"></button>\n  </div>\n\n  <div class="f-default__row-default f-event-create__row">\n    <ul class="f-event-create__date-list">\n      <li class="f-event-create__date-item" ng-repeat="session in $ctrl.model.sessions">\n        <button class="f-event-create__date-remove" ng-click="$ctrl.removeSession(session)" type="button"></button>\n        {{ session.start_time }} - {{ session.end_time }}\n      </li>\n    </ul>\n  </div>\n\n  <div class="f-default__row-default f-event-create__row">\n    <div class="f-default__field-title _required">Available to parents:</div>\n    <b-date-time-select class="f-event-create__date"\n      is-required="true"\n      format="{{::$ctrl._dateService.getDateFormat(\'apiDateTime\')}}"\n      visible-date-format="{{::$ctrl._dateService.getDateFormat(\'momentDateTime\')}}"\n      date="$ctrl.model.availabilityDate"></b-date-time-select>\n  </div>\n\n  <div class="f-default__row-default f-event-create__row">\n    <dev class="f-default__field-title">Closed to parents:</dev>\n    <b-date-time-select class="f-event-create__date"\n      format="{{::$ctrl._dateService.getDateFormat(\'apiDateTime\')}}"\n      visible-date-format="{{::$ctrl._dateService.getDateFormat(\'momentDateTime\')}}"\n      date="$ctrl.model.closedDate"\n      is-required="!!($ctrl.model.closedDate && $ctrl.model.availabilityDate)"\n      min-date="$ctrl.model.availabilityDate"\n      is-disabled="!$ctrl.model.availabilityDate"></b-date-time-select>\n  </div>\n\n  <div class="f-default__row-default f-event-create__row">\n    <div class="f-default__col-wrap">\n      <div class="f-default__col">\n        <dev class="f-default__field-title _required">Slot Duration (mins):</dev>\n        <input type="number"\n               class="f-default__input f-event-create__input"\n               required\n               min="1"\n               name="slot_duration"\n               placeholder=""\n               ng-model="$ctrl.model.slot_duration"\n        >\n      </div>\n      <div class="f-default__col">\n        <dev class="f-default__field-title _required">Interval:</dev>\n        <input type="number"\n               class="f-default__input f-event-create__input"\n               required\n               min="0"\n               name="buffer_duration"\n               placeholder=""\n               ng-model="$ctrl.model.buffer_duration"\n        >\n      </div>\n    </div>\n  </div>\n\n  <div class="f-default__row-default f-event-create__row">\n    <div class="f-default__col-wrap">\n      <div class="f-default__col">\n        <dev class="f-default__field-title">Max parent bookings:</dev>\n        <input type="text"\n               class="f-event-create__input"\n               name="name"\n               placeholder=""\n               ng-model="$ctrl.model.bookable_slots_per_learner"\n        >\n      </div>\n    </div>\n  </div>\n\n  <div class="f-default__row-default f-event-create__row _learners">\n    <dev class="f-default__field-title _required">Learners:</dev>\n    <input type="text" class="f-event-create__input _dummy"\n           ng-model="emptyModel"\n           ng-required="!$ctrl.learners.length"\n    >\n    <l-photos-group class="f-event-create__learners"\n                    items="$ctrl.learners"\n                    ng-click="$ctrl.openLearnersPreviewModal()"\n    ></l-photos-group>\n    <button type="button" class="f-event-create__add" ng-click="$ctrl.openLearnersAddModal()"></button>\n  </div>\n\n  <div class="f-default__row-default f-event-create__row" ng-if="$ctrl._userService.user.capabilities[\'parentevent.video\']">\n    <label for="video"\n           class="f-event-create__checkbox f-default__label"\n           ng-class="{ \'_checkbox-checked\': $ctrl.model.video }">\n      <input id="video"\n             type="checkbox"\n             class="f-event-create__checkbox-input"\n             name="video"\n             ng-model="$ctrl.model.video"\n      >\n      <span class="f-event-create__checkbox-title">Video conference</span>\n    </label>\n  </div>\n\n  <div class="f-default__row-default f-event-create__row">\n    <label for="include_form_teachers"\n           class="f-event-create__checkbox f-default__label"\n           ng-class="{ \'_checkbox-checked\': $ctrl.model.include_form_teachers }">\n      <input id="include_form_teachers"\n             type="checkbox"\n             class="f-event-create__checkbox-input"\n             name="include_form_teachers"\n             ng-model="$ctrl.model.include_form_teachers"\n      >\n      <span class="f-event-create__checkbox-title">Include form teachers</span>\n    </label>\n  </div>\n\n  <div class="f-default__row-default f-event-create__row">\n    <label for="prevent_consecutive_bookings"\n           class="f-event-create__checkbox f-default__label"\n           ng-class="{ \'_checkbox-checked\': $ctrl.model.prevent_consecutive_bookings }">\n      <input id="prevent_consecutive_bookings"\n             type="checkbox"\n             class="f-event-create__checkbox-input"\n             name="prevent_consecutive_bookings"\n             ng-model="$ctrl.model.prevent_consecutive_bookings"\n      >\n      <span class="f-event-create__checkbox-title">Prevent consecutive bookings</span>\n    </label>\n  </div>\n\n  <div class="f-default__row-default f-event-create__row">\n    <div class="f-default__col-wrap">\n      <div class="f-default__col">\n        <button type="button" class="f-event-create__btn btn btn-default _small"\n                ng-click="$ctrl.close()"\n        >Cancel</button>\n      </div>\n      <div class="f-default__col">\n        <button type="submit" class="f-event-create__btn btn btn-default _green _small _fill"\n                ng-disabled="$ctrl.isSending"\n                ng-click="$ctrl.next(eventCreateForm)"\n        >Next step</button>\n      </div>\n    </div>\n  </div>\n</form>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(26)),
        i = s(t(1)),
        a = s(t(2));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = function() {
        function e(t, n, a, s, r, o, l, c) {
            "ngInject";
            var d = this;
            (0, i.default)(this, e), this._model = {
                name: "",
                information: "",
                availabilityDate: null,
                closedDate: null,
                sessions: [],
                slot_duration: 0,
                buffer_duration: 0,
                video: !1,
                include_form_teachers: !1,
                prevent_consecutive_bookings: !1,
                bookable_slots_per_learner: null
            }, this.isSending = !1, this._$scope = a, this._modalDefaultService = t, this._studentsService = n, this._parentsEveningService = s, this._teachersService = r, this._userService = c, this._notificationService = o, this._dateService = l, a.$on("$destroy", function() {
                d._studentsService.clearSelectedStudents()
            }), this.configs = {
                lazyPhoto: {
                    prefix: "data:image/png;base64,",
                    reserveScroll: 150,
                    getPhotoCallback: this.getPhoto.bind(this),
                    getDefaultPhotoCallback: this.getDefaultPhoto.bind(this),
                    changeObjectTimeout: 500,
                    isUniqueElements: !0,
                    isSingleElements: !0
                },
                itemsLimit: 25,
                scroll: {
                    increaseBy: 10,
                    startCount: 25,
                    isMobile: !0
                },
                emitScrollInit: this.emitScrollInit.bind(this)
            }
        }
        return e.$inject = ["modalDefaultService", "studentsService", "$scope", "parentsEveningService", "teachersService", "notificationService", "dateService", "userService"], (0, a.default)(e, [{
            key: "emitScrollInit",
            value: function() {
                this._$scope.$emit("initScrollArea")
            }
        }, {
            key: "getPhoto",
            value: function(e, t) {
                return this._studentsService.students.getPhotos(t)
            }
        }, {
            key: "getDefaultPhoto",
            value: function(e, t) {
                return this._studentsService.getDefaultPhotoUsingGender(t)
            }
        }, {
            key: "openSelectDateRangesModal",
            value: function() {
                var e = this;
                return this._modalDefaultService.showModalWithTemplates("modal-select-date", {
                    select: function(t) {
                        var n = t.from,
                            i = t.to;
                        e.model.sessions.push({
                            start_time: n,
                            end_time: n.replace(/[0-2][0-9]:[0-9][0-9]/, i)
                        }), e._modalDefaultService.pop()
                    },
                    cancel: function() {
                        return e._modalDefaultService.pop()
                    }
                }, "Select date")
            }
        }, {
            key: "openLearnersPreviewModal",
            value: function() {
                return this._modalDefaultService.showModalWithTemplates("modal-users", {
                    users: this.learners,
                    configs: this.configs
                }, "Learners (" + (this.learners.length || 0) + ")")
            }
        }, {
            key: "openLearnersAddModal",
            value: function() {
                return this._studentsService.filteredStudents = this._studentsService.students.students, this._modalDefaultService.showModalWithTemplates("modal-select-learners", {
                    isSave: !0
                }, "Learners")
            }
        }, {
            key: "removeSession",
            value: function(e) {
                var t = this.model.sessions,
                    n = t.indexOf(e);
                ~n && t.splice(n, 1)
            }
        }, {
            key: "close",
            value: function() {
                this._modalDefaultService.closeLastModal()
            }
        }, {
            key: "next",
            value: function(e) {
                var t = this;
                if (!e.$invalid) {
                    var i = this._parentsEveningService.createEventRequest(this._model, this.learners);
                    return this.isSending = !0, this._parentsEveningService.create(i, !0).then(this._parentsEveningService.parsePreview).then(function(e) {
                        var a = e.sessions,
                            s = e.teachers_overallocated_by,
                            r = e.teaching_groups,
                            o = (0, n.default)(s).map(function(e) {
                                if (s.hasOwnProperty(e)) return {
                                    id: e,
                                    value: s[e]
                                }
                            });
                        if (o.length) {
                            var l = o.map(function(e) {
                                    return e.id
                                }),
                                c = t._teachersService.employees.filter(function(e) {
                                    return -1 !== l.indexOf(e.id)
                                }),
                                d = t._parentsEveningService.formatTeachers(c, o);
                            t._modalDefaultService.push({
                                id: "modal-preview-event",
                                scope: {
                                    sessions: a,
                                    teachers: d,
                                    model: i,
                                    teaching_groups: r
                                },
                                title: "Preview"
                            })
                        } else t._modalDefaultService.push({
                            id: "modal-preview-event",
                            scope: {
                                sessions: a,
                                teachers: [],
                                model: i,
                                teaching_groups: r
                            },
                            title: "Preview"
                        })
                    }).finally(function() {
                        return t.isSending = !1
                    })
                }
                this._notificationService.showErrorNotification("Please fill required fields")
            }
        }, {
            key: "model",
            get: function() {
                return this._model
            },
            set: function(e) {
                e && (this._model = e)
            }
        }, {
            key: "learners",
            get: function() {
                return this._studentsService.selectedStudents
            }
        }]), e
    }();
    exports.default = r
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2036));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("f-help", []).component("fHelp", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2037)),
        i = a(t(2038));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2039);
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<form class="f-help">\n  <div class="f-default__row f-help__row">\n    <label class="f-default__label">\n      <input type="text"\n             name="postcode"\n             ng-model="$ctrl.postcode"\n             ng-class="{_filled: $ctrl.postcode.length}"\n             class="f-default__field f-help__field"\n             autocomplete="off"\n             autocorrect="off"\n             autocapitalize="none">\n      <span class="f-default__label-text f-help__label-text">School ID or Postcode</span>\n    </label>\n  </div>\n  \n  <div class="f-help__button">\n    <button class="f-help__submit btn btn-round btn-action" ng-click="$ctrl.getSchool()" type="button"\n            ng-class="{ \'_blocked\': $ctrl.local.isPostCodeBlocked }"\n    >\n      NEXT\n    </button>\n  </div>\n</form>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r, o) {
            "ngInject";
            var l = this;
            (0, n.default)(this, e), this._educationalsService = i, this._loginService = a, this._requestService = s, this._$state = r, this._configService = o, this.local = {
                isPostCodeBlocked: !0
            }, t.$watch(function() {
                return l.postcode
            }, function() {
                l.local.isPostCodeBlocked = !(l.postcode && l.postcode.length)
            })
        }
        return e.$inject = ["$scope", "educationalsService", "loginService", "requestService", "$state", "configService"], (0, i.default)(e, [{
            key: "getSchool",
            value: function() {
                var e = this;
                this.local.isPostCodeBlocked ? this._notificationService.showErrorNotification("Please fill postcode field") : this.checkSchool(this.postcode).then(function(t) {
                    e.local.schoolId = t.school.school_id;
                    var n = t.school.server,
                        i = {};
                    i.establishment_id = "" + e.local.schoolId, e._requestService.setUrlForMainApi(n), e._educationalsService.getSchoolDetails(i).then(function(t) {
                        var i = {
                            serverUrl: n,
                            schoolId: e.local.schoolId,
                            logo: e._configService.schoolEnv.logo,
                            name: e._configService.schoolEnv.name
                        };
                        e._loginService.loginToCurrentSchool(i, !0), e._loginService.addingNewSchool = !0, e._loginService.skipRestoreService = !0, e._configService.schoolByHelpForm = !0, e._$state.transitionTo("login")
                    })
                }).catch(function(e) {})
            }
        }, {
            key: "checkSchool",
            value: function(e) {
                return this._educationalsService.checkSchoolCode(e)
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2041));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("f-reset", []).component("fReset", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2042)),
        i = a(t(2043));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2044);
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<form class="f-reset">\n    <div class="f-default__row f-reset__row">\n      <label class="f-default__label">\n        <input type="text"\n                name="email"\n                ng-model="$ctrl.email"\n                ng-class="{_filled: $ctrl.email.length}"\n                class="f-default__field f-reset__field"\n                autocomplete="off"\n                autocorrect="off"\n                autocapitalize="none">\n        <span class="f-default__label-text f-reset__label-text">Your Email Address</span>\n      </label>\n    </div>\n    \n    <div class="f-reset__button">\n      <button class="f-reset__submit btn btn-round btn-action" ng-click="$ctrl.resetPassword()" type="button"\n      ng-class="{ \'_blocked\': $ctrl.local.isEmailBlocked }"\n      >\n        RESET PASSWORD\n      </button>\n    </div>\n  </form>\n  '
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r, o) {
            "ngInject";
            var l = this;
            (0, n.default)(this, e), this._authService = i, this._notificationService = a, this._educationalsService = s, this._configService = r, this._loginService = o, this.local = {
                isEmailBlocked: !0
            }, t.$watch(function() {
                return l.email
            }, function() {
                l.local.isEmailBlocked = !(l.email && l.email.length)
            })
        }
        return e.$inject = ["$scope", "authService", "notificationService", "educationalsService", "configService", "loginService"], (0, i.default)(e, [{
            key: "resetPassword",
            value: function() {
                var e = this;
                this.local.isEmailBlocked ? this._notificationService.showErrorNotification("Please fill email field") : this._authService.resetEmailPasswordRequest(this._configService.schoolEnv.id, this.email).then(function() {
                    e._notificationService.showSuccessNotification("Please follow the instructions in your email"), e._loginService.goLogin()
                })
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2046));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("f-learner-detention", []).component("fLearnerDetention", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2047)),
        i = a(t(2048));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2049);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            model: "<",
            submit: "&",
            isEditForm: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<form class="f-learner-detention">\n  <div class="f-learner-detention__row" ng-if="!$ctrl.isEditForm">\n    <div class="f-learner-detention__select _dropdown">\n      <div class="f-learner-detention__select-label">Reason for detention:</div>\n      <ui-select ng-model="$ctrl.reasonForDetentionId"\n                 theme="selectize"\n                 ng-init="hash = $ctrl._selectsService.generateHash($ctrl.selects); $ctrl._selectsService.setItemsNumber($ctrl.infiniteScrollSettings, hash)"\n                 uis-open-close="$ctrl._selectsService.handleSelectToggling(hash, $ctrl.infiniteScrollSettings)"\n                 class="select-default"\n                 ng-attr-id="{{\'_\' + hash}}"\n                 search-enabled="false">\n        <ui-select-match placeholder="-">{{ $select.selected.description }}</ui-select-match>\n        <ui-select-choices repeat="type.id as type in $ctrl._detentionsService.behaviourTypes | limitTo:$ctrl.selects[hash].currentItems track by $index"\n                           infinite-scroll="$ctrl._selectsService.addNewItemsToSelect($ctrl.selects[hash], $ctrl.infiniteScrollSettings.numToAdd)"\n                           infinite-scroll-container="\'#_\' + hash + \' .ui-select-choices-content\'">\n          <span>{{::type.description}}</span>\n        </ui-select-choices>\n      </ui-select>\n\n      <div class="f-default__select-mobile-wrap f-learner-detention__select-mobile-wrap">\n        <select class="f-default__select-mobile f-learner-detention__select-mobile" ng-model="$ctrl.reasonForDetentionId">\n          <option ng-repeat="type in $ctrl._detentionsService.behaviourTypes" value="{{ type.id }}">{{::type.description}}</option>\n        </select>\n      </div>\n    </div>\n  </div>\n  <div class="f-learner-detention__row" ng-show="$ctrl.isEditForm">\n    <div class="f-learner-detention__select _dropdown">\n      <div class="f-learner-detention__select-label">Attended:</div>\n      <ui-select ng-model="$ctrl.attendedType"\n                 theme="selectize"\n                 ng-init="hash = $ctrl._selectsService.generateHash($ctrl.selects); $ctrl._selectsService.setItemsNumber($ctrl.infiniteScrollSettings, hash)"\n                 uis-open-close="$ctrl._selectsService.handleSelectToggling(hash, $ctrl.infiniteScrollSettings)"\n                 class="select-default"\n                 ng-attr-id="{{\'_\' + hash}}"\n                 search-enabled="false">\n        <ui-select-match placeholder="{{ $select.selected.name }} - {{ $select.selected.value }}">{{ $select.selected.name }} - {{ $select.selected.value }}</ui-select-match>\n        <ui-select-choices position="{{ $index > 1 ? \'up\' : \'down\' }}"\n                           repeat="type.value as type in $ctrl.types | limitTo:$ctrl.selects[hash].currentItems track by $index"\n                           infinite-scroll="$ctrl._selectsService.addNewItemsToSelect($ctrl.selects[hash], $ctrl.infiniteScrollSettings.numToAdd)"\n                           infinite-scroll-container="\'#_\' + hash + \' .ui-select-choices-content\'">\n          <span>{{::type.name}} - {{::type.value}}</span>\n        </ui-select-choices>\n      </ui-select>\n\n      <div class="f-default__select-mobile-wrap f-learner-detention__select-mobile-wrap">\n        <select class="f-default__select-mobile f-learner-detention__select-mobile" ng-model="$ctrl.attendedType">\n          <option ng-repeat="type in $ctrl.types" value="{{ type.value }}">{{::type.name}} - {{::type.value}}</option>\n        </select>\n      </div>\n    </div>\n  </div>\n\n  <div class="f-learner-detention__row" ng-show="$ctrl.isNat">\n    <div class="f-learner-detention__col _next-session-label">\n      Attend next session:\n    </div>\n    <div class="f-learner-detention__col _next-session-field">\n      <label class="f-learner-detention__checkbox f-default__label"\n             ng-class="{ \'_checkbox-checked\': $ctrl.model.attend_next_session }">\n        <input type="checkbox" class="f-learner-detention__checkbox-input"\n               ng-model="$ctrl.model.attend_next_session">\n        <span class="f-learner-detention__checkbox-title"></span>\n      </label>\n    </div>\n  </div>\n\n  <div class="f-learner-detention__row _block" ng-show="$ctrl.isNat">\n    <span class="f-learner-detention__textarea-label">Reason for non attendance:</span>\n    <textarea class="f-learner-detention__textarea" name="reason"\n              ng-model="$ctrl.model.reason_for_non_attendance"></textarea>\n  </div>\n\n  <div class="f-learner-detention__row _block">\n    <span class="f-learner-detention__textarea-label">Staff comment:</span>\n    <textarea class="f-learner-detention__textarea" maxlength="200" name="comment"\n              ng-model="$ctrl.model.staff_comments"></textarea>\n  </div>\n\n  <div class="f-learner-detention__row _block _no-margin">\n    <button class="btn btn-default f-learner-detention__submit" type="submit"\n            ng-if="!$ctrl.isEditForm"\n            ng-click="$ctrl.onSubmit()"\n            ng-disabled="$ctrl.isLoading"\n    >Add</button>\n    <button class="btn btn-default f-learner-detention__submit" type="submit"\n            ng-if="$ctrl.isEditForm"\n            ng-click="$ctrl.onSubmit()"\n            ng-disabled="$ctrl.isLoading"\n    >Update</button>\n  </div>\n</form>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(35)),
        i = s(t(1)),
        a = s(t(2));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = function() {
        function e(t, n, a, s, r, o, l) {
            "ngInject";
            (0, i.default)(this, e), this._$scope = t, this._$state = s, this._notificationService = r, this._detentionsService = a, this._selectsService = o, this._modalDefaultService = l, this._behaviourDataService = n, this.types = a.attendTypes, this.local = {
                infiniteScrollSettings: this._selectsService.getInfiniteScrollSettings()
            }, this.isLoading = !1, this.initModel()
        }
        return e.$inject = ["$scope", "behaviourDataService", "detentionsService", "$state", "notificationService", "selectsService", "modalDefaultService"], (0, a.default)(e, [{
            key: "initModel",
            value: function(e) {
                this._model = e || (0, n.default)({
                    attended_code: this.types[0].value,
                    attend_next_session: !1,
                    reason_for_non_attendance: null,
                    staff_comments: null,
                    reason_for_detention_id: null
                }, e)
            }
        }, {
            key: "onSubmit",
            value: function() {
                var e = this;
                if (this.isEditForm) return this.submit(this.model);
                var t = this._detentionsService.createLearnerData(this.model || {}),
                    n = this._detentionsService.createAddLearnersRequest(t);
                return n.format = 2, this.isLoading = !0, this._detentionsService.addLearner(n).then(function(t) {
                    if (t.details.failed_learner_ids.length) {
                        e._$scope.$emit("hideModal", {}), e._notificationService.showErrorNotification("Please reallocate learner to alternative detention");
                        var i = n.learners.filter(function(e) {
                            return t.details.failed_learner_ids.find(function(t) {
                                return t === Number(e.id)
                            })
                        });
                        e._modalDefaultService.showModalWithTemplates("modal-select-detention", {
                            failed_learners: i,
                            at_max_capacity: t.details.at_max_capacity
                        }, "Select another detention")
                    } else e._$scope.$emit("hideModal", {
                        closeAllModals: !0
                    }), e._notificationService.showSuccessNotification("Changes successfully submitted"), e._$state.go("detention.sessions")
                }).finally(function() {
                    e.isLoading = !1
                })
            }
        }, {
            key: "selects",
            get: function() {
                return this.local.infiniteScrollSettings.selects
            }
        }, {
            key: "infiniteScrollSettings",
            get: function() {
                return this.local.infiniteScrollSettings
            }
        }, {
            key: "model",
            get: function() {
                return this._model
            },
            set: function(e) {
                this.initModel(e)
            }
        }, {
            key: "attendedType",
            get: function() {
                return this.model.attended_code
            },
            set: function(e) {
                this.model.attended_code = e
            }
        }, {
            key: "reasonForDetentionId",
            get: function() {
                return this.model.reason_for_detention_id
            },
            set: function(e) {
                this.model.reason_for_detention_id = e
            }
        }, {
            key: "isNat",
            get: function() {
                return "NAT" === this.attendedType
            }
        }]), e
    }();
    exports.default = r
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2051));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("b-confirm-message", []).component("fConfirmMessage", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2052)),
        i = a(t(2053));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2054);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            cancel: "&",
            send: "&",
            recipientsNumber: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<form class="f-confirm-message">\n  <div class="f-confirm-message__top">\n    <div class="f-confirm-message__title">\n      You are about to send\n      {{$ctrl.recipientsNumber > 1 ? $ctrl.recipientsNumber + \' messages\' : \' 1 message\'}}</div>\n    <div class="f-confirm-message__text">\n      Click {{$ctrl.recipientsNumber > 1 ? \'\\"Send Messages\\"\' : \'\\"Send Message\\"\'}}\n      only if you are absolutely sure you want to send them</div>\n  </div>\n  <div class="f-confirm-message__bottom">\n    <button type="button" class="f-confirm-message__button" ng-click="$ctrl.cancel()">CANCEL</button>\n    <button type="button" class="f-confirm-message__button"\n            ng-disabled="$ctrl.isLoading"\n            ng-click="$ctrl.sendMessage()">\n      {{$ctrl.recipientsNumber > 1 ? \'SEND MESSAGES\' : \'SEND MESSAGE\'}}</button>\n  </div>\n</form>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e() {
            "ngInject";
            (0, n.default)(this, e), this.local = {
                isLoading: !1
            }
        }
        return (0, i.default)(e, [{
            key: "sendMessage",
            value: function() {
                var e = this;
                this.local.isLoading = !0, this.send().finally(function() {
                    return e.local.isLoading = !1
                })
            }
        }, {
            key: "isLoading",
            get: function() {
                return this.local.isLoading
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(0)),
        i = s(t(2056)),
        a = s(t(2060));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = n.default.module("f-login", []).component("fLogin", i.default).service({
        fLoginService: a.default
    }).name;
    exports.default = r
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2057)),
        i = a(t(2058));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2059);
    var s = {
        restrict: "E",
        template: n.default,
        controller: i.default,
        bindings: {
            linkAccount: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="f-login__logo"\n     form="login"\n     ng-if="($ctrl._authService.educational && !$ctrl._authService.showSchoolCode) || $ctrl._loginService.data.loginToSchoolState || !($ctrl._configService.isCordovaEnv || $ctrl._configService.isMultiSchoolServer) || $ctrl._configService.schoolByHelpForm"\n     ng-style="{\'background-image\': \'url(data:image/png;base64,\' + ($ctrl._educationalsService.currentEducational.logo || $ctrl.schoolEnv.logo) + \')\'}"></div>\n<div class="f-login__school-title"\n     ng-if="($ctrl._authService.educational && !$ctrl._authService.showSchoolCode) || $ctrl._loginService.data.loginToSchoolState || !($ctrl._configService.isCordovaEnv || $ctrl._configService.isMultiSchoolServer) || $ctrl._configService.schoolByHelpForm"\n>\n  {{$ctrl.schoolEnv.name || $ctrl._educationalsService.currentEducational.name}}\n</div>\n\n<form class="f-login" ng-if="$ctrl._loginService.data.addingNewSchool && ($ctrl._configService.isCordovaEnv || $ctrl._configService.isMultiSchoolServer) && !$ctrl._configService.schoolByHelpForm && $ctrl._authService.showSchoolCode">\n  <div class="f-default__row f-login__row">\n    <label class="f-default__label">\n      <input type="text"\n             name="schoolCode"\n             ng-model="$ctrl._authService.schoolCode"\n             ng-class="{_filled: $ctrl._authService.schoolCode.length}"\n             class="f-default__field f-login__field"\n             autocomplete="off"\n             autocorrect="off"\n             autocapitalize="none">\n      <span class="f-default__label-text f-login__label-text">School id or postcode</span>\n    </label>\n  </div>\n  <div class="f-login__button">\n    <button class="f-login__submit btn btn-round btn-action" type="submit"\n            ng-class="{ _blocked: !$ctrl._authService.schoolCode }"\n            ng-disabled="$ctrl.local.isSchoolCodeChecking"\n            ng-click="$ctrl.checkSchoolCode($ctrl._authService.schoolCode)"\n    >\n      Next\n    </button>\n  </div>\n</form>\n\n<form class="f-login"\n      ng-if="!($ctrl._loginService.data.addingNewSchool && ($ctrl._configService.isCordovaEnv ||\n       $ctrl._configService.isMultiSchoolServer) && !$ctrl._configService.schoolByHelpForm) || !$ctrl._authService.showSchoolCode">\n  <div class="f-login__message" ng-if="$ctrl.linkAccount">\n    <p class="f-login__message-text">Please enter your EduLink One username and password to link your EduLink Account to your sQuid account</p>\n    <p class="f-login__message-text">This will allow you to automatically access sQuid from inside EduLink One.</p>\n  </div>\n  <div class="f-default__row f-login__row" ng-if="!$ctrl.schoolEnv.idp_only">\n    <label class="f-default__label">\n      <input type="text"\n             name="username"\n             ng-model="$ctrl.username"\n             ng-class="{_filled: $ctrl.username}"\n             class="f-default__field f-login__field"\n             autocomplete="off"\n             autocorrect="off"\n             autocapitalize="none">\n      <span class="f-default__label-text f-login__label-text">Username</span>\n    </label>\n  </div>\n  <div class="f-default__row f-login__row _relative" ng-if="!$ctrl.schoolEnv.idp_only">\n    <label class="f-default__label">\n      <input type="password"\n             name="password"\n             ng-model="$ctrl.user.password"\n             ng-class="{_filled: $ctrl.user.password.length}"\n             class="f-default__field f-login__field">\n      <span class="f-default__label-text f-login__label-text">Password</span>\n    </label>\n    <button type="button" class="f-login__btn-forgot"\n            ng-if="$ctrl.passwordReset"\n            ng-click="$ctrl.showResetPasswordModal()">Forgot password?</button>\n    <svg-use name="payments_squid" ng-if="$ctrl.linkAccount"></svg-use>\n  </div>\n  <div class="f-default__row f-login__row _checkbox"\n       ng-show="$ctrl._loginService.data.addingNewSchool"\n       ng-class="{\'_checked\': $ctrl.isSaveSchoolInLocalStorage}"\n\t     ng-if="!$ctrl.schoolEnv.idp_only && !$ctrl.linkAccount">\n    <label class="f-default__label" ng-click="$ctrl.invertSavingData($event)">\n      <input type="checkbox" class="f-login__checkbox">\n      <span class="f-default__label-text f-login__label-text"><span>Remember me?</span></span>\n    </label>\n    \x3c!--<button ng-if="$ctrl._loginService.data.addingNewSchool && ($ctrl._configService.isCordovaEnv || $ctrl._configService.isMultiSchoolServer) && !$ctrl._configService.schoolByHelpForm"\n            ui-sref="help" type="button">\n      <span class="f-default__label-text f-login__label-text _help">HELP?</span>\n    </button>--\x3e\n    <button ng-if="!$ctrl.passwordReset"\n            ng-click="$ctrl.reset()" type="button">\n      <span class="f-default__label-text f-login__label-text _help">RESET LOGIN</span>\n    </button>\n  </div>\n\t<div style="text-align: center;" id="loginwith-delimiter" ng-if="$ctrl.schoolEnv.idp_login.google || $ctrl.schoolEnv.idp_login.microsoftonline">\n        <div class="f-login__line"></div>\n        <div class="f-login__text">Log in with:</div>\n    </div>\n  <div class="f-login__links">\n    <a class="f-login__link _microsoft"\n        ng-attr-target="{{($ctrl._configService.isCordovaEnv) ? \'_blank\' : undefined}}"\n        ng-if="$ctrl.schoolEnv.idp_login.microsoftonline"\n        ng-href="{{$ctrl.schoolEnv.idp_login.microsoftonline}}"\n        title="Login with Microsoft Online">\n      <img class="f-login__link-img _microsoft" src="./img/microsoftonline-login.svg">\n      <div class="f-login__link _loginlinktext">Microsoft</div>\n    </a>\n\n    <a class="f-login__link _google"\n        ng-attr-target="{{($ctrl._configService.isCordovaEnv) ? \'_blank\' : undefined}}"\n        ng-if="$ctrl.schoolEnv.idp_login.google"\n        ng-href="{{$ctrl.schoolEnv.idp_login.google}}"\n        title="Login with Google">\n      <img class="f-login__link-img _google" src="./img/google-login.svg">\n      <div class="f-login__link _loginlinktext">Google</div>\n    </a>\n  </div>\n\n  <div class="f-login__button" ng-if="!$ctrl.schoolEnv.idp_only">\n    <button class="f-login__submit btn btn-round btn-action" type="submit"\n            ng-class="{ _blocked: $ctrl.local.isLoginBlocked }"\n            ng-click="$ctrl.signIn($ctrl.user.username, $ctrl.user.password)"\n    >\n      {{ ::($ctrl.linkAccount ? \'Link account\' : \'Log in\') }}\n    </button>\n  </div>\n\n  \x3c!--\n  <div>\n    <pre>\n      {{$ctrl.schoolEnv | json }}\n    </pre>\n  </div>\n  --\x3e\n\n\n\n\n</form>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r, o, l, c, d, u, _, f, v) {
            "ngInject";
            var m = this;
            (0, n.default)(this, e), this._$window = t, this._loginService = a, this._$state = s, this._$stateParams = r, this._$scope = i, this._notificationService = v, this._userService = d, this._authService = u, this._educationalsService = _, this._requestService = f, this._configService = o, this._menuService = l, this._modalDefaultService = c, this.user = {
                username: null,
                password: null
            }, this.local = {
                isLoginBlocked: !0,
                isSchoolCodeChecking: !1,
                isLoginLoading: !1,
                isSaveSchoolInLocalStorage: angular.isDefined(t.cordova),
                passwordReset: !1,
                schoolId: null
            };
            var h = i.$on("login.clearCurrentUser", function() {
                m.username = null
            });
            i.$on("$destroy", h), i.$watch(function() {
                return m._educationalsService.currentEducational
            }, function(e) {
                e ? (m.serverUrl = e.serverUrl, m.username = m._loginService.data.loginToSchoolState ? e.username : null, m._configService.isCordovaEnv && (m.password = m._loginService.data.loginToSchoolState ? e.password : null)) : m.restoreUser()
            }), i.$watchCollection(function() {
                return m.user
            }, function(e) {
                m._loginService.data.addingNewSchool && !m._authService.schoolCode && !m._configService.schoolByHelpForm && m._configService.isMultiSchoolServer ? m.local.isLoginBlocked = !0 : m.local.isLoginBlocked = !(e.username && e.password)
            })
        }
        return e.$inject = ["$window", "$scope", "loginService", "$state", "$stateParams", "configService", "menuService", "modalDefaultService", "userService", "authService", "educationalsService", "requestService", "notificationService"], (0, i.default)(e, [{
            key: "restoreUser",
            value: function() {
                this.user = {
                    username: null,
                    password: null
                }
            }
        }, {
            key: "signInSuccess",
            value: function() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null;
                this._userService.setUser(e), this._loginService.isCurrentSchoolSelected = !1, this._$state.go("home")
            }
        }, {
            key: "reset",
            value: function() {
                var e = this;
                this._authService.enablePasswordRequest(this._configService.schoolEnv.id).then(function(t) {
                    e._$state.go("reset")
                })
            }
        }, {
            key: "signIn",
            value: function(e, t) {
                var n = this;
                if (!this.local.isLoginLoading)
                    if (this.local.isLoginBlocked) this._notificationService.showErrorNotification("Please fill all fields");
                    else {
                        if (this.local.isLoginLoading = !0, this.linkAccount) return this._authService.signIn(e, t, this._configService.schoolEnv.id, this._requestService.classes.initial.url, this.linkAccount).then(function(e) {
                            n.signInSuccess(e)
                        }).catch(function() {
                            n.local.isLoginLoading = !1
                        });
                        if (this._loginService.data.addingNewSchool)
                            if (!this._configService.isCordovaEnv && !this._configService.isMultiSchoolServer || this._configService.schoolByHelpForm) {
                                this.local.schoolId = this._configService.schoolEnv.id;
                                var i = void 0,
                                    a = {
                                        school: {
                                            server: this._$window.location.origin + "/api/",
                                            school_id: this.local.schoolId
                                        }
                                    };
                                this._configService.educationalCodeStateParam || this._configService.schoolByHelpForm ? (i = this._requestService.classes.initial.url, a.school.server = i) : this._configService.isLocalhost ? (i = "https://demo.edulinkone.com/api/", a.school.server = i, this._requestService.setUrlForMainApi(i)) : (i = this._$window.location.origin + "/api/", this._requestService.setUrlForMainApi(i)), this._authService.signIn(e, t, this.local.schoolId, i).then(function(i) {
                                    n.local.passwordReset = !1, n._menuService.setActiveMenuToStorage("mainMenu"), n.local.isSaveSchoolInLocalStorage && n._educationalsService.saveEducationalToLocalStorage(e, t, a, i), n.signInSuccess(i)
                                }).catch(function(e) {
                                    e.request.result && e.request.result.extra && e.request.result.extra.password_reset && (n.local.passwordReset = !0), n.local.isLoginLoading = !1
                                })
                            } else this._authService.signIn(e, t, this.local.schoolId, this._requestService.classes.initial.url).then(function(i) {
                                n.local.passwordReset = !1, n.local.isSaveSchoolInLocalStorage && n._educationalsService.saveEducationalToLocalStorage(e, t, n._authService.educational, i), n.signInSuccess(i)
                            }).catch(function(e) {
                                e.request.result.extra && e.request.result.extra.password_reset && (n.local.passwordReset = !0), n.local.isLoginLoading = !1
                            });
                        else {
                            this.local.schoolId = this._educationalsService.currentEducational.schoolId;
                            var s = this._educationalsService.currentEducational.serverUrl;
                            this._requestService.isDemoMode = !1, this._requestService.setUrlForMainApi(s), this._authService.signIn(e, t, this.local.schoolId, s).then(function(i) {
                                var a = {
                                    school: {
                                        server: s,
                                        school_id: n.local.schoolId
                                    }
                                };
                                n._educationalsService.saveEducationalToLocalStorage(e, t, a, i), n.local.passwordReset = !1, n.signInSuccess(i)
                            }).catch(function(e) {
                                e.request.result.extra && e.request.result.extra.password_reset && (n.local.passwordReset = !0), n.local.isLoginLoading = !1
                            })
                        }
                    }
            }
        }, {
            key: "hideModal",
            value: function() {
                this._modalDefaultService.pop()
            }
        }, {
            key: "showResetPasswordModal",
            value: function() {
                var e = this;
                this._modalDefaultService.showModalWithTemplates("modal-confirm", {
                    confirm: function() {
                        return e.resetPassword()
                    },
                    cancel: function() {
                        return e.hideModal()
                    },
                    message: "Reset your password?"
                }, "Reset Password")
            }
        }, {
            key: "resetPassword",
            value: function() {
                var e = this;
                this._authService.resetPasswordRequest(this.user.username, this.local.schoolId).then(function() {
                    e.password = "", e.local.isSaveSchoolInLocalStorage && e._educationalsService.removeEducationalPasswordFromLocalStorage(e.user.username, e.local.schoolId, e.serverUrl), e._notificationService.showSuccessNotification("Please check your email")
                }).then(function() {
                    return e.hideModal()
                })
            }
        }, {
            key: "checkSchoolCode",
            value: function(e) {
                var t = this;
                if (this._authService.schoolCode) return this.local.isSchoolCodeChecking = !0, this._educationalsService.checkSchoolCode(e).then(function(e) {
                    var n = e.school.server,
                        i = e.school.school_id;
                    t.local.schoolId = i, t._authService.educational = e, t._requestService.setUrlForMainApi(n);
                    var a = {
                        establishment_id: "" + i,
                        from_app: t._configService.isCordovaEnv
                    };
                    return t._educationalsService.getSchoolDetails(a).then(function() {
                        t._authService.showSchoolCode = !1
                    })
                }).finally(function() {
                    t.local.isSchoolCodeChecking = !1
                });
                this._notificationService.showErrorNotification("Please fill the field")
            }
        }, {
            key: "invertSavingData",
            value: function(e) {
                e.preventDefault(), this.isSaveSchoolInLocalStorage = !this.isSaveSchoolInLocalStorage
            }
        }, {
            key: "username",
            set: function(e) {
                this.user.username = e
            },
            get: function() {
                return this.user.username
            }
        }, {
            key: "password",
            get: function() {
                return this.user.password
            },
            set: function(e) {
                this.user.password = e
            }
        }, {
            key: "passwordReset",
            get: function() {
                return this.local.passwordReset
            }
        }, {
            key: "isSaveSchoolInLocalStorage",
            get: function() {
                return this.local.isSaveSchoolInLocalStorage
            },
            set: function(e) {
                this.local.isSaveSchoolInLocalStorage = e
            }
        }, {
            key: "schoolEnv",
            get: function() {
                return this._configService.schoolEnv
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(1),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    exports.default = function e() {
        "ngInject";
        (0, a.default)(this, e), this.child = null
    }
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2062));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("f-manage-area", []).component("fManageArea", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2063)),
        i = a(t(2064));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2065);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<form class="f-manage-area"\n      novalidate\n      name="manageAreaForm"\n      ng-submit="$ctrl.submit(manageAreaForm)"\n>\n  <div class="f-default__row-default">\n    <b-input-container class="f-manage-area__input-container">\n      <label class="f-manage-area__label" float-label>Name</label>\n      <input class="f-manage-area__input f-default__input"\n        name="name"\n        required\n        with-float-label\n        ng-model="$ctrl.scope.area">\n    </b-input-container>\n  </div>\n  <div class="f-default__row-default">\n    <div class="f-default__col-wrap">\n      <div class="f-default__col">\n        <button type="submit"\n                ng-disabled="$ctrl.isLoading"\n                class="f-manage-area__btn btn btn-default _fill _small _green"\n        >Save</button>\n      </div>\n      <div class="f-default__col">\n        <button type="button"\n                class="f-manage-area__btn btn btn-default _fill _small"\n                ng-click="$ctrl.scope.onCancel()"\n        >Close</button>\n      </div>\n    </div>\n  </div>\n</form>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e() {
            "ngInject";
            (0, n.default)(this, e), this.isLoading = !1
        }
        return (0, i.default)(e, [{
            key: "$onInit",
            value: function() {
                this.scope.area = this.scope.area ? this.scope.area : ""
            }
        }, {
            key: "submit",
            value: function(e) {
                var t = this;
                e.$invalid || (this.isLoading = !0, this.scope.onSubmit(e.name.$modelValue).finally(function() {
                    t.isLoading = !1
                }))
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2067));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("f-manage-slots", []).component("fManageSlots", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2068)),
        i = a(t(2069));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2070);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<form class="f-manage-slots" name="manageSlotsForm" novalidate>\n  <div class="f-default__row-default f-manage-slots__row">\n    <div class="f-default__field-title f-manage-slots__field-title">Teacher:</div>\n    {{ $ctrl.scope.teacher.name }}\n  </div>\n  <div class="f-default__row-default f-manage-slots__row">\n      <div class="f-default__field-title f-manage-slots__field-title">Teacher location:</div>\n      {{ $ctrl.scope.teacher.location }}\n    </div>\n  <div class="f-default__row-default f-manage-slots__row">\n    <div class="f-default__field-title f-manage-slots__field-title">Subject:</div>\n    {{ $ctrl.scope.subject }}\n  </div>\n  <div class="f-default__row-default f-manage-slots__row">\n    <div class="f-default__field-title f-manage-slots__field-title">Learner:</div>\n    {{ $ctrl.scope.learner.name }}\n  </div>\n  <div class="f-default__row-default f-manage-slots__row" ng-if="$ctrl.scope.notesToTeacher">\n    <div class="f-default__field-title f-manage-slots__field-title">Note:</div>\n    {{ $ctrl.scope.notesToTeacher }}\n  </div>\n  <div class="f-default__row-default f-manage-slots__row" ng-if="$ctrl.scope.book">\n    <div class="f-default__field-title f-manage-slots__field-title">Available Slots:</div>\n    <select class="f-default__select-mobile"\n            required\n            ng-model="$ctrl.slot"\n    >\n      <option value="" selected disabled hidden>-</option>\n      <option\n        ng-repeat="slot in $ctrl.scope.slots | filter: { available: true }"\n        ng-value="slot"\n      >{{ slot.time }}</option>\n    </select>\n  </div>\n  <div class="f-default__row-default f-manage-slots__row" ng-if="$ctrl.parents.length > 1">\n    <div class="f-default__field-title f-manage-slots__field-title">Select parent:</div>\n    <select class="f-default__select-mobile"\n            required\n            ng-model="$ctrl.parentId"\n    >\n      <option value="" selected disabled hidden>-</option>\n      <option\n        ng-repeat="parent in $ctrl.parents track by $index"\n        ng-value="parent.id"\n      >{{::parent.forename}} {{::parent.surname}}</option>\n    </select>\n  </div>\n  <div class="f-default__row-default f-manage-slots__row" ng-if="$ctrl.scope.book">\n    <div class="f-default__field-title f-manage-slots__field-title">Comment:</div>\n    <textarea class="f-default__textarea"\n              ng-model="$ctrl.notesToTeacher"\n    ></textarea>\n  </div>\n  <div class="f-default__row-default f-manage-slots__row">\n    <button type="submit" class="f-manage-slots__btn btn btn-default _green _fill _small"\n            ng-if="$ctrl.scope.book"\n            ng-disabled="$ctrl.isLoading"\n            ng-click="$ctrl.book(manageSlotsForm)"\n    >Book</button>\n    <button type="submit" class="f-manage-slots__btn btn btn-default _red _fill _small"\n            ng-if="$ctrl.scope.unbook"\n            ng-disabled="$ctrl.isLoading"\n            ng-click="$ctrl.unbook()"\n    >Un-book</button>\n  </div>\n</form>\n\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i) {
            "ngInject";
            (0, n.default)(this, e), this._userService = i, this._notificationService = t, this.slot = null, this.parentId = null, this.notesToTeacher = null, this.parents = [], this.isLoading = !1
        }
        return e.$inject = ["notificationService", "userService"], (0, i.default)(e, [{
            key: "$onInit",
            value: function() {
                this.scope.book && (this.parents = this.scope.slots[0].parents)
            }
        }, {
            key: "unbook",
            value: function() {
                var e = this;
                this.isLoading = !0;
                var t = {
                    slot: {
                        event_id: this.scope.event_id,
                        learner_id: this.scope.learner.learner_id,
                        teacher_id: this.scope.teacher.teacher_id
                    }
                };
                this.scope.parent_id && (t.slot.parent_id = this.scope.parent_id), this.scope.unbook(t).finally(function() {
                    return e.isLoading = !1
                })
            }
        }, {
            key: "book",
            value: function(e) {
                var t = this;
                if (e.$invalid) this._notificationService.showErrorNotification("Please fill required fields");
                else {
                    this.isLoading = !0;
                    var n = {
                        slot: {
                            event_id: this.scope.event_id,
                            learner_id: this.scope.learner.learner_id,
                            teacher_id: this.scope.teacher.teacher_id,
                            slot_id: this.slot.slot.slot_id
                        }
                    };
                    this.notesToTeacher && (n.slot.notes_to_teacher = this.notesToTeacher), this._userService.user.activeStudent && (1 === this.parents.length && (this.parentId = this.parents[0].id), n.slot.parent_id = this.parentId), this.scope.book(n).finally(function() {
                        return t.isLoading = !1
                    })
                }
            }
        }, {
            key: "openSelectSlotModal",
            value: function(e) {
                var t = e.find(function(e) {
                    return e.slot.booked
                });
                return this.scope.select({
                    slots: e,
                    slot: t,
                    isMobile: !0,
                    isSlotInfo: !0
                })
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2072));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("f-manage-club", []).component("fManageClub", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2073)),
        i = a(t(2074));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2075);
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<form class="f-manage-club" name="manageClubForm" novalidate>\n  <div class="f-manage-club__left">\n    <div class="f-default__row-default f-manage-club__row">\n      <div class="f-default__field-title f-manage-club__title _required">Name:</div>\n      <input type="text" class="f-default__input f-manage-club__input"\n             ng-required="true"\n             ng-model="$ctrl.model.name"\n      >\n    </div>\n    <div class="f-default__row-default f-manage-club__row">\n      <div class="f-default__field-title f-manage-club__title">Capacity:</div>\n      <input type="number" class="f-default__input f-manage-club__input"\n             min="1"\n             ng-model="$ctrl.model.capacity"\n      >\n    </div>\n    <div class="f-default__row-default f-manage-club__row">\n      <div class="f-default__field-title f-manage-club__title">Location:</div>\n      <input type="text" class="f-default__input f-manage-club__input" ng-model="$ctrl.model.location">\n    </div>\n    <div class="f-default__row-default f-manage-club__row">\n      <button type="button" class="btn btn-default _small _blue _fill f-manage-club__btn"\n              ng-click="$ctrl.openSelectEmployeesModal()"\n      >Leaders</button>\n    </div>\n    <div class="f-default__row-default f-manage-club__row _bottom">\n      <div class="f-default__col-wrap f-manage-club__col-wrap">\n        <div class="f-default__col f-manage-club__col">\n          <button type="button" class="btn btn-default _small f-manage-club__btn"\n                  ng-click="$ctrl.closeModal()"\n          >Back</button>\n        </div>\n        <div class="f-default__col f-manage-club__col">\n          <button type="submit" class="btn btn-default _small _green _fill f-manage-club__btn"\n                  ng-click="$ctrl.openClubSessionsModal(manageClubForm)"\n          >Next</button>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class="f-manage-club__right">\n    <f-summernote class="f-manage-club__editor" content="$ctrl.model.description"></f-summernote>\n  </div>\n</form>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r, o, l, c, d, u, _) {
            "ngInject";
            if ((0, n.default)(this, e), this._$scope = t, this._$state = i, this._$stateParams = a, this._$rootScope = s, this._clubsService = r, this._modalDefaultService = o, this._notificationService = l, this._studentsService = c, this._teachersService = d, this._userService = u, this._dateService = _, this.model = {
                    name: this._clubsService.editableClub ? this._clubsService.editableClub.name : "",
                    capacity: this._clubsService.editableClub ? this._clubsService.editableClub.capacity : null,
                    location: this._clubsService.editableClub ? this._clubsService.editableClub.location : "",
                    employee_ids: this._clubsService.editableClub ? this._clubsService.editableClub.leaders : [],
                    description: this._clubsService.editableClub ? this._clubsService.editableClub.description : "",
                    sessions: this._clubsService.editableClub ? this._clubsService.editableClub.sessions : []
                }, !this._clubsService.editableClub) {
                var f = this._userService.user.id;
                this._teachersService.selectedTeachers = this._teachersService.employees.filter(function(e) {
                    return e.id === f
                })
            }
        }
        return e.$inject = ["$scope", "$state", "$stateParams", "$rootScope", "clubsService", "modalDefaultService", "notificationService", "studentsService", "teachersService", "userService", "dateService"], (0, i.default)(e, [{
            key: "addDates",
            value: function(e) {
                for (; e.weeks > 0;) {
                    var t = {};
                    t.start_time = e.date + " " + e.startTime, t.end_time = e.date + " " + e.endTime, e.weeks--, this.model.sessions.push(t), e.weeks !== this.model.weeks && (e.date = moment(e.date).add(7, "days").format(this._dateService.getDateFormat("apiDate")))
                }
            }
        }, {
            key: "removeDate",
            value: function(e) {
                var t = this.model.sessions.indexOf(e);
                this.model.sessions.splice(t, 1)
            }
        }, {
            key: "openSelectEmployeesModal",
            value: function() {
                var e = this,
                    t = {
                        teachers: this._teachersService.employees,
                        isSave: !0,
                        onSubmit: function() {
                            return e.closeModal()
                        }
                    };
                this._modalDefaultService.showModalWithTemplates("modal-add-teachers", t, "Leaders")
            }
        }, {
            key: "openClubSessionsModal",
            value: function(e) {
                var t = this;
                if (e.$invalid) return this._notificationService.showErrorNotification("Please fill required fields");
                var n = {
                    sessions: this.model.sessions,
                    onDateRemove: function(e) {
                        var n = e.date;
                        return t.removeDate(n)
                    },
                    onDatesAdd: function(e) {
                        var n = e.model;
                        return t.addDates(n)
                    },
                    onSubmit: function() {
                        return t.submit()
                    }
                };
                this._modalDefaultService.showModalWithTemplates("modal-club-sessions", n, "Sessions")
            }
        }, {
            key: "generateOptions",
            value: function() {
                this._teachersService.selectedTeachers && this._teachersService.selectedTeachers.length && (this.model.employee_ids = this._teachersService.selectedTeachers.map(function(e) {
                    return e.id
                })), this._studentsService.selectedStudents && this._studentsService.selectedStudents.length && (this.model.available_learner_ids = this._studentsService.selectedStudents.map(function(e) {
                    return e.id
                }));
                var e = {
                    name: this.model.name
                };
                return this.model.capacity && (e.capacity = this.model.capacity), this.model.location && (e.location = this.model.location), this.model.description && (e.description = this.model.description), this.model.employee_ids && this.model.employee_ids.length && (e.employee_ids = this.model.employee_ids), this.model.available_learner_ids && this.model.available_learner_ids.length && (e.available_learner_ids = this.model.available_learner_ids), this.model.sessions && this.model.sessions.length && (e.sessions = this.model.sessions), this._clubsService.editableClub && (e.club_id = this._$stateParams.id, e.learner_ids = this._clubsService.editableClub.learner_ids), e
            }
        }, {
            key: "submit",
            value: function() {
                var e = this,
                    t = this.generateOptions();
                return (this._clubsService.editableClub ? this._clubsService.updateClub(t) : this._clubsService.createClub(t)).then(function() {
                    e._notificationService.showSuccessNotification("Success"), e._$state.transitionTo("clubs.employee", {
                        page: "my_clubs"
                    }, {
                        notify: !1
                    }), e.closeAllModals()
                })
            }
        }, {
            key: "closeAllModals",
            value: function() {
                this._$rootScope.$emit("hideModal", {
                    closeAllModals: !0
                })
            }
        }, {
            key: "closeModal",
            value: function() {
                this._$scope.$emit("hideModal")
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2077));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("f-manage-teaching-group", []).component("fManageTeachingGroup", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2078)),
        i = a(t(2079));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2080);
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<form class="f-manage-teaching-group" name="manageTeachingGroupForm"\n      novalidate\n      ng-submit="$ctrl._moveEvent(manageTeachingGroupForm)">\n  <div class="f-default__row-default">\n    <ui-select ng-model="$ctrl.data.newResource"\n               required\n               theme="selectize"\n               ng-init="hash = $ctrl._selectsService.generateHash($ctrl.selects); $ctrl._selectsService.setItemsNumber($ctrl.infiniteScrollSettings, hash)"\n               uis-open-close="$ctrl._selectsService.handleSelectToggling(hash, $ctrl.infiniteScrollSettings)"\n               class="select-default _gray f-manage-teaching-group__select"\n               ng-attr-id="{{\'_\' + hash}}"\n               search-enabled="false">\n      <ui-select-match placeholder="Room *">\n        {{$select.selected.description}}\n      </ui-select-match>\n      <ui-select-choices repeat="resource in $ctrl._getFreeResources() | limitTo:$ctrl.selects[hash].currentItems track by $index"\n                         infinite-scroll="$ctrl._selectsService.addNewItemsToSelect($ctrl.selects[hash], $ctrl.infiniteScrollSettings.numToAdd)"\n                         infinite-scroll-container="\'#_\' + hash + \' .ui-select-choices-content\'">\n        <span>{{::resource.description}}</span>\n      </ui-select-choices>\n    </ui-select>\n    <div class="f-default__select-mobile-wrap">\n      <select class="f-default__select-mobile f-manage-teaching-group__select-mobile"\n              required\n              ng-options="resource as resource.description for resource in $ctrl._resourceBookingService.data.resources"\n              ng-model="$ctrl.data.newResource">\n        <option value="" selected disabled>Room *</option>\n      </select>\n    </div>\n  </div>\n  <div class="f-default__row-default">\n    <button type="submit" class="f-manage-teaching-group__btn btn btn-default _green _small _fill">Save</button>\n  </div>\n</form>\n\n\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r, o, l) {
            "ngInject";
            (0, n.default)(this, e), this._$scope = t, this._$filter = i, this._resourceBookingService = a, this._studentsService = s, this._modalDefaultService = r, this._notificationService = o, this._selectsService = l, this.data = {
                newResource: null
            }, this._initValues()
        }
        return e.$inject = ["$scope", "$filter", "ResourceBookingService", "studentsService", "modalDefaultService", "notificationService", "selectsService"], (0, i.default)(e, [{
            key: "_initValues",
            value: function() {
                this.data = {
                    newResource: this._getInitResourceValue(),
                    infiniteScrollSettings: this._selectsService.getInfiniteScrollSettings()
                }
            }
        }, {
            key: "_hideModal",
            value: function() {
                this._$scope.$emit("hideModal")
            }
        }, {
            key: "_getFreeResources",
            value: function() {
                var e = this._resourceBookingService.data.selectedEventToMove.cycle_period_id,
                    t = this._resourceBookingService.availablePeriods.filter(function(t) {
                        return t.id === e
                    }).pop().bookings.map(function(e) {
                        return e.resource_id
                    });
                return this._resourceBookingService.data.resources.filter(function(e) {
                    return t.indexOf(e.id) < 0
                })
            }
        }, {
            key: "_getInitResourceValue",
            value: function() {
                var e = this,
                    t = this._resourceBookingService.data.resources.filter(function(t) {
                        return t.id === e._resourceBookingService.data.selectedEventToMove.resource_id
                    });
                this.data.newResource = t.length > 0 ? t.pop() : null
            }
        }, {
            key: "_moveEvent",
            value: function(e) {
                var t = this;
                e.$valid ? this._resourceBookingService.saveTeachingGroup(this.data.newResource.id).then(function() {
                    return t._hideModal()
                }) : this._notificationService.showErrorNotification("Please fill required fields")
            }
        }, {
            key: "selects",
            get: function() {
                return this.data.infiniteScrollSettings.selects
            }
        }, {
            key: "infiniteScrollSettings",
            get: function() {
                return this.data.infiniteScrollSettings
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2082));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("f-message-options", []).component("fMessageOptions", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2083)),
        i = a(t(2084));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2085);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            scope: "="
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<form class="f-message-options">\n  <div class="f-default__row-default f-message-options__row"\n       ng-if="$ctrl._userService.user.capabilities[\'communicator.reply_to\'] && !$ctrl._communicatorDataService.isReply">\n    <div class="f-default__field-title">Reply Address:</div>\n    <label class="f-send__field-outer _reply">\n      <input type="text" class="f-message-options__field f-send__field"\n             ng-model="$ctrl.scope.replyTo.value">\n      <span class="f-send__note">@{{$ctrl._userService.user.capabilities[\'communicator.email_domain\']}}</span>\n    </label>\n  </div>\n  <div class="f-default__row-default f-message-options__row">\n    <label class="f-send__checkbox f-default__label"\n           ng-click="$ctrl.scope.record({ event: $event })"\n           ng-class="{ \'_checkbox-checked\': $ctrl._communicatorDataService.recordMessage }">\n      <input type="checkbox" class="f-send__checkbox-input">\n      <span class="f-send__checkbox-title">Record in SIMS communications log</span>\n    </label>\n  </div>\n  <div class="f-default__row-default f-message-options__row">\n    <ui-select ng-model="$ctrl.scope.template"\n               ng-change="$ctrl.scope.selectTemplate({ id: $ctrl.scope.template.id })"\n               theme="selectize"\n               ng-init="hash = $ctrl._selectsService.generateHash($ctrl.selects); $ctrl._selectsService.setItemsNumber($ctrl.infiniteScrollSettings, hash)"\n               uis-open-close="$ctrl._selectsService.handleSelectToggling(hash, $ctrl.infiniteScrollSettings)"\n               class="select-default f-message-options__select"\n               ng-attr-id="{{\'_\' + hash}}"\n               ng-disabled="!$ctrl.scope.templates.length"\n               search-enabled="false">\n      <ui-select-match placeholder="Select Template">\n        {{ $select.selected.name }}\n      </ui-select-match>\n      <ui-select-choices\n        repeat="template in $ctrl.scope.templates | filter: { type: $ctrl.scope.templatesFilter } | limitTo:$ctrl.selects[hash].currentItems track by $index"\n        infinite-scroll="$ctrl._selectsService.addNewItemsToSelect($ctrl.selects[hash], $ctrl.infiniteScrollSettings.numToAdd)"\n        infinite-scroll-container="\'#_\' + hash + \' .ui-select-choices-content\'">\n        <span>{{ template.name }}</span>\n      </ui-select-choices>\n    </ui-select>\n    <div class="f-default__select-mobile-wrap f-message-options__select-mobile-wrap">\n      <select class="f-default__select-mobile f-message-options__select-mobile"\n              ng-change="$ctrl.scope.selectTemplate({ id: $ctrl.scope.template.id })"\n              ng-model="$ctrl.scope.template">\n        <option value="" selected>Select Template</option>\n        <option ng-value="template"\n                ng-repeat="template in $ctrl.scope.templates | filter: { type: $ctrl.scope.templatesFilter }">\n          {{ template.name }}\n        </option>\n      </select>\n    </div>\n  </div>\n  <div class="f-default__row-default f-message-options__row" ng-if="!$ctrl._communicatorDataService.isReply">\n    <b-date-time-select class="f-message-options__date"\n      format="{{::$ctrl._dateService.getDateFormat(\'apiDateTime\')}}"\n      visible-date-format="{{::$ctrl._dateService.getDateFormat(\'momentDateTime\')}}"\n      name="date"\n      date="$ctrl.scope.date.value"\n      placeholder="Send on: Date/Time"></b-date-time-select>\n  </div>\n  <div class="f-default__row-default f-message-options__row"\n       ng-if="!$ctrl._communicatorDataService.isReply">\n    <button type="button" class="f-send__btn-variables" ng-click="$ctrl.scope.openVariablesModal()">Add Variables</button>\n  </div>\n  <div class="f-default__row-default f-message-options__row _bottom">\n    <button type="button" class="f-message-options__cancel btn btn-default _small _green _fill"\n            ng-click="$ctrl.hideModal()">Close</button>\n  </div>\n</form>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r) {
            "ngInject";
            (0, n.default)(this, e), this._$scope = t, this._communicatorDataService = i, this._selectsService = a, this._userService = s, this._dateService = r, this.local = {
                infiniteScrollSettings: this._selectsService.getInfiniteScrollSettings()
            }
        }
        return e.$inject = ["$scope", "communicatorDataService", "selectsService", "userService", "dateService"], (0, i.default)(e, [{
            key: "hideModal",
            value: function() {
                this._$scope.$emit("hideModal")
            }
        }, {
            key: "selects",
            get: function() {
                return this.local.infiniteScrollSettings.selects
            }
        }, {
            key: "infiniteScrollSettings",
            get: function() {
                return this.local.infiniteScrollSettings
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2087));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("f-new-message", []).component("fNewMessage", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2088)),
        i = a(t(2089));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            payload: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<f-default-dialog data="$ctrl.payloadData"></f-default-dialog>\n\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e() {
            "ngInject";
            (0, n.default)(this, e), this.initValues()
        }
        return (0, i.default)(e, [{
            key: "initValues",
            value: function() {
                this.data || (this.data = {
                    payloadData: null
                })
            }
        }, {
            key: "payload",
            set: function(e) {
                this.initValues(), e && !e.body && (e.body = "You received a new message!"), this.data.payloadData = e
            }
        }, {
            key: "payloadData",
            get: function() {
                return this.data && this.data.payloadData
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2091));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("f-notice", []).component("fNotice", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2092)),
        i = a(t(2093));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2094);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<form class="f-notice">\n  <div class="f-default__row-default f-notice__row">\n    <div class="f-notice__title">{{::$ctrl.scope.title}}</div>\n  </div>\n  <div class="f-default__row-default f-notice__row">\n    <div class="f-notice__message">{{::$ctrl.scope.body}}</div>\n  </div>\n  <div class="f-default__row-default f-notice__row">\n    <div class="f-default__col-wrap f-notice__col-wrap">\n      <div class="f-default__col" ng-if="$ctrl._userService.user.notice.link">\n        <a class="f-notice__link btn btn-default _small _fill _green"\n           target="_blank"\n           ng-href="{{$ctrl._userService.user.notice.link.url}}"\n        >{{$ctrl._userService.user.notice.link.text}}</a>\n      </div>\n      <div class="f-default__col">\n        <button class="f-notice__btn btn btn-default _small"\n                ng-click="$ctrl.hideModal()"\n        >Close</button>\n      </div>\n    </div>\n  </div>\n</form>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i) {
            "ngInject";
            (0, n.default)(this, e), this._modalDefaultService = t, this._userService = i
        }
        return e.$inject = ["modalDefaultService", "userService"], (0, i.default)(e, [{
            key: "hideModal",
            value: function() {
                this._modalDefaultService.pop()
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2096));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("f-parent-options", []).component("fParentOptions", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2097)),
        i = a(t(2098));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2099);
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<form class="f-parent-options">\n  <div class="f-default__row-default f-parent-options__row">\n    <div class="f-default__field-title f-parent-options__row-title">Maximum Priority:</div>\n    <ui-select ng-model="$ctrl._communicatorDataService.recipientsData.maxPriority"\n               theme="selectize"\n               class="select-default"\n               search-enabled="false"\n    >\n      <ui-select-match placeholder="-">{{ $select.selected.name }}</ui-select-match>\n      <ui-select-choices repeat="option.value as option in $ctrl.maxPriorityOptions track by $index">\n        <span>{{ ::option.name }}</span>\n      </ui-select-choices>\n    </ui-select>\n\n    <div class="f-default__select-mobile-wrap">\n      <select class="f-default__select-mobile"\n              ng-model="$ctrl._communicatorDataService.recipientsData.maxPriority">\n        <option value="" disabled selected hidden>-</option>\n        <option ng-repeat="option in $ctrl.maxPriorityOptions track by $index"\n                ng-value="option.value"\n        >{{ ::option.name }}</option>\n      </select>\n    </div>\n  </div>\n  <div class="f-default__row-default f-parent-options__row">\n    <div class="f-default__field-title f-parent-options__row-title">Parental Responsibility:</div>\n    <ui-select ng-model="$ctrl._communicatorDataService.recipientsData.parentalResponsibility"\n               theme="selectize"\n               class="select-default"\n               search-enabled="false"\n    >\n      <ui-select-match placeholder="-">{{ $select.selected.name }}</ui-select-match>\n      <ui-select-choices repeat="option.value as option in $ctrl.parentalResponsibilityOptions track by $index">\n        <span>{{ ::option.name }}</span>\n      </ui-select-choices>\n    </ui-select>\n\n    <div class="f-default__select-mobile-wrap">\n      <select class="f-default__select-mobile"\n              ng-model="$ctrl._communicatorDataService.recipientsData.parentalResponsibility">\n        <option value="" disabled selected hidden>-</option>\n        <option ng-repeat="option in $ctrl.parentalResponsibilityOptions track by $index"\n                ng-value="option.value"\n        >{{ ::option.name }}</option>\n      </select>\n    </div>\n  </div>\n  <div class="f-default__row-default f-parent-options__row">\n    <div class="f-default__col-wrap">\n      <div class="f-default__col">\n        <button type="button"\n                class="f-parent-options__btn btn btn-default _fill _small"\n                ng-click="$ctrl.hideModal()"\n        >Cancel</button>\n      </div>\n      <div class="f-default__col">\n        <button type="button"\n                class="f-parent-options__btn btn btn-default _fill _small _green"\n                ng-click="$ctrl.onSubmit()"\n                ng-disabled="$ctrl.isLoading"\n        >Save</button>\n      </div>\n    </div>\n  </div>\n</form>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(26)),
        i = s(t(1)),
        a = s(t(2));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = function() {
        function e(t, n, a, s) {
            "ngInject";
            (0, i.default)(this, e), this._contactsDataService = n, this._communicatorDataService = t, this._modalDefaultService = a, this._userService = s, this.maxPriorityOptions = [], this.parentalResponsibilityOptions = [{
                name: "Yes",
                value: "true"
            }, {
                name: "No",
                value: "false"
            }, {
                name: "Ignore",
                value: "ignore"
            }], this.isLoading = !1
        }
        return e.$inject = ["communicatorDataService", "contactsDataService", "modalDefaultService", "userService"], (0, a.default)(e, [{
            key: "$onInit",
            value: function() {
                this._communicatorDataService.recipientsData.maxPriority || (this._communicatorDataService.recipientsData.maxPriority = this._userService.user.capabilities.communicator.parent_identification.max_priority, this._communicatorDataService.recipientsData.parentalResponsibility = this._userService.user.capabilities.communicator.parent_identification.parental_responsibility), this.maxPriorityOptions = this.getFormattedOptions(this._userService.user.capabilities.communicator.parent_identification.options.max_priority)
            }
        }, {
            key: "getFormattedOptions",
            value: function(e) {
                return (0, n.default)(e).map(function(t) {
                    return {
                        name: e[t],
                        value: t
                    }
                })
            }
        }, {
            key: "hideModal",
            value: function() {
                this._modalDefaultService.pop()
            }
        }, {
            key: "onSubmit",
            value: function() {
                var e = this;
                this._communicatorDataService.removeRecipients("Parent");
                var t = {
                        max_priority: this._communicatorDataService.recipientsData.maxPriority,
                        parental_responsibility: this._communicatorDataService.recipientsData.parentalResponsibility,
                        enabled: !0
                    },
                    n = {
                        learner_ids: this._communicatorDataService.getLearnerIds(),
                        communicator: !0,
                        custom: t
                    };
                this.isLoading = !0, this._contactsDataService.getRelatedParentsFromDb(n).then(function(t) {
                    e._communicatorDataService.parents = t.contacts, e._communicatorDataService.addRecipients(t.contacts, "Parent"), e._communicatorDataService.recipientsData.edited = !0, e.hideModal(), e.isLoading = !1
                })
            }
        }]), e
    }();
    exports.default = r
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2101));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("f-profiles-entry", []).component("fProfilesEntry", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2102)),
        i = a(t(2103));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2104);
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<form class="f-profiles-entry">\n  <div class="f-profiles-entry__title">\n    {{ $ctrl._profilesService.currentSessionName }} - {{ $ctrl._profilesService.currentGroupName }}\n  </div>\n  <div class="f-profiles-entry__body"\n       ng-class="{_active: $ctrl.data.isVisible}">\n    <l-profiles-entry></l-profiles-entry>\n\n  </div>\n</form>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a) {
            "ngInject";
            (0, n.default)(this, e), this._profilesService = t, this._userService = a, this._prTeacherService = i, this.data = {
                areasNames: this.getAreasNames(this._profilesService.areas.areas)
            }
        }
        return e.$inject = ["profilesService", "prTeacherService", "userService"], (0, i.default)(e, [{
            key: "getAreasNames",
            value: function() {
                var e = "";
                return (arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : []).forEach(function(t) {
                    e += t.name + "/"
                }), e.slice(0, e.length - 1)
            }
        }, {
            key: "areasNames",
            get: function() {
                return this.data.areasNames
            }
        }, {
            key: "yearGroup",
            get: function() {
                return this._profilesService.currentLearner.yearGroup
            }
        }, {
            key: "communityGroup",
            get: function() {
                return this._profilesService.currentLearner.communityGroup
            }
        }, {
            key: "formGroup",
            get: function() {
                return this._profilesService.currentLearner.formGroup
            }
        }, {
            key: "typeOfViewComments",
            get: function() {
                return this._profilesService.typeOfViewComments
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2106));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("f-quiz", []).component("fQuiz", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2107)),
        i = a(t(2108));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2109);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            form: "<",
            onSave: "&",
            cancel: "&"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<form class="f-quiz" name="quizForm"\n      novalidate\n      ng-submit="$ctrl.save(quizForm)">\n  <div class="f-default__row-default f-quiz__row">\n    <div class="f-quiz__name">\n      {{ ::$ctrl.form.subject }}\n    </div>\n  </div>\n  <div class="f-default__row-default f-quiz__row" ng-repeat="field in $ctrl.form.fields track by $index">\n\n    <div class="f-quiz__field" ng-if="field.type === \'subheading\'">\n      <div class="f-quiz__subheading">\n        {{ ::field.content }}\n      </div>\n    </div>\n\n    <div class="f-quiz__field" ng-if="field.type === \'paragraph\'">\n      <p class="f-quiz__paragraph" ng-bind-html="field.content"></p>\n    </div>\n\n    <div class="f-quiz__field" ng-if="field.type === \'choice\'">\n      <div class="f-default__field-title" ng-class="{ _required: field.required }">\n        {{ ::field.label }}:\n      </div>\n      <div class="f-quiz__select-outer" ng-click="$ctrl.changeSelectValue($event.currentTarget)">\n        <ui-select ng-model="field.value"\n                   ng-init="hash = $ctrl._selectsService.generateHash($ctrl.selects); $ctrl._selectsService.setItemsNumber($ctrl.infiniteScrollSettings, hash)"\n                   ng-required="field.required"\n                   uis-open-close="$ctrl._selectsService.handleSelectToggling(hash, $ctrl.infiniteScrollSettings)"\n                   class="select-default f-quiz__select"\n                   ng-attr-id="{{\'_\' + hash}}"\n                   theme="selectize"\n                   search-enabled="false">\n          <ui-select-match placeholder="Select">\n            {{ $select.selected }}\n          </ui-select-match>\n          <ui-select-choices repeat="option in field.options | limitTo:$ctrl.selects[hash].currentItems track by $index"\n                             infinite-scroll="$ctrl._selectsService.addNewItemsToSelect($ctrl.selects[hash], $ctrl.infiniteScrollSettings.numToAdd)"\n                             infinite-scroll-distance=\'1\'\n                             infinite-scroll-container="\'#_\' + hash + \' .ui-select-choices-content\'">\n            <span>{{ ::option }}</span>\n          </ui-select-choices>\n        </ui-select>\n      </div>\n\n      <div class="f-default__select-mobile-wrap f-quiz__select-mobile-wrap">\n        <select class="f-default__select-mobile f-quiz__select-mobile"\n                ng-required="field.required"\n                ng-model="field.value">\n          <option value="" selected>-</option>\n          <option ng-repeat="option in field.options track by $index">{{ option }}</option>\n          <optgroup label=""></optgroup>\n        </select>\n      </div>\n    </div>\n\n    <div class="f-quiz__field" ng-if="field.type === \'email\'">\n      <div class="f-default__field-title" ng-class="{ _required: field.required }">\n        {{ ::field.label }}:\n      </div>\n      <input type="text" class="f-default__input f-quiz__input" placeholder="Email"\n             ng-required="field.required"\n             ng-model="field.value">\n    </div>\n\n    <div class="f-quiz__field" ng-if="field.type === \'text\'">\n      <div class="f-default__field-title" ng-class="{ _required: field.required }">\n        {{ ::field.label }}:\n      </div>\n      <input type="text" class="f-default__input f-quiz__input" placeholder="{{ ::field.placeholder }}"\n             ng-required="field.required"\n             ng-model="field.value"\n             ng-if="!field.multiline">\n      <textarea class="f-default__textarea f-quiz__textarea" rows="7"\n                placeholder="{{ ::field.placeholder }}"\n                ng-required="field.required"\n                ng-model="field.value"\n                ng-if="field.multiline"></textarea>\n    </div>\n  </div>\n  <div class="f-default__row-default f-quiz__row">\n    <div class="f-quiz__controls">\n      <button type="submit" class="btn btn-default _green _fill _submit f-quiz__btn">Submit</button>\n      <button type="button" class="btn btn-default f-quiz__btn" ng-click="$ctrl.cancel()">Cancel</button>\n    </div>\n  </div>\n</form>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a) {
            "ngInject";
            (0, n.default)(this, e), this._formsService = t, this._notificationService = i, this._selectsService = a, this.local = {
                infiniteScrollSettings: this._selectsService.getInfiniteScrollSettings()
            }
        }
        return e.$inject = ["formsService", "notificationService", "selectsService"], (0, i.default)(e, [{
            key: "save",
            value: function(e) {
                if (e.$invalid) return this._notificationService.showErrorNotification("Please fill required fields");
                this.onSave({
                    fields: this.form.fields
                })
            }
        }, {
            key: "triggerValidationEvent",
            value: function(e) {
                this._formsService.triggerValidationEvent(e)
            }
        }, {
            key: "changeSelectValue",
            value: function(e) {
                this.triggerValidationEvent(angular.element(e).find(".f-quiz__select"))
            }
        }, {
            key: "selects",
            get: function() {
                return this.local.infiniteScrollSettings.selects
            }
        }, {
            key: "infiniteScrollSettings",
            get: function() {
                return this.local.infiniteScrollSettings
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2111));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("f-rename-folder", []).component("fRenameFolder", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2112)),
        i = a(t(2113));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2114);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<form class="f-rename-folder" name="renameFolderForm"\n      novalidate\n      ng-submit="$ctrl.renameFolder(renameFolderForm)">\n  <div class="f-default__row-default f-rename-folder__row">\n    <div class="f-default__field-title _required">Name:</div>\n    <input type="text" class="f-rename-folder__input f-default__input" required ng-model="$ctrl.scope.name">\n  </div>\n\n  <div class="f-default__row-default f-rename-folder__row">\n    <div class="f-default__col-wrap">\n      <div class="f-default__col">\n        <button type="button" class="f-rename-folder__btn btn btn-default _small"\n                ng-click="$ctrl.scope.cancel()">Cancel</button>\n      </div>\n      <div class="f-default__col">\n        <button type="submit" class="f-rename-folder__btn btn btn-default _green _small _fill" ng-disabled="$ctrl.isLoading">\n          Add\n        </button>\n      </div>\n    </div>\n  </div>\n</form>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e() {
            "ngInject";
            (0, n.default)(this, e), this.isLoading = !1
        }
        return (0, i.default)(e, [{
            key: "renameFolder",
            value: function(e) {
                var t = this;
                e.$invalid || (this.isLoading = !0, this.scope.submit({
                    name: this.scope.name
                }).finally(function() {
                    t.isLoading = !1
                }))
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2116));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("f-reset-password", []).component("fResetPassword", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2117)),
        i = a(t(2118));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2119);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            token: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<form class="f-reset-password" name="resetPasswordForm"\n      novalidate\n      ng-submit="$ctrl.resetPassword(resetPasswordForm)">\n  <div class="f-default__row-default f-reset-password__row">\n    <div class="f-default__field-title _required">New Password</div>\n    <input type="password" class="f-default__input f-reset-password__input"\n           ng-change="$ctrl.comparePasswords(resetPasswordForm)"\n           ng-minlength="$ctrl.local.MIN_PASS_LENGTH"\n           name="password"\n           required\n           ng-model="$ctrl.model.password">\n  </div>\n  <div class="f-default__row-default f-reset-password__row">\n    <div class="f-default__field-title _required">Confirm</div>\n    <input type="password" class="f-default__input f-reset-password__input"\n           ng-change="$ctrl.comparePasswords(resetPasswordForm)"\n           name="confirmedPassword"\n           required\n           ng-model="$ctrl.model.confirmedPassword">\n  </div>\n\n  \n  <div class="f-default__row f-reset-password__row f-reset-password__checkbox _checkbox"\n\t  ng-class="{\'_checked\': $ctrl.model.rememberMe} ">\n\t  <label class="f-default__label f-reset-password__checkbox f-default__label" ng-click="$ctrl.toggleRemember($event)">\n\t\t<input type="checkbox" class="f-reset-password__checkbox">\n\t\t<span class="f-default__label-text f-reset-password__checkbox-text">Remember me</span>\n\t  </label>\n  </div>\n  \n\n  <div class="f-default__row-default f-reset-password__row _bottom">\n    <div class="f-default__col-wrap">\n      <div class="f-default__col">\n        <button type="button" class="f-reset-password__btn btn btn-default _small"\n                ng-click="$ctrl.hideModal()">Cancel</button>\n      </div>\n      <div class="f-default__col">\n        <button type="submit" class="f-reset-password__btn btn btn-default _green _small _fill"\n                ng-disabled="$ctrl.isLoading">Login</button>\n      </div>\n    </div>\n  </div>\n\n  \n  \x3c!--<div>\n   <pre>\n     {{$ctrl.model | json}}\n   </pre>\n  </div>--\x3e\n  \n\n</form>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r, o, l, c) {
            "ngInject";
            (0, n.default)(this, e), this._$scope = i, this._$state = a, this._authService = s, this._modalDefaultService = r, this._notificationService = o, this._loginService = l, this._userService = c, this.local = {
                isLoading: !1,
                MIN_PASS_LENGTH: 8,
                model: {
                    password: "",
                    confirmedPassword: "",
                    rememberMe: !1
                }
            }
        }
        return e.$inject = ["educationalsService", "$scope", "$state", "authService", "modalDefaultService", "notificationService", "loginService", "userService"], (0, i.default)(e, [{
            key: "toggleRemember",
            value: function(e) {
                e.preventDefault(), this.local.model.rememberMe = !this.model.rememberMe
            }
        }, {
            key: "comparePasswords",
            value: function(e) {
                var t = e.password.$viewValue,
                    n = e.confirmedPassword.$viewValue;
                e.confirmedPassword.$setValidity("", t === n)
            }
        }, {
            key: "resetPassword",
            value: function(e) {
                var t = this,
                    n = e.password.$viewValue,
                    i = e.confirmedPassword.$viewValue;
                n.length < this.local.MIN_PASS_LENGTH ? this._notificationService.showErrorNotification("Password must contain minimum 8 characters.", "Error") : n !== i ? this._notificationService.showErrorNotification("New password and confirm password must be the same.", "Error") : (this.local.isLoading = !0, this._authService.resetPassword(this.token, n, {
                    version: "4.0.33",
                    git_sha: "6c84445aed55f7486b92c2595083fb35b35878c6"
                }, this.local.model.rememberMe).then(function(e) {
                    t.signInSuccess(e), t.hideModal()
                }).finally(function() {
                    return t.local.isLoading = !1
                }))
            }
        }, {
            key: "signInSuccess",
            value: function() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null;
                this._userService.setUser(e), this._loginService.isCurrentSchoolSelected = !1, this._$state.go("home")
            }
        }, {
            key: "hideModal",
            value: function() {
                this._modalDefaultService.pop()
            }
        }, {
            key: "isLoading",
            get: function() {
                return this.local.isLoading
            }
        }, {
            key: "model",
            get: function() {
                return this.local.model
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2121));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("f-resource-booking", []).component("fResourceBooking", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2122)),
        i = a(t(2123));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2124);
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<form class="f-resource-booking"\n      ng-class="{ _visible: $ctrl.data.additionalOptions }">\n  <div class="f-resource-booking__row _flex">\n    <label class="f-resource-booking__label">Date</label>\n    <button type="button"\n            data-time="dateOfAction"\n            ng-click="::$ctrl._modalDefaultService.showModalWithTemplates(\'modal-choose-date\', $ctrl.dateOfActionScope, \'Calendar\')"\n            class="f-resource-booking__date">\n      {{ $ctrl.filter.date.filtered }}\n      <svg-use name="calendar-small" class="f-resource-booking__svg"></svg-use>\n    </button>\n    <button type="button" class="btn-show-more"\n            ng-class="{ _revert: $ctrl.data.additionalOptions }"\n            ng-click="$ctrl._toggleFilters()"></button>\n  </div>\n\n  <div class="f-resource-booking__rows-wrap" ng-class="{ _opened: $ctrl.data.additionalOptions }">\n    <div class="f-resource-booking__row _flex _toggle">\n      <div class="f-resource-booking__label">Name</div>\n      <label class="f-resource-booking__input-outer">\n        <input type="text"\n               id="name"\n               ng-model-options="{ debounce: 400 }"\n               class="f-resource-booking__input" ng-model="$ctrl.filter.description" />\n      </label>\n    </div>\n    <div class="f-resource-booking__row _toggle">\n      <label class="f-resource-booking__label">Category</label>\n      <div class="f-resource-booking__multiselect"\n           ng-dropdown-multiselect\n           options="$ctrl._resourceBookingService.categories"\n           events="$ctrl.multipleSelect.events"\n           selected-model="$ctrl.filter.categories"\n           translation-texts="$ctrl.multipleSelect.translation"\n           extra-settings="$ctrl.multipleSelect.settings"\n      ></div>\n      <div class="f-default__select-mobile-wrap">\n        <select class="f-default__select-mobile"\n                multiple\n                ng-change="$ctrl._filterChanged()"\n                ng-options="category as category.description for category in $ctrl._resourceBookingService.categories"\n                ng-model="$ctrl.filter.categories"\n        ></select>\n      </div>\n    </div>\n    <div class="f-resource-booking__row _flex _toggle">\n      <label class="f-resource-booking__label">Free</label>\n      <ui-select ng-model="$ctrl.filter.period"\n                 theme="selectize"\n                 ng-change="$ctrl._filterChanged()"\n                 ng-init="hash = $ctrl._selectsService.generateHash($ctrl.selects); $ctrl._selectsService.setItemsNumber($ctrl.infiniteScrollSettings, hash)"\n                 uis-open-close="$ctrl._selectsService.handleSelectToggling(hash, $ctrl.infiniteScrollSettings)"\n                 class="select-default _gray f-resource-booking__select"\n                 ng-attr-id="{{\'_\' + hash}}"\n                 search-enabled="false">\n        <ui-select-match>\n          {{$select.selected.name}}\n        </ui-select-match>\n        <ui-select-choices repeat="period in $ctrl._resourceBookingService.availablePeriods | limitTo:$ctrl.selects[hash].currentItems track by $index"\n                           infinite-scroll="$ctrl._selectsService.addNewItemsToSelect($ctrl.selects[hash], $ctrl.infiniteScrollSettings.numToAdd)"\n                           infinite-scroll-container="\'#_\' + hash + \' .ui-select-choices-content\'">\n          <span>{{period.name}}</span>\n        </ui-select-choices>\n      </ui-select>\n      <div class="f-default__select-mobile-wrap">\n        <select class="f-default__select-mobile"\n                ng-change="::$ctrl._filterChanged()"\n                ng-options="period as period.name for period in $ctrl._resourceBookingService.availablePeriods"\n                ng-model="$ctrl.filter.period">\n        </select>\n      </div>\n    </div>\n    <div class="f-resource-booking__row">\n      <button class="f-resource-booking__button"\n              type="button"\n              ng-if="$ctrl.filter.period || $ctrl.filter.description || $ctrl.filter.categories.length > 0 || $ctrl.filter.date.filtered  "\n              ng-click="::$ctrl.clearAllFilter()">\n        Clear filters\n      </button>\n    </div>\n    <div class="f-resource-booking__admin-panel _toggle" ng-if="::$ctrl._resourceBookingService.isAdmin()">\n      <div class="f-resource-booking__row">\n        <button class="f-resource-booking__button"\n                type="button"\n                ng-click="::$ctrl._modalDefaultService.showModalWithTemplates(\'modal-add-booking-period\', null, \'Add Period\')">\n          Add period\n        </button>\n      </div>\n      <div class="f-resource-booking__row">\n        <button class="f-resource-booking__button"\n                type="button"\n                ng-click="::$ctrl._modalDefaultService.showModalWithTemplates(\'modal-add-booking-resource\', null, \'Add Resource\')">\n          Add Room/Resource\n        </button>\n      </div>\n      <div class="f-resource-booking__row">\n        <button class="f-resource-booking__button"\n                type="button"\n                ng-click="::$ctrl._modalDefaultService.showModalWithTemplates(\'modal-add-booking-category\', null, \'Manage Categories\')">\n          Manage Categories\n        </button>\n      </div>\n    </div>\n  </div>\n</form>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r, o) {
            "ngInject";
            var l = this;
            (0, n.default)(this, e), this._$scope = t, this._$filter = i, this._modalDefaultService = a, this._resourceBookingService = s, this._selectsService = r, this._dateService = o, this.filter = this._resourceBookingService.filter, this.dateOfActionScope = {
                setDate: this.setDateOfAction.bind(this),
                getDate: this.getDateOfAction.bind(this),
                handleClick: this.hideModal.bind(this)
            }, this.multipleSelect = {
                settings: {
                    smartButtonMaxItems: 5,
                    scrollableHeight: "255px",
                    scrollable: !0,
                    enableSearch: !0,
                    displayProp: "description",
                    checkBoxes: !0
                },
                translation: {
                    buttonDefaultText: ""
                },
                events: {
                    onItemSelect: function() {
                        return l._filterChanged()
                    },
                    onItemDeselect: function() {
                        return l._filterChanged()
                    },
                    onSelectAll: function() {
                        return l._filterChanged()
                    },
                    onDeselectAll: function() {
                        return l.clearAllFilter()
                    }
                }
            }, this.data = {
                additionalOptions: !1,
                infiniteScrollSettings: this._selectsService.getInfiniteScrollSettings()
            }
        }
        return e.$inject = ["$scope", "$filter", "modalDefaultService", "ResourceBookingService", "selectsService", "dateService"], (0, i.default)(e, [{
            key: "_toggleFilters",
            value: function() {
                this.data.additionalOptions = !this.data.additionalOptions
            }
        }, {
            key: "_filterChanged",
            value: function() {
                this._resourceBookingService.getResourceTimetable()
            }
        }, {
            key: "_clearSelectedPeriod",
            value: function() {
                this.filter.period = null, this._filterChanged()
            }
        }, {
            key: "_clearDescription",
            value: function() {
                this.filter.description = null, this._filterChanged()
            }
        }, {
            key: "clearAllFilter",
            value: function() {
                this.filter.period = null, this.filter.description = "", this.filter.date = null, this.filter.categories = [], this._filterChanged()
            }
        }, {
            key: "setDateOfAction",
            value: function(e) {
                this.filter.date = this.createDateObj(e), this._filterChanged()
            }
        }, {
            key: "getDateOfAction",
            value: function() {
                return this.filter.date && this.filter.date.value || new Date
            }
        }, {
            key: "createDateObj",
            value: function(e) {
                return {
                    value: e,
                    response: moment(new Date(e)).format(this._dateService.getDateFormat("apiDate")),
                    filtered: this._$filter("date")(e, "EEEE MMM d, yyyy")
                }
            }
        }, {
            key: "hideModal",
            value: function() {
                this._$scope.$emit("hideModal")
            }
        }, {
            key: "selects",
            get: function() {
                return this.data.infiniteScrollSettings.selects
            }
        }, {
            key: "infiniteScrollSettings",
            get: function() {
                return this.data.infiniteScrollSettings
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2126));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("f-seating-plan", []).component("fSeatingPlan", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2127)),
        i = a(t(2128));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2130);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            seatingPlan: "<",
            viewMode: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<form class="f-seating-plan" name="furnitureForm" novalidate\n      ng-class="{ \'_view-mode\': $ctrl.viewMode,\n                  \'_show-info\': $ctrl.showAdditionalInfo,\n                  \'_printing\': $ctrl.isPrinting }"\n>\n    <div class="f-seating-plan__controls" ng-class="{ _loaded: !$ctrl.isInitializing }">\n        <div class="f-seating-plan__tabs">\n            <button type="button" class="f-seating-plan__tab"\n                    ng-class="{ _active: tab.active }"\n                    ng-click="$ctrl.onTabSelect(tab)"\n                    ng-repeat="tab in $ctrl.tabs track by $index">\n                {{ ::tab.name }}\n            </button>\n        </div>\n\n        <div class="f-seating-plan__content">\n            <div class="f-seating-plan__tab-content _room">\n                <div class="f-default__row-default f-seating-plan__row _size">\n                    <span>Dimensions:</span>\n                    <input type="number" class="f-seating-plan__input f-default__input"\n                           ng-init="columns = $ctrl.columns"\n                           ng-model="columns"\n                           ng-change="$ctrl.inputChanges({ form: furnitureForm, columns })"\n                           min="{{$ctrl.settings.cols.min}}"\n                           max="{{$ctrl.settings.cols.max}}"\n                           ng-model-options="{ debounce: 400 }"\n                           required/>\n                    <span>X</span>\n                    <input type="number" class="f-seating-plan__input f-default__input"\n                           ng-init="rows = $ctrl.rows"\n                           ng-model="rows"\n                           ng-change="$ctrl.inputChanges({ form: furnitureForm, rows })"\n                           min="{{$ctrl.settings.rows.min}}"\n                           max="{{$ctrl.settings.rows.max}}"\n                           ng-model-options="{ debounce: 400 }"\n                           required/>\n                    <span>(m)</span>\n                </div>\n                <div class="f-default__row-default f-seating-plan__row">\n                    <div class="f-seating-plan__title">Furniture:</div>\n                </div>\n                <div class="f-default__row-default f-seating-plan__row _furniture">\n                    <div class="f-seating-plan__elem _tables">\n                        <div class="table f-seating-plan__table _double"\n                             ng-attr-data-index="{{$index}}"\n                             ng-class="{ _busy: table.seating.left || table.seating.right, _overlapped: table.overlaps.length || table.overlapsBlackboard }"\n                             ng-repeat="table in $ctrl.doubleTables track by $index"\n                        >\n                            <div class="f-seating-plan__btn-rotate js-btn-rotate"\n                                 ng-if="!table.seating.left && !table.seating.right && !$ctrl.viewMode">\n                                <svg-use class="f-seating-plan__btn-rotate-icon" name="rotate-right"\n                                         ng-if="table.position.angle !== 270"></svg-use>\n                                <svg-use class="f-seating-plan__btn-rotate-icon" name="rotate-left"\n                                         ng-if="table.position.angle === 270"></svg-use>\n                            </div>\n                            <div class="seat f-seating-plan__seat _left"\n                                 ng-class="{ _busy: table.seating.left }"\n                                 ng-attr-data-position="left"\n                            ></div>\n                            <div class="seat f-seating-plan__seat _right"\n                                 ng-class="{ _busy: table.seating.right }"\n                                 ng-attr-data-position="right"\n                            ></div>\n                            <div class="f-seating-plan__desk">\n                                <div class="f-seating-plan__chair _left"></div>\n                                <div class="f-seating-plan__chair _right"></div>\n                            </div>\n                            <div class="f-seating-plan__table-text">TABLE</div>\n                        </div>\n                    </div>\n                    <div class="f-seating-plan__elem _tables">\n                        <div class="table f-seating-plan__table _single"\n                             ng-attr-data-index="{{$index}}"\n                             ng-class="{ _busy: table.seating.left , _overlapped: table.overlaps.length || table.overlapsBlackboard }"\n                             ng-repeat="table in $ctrl.singleTables track by $index">\n                            <div class="f-seating-plan__btn-rotate js-btn-rotate"\n                                 ng-if="!table.seating.left && !$ctrl.viewMode">\n                                <svg-use class="f-seating-plan__btn-rotate-icon" name="rotate-right"\n                                         ng-if="table.position.angle !== 270"></svg-use>\n                                <svg-use class="f-seating-plan__btn-rotate-icon" name="rotate-left"\n                                         ng-if="table.position.angle === 270"></svg-use>\n                            </div>\n                            <div class="seat f-seating-plan__seat _left"\n                                 ng-class="{ _busy: table.seating.left }"\n                                 ng-attr-data-position="left"\n                            ></div>\n                            <div class="f-seating-plan__desk">\n                                <div class="f-seating-plan__chair _left"></div>\n                            </div>\n                            <div class="f-seating-plan__table-text">TABLE</div>\n                        </div>\n                    </div>\n                    <div class="f-seating-plan__elem _tables _hexagon">\n                        <div class="table f-seating-plan__table _hexagon"\n                             ng-attr-data-index="{{$index}}"\n                             ng-class="{\n                   _busy: table.seating.left_top || table.seating.left_bottom || table.seating.mid_top || table.seating.mid_bottom || table.seating.right_top || table.seating.right_bottom,\n                   _overlapped: table.overlaps.length || table.overlapsBlackboard,\n                 }"\n                             ng-repeat="table in $ctrl.hexagonTables track by $index"\n                        >\n                            <div class="f-seating-plan__btn-rotate js-btn-rotate"\n                                 ng-if="!table.seating.left_top && !table.seating.left_bottom && !table.seating.mid_top && !table.seating.mid_bottom && !table.seating.right_top && !table.seating.right_bottom && !$ctrl.viewMode">\n                                <svg-use class="f-seating-plan__btn-rotate-icon" name="rotate-right"\n                                         ng-if="table.position.angle !== 270"></svg-use>\n                                <svg-use class="f-seating-plan__btn-rotate-icon" name="rotate-left"\n                                         ng-if="table.position.angle === 270"></svg-use>\n                            </div>\n                            <div class="seat f-seating-plan__seat _left-top"\n                                 ng-class="{ _busy: table.seating.left_top }"\n                                 ng-attr-data-position="left_top"\n                            ></div>\n                            <div class="seat f-seating-plan__seat _left-bottom"\n                                 ng-class="{ _busy: table.seating.left_bottom }"\n                                 ng-attr-data-position="left_bottom"\n                            ></div>\n                            <div class="seat f-seating-plan__seat _mid-top"\n                                 ng-class="{ _busy: table.seating.mid_top }"\n                                 ng-attr-data-position="mid_top"\n                            ></div>\n                            <div class="seat f-seating-plan__seat _mid-bottom"\n                                 ng-class="{ _busy: table.seating.mid_bottom }"\n                                 ng-attr-data-position="mid_bottom"\n                            ></div>\n                            <div class="seat f-seating-plan__seat _right-top"\n                                 ng-class="{ _busy: table.seating.right_top }"\n                                 ng-attr-data-position="right_top"\n                            ></div>\n                            <div class="seat f-seating-plan__seat _right-bottom"\n                                 ng-class="{ _busy: table.seating.right_bottom }"\n                                 ng-attr-data-position="right_bottom"\n                            ></div>\n\n                            <div class="f-seating-plan__table-hexagon">\n                                <div class="f-seating-plan__table-hexagon-inner">\n                                    <div class="f-seating-plan__table-hexagon-left">\n                                        <div class="f-seating-plan__table-hexagon-left-top"></div>\n                                        <div class="f-seating-plan__table-hexagon-left-bottom"></div>\n                                    </div>\n                                    <div class="f-seating-plan__table-hexagon-middle"></div>\n                                    <div class="f-seating-plan__table-hexagon-right">\n                                        <div class="f-seating-plan__table-hexagon-right-top"></div>\n                                        <div class="f-seating-plan__table-hexagon-right-bottom"></div>\n                                    </div>\n                                    <div class="f-seating-plan__table-hexagon-chair _left-top"></div>\n                                    <div class="f-seating-plan__table-hexagon-chair _left-bottom"></div>\n                                    <div class="f-seating-plan__table-hexagon-chair _top"></div>\n                                    <div class="f-seating-plan__table-hexagon-chair _bottom"></div>\n                                    <div class="f-seating-plan__table-hexagon-chair _right-top"></div>\n                                    <div class="f-seating-plan__table-hexagon-chair _right-bottom"></div>\n                                </div>\n                            </div>\n                            <div class="f-seating-plan__table-text">TABLE</div>\n                        </div>\n                    </div>\n                    <div class="f-seating-plan__elem _blackboard">\n                        <div class="blackboard f-seating-plan__blackboard">\n                            <div class="blackboard__inner">\n                                <span class="blackboard__text">board</span>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class="f-seating-plan__cards">\n                <div class="card f-seating-plan__card"\n                     title="{{ ::student.forename }} {{ ::student.surname }}"\n                     ng-attr-data-id="{{student.id}}"\n                     ng-class="{\n                         _show: student.showCard,\n                         _small: $ctrl.settings.user.width.pixels < 60,\n                         _middle: $ctrl.settings.user.width.pixels >= 60 && $ctrl.settings.user.width.pixels <= 75,\n                         _large: $ctrl.settings.user.width.pixels > 75,\n                       }"\n                     ng-ref="testA"\n                     ng-style="{ height: $ctrl.settings.user.width.pixels + \'px\', width: $ctrl.settings.user.width.pixels + \'px\' }"\n                     ng-repeat="student in $ctrl.students track by student.id">\n                    <div class="f-seating-plan__values"\n                         ng-if="$ctrl.showAdditionalInfo || $ctrl._seatingPlanService.showTags">\n                        <div class="f-seating-plan__value" ng-repeat="item in student.assessment track by $index">\n                            {{ ::(item.result || \'-\') }}\n                        </div>\n                    </div>\n                    <div class="f-seating-plan__tags"\n                         ng-if="$ctrl.showAdditionalInfo || $ctrl._seatingPlanService.showTags && !$ctrl.viewMode"\n                    >\n                        <div class="f-seating-plan__tag _blue" ng-class="{ _hide: !student.sen.length }"></div>\n                        <div class="f-seating-plan__tag _orange" ng-class="{ _hide: !student.gifted_talented }"></div>\n                        <div class="f-seating-plan__tag _pink" ng-class="{ _hide: !student.medical_condition }"></div>\n                        <div class="f-seating-plan__tag _purple" ng-class="{ _hide: !student.pupil_premium }"></div>\n                        <div class="f-seating-plan__tag _gray" ng-class="{ _hide: !student.eal }"></div>\n                    </div>\n                    <img ng-hide="$ctrl.hiddenStudentImageMode" class="f-seating-plan__photo"\n                         src="{{ student.photo || $ctrl._imagesConstants.DEFAULT_IMAGE }}"\n                    >\n                    <div class="f-seating-plan__data" ng-style="{\n            \'white-space\': $ctrl.hiddenStudentImageMode ? \'normal\' : \'nowrap\',\n            \'word-break\': $ctrl.hiddenStudentImageMode ? \'break-all\' : \'normal\'\n          }">\n                        <div class="f-seating-plan__data-name" ng-style="{\n            \'white-space\': $ctrl.hiddenStudentImageMode ? \'normal\' : \'nowrap\',\n            \'word-break\': $ctrl.hiddenStudentImageMode ? \'break-all\' : \'normal\',\n            fontSize: $ctrl.testDA(testD, testA)\n          }">\n                            <div style="position: absolute; left: -200%; visibility: hidden; font-size: 10px" ng-ref="testD">\n                                {{ ::student.forename }}<br> <span ng-hide="!$ctrl.hiddenStudentImageMode">{{ ::student.surname }}</span>\n                            </div>\n                            {{ ::student.forename }}<br> <span ng-hide="!$ctrl.hiddenStudentImageMode">{{ ::student.surname }}</span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class="f-seating-plan__tab-content _students" ng-if="$ctrl.activeTab === \'students\'">\n                <div class="f-default__row-default f-seating-plan__row _students">\n                    <div class="f-seating-plan__elem _students"\n                         ng-hide="$ctrl.isStudentListEmpty()">\n                        <div class="f-seating-plan__students-header">\n                            <div class="f-seating-plan__student-col _student">\n                                <div class="f-seating-plan__students-title">Student:</div>\n                            </div>\n                            <div class="f-seating-plan__student-col _assessment"\n                                 ng-repeat="item in $ctrl.students[0].assessment track by $index"\n                                 ng-click="$ctrl.sort(item.label)"\n                            >\n                                <div class="f-seating-plan__students-title"\n                                     ng-class="{ _reversed: $ctrl.reversed[item.label] }"\n                                >\n                                    {{ ::item.label }}\n                                </div>\n                            </div>\n                        </div>\n                        <div class="f-seating-plan__students-body" ng-hide="$ctrl.isStudentListEmpty()">\n                            <div class="f-seating-plan__student"\n                                 touchstart\n                                 on-touch-start="$ctrl.startDraggingCard({ event, student, index })"\n                                 student="student"\n                                 index="$index"\n                                 ng-mousedown="$ctrl.startDraggingCard({ event: $event, student, index: $index })"\n                                 ng-hide="student.showCard"\n                                 ng-repeat="student in $ctrl.students track by student.id">\n                                <div class="f-seating-plan__student-col _photo">\n                                    <img class="f-seating-plan__photo"\n                                         src="{{ student.photo || $ctrl._imagesConstants.DEFAULT_IMAGE }}"\n                                    >\n                                    <div class="f-seating-plan__tags"\n                                         ng-if="$ctrl._seatingPlanService.showTags && !$ctrl.viewMode">\n                                        <div class="f-seating-plan__tag _blue"\n                                             ng-class="{ _hide: !student.sen.length }"></div>\n                                        <div class="f-seating-plan__tag _orange"\n                                             ng-class="{ _hide: !student.gifted_talented }"></div>\n                                        <div class="f-seating-plan__tag _pink"\n                                             ng-class="{ _hide: !student.medical_condition }"></div>\n                                        <div class="f-seating-plan__tag _purple"\n                                             ng-class="{ _hide: !student.pupil_premium }"></div>\n                                        <div class="f-seating-plan__tag _gray" ng-class="{ _hide: !student.eal }"></div>\n                                    </div>\n                                </div>\n                                <div class="f-seating-plan__student-col _name">\n                                    {{ ::student.forename }} {{ ::student.surname }}\n                                </div>\n                                <div class="f-seating-plan__student-col _assessment"\n                                     ng-repeat="item in student.assessment track by $index"\n                                >\n                                    {{ ::(item.result || \'-\') }}\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div class="f-seating-plan__message" ng-if="$ctrl.isStudentListEmpty()">\n                        No learners available\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <div class="f-seating-plan__bottom">\n            <div class="f-default__row-default f-seating-plan__row">\n                <div class="f-default__col-wrap">\n                    <div class="f-default__col">\n                        <button type="submit" class="f-seating-plan__btn btn btn-default _fill _small _light-blue"\n                                ng-click="$ctrl.showSeatingViewModal()">\n                            View\n                        </button>\n                    </div>\n                    <div class="f-default__col">\n                        <button type="submit" class="f-seating-plan__btn btn btn-default _fill _small _green"\n                                ng-disabled="$ctrl.overlappedTables.length"\n                                ng-click="$ctrl.save(furnitureForm)"\n                        >\n                            Save\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="f-seating-plan__key-outer" ng-if="$ctrl.viewMode">\n        <div class="f-seating-plan__key">\n            <div class="f-seating-plan__key-title">Key:</div>\n            <div class="f-seating-plan__instance">\n                <img class="f-seating-plan__instance-photo" src="{{ $ctrl._imagesConstants.DEFAULT_IMAGE }}">\n                <div class="f-seating-plan__instance-name">Name</div>\n                <div class="f-seating-plan__instance-tags">\n                    <div class="f-seating-plan__instance-tag _blue">SEN</div>\n                    <div class="f-seating-plan__instance-tag _orange">More Able</div>\n                    <div class="f-seating-plan__instance-tag _pink">Medical</div>\n                    <div class="f-seating-plan__instance-tag _purple">PP</div>\n                    <div class="f-seating-plan__instance-tag _gray">EAL</div>\n                </div>\n                <div class="f-seating-plan__instance-values">\n                    <div class="f-seating-plan__instance-value"\n                         ng-if="$ctrl.students.length"\n                         ng-repeat="item in $ctrl.students[0].assessment track by $index"\n                    >\n                        {{ ::(item.label) }}\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="f-seating-plan__area-wrapper" style="display: flex;">\n        <div class="area f-seating-plan__area"></div>\n    </div>\n    <label class="f-seating-plan__checkbox f-default__label"\n           ng-if="$ctrl.viewMode && !$ctrl.isPrinting"\n           ng-class="{ \'_checkbox-checked\': $ctrl.checked }">\n        <input type="checkbox"\n               class="f-seating-plan__checkbox-input"\n               ng-change="$ctrl.toggleAdditionalInfo()"\n               ng-model="$ctrl.checked">\n        <span class="f-seating-plan__checkbox-title">Show additional data</span>\n    </label>\n\n    <div class="f-seating-plan__info" ng-if="$ctrl.isPrinting">\n        <div class="f-seating-plan__info-item _group">Group: {{ ::$ctrl.seatingPlan.group.name }}</div>\n        <div class="f-seating-plan__info-item _room">Room: {{ ::$ctrl.seatingPlan.room.long_name }}</div>\n    </div>\n    <div class="f-seating-plan__view-mode" ng-if="$ctrl.viewMode">\n        <button type="button" class="print"\n                ng-if="!$ctrl.isPrinting"\n                ng-click="$ctrl.printPlan()"\n        >Print/Download\n        </button>\n\n        <label class="f-seating-plan__checkbox f-default__label"\n               style="position: static; padding: 10px;height: auto; width: 150px"\n               for="t"\n               ng-class="{ \'_checkbox-checked\': $ctrl.hiddenStudentImageMode }">\n            <input type="checkbox"\n                   id="t"\n                   class="f-seating-plan__checkbox-input"\n                   ng-change="$ctrl.hiddenStudentImage()"\n                   ng-model="$ctrl.hiddenStudentImageMode">\n            <span class="f-seating-plan__checkbox-title" style="width: 150px"> {{ $ctrl.hiddenStudentImageMode ? \'Hide photo\' : \'Hide photo\' }}</span>\n        </label>\n    </div>\n\n    <div class="f-seating-plan__loader-outer" ng-if="$ctrl.isInitializing">\n        <b-loader></b-loader>\n    </div>\n</form>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = l(t(43)),
        i = l(t(10)),
        a = l(t(11)),
        s = l(t(1)),
        r = l(t(2)),
        o = l(t(2129));

    function l(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var c = function() {
        function e(t, n, i, a, r, l, c, d, u, _, f, v, m, h, p, g) {
            "ngInject";
            var b = this;
            (0, s.default)(this, e), this._$q = t, this._$element = n, this._$stateParams = i, this._$window = a, this._$timeout = r, this._$rootScope = l, this._imagesConstants = c, this._seatingPlanService = d, this._notificationService = _, this._studentsService = u, this._detectDeviceService = f, this._modalDefaultService = v, this._orderByFilter = m, this._attachmentsService = h, this._configService = p, this._navigationService = g, this.columns = null, this.rows = null, this.model = null, this._navigationService.seatingPlanChanged = !1, this.selectors = {
                dragSingleTables: ".table._single",
                dragDoubleTables: ".table._double",
                dragHexagonTables: ".table._hexagon",
                dropArea: ".area",
                dropSeating: ".seat",
                dropCards: ".card",
                container: ".f-seating-plan",
                blackboard: ".blackboard"
            }, this.elements = {
                dragSingleTables: null,
                dragDoubleTables: null,
                dragHexagonTables: null,
                dropArea: null,
                dropSeating: null,
                dropCards: null,
                container: null,
                blackboard: null
            }, this.settings = {
                rows: {
                    min: 2,
                    max: 12
                },
                cols: {
                    min: 2,
                    max: 12
                },
                overlapThreshold: "51%",
                blackboardOverlapThreshold: "1%",
                pixelsInMeter: 1,
                table: {
                    double: {
                        width: {
                            init: 0,
                            pixels: 0,
                            meters: 1.2
                        },
                        height: {
                            init: 0,
                            pixels: 0,
                            meters: .6
                        }
                    },
                    single: {
                        width: {
                            init: 0,
                            pixels: 0,
                            meters: .6
                        },
                        height: {
                            init: 0,
                            pixels: 0,
                            meters: .6
                        }
                    },
                    hexagon: {
                        width: {
                            init: 0,
                            pixels: 0,
                            meters: 1.81
                        },
                        height: {
                            init: 0,
                            pixels: 0,
                            meters: 1.705
                        }
                    }
                },
                user: {
                    width: {
                        pixels: 0,
                        meters: .5
                    }
                },
                blackboard: {
                    width: {
                        init: 0,
                        pixels: 0,
                        meters: function() {
                            return b.rows < 3 || b.columns < 3 ? 2 : 2.5
                        }
                    },
                    height: {
                        init: 0,
                        pixels: 0,
                        meters: function() {
                            return b.rows < 6 && b.columns < 6 ? .1 : .2
                        }
                    }
                },
                grid: {
                    width: {
                        pixels: 0,
                        meters: .2
                    }
                }
            }, this.students = null, this.singleTables = [], this.doubleTables = [], this.hexagonTables = [], this.overlappedTables = [], this.submitted = !1, this.isInitializing = !1, this.activeTab = "room", this.reversed = {}, this.resizeTick = !1, this.needRecalcAfterResize = !1, this.showAdditionalInfo = !1, this.isPrinting = !1, this.checked = !1, this.hiddenStudentImageMode = !1, this.tabs = [{
                name: "Room",
                value: "room",
                active: !0
            }, {
                name: "Students",
                value: "students",
                active: !1
            }], this.resizeListener = this._$rootScope.$on("resize.getWindowSize", (0, o.default)(function() {
                return b.onResize()
            }, 400))
        }
        return e.$inject = ["$q", "$element", "$stateParams", "$window", "$timeout", "$rootScope", "imagesConstants", "seatingPlanService", "studentsService", "notificationService", "detectDeviceService", "modalDefaultService", "orderByFilter", "attachmentsService", "configService", "navigationService"], (0, r.default)(e, [{
            key: "$onInit",
            value: function() {
                var e = this;
                this.isInitializing = !this.isEmptyRoom(), this.students = this.seatingPlan.students, this.columns = this.seatingPlan.room.width ? this.seatingPlan.room.width : 10, this.rows = this.seatingPlan.room.height ? this.seatingPlan.room.height : 10, this.singleTables = this.createTables(this.settings.table.single.width.meters, this.settings.table.single.height.meters, "table1"), this.doubleTables = this.createTables(this.settings.table.single.width.meters, this.settings.table.single.height.meters, "table2"), this.hexagonTables = this.createTables(this.settings.table.hexagon.width.meters, this.settings.table.hexagon.height.meters, "table3"), this._navigationService.seatingPlanChanged = !1, this._$timeout(function() {
                    return e.init()
                }, 0)
            }
        }, {
            key: "$onDestroy",
            value: function() {
                this.resizeListener()
            }
        }, {
            key: "testDA",
            value: function(e, t) {
                var n = t[0].clientWidth - e[0].clientWidth,
                    i = parseInt(getComputedStyle(e[0]).fontSize, 10);
                return n ? i : i - n / i
            }
        }, {
            key: "isEmptyRoom",
            value: function() {
                return !(this.seatingPlan.room.tables.length || this.seatingPlan.room.blackboard)
            }
        }, {
            key: "onTabSelect",
            value: function(e) {
                this.tabs.forEach(function(e) {
                    return e.active = !1
                }), e.active = !0, this.activeTab = e.value
            }
        }, {
            key: "inputChanges",
            value: function(e) {
                var t = e.form,
                    n = e.columns,
                    i = e.rows;
                t.$invalid || (n && (this.columns = n), i && (this.rows = i), this.calcDimensions(!0))
            }
        }, {
            key: "createTables",
            value: function(e, t, n) {
                var i = this,
                    a = e * t,
                    s = this.columns * this.rows,
                    r = Math.ceil(s / a);
                return new Array(r).fill(null).map(function(e, t) {
                    return i.initTable(t, n)
                })
            }
        }, {
            key: "initTable",
            value: function(e, t) {
                return {
                    position: null,
                    seating: null,
                    overlaps: [],
                    type: t,
                    id: e
                }
            }
        }, {
            key: "init",
            value: function() {
                var e = this;
                this.elements.dragSingleTables = [].concat((0, a.default)(this._$element[0].querySelectorAll(this.selectors.dragSingleTables) || [])), this.elements.dragDoubleTables = [].concat((0, a.default)(this._$element[0].querySelectorAll(this.selectors.dragDoubleTables) || [])), this.elements.dragHexagonTables = [].concat((0, a.default)(this._$element[0].querySelectorAll(this.selectors.dragHexagonTables) || [])), this.elements.dropArea = this._$element[0].querySelector(this.selectors.dropArea), this.elements.container = this._$element[0].querySelector(this.selectors.container), this.elements.dropSeating = [].concat((0, a.default)(this._$element[0].querySelectorAll(this.selectors.dropSeating) || [])), this.elements.blackboard = this._$element[0].querySelector(this.selectors.blackboard), this.elements.dropCards = [].concat((0, a.default)(this._$element[0].querySelectorAll(this.selectors.dropCards) || [])), this.data = {
                    blackboard: this.seatingPlan.room.blackboard,
                    tables: this.seatingPlan.room.tables,
                    height: this.seatingPlan.room.height,
                    width: this.seatingPlan.room.width
                }, this._$timeout(function() {
                    e.data && (e.data.width && (e.columns = e.data.width), e.data.height && (e.rows = e.data.height)), e.calcDimensions(!1, !1, !0)
                }, 1500)
            }
        }, {
            key: "calcDimensions",
            value: function(e, t, n) {
                var i = this,
                    a = this.elements.dropArea.parentElement.getBoundingClientRect(),
                    s = Math.round((a.width - 20) / this.columns),
                    r = Math.round((a.height - 20) / this.rows);
                this.settings.pixelsInMeter = Math.min(s, r), this.calcGridSizes(), this.calcTablesSizes(e), this.calcUserCardSizes(), this.calcBlackboardSizes(e), TweenMax.to(this.elements.dropArea, .2, {
                    width: this.settings.pixelsInMeter * this.columns + 2,
                    height: this.settings.pixelsInMeter * this.rows + 2,
                    onComplete: function() {
                        i._$timeout(function() {
                            e ? t ? i.makeInitialArrangement(t) : i.onDimensionsChange() : (i.updateTables(), i.elements.dropCards && i.updateCards(), i.elements.blackboard && i.updateBlackboard(), i.makeInitialArrangement(!1, n))
                        }, 0)
                    }
                })
            }
        }, {
            key: "onDimensionsChange",
            value: function() {
                var e = this;
                this.updateBlackboardPosition().then(function() {
                    return e.updateTablesPosition()
                }).then(function() {
                    return e.updateStudentsPosition()
                }).then(function() {
                    return e.isInitializing = !1
                })
            }
        }, {
            key: "onResize",
            value: function() {
                this.calcDimensions(!0, !0)
            }
        }, {
            key: "makeInitialArrangement",
            value: function(e, t) {
                var n = this;
                this.initialBlackboardArrangement(t).then(function() {
                    return n.initialTablesArrangement(e, t)
                }).then(function() {
                    return n.initialStudentsArrangement()
                }).then(function() {
                    return n.isInitializing = !1
                })
            }
        }, {
            key: "calcGridSizes",
            value: function() {
                var e = this.settings.grid;
                e.width.pixels = e.width.meters * this.settings.pixelsInMeter
            }
        }, {
            key: "calcTablesSizes",
            value: function(e) {
                var t = this.settings.table.single,
                    n = this.settings.table.double,
                    i = this.settings.table.hexagon;
                if (t.width.pixels = t.width.meters * this.settings.pixelsInMeter, t.height.pixels = t.height.meters * this.settings.pixelsInMeter, n.width.pixels = n.width.meters * this.settings.pixelsInMeter, n.height.pixels = n.height.meters * this.settings.pixelsInMeter, i.width.pixels = i.width.meters * this.settings.pixelsInMeter, i.height.pixels = i.height.meters * this.settings.pixelsInMeter, !e) {
                    var a = this.elements.dragSingleTables[0].getBoundingClientRect(),
                        s = this.elements.dragDoubleTables[0].getBoundingClientRect(),
                        r = this.elements.dragHexagonTables[0].getBoundingClientRect();
                    t.width.init = a.width, t.height.init = a.height, n.width.init = s.width, n.height.init = s.height, i.width.init = r.width, i.height.init = r.height
                }
            }
        }, {
            key: "calcUserCardSizes",
            value: function() {
                var e = this.settings.user;
                e.width.pixels = e.width.meters * this.settings.pixelsInMeter
            }
        }, {
            key: "updateTables",
            value: function() {
                var e = this,
                    t = this.elements.dropArea,
                    n = this.elements.container,
                    i = this.settings.overlapThreshold,
                    s = {
                        bounds: n,
                        type: "x, y",
                        edgeResistance: 0,
                        onClick: function(t) {
                            t.target.classList.contains("js-btn-rotate") ? e.rotateTable(this) : e.handleTableOverlaps(this)
                        },
                        onDrag: function() {
                            e.switchBounds(this, i)
                        },
                        onDragStart: function(t) {
                            var n = this;
                            this.target.classList.contains("_dragged") || e.initDraggedTable(this).then(function() {
                                return e.moveTableUnderCursor(t, n.target)
                            })
                        },
                        onDragEnd: function() {
                            var a = this;
                            this.update(!0), e._$timeout(function() {
                                if (a.vars.bounds !== n && a.hitTest(t, i)) {
                                    var s = e.getTablePoint(a);
                                    e.saveTablePosition(a, s);
                                    e._navigationService.seatingPlanChanged = !0, e.moveTableOnPosition(a, s, !0)
                                } else e.resetTable(a)
                            })
                        }
                    };
                Draggable.create([].concat((0, a.default)(this.elements.dragSingleTables), (0, a.default)(this.elements.dragDoubleTables), (0, a.default)(this.elements.dragHexagonTables)), s)
            }
        }, {
            key: "initialTablesArrangement",
            value: function(e, t) {
                var n = this,
                    a = this._$q.defer();
                if (this.data.tables && this.data.tables.length) {
                    var s = this.data.tables.length - 1;
                    e && this.getDragTables("all").forEach(function(e, t) {
                        e.classList.remove("_dragged")
                    }), this.data.tables.forEach(function(r, o) {
                        var l = n.getTables(r.type),
                            c = n.getDragTables(r.type),
                            d = c.findIndex(function(e) {
                                return !e.classList.contains("_dragged")
                            }),
                            u = c[d],
                            _ = Draggable.get(u);
                        r = l[d] = (0, i.default)({}, l[d], r), n.initDraggedTable(_).then(function() {
                            _.vars.bounds = n.elements.dropArea, TweenMax.set(u, {
                                rotation: r.angle,
                                zIndex: 1
                            }, 0), _.update(!e), n.setTablePosition(u, r, t).then(function() {
                                o === s && a.resolve(!0)
                            })
                        })
                    })
                } else a.resolve(!1);
                return a.promise
            }
        }, {
            key: "setTablePosition",
            value: function(e, t, n) {
                var i = this,
                    a = this._$q.defer(),
                    s = Draggable.get(e);
                return this._$timeout(function() {
                    var r = e.getBoundingClientRect(),
                        o = i.getCellBounds(e),
                        l = o.minX,
                        c = o.minY,
                        d = Math.abs(r.width - r.height) / 2,
                        u = t.x * i.settings.pixelsInMeter + l,
                        _ = t.y * i.settings.pixelsInMeter + c;
                    90 !== t.angle && 270 !== t.angle || (u -= d, _ += d), n ? i.saveInitialTablePosition(s, t.x, t.y, t.angle) : i.saveTablePosition(s, {
                        x: u,
                        y: _
                    }), i.moveTableOnPosition(s, {
                        x: u,
                        y: _
                    }).then(function() {
                        return a.resolve(!0)
                    })
                }, 0), a.promise
            }
        }, {
            key: "initialStudentsArrangement",
            value: function() {
                var e = this,
                    t = this._$q.defer(),
                    n = this.data.tables.length;
                !this.data.tables.length && t.resolve(!0);
                var i = 0,
                    a = 0,
                    s = 0;
                return this.data.tables.forEach(function(r, o) {
                    "table1" === r.type ? (o = i, i++) : "table2" === r.type ? (o = a, a++) : (o = s, s++), e.arrangeTableStudents(o, r.type).then(function() {
                        i + a + s === n && t.resolve(!0)
                    })
                }), t.promise
            }
        }, {
            key: "updateStudentsPosition",
            value: function() {
                var e = this,
                    t = this._$q.defer();
                return [].concat((0, a.default)(this.elements.dragSingleTables), (0, a.default)(this.elements.dragDoubleTables), (0, a.default)(this.elements.dragHexagonTables)).filter(function(e) {
                    return e.classList.contains("_dragged")
                }).forEach(function(n, i, a) {
                    var s = Number(n.getAttribute("data-index")),
                        r = e.getDragTableType({
                            target: n
                        });
                    e.arrangeTableStudents(s, r).then(function() {
                        i === a.length - 1 && t.resolve(!0)
                    })
                }), t.promise
            }
        }, {
            key: "arrangeTableStudents",
            value: function(e, t) {
                var n = this.getTables(t)[e],
                    i = this._$q.defer(),
                    a = n.left,
                    s = n.right,
                    r = n.left_top,
                    o = n.left_bottom,
                    l = n.mid_top,
                    c = n.mid_bottom,
                    d = n.right_top,
                    u = n.right_bottom,
                    _ = [];
                return a && _.push({
                    id: a,
                    positionClass: "_left"
                }), s && _.push({
                    id: s,
                    positionClass: "_right"
                }), r && _.push({
                    id: r,
                    positionClass: "_left-top"
                }), o && _.push({
                    id: o,
                    positionClass: "_left-bottom"
                }), l && _.push({
                    id: l,
                    positionClass: "_mid-top"
                }), c && _.push({
                    id: c,
                    positionClass: "_mid-bottom"
                }), d && _.push({
                    id: d,
                    positionClass: "_right-top"
                }), u && _.push({
                    id: u,
                    positionClass: "_right-bottom"
                }), _.length ? this.arrangeTableStudentRecursion(i, _, e, t) : i.resolve(!0), i.promise
            }
        }, {
            key: "arrangeTableStudentRecursion",
            value: function(e, t, n, i) {
                var a = this,
                    s = t.pop();
                this.arrangeTableStudent(s.id, n, s.positionClass, i).then(function() {
                    t.length && a.arrangeTableStudentRecursion(e, t, n, i), e.resolve(!0)
                })
            }
        }, {
            key: "arrangeTableStudent",
            value: function(e, t, n, i) {
                var a = this.getTables(i),
                    s = this.getDragTables(i),
                    r = a[t],
                    o = s[t],
                    l = this.getStudentElemByID(e),
                    c = o.querySelector(".seat." + n);
                if (l && c) {
                    var d = this.getSeatPoints(l, c),
                        u = this.getStudent(l);
                    return TweenMax.set(l, {
                        zIndex: 2
                    }), this.addStudentToTable(r, u, n.slice(1).replace("-", "_")), u.showCard = !0, this.moveStudentOnPosition(l, d)
                }
                return this._$q.resolve(!0)
            }
        }, {
            key: "moveTableOnPosition",
            value: function(e, t, n) {
                var i = this,
                    a = t.x,
                    s = t.y,
                    r = this._$q.defer();
                return TweenMax.to(e.target, .2, {
                    x: a,
                    y: s,
                    onComplete: function() {
                        e.update(), n && i.handleTableOverlaps(e), r.resolve(!0)
                    }
                }), r.promise
            }
        }, {
            key: "updateTablesPosition",
            value: function() {
                var e = this,
                    t = this._$q.defer();
                return [].concat((0, a.default)(this.elements.dragSingleTables), (0, a.default)(this.elements.dragDoubleTables), (0, a.default)(this.elements.dragHexagonTables)).filter(function(e) {
                    return e.classList.contains("_dragged")
                }).forEach(function(n, i, a) {
                    var s = Draggable.get(n);
                    s.hitTest(e.elements.dropArea, e.settings.overlapThreshold) ? e.initDraggedTable(s).then(function() {
                        s.update(!0), i === a.length - 1 && t.resolve(!0), e._$timeout(function() {
                            return e.handleTableOverlaps(s)
                        }, 0)
                    }) : (s.vars.bounds = e.elements.container, e.resetTable(s).then(function() {
                        i === a.length - 1 && t.resolve(!0)
                    }))
                }), t.promise
            }
        }, {
            key: "getElementPoint",
            value: function(e) {
                return "touchstart" === e.type ? {
                    pageY: e.touches[0].pageY,
                    pageX: e.touches[0].pageX
                } : this._detectDeviceService.desktop ? {
                    pageY: e.pageY,
                    pageX: e.pageX
                } : {
                    pageY: e.pageY || null,
                    pageX: e.pageX || null
                }
            }
        }, {
            key: "moveTableUnderCursor",
            value: function(e, t) {
                var n = this.getDragTableType({
                        target: t
                    }),
                    i = this.getElementPoint(e),
                    a = i.pageY,
                    s = i.pageX,
                    r = null;
                if (r = "table1" === n ? this.settings.table.single : "table2" === n ? this.settings.table.double : this.settings.table.hexagon, a && s) {
                    var o = a - t.getBoundingClientRect().top - Math.floor(r.height.pixels / 2),
                        l = s - t.getBoundingClientRect().left - Math.floor(r.width.pixels / 2);
                    TweenMax.to(t, 0, {
                        x: l,
                        y: o
                    }), Draggable.get(t).update()
                }
            }
        }, {
            key: "getTablePoint",
            value: function(e) {
                var t = {},
                    n = this.settings.grid;
                return t.x = e.minX + Math.round((e.x - e.minX) / n.width.pixels) * n.width.pixels, t.y = e.minY + Math.round((e.y - e.minY) / n.width.pixels) * n.width.pixels, t.x = this.normalizeValue(t.x, e.minX, e.maxX), t.y = this.normalizeValue(t.y, e.minY, e.maxY), t
            }
        }, {
            key: "saveInitialTablePosition",
            value: function(e, t, n, i) {
                this.getTable(e.target).position = {
                    x: t,
                    y: n,
                    angle: i
                }
            }
        }, {
            key: "saveTablePosition",
            value: function(e, t) {
                var n = e.target,
                    i = n._gsTransform && n._gsTransform.rotation || 0,
                    a = this.getTable(e.target),
                    s = parseFloat(((t.x - e.minX) / this.settings.pixelsInMeter).toFixed(2)),
                    r = parseFloat(((t.y - e.minY) / this.settings.pixelsInMeter).toFixed(2));
                return a.position = {
                    x: s,
                    y: r,
                    angle: i
                }, a
            }
        }, {
            key: "initDraggedTable",
            value: function(e) {
                var t = this._$q.defer(),
                    n = e.target,
                    i = this.settings.table,
                    a = null,
                    s = null;
                return n.classList.add("_dragged"), n.classList.contains("_single") ? (a = i.single.height.pixels, s = i.single.width.pixels) : n.classList.contains("_double") ? (a = i.double.height.pixels, s = i.double.width.pixels) : (a = i.hexagon.height.pixels, s = i.hexagon.width.pixels), TweenMax.set(n, {
                    width: s,
                    height: a,
                    onComplete: function() {
                        t.resolve(!0)
                    }
                }), t.promise
            }
        }, {
            key: "hitTwoTablesTest",
            value: function(e, t) {
                return !!Draggable.hitTest(e, t, 5) || (!![].concat((0, a.default)(e.querySelectorAll(".f-seating-plan__chair"))).some(function(e) {
                    return Draggable.hitTest(t, e, 2)
                }) || [].concat((0, a.default)(t.querySelectorAll(".f-seating-plan__chair"))).some(function(t) {
                    return Draggable.hitTest(e, t, 2)
                }))
            }
        }, {
            key: "handleTableOverlaps",
            value: function(e) {
                for (var t = this, n = e.target, i = [].concat((0, a.default)(this.elements.dragSingleTables), (0, a.default)(this.elements.dragDoubleTables), (0, a.default)(this.elements.dragHexagonTables)).filter(function(e) {
                        return e.classList.contains("_dragged") && n !== e
                    }), s = i.length, r = this.getTable(n), o = !1, l = function() {
                        var e = i[s],
                            a = t.getTable(e);
                        t.hitTwoTablesTest(n, e) ? t._$timeout(function() {
                            r.overlaps = r.overlaps || [], a.overlaps = a.overlaps || [];
                            var n = r.overlaps.indexOf(a),
                                i = a.overlaps.indexOf(r); - 1 === n && r.overlaps.push(a), -1 === i && a.overlaps.push(r), !o && (o = t.addToOverlaps(r)), t.addToOverlaps(a), t.highlightOverlapped(e)
                        }, 0) : t._$timeout(function() {
                            if (r.overlaps) {
                                var e = r.overlaps.indexOf(a); - 1 !== e && r.overlaps.splice(e, 1)
                            }
                            if (a.overlaps) {
                                var n = a.overlaps.indexOf(r); - 1 !== n && (a.overlaps.splice(n, 1), a.overlaps.length || a.overlapsBlackboard || t.removeFromOverlaps(a))
                            }
                        }, 0)
                    }; --s > -1;) l();
                o = this.handleBlackboardOverlap(n), this._$timeout(function() {
                    !o && t.removeFromOverlaps(r)
                }, 0)
            }
        }, {
            key: "getDragTableType",
            value: function(e) {
                return e.target.classList.contains("_single") ? "table1" : e.target.classList.contains("_double") ? "table2" : "table3"
            }
        }, {
            key: "getDragTables",
            value: function(e) {
                if ("all" === e) {
                    var t = this.elements.dragSingleTables;
                    return t = (t = t.concat(this.elements.dragDoubleTables)).concat(this.elements.dragHexagonTables)
                }
                return "table1" === e ? this.elements.dragSingleTables : "table2" === e ? this.elements.dragDoubleTables : this.elements.dragHexagonTables
            }
        }, {
            key: "getTables",
            value: function(e) {
                return "table1" === e ? this.singleTables : "table2" === e ? this.doubleTables : this.hexagonTables
            }
        }, {
            key: "getTable",
            value: function(e) {
                var t = Number(e.getAttribute("data-index"));
                return e.classList.contains("_single") ? this.singleTables[t] : e.classList.contains("_double") ? this.doubleTables[t] : this.hexagonTables[t]
            }
        }, {
            key: "resetTable",
            value: function(e) {
                var t = this,
                    n = this._$q.defer(),
                    i = e.target,
                    a = Number(i.getAttribute("data-index")),
                    s = this.getDragTableType(e),
                    r = this.getTables(s),
                    o = r[a],
                    l = null;
                l = "table1" === s ? this.settings.table.single : "table2" === s ? this.settings.table.double : this.settings.table.hexagon, o.overlaps && o.overlaps.length && (o.overlaps.forEach(function(e) {
                    var n = e.overlaps.indexOf(o);
                    t._$timeout(function() {
                        e.overlaps.splice(n, 1), !e.overlaps.length && t.removeFromOverlaps(e)
                    }, 0)
                }), this.removeFromOverlaps(o)), o.seating && (o.seating.left && this.resetStudent(o.seating.left.student), o.seating.right && this.resetStudent(o.seating.right.student), o.seating.left_top && this.resetStudent(o.seating.left_top.student), o.seating.left_bottom && this.resetStudent(o.seating.left_bottom.student), o.seating.mid_top && this.resetStudent(o.seating.mid_top.student), o.seating.mid_bottom && this.resetStudent(o.seating.mid_bottom.student), o.seating.right_top && this.resetStudent(o.seating.right_top.student), o.seating.right_bottom && this.resetStudent(o.seating.right_bottom.student)), r[a] = this.initTable(a, s), i.classList.remove("_dragged");
                var c = {
                    width: l.width.init,
                    height: l.height.init,
                    x: 0,
                    y: 0,
                    rotation: 0,
                    zIndex: 1,
                    onComplete: function() {
                        "students" === t.activeTab && TweenMax.set(i, {
                            opacity: 1
                        }), n.resolve(!0)
                    }
                };
                return "students" === this.activeTab && (c.opacity = 0), TweenMax.to(i, .2, c), n.promise
            }
        }, {
            key: "rotateTable",
            value: function(e) {
                var t = this,
                    n = e.target,
                    i = this.getTable(n);
                if (!i.rotating) {
                    var a = n._gsTransform.rotation < 270 ? 90 * Math.ceil(n._gsTransform.rotation / 90) + 90 : 0;
                    i.rotating = !0, TweenMax.to(n, .2, {
                        rotation: a,
                        ease: Circ.easeOut,
                        onComplete: function() {
                            t.onTableRotate(e, a), i.rotating = !1
                        }
                    })
                }
            }
        }, {
            key: "onTableRotate",
            value: function(e, t) {
                e.update(!0);
                var n = this.getTablePoint(e);
                this.saveTablePosition(e, n), this.handleTableOverlaps(e)
            }
        }, {
            key: "updateCards",
            value: function() {
                var e = this,
                    t = this.settings.overlapThreshold,
                    n = this.elements.dropSeating,
                    i = this.elements.dropCards,
                    s = this.elements.dropArea,
                    r = {
                        bounds: this.elements.container,
                        type: "x, y",
                        edgeResistance: 0,
                        throwProps: !0,
                        snap: {
                            points: function() {
                                var i = e.getCoveredItem(this, n, t),
                                    a = this.target,
                                    s = {
                                        x: 0,
                                        y: 0
                                    },
                                    r = e.getStudent(a);
                                if (r.seating = r.seating || {}, !i || !i.parentElement.classList.contains("_dragged")) return r.seating.table && e.removeStudentFromTable(r), s;
                                var o = e.getOverlappedSeatData(this, i),
                                    l = o.table,
                                    c = o.position;
                                return e.isSeatFree(l, c) ? (r.seating.table && e.removeStudentFromTable(r), e.addStudentToTable(l, r, c), s = e.getSeatPoints(a, i)) : (this.startX >= this.minX || this.startY >= this.minY) && (s.x = Math.round(this.startX), s.y = Math.round(this.startY)), s
                            }
                        },
                        onDragStart: function(t) {
                            var n = e.getStudent(this.target);
                            n || e.getStudent(this.target), n.showCard || e.moveCardUnderCursor(t, this.target)
                        },
                        onDrag: function() {
                            if (this.hitTest(s, t)) {
                                var i = e.getCoveredItem(this, n, t),
                                    r = [].concat((0, a.default)(e.elements.dragSingleTables), (0, a.default)(e.elements.dragDoubleTables), (0, a.default)(e.elements.dragHexagonTables)),
                                    o = e.getCoveredItems(this, r, 5);
                                e.cleanOverlapClasses("_student-over", "_over"), e.handleOverlappedItem(i, "_over"), e.handleOverlappedItems(o, "_student-over")
                            }
                        },
                        onDragEnd: function() {
                            e._$timeout(function() {
                                e._navigationService.seatingPlanChanged = !0, e.cleanOverlapClasses("_student-over", "_over")
                            })
                        },
                        onThrowComplete: function() {
                            var i = e.getStudent(this.target);
                            i && !e.isInArea(this, n, t) && e._$timeout(function() {
                                return i.showCard = !1
                            })
                        }
                    };
                Draggable.create(i, r)
            }
        }, {
            key: "moveStudentOnPosition",
            value: function(e, t) {
                var n = t.x,
                    i = t.y,
                    a = this._$q.defer();
                return TweenMax.to(e, .2, {
                    x: n,
                    y: i,
                    onComplete: function() {
                        Draggable.get(e).update(), a.resolve(!0)
                    }
                }), a.promise
            }
        }, {
            key: "startDraggingCard",
            value: function(e) {
                var t = e.event,
                    n = e.student,
                    i = e.index;
                n.showCard || Draggable.get(this.elements.dropCards[i]).startDrag(t.originalEvent)
            }
        }, {
            key: "moveCardUnderCursor",
            value: function(e, t) {
                var n = this,
                    i = this.getElementPoint(e),
                    a = i.pageY,
                    s = i.pageX;
                if (a && s) {
                    var r = a - t.getBoundingClientRect().top - Math.floor(this.settings.user.width.pixels / 2),
                        o = s - t.getBoundingClientRect().left - Math.floor(this.settings.user.width.pixels / 2);
                    TweenMax.to(t, 0, {
                        x: o,
                        y: r,
                        onComplete: function() {
                            n.getStudent(t).showCard = !0
                        }
                    }), Draggable.get(t).update()
                }
            }
        }, {
            key: "addStudentToTable",
            value: function(e, t, n) {
                e.seating = e.seating || {}, e.seating[n] = e.seating[n] || {}, t.seating = t.seating || {}, e.seating[n].student = t, e.seating[n].position = n, t.seating.table = e, t.seating.position = n
            }
        }, {
            key: "removeStudentFromTable",
            value: function(e) {
                if (e.seating) {
                    var t = e.seating.table,
                        n = e.seating.position;
                    t.seating[n] = null, e.seating = null
                }
            }
        }, {
            key: "resetStudent",
            value: function(e) {
                var t = this,
                    n = this.getStudentElemByID(e.id);
                this.removeStudentFromTable(e), TweenMax.to(n, .25, {
                    x: 0,
                    y: 0,
                    onComplete: function() {
                        t._$timeout(function() {
                            return e.showCard = !1
                        }, 0)
                    }
                })
            }
        }, {
            key: "getStudentElemByID",
            value: function(e) {
                return document.querySelector('[data-id="' + e + '"]')
            }
        }, {
            key: "getPhoto",
            value: function(e, t) {
                return e._studentsService.students.getPhotos(t)
            }
        }, {
            key: "getSeatPoints",
            value: function(e, t) {
                var n = this.getAreaBounds(e, t),
                    i = n.minX,
                    a = n.minY,
                    s = n.width,
                    r = n.height,
                    o = (s - this.settings.user.width.pixels) / 2,
                    l = (r - this.settings.user.width.pixels) / 2;
                return {
                    x: Math.round(i + o),
                    y: Math.round(a + l)
                }
            }
        }, {
            key: "getStudent",
            value: function(e) {
                var t = this.elements.dropCards.indexOf(e);
                return this.students[t]
            }
        }, {
            key: "getOverlappedSeatData",
            value: function(e, t) {
                var n = [].concat((0, a.default)(this.elements.dragSingleTables), (0, a.default)(this.elements.dragDoubleTables), (0, a.default)(this.elements.dragHexagonTables)),
                    i = this.getCoveredItem(e, n, this.settings.overlapThreshold);
                return {
                    table: this.getTable(i),
                    position: this.getSeatPosition(t)
                }
            }
        }, {
            key: "getSeatPosition",
            value: function(e) {
                return e.getAttribute("data-position")
            }
        }, {
            key: "isSeatFree",
            value: function(e, t) {
                return !e.seating || !e.seating[t]
            }
        }, {
            key: "updateBlackboard",
            value: function() {
                var e = this,
                    t = this.elements.dropArea,
                    n = {
                        bounds: this.elements.container,
                        type: "x, y",
                        edgeResistance: 0,
                        onDragStart: function(t) {
                            var n = this;
                            this.target.classList.contains("_dragged") || e.initDraggedBlackboard(this, !0).then(function() {
                                return e.moveBlackboardUnderCursor(t, n.target)
                            })
                        },
                        onDrag: function() {
                            e.switchBounds(this, "99%"), e.handleBlackboardRotate(this)
                        },
                        onDragEnd: function() {
                            var n = this;
                            this.update(!0), e._$timeout(function() {
                                if (n.hitTest(t, e.settings.blackboardOverlapThreshold)) {
                                    var i = e.getBlackboardPoints(n),
                                        a = i.x,
                                        s = i.y;
                                    e._navigationService.seatingPlanChanged = !0, TweenMax.to(n.target, .2, {
                                        x: a,
                                        y: s,
                                        onComplete: function() {
                                            e.handleBlackboardOverlaps()
                                        }
                                    })
                                } else e.resetBlackboard(n)
                            })
                        }
                    };
                Draggable.create(this.elements.blackboard, n)
            }
        }, {
            key: "moveBlackboardUnderCursor",
            value: function(e, t) {
                var n = this.getElementPoint(e),
                    i = n.pageY,
                    a = n.pageX;
                if (i && a) {
                    var s = i - t.getBoundingClientRect().top - Math.floor(this.settings.blackboard.height.pixels / 2),
                        r = a - t.getBoundingClientRect().left - Math.floor(this.settings.blackboard.width.pixels / 2);
                    TweenMax.to(t, 0, {
                        x: r,
                        y: s
                    }), Draggable.get(t).update()
                }
            }
        }, {
            key: "initialBlackboardArrangement",
            value: function(e) {
                if (!this.data.blackboard) return this._$q.resolve(!1);
                var t = this.elements.blackboard;
                return TweenMax.set(t, {
                    rotation: this.data.blackboard.angle
                }, 0), Draggable.get(t).update(), this.setBlackboardPosition(t, e)
            }
        }, {
            key: "calcBlackboardSizes",
            value: function(e) {
                var t = this.settings.blackboard;
                if (t.width.pixels = t.width.meters() * this.settings.pixelsInMeter, t.height.pixels = t.height.meters() * this.settings.pixelsInMeter, !e) {
                    var n = this.elements.blackboard.getBoundingClientRect();
                    t.width.init = n.width, t.height.init = n.height
                }
            }
        }, {
            key: "initDraggedBlackboard",
            value: function(e, t) {
                var n = this._$q.defer(),
                    i = this.settings.blackboard,
                    a = e.target;
                return a.classList.add("_dragged"), t ? TweenMax.set(a, {
                    width: i.width.pixels,
                    height: i.height.pixels,
                    onComplete: function() {
                        n.resolve(!0)
                    }
                }) : (TweenMax.set(a, {
                    width: i.width.pixels,
                    height: i.height.pixels
                }), e.update(), n.resolve(!0)), n.promise
            }
        }, {
            key: "updateBlackboardPosition",
            value: function() {
                var e = this,
                    t = this._$q.defer(),
                    n = this.elements.blackboard;
                return n.classList.contains("_dragged") ? this._$timeout(function() {
                    Draggable.hitTest(n.children[0], e.elements.dropArea, e.settings.blackboardOverlapThreshold) ? e.setBlackboardPosition(n).then(t.resolve) : (Draggable.get(n).vars.bounds = e.elements.container, e.resetBlackboard().then(t.resolve))
                }, 0) : t.resolve(!1), t.promise
            }
        }, {
            key: "setBlackboardPosition",
            value: function(e, t) {
                var n = this,
                    i = this._$q.defer(),
                    a = Draggable.get(e);
                return this.initDraggedBlackboard(a).then(function() {
                    var s = {
                        x: n.data.blackboard.x * n.settings.pixelsInMeter,
                        y: n.data.blackboard.y * n.settings.pixelsInMeter
                    };
                    a.vars.bounds = n.elements.dropArea, a.update(!0);
                    var r = n.getBlackboardPoints(a, s, t),
                        o = r.x,
                        l = r.y;
                    TweenMax.to(e, .2, {
                        x: o,
                        y: l,
                        onComplete: function() {
                            a.update(), i.resolve(!0)
                        }
                    })
                }), i.promise
            }
        }, {
            key: "resetBlackboard",
            value: function() {
                var e = this,
                    t = this._$q.defer(),
                    n = this.elements.blackboard,
                    i = this.settings.blackboard,
                    a = {
                        width: i.width.init,
                        height: i.height.init,
                        x: 0,
                        y: 0,
                        rotation: 0,
                        onComplete: function() {
                            var i = {
                                zIndex: 1
                            };
                            n.classList.remove("_dragged"), e.clearBlackboardOverlaps(), "students" === e.activeTab && (i.opacity = 1), TweenMax.set(n, i), t.resolve(!0)
                        }
                    };
                return "students" === this.activeTab && (a.opacity = 0), this.removeBlackboardData(), TweenMax.to(n, .2, a), t.promise
            }
        }, {
            key: "getBlackboardPoints",
            value: function(e, t, n) {
                var i = e.target,
                    a = i.getBoundingClientRect(),
                    s = this.getCellBounds(i),
                    r = s.minX,
                    o = s.maxX,
                    l = s.minY,
                    c = s.maxY,
                    d = Math.abs(a.width - a.height) / 2,
                    u = t ? {
                        x: t.x + r,
                        y: t.y + l + d
                    } : {
                        x: e.x,
                        y: e.y
                    },
                    _ = 0,
                    f = 0,
                    v = i._gsTransform && i._gsTransform.rotation || 0;
                switch (v) {
                    case 0:
                        _ = this.normalizeValue(u.x, r, o - a.width), f = l;
                        break;
                    case 90:
                        _ = o - a.width - d, f = this.normalizeValue(u.y, l + d, c - a.height + d);
                        break;
                    case 180:
                        _ = this.normalizeValue(u.x, r, o - a.width), f = c - a.height;
                        break;
                    case 270:
                        _ = r - d, f = this.normalizeValue(u.y, l + d, c - a.height + d);
                        break;
                    default:
                        throw new Error("Unexpected angle " + v)
                }
                var m = {
                    x: _,
                    y: f,
                    angle: v
                };
                return n || this.saveBlackboardData(e, m), m
            }
        }, {
            key: "handleBlackboardRotate",
            value: function(e) {
                if (e.hitTest(this.elements.dropArea, this.settings.blackboardOverlapThreshold)) {
                    var t = e.target,
                        n = this.elements.dropArea.getBoundingClientRect(),
                        i = t.getBoundingClientRect(),
                        a = t._gsTransform && t._gsTransform.rotation || 0,
                        s = Math.abs(n.top - (i.top + i.height / 2)),
                        r = Math.abs(n.top + n.height - (i.top + i.height / 2)),
                        o = Math.abs(n.left - (i.left + i.width / 2)),
                        l = Math.abs(n.left + n.width - (i.left + i.width / 2)),
                        c = {
                            diff: r < s ? r : s,
                            angle: r < s ? 180 : 0
                        },
                        d = {
                            diff: l < o ? l : o,
                            angle: l < o ? 90 : 270
                        },
                        u = d.diff > c.diff;
                    d.diff < c.diff && a !== d.angle ? (TweenMax.set(t, {
                        rotation: d.angle
                    }, 0), e.update()) : u && a !== c.angle && (TweenMax.set(t, {
                        rotation: c.angle
                    }, 0), e.update())
                }
            }
        }, {
            key: "saveBlackboardData",
            value: function(e, t) {
                var n = t.x,
                    i = t.y,
                    a = t.angle;
                e.applyBounds(this.elements.dropArea), this.data.blackboard = {
                    angle: a,
                    x: parseFloat(((n - e.minX) / this.settings.pixelsInMeter).toFixed(2)),
                    y: parseFloat(((i - e.minY) / this.settings.pixelsInMeter).toFixed(2))
                }
            }
        }, {
            key: "removeBlackboardData",
            value: function() {
                this.data.blackboard = null
            }
        }, {
            key: "hitBlackboardWithTableTest",
            value: function(e, t) {
                return !!Draggable.hitTest(e, t, 5) || [].concat((0, a.default)(t.querySelectorAll(".f-seating-plan__chair"))).some(function(t) {
                    return Draggable.hitTest(e, t, 1)
                })
            }
        }, {
            key: "handleBlackboardOverlaps",
            value: function() {
                var e = this;
                [].concat((0, a.default)(this.elements.dragSingleTables), (0, a.default)(this.elements.dragDoubleTables), (0, a.default)(this.elements.dragHexagonTables)).filter(function(e) {
                    return e.classList.contains("_dragged")
                }).forEach(function(t) {
                    e.handleBlackboardOverlap(t)
                })
            }
        }, {
            key: "handleBlackboardOverlap",
            value: function(e) {
                var t = this,
                    n = this.elements.blackboard,
                    i = this.getTable(e);
                return this.hitBlackboardWithTableTest(n, e) ? this._$timeout(function() {
                    !i.overlapsBlackboard && (i.overlapsBlackboard = t.addToOverlaps(i)), t.highlightOverlapped(n)
                }, 0) : i.overlapsBlackboard && this._$timeout(function() {
                    i.overlapsBlackboard = !1, i.overlaps && i.overlaps.length || t.removeFromOverlaps(i)
                }, 0), !!i.overlapsBlackboard
            }
        }, {
            key: "clearBlackboardOverlaps",
            value: function() {
                this.overlappedTables = this.overlappedTables.reduce(function(e, t) {
                    return t.overlaps.length && (t.overlapsBlackboard = !1, e.push(t)), e
                }, [])
            }
        }, {
            key: "handleOverlappedItems",
            value: function(e, t) {
                var n = this;
                e.forEach(function(e) {
                    return n.handleOverlappedItem(e, t)
                })
            }
        }, {
            key: "handleOverlappedItem",
            value: function(e, t) {
                e && e.classList.add(t)
            }
        }, {
            key: "cleanOverlapClasses",
            value: function(e, t) {
                this.cleanOverlappedItems(t), this.cleanOverlappedItems(e)
            }
        }, {
            key: "cleanOverlappedItems",
            value: function(e) {
                document.querySelectorAll("." + e).forEach(function(t) {
                    return t.classList.remove(e)
                })
            }
        }, {
            key: "getCellBounds",
            value: function(e) {
                var t = e.parentElement.getBoundingClientRect(),
                    n = this.elements.dropArea.getBoundingClientRect();
                return {
                    minX: n.left - t.left + 1,
                    maxX: n.right - t.left - 1,
                    minY: n.top - t.top + 1,
                    maxY: n.bottom - t.top - 1
                }
            }
        }, {
            key: "getAreaBounds",
            value: function(e, t) {
                var n = e.parentElement.getBoundingClientRect(),
                    i = t.getBoundingClientRect();
                return {
                    minX: i.left - n.left,
                    maxX: i.right - n.left,
                    minY: i.top - n.top,
                    maxY: i.bottom - n.top,
                    width: i.width,
                    height: i.height
                }
            }
        }, {
            key: "isInArea",
            value: function(e, t, n) {
                return !!this.getCoveredItem(e, t, n)
            }
        }, {
            key: "getCoveredItem",
            value: function(e, t, n) {
                for (var i = t.length; --i > -1;)
                    if (e.hitTest(t[i], n)) return t[i]
            }
        }, {
            key: "getCoveredItems",
            value: function(e, t, n) {
                for (var i = [], a = t.length; --a > -1;) e.hitTest(t[a], n) && i.push(t[a]);
                return i
            }
        }, {
            key: "addToOverlaps",
            value: function(e) {
                return !this.overlappedTables.find(function(t) {
                    return t === e
                }) && this.overlappedTables.push(e), !0
            }
        }, {
            key: "removeFromOverlaps",
            value: function(e) {
                var t = this.overlappedTables.indexOf(e); - 1 !== t && this.overlappedTables.splice(t, 1)
            }
        }, {
            key: "extractDataForSave",
            value: function() {
                var e = {
                    width: this.columns,
                    height: this.rows
                };
                this.data.blackboard && (e.blackboard = this.data.blackboard);
                var t = [].concat((0, a.default)(this.singleTables), (0, a.default)(this.doubleTables), (0, a.default)(this.hexagonTables));
                return e.tables = t.reduce(function(e, t) {
                    if (t.position) {
                        var n = (0, i.default)({}, t.position, {
                            type: t.type
                        });
                        if (t.seating) {
                            var a = t.seating,
                                s = a.left,
                                r = a.right,
                                o = a.left_top,
                                l = a.left_bottom,
                                c = a.mid_top,
                                d = a.mid_bottom,
                                u = a.right_top,
                                _ = a.right_bottom;
                            s && (n.left = s.student.id), r && (n.right = r.student.id), o && (n.left_top = o.student.id), l && (n.left_bottom = l.student.id), c && (n.mid_top = c.student.id), d && (n.mid_bottom = d.student.id), u && (n.right_top = u.student.id), _ && (n.right_bottom = _.student.id)
                        }
                        e.push(n)
                    }
                    return e
                }, []), e
            }
        }, {
            key: "switchBounds",
            value: function(e, t) {
                e.hitTest(this.elements.dropArea, t) ? e.vars.bounds !== this.elements.dropArea && (e.vars.bounds = this.elements.dropArea) : e.vars.bounds !== this.elements.container && (e.vars.bounds = this.elements.container)
            }
        }, {
            key: "normalizeValue",
            value: function(e, t, n) {
                return e < t ? t : e > n ? n : e
            }
        }, {
            key: "highlightOverlapped",
            value: function(e) {
                TweenMax.fromTo(e, .1, {
                    opacity: 1
                }, {
                    opacity: .6,
                    repeat: 3,
                    yoyo: !0
                })
            }
        }, {
            key: "save",
            value: function() {
                var e = this,
                    t = this.extractDataForSave();
                angular.equals(this.model, t) ? this._notificationService.showErrorNotification("Nothing changed") : (this.model = t, this.model.register_id = this._$stateParams.id, this._seatingPlanService.updateSeatingPlan(this.model).then(function() {
                    e._navigationService.seatingPlanChanged = !1, e._notificationService.showSuccessNotification("Success"), (0, n.default)(e.model, "register_id")
                }))
            }
        }, {
            key: "showSeatingViewModal",
            value: function() {
                var e = angular.copy(this.seatingPlan);
                e.room = this.extractDataForSave(), e.room.long_name = this.seatingPlan.room.long_name;
                var t = {
                    seatingPlan: e,
                    viewMode: !0
                };
                this._modalDefaultService.showModalWithTemplates("modal-view-seating", t, "Seating Plan")
            }
        }, {
            key: "isStudentListEmpty",
            value: function() {
                return !this.students.filter(function(e) {
                    return !e.showCard
                }).length
            }
        }, {
            key: "toggleAdditionalInfo",
            value: function() {
                var e = this;
                this.isInitializing = !0, this._$timeout(function() {
                    return e.showAdditionalInfo = !e.showAdditionalInfo
                }, 0), this._$timeout(function() {
                    return e.onResize()
                }, 800)
            }
        }, {
            key: "sort",
            value: function(e) {
                var t = this;
                this.students = this._orderByFilter(this.students, function(n) {
                    return t.expression(n, e)
                }, this.reversed[e.toLowerCase()]), this.reversed[e.toLowerCase()] = !this.reversed[e.toLowerCase()], this._$timeout(function() {
                    t.elements.dropCards = [].concat((0, a.default)(t._$element[0].querySelectorAll(t.selectors.dropCards) || []))
                }, 0)
            }
        }, {
            key: "expression",
            value: function(e, t) {
                return e.assessment.find(function(e) {
                    return e.label === t
                }).result
            }
        }, {
            key: "printPlan",
            value: function() {
                var e = this,
                    t = !!window.MSInputMethodContext && !!document.documentMode,
                    n = navigator.userAgent.toLowerCase(),
                    i = -1 !== n.indexOf("safari") && -1 === n.indexOf("chrome"),
                    a = devicejs.ios();
                if (t) this.isPrinting = !0, this._$timeout(function() {
                    e._$window.print(), e.isPrinting = !1
                }, 0);
                else if (a || i) {
                    var s = angular.element(document.querySelector(".f-seating-plan._view-mode .f-seating-plan__area")),
                        r = s.width(),
                        o = s.height(),
                        l = s.offset();
                    this.isPrinting = !0, this._$timeout(function() {
                        var t = document.querySelector(".f-seating-plan._view-mode"),
                            n = void 0;
                        e._configService.isCordovaEnv || (n = {
                            height: o + 50,
                            width: r,
                            scrollX: -l.left
                        }), html2canvas(t, n).then(function(t) {
                            e.isPrinting = !1;
                            var n = {
                                url: t.toDataURL("image/png"),
                                filename: "seating-plan.png",
                                mime_type: "image/png"
                            };
                            return e._attachmentsService.downloadDocument(n, !1)
                        })
                    })
                } else {
                    var c = angular.element(document.querySelector(".f-seating-plan._view-mode .f-seating-plan__area")).width();
                    this.isPrinting = !0, this._$timeout(function() {
                        htmlToImage.toPng(document.querySelector(".f-seating-plan._view-mode"), {
                            width: c
                        }).then(function(t) {
                            e.isPrinting = !1;
                            var n = {
                                filename: "seating-plan.png",
                                content: t.split("base64,")[1],
                                mime_type: "image/png"
                            };
                            e._attachmentsService.downloadDocument(n)
                        })
                    }, 0)
                }
            }
        }]), e
    }();
    exports.default = c
}, , function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2132));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("f-select-contacts", []).component("fSelectContacts", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2133)),
        i = a(t(2134));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2135);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            onAddContacts: "&",
            contacts: "<",
            onCancel: "&"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<form class="f-select-contacts" name="addContactsForm" novalidate>\n  <div class="f-select-contacts__list">\n    <div class="f-select-contacts__item" ng-repeat="contact in $ctrl.contacts track by $index">\n      <label class="f-default__radio f-default__label">\n        <input type="radio" name="contact"\n               ng-model="$ctrl.contact"\n               ng-value="contact"\n        >\n        <span class="f-default__radio-text f-select-contacts__radio-text">{{ contact.name }}</span>\n      </label>\n    </div>\n    <div class="f-select-contacts__item">\n      <label class="f-default__radio f-default__label">\n        <input type="radio" name="contact"\n               ng-model="$ctrl.contact"\n               ng-value="true"\n        >\n        <span class="f-default__radio-text f-select-contacts__radio-text">Create new</span>\n      </label>\n    </div>\n  </div>\n  <div class="f-select-contacts__bottom">\n    <div class="f-default__col-wrap">\n      <div class="f-default__col">\n        <button type="button" class="f-select-contacts__btn btn btn-default _small"\n                ng-click="$ctrl.onCancel()"\n        >Cancel</button>\n      </div>\n      <div class="f-default__col">\n        <button type="button" class="f-select-contacts__btn btn btn-default _small _green _fill"\n                ng-disabled="!$ctrl.contact"\n                ng-click="$ctrl.next()"\n        >Next</button>\n      </div>\n    </div>\n  </div>\n</form>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t) {
            "ngInject";
            (0, n.default)(this, e), this._modalDefaultService = t, this.contact = null
        }
        return e.$inject = ["modalDefaultService"], (0, i.default)(e, [{
            key: "showAddContactModal",
            value: function() {
                var e = this,
                    t = {
                        contact: this.contact,
                        onCancel: this.onCancel,
                        onAddContacts: function(t) {
                            return e.onAddContacts({
                                model: t
                            })
                        }
                    };
                this._modalDefaultService.showModalWithTemplates("modal-family-contacts", t, "Add contacts")
            }
        }, {
            key: "showCreateContactModal",
            value: function() {
                var e = this,
                    t = {
                        onCancel: this.onCancel,
                        onAddContacts: function(t) {
                            return e.onAddContacts({
                                model: t
                            })
                        }
                    };
                this._modalDefaultService.showModalWithTemplates("modal-create-contact", t, "Create contact")
            }
        }, {
            key: "next",
            value: function() {
                !0 === this.contact ? this.showCreateContactModal() : this.showAddContactModal()
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2137));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("f-select-date", []).component("fSelectDate", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2138)),
        i = a(t(2139));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2140);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            add: "&",
            cancel: "&"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<form class="f-select-date" name="selectDateForm" novalidate ng-submit="$ctrl.onSubmit(selectDateForm)">\n  <div class="f-default__row-default">\n    <dev class="f-default__field-title _required">From date</dev>\n    <b-date-time-select class="f-event-create__date"\n      format="{{::$ctrl._dateService.getDateFormat(\'apiDateTime\')}}"\n      visible-date-format="{{::$ctrl._dateService.getDateFormat(\'momentDateTime\')}}"\n      name="from"\n      is-required="true"\n      date="$ctrl.from"></b-date-time-select>\n  </div>\n  <div class="f-default__row-default">\n    <dev class="f-default__field-title _required">To</dev>\n    <b-date-time-select class="f-event-create__date"\n      format="HH:mm"\n      show-header="false"\n      name="to"\n      is-required="true"\n      date="$ctrl.to"></b-date-time-select>\n  </div>\n  <div class="f-default__row-default">\n    <div class="f-default__col-wrap">\n      <div class="f-default__col">\n        <button type="button" class="f-select-date__btn btn btn-default _small"\n                ng-click="$ctrl.cancel()">Cancel</button>\n      </div>\n      <div class="f-default__col">\n        <button type="submit" class="f-select-date__btn btn btn-default _green _small _fill">Add</button>\n      </div>\n    </div>\n  </div>\n</form>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i) {
            "ngInject";
            (0, n.default)(this, e), this._notificationService = t, this._dateService = i, this.from = null, this.to = null
        }
        return e.$inject = ["notificationService", "dateService"], (0, i.default)(e, [{
            key: "onSubmit",
            value: function(e) {
                e.$invalid ? this._notificationService.showErrorNotification("Please fill all fields") : this.add({
                    from: this.from,
                    to: this.to
                })
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2142));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("f-select-date-range", []).component("fSelectDateRange", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2143)),
        i = a(t(2144));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2145);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            from: "=",
            maxDaysRange: "<",
            add: "&",
            cancel: "&"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<form class="f-select-date-range" name="selectDateForm" novalidate ng-submit="$ctrl.onSubmit(selectDateForm)">\n  <div class="f-default__row-default">\n    <dev class="f-default__field-title _required">From date</dev>\n    <b-date-time-select class="f-event-create__date"\n      format="{{::$ctrl._dateService.getDateFormat(\'apiDate\')}}"\n      visible-date-format="{{::$ctrl._dateService.getDateFormat(\'momentDate\')}}"\n      name="from"\n      max-date="$ctrl.bounds.maxFrom"\n      min-date="$ctrl.bounds.minFrom"\n      is-required="true"\n      on-change="$ctrl.handleMinMaxDates()"\n      date="$ctrl.from"></b-date-time-select>\n  </div>\n  <div class="f-default__row-default">\n    <dev class="f-default__field-title _required">To</dev>\n    <b-date-time-select class="f-event-create__date"\n      format="{{::$ctrl._dateService.getDateFormat(\'apiDate\')}}"\n      visible-date-format="{{::$ctrl._dateService.getDateFormat(\'momentDate\')}}"\n      name="to"\n      min-date="$ctrl.bounds.minTo"\n      max-date="$ctrl.bounds.maxTo"\n      is-required="true"\n      on-change="$ctrl.handleMinMaxDates()"\n      date="$ctrl.to"></b-date-time-select>\n  </div>\n  <div class="f-default__row-default">\n    <div class="f-default__col-wrap">\n      <div class="f-default__col">\n        <button type="button" class="f-select-date-range__btn btn btn-default _small"\n                ng-click="$ctrl.cancel()">Cancel</button>\n      </div>\n      <div class="f-default__col">\n        <button type="submit" class="f-select-date-range__btn btn btn-default _green _small _fill">Add</button>\n      </div>\n    </div>\n  </div>\n</form>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a) {
            "ngInject";
            (0, n.default)(this, e), this._$timeout = t, this._notificationService = i, this._dateService = a, this.from = null, this.to = null, this.bounds = {
                maxFrom: null,
                maxTo: null,
                minFrom: null,
                minTo: null
            }
        }
        return e.$inject = ["$timeout", "notificationService", "dateService"], (0, i.default)(e, [{
            key: "$onInit",
            value: function() {
                this.handleMinMaxDates()
            }
        }, {
            key: "onSubmit",
            value: function(e) {
                e.$invalid ? this._notificationService.showErrorNotification("Please fill all fields") : this.add({
                    from: this.from,
                    to: this.to
                })
            }
        }, {
            key: "handleMinMaxDates",
            value: function() {
                var e = this;
                this._$timeout(function() {
                    e.to && e.maxDaysRange ? e.bounds.minFrom = moment(e.to).subtract(e.maxDaysRange - 1, "days").format(e._dateService.getDateFormat("apiDate")) : e.bounds.minFrom = null, e.to ? e.bounds.maxFrom = moment(e.to).format(e._dateService.getDateFormat("apiDate")) : e.bounds.maxFrom = moment().format(e._dateService.getDateFormat("apiDate")), e.from ? e.bounds.minTo = moment(e.from).format(e._dateService.getDateFormat("apiDate")) : e.bounds.minTo = null, e.from && e.maxDaysRange ? e.bounds.maxTo = moment.min(moment(e.from).add(e.maxDaysRange - 1, "days"), moment()).format(e._dateService.getDateFormat("apiDate")) : e.bounds.maxTo = moment().format(e._dateService.getDateFormat("apiDate"))
                }, 0)
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2147));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("f-select-detention", []).component("fSelectDetention", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2148)),
        i = a(t(2149));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2150);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<form class="f-select-detention" name="selectDetentionForm" novalidate ng-submit="$ctrl.onSubmit()">\n  <p class="f-default__row-default">\n    <p class="f-default__col-wrap">\n      <p class="f-select-detention__intro" ng-if="$ctrl.atMaxCapacity">\n        Detention is full.\n      </p>\n      <p class="f-select-detention__intro" ng-if="!$ctrl.atMaxCapacity">\n        The following students could not be added to the selected detention, they are either on the detention already or on a different detention at the same time.\n      </p>\n\n           <p class="f-select-detention__intro">To add them to a detention please select a different detention session from the below list</p>\n\n      <div class="f-select-detention__name-wrapper">\n          <p ng-repeat="student in $ctrl.filteredStudents" class="f-select-detention__name">{{ student.forename }} {{student.surname}}</p>\n      </div>\n      <div class="f-select-detention__col">\n        <label class="f-select-detention__label">Detention</label>\n        <ui-select ng-model="$ctrl.selectedFields.selectedSession"\n                   ng-init="hash = $ctrl._selectsService.generateHash($ctrl.selects); $ctrl._selectsService.setItemsNumber($ctrl.infiniteScrollSettings, hash)"\n                   uis-open-close="$ctrl._selectsService.handleSelectToggling(hash, $ctrl.infiniteScrollSettings)"\n                   ng-change="$ctrl.selectDetention()"\n                   theme="selectize"\n                   class="select-default _gray f-select-detention__select"\n                   ng-attr-id="{{\'_\' + hash}}"\n                   search-enabled="true"\n                   field-name="detention">\n          <ui-select-match placeholder="Detention">\n            {{$select.selected.sessionData}}\n          </ui-select-match>\n          <ui-select-choices repeat="detention in $ctrl._detentionsService.sessions | filter:{sessionData:$select.search} | limitTo:$ctrl.selects[hash].currentItems track by $index"\n                             infinite-scroll="$ctrl._selectsService.addNewItemsToSelect($ctrl.selects[hash], $ctrl.infiniteScrollSettings.numToAdd)"\n                             infinite-scroll-container="\'#_\' + hash + \' .ui-select-choices-content\'">\n            <span>\n              {{detention.sessionData}}\n            </span>\n          </ui-select-choices>\n        </ui-select>\n\n        <div class="f-default__select-mobile-wrap">\n          <select class="f-default__select-mobile f-select-detention__select-mobile"\n                  ng-model="$ctrl.selectedFields.selectedSession"\n                  ng-change="$ctrl.selectDetention()"\n                  field-name="detention">\n            <option value="" selected disabled hidden>Detention</option>\n            <option ng-repeat="item in $ctrl._detentionsService.sessions" ng-value="item">{{item.sessionData}}</option>\n          </select>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class="f-default__row-default">\n    <div class="f-default__col-wrap">\n      <div class="f-select-detention__col">\n        <button type="submit" class="f-select-date__btn btn btn-default _green _small _fill">Add</button>\n      </div>\n    </div>\n  </div>\n</form>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r, o, l) {
            "ngInject";
            (0, n.default)(this, e), this._notificationService = t, this._studentsService = i, this._selectsService = a, this._detentionsService = s, this._routeClassService = r, this._$scope = l, this._$state = o, this.from = null, this.to = null, this.filteredStudents = [], this.atMaxCapacity = !1, this.selectedFields = {}, this.local = {
                infiniteScrollSettings: this._selectsService.getInfiniteScrollSettings()
            }
        }
        return e.$inject = ["notificationService", "studentsService", "selectsService", "detentionsService", "routeClassService", "$state", "$scope"], (0, i.default)(e, [{
            key: "selectDetention",
            value: function() {
                var e = this;
                this.selectedFields.selectedSession && "Detention" !== this.selectedFields.selectedSession.sessionData && this._detentionsService.fetchSession(this.selectedFields.selectedSession.id).then(function(t) {
                    e.local.currentSession = t
                })
            }
        }, {
            key: "onSubmit",
            value: function() {
                var e = this,
                    t = this._detentionsService.createAddLearnersRequest({});
                return t.learners = this.formatStudents(), t.format = 2, this._detentionsService.addLearner(t).then(function(t) {
                    t.details.failed_learner_ids.length ? (e.atMaxCapacity = t.details.at_max_capacity, e.filteredStudents = e.filterStudents(t.details.failed_learner_ids), e._notificationService.showErrorNotification("Please reallocate learner to alternative detention")) : (e._notificationService.showSuccessNotification("Changes successfully submitted"), "registers" === e._routeClassService.rootStateName && e._studentsService.clearSelectedStudents(), e._$scope.$emit("hideModal", {
                        closeAllModals: !0
                    }))
                })
            }
        }, {
            key: "$onInit",
            value: function() {
                var e = this.scope.failed_learners.map(function(e) {
                    return Number(e.id)
                });
                this.atMaxCapacity = this.scope.at_max_capacity, this.filteredStudents = this.filterStudents(e)
            }
        }, {
            key: "formatStudents",
            value: function() {
                var e = this;
                return this.filteredStudents.map(function(t) {
                    return e.scope.failed_learners.find(function(e) {
                        return e.id === t.id
                    })
                })
            }
        }, {
            key: "filterStudents",
            value: function(e) {
                return this._studentsService.selectedStudents.filter(function(t) {
                    return e.find(function(e) {
                        return e === Number(t.id)
                    })
                })
            }
        }, {
            key: "selects",
            get: function() {
                return this.local.infiniteScrollSettings.selects
            }
        }, {
            key: "infiniteScrollSettings",
            get: function() {
                return this.local.infiniteScrollSettings
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2152));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("f-select-teacher", []).component("fSelectTeacher", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2153)),
        i = a(t(2154));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2155);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            teachers: "<",
            period: "<",
            room: "<",
            isAdmin: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<form class="f-select-teacher" name="selectTeacherForm"\n      novalidate\n      ng-submit="$ctrl._bookSelectedPeriod(selectTeacherForm)">\n  <div class="f-default__row-default f-select-teacher__row" ng-if="$ctrl.isAdmin">\n    <ui-select ng-model="$ctrl.data.teacher"\n               ng-init="hash = $ctrl._selectsService.generateHash($ctrl.selects); $ctrl._selectsService.setItemsNumber($ctrl.infiniteScrollSettings, hash)"\n               uis-open-close="$ctrl._selectsService.handleSelectToggling(hash, $ctrl.infiniteScrollSettings)"\n               class="select-default _gray f-select-teacher__select"\n               ng-attr-id="{{\'_\' + hash}}"\n               theme="selectize"\n               search-enabled="true">\n      <ui-select-match placeholder="Employee">\n        {{ $select.selected.resultRow }}\n      </ui-select-match>\n      <ui-select-choices repeat="teacher in $ctrl.teachers | filter:{resultRow:$select.search}| limitTo:$ctrl.selects[hash].currentItems"\n                         infinite-scroll="$ctrl._selectsService.addNewItemsToSelect($ctrl.selects[hash], $ctrl.infiniteScrollSettings.numToAdd)"\n                         infinite-scroll-container="\'#_\' + hash + \' .ui-select-choices-content\'">\n        <span>{{ teacher.resultRow }}</span>\n      </ui-select-choices>\n    </ui-select>\n\n    <div class="f-default__select-mobile-wrap">\n      <select class="f-default__select-mobile f-select-teacher__select-mobile"\n              required\n              ng-model="$ctrl.data.teacher"\n              ng-options="teacher.resultRow for teacher in $ctrl.teachers">\n      </select>\n    </div>\n  </div>\n\n  <div class="f-default__row-default f-select-teacher__row">\n    <div class="f-default__field-title">Book until (consecutive)</div>\n    <b-date-time-select name="date"\n      format="{{::$ctrl._dateService.getDateFormat(\'apiDateTime\')}}"\n      visible-date-format="{{::$ctrl._dateService.getDateFormat(\'momentDateTime\')}}"\n      is-disabled="$ctrl.data.times"\n      date="$ctrl.data.until"\n      is-clear="true"\n    ></b-date-time-select>\n  </div>\n\n  <div class="f-default__row-default f-select-teacher__row">\n    <div class="f-default__field-title">Repeat (no. weeks)</div>\n    <input type="number" class="f-select-teacher__input f-default__input"\n           min="2"\n           ng-disabled="$ctrl.data.until"\n           ng-model="$ctrl.data.times"\n    >\n  </div>\n\n  <div class="f-default__row-default f-select-teacher__row">\n    <div class="f-default__field-title _required">Information</div>\n    <textarea class="f-select-teacher__textarea f-default__textarea"\n              required\n              rows="3"\n              ng-model="$ctrl.data.information"></textarea>\n  </div>\n\n  <div class="f-default__row-default f-select-teacher__row">\n    <div class="f-default__col-wrap">\n      <div class="f-default__col">\n        <button type="button" class="f-select-teacher__btn btn btn-default _small"\n                ng-click="$ctrl._hideModal()">Cancel</button>\n      </div>\n      <div class="f-default__col">\n        <button type="submit" class="f-select-teacher__btn btn btn-default _green _small _fill" ng-disabled="$ctrl.isLoading">Book</button>\n      </div>\n    </div>\n  </div>\n</form>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r, o, l) {
            "ngInject";
            (0, n.default)(this, e), this._modalDefaultService = t, this._userService = i, this._teachersService = a, this._resourceBookingService = s, this._notificationService = r, this._selectsService = o, this._dateService = l, this.data = {
                teacher: null,
                infiniteScrollSettings: this._selectsService.getInfiniteScrollSettings(),
                times: null,
                until: null
            }, this.isLoading = !1
        }
        return e.$inject = ["modalDefaultService", "userService", "teachersService", "ResourceBookingService", "notificationService", "selectsService", "dateService"], (0, i.default)(e, [{
            key: "$onInit",
            value: function() {
                var e = this;
                this.teachers.forEach(function(t) {
                    t.id === e._userService.user.id && (e.data.teacher = t)
                })
            }
        }, {
            key: "_bookSelectedPeriod",
            value: function(e) {
                var t = this;
                if (e.$valid) {
                    var n = void 0;
                    this._userService.user.id !== this.data.teacher.id && (n = this.data.teacher.id), this.isLoading = !0, this._resourceBookingService.bookSelectedPeriod(this.period, this.room, n, this.data.information, this.data.times, this.data.until).then(function() {
                        return t._hideModal()
                    }).finally(function() {
                        t.isLoading = !1
                    })
                } else this._notificationService.showErrorNotification("Please fill required fields")
            }
        }, {
            key: "_hideModal",
            value: function() {
                this._modalDefaultService.pop()
            }
        }, {
            key: "selects",
            get: function() {
                return this.data.infiniteScrollSettings.selects
            }
        }, {
            key: "infiniteScrollSettings",
            get: function() {
                return this.data.infiniteScrollSettings
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2157));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("f-select-type", []).component("fSelectType", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2158)),
        i = a(t(2159));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2160);
    var s = {
        bindings: {
            types: "<",
            update: "&"
        },
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<form class="f-select-type">\n  <b-title name="Select document type"\n           sref="documents-message.select"\n  ></b-title>\n\n  <div class="f-select-type__content">\n    <div class="f-student-search__row">\n      <ui-select ng-model="$ctrl.model.type"\n                 theme="selectize"\n                 ng-init="hash = $ctrl._selectsService.generateHash($ctrl.selects); $ctrl._selectsService.setItemsNumber($ctrl.infiniteScrollSettings, hash)"\n                 uis-open-close="$ctrl._selectsService.handleSelectToggling(hash, $ctrl.infiniteScrollSettings)"\n                 class="select-default f-select-type__select"\n                 ng-attr-id="{{\'_\' + hash}}"\n                 ng-change="$ctrl.update({ model: $ctrl.model })"\n                 search-enabled="false"\n      >\n        <ui-select-match placeholder="Document type">{{ $select.selected.description }}</ui-select-match>\n        <ui-select-choices repeat="type in $ctrl.types | limitTo:$ctrl.selects[hash].currentItems track by $index"\n                           infinite-scroll="$ctrl._selectsService.addNewItemsToSelect($ctrl.selects[hash], $ctrl.infiniteScrollSettings.numToAdd)"\n                           infinite-scroll-container="\'#_\' + hash + \' .ui-select-choices-content\'"\n        >\n          <span>{{ ::type.description }}</span>\n        </ui-select-choices>\n      </ui-select>\n\n      <div class="f-default__select-mobile-wrap">\n        <select class="f-default__select-mobile"\n                ng-change="$ctrl.update({ model: $ctrl.model })"\n                ng-model="$ctrl.model.type"\n        >\n          <option value="" selected disabled hidden>Document type</option>\n          <option ng-repeat="type in $ctrl.types track by $index" value="{{::type}}">{{::type.description}}</option>\n        </select>\n      </div>\n    </div>\n\n    <div class="f-student-search__row">\n      <b-input-container class="f-select-type__input-container">\n        <label class="f-select-type__label" float-label>Summary...</label>\n        <input type="text"\n          with-float-label\n          ng-model-options = "{ debounce: 400 }"\n          ng-change="$ctrl.update({ model: $ctrl.model })"\n          class="f-default__input f-select-type__input"\n          ng-model="$ctrl.model.summary">\n      </b-input-container>\n    </div>\n  </div>\n\n\n    <label class="f-student-search__checkbox f-default__label" style="margin-bottom: 20px"\n           ng-class="{ \'_checkbox-checked\':$ctrl.model.to_parents }"\n    >\n        <input type="checkbox"\n               class="f-student-search__checkbox-input"\n               ng-model="$ctrl.model.to_parents"\n               ng-change="$ctrl.update({ model: $ctrl.model })"\n        >\n        <span class="f-student-search__checkbox-title">Parents</span>\n    </label>\n    <label class="f-student-search__checkbox f-default__label"\n           ng-class="{ \'_checkbox-checked\': $ctrl.model.to_learners }"\n    >\n        <input type="checkbox"\n               class="f-student-search__checkbox-input"\n               ng-change="$ctrl.update({ model: $ctrl.model })"\n               ng-model="$ctrl.model.to_learners"\n        >\n        <span class="f-student-search__checkbox-title">Learners</span>\n    </label>\n</form>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(1),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    exports.default = function e() {
        "ngInject";
        (0, a.default)(this, e), this.model = {}
    }
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2162));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("f-select-user", []).component("fSelectUser", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2163)),
        i = a(t(2164));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2165);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<form class="f-select-user" name="userSelectForm" novalidate\n      ng-submit="$ctrl.submit(userSelectForm)"\n>\n  <div class="f-default__row-default f-select-user__row">\n    <ui-select class="select-default f-select-user__select"\n               required\n               ng-if="$ctrl.isDesktop()"\n               ng-model="$ctrl.user"\n               ng-init="hash = $ctrl._selectsService.generateHash($ctrl.selects); $ctrl._selectsService.setItemsNumber($ctrl.infiniteScrollSettings, hash)"\n               uis-open-close="$ctrl._selectsService.handleSelectToggling(hash, $ctrl.infiniteScrollSettings)"\n               ng-attr-id="{{\'_\' + hash}}"\n               theme="selectize"\n               search-enabled="false"\n    >\n      <ui-select-match placeholder="{{ $ctrl.scope.placeholder }} *">\n        {{ $select.selected.fullName }}\n      </ui-select-match>\n      <ui-select-choices repeat="user in $ctrl.scope.users | limitTo:$ctrl.selects[hash].currentItems"\n                         infinite-scroll-container="\'#_\' + hash + \' .ui-select-choices-content\'"\n                         infinite-scroll="$ctrl._selectsService.addNewItemsToSelect($ctrl.selects[hash], $ctrl.infiniteScrollSettings.numToAdd)">\n        <span>{{ ::user.fullName }}</span>\n      </ui-select-choices>\n    </ui-select>\n    <div class="f-default__select-mobile-wrap" ng-if="!$ctrl.isDesktop()">\n      <select class="f-default__select-mobile" required ng-model="$ctrl.user">\n        <option value="" selected disabled hidden>{{ ::$ctrl.scope.placeholder }} *</option>\n        <option ng-repeat="user in $ctrl.scope.users track by $index"\n                ng-value="user"\n        >\n          {{ ::user.fullName }}\n        </option>\n      </select>\n    </div>\n  </div>\n  <div class="f-default__row-default f-select-user__row">\n    <div class="f-default__col-wrap">\n      <div class="f-default__col">\n        <button type="button" class="f-select-user__btn btn btn-default _small"\n                ng-click="$ctrl.scope.onCancel()"\n        >Cancel</button>\n      </div>\n      <div class="f-default__col">\n        <button type="submit" class="f-select-user__btn btn btn-default _green _small _fill">\n          {{ ::$ctrl.scope.btnSubmitText }}\n        </button>\n      </div>\n    </div>\n  </div>\n</form>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a) {
            "ngInject";
            (0, n.default)(this, e), this._selectsService = t, this._notificationService = i, this._$window = a, this.user = null, this.infiniteScrollSettings = this._selectsService.getInfiniteScrollSettings()
        }
        return e.$inject = ["selectsService", "notificationService", "$window"], (0, i.default)(e, [{
            key: "isDesktop",
            value: function() {
                return this._$window.devicejs.desktop()
            }
        }, {
            key: "submit",
            value: function(e) {
                if (e.$invalid) return this._notificationService.showErrorNotification("Please fill required fields");
                this.scope.onSubmit({
                    userId: this.user.id
                })
            }
        }, {
            key: "selects",
            get: function() {
                return this.infiniteScrollSettings.selects
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2167));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("f-send", []).component("fSend", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2168)),
        i = a(t(2169));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2170);
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<form class="f-send">\n  <div class="f-send__left">\n    <div class="f-default__row-default f-send__row" ng-if="$ctrl.messageType === \'email\'">\n      <label class="f-send__field-outer">\n        <input type="text" class="f-send__field"\n               ng-model="$ctrl.subject"\n        >\n        <span class="f-send__note">Message Subject:</span>\n      </label>\n    </div>\n\n    <div class="f-default__row-default f-send__row" ng-if="$ctrl.messageType === \'sms\'">\n      <textarea class="f-send__textarea" cols="30" rows="9" placeholder="Message:"\n                ng-change="$ctrl.getSmsDetails($ctrl.subject)"\n                ng-model-options="{ debounce: $ctrl.data.SMS_DETAILS_DEBOUNCE }"\n                ng-model="$ctrl.subject"\n      ></textarea>\n      <span class="f-send__warning" ng-if="$ctrl.showWarning()">\n        Warning: Character limit exceeded\n      </span>\n    </div>\n\n    <div class="f-default__row-default f-send__row" ng-if="$ctrl.messageType === \'push\'">\n      <textarea class="f-send__textarea" cols="30" rows="9" placeholder="Message:"\n                ng-model="$ctrl.body"\n      ></textarea>\n    </div>\n\n    <div class="f-default__row-default f-send__row" ng-if="$ctrl.messageType === \'push | sms\'">\n      <textarea class="f-send__textarea" cols="30" rows="9" placeholder="Message:"\n                ng-change="$ctrl.getSmsDetails($ctrl.body)"\n                ng-model-options="{ debounce: $ctrl.data.SMS_DETAILS_DEBOUNCE }"\n                ng-model="$ctrl.body"\n      ></textarea>\n      <span class="f-send__warning" ng-if="$ctrl.showWarning()">\n        Warning: Character limit exceeded\n      </span>\n    </div>\n\n    <div class="f-default__row-default f-send__row"\n         ng-if="$ctrl.messageType === \'email\' && !$ctrl.isMobileScreen() && $ctrl._userService.checkRole(\'employee\')"\n    >\n      <div class="f-send__title">Options:</div>\n    </div>\n\n    <div class="f-default__row-default f-send__row"\n         ng-if="!$ctrl.isMobileScreen() && $ctrl._userService.checkRole(\'employee\') && $ctrl._communicatorDataService.usersType !== \'employees\' && $ctrl.messageType === \'email\'"\n    >\n      <label class="f-send__checkbox f-default__label"\n             ng-click="$ctrl.recordCurrentMessage($event)"\n             ng-class="{ \'_checkbox-checked\': $ctrl._communicatorDataService.recordMessage }"\n      >\n        <input type="checkbox" class="f-send__checkbox-input">\n        <span class="f-send__checkbox-title">Record in SIMS communications log</span>\n      </label>\n    </div>\n\n    <div class="f-default__row-default f-send__row"\n         ng-if="$ctrl._userService.checkRole(\'employee\') && !$ctrl.isMobileScreen() && $ctrl.messageType === \'email\'"\n    >\n      <ui-select ng-model="$ctrl.template"\n                 ng-change="$ctrl.selectTemplate($ctrl.template.id)"\n                 theme="selectize"\n                 ng-init="hash = $ctrl._selectsService.generateHash($ctrl.selects); $ctrl._selectsService.setItemsNumber($ctrl.infiniteScrollSettings, hash)"\n                 uis-open-close="$ctrl._selectsService.handleSelectToggling(hash, $ctrl.infiniteScrollSettings)"\n                 class="select-default f-send__select"\n                 ng-attr-id="{{\'_\' + hash}}"\n                 ng-disabled="!$ctrl._templatesService.templates.length"\n                 search-enabled="false"\n      >\n        <ui-select-match placeholder="Select Template">\n          {{ $select.selected.name }}\n        </ui-select-match>\n        <ui-select-choices\n          repeat="template in $ctrl._templatesService.templates | filter: {type: $ctrl.templatesFilter} | limitTo:$ctrl.selects[hash].currentItems track by $index"\n          infinite-scroll="$ctrl._selectsService.addNewItemsToSelect($ctrl.selects[hash], $ctrl.infiniteScrollSettings.numToAdd)"\n          infinite-scroll-distance=\'1\'\n          infinite-scroll-container="\'#_\' + hash + \' .ui-select-choices-content\'">\n          <span>{{ template.name }}</span>\n        </ui-select-choices>\n      </ui-select>\n\n      <div class="f-default__select-mobile-wrap f-send__select-mobile-wrap">\n        <select class="f-default__select-mobile f-send__select-mobile"\n                ng-change="$ctrl.selectTemplate($ctrl.template.id)"\n                ng-model="$ctrl.template"\n        >\n          <option value="" selected>Select Template</option>\n          <option ng-value="template"\n                  ng-repeat="template in $ctrl._templatesService.templates | filter: { type: $ctrl.templatesFilter }">\n            {{ template.name }}\n          </option>\n        </select>\n      </div>\n    </div>\n\n    <div class="f-default__row-default f-send__row"\n         ng-if="!$ctrl.isMobileScreen() && !$ctrl._communicatorDataService.isReply && $ctrl.messageType === \'email\' && $ctrl._userService.checkRole(\'employee\')"\n    >\n      <b-date-time-select class="f-send__date"\n        format="{{::$ctrl._dateService.getDateFormat(\'apiDateTime\')}}"\n        visible-date-format="{{::$ctrl._dateService.getDateFormat(\'momentDateTime\')}}"\n        name="date"\n        date="$ctrl.date"\n        placeholder="Send on: Date/Time"></b-date-time-select>\n    </div>\n\n    <div class="f-default__row-default f-send__row"\n         ng-if="!$ctrl.isMobileScreen() && !$ctrl._communicatorDataService.isReply && $ctrl.messageType === \'email\' && $ctrl._userService.checkRole(\'employee\')"\n    >\n        <button type="button" class="f-send__btn-variables" ng-click="$ctrl.openVariablesModal()">Add Variables</button>\n    </div>\n\n    <div class="f-default__row-default f-send__row"\n         ng-if="$ctrl.isMobileScreen() && $ctrl._userService.checkRole(\'employee\') || !$ctrl.isMobileScreen() && $ctrl.messageType !== \'email\' && $ctrl._userService.checkRole(\'employee\')">\n      <button type="button" class="f-send__btn-options" ng-click="$ctrl.showOptionsModal()">Options</button>\n    </div>\n\n    <div class="f-default__row-default f-send__row"\n         ng-if="!$ctrl.isMobileScreen() && $ctrl.messageType === \'email\' && $ctrl._userService.user.capabilities[\'communicator.reply_to\'] && !$ctrl._communicatorDataService.isReply"\n    >\n      <div class="f-default__field-title">Reply Address:</div>\n      <label class="f-send__field-outer _reply">\n        <input type="text" class="f-send__field" ng-model="$ctrl.replyTo">\n        <span class="f-send__note">@{{$ctrl._userService.user.capabilities[\'communicator.email_domain\']}}</span>\n      </label>\n    </div>\n\n    <div class="f-default__row-default f-send__row" ng-if="$ctrl.messageType !== \'email\'">\n      <div class="f-default__col-wrap f-send__col-wrap">\n        <div class="f-default__col f-send__col">\n          <button type="button" class="f-send__btn-create"\n                  ng-click="$ctrl.openCreateTemplateModal()"\n                  ng-if="$ctrl._userService.checkRole(\'employee\')"\n\t\t\t\t  ng-disabled="!$ctrl.hasContent()"\n          >\n            <svg-use name="plus"></svg-use>\n            <span>Create</span> Template\n          </button>\n        </div>\n        <div class="f-default__col f-send__col">\n          <div class="f-send__sms-counter" ng-if="$ctrl.messageType === \'sms\' || $ctrl.messageType === \'push | sms\'">\n            SMS Count: {{ $ctrl.smsDetails ? $ctrl.smsDetails.message_count : \'0\' }}\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class="f-default__row-default f-send__row _bottom">\n      <div class="f-default__col-wrap">\n        <div class="f-default__col">\n          <button type="button" class="btn btn-default f-send__btn _gray _fill _small _btn-back"\n                  ng-click="$ctrl._communicatorDataService.goToPreviousStep()"\n          >Back</button>\n        </div>\n        <div class="f-default__col">\n          <button type="button" class="btn btn-default f-send__btn _green _fill _small _btn-send"\n                  ng-click="$ctrl.openConfirmModal()"\n                  ng-disabled="$ctrl.isBlocked()"\n          >Send</button>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div class="f-send__right" ng-if="$ctrl.messageType === \'email\'">\n    <f-summernote class="f-send__editor"\n                  content="$ctrl.body"\n                  editor="$ctrl._communicatorDataService.editor"\n                  ng-if="$ctrl._userService.user.capabilities.communicator.email.html"\n    ></f-summernote>\n    <div class="f-send__editor" ng-if="!$ctrl._userService.user.capabilities.communicator.email.html">\n      <textarea class="f-send__editor-textarea"\n                placeholder="Text"\n                ng-model="$ctrl.body"\n      ></textarea>\n    </div>\n    <div class="f-send__controls">\n      <div class="f-send__controls-attachments"\n           ng-class="{_template: $ctrl._userService.checkRole(\'employee\')}"\n           ng-if="$ctrl._userService.user.capabilities.communicator.email.attachments"\n      >\n        <b-attachments remove="$ctrl.removeAttachment({ attachment })"\n                       on-picked="$ctrl.onPicked(data)"\n                       max-file-size="$ctrl._userService.user.miscellaneous.upload.max_attachment_size_communicator"\n                       ng-if="!$ctrl._communicatorDataService.isReply"\n        ></b-attachments>\n      </div>\n      <div class="f-send__controls-buttons">\n        <button type="button" class="f-send__btn-template _update"\n                ng-click="$ctrl.openUpdateTemplateModal()"\n                ng-if="$ctrl._userService.checkRole(\'employee\') && $ctrl.template && $ctrl.template.owner_id === $ctrl._userService.user.id"\n\t\t\t\tng-disabled="!$ctrl.hasContent()"\n        >Update Template</button>\n        <button type="button" class="f-send__btn-template"\n                ng-click="$ctrl.openCreateTemplateModal()"\n                ng-if="$ctrl._userService.checkRole(\'employee\')"\n\t\t\t\tng-disabled="!$ctrl.hasContent()"\n        >\n          <svg-use name="plus"></svg-use>\n          <span>Create</span> Template\n        </button>\n      </div>\n    </div>\n  </div>\n</form>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(26)),
        i = s(t(1)),
        a = s(t(2));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = function() {
        function e(t, n, a, s, r, o, l, c, d, u, _, f, v, m) {
            "ngInject";
            (0, i.default)(this, e), this._$state = n, this._$scope = a, this._$filter = s, this._modalDefaultService = o, this._userService = c, this._templatesService = d, this._notificationService = u, this._$timeout = t, this._selectsService = _, this._attachmentsService = r, this._communicatorDataService = l, this._deviceMarginConstants = v, this._windowWidthService = f, this._dateService = m, this.data = {
                date: {
                    value: null
                },
                replyTo: {
                    value: null
                },
                template: null,
                templatesFilter: null,
                smsDetails: null,
                SMS_DETAILS_DEBOUNCE: 500,
                infiniteScrollSettings: this._selectsService.getInfiniteScrollSettings(13, 8),
                subject: null,
                body: "",
                isLoading: !1
            }
        }
        return e.$inject = ["$timeout", "$state", "$scope", "$filter", "attachmentsService", "modalDefaultService", "communicatorDataService", "userService", "templatesService", "notificationService", "selectsService", "windowWidthService", "deviceMarginConstants", "dateService"], (0, a.default)(e, [{
            key: "$onInit",
            value: function() {
                if (this.setTemplatesFilterType(), this._communicatorDataService.isReply) {
                    var e = "sms" === this._communicatorDataService.selectedMessage.type ? this._communicatorDataService.selectedMessage.subject : this._communicatorDataService.selectedMessage.body;
                    this._userService.user.capabilities.communicator.email.html && (this.body = '<br><br><br><br><br><p><font color="#aaa">------------</font></p><p><font color="#aaa">' + this._communicatorDataService.selectedMessage.sender.name + " to " + (this._userService.user.data.title || "") + " " + this._userService.user.data.fullName + '</font></p><p><font color="#aaa">' + this._communicatorDataService.selectedMessage.date + '</font></p><br><p><font color="#aaa">' + (e || "") + "</font></p>")
                }
            }
        }, {
            key: "$onDestroy",
            value: function() {
                this._communicatorDataService.isReply && this._communicatorDataService.resetRecipientsData(), this._attachmentsService.clearDocuments()
            }
        }, {
            key: "hasContent",
            value: function() {
                return null !== this.data.subject && "" !== this.data.subject || "" !== this.data.body
            }
        }, {
            key: "isMobileScreen",
            value: function() {
                return this._windowWidthService.windowWidth <= this._deviceMarginConstants.MOBILE_MARGIN
            }
        }, {
            key: "showOptionsModal",
            value: function() {
                var e = this,
                    t = {
                        record: function(t) {
                            var n = t.event;
                            return e.recordCurrentMessage(n)
                        },
                        selectTemplate: function(t) {
                            var n = t.id;
                            return e.selectTemplate(n)
                        },
                        openVariablesModal: function() {
                            return e.openVariablesModal()
                        },
                        templatesFilter: this.templatesFilter,
                        template: this.template,
                        templates: this._templatesService.templates,
                        date: this.data.date,
                        replyTo: this.data.replyTo
                    };
                this._modalDefaultService.showModalWithTemplates("modal-message-option", t, "Select Options")
            }
        }, {
            key: "setTemplatesFilterType",
            value: function() {
                "email" === this.messageType ? this.templatesFilter = "html" : this.templatesFilter = "text"
            }
        }, {
            key: "removeAttachment",
            value: function(e) {
                var t = e.attachment;
                this._attachmentsService.deleteDocument(t)
            }
        }, {
            key: "showWarning",
            value: function() {
                return this.smsDetails && this.smsDetails.message_count > this.smsDetails.max_messages
            }
        }, {
            key: "isBlocked",
            value: function() {
                return !this.subject && "sms" === this.messageType || !this.body && "push" === this.messageType || this.isLoading
            }
        }, {
            key: "selectTemplate",
            value: function(e) {
                var t = this;
                if (!e) return this.subject = null, void(this.body = null);
                this._templatesService.getTemplateFromDB(e).then(function(e) {
                    "email" === t.messageType ? (t.subject = e.template.subject, t.body = e.template.body) : "push" === t.messageType ? t.body = e.template.body || e.template.subject : "push | sms" === t.messageType ? (t.body = e.template.body || e.template.subject, t.getSmsDetails(t.body)) : "sms" === t.messageType && (t.subject = e.template.body || e.template.subject, t.getSmsDetails(t.subject))
                })
            }
        }, {
            key: "recordCurrentMessage",
            value: function(e) {
                e.preventDefault(), this._communicatorDataService.recordMessage = !this._communicatorDataService.recordMessage
            }
        }, {
            key: "getSmsDetails",
            value: function(e) {
                var t = this;
                this._communicatorDataService.getSmsDetailsFromDb(e).then(function(e) {
                    var n = e.details;
                    t.data.smsDetails = n, t._$timeout(function() {
                        t._$scope.$digest()
                    })
                })
            }
        }, {
            key: "openConfirmModal",
            value: function() {
                var e = this,
                    t = new Blob([this.body]).size,
                    n = this._attachmentsService.documents.reduce(function(e, t) {
                        return e += t.size
                    }, 0),
                    i = this._userService.user.miscellaneous.upload.max_attachment_size_communicator - t;
                if (t > this._userService.user.miscellaneous.upload.max_body_size_communicator) {
                    var a = "Error: the message body is too large.";
                    this._notificationService.showErrorNotification(a, void 0, a)
                } else if (n > i) {
                    var s = "Error: files size is too large.";
                    this._notificationService.showErrorNotification(s, void 0, s)
                } else {
                    var r = {
                        cancel: function() {
                            return e.hideModal()
                        },
                        send: function() {
                            return e.handleMessage()
                        },
                        recipientsNumber: this._communicatorDataService.getAvailableRecipientsNumber()
                    };
                    this._modalDefaultService.showModalWithTemplates("modal-send-message", r, "Send Messages")
                }
            }
        }, {
            key: "handleMessage",
            value: function() {
                var e = this;
                if (this.isLoading = !0, this.hideModal(), this._communicatorDataService.isReply) return this.messageReply(this._communicatorDataService.selectedMessage.id, this.subject, this.body).finally(function() {
                    return e.isLoading = !1
                });
                var t = "";
                if ("email" === this.messageType) {
                    t = this._userService.user.capabilities.communicator.email.html ? '<div class="editor"><style>.editor p { margin: 0 }</style>' + this.body + "</div>" : this.body
                } else t = this.body;
                var n = {
                    subject: this.subject,
                    body: t,
                    type: this.messageType,
                    has_attachments: !!this._attachmentsService.documents.length,
                    sender_type: this._userService.currentType[0],
                    sender_id: this._userService.user.id,
                    regarding: this._communicatorDataService.getLearnerIds(),
                    send_on: this.date
                };
                return this.replyTo && (n.reply_to = this.replyTo), this.sendMessage(n).finally(function() {
                    return e.isLoading = !1
                })
            }
        }, {
            key: "sendMessage",
            value: function(e) {
                var t = this;
                return this._communicatorDataService.sendMessage(e).then(function() {
                    t._notificationService.showSuccessNotification("The message was successfully sent!"), t._communicatorDataService.resetSelectedUsers(), t._$state.transitionTo("communicator.mailbox").then(function() {
                        return t._communicatorDataService.resetRecipientsData()
                    })
                })
            }
        }, {
            key: "messageReply",
            value: function(e, t, n) {
                var i = this;
                return this._communicatorDataService.messageReply(e, t, n).then(function() {
                    i._notificationService.showSuccessNotification("The message was successfully sent!"), i._communicatorDataService.resetSelectedUsers(), i._$state.transitionTo("communicator.mailbox")
                })
            }
        }, {
            key: "openUpdateTemplateModal",
            value: function() {
                var e = this,
                    t = {
                        message: 'Do you want to update "' + this.template.name + '"?',
                        cancel: function() {
                            return e.hideModal()
                        },
                        confirm: function() {
                            return e.updateTemplate()
                        }
                    };
                this._modalDefaultService.showModalWithTemplates("modal-confirm", t, "Confirm")
            }
        }, {
            key: "updateTemplate",
            value: function() {
                var e = this;
                return this._templatesService.updateTemplate(this.template.id, this.template.global, this.template.name, this.subject, this.body).then(function() {
                    return e._templatesService.getTemplatesFromDB()
                }).then(function() {
                    return e.hideModal()
                })
            }
        }, {
            key: "openCreateTemplateModal",
            value: function() {
                var e = {
                    body: this.body,
                    subject: this.subject
                };
                this._modalDefaultService.showModalWithTemplates("modal-create-template", e, "Create Template")
            }
        }, {
            key: "openVariablesModal",
            value: function() {
                var e = this,
                    t = void 0,
                    i = this._communicatorDataService.getRecipientsIds();
                "email" === this.messageType && (t = this._communicatorDataService.editor.summernote("createRange")), i.adhoc = this._communicatorDataService.customSearches.map(function(e) {
                    return e.value
                }).filter(function(e) {
                    return e
                }), this._communicatorDataService.messageVariables(i).then(function(i) {
                    if (i && (0, n.default)(i).length) {
                        var a = {
                            variables: i,
                            onSelect: function(n) {
                                var i = n.variable;
                                "email" === e.messageType ? (t.select(), e._communicatorDataService.editor.summernote("insertText", i)) : e.addVariableToContent(i), e.hideModal()
                            }
                        };
                        e._modalDefaultService.showModalWithTemplates("modal-add-variable", a, "Add Variable")
                    } else e._notificationService.showErrorNotification("Variables are missing")
                })
            }
        }, {
            key: "addVariableToContent",
            value: function(e) {
                "sms" === this.messageType ? (!this.subject && (this.subject = ""), this.subject += e) : (!this.body && (this.body = ""), this.body += e)
            }
        }, {
            key: "onPicked",
            value: function(e) {
                var t = e.documents,
                    n = new Blob([this.body]).size,
                    i = this._userService.user.miscellaneous.upload.max_attachment_size_communicator - n;
                this._attachmentsService.onPicked({
                    documents: t,
                    maxFileSize: i
                })
            }
        }, {
            key: "hideModal",
            value: function() {
                this._modalDefaultService.pop()
            }
        }, {
            key: "messageType",
            get: function() {
                return this._communicatorDataService.messageType
            }
        }, {
            key: "template",
            get: function() {
                return this.data.template
            },
            set: function(e) {
                this.data.template = e
            }
        }, {
            key: "templatesFilter",
            get: function() {
                return this.data.templatesFilter
            },
            set: function(e) {
                this.data.templatesFilter = e
            }
        }, {
            key: "body",
            get: function() {
                return this.data.body
            },
            set: function(e) {
                this.data.body = e
            }
        }, {
            key: "subject",
            get: function() {
                return this.data.subject
            },
            set: function(e) {
                this.data.subject = e
            }
        }, {
            key: "smsDetails",
            get: function() {
                return this.data.smsDetails
            }
        }, {
            key: "selects",
            get: function() {
                return this.data.infiniteScrollSettings.selects
            }
        }, {
            key: "infiniteScrollSettings",
            get: function() {
                return this.data.infiniteScrollSettings
            }
        }, {
            key: "isLoading",
            get: function() {
                return this.data.isLoading
            },
            set: function(e) {
                this.data.isLoading = e
            }
        }, {
            key: "date",
            get: function() {
                return this.data.date.value
            },
            set: function(e) {
                this.data.date.value = e
            }
        }, {
            key: "replyTo",
            get: function() {
                return this.data.replyTo.value
            },
            set: function(e) {
                this.data.replyTo.value = e
            }
        }]), e
    }();
    exports.default = r
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2172));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("f-student-points", []).component("fStudentPoints", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2173)),
        i = a(t(2174));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2175);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            type: "<",
            pageType: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<form class="f-student-points" name="studentPointsForm" novalidate>\n  <div class="f-student-points__top"\n       ng-if="$ctrl.fullStateName === \'behaviour.points-behaviour\' || $ctrl.fullStateName === \'student.behaviour.points-behaviour\'\n        || $ctrl.type === \'behaviour\'">\n    <div class="f-student-points__row _col-wrap">\n      <div class="f-student-points__col">\n        <label class="f-student-points__label">Behaviour Type *</label>\n        <ui-select ng-model="$ctrl.local.typeId"\n                   ng-init="hash = $ctrl._selectsService.generateHash($ctrl.selects); $ctrl._selectsService.setItemsNumber($ctrl.infiniteScrollSettings, hash)"\n                   ng-change="$ctrl.setBehaviourPrimaryTypeById($ctrl.local.typeId); $ctrl.deleteItemFromBehaviourAdditionalType(); $ctrl.updateBullyingType(); $ctrl.setCurrentSummaryBehaviourPoints()"\n                   uis-open-close="$ctrl._selectsService.handleSelectToggling(hash, $ctrl.infiniteScrollSettings)"\n                   theme="selectize"\n                   class="select-default _gray f-student-points__select"\n                   ng-attr-id="{{\'_\' + hash}}"\n                   search-enabled="true"\n                   required\n                   field-name="behaviourPrimaryType">\n          <ui-select-match placeholder="{{$ctrl._windowWidthService.windowWidth > $ctrl._deviceMarginConstants.MOBILE_MARGIN ? \'Behaviour Type *\' : $ctrl.local.placeholders.requiredField + \' *\'}}">\n            {{$select.selected.description}}\n          </ui-select-match>\n          <ui-select-choices repeat="type.id as type in $ctrl.local.primaryBehaviourTypes | filter:{description:$select.search} | limitTo:$ctrl.selects[hash].currentItems track by $index"\n                             infinite-scroll="$ctrl._selectsService.addNewItemsToSelect($ctrl.selects[hash], $ctrl.infiniteScrollSettings.numToAdd)"\n                             infinite-scroll-container="\'#_\' + hash + \' .ui-select-choices-content\'">\n            <span>{{type.description}}</span>\n          </ui-select-choices>\n        </ui-select>\n\n        <div class="f-default__select-mobile-wrap">\n          <select class="f-default__select-mobile f-student-points__select-mobile"\n                  ng-model="$ctrl.local.typeId"\n                  ng-change="$ctrl.setBehaviourPrimaryTypeById($ctrl.local.typeId); $ctrl.deleteItemFromBehaviourAdditionalType(); $ctrl.updateBullyingType(); $ctrl.setCurrentSummaryBehaviourPoints()"\n                  required\n                  ng-options="item.id as item.description for item in $ctrl.local.primaryBehaviourTypes"\n                  field-name="behaviourPrimaryType">\n            <option value="" selected disabled hidden>\n              {{ $ctrl._windowWidthService.windowWidth > $ctrl._deviceMarginConstants.MOBILE_MARGIN ? \'Behaviour Type *\' : \'Behaviour Type\' }}\n            </option>\n          </select>\n        </div>\n      </div>\n\n      <div class="f-student-points__col" ng-if="$ctrl.local.hiddenBehaviourFields.indexOf(\'additionaltype\') === -1">\n        <label class="f-student-points__label">Additional Types</label>\n        <div ng-dropdown-multiselect\n             class="f-student-points__multiselect"\n             options="$ctrl.local.additionalBehaviourTypes"\n             events="$ctrl.multipleSelects.behaviourEvents"\n             selected-model="$ctrl.selectedFields.behaviourAdditionalTypes"\n             translation-texts="$ctrl.multipleSelects.translation"\n             extra-settings="$ctrl.multipleSelects.settings"\n        ></div>\n\n        <div class="f-default__select-mobile-wrap _multiple">\n          <select class="f-default__select-mobile f-student-points__select-mobile"\n                  ng-change="$ctrl.setCurrentSummaryBehaviourPoints()"\n                  ng-model="$ctrl.selectedFields.behaviourAdditionalTypes"\n                  multiple>\n            <option value="" selected disabled hidden>{{$ctrl._windowWidthService.windowWidth > $ctrl._deviceMarginConstants.MOBILE_MARGIN ? \'Additional Type\' : $ctrl.local.placeholders.requiredField}}</option>\n            <option ng-repeat="type in $ctrl.local.additionalBehaviourTypes" ng-value="type">{{type.description}}</option>\n          </select>\n        </div>\n      </div>\n\n      <div class="f-student-points__col" ng-if="$ctrl.local.hiddenBehaviourFields.indexOf(\'bullyingtype\') === -1">\n        <label class="f-student-points__label">Bullying Type</label>\n        <ui-select ng-model="$ctrl.selectedFields.bullyingType"\n                   on-select="$ctrl.onSelect($select)"\n                   theme="selectize"\n                   ng-init="hash = $ctrl._selectsService.generateHash($ctrl.selects); $ctrl._selectsService.setItemsNumber($ctrl.infiniteScrollSettings, hash)"\n                   ng-disabled="!$ctrl.local.isBullyingType"\n                   uis-open-close="$ctrl._selectsService.handleSelectToggling(hash, $ctrl.infiniteScrollSettings)"\n                   class="select-default _gray f-student-points__select"\n                   ng-attr-id="{{\'_\' + hash}}"\n                   search-enabled="true">\n          <ui-select-match placeholder="{{$ctrl._windowWidthService.windowWidth > $ctrl._deviceMarginConstants.MOBILE_MARGIN ? \'Bullying Type\' : $ctrl.local.placeholders.unrequiredField}}">\n            {{$select.selected.name}}\n          </ui-select-match>\n          <ui-select-choices repeat="bully in $ctrl.local.bullyingTypes | filter:{name:$select.search} | limitTo:$ctrl.selects[hash].currentItems track by $index"\n                             infinite-scroll="$ctrl._selectsService.addNewItemsToSelect($ctrl.selects[hash], $ctrl.infiniteScrollSettings.numToAdd)"\n                             infinite-scroll-container="\'#_\' + hash + \' .ui-select-choices-content\'">\n            <span>{{bully.name}}</span>\n          </ui-select-choices>\n        </ui-select>\n        <div class="f-default__select-mobile-wrap">\n          <select class="f-default__select-mobile f-student-points__select-mobile"\n                  ng-disabled="!$ctrl.local.isBullyingType"\n                  ng-options="item as item.name for item in $ctrl.local.bullyingTypes"\n                  ng-model="$ctrl.selectedFields.bullyingType"\n          >\n            <option value="" selected>Bullying Type</option>\n          </select>\n        </div>\n      </div>\n\n      <div class="f-student-points__col" ng-if="$ctrl.local.hiddenBehaviourFields.indexOf(\'activity\') === -1">\n        <label class="f-student-points__label">Activity Type</label>\n        <ui-select ng-model="$ctrl.selectedFields.activity"\n                   on-select="$ctrl.onSelect($select)"\n                   ng-init="hash = $ctrl._selectsService.generateHash($ctrl.selects); $ctrl._selectsService.setItemsNumber($ctrl.infiniteScrollSettings, hash)"\n                   uis-open-close="$ctrl._selectsService.handleSelectToggling(hash, $ctrl.infiniteScrollSettings)"\n                   theme="selectize"\n                   class="select-default _gray f-student-points__select"\n                   ng-attr-id="{{\'_\' + hash}}"\n                   ng-required="$ctrl.isRequired($ctrl._behaviourDataService.behaviourAchievementLookups.behaviour_require_fields, \'activity_id\')"\n                   search-enabled="true">\n          <ui-select-match placeholder="{{$ctrl._windowWidthService.windowWidth > $ctrl._deviceMarginConstants.MOBILE_MARGIN  ? \'Activity\' : $ctrl.local.placeholders.requiredField }}">\n            {{$select.selected.description}}\n          </ui-select-match>\n          <ui-select-choices repeat="activity in $ctrl.local.activityTypes | filter:{description:$select.search} | limitTo:$ctrl.selects[hash].currentItems track by $index"\n                             infinite-scroll="$ctrl._selectsService.addNewItemsToSelect($ctrl.selects[hash], $ctrl.infiniteScrollSettings.numToAdd)"\n                             infinite-scroll-container="\'#_\' + hash + \' .ui-select-choices-content\'">\n            <span>{{activity.description}}</span>\n          </ui-select-choices>\n        </ui-select>\n        <div class="f-default__select-mobile-wrap">\n          <select class="f-default__select-mobile f-student-points__select-mobile"\n                  ng-required="$ctrl.isRequired($ctrl._behaviourDataService.behaviourAchievementLookups.behaviour_require_fields, \'activity_id\')"\n                  ng-model="$ctrl.selectedFields.activity">\n            <option value="" selected>Activity</option>\n            <option ng-repeat="item in $ctrl.local.activityTypes" ng-value="item">{{item.description}}</option>\n          </select>\n        </div>\n      </div>\n\n      <div class="f-student-points__col" ng-if="$ctrl.local.hiddenBehaviourFields.indexOf(\'action\') === -1">\n        <label class="f-student-points__label">Action Taken</label>\n        <ui-select ng-model="$ctrl.selectedFields.actionTaken"\n                   on-select="$ctrl.onSelect($select)"\n                   theme="selectize"\n                   ng-init="hash = $ctrl._selectsService.generateHash($ctrl.selects); $ctrl._selectsService.setItemsNumber($ctrl.infiniteScrollSettings, hash)"\n                   uis-open-close="$ctrl._selectsService.handleSelectToggling(hash, $ctrl.infiniteScrollSettings)"\n                   class="select-default _gray f-student-points__select"\n                   ng-attr-id="{{\'_\' + hash}}"\n                   ng-required="$ctrl.isRequired($ctrl._behaviourDataService.behaviourAchievementLookups.behaviour_require_fields, \'action_id\')"\n                   search-enabled="true">\n          <ui-select-match placeholder="{{$ctrl._windowWidthService.windowWidth > $ctrl._deviceMarginConstants.MOBILE_MARGIN ? \'Action Taken\' : $ctrl.local.placeholders.unrequiredField}}">\n            {{$select.selected.name}}\n          </ui-select-match>\n          <ui-select-choices repeat="action in $ctrl.local.actionsTaken | filter:{name:$select.search} | limitTo:$ctrl.selects[hash].currentItems track by $index"\n                             infinite-scroll="$ctrl._selectsService.addNewItemsToSelect($ctrl.selects[hash], $ctrl.infiniteScrollSettings.numToAdd)"\n                             infinite-scroll-container="\'#_\' + hash + \' .ui-select-choices-content\'">\n            <span>{{action.name}}</span>\n          </ui-select-choices>\n        </ui-select>\n        <div class="f-default__select-mobile-wrap">\n          <select class="f-default__select-mobile f-student-points__select-mobile"\n                  ng-required="$ctrl.isRequired($ctrl._behaviourDataService.behaviourAchievementLookups.behaviour_require_fields, \'action_id\')"\n                  ng-options="item as item.name for item in $ctrl.local.actionsTaken"\n                  ng-model="$ctrl.selectedFields.actionTaken"\n          >\n            <option value="" selected>Action Taken</option>\n          </select>\n        </div>\n      </div>\n\n      <div class="f-student-points__col" ng-if="$ctrl.local.hiddenBehaviourFields.indexOf(\'location\') === -1">\n        <label class="f-student-points__label">Location</label>\n        <ui-select ng-model="$ctrl.selectedFields.location"\n                   on-select="$ctrl.onSelect($select)"\n                   theme="selectize"\n                   ng-init="hash = $ctrl._selectsService.generateHash($ctrl.selects); $ctrl._selectsService.setItemsNumber($ctrl.infiniteScrollSettings, hash)"\n                   uis-open-close="$ctrl._selectsService.handleSelectToggling(hash, $ctrl.infiniteScrollSettings)"\n                   class="select-default _gray f-student-points__select"\n                   ng-attr-id="{{\'_\' + hash}}"\n                   ng-required="$ctrl.isRequired($ctrl._behaviourDataService.behaviourAchievementLookups.behaviour_require_fields, \'location_id\')"\n                   search-enabled="true">\n          <ui-select-match placeholder="Location">\n            {{$select.selected.name}}\n          </ui-select-match>\n          <ui-select-choices repeat="location in $ctrl.local.locations | filter:{name:$select.search} | limitTo:$ctrl.selects[hash].currentItems track by $index"\n                             infinite-scroll="$ctrl._selectsService.addNewItemsToSelect($ctrl.selects[hash], $ctrl.infiniteScrollSettings.numToAdd)"\n                             infinite-scroll-container="\'#_\' + hash + \' .ui-select-choices-content\'">\n            <span>{{location.name}}</span>\n          </ui-select-choices>\n        </ui-select>\n        <div class="f-default__select-mobile-wrap">\n          <select class="f-default__select-mobile f-student-points__select-mobile"\n                  ng-required="$ctrl.isRequired($ctrl._behaviourDataService.behaviourAchievementLookups.behaviour_require_fields, \'location_id\')"\n                  ng-options="item as item.name for item in $ctrl.local.locations"\n                  ng-model="$ctrl.selectedFields.location"\n          >\n            <option value="" selected>Location</option>\n          </select>\n        </div>\n      </div>\n\n      <div class="f-student-points__col" ng-if="$ctrl.local.hiddenBehaviourFields.indexOf(\'actiondate\') === -1">\n        <div class="f-student-points__label">Action Taken Date</div>\n        <b-date-time-select class="f-student-points__date"\n          format="{{::$ctrl._dateService.getDateFormat(\'apiDate\')}}"\n          visible-date-format="{{::$ctrl._dateService.getDateFormat(\'momentDate\')}}"\n          name="dateOfAction"\n          label="Action Taken Date"\n          placeholder="{{$ctrl.local.placeholders.dateOfAction}}"\n          is-required="$ctrl.isRequired($ctrl._behaviourDataService.behaviourAchievementLookups.behaviour_require_fields, \'action_date\')"\n          date="$ctrl.selectedFields.dateOfAction"></b-date-time-select>\n      </div>\n\n      <div class="f-student-points__col" ng-if="$ctrl.local.hiddenBehaviourFields.indexOf(\'actionemployee\') === -1">\n        <label class="f-student-points__label">Actioned By</label>\n        <ui-select ng-model="$ctrl.selectedFields.actionedBy"\n                   on-select="$ctrl.onSelect($select)"\n                   theme="selectize"\n                   ng-init="hash = $ctrl._selectsService.generateHash($ctrl.selects); $ctrl._selectsService.setItemsNumber($ctrl.infiniteScrollSettings, hash)"\n                   uis-open-close="$ctrl._selectsService.handleSelectToggling(hash, $ctrl.infiniteScrollSettings)"\n                   class="select-default _gray f-student-points__select"\n                   ng-attr-id="{{\'_\' + hash}}"\n                   ng-required="$ctrl.isRequired($ctrl._behaviourDataService.behaviourAchievementLookups.behaviour_require_fields, \'action_employee_id\')"\n                   search-enabled="true">\n          <ui-select-match placeholder="{{$ctrl._windowWidthService.windowWidth > $ctrl._deviceMarginConstants.MOBILE_MARGIN ? \'Actioned By\' : $ctrl.local.placeholders.unrequiredField}}">\n            {{$select.selected.fullName}}\n          </ui-select-match>\n          <ui-select-choices repeat="teacher in $ctrl.local.actionBy | filter:{fullName:$select.search} | limitTo:$ctrl.selects[hash].currentItems track by $index"\n                             infinite-scroll="$ctrl._selectsService.addNewItemsToSelect($ctrl.selects[hash], $ctrl.infiniteScrollSettings.numToAdd)"\n                             infinite-scroll-container="\'#_\' + hash + \' .ui-select-choices-content\'">\n            <span>{{teacher.fullName}}</span>\n          </ui-select-choices>\n        </ui-select>\n        <div class="f-default__select-mobile-wrap">\n          <select class="f-default__select-mobile f-student-points__select-mobile"\n                  ng-required="$ctrl.isRequired($ctrl._behaviourDataService.behaviourAchievementLookups.behaviour_require_fields, \'action_employee_id\')"\n                  ng-options="item as item.fullName for item in $ctrl.local.actionBy"\n                  ng-model="$ctrl.selectedFields.actionedBy"\n          >\n            <option value="" selected>Actioned By</option>\n          </select>\n        </div>\n      </div>\n\n      <div class="f-student-points__col" ng-if="$ctrl.local.hiddenBehaviourFields.indexOf(\'time\') === -1">\n        <label class="f-student-points__label">Time</label>\n        <ui-select ng-model="$ctrl.selectedFields.time"\n                   on-select="$ctrl.onSelect($select)"\n                   theme="selectize"\n                   ng-init="hash = $ctrl._selectsService.generateHash($ctrl.selects); $ctrl._selectsService.setItemsNumber($ctrl.infiniteScrollSettings, hash)"\n                   uis-open-close="$ctrl._selectsService.handleSelectToggling(hash, $ctrl.infiniteScrollSettings)"\n                   class="select-default _gray f-student-points__select"\n                   ng-attr-id="{{\'_\' + hash}}"\n                   ng-required="$ctrl.isRequired($ctrl._behaviourDataService.behaviourAchievementLookups.behaviour_require_fields, \'time_id\')"\n                   search-enabled="true">\n          <ui-select-match placeholder="{{$ctrl._windowWidthService.windowWidth > $ctrl._deviceMarginConstants.MOBILE_MARGIN ? \'Time\' : $ctrl.local.placeholders.unrequiredField}}">\n            {{$select.selected.name}}\n          </ui-select-match>\n          <ui-select-choices repeat="time in $ctrl.local.times | filter:{name:$select.search} | limitTo:$ctrl.selects[hash].currentItems track by $index"\n                             infinite-scroll="$ctrl._selectsService.addNewItemsToSelect($ctrl.selects[hash], $ctrl.infiniteScrollSettings.numToAdd)"\n                             infinite-scroll-container="\'#_\' + hash + \' .ui-select-choices-content\'">\n            <span>{{time.name}}</span>\n          </ui-select-choices>\n        </ui-select>\n        <div class="f-default__select-mobile-wrap">\n          <select class="f-default__select-mobile f-student-points__select-mobile"\n                  ng-required="$ctrl.isRequired($ctrl._behaviourDataService.behaviourAchievementLookups.behaviour_require_fields, \'time_id\')"\n                  ng-options="item as item.name for item in $ctrl.local.times"\n                  ng-model="$ctrl.selectedFields.time"\n          >\n            <option value="" selected>Time</option>\n          </select>\n        </div>\n      </div>\n\n      <div class="f-student-points__col">\n        <div class="f-student-points__label">Date</div>\n        <b-date-time-select class="f-student-points__date"\n          format="{{::$ctrl._dateService.getDateFormat(\'apiDate\')}}"\n          visible-date-format="{{::$ctrl._dateService.getDateFormat(\'momentDate\')}}"\n          name="date"\n          label="Date"\n          placeholder="{{$ctrl.local.placeholders.date}}"\n          date="$ctrl.selectedFields.date"></b-date-time-select>\n      </div>\n\n      <div class="f-student-points__col">\n        <label class="f-student-points__label">Status *</label>\n        <ui-select ng-model="$ctrl.selectedFields.status"\n                   theme="selectize"\n                   ng-init="hash = $ctrl._selectsService.generateHash($ctrl.selects); $ctrl._selectsService.setItemsNumber($ctrl.infiniteScrollSettings, hash)"\n                   class="select-default _gray f-student-points__select"\n                   ng-attr-id="{{\'_\' + hash}}"\n                   uis-open-close="$ctrl._selectsService.handleSelectToggling(hash, $ctrl.infiniteScrollSettings)"\n                   search-enabled="true"\n                   required\n                   field-name="status">\n          <ui-select-match placeholder="{{$ctrl._windowWidthService.windowWidth > $ctrl._deviceMarginConstants.MOBILE_MARGIN ? \'Status *\' : $ctrl.local.placeholders.unrequiredField + \' *\'}}">\n            {{$select.selected.name}}\n          </ui-select-match>\n          <ui-select-choices repeat="status in $ctrl.local.statuses | filter:{name:$select.search} | limitTo:$ctrl.selects[hash].currentItems track by $index"\n                             infinite-scroll="$ctrl._selectsService.addNewItemsToSelect($ctrl.selects[hash], $ctrl.infiniteScrollSettings.numToAdd)"\n                             infinite-scroll-container="\'#_\' + hash + \' .ui-select-choices-content\'">\n            <span>{{status.name}}</span>\n          </ui-select-choices>\n        </ui-select>\n\n        <div class="f-default__select-mobile-wrap">\n          <select class="f-default__select-mobile f-student-points__select-mobile"\n                  ng-model="$ctrl.selectedFields.status"\n                  required\n                  field-name="status"\n                  ng-options="item as item.name for item in $ctrl.local.statuses">\n            <option value="" selected disabled hidden>\n              {{$ctrl._windowWidthService.windowWidth > $ctrl._deviceMarginConstants.MOBILE_MARGIN ? \'Status *\' : \'Status\'}}\n            </option>\n          </select>\n        </div>\n      </div>\n\n      <div class="f-student-points__col">\n        <div class="f-student-points__label">Points *</div>\n        <b-input-container>\n          <label class="f-student-points__label" float-label>Points</label>\n          <input ng-model="$ctrl.selectedFields.points"\n            class="f-default__input"\n            ng-disabled="!$ctrl._behaviourDataService.data.behaviourPointsEditable"\n            with-float-label\n            required\n            placeholder="{{ $ctrl._windowWidthService.windowWidth > $ctrl._deviceMarginConstants.MOBILE_MARGIN ? \'\' : \'Points\' }}"\n            field-name="points">\n        </b-input-container>\n      </div>\n\n      <div class="f-student-points__col"\n           ng-if="$ctrl._behaviourDataService.behaviourAchievementLookups.detentionmanagement_enabled\n           && !$ctrl._behaviourDataService.isBehaviourFieldHide(\'detention\')">\n        <label class="f-student-points__label">Detention</label>\n        <ui-select ng-model="$ctrl.selectedFields.selectedSession"\n                   on-select="$ctrl.onSelect($select)"\n                   ng-init="hash = $ctrl._selectsService.generateHash($ctrl.selects); $ctrl._selectsService.setItemsNumber($ctrl.infiniteScrollSettings, hash)"\n                   uis-open-close="$ctrl._selectsService.handleSelectToggling(hash, $ctrl.infiniteScrollSettings)"\n                   ng-change="$ctrl.selectDetention()"\n                   theme="selectize"\n                   class="select-default _gray f-student-points__select"\n                   ng-attr-id="{{\'_\' + hash}}"\n                   search-enabled="true"\n                   field-name="detention">\n          <ui-select-match placeholder="Detention">\n            {{$select.selected.sessionData}}\n          </ui-select-match>\n          <ui-select-choices repeat="detention in $ctrl._detentionsService.sessions | filter:{sessionData:$select.search} | limitTo:$ctrl.selects[hash].currentItems track by $index"\n                             infinite-scroll="$ctrl._selectsService.addNewItemsToSelect($ctrl.selects[hash], $ctrl.infiniteScrollSettings.numToAdd)"\n                             infinite-scroll-container="\'#_\' + hash + \' .ui-select-choices-content\'">\n            <span>\n              {{detention.sessionData}}\n            </span>\n          </ui-select-choices>\n        </ui-select>\n\n        <div class="f-default__select-mobile-wrap">\n          <select class="f-default__select-mobile f-student-points__select-mobile"\n                  ng-model="$ctrl.selectedFields.selectedSession"\n                  ng-change="$ctrl.selectDetention()"\n                  field-name="detention">\n            <option value="" selected>Detention</option>\n            <option ng-repeat="item in $ctrl._detentionsService.sessions" ng-value="item">{{item.sessionData}}</option>\n          </select>\n        </div>\n      </div>\n\n      <div class="f-student-points__col" ng-if="$ctrl._windowWidthService.windowWidth <= $ctrl._deviceMarginConstants.MOBILE_MARGIN">\n        <label class="f-student-points__label">Comments</label>\n        <input class="f-default__input"\n               maxlength="{{$ctrl.local.behaviourCommentLengthLimit}}"\n               ng-model="$ctrl.selectedFields.comment"\n               placeholder="Add comment"\n               ng-required="$ctrl.isRequired($ctrl._behaviourDataService.behaviourAchievementLookups.behaviour_require_fields, \'comments\')"\n        >\n      </div>\n\n    </div>\n\n    <div class="f-student-points__row"\n         ng-if="$ctrl._windowWidthService.windowWidth > $ctrl._deviceMarginConstants.MOBILE_MARGIN">\n      <textarea class="f-default__textarea"\n                maxlength="{{$ctrl.local.behaviourCommentLengthLimit}}"\n                ng-model="$ctrl.selectedFields.comment"\n                placeholder="Add comment"\n                ng-required="$ctrl.isRequired($ctrl._behaviourDataService.behaviourAchievementLookups.behaviour_require_fields, \'comments\')"\n      ></textarea>\n    </div>\n\n    <div class="f-student-points__separator" ng-if="$ctrl.local.hiddenBehaviourFields.length" ng-click="$ctrl.toggleAdditionalBlockVisibility()">\n      <div class="f-student-points__separator-title" ng-class="{ \'_visible\': $ctrl.local.isAdditionalBlockVisible}">Additional fields</div>\n    </div>\n    <div class="f-student-points__row _col-wrap" ng-show="$ctrl.local.isAdditionalBlockVisible">\n      <div class="f-student-points__col" ng-if="$ctrl.local.hiddenBehaviourFields.indexOf(\'additionaltype\') !== -1">\n        <label class="f-student-points__label">Additional Types</label>\n        <div ng-dropdown-multiselect\n             class="f-student-points__multiselect"\n             options="$ctrl.local.additionalBehaviourTypes"\n             events="$ctrl.multipleSelects.behaviourEvents"\n             selected-model="$ctrl.selectedFields.behaviourAdditionalTypes"\n             translation-texts="$ctrl.multipleSelects.translation"\n             extra-settings="$ctrl.multipleSelects.settings"\n        ></div>\n\n        <div class="f-default__select-mobile-wrap _multiple">\n          <select class="f-default__select-mobile f-student-points__select-mobile"\n                  ng-change="$ctrl.setCurrentSummaryBehaviourPoints()"\n                  ng-model="$ctrl.selectedFields.behaviourAdditionalTypes"\n                  multiple>\n            <option value="" selected disabled hidden>{{$ctrl._windowWidthService.windowWidth > $ctrl._deviceMarginConstants.MOBILE_MARGIN ? \'Additional Type\' : $ctrl.local.placeholders.requiredField}}</option>\n            <option ng-repeat="type in $ctrl.local.additionalBehaviourTypes" ng-value="type">{{type.description}}</option>\n          </select>\n        </div>\n      </div>\n\n      <div class="f-student-points__col" ng-if="$ctrl.local.hiddenBehaviourFields.indexOf(\'bullyingtype\') !== -1">\n        <label class="f-student-points__label">Bullying Type</label>\n        <ui-select ng-model="$ctrl.selectedFields.bullyingType"\n                   on-select="$ctrl.onSelect($select)"\n                   theme="selectize"\n                   ng-init="hash = $ctrl._selectsService.generateHash($ctrl.selects); $ctrl._selectsService.setItemsNumber($ctrl.infiniteScrollSettings, hash)"\n                   uis-open-close="$ctrl._selectsService.handleSelectToggling(hash, $ctrl.infiniteScrollSettings)"\n                   ng-disabled="!$ctrl.local.isBullyingType"\n                   class="select-default _gray f-student-points__select"\n                   ng-attr-id="{{\'_\' + hash}}"\n                   search-enabled="true">\n          <ui-select-match placeholder="{{$ctrl._windowWidthService.windowWidth > $ctrl._deviceMarginConstants.MOBILE_MARGIN ? \'Bullying Type\' : $ctrl.local.placeholders.unrequiredField}}">\n            {{$select.selected.name}}\n          </ui-select-match>\n          <ui-select-choices repeat="bully in $ctrl.local.bullyingTypes | filter:{name:$select.search} | limitTo:$ctrl.selects[hash].currentItems track by $index"\n                             infinite-scroll="$ctrl._selectsService.addNewItemsToSelect($ctrl.selects[hash], $ctrl.infiniteScrollSettings.numToAdd)"\n                             infinite-scroll-container="\'#_\' + hash + \' .ui-select-choices-content\'">\n            <span>{{bully.name}}</span>\n          </ui-select-choices>\n        </ui-select>\n\n        <div class="f-default__select-mobile-wrap">\n          <select class="f-default__select-mobile f-student-points__select-mobile"\n                  ng-disabled="!$ctrl.local.isBullyingType"\n                  ng-options="item as item.name for item in $ctrl.local.bullyingTypes"\n                  ng-model="$ctrl.selectedFields.bullyingType"\n          >\n            <option value="" selected>Bullying Type</option>\n          </select>\n        </div>\n      </div>\n\n      <div class="f-student-points__col" ng-if="$ctrl.local.hiddenBehaviourFields.indexOf(\'activity\') !== -1">\n        <label class="f-student-points__label">Activity Type</label>\n        <ui-select ng-model="$ctrl.selectedFields.activity"\n                   on-select="$ctrl.onSelect($select)"\n                   theme="selectize"\n                   ng-init="hash = $ctrl._selectsService.generateHash($ctrl.selects); $ctrl._selectsService.setItemsNumber($ctrl.infiniteScrollSettings, hash)"\n                   uis-open-close="$ctrl._selectsService.handleSelectToggling(hash, $ctrl.infiniteScrollSettings)"\n                   class="select-default _gray f-student-points__select"\n                   ng-attr-id="{{\'_\' + hash}}"\n                   ng-required="$ctrl.isRequired($ctrl._behaviourDataService.behaviourAchievementLookups.behaviour_require_fields, \'activity_id\')"\n                   search-enabled="true">\n          <ui-select-match placeholder="{{$ctrl._windowWidthService.windowWidth > $ctrl._deviceMarginConstants.MOBILE_MARGIN  ? \'Activity\' : $ctrl.local.placeholders.requiredField }}">\n            {{$select.selected.description}}\n          </ui-select-match>\n          <ui-select-choices repeat="activity in $ctrl.local.activityTypes | filter:{description:$select.search} | limitTo:$ctrl.selects[hash].currentItems track by $index"\n                             infinite-scroll="$ctrl._selectsService.addNewItemsToSelect($ctrl.selects[hash], $ctrl.infiniteScrollSettings.numToAdd)"\n                             infinite-scroll-container="\'#_\' + hash + \' .ui-select-choices-content\'">\n            <span>{{activity.description}}</span>\n          </ui-select-choices>\n        </ui-select>\n        <div class="f-default__select-mobile-wrap">\n          <select class="f-default__select-mobile f-student-points__select-mobile"\n                  ng-required="$ctrl.isRequired($ctrl._behaviourDataService.behaviourAchievementLookups.behaviour_require_fields, \'activity_id\')"\n                  ng-options="item as item.description for item in $ctrl.local.activityTypes"\n                  ng-model="$ctrl.selectedFields.activity"\n          >\n            <option value="" selected>Activity</option>\n          </select>\n        </div>\n      </div>\n\n      <div class="f-student-points__col" ng-if="$ctrl.local.hiddenBehaviourFields.indexOf(\'action\') !== -1">\n        <label class="f-student-points__label">Action Taken</label>\n        <ui-select ng-model="$ctrl.selectedFields.actionTaken"\n                   on-select="$ctrl.onSelect($select)"\n                   theme="selectize"\n                   ng-init="hash = $ctrl._selectsService.generateHash($ctrl.selects); $ctrl._selectsService.setItemsNumber($ctrl.infiniteScrollSettings, hash)"\n                   uis-open-close="$ctrl._selectsService.handleSelectToggling(hash, $ctrl.infiniteScrollSettings)"\n                   class="select-default _gray f-student-points__select"\n                   ng-attr-id="{{\'_\' + hash}}"\n                   ng-required="$ctrl.isRequired($ctrl._behaviourDataService.behaviourAchievementLookups.behaviour_require_fields, \'action_id\')"\n                   search-enabled="true">\n          <ui-select-match placeholder="{{$ctrl._windowWidthService.windowWidth > $ctrl._deviceMarginConstants.MOBILE_MARGIN ? \'Action Taken\' : $ctrl.local.placeholders.unrequiredField}}">\n            {{$select.selected.name}}\n          </ui-select-match>\n          <ui-select-choices repeat="action in $ctrl.local.actionsTaken | filter:{name:$select.search} | limitTo:$ctrl.selects[hash].currentItems track by $index"\n                             infinite-scroll="$ctrl._selectsService.addNewItemsToSelect($ctrl.selects[hash], $ctrl.infiniteScrollSettings.numToAdd)"\n                             infinite-scroll-container="\'#_\' + hash + \' .ui-select-choices-content\'">\n            <span>{{action.name}}</span>\n          </ui-select-choices>\n        </ui-select>\n        <div class="f-default__select-mobile-wrap">\n          <select class="f-default__select-mobile f-student-points__select-mobile"\n                  ng-required="$ctrl.isRequired($ctrl._behaviourDataService.behaviourAchievementLookups.behaviour_require_fields, \'action_id\')"\n                  ng-options="item as item.name for item in $ctrl.local.actionsTaken"\n                  ng-model="$ctrl.selectedFields.actionTaken"\n          >\n            <option value="" selected>Action Taken</option>\n          </select>\n        </div>\n      </div>\n\n      <div class="f-student-points__col" ng-if="$ctrl.local.hiddenBehaviourFields.indexOf(\'location\') !== -1">\n        <label class="f-student-points__label">Location</label>\n        <ui-select ng-model="$ctrl.selectedFields.location"\n                   on-select="$ctrl.onSelect($select)"\n                   theme="selectize"\n                   ng-init="hash = $ctrl._selectsService.generateHash($ctrl.selects); $ctrl._selectsService.setItemsNumber($ctrl.infiniteScrollSettings, hash)"\n                   uis-open-close="$ctrl._selectsService.handleSelectToggling(hash, $ctrl.infiniteScrollSettings)"\n                   class="select-default _gray f-student-points__select"\n                   ng-attr-id="{{\'_\' + hash}}"\n                   ng-required="$ctrl.isRequired($ctrl._behaviourDataService.behaviourAchievementLookups.behaviour_require_fields, \'location_id\')"\n                   search-enabled="true">\n          <ui-select-match placeholder="{{$ctrl._windowWidthService.windowWidth > $ctrl._deviceMarginConstants.MOBILE_MARGIN ? \'Location\' : $ctrl.local.placeholders.unrequiredField}}">\n            {{$select.selected.name}}\n          </ui-select-match>\n          <ui-select-choices repeat="location in $ctrl.local.locations | filter:{name:$select.search} | limitTo:$ctrl.selects[hash].currentItems track by $index"\n                             infinite-scroll="$ctrl._selectsService.addNewItemsToSelect($ctrl.selects[hash], $ctrl.infiniteScrollSettings.numToAdd)"\n                             infinite-scroll-container="\'#_\' + hash + \' .ui-select-choices-content\'">\n            <span>{{location.name}}</span>\n          </ui-select-choices>\n        </ui-select>\n        <div class="f-default__select-mobile-wrap">\n          <select class="f-default__select-mobile f-student-points__select-mobile"\n                  ng-required="$ctrl.isRequired($ctrl._behaviourDataService.behaviourAchievementLookups.behaviour_require_fields, \'location_id\')"\n                  ng-options="item as item.name for item in $ctrl.local.locations"\n                  ng-model="$ctrl.selectedFields.location"\n          >\n            <option value="" selected>Location</option>\n          </select>\n        </div>\n      </div>\n\n      <div class="f-student-points__col" ng-if="$ctrl.local.hiddenBehaviourFields.indexOf(\'actiondate\') !== -1">\n        <div class="f-student-points__label">Action Taken Date</div>\n        <b-date-time-select class="f-student-points__date"\n          format="{{::$ctrl._dateService.getDateFormat(\'apiDate\')}}"\n          visible-date-format="{{::$ctrl._dateService.getDateFormat(\'momentDate\')}}"\n          is-required="$ctrl.isRequired($ctrl._behaviourDataService.behaviourAchievementLookups.behaviour_require_fields, \'action_date\')"\n          name="dateOfAction"\n          label="Action Taken Date"\n          placeholder="{{$ctrl.local.placeholders.dateOfAction}}"\n          date="$ctrl.selectedFields.dateOfAction"></b-date-time-select>\n      </div>\n\n      <div class="f-student-points__col" ng-if="$ctrl.local.hiddenBehaviourFields.indexOf(\'actionemployee\') !== -1">\n        <label class="f-student-points__label">Actioned By</label>\n        <ui-select ng-model="$ctrl.selectedFields.actionedBy"\n                   on-select="$ctrl.onSelect($select)"\n                   theme="selectize"\n                   ng-init="hash = $ctrl._selectsService.generateHash($ctrl.selects); $ctrl._selectsService.setItemsNumber($ctrl.infiniteScrollSettings, hash)"\n                   uis-open-close="$ctrl._selectsService.handleSelectToggling(hash, $ctrl.infiniteScrollSettings)"\n                   class="select-default _gray f-student-points__select"\n                   ng-attr-id="{{\'_\' + hash}}"\n                   ng-required="$ctrl.isRequired($ctrl._behaviourDataService.behaviourAchievementLookups.behaviour_require_fields, \'action_employee_id\')"\n                   search-enabled="true">\n          <ui-select-match placeholder="{{$ctrl._windowWidthService.windowWidth > $ctrl._deviceMarginConstants.MOBILE_MARGIN ? \'Actioned By\' : $ctrl.local.placeholders.unrequiredField}}">\n            {{$select.selected.fullName}}\n          </ui-select-match>\n          <ui-select-choices repeat="teacher in $ctrl.local.actionBy | filter:{fullName:$select.search} | limitTo:$ctrl.selects[hash].currentItems track by $index"\n                             infinite-scroll="$ctrl._selectsService.addNewItemsToSelect($ctrl.selects[hash], $ctrl.infiniteScrollSettings.numToAdd)"\n                             infinite-scroll-container="\'#_\' + hash + \' .ui-select-choices-content\'">\n            <span>{{teacher.fullName}}</span>\n          </ui-select-choices>\n        </ui-select>\n        <div class="f-default__select-mobile-wrap">\n          <select class="f-default__select-mobile f-student-points__select-mobile"\n                  ng-required="$ctrl.isRequired($ctrl._behaviourDataService.behaviourAchievementLookups.behaviour_require_fields, \'action_employee_id\')"\n                  ng-options="item as item.fullName for item in $ctrl.local.actionBy"\n                  ng-model="$ctrl.selectedFields.actionedBy"\n          >\n            <option value="" selected>Actioned By</option>\n          </select>\n        </div>\n      </div>\n\n      <div class="f-student-points__col" ng-if="$ctrl.local.hiddenBehaviourFields.indexOf(\'time\') !== -1">\n        <label class="f-student-points__label">Time</label>\n        <ui-select ng-model="$ctrl.selectedFields.time"\n                   on-select="$ctrl.onSelect($select)"\n                   theme="selectize"\n                   ng-init="hash = $ctrl._selectsService.generateHash($ctrl.selects); $ctrl._selectsService.setItemsNumber($ctrl.infiniteScrollSettings, hash)"\n                   uis-open-close="$ctrl._selectsService.handleSelectToggling(hash, $ctrl.infiniteScrollSettings)"\n                   class="select-default _gray f-student-points__select"\n                   ng-attr-id="{{\'_\' + hash}}"\n                   ng-required="$ctrl.isRequired($ctrl._behaviourDataService.behaviourAchievementLookups.behaviour_require_fields, \'time_id\')"\n                   search-enabled="true">\n          <ui-select-match placeholder="{{$ctrl._windowWidthService.windowWidth > $ctrl._deviceMarginConstants.MOBILE_MARGIN ? \'Time\' : $ctrl.local.placeholders.unrequiredField}}">\n            {{$select.selected.name}}\n          </ui-select-match>\n          <ui-select-choices repeat="time in $ctrl.local.times | filter:{name:$select.search} | limitTo:$ctrl.selects[hash].currentItems track by $index"\n                             infinite-scroll="$ctrl._selectsService.addNewItemsToSelect($ctrl.selects[hash], $ctrl.infiniteScrollSettings.numToAdd)"\n                             infinite-scroll-container="\'#_\' + hash + \' .ui-select-choices-content\'">\n            <span>{{time.name}}</span>\n          </ui-select-choices>\n        </ui-select>\n        <div class="f-default__select-mobile-wrap">\n          <select class="f-default__select-mobile f-student-points__select-mobile"\n                  ng-required="$ctrl.isRequired($ctrl._behaviourDataService.behaviourAchievementLookups.behaviour_require_fields, \'time_id\')"\n                  ng-options="item as item.name for item in $ctrl.local.times"\n                  ng-model="$ctrl.selectedFields.time"\n          >\n            <option value="" selected>Time</option>\n          </select>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div class="f-student-points__top"\n       ng-if="$ctrl.fullStateName === \'behaviour.points-achievement\' || $ctrl.fullStateName === \'student.behaviour.points-achievement\'\n        || $ctrl.type === \'achievement\'">\n    <div class="f-student-points__row _col-wrap">\n      <div class="f-student-points__col">\n        <label class="f-student-points__label">Achievement Type *</label>\n        <ui-select ng-model="$ctrl.local.typeId"\n                   ng-init="hash = $ctrl._selectsService.generateHash($ctrl.selects); $ctrl._selectsService.setItemsNumber($ctrl.infiniteScrollSettings, hash)"\n                   ng-change="$ctrl.setAchievementPrimaryTypeById($ctrl.local.typeId); $ctrl.deleteItemFromAchievementAdditionalType(); $ctrl.setCurrentAchievementSummaryPoints()"\n                   uis-open-close="$ctrl._selectsService.handleSelectToggling(hash, $ctrl.infiniteScrollSettings)"\n                   theme="selectize"\n                   class="select-default _gray f-student-points__select"\n                   ng-attr-id="{{\'_\' + hash}}"\n                   search-enabled="true"\n                   required\n                   field-name="achievementPrimaryType">\n          <ui-select-match placeholder="{{ $ctrl._windowWidthService.windowWidth > $ctrl._deviceMarginConstants.MOBILE_MARGIN ? \'Achievement Type *\' : $ctrl.local.placeholders.requiredField + \' *\' }}">\n            {{$select.selected.description}}\n          </ui-select-match>\n          <ui-select-choices repeat="achievementType.id as achievementType in $ctrl.local.primaryAchievementTypes | filter:{description:$select.search} | limitTo:$ctrl.selects[hash].currentItems track by $index"\n                             infinite-scroll="$ctrl._selectsService.addNewItemsToSelect($ctrl.selects[hash], $ctrl.infiniteScrollSettings.numToAdd)"\n                             infinite-scroll-container="\'#_\' + hash + \' .ui-select-choices-content\'">\n            <span>{{achievementType.description}}</span>\n          </ui-select-choices>\n        </ui-select>\n\n        <div class="f-default__select-mobile-wrap">\n          <select class="f-default__select-mobile f-student-points__select-mobile"\n                  ng-model="$ctrl.local.typeId"\n                  ng-change="$ctrl.setAchievementPrimaryTypeById($ctrl.local.typeId); $ctrl.deleteItemFromAchievementAdditionalType(); $ctrl.setCurrentAchievementSummaryPoints()"\n                  required\n                  ng-options="item.id as item.description for item in $ctrl.local.primaryAchievementTypes"\n                  field-name="achievementPrimaryType">\n            <option value="" selected disabled hidden>\n              {{$ctrl._windowWidthService.windowWidth > $ctrl._deviceMarginConstants.MOBILE_MARGIN ? \'Achievement Type *\' : \'Achievement Type\'}}\n            </option>\n          </select>\n        </div>\n      </div>\n      <div class="f-student-points__col" ng-if="$ctrl.local.hiddenBehaviourFields.indexOf(\'additionaltype\') === -1">\n        <label class="f-student-points__label">Additional Types</label>\n        <div ng-dropdown-multiselect\n             class="f-student-points__multiselect"\n             options="$ctrl.local.additionalAchievementTypes"\n             events="$ctrl.multipleSelects.achievementEvents"\n             selected-model="$ctrl.selectedFields.achievementAdditionalTypes"\n             translation-texts="$ctrl.multipleSelects.translation"\n             extra-settings="$ctrl.multipleSelects.settings"\n        ></div>\n\n        <div class="f-default__select-mobile-wrap _multiple">\n          <select class="f-default__select-mobile f-student-points__select-mobile"\n                  ng-model="$ctrl.selectedFields.achievementAdditionalTypes"\n                  ng-change="$ctrl.setCurrentAchievementSummaryPoints()"\n                  multiple>\n            <option value="" selected disabled hidden>{{$ctrl.local.placeholders.requiredField}}</option>\n            <option ng-repeat="achievementType in $ctrl.local.additionalAchievementTypes" ng-value="achievementType">\n              {{achievementType.description}}\n            </option>\n          </select>\n        </div>\n      </div>\n      <div class="f-student-points__col" ng-if="$ctrl.local.hiddenBehaviourFields.indexOf(\'activity\') === -1">\n        <label class="f-student-points__label">Activity Type</label>\n        <ui-select ng-model="$ctrl.selectedFields.activity"\n                   on-select="$ctrl.onSelect($select)"\n                   theme="selectize"\n                   ng-init="hash = $ctrl._selectsService.generateHash($ctrl.selects); $ctrl._selectsService.setItemsNumber($ctrl.infiniteScrollSettings, hash)"\n                   uis-open-close="$ctrl._selectsService.handleSelectToggling(hash, $ctrl.infiniteScrollSettings)"\n                   class="select-default _gray f-student-points__select"\n                   ng-attr-id="{{\'_\' + hash}}"\n                   ng-required="$ctrl.isRequired($ctrl._behaviourDataService.behaviourAchievementLookups.achievement_require_fields, \'activity_id\')"\n                   search-enabled="true">\n          <ui-select-match placeholder="{{$ctrl._windowWidthService.windowWidth > $ctrl._deviceMarginConstants.MOBILE_MARGIN  ? \'Activity\' : $ctrl.local.placeholders.requiredField }}">\n            {{$select.selected.description}}\n          </ui-select-match>\n          <ui-select-choices repeat="activity in $ctrl.local.achievementActivityTypes | filter:{description:$select.search} | filter: { active: true } | limitTo:$ctrl.selects[hash].currentItems track by $index"\n                             infinite-scroll="$ctrl._selectsService.addNewItemsToSelect($ctrl.selects[hash], $ctrl.infiniteScrollSettings.numToAdd)"\n                             infinite-scroll-container="\'#_\' + hash + \' .ui-select-choices-content\'">\n            <span>{{activity.description}}</span>\n          </ui-select-choices>\n        </ui-select>\n        <div class="f-default__select-mobile-wrap">\n          <select class="f-default__select-mobile f-student-points__select-mobile"\n                  ng-model="$ctrl.selectedFields.activity"\n                  ng-required="$ctrl.isRequired($ctrl._behaviourDataService.behaviourAchievementLookups.achievement_require_fields, \'activity_id\')"\n          >\n            <option value="" selected>Activity</option>\n            <option ng-repeat="item in $ctrl.local.achievementActivityTypes"\n                    ng-hide="!item.active"\n                    ng-value="item">\n              {{ ::item.description }}\n            </option>\n          </select>\n        </div>\n      </div>\n      <div class="f-student-points__col">\n        <div class="f-student-points__label">Points *</div>\n        <b-input-container>\n          <label class="f-student-points__label" float-label>Points</label>\n          <input ng-model="$ctrl.selectedFields.points"\n            class="f-default__input"\n            ng-disabled="!$ctrl._behaviourDataService.data.achievementPointsEditable"\n            with-float-label\n            required\n            placeholder="{{ $ctrl._windowWidthService.windowWidth > $ctrl._deviceMarginConstants.MOBILE_MARGIN ? \'\' : \'Points\' }}"\n            field-name="points">\n        </b-input-container>\n      </div>\n      <div class="f-student-points__col">\n        <label class="f-student-points__label">Date</label>\n        <b-date-time-select class="f-student-points__date"\n          format="{{::$ctrl._dateService.getDateFormat(\'apiDate\')}}"\n          visible-date-format="{{::$ctrl._dateService.getDateFormat(\'momentDate\')}}"\n          name="date"\n          label="Date"\n          placeholder="{{$ctrl.local.placeholders.date}}"\n          date="$ctrl.selectedFields.date"></b-date-time-select>\n      </div>\n\n      <div class="f-student-points__col" ng-if="$ctrl._windowWidthService.windowWidth <= $ctrl._deviceMarginConstants.MOBILE_MARGIN">\n        <label class="f-student-points__label">Comments</label>\n        <input class="f-default__input"\n               maxlength="{{$ctrl.local.achievementCommentLengthLimit}}"\n               ng-model="$ctrl.selectedFields.comment"\n               placeholder="Add comment"\n               ng-required="$ctrl.isRequired($ctrl._behaviourDataService.behaviourAchievementLookups.achievement_require_fields, \'comments\')"\n        >\n      </div>\n    </div>\n    <div class="f-student-points__row"\n         ng-if="$ctrl._windowWidthService.windowWidth > $ctrl._deviceMarginConstants.MOBILE_MARGIN">\n      <textarea class="f-default__textarea"\n                maxlength="{{$ctrl.local.achievementCommentLengthLimit}}"\n                ng-model="$ctrl.selectedFields.comment"\n                placeholder="Add comment"\n                ng-required="$ctrl.isRequired($ctrl._behaviourDataService.behaviourAchievementLookups.achievement_require_fields, \'comments\')"\n      ></textarea>\n    </div>\n    <div class="f-student-points__separator" ng-if="$ctrl.local.hiddenBehaviourFields.length" ng-click="$ctrl.toggleAdditionalBlockVisibility()">\n      <div class="f-student-points__separator-title" ng-class="{ \'_visible\': $ctrl.local.isAdditionalBlockVisible}">Additional fields</div>\n    </div>\n    <div class="f-student-points__row _col-wrap" ng-show="$ctrl.local.isAdditionalBlockVisible">\n      <div class="f-student-points__col" ng-if="$ctrl.local.hiddenBehaviourFields.indexOf(\'additionaltype\') !== -1">\n        <label class="f-student-points__label">Additional Types</label>\n        <div ng-dropdown-multiselect\n             class="f-student-points__multiselect"\n             options="$ctrl.local.additionalAchievementTypes"\n             events="$ctrl.multipleSelects.achievementEvents"\n             selected-model="$ctrl.selectedFields.achievementAdditionalTypes"\n             translation-texts="$ctrl.multipleSelects.translation"\n             extra-settings="$ctrl.multipleSelects.settings"\n        ></div>\n\n        <div class="f-default__select-mobile-wrap _multiple">\n          <select class="f-default__select-mobile f-student-points__select-mobile"\n                  ng-model="$ctrl.selectedFields.achievementAdditionalTypes"\n                  ng-change="$ctrl.setCurrentAchievementSummaryPoints()"\n                  multiple>\n            <option value="" selected disabled hidden>{{$ctrl.local.placeholders.requiredField}}</option>\n            <option ng-repeat="achievementType in $ctrl.local.additionalAchievementTypes" ng-value="achievementType">\n              {{achievementType.description}}\n            </option>\n          </select>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class="f-student-points__bottom">\n    <div class="f-student-points__row _col-wrap">\n      <div class="f-student-points__col">\n        <a ui-sref="behaviour.select-behaviour" class="btn btn-default _gray _fill _hide-mobile" ng-if="$ctrl.fullStateName === \'behaviour.points-behaviour\'">Cancel</a>\n        <a ui-sref="student.behaviour.summary-behaviour-points" class="btn btn-default _gray _fill _hide-mobile" ng-if="$ctrl.fullStateName === \'student.behaviour.points-behaviour\'">Cancel</a>\n        <a ui-sref="behaviour.select-achievement" class="btn btn-default _gray _fill _hide-mobile" ng-if="$ctrl.fullStateName === \'behaviour.points-achievement\'">Cancel</a>\n        <a ui-sref="student.behaviour.summary-achievement-points" class="btn btn-default _gray _fill _hide-mobile" ng-if="$ctrl.fullStateName === \'student.behaviour.points-achievement\'">Cancel</a>\n      </div>\n      <div class="f-student-points__col">\n        <button type="submit"\n                class="btn btn-default"\n                ng-disabled="$ctrl.isSending"\n                ng-class="{ \'_submit\' : $ctrl._windowWidthService.windowWidth > $ctrl._deviceMarginConstants.MOBILE_MARGIN,\n                            \'_gradient\' : $ctrl._windowWidthService.windowWidth <= $ctrl._deviceMarginConstants.MOBILE_MARGIN}"\n                ng-if="$ctrl.fullStateName === \'behaviour.points-behaviour\' || $ctrl.fullStateName === \'student.behaviour.points-behaviour\' || $ctrl.type === \'behaviour\'"\n                ng-click="$ctrl.submitDataBehaviour(studentPointsForm)"\n        >Submit Behaviour</button>\n\n        <button type="submit"\n                class="btn btn-default"\n                ng-disabled="$ctrl.isSending"\n                ng-class="{ \'_submit\' : $ctrl._windowWidthService.windowWidth > $ctrl._deviceMarginConstants.MOBILE_MARGIN,\n                            \'_gradient\' : $ctrl._windowWidthService.windowWidth <= $ctrl._deviceMarginConstants.MOBILE_MARGIN}"\n                ng-if="$ctrl.fullStateName === \'behaviour.points-achievement\' || $ctrl.fullStateName === \'student.behaviour.points-achievement\' || $ctrl.type === \'achievement\'"\n                ng-click="$ctrl.submitDataAchievement(studentPointsForm)"\n\n        >Submit Achievement</button>\n      </div>\n    </div>\n  </div>\n</form>\n\n\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = o(t(26)),
        i = o(t(43)),
        a = o(t(11)),
        s = o(t(1)),
        r = o(t(2));

    function o(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var l = function() {
        function e(t, n, i, r, o, l, c, d, u, _, f, v, m, h, p, g, b, S, y, k, M) {
            "ngInject";
            var w = this;
            (0, s.default)(this, e), this._windowWidthService = d, this._detectDeviceService = l, this._behaviourDataService = o, this._detentionsService = c, this._routeClassService = i, this._modalDefaultService = n, this._$scope = t, this._$stateParams = k, this._$filter = _, this._deviceMarginConstants = f, this._userService = v, this._teachersService = p, this._calendarService = u, this._studentsService = g, this._requestService = b, this._notificationService = S, this._registersService = m, this._$state = y, this._$timeout = r, this._selectsService = h, this._dateService = M, this.behaviourAchievementLookups = this._behaviourDataService.behaviourAchievementLookups, this.selectedFields = {}, this.local = {
                typeId: null,
                currentSession: null,
                additionalBehaviourTypes: this.behaviourAchievementLookups.behaviour_types.slice(1).filter(function(e) {
                    return e.active
                }),
                additionalAchievementTypes: this.behaviourAchievementLookups.achievement_types.slice(1).filter(function(e) {
                    return e.active
                }),
                achievementActivityTypes: this.behaviourAchievementLookups.achievement_activity_types.filter(function(e) {
                    return e.active
                }),
                achivementAwardTypes: this.behaviourAchievementLookups.achievement_award_types,
                actionBy: this._detectDeviceService.desktop ? [{
                    isDefault: !0,
                    id: -1,
                    fullName: "Actioned By"
                }].concat((0, a.default)(this._teachersService.teachers)) : this._teachersService.teachers,
                actionsTaken: this.behaviourAchievementLookups.behaviour_actions_taken,
                activityTypes: this.behaviourAchievementLookups.behaviour_activity_types.filter(function(e) {
                    return e.active
                }),
                bullyingTypes: this.behaviourAchievementLookups.behaviour_bullying_types,
                employeeReporting: [this._userService.user],
                primaryBehaviourTypes: this.behaviourAchievementLookups.behaviour_types.filter(function(e) {
                    return e.active
                }),
                primaryAchievementTypes: this.behaviourAchievementLookups.achievement_types.filter(function(e) {
                    return e.active
                }),
                primaryBehaviourType: this.behaviourAchievementLookups.behaviour_types,
                locations: this.behaviourAchievementLookups.behaviour_locations,
                statuses: this.behaviourAchievementLookups.behaviour_statuses,
                times: this.behaviourAchievementLookups.behaviour_times,
                requiredBehaviourFields: ["behaviourPrimaryType", "status", "points", "date"],
                requiredAchievementFields: ["achievementPrimaryType", "points", "date"],
                isBullyingType: !1,
                placeholders: {
                    requiredField: "Please Select",
                    unrequiredField: "Not Select",
                    dateOfAction: this._windowWidthService.windowWidth > this._deviceMarginConstants.MOBILE_MARGIN ? "" : "Action Taken Date",
                    date: this._windowWidthService.windowWidth > this._deviceMarginConstants.MOBILE_MARGIN ? "" : "Date"
                },
                hiddenBehaviourFields: [],
                isAdditionalBlockVisible: !1,
                behaviourCommentLengthLimit: 500,
                achievementCommentLengthLimit: 500,
                multipleSelects: {
                    settings: {
                        smartButtonMaxItems: 5,
                        scrollableHeight: "255px",
                        scrollable: !0,
                        enableSearch: !0,
                        displayProp: "description",
                        checkBoxes: !0,
                        showCheckAll: !1
                    },
                    translation: {
                        buttonDefaultText: "Additional Types"
                    },
                    achievementEvents: {
                        onItemSelect: function() {
                            w.onAchievementSelectChange()
                        },
                        onItemDeselect: function() {
                            w.onAchievementSelectChange()
                        },
                        onSelectAll: function() {
                            w.onAchievementSelectChange()
                        },
                        onDeselectAll: function() {
                            w.onAchievementSelectChange()
                        }
                    },
                    behaviourEvents: {
                        onItemSelect: function() {
                            w.onBehaviourSelectChange()
                        },
                        onItemDeselect: function() {
                            w.onBehaviourSelectChange()
                        },
                        onSelectAll: function() {
                            w.onBehaviourSelectChange()
                        },
                        onDeselectAll: function() {
                            w.onBehaviourSelectChange()
                        }
                    }
                },
                infiniteScrollSettings: this._selectsService.getInfiniteScrollSettings(),
                isSending: !1
            }, this.selectedFields.achievementAdditionalTypes = [], this.selectedFields.behaviourAdditionalTypes = [], this.setDate(new Date)
        }
        return e.$inject = ["$scope", "modalDefaultService", "routeClassService", "$timeout", "behaviourDataService", "detectDeviceService", "detentionsService", "windowWidthService", "calendarService", "$filter", "deviceMarginConstants", "userService", "registersService", "selectsService", "teachersService", "studentsService", "requestService", "notificationService", "$state", "$stateParams", "dateService"], (0, r.default)(e, [{
            key: "$onInit",
            value: function() {
                this.setHiddenFields()
            }
        }, {
            key: "setHiddenFields",
            value: function() {
                this.isBehaviour = "behaviour" === this.type || "behaviour" === this.pageType, this.local.hiddenBehaviourFields = this.isBehaviour ? this._behaviourDataService.hiddenFields.behaviour : this._behaviourDataService.hiddenFields.achievement
            }
        }, {
            key: "onSelect",
            value: function(e) {
                -1 === e.selected.id && (e.selected = null)
            }
        }, {
            key: "onAchievementSelectChange",
            value: function() {
                var e = this;
                this._$timeout(function() {
                    return e.setCurrentAchievementSummaryPoints()
                })
            }
        }, {
            key: "onBehaviourSelectChange",
            value: function() {
                var e = this;
                this._$timeout(function() {
                    return e.setCurrentSummaryBehaviourPoints()
                })
            }
        }, {
            key: "hideModal",
            value: function() {
                this._$scope.$emit("hideModal")
            }
        }, {
            key: "isRequired",
            value: function(e, t) {
                return -1 !== e.indexOf(t)
            }
        }, {
            key: "setDate",
            value: function(e) {
                this.selectedFields.date = moment(e).format(this._dateService.getDateFormat("apiDate"))
            }
        }, {
            key: "setBehaviourPrimaryTypeById",
            value: function(e) {
                e && (this.selectedFields.behaviourPrimaryType = this.behaviourAchievementLookups.behaviour_types.find(function(t) {
                    return t.id === e
                }))
            }
        }, {
            key: "setAchievementPrimaryTypeById",
            value: function(e) {
                e && (this.selectedFields.achievementPrimaryType = this.behaviourAchievementLookups.achievement_types.find(function(t) {
                    return t.id === e
                }))
            }
        }, {
            key: "submitDataBehaviour",
            value: function(e) {
                var t = this;
                if (e.$invalid) this._notificationService.showErrorNotification("Please fill required fields");
                else {
                    this.local.isSending = !0;
                    var s, r = this.selectedFields.date,
                        o = this.selectedFields.dateOfAction;
                    for (var l in s = {
                            learner_ids: this._studentsService.selectedStudents.map(function(e) {
                                return e.id
                            }),
                            type_ids: this.getIdOfData([this.selectedFields.behaviourPrimaryType].concat((0, a.default)(this.selectedFields.behaviourAdditionalTypes || []))),
                            bullying_type_id: this.getIdOfData(this.selectedFields.bullyingType),
                            points: this.selectedFields.points,
                            activity_id: this.getIdOfData(this.selectedFields.activity),
                            action_id: this.getIdOfData(this.selectedFields.actionTaken),
                            location_id: this.getIdOfData(this.selectedFields.location),
                            action_date: o,
                            date: r,
                            action_employee_id: this.getIdOfData(this.selectedFields.actionedBy),
                            time_id: this.getIdOfData(this.selectedFields.time),
                            status_id: this.getIdOfData(this.selectedFields.status),
                            comments: this.selectedFields.comment,
                            register_id: "behaviour" === this.type && this._registersService.register ? this._registersService.register.id : null
                        }) l && (!s[l] && 0 !== s[l] || -1 === s[l]) && (0, i.default)(s, l);
                    this._behaviourDataService.sendBehaviourData(s).then(function(e) {
                        t._notificationService.showSuccessNotification("Behaviour successfully submitted");
                        var i = !0;
                        if (t.selectedFields.selectedSession && "Detention" !== t.selectedFields.selectedSession.sessionData) {
                            i = !1;
                            var a = {
                                detention_session_id: t.local.currentSession.id,
                                learners: t.getDetentionData(e.params.Date, e.learners.written[(0, n.default)(e.learners.written)[0]].id),
                                format: 2
                            };
                            t._detentionsService.addLearner(a).then(function(e) {
                                t._notificationService.showSuccessNotification("Behaviour successfully submitted"), e.details.failed_learner_ids.length ? (t._notificationService.showErrorNotification("Choose another detention"), a.learners = a.learners.filter(function(t) {
                                    return e.details.failed_learner_ids.find(function(e) {
                                        return e === Number(t.id)
                                    })
                                }), t._modalDefaultService.showModalWithTemplates("modal-select-detention", {
                                    failed_learners: a.learners,
                                    at_max_capacity: e.details.at_max_capacity
                                }, "Select another detention")) : (t._notificationService.showSuccessNotification("Detention successfully added"), ["clubs", "registers"].includes(t._routeClassService.rootStateName) && t._studentsService.clearSelectedStudents())
                            })
                        }["clubs", "registers"].includes(t._routeClassService.rootStateName) ? (t.hideModal(), i && t._studentsService.clearSelectedStudents()) : "student" === t._routeClassService.rootStateName ? t._$state.transitionTo("student.behaviour.summary-behaviour-points", {
                            studentId: t._$stateParams.studentId
                        }, {
                            notify: !1
                        }) : t._$state.transitionTo("behaviour.search", {
                            notify: !1
                        })
                    }).catch(function() {
                        return t.local.isSending = !1
                    })
                }
            }
        }, {
            key: "getDetentionData",
            value: function(e, t) {
                var n = this;
                return this._studentsService.selectedStudents.map(function(i) {
                    return {
                        id: i.id,
                        incident_id: t,
                        reason_for_detention_id: n.selectedFields.behaviourPrimaryType.id,
                        incident_date: e,
                        attended_code: "NOR",
                        staff_comments: n.selectedFields.comment
                    }
                })
            }
        }, {
            key: "toggleAdditionalBlockVisibility",
            value: function() {
                this.local.isAdditionalBlockVisible = !this.local.isAdditionalBlockVisible
            }
        }, {
            key: "submitDataAchievement",
            value: function(e) {
                var t = this;
                if (e.$invalid) this._notificationService.showErrorNotification("Please fill required fields");
                else {
                    this.local.isSending = !0;
                    var n, s = this.selectedFields.date;
                    for (var r in n = {
                            learner_ids: this._studentsService.selectedStudents.map(function(e) {
                                return e.id
                            }),
                            type_ids: this.getIdOfData([this.selectedFields.achievementPrimaryType].concat((0, a.default)(this.selectedFields.achievementAdditionalTypes || []))),
                            activity_id: this.getIdOfData(this.selectedFields.activity),
                            date: s,
                            comments: this.selectedFields.comment,
                            points: this.selectedFields.points,
                            register_id: "achievement" === this.type && this._registersService.register ? this._registersService.register.id : null
                        }) r && (!n[r] && 0 !== n[r] || -1 === n[r]) && (0, i.default)(n, r);
                    this._behaviourDataService.sendAchievementData(n).then(function() {
                        t._notificationService.showSuccessNotification("Achievement successfully submitted"), "clubs" === t._routeClassService.rootStateName || "achievement" === t.type ? (t._studentsService.clearSelectedStudents(), t.hideModal()) : "student" === t._routeClassService.rootStateName ? t._$state.transitionTo("student.behaviour.summary-achievement-points", {
                            studentId: t._$stateParams.studentId
                        }, {
                            notify: !1
                        }) : t._$state.transitionTo("behaviour.search", {
                            notify: !1
                        })
                    }).catch(function() {
                        return t.local.isSending = !1
                    })
                }
            }
        }, {
            key: "getIdOfData",
            value: function(e) {
                if (e) {
                    if (angular.isArray(e)) {
                        var t = [];
                        return e.forEach(function(e) {
                            t.push(!!e.id && e.id)
                        }), t
                    }
                    return !!e.id && e.id
                }
                return null
            }
        }, {
            key: "selectDetention",
            value: function() {
                var e = this;
                this.selectedFields.selectedSession && "Detention" !== this.selectedFields.selectedSession.sessionData && this._detentionsService.fetchSession(this.selectedFields.selectedSession.id).then(function(t) {
                    e.local.currentSession = t
                })
            }
        }, {
            key: "checkBullyingType",
            value: function(e) {
                for (var t = 0; t < e.length; t++) {
                    var n = angular.fromJson(e[t]);
                    if (n && n.is_bullying_type) return !0
                }
                return !1
            }
        }, {
            key: "updateBullyingType",
            value: function() {
                var e = [this.selectedFields.behaviourPrimaryType].concat((0, a.default)(this.selectedFields.behaviourAdditionalTypes || []));
                this.local.isBullyingType = this.checkBullyingType(e)
            }
        }, {
            key: "deleteItemFromBehaviourAdditionalType",
            value: function() {
                var e = this;
                this.selectedFields.behaviourPrimaryType && (this.local.additionalBehaviourTypes = this.behaviourAchievementLookups.behaviour_types.slice(1).filter(function(t) {
                    return t.id !== e.selectedFields.behaviourPrimaryType.id
                }).filter(function(e) {
                    return e.active
                }), this.selectedFields.behaviourAdditionalTypes = this.selectedFields.behaviourAdditionalTypes.filter(function(t) {
                    return t.id !== e.selectedFields.behaviourPrimaryType.id
                }))
            }
        }, {
            key: "setCurrentSummaryBehaviourPoints",
            value: function() {
                var e = this.selectedFields.behaviourAdditionalTypes && this.selectedFields.behaviourAdditionalTypes.reduce(function(e, t) {
                        return e + parseInt(angular.fromJson(t).points, 10)
                    }, 0) || 0,
                    t = this.selectedFields.behaviourPrimaryType && angular.fromJson(this.selectedFields.behaviourPrimaryType).points || 0;
                this.selectedFields.points = e + t
            }
        }, {
            key: "deleteItemFromAchievementAdditionalType",
            value: function() {
                var e = this;
                this.selectedFields.achievementPrimaryType && (this.local.additionalAchievementTypes = this.behaviourAchievementLookups.achievement_types.slice(1).filter(function(t) {
                    return t.id !== e.selectedFields.achievementPrimaryType.id
                }).filter(function(e) {
                    return e.active
                }), this.selectedFields.achievementAdditionalTypes = this.selectedFields.achievementAdditionalTypes.filter(function(t) {
                    return t.id !== e.selectedFields.achievementPrimaryType.id
                }))
            }
        }, {
            key: "setCurrentAchievementSummaryPoints",
            value: function() {
                var e = this.selectedFields.achievementAdditionalTypes && this.selectedFields.achievementAdditionalTypes.reduce(function(e, t) {
                        return e + parseInt(angular.fromJson(t).points, 10)
                    }, 0) || 0,
                    t = this.selectedFields.achievementPrimaryType && angular.fromJson(this.selectedFields.achievementPrimaryType).points || 0;
                this.selectedFields.points = e + t
            }
        }, {
            key: "isSending",
            get: function() {
                return this.local.isSending
            }
        }, {
            key: "selects",
            get: function() {
                return this.local.infiniteScrollSettings.selects
            }
        }, {
            key: "infiniteScrollSettings",
            get: function() {
                return this.local.infiniteScrollSettings
            }
        }, {
            key: "multipleSelects",
            get: function() {
                return this.local.multipleSelects
            }
        }, {
            key: "secondPartOfCurrentState",
            get: function() {
                return this._routeClassService.secondPartOfCurrentState
            }
        }, {
            key: "fullStateName",
            get: function() {
                return this._routeClassService.fullStateName
            }
        }]), e
    }();
    exports.default = l
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2177));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("f-student-search", ["ui.select"]).component("fStudentSearch", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2178)),
        i = a(t(2179));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2180);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            extraClass: "@",
            backLink: "@",
            title: "@",
            employeeId: "<",
            learnerIds: "<",
            usersType: "@",
            usersService: "=",
            single: "<",
            statusFilter: "<",
            statusFilterValue: "<"
        },
        transclude: !0
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<form class="f-student-search">\n  <b-title\n    ng-if="!$ctrl._groupsService.isGroupEditModalOpen()"\n    name="{{ ::$ctrl.title }}"\n    sref="{{ ::$ctrl.backLink }}"\n    go-back="$ctrl._menuService.goHome()">\n  </b-title>\n\n  <div class="f-student-search__content" toggle-more-filter>\n    <div class="f-student-search__wrapper">\n      <div class="f-student-search__row">\n        <div class="f-student-search__col">\n          <b-input-container class="f-student-search__input-container">\n            <label class="f-default__label f-student-search__label _name" float-label>Learner name</label>\n            <input type="text"\n              ng-model-options = "{ debounce: 400 }"\n              with-float-label\n              ng-change="$ctrl.search()"\n              class="f-default__input f-student-search__input _name"\n              ng-model="$ctrl.studentName">\n          </b-input-container>\n          <button type="button" class="btn-show-more"></button>\n        </div>\n      </div>\n\n      <div class="f-student-search__row _col-wrap _filter" ng-if="$ctrl._userService.checkRole(\'employee\') && $ctrl.usersType !== \'Leavers\'" >\n        <div class="f-student-search__col">\n          <ui-select ng-model="$ctrl.year"\n                     theme="selectize"\n                     ng-init="hash = $ctrl._selectsService.generateHash($ctrl.selects); $ctrl._selectsService.setItemsNumber($ctrl.infiniteScrollSettings, hash)"\n                     class="select-default f-student-search__select"\n                     ng-attr-id="{{\'_\' + hash}}"\n                     uis-open-close="$ctrl._selectsService.handleSelectToggling(hash, $ctrl.infiniteScrollSettings)"\n                     ng-change="$ctrl.filterById(); $ctrl.search()"\n                     search-enabled="false">\n            <ui-select-match placeholder="Year">{{ $select.selected.name }}</ui-select-match>\n            <ui-select-choices repeat="year in $ctrl.usersService.years | limitTo:$ctrl.selects[hash].currentItems track by $index"\n                               infinite-scroll="$ctrl._selectsService.addNewItemsToSelect($ctrl.selects[hash], $ctrl.infiniteScrollSettings.numToAdd)"\n                               infinite-scroll-container="\'#_\' + hash + \' .ui-select-choices-content\'">\n              <span>{{ ::year.name }}</span>\n            </ui-select-choices>\n          </ui-select>\n\n          <div class="f-default__select-mobile-wrap">\n            <select class="f-default__select-mobile"\n                    ng-change="$ctrl.search()"\n                    ng-model="$ctrl.year">\n              <option value="" selected disabled hidden>Year</option>\n              <option ng-repeat="year in $ctrl.usersService.years track by $index" value="{{::year}}">{{::year.name}}</option>\n            </select>\n          </div>\n        </div>\n\n        <div class="f-student-search__col _filter">\n          <ui-select ng-model="$ctrl.group"\n                     ng-change="$ctrl.search()"\n                     theme="selectize"\n                     ng-init="hash = $ctrl._selectsService.generateHash($ctrl.selects); $ctrl._selectsService.setItemsNumber($ctrl.infiniteScrollSettings, hash)"\n                     uis-open-close="$ctrl._selectsService.handleSelectToggling(hash, $ctrl.infiniteScrollSettings)"\n                     class="select-default f-student-search__select"\n                     ng-attr-id="{{\'_\' + hash}}"\n                     search-enabled="false">\n            <ui-select-match placeholder="Form">{{ $select.selected.name }}</ui-select-match>\n            <ui-select-choices repeat="group in $ctrl.groupsList | limitTo:$ctrl.selects[hash].currentItems track by $index"\n                               infinite-scroll="$ctrl._selectsService.addNewItemsToSelect($ctrl.selects[hash], $ctrl.infiniteScrollSettings.numToAdd)"\n                               infinite-scroll-container="\'#_\' + hash + \' .ui-select-choices-content\'">\n              <span>{{::group.name}}</span>\n            </ui-select-choices>\n          </ui-select>\n\n          <div class="f-default__select-mobile-wrap">\n            <select class="f-default__select-mobile"\n                    ng-change="$ctrl.search()"\n                    ng-model="$ctrl.group">\n              <option value="" selected disabled hidden>Form</option>\n              <option ng-repeat="group in $ctrl.usersService.groups track by $index" value="{{::group}}">{{::group.name}}</option>\n            </select>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class="f-student-search__wrapper" ng-if="$ctrl.usersType === \'Leavers\'">\n      <div class="f-student-search__row">\n        <div class="f-student-search__col _filter">\n          <b-date-time-select class="f-student-search__date"\n            format="{{::$ctrl._dateService.getDateFormat(\'apiDate\')}}"\n            visible-date-format="{{::$ctrl._dateService.getDateFormat(\'momentDate\')}}"\n            name="leaving_date_from"\n            date="$ctrl.leavingDateFrom"\n            on-change="$ctrl.onLeavingDateFromChange({ newValue })"\n            label="Leaving date from"></b-date-time-select>\n        </div>\n      </div>\n      <div class="f-student-search__row">\n        <div class="f-student-search__col _filter">\n          <b-date-time-select class="f-student-search__date"\n            format="{{::$ctrl._dateService.getDateFormat(\'apiDate\')}}"\n            visible-date-format="{{::$ctrl._dateService.getDateFormat(\'momentDate\')}}"\n            name="leaving_date_until"\n            date="$ctrl.leavingDateUntil"\n            on-change="$ctrl.onLeavingDateUntilChange({ newValue })"\n            label="Leaving date until"></b-date-time-select>\n        </div>\n      </div>\n      <div class="f-student-search__row _col-wrap">\n        <div class="f-student-search__col _filter">\n          <ui-select ng-model="$ctrl.userGroup"\n                     theme="selectize"\n                     ng-init="hash = $ctrl._selectsService.generateHash($ctrl.selects); $ctrl._selectsService.setItemsNumber($ctrl.infiniteScrollSettings, hash)"\n                     class="select-default f-student-search__select"\n                     ng-attr-id="{{\'_\' + hash}}"\n                     uis-open-close="$ctrl._selectsService.handleSelectToggling(hash, $ctrl.infiniteScrollSettings)"\n                     ng-change="$ctrl.search()"\n                     search-enabled="false">\n            <ui-select-match placeholder="Groups">{{ $select.selected.name }}</ui-select-match>\n            <ui-select-choices repeat="group in $ctrl._groupsService.groups | limitTo:$ctrl.selects[hash].currentItems track by $index"\n                               infinite-scroll="$ctrl._selectsService.addNewItemsToSelect($ctrl.selects[hash], $ctrl.infiniteScrollSettings.numToAdd)"\n                               infinite-scroll-container="\'#_\' + hash + \' .ui-select-choices-content\'">\n              <span>{{ ::group.name }}</span>\n            </ui-select-choices>\n          </ui-select>\n\n          <div class="f-default__select-mobile-wrap">\n            <select class="f-default__select-mobile"\n                    ng-change="$ctrl.search()"\n                    ng-model="$ctrl.userGroup">\n              <option value="" selected disabled hidden>Groups</option>\n              <option ng-repeat="group in $ctrl._groupsService.groups track by $index" value="{{::group}}">{{::group.name}}</option>\n            </select>\n          </div>\n        </div>\n        <div class="f-student-search__col _filter">\n          <ui-select ng-model="$ctrl.gender"\n                     ng-change="$ctrl.search()"\n                     theme="selectize"\n                     class="select-default f-student-search__select"\n                     search-enabled="false">\n            <ui-select-match placeholder="Gender">{{ $select.selected.title }}</ui-select-match>\n            <ui-select-choices repeat="gender in $ctrl.usersService.gender track by $index">\n              <span>{{::gender.title}}</span>\n            </ui-select-choices>\n          </ui-select>\n\n          <div class="f-default__select-mobile-wrap">\n            <select class="f-default__select-mobile"\n                    ng-change="$ctrl.search()"\n                    ng-model="$ctrl.gender">\n              <option value="" selected disabled hidden>Gender</option>\n              <option ng-repeat="gender in $ctrl.usersService.gender track by $index" value="{{::gender}}">{{::gender.title}}</option>\n            </select>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class="f-student-search__row _col-wrap _filter _second-row" ng-if="$ctrl._userService.checkRole(\'employee\') && $ctrl.usersType !== \'Leavers\'">\n      <div class="f-student-search__col" ng-if="$ctrl.usersType !== \'Admissions\'">\n        <ui-select ng-model="$ctrl.teaching"\n                   ng-change="$ctrl.search()"\n                   ng-init="hash = $ctrl._selectsService.generateHash($ctrl.selects); $ctrl._selectsService.setItemsNumber($ctrl.infiniteScrollSettings, hash)"\n                   uis-open-close="$ctrl._selectsService.handleSelectToggling(hash, $ctrl.infiniteScrollSettings)"\n                   theme="selectize"\n                   class="select-default f-student-search__select"\n                   ng-attr-id="{{\'_\' + hash}}"\n                   search-enabled="true"\n        >\n          <ui-select-match placeholder="Class">{{ $select.selected.name }}</ui-select-match>\n          <ui-select-choices repeat="teaching in $ctrl.teachingList | filter:{name:$select.search} | limitTo:$ctrl.selects[hash].currentItems"\n                             infinite-scroll="$ctrl._selectsService.addNewItemsToSelect($ctrl.selects[hash], $ctrl.infiniteScrollSettings.numToAdd)"\n                             infinite-scroll-container="\'#_\' + hash + \' .ui-select-choices-content\'"\n                             ui-disable-choice="teaching.custom">\n            <span>{{::teaching.name}}</span>\n          </ui-select-choices>\n        </ui-select>\n\n        <div class="f-default__select-mobile-wrap">\n          <select class="f-default__select-mobile"\n                  ng-change="$ctrl.search()"\n                  ng-model="$ctrl.teaching">\n            <option value="" selected disabled hidden>Class</option>\n            <option ng-repeat="teaching in $ctrl.usersService.teaching track by $index"\n                    ng-disabled="teaching.custom"\n                    value="{{::teaching}}">\n              {{::teaching.name}}\n            </option>\n          </select>\n        </div>\n      </div>\n      <div class="f-student-search__col _filter" ng-if="$ctrl.usersType === \'Admissions\'">\n        <ui-select ng-model="$ctrl.intakeGroup"\n                   theme="selectize"\n                   ng-init="hash = $ctrl._selectsService.generateHash($ctrl.selects); $ctrl._selectsService.setItemsNumber($ctrl.infiniteScrollSettings, hash)"\n                   uis-open-close="$ctrl._selectsService.handleSelectToggling(hash, $ctrl.infiniteScrollSettings)"\n                   class="select-default f-student-search__select"\n                   ng-attr-id="{{\'_\' + hash}}"\n                   ng-change="$ctrl.search()"\n                   search-enabled="false">\n          <ui-select-match placeholder="Intake Group">{{ $select.selected.name }}</ui-select-match>\n          <ui-select-choices repeat="group in $ctrl.usersService.intakeGroup | limitTo:$ctrl.selects[hash].currentItems track by $index"\n                             infinite-scroll="$ctrl._selectsService.addNewItemsToSelect($ctrl.selects[hash], $ctrl.infiniteScrollSettings.numToAdd)"\n                             infinite-scroll-container="\'#_\' + hash + \' .ui-select-choices-content\'">\n            <span>{{ ::group.name }}</span>\n          </ui-select-choices>\n        </ui-select>\n\n        <div class="f-default__select-mobile-wrap">\n          <select class="f-default__select-mobile"\n                  ng-change="$ctrl.search()"\n                  ng-model="$ctrl.intakeGroup">\n            <option value="" selected disabled hidden>Intake Group</option>\n            <option ng-repeat="group in $ctrl.usersService.intakeGroup track by $index" value="{{::group}}">\n              {{::group.name}}\n            </option>\n          </select>\n        </div>\n      </div>\n      <div class="f-student-search__col">\n        <ui-select ng-model="$ctrl.gender"\n                   ng-change="$ctrl.search()"\n                   theme="selectize"\n                   class="select-default f-student-search__select"\n                   search-enabled="false">\n          <ui-select-match placeholder="Gender">{{ $select.selected.title }}</ui-select-match>\n          <ui-select-choices repeat="gender in $ctrl.usersService.gender track by $index">\n            <span>{{::gender.title}}</span>\n          </ui-select-choices>\n        </ui-select>\n\n        <div class="f-default__select-mobile-wrap">\n          <select class="f-default__select-mobile"\n                  ng-change="$ctrl.search()"\n                  ng-model="$ctrl.gender">\n            <option value="" selected disabled hidden>Gender</option>\n            <option ng-repeat="gender in $ctrl.usersService.gender track by $index" value="{{::gender}}">{{::gender.title}}</option>\n          </select>\n        </div>\n      </div>\n    </div>\n    <div class="f-student-search__row _col-wrap _last-row" ng-if="$ctrl._userService.checkRole(\'employee\') && $ctrl.usersType !== \'Leavers\'">\n      <div class="f-student-search__col _filter" ng-if="$ctrl.usersType !== \'Admissions\'">\n        <ui-select ng-model="$ctrl.userDefinedGroup"\n                   theme="selectize"\n                   ng-init="hash = $ctrl._selectsService.generateHash($ctrl.selects); $ctrl._selectsService.setItemsNumber($ctrl.infiniteScrollSettings, hash)"\n                   class="select-default f-student-search__select"\n                   ng-attr-id="{{\'_\' + hash}}"\n                   uis-open-close="$ctrl._selectsService.handleSelectToggling(hash, $ctrl.infiniteScrollSettings)"\n                   ng-change="$ctrl.search()"\n                   search-enabled="false">\n          <ui-select-match placeholder="SIMS Groups">{{ $select.selected.name }}</ui-select-match>\n          <ui-select-choices repeat="group in $ctrl.simsGroupsList | limitTo:$ctrl.selects[hash].currentItems track by $index"\n                             infinite-scroll="$ctrl._selectsService.addNewItemsToSelect($ctrl.selects[hash], $ctrl.infiniteScrollSettings.numToAdd)"\n                             infinite-scroll-container="\'#_\' + hash + \' .ui-select-choices-content\'"\n                             ui-disable-choice="group.custom">\n            <span>{{ ::group.name }}</span>\n          </ui-select-choices>\n        </ui-select>\n\n        <div class="f-default__select-mobile-wrap">\n          <select class="f-default__select-mobile"\n                  ng-change="$ctrl.search()"\n                  ng-model="$ctrl.userDefinedGroup">\n            <option value="" selected disabled hidden>SIMS Groups</option>\n            <option ng-repeat="group in $ctrl.simsGroupsList track by $index"\n                    ng-disabled="group.custom"\n                    value="{{::group}}">\n              {{::group.name}}\n            </option>\n          </select>\n        </div>\n      </div>\n      <div class="f-student-search__col _filter" ng-if="$ctrl.usersType === \'Admissions\'">\n        <ui-select ng-model="$ctrl.admissionGroup"\n                   theme="selectize"\n                   ng-init="hash = $ctrl._selectsService.generateHash($ctrl.selects); $ctrl._selectsService.setItemsNumber($ctrl.infiniteScrollSettings, hash)"\n                   uis-open-close="$ctrl._selectsService.handleSelectToggling(hash, $ctrl.infiniteScrollSettings)"\n                   class="select-default f-student-search__select"\n                   ng-attr-id="{{\'_\' + hash}}"\n                   ng-change="$ctrl.search()"\n                   search-enabled="false">\n          <ui-select-match placeholder="Admission Group">{{ $select.selected.name }}</ui-select-match>\n          <ui-select-choices repeat="group in $ctrl.usersService.admissionGroup | limitTo:$ctrl.selects[hash].currentItems track by $index"\n                             infinite-scroll="$ctrl._selectsService.addNewItemsToSelect($ctrl.selects[hash], $ctrl.infiniteScrollSettings.numToAdd)"\n                             infinite-scroll-container="\'#_\' + hash + \' .ui-select-choices-content\'">\n            <span>{{ ::group.name }}</span>\n          </ui-select-choices>\n        </ui-select>\n\n        <div class="f-default__select-mobile-wrap">\n          <select class="f-default__select-mobile"\n                  ng-change="$ctrl.search()"\n                  ng-model="$ctrl.admissionGroup">\n            <option value="" selected disabled hidden>Admission Group</option>\n            <option ng-repeat="group in $ctrl.usersService.admissionGroup track by $index" value="{{::group}}">\n              {{::group.name}}\n            </option>\n          </select>\n        </div>\n      </div>\n      <div class="f-student-search__col _filter" ng-if="$ctrl.usersType !== \'Leavers\'">\n        <ui-select ng-model="$ctrl.userGroup"\n                   theme="selectize"\n                   ng-init="hash = $ctrl._selectsService.generateHash($ctrl.selects); $ctrl._selectsService.setItemsNumber($ctrl.infiniteScrollSettings, hash)"\n                   class="select-default f-student-search__select"\n                   ng-attr-id="{{\'_\' + hash}}"\n                   uis-open-close="$ctrl._selectsService.handleSelectToggling(hash, $ctrl.infiniteScrollSettings)"\n                   ng-change="$ctrl.search()"\n                   search-enabled="false">\n          <ui-select-match placeholder="Groups">{{ $select.selected.name }}</ui-select-match>\n          <ui-select-choices repeat="group in $ctrl._groupsService.groups | limitTo:$ctrl.selects[hash].currentItems track by $index"\n                             infinite-scroll="$ctrl._selectsService.addNewItemsToSelect($ctrl.selects[hash], $ctrl.infiniteScrollSettings.numToAdd)"\n                             infinite-scroll-container="\'#_\' + hash + \' .ui-select-choices-content\'">\n            <span>{{ ::group.name }}</span>\n          </ui-select-choices>\n        </ui-select>\n\n        <div class="f-default__select-mobile-wrap">\n          <select class="f-default__select-mobile"\n                  ng-change="$ctrl.search()"\n                  ng-model="$ctrl.userGroup">\n            <option value="" selected disabled hidden>Groups</option>\n            <option ng-repeat="group in $ctrl._groupsService.groups track by $index" value="{{::group}}">{{::group.name}}</option>\n          </select>\n        </div>\n      </div>\n    </div>\n\n    <div class="f-student-search__row _col-wrap _last-row" ng-if="$ctrl._userService.checkRole(\'employee\')">\n      <div class="f-student-search__col _filter" ng-if="$ctrl.usersType !== \'Leavers\'">\n        <ui-select ng-model="$ctrl.house"\n                   theme="selectize"\n                   ng-init="hash = $ctrl._selectsService.generateHash($ctrl.selects); $ctrl._selectsService.setItemsNumber($ctrl.infiniteScrollSettings, hash)"\n                   uis-open-close="$ctrl._selectsService.handleSelectToggling(hash, $ctrl.infiniteScrollSettings)"\n                   class="select-default f-student-search__select"\n                   ng-attr-id="{{\'_\' + hash}}"\n                   ng-change="$ctrl.search()"\n                   search-enabled="false">\n          <ui-select-match placeholder="House">{{ $select.selected.name }}</ui-select-match>\n          <ui-select-choices repeat="group in $ctrl.communityGroups | limitTo:$ctrl.selects[hash].currentItems track by $index"\n                             infinite-scroll="$ctrl._selectsService.addNewItemsToSelect($ctrl.selects[hash], $ctrl.infiniteScrollSettings.numToAdd)"\n                             infinite-scroll-container="\'#_\' + hash + \' .ui-select-choices-content\'">\n            <span>{{ ::group.name }}</span>\n          </ui-select-choices>\n        </ui-select>\n\n        <div class="f-default__select-mobile-wrap">\n          <select class="f-default__select-mobile"\n                  ng-change="$ctrl.search()"\n                  ng-model="$ctrl.house">\n            <option value="" selected disabled hidden>House</option>\n            <option ng-repeat="group in $ctrl.communityGroups track by $index" value="{{::group}}">{{::group.name}}</option>\n          </select>\n        </div>\n      </div>\n      <div class="f-student-search__col _filter" ng-if="!$ctrl.single && !($ctrl.firstPartOfCurrentState === \'childprotection\') && !($ctrl.secondPartOfCurrentState === \'childprotection\')">\n        <label class="f-student-search__checkbox f-default__label"\n               ng-class="{ \'_checkbox-checked\': $ctrl.showSelectedStudents }"\n        >\n          <input type="checkbox"\n                 class="f-student-search__checkbox-input"\n                 ng-change="$ctrl.toggleSelectedStudentsCheckbox()"\n                 ng-model="$ctrl.showSelectedStudents"\n                 ng-disabled="$ctrl.isLoading"\n          >\n          <span class="f-student-search__checkbox-title">Selected</span>\n        </label>\n      </div>\n    </div>\n\n    <div class="f-student-search__row _col-wrap _last-row" ng-if="$ctrl.statusFilter">\n      <div class="f-student-search__col _filter">\n        <ui-select ng-model="$ctrl.status"\n                   theme="selectize"\n                   class="select-default f-student-search__select"\n                   ng-change="$ctrl.resetSelectedStudents();$ctrl.search()"\n                   search-enabled="false">\n          <ui-select-match placeholder="Status">{{ $select.selected }}</ui-select-match>\n          <ui-select-choices repeat="status in $ctrl.statuses track by $index">\n            <span>{{ ::status }}</span>\n          </ui-select-choices>\n        </ui-select>\n\n        <div class="f-default__select-mobile-wrap">\n          <select class="f-default__select-mobile"\n                  ng-change="$ctrl.resetSelectedStudents();$ctrl.search()"\n                  ng-model="$ctrl.status">\n            <option value="" selected disabled hidden>Status</option>\n            <option ng-repeat="status in $ctrl.statuses track by $index" value="{{::status}}">{{::status}}</option>\n          </select>\n        </div>\n      </div>\n    </div>\n\n    <div class="f-student-search__row"\n         ng-if="$ctrl.isCreateButtonVisible">\n      <button class="f-student-search__add-group"\n        ng-disabled="!$ctrl.students.length"\n        ng-click="$ctrl.openCreateGroupModal()">Create group</button>\n    </div>\n  </div>\n\n  <div class="f-student-search__bottom _col-wrap">\n    <a class="btn btn-default _transparent _red-mobile"\n      ng-if="$ctrl.secondPartOfCurrentState === \'search\'"\n      ui-sref="behaviour.select-behaviour">\n      Bulk<span> add</span> behaviour\n    </a>\n    <a class="btn btn-default _transparent _green-mobile"\n      ng-if="$ctrl.secondPartOfCurrentState === \'search\'"\n      ui-sref="behaviour.select-achievement">\n      Bulk<span> add</span> achievement\n    </a>\n    <button type="button" class="btn btn-continue btn-default _transparent"\n            ng-class="{ \'_disabled\' : !$ctrl.usersService.selectedStudents.length }"\n            ng-if="$ctrl.windowWidth > $ctrl._deviceMarginConstants.MOBILE_MARGIN && $ctrl.secondPartOfCurrentState === \'select-behaviour\'"\n            ng-click="$ctrl._behaviourDataService.transitionToPoints(\'behaviour.points-behaviour\')"\n    >\n      Next\n    </button>\n    <button type="button" class="btn btn-continue btn-default _transparent"\n      ng-class="{ \'_disabled\' : !$ctrl.usersService.selectedStudents.length }"\n      ng-if="$ctrl.windowWidth > $ctrl._deviceMarginConstants.MOBILE_MARGIN && $ctrl.secondPartOfCurrentState === \'select-achievement\'"\n      ng-click="$ctrl._behaviourDataService.transitionToPoints(\'behaviour.points-achievement\')"\n    >\n      Next\n    </button>\n    <button type="button" class="btn btn-default f-student-search__btn _create-event-learners"\n      ng-click="$ctrl.closeModal()"\n      ng-if="$ctrl.secondPartOfCurrentState === \'events\'">Accept</button>\n    <button type="button" class="btn btn-default f-student-search__btn"\n      ng-click="$ctrl._updateLearners()"\n      ng-class="{ \'_disabled\' : !$ctrl.usersService.selectedStudents.length }"\n      ng-if="$ctrl.secondPartOfCurrentState === \'details\' && $ctrl.checkModal(\'modal-select-learners\', \'Modify learners\')"\n    >Save</button>\n    <button type="button" class="btn btn-default f-student-search__btn"\n      ng-click="$ctrl.addLearnersToEvent()"\n      ng-if="$ctrl.secondPartOfCurrentState === \'details\' && $ctrl.checkModal(\'modal-select-learners\', \'Add learners\')"\n      ng-disabled="$ctrl.isLoading"\n    >Add</button>\n    <button type="button" class="btn btn-default f-student-search__btn"\n      ng-click="$ctrl.removeLearnersFromEvent()"\n      ng-if="$ctrl.secondPartOfCurrentState === \'details\' && $ctrl.checkModal(\'modal-select-learners\', \'Delete learners\')"\n      ng-disabled="$ctrl.isLoading || !$ctrl.usersService.selectedStudents.length"\n    >Delete</button>\n    <a type="button" class="btn btn-continue btn-default _transparent f-student-search__btn"\n      ui-sref="documents-message.types"\n      ng-class="{_disabled: !$ctrl.usersService.selectedStudents.length}"\n      ng-if="$ctrl.state === \'documents-message.select\'">Next Step</a>\n    <button type="button" class="btn btn-default f-student-search__btn"\n      ng-click="$ctrl.updateGroup()"\n      ng-if="$ctrl._groupsService.isGroupEditModalOpen()">Update</button>\n    <button type="button" class="btn btn-default f-student-search__btn"\n      ng-click="$ctrl.openAddHomeworkModal()"\n      ng-class="{ \'_disabled\' : !$ctrl.usersService.selectedStudents.length }"\n      ng-if="($ctrl.firstPartOfCurrentState === \'homework\' || $ctrl.secondPartOfCurrentState === \'homework\') && !$ctrl.modalScope.onSubmit">Next Step</button>\n    <button type="button" class="btn btn-default f-student-search__btn _detentions"\n      ng-click="$ctrl._modalDefaultService.showModalWithTemplates(\'modal-learner-detention\', null, \'Add learners\')"\n      ng-class="{ \'_disabled\' : !$ctrl.usersService.selectedStudents.length }"\n      ng-if="$ctrl.firstPartOfCurrentState === \'detention\'">Next Step</button>\n    <button type="button" class="btn btn-default f-student-search__btn"\n      ng-click="$ctrl.closeModal()"\n      ng-if="$ctrl.state === \'parentevent.teacherEvent\'">Select</button>\n    <button type="button" class="btn btn-default f-student-search__btn"\n            ng-click="$ctrl.hideModal()"\n            ng-if="$ctrl._groupsService.isCreateGroupModalOpen() || $ctrl.state === \'analytics.documentaccessreport\' || $ctrl.state === \'analytics.clubattendanceoverview\'"\n    >Close</button>\n    <button type="button" class="btn btn-default f-student-search__btn"\n            ng-click="$ctrl.openClubDetailsModal()"\n            ng-if="$ctrl.state === \'clubs.create\' || $ctrl.state === \'clubs.update\'"\n    >Next</button>\n    <button type="button" class="btn btn-default f-student-search__btn"\n            ng-click="$ctrl.modalScope.onSubmit({ selectedStudents: $ctrl.usersService.selectedStudents })"\n            ng-class="{ \'_disabled\' : !$ctrl.usersService.selectedStudents.length && ($ctrl.firstPartOfCurrentState === \'homework\' || $ctrl.secondPartOfCurrentState === \'homework\') }"\n            ng-if="$ctrl.modalScope.onSubmit"\n    >{{ $ctrl.modalScope.buttonText }}</button>\n    <ng-transclude></ng-transclude>\n  </div>\n</form>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(11)),
        i = s(t(1)),
        a = s(t(2));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = function() {
        function e(t, n, a, s, r, o, l, c, d, u, _, f, v, m, h, p, g, b, S, y, k, M, w, D) {
            "ngInject";
            (0, i.default)(this, e), this._$timeout = t, this._$scope = a, this._$state = s, this._$stateParams = r, this._attachmentsService = o, this._menuService = d, this._windowWidthService = c, this._routeClassService = l, this._deviceMarginConstants = f, this._modalDefaultService = v, this._requestService = h, this._groupsService = g, this._notificationService = _, this._parentsEveningService = b, this._userService = u, this._$filter = p, this._teachersService = m, this._$rootScope = n, this._selectsService = S, this._homeworkDataService = y, this._behaviourDataService = k, this._establishmentService = M, this._$window = w, this._dateService = D, this.local = {
                name: "",
                groupPlaceholder: "Group",
                yearPlaceholder: "Year",
                group: null,
                userGroup: null,
                year: null,
                teaching: null,
                searchArr: null,
                gender: null,
                userDefinedGroup: null,
                house: null,
                status: "Current",
                communityGroups: [],
                intakeGroup: null,
                admissionGroup: null,
                leavingDateFrom: null,
                leavingDateUntil: null,
                infiniteScrollSettings: this._selectsService.getInfiniteScrollSettings(),
                homework: {
                    homework_id: null
                },
                showSelectedStudents: !1,
                isLoading: !1,
                createGroupValidStates: ["select-behaviour", "select-achievement", "mailbox"]
            }, this.statuses = ["Current", "Applicant"], this.allSelect = {
                id: null,
                name: "Select All"
            };
            var T = this._modalDefaultService.data.find(function(e) {
                return "modal-select-learners" === e.id
            });
            T && (this.modalScope = T.scope)
        }
        return e.$inject = ["$timeout", "$rootScope", "$scope", "$state", "$stateParams", "attachmentsService", "routeClassService", "windowWidthService", "menuService", "userService", "notificationService", "deviceMarginConstants", "modalDefaultService", "teachersService", "requestService", "$filter", "groupsService", "parentsEveningService", "selectsService", "homeworkDataService", "behaviourDataService", "establishmentService", "$window", "dateService"], (0, a.default)(e, [{
            key: "$onInit",
            value: function() {
                this.teachingList = this.usersService.teaching, this.groupsList = this.usersService.groups, this.userDefinedGroups = this.usersService.userDefinedGroups, this.discoverGroups = this._establishmentService.establishment.discover_groups, this.simsGroupsList = this.userDefinedGroups, this.discoverGroups && this.discoverGroups.length && (this.simsGroupsList = [].concat((0, n.default)(this.simsGroupsList), [{
                    name: "Discover Groups:",
                    custom: !0
                }], (0, n.default)(this.discoverGroups))), this.formatGroupList(), this.local.communityGroups = [this.allSelect].concat((0, n.default)(this._userService.user.communityGroups)), this.statusFilterValue && (this.status = this.statusFilterValue)
            }
        }, {
            key: "resetSelectedStudents",
            value: function() {
                this._groupsService.selectedMembers = [], this.usersService.selectedStudents = []
            }
        }, {
            key: "formatGroupList",
            value: function() {
                this.simsGroupsList.length ? this.simsGroupsList.forEach(function(e) {
                    e.description && (e.name = e.description)
                }) : this.simsGroupsList = [this.allSelect]
            }
        }, {
            key: "onLeavingDateFromChange",
            value: function(e) {
                var t = e.newValue;
                this.leavingDateFrom = this._$window.moment(t).format(this._dateService.getDateFormat("apiDate")), this.search()
            }
        }, {
            key: "onLeavingDateUntilChange",
            value: function(e) {
                var t = e.newValue;
                this.leavingDateUntil = this._$window.moment(t).format(this._dateService.getDateFormat("apiDate")), this.search()
            }
        }, {
            key: "search",
            value: function(e) {
                this._requestService.isDemoMode ? this.searchDemo(e) : this.searchStudents(e)
            }
        }, {
            key: "filterById",
            value: function() {
                var e = this.local.year.id;
                if (e) {
                    var t = [],
                        n = [];
                    this.usersService.teaching.forEach(function(i) {
                        i.year_group_ids && i.year_group_ids.includes(e) && (i.my_group ? t.push(i) : n.push(i))
                    }), this.teachingList = [this.allSelect, {
                        name: "My classes:",
                        custom: !0
                    }].concat(t, [{
                        name: "-----",
                        custom: !0
                    }], n), this.groupsList = this.usersService.groups.filter(function(t) {
                        return t.id || null !== t.id ? t.year_group_ids ? t.year_group_ids.includes(e) : void 0 : t
                    })
                } else this.teachingList = this.usersService.teaching, this.groupsList = this.usersService.groups;
                this.teaching = null, this.group = null
            }
        }, {
            key: "searchStudents",
            value: function(e) {
                var t = this,
                    n = !1,
                    i = this.local.name,
                    a = this.local.year,
                    s = this.local.group,
                    r = this.local.teaching,
                    o = this.local.gender,
                    l = this.local.userDefinedGroup,
                    c = this.local.userGroup,
                    d = this.local.house,
                    u = this.local.intakeGroup,
                    _ = this.local.leavingDateFrom,
                    f = this.local.leavingDateUntil,
                    v = this.local.admissionGroup,
                    m = this.local.status;
                (angular.isString(a) || angular.isString(s) || angular.isString(r) || angular.isString(o) || angular.isString(l) || angular.isString(c) || angular.isString(d) || angular.isString(u) || angular.isString(v)) && (a = angular.fromJson(a), s = angular.fromJson(s), r = angular.fromJson(r), o = angular.fromJson(o), l = angular.fromJson(l), c = angular.fromJson(c), d = angular.fromJson(d), u = angular.fromJson(u), v = angular.fromJson(v)), l && (n = this.discoverGroups.find(function(e) {
                    return e.id === l.id
                })), !e && angular.equals([this.local.name, this.local.year, this.local.group, this.local.teaching, this.local.gender, this.local.house, this.local.userDefinedGroup, this.local.userGroup, this.local.intakeGroup, this.local.leavingDateFrom, this.local.leavingDateUntil, this.local.admissionGroup, this.local.status], this.local.searchArr) || (this.searchArr = [this.local.name, this.local.year, this.local.group, this.local.teaching, this.local.gender, this.local.house, this.local.userDefinedGroup, this.local.userGroup, this.local.intakeGroup, this.local.leavingDateFrom, this.local.leavingDateUntil, this.local.admissionGroup, this.local.status], this.usersService.getStudents(null, {
                    filter: i,
                    year_id: a && a.id,
                    form_id: s && s.id,
                    teaching_group_id: r && r.id,
                    gender: o && o.id && o.title || void 0,
                    user_defined_group_id: !n && l && l.id || void 0,
                    discover_group_id: n && l && l.id || void 0,
                    learner_group_id: c && c.id || void 0,
                    community_id: d && d.id || void 0,
                    applicant_intake_group_id: u && u.id || void 0,
                    leaving_date_from: _ || void 0,
                    leaving_date_until: f || void 0,
                    applicant_admission_group_id: v && v.id || void 0,
                    learner_ids: this.learnerIds
                }, m).then(function(e) {
                    t.showSelectedStudents ? t.usersService.filteredStudents = t.usersService.selectedStudents.filter(function(t) {
                        return e.includes(t)
                    }) : t.usersService.filteredStudents = e || []
                }))
            }
        }, {
            key: "searchDemo",
            value: function(e) {
                var t, n = this.local.name,
                    i = this.local.year,
                    a = this.local.group,
                    s = this.local.teaching,
                    r = this.local.gender,
                    o = this.local.userDefinedGroup,
                    l = this.local.userGroup,
                    c = this.local.house,
                    d = this.local.intakeGroup,
                    u = this.local.leavingDateFrom,
                    _ = this.local.leavingDateUntil,
                    f = this.local.admissionGroup;
                (angular.isString(i) || angular.isString(a) || angular.isString(s) || angular.isString(r) || angular.isString(o) || angular.isString(l) || angular.isString(d) || angular.isString(f)) && (i = angular.fromJson(i), a = angular.fromJson(a), s = angular.fromJson(s), r = angular.fromJson(r), o = angular.fromJson(o), l = angular.fromJson(l), c = angular.fromJson(c), d = angular.fromJson(d), f = angular.fromJson(f)), !e && angular.equals([this.local.name, this.local.year, this.local.group, this.local.teaching, this.local.house, this.local.gender, this.local.userDefinedGroup, this.local.userGroup, this.local.intakeGroup, this.local.admissionGroup], this.local.searchArr) || (this.searchArr = [this.local.name, this.local.year, this.local.group, this.local.teaching, this.local.house, this.local.gender, this.local.userDefinedGroup, this.local.userGroup, this.local.intakeGroup, this.local.admissionGroup], t = {
                    year_group_id: i && i.id && i.id.toString(),
                    form_group_id: a && a.id && a.id.toString()
                }, this.usersService.filteredStudents = this._$filter("yearGroup")(this.usersService.students.data.usersBuffer, t), s && s.id && (this.usersService.filteredStudents = this.usersService.filteredStudents.slice(Math.ceil(this.usersService.filteredStudents.length / Math.ceil(10 * Math.random())))), o && o.id && (this.usersService.filteredStudents = this.usersService.filteredStudents.slice(Math.ceil(this.usersService.filteredStudents.length / Math.ceil(10 * Math.random())))), l && l.id && (this.usersService.filteredStudents = this.usersService.filteredStudents.slice(Math.ceil(this.usersService.filteredStudents.length / Math.ceil(10 * Math.random())))), r && r.id && (this.usersService.filteredStudents = this.usersService.filteredStudents.filter(function(e) {
                    return e.gender === r.title
                })), n && (this.usersService.filteredStudents = this._$filter("fullName")(i || a || s || r ? this.usersService.filteredStudents : this.usersService.students.data.usersBuffer, n)), c && c.id && (this.usersService.filteredStudents = this.usersService.filteredStudents.slice(Math.ceil(this.usersService.filteredStudents.length / Math.ceil(10 * Math.random())))), d && d.id && (this.usersService.filteredStudents = this.usersService.filteredStudents.slice(Math.ceil(this.usersService.filteredStudents.length / Math.ceil(10 * Math.random())))), u && (this.usersService.filteredStudents = this.usersService.filteredStudents.slice(Math.ceil(this.usersService.filteredStudents.length / Math.ceil(10 * Math.random())))), _ && (this.usersService.filteredStudents = this.usersService.filteredStudents.slice(Math.ceil(this.usersService.filteredStudents.length / Math.ceil(10 * Math.random())))), f && f.id && (this.usersService.filteredStudents = this.usersService.filteredStudents.slice(Math.ceil(this.usersService.filteredStudents.length / Math.ceil(10 * Math.random())))))
            }
        }, {
            key: "toggleSelectedStudentsCheckbox",
            value: function() {
                var e = this;
                this.isLoading = !0, this.search(!0), this._$timeout(function() {
                    return requestAnimationFrame(function() {
                        return e.isLoading = !1
                    })
                })
            }
        }, {
            key: "addLearnersToEvent",
            value: function() {
                var e = this,
                    t = {
                        event_id: this._$stateParams.event_id,
                        learner_ids: this.usersService.selectedStudents.map(function(e) {
                            return e.id
                        })
                    };
                this.isLoading = !0, this._parentsEveningService.updateEventLearners(t).then(function() {
                    return e._parentsEveningService.getEventDetails({
                        event_id: e._$stateParams.event_id
                    })
                }).then(function() {
                    return e._parentsEveningService.prepTeachers(e._teachersService.employees)
                }).then(function() {
                    return e.hideModal()
                }).finally(function() {
                    return e.isLoading = !1
                })
            }
        }, {
            key: "removeLearnersFromEvent",
            value: function() {
                var e = this,
                    t = {
                        event_id: this._$stateParams.event_id,
                        learner_ids: this.usersService.selectedStudents.map(function(e) {
                            return e.id
                        })
                    };
                this.isLoading = !0, this._parentsEveningService.removeEventLearners(t).then(function() {
                    return e._parentsEveningService.getEventDetails({
                        event_id: e._$stateParams.event_id
                    })
                }).then(function() {
                    return e._parentsEveningService.prepTeachers(e._teachersService.employees)
                }).then(function() {
                    return e.hideModal()
                }).finally(function() {
                    return e.isLoading = !1
                })
            }
        }, {
            key: "openCreateGroupModal",
            value: function() {
                this._modalDefaultService.showModalWithTemplates("modal-create-group", null, "Create group")
            }
        }, {
            key: "openClubDetailsModal",
            value: function() {
                this._modalDefaultService.showModalWithTemplates("modal-create-club", null, "Club")
            }
        }, {
            key: "openModalConfirm",
            value: function() {
                var e = this,
                    t = {
                        cancel: function() {
                            return e._modalDefaultService.pop()
                        },
                        confirm: function() {
                            e._modalDefaultService.pop(), e._$timeout(function() {
                                return e.openAddHomeworkModal(!0)
                            }, 0)
                        },
                        message: "You have selected " + this.usersService.selectedStudents.length + " students, is this correct?"
                    };
                this._modalDefaultService.showModalWithTemplates("modal-confirm", t, "Confirmation")
            }
        }, {
            key: "openAddHomeworkModal",
            value: function(e) {
                var t = this;
                if (!e && this._userService.user.miscellaneous.student_count_warning < this.usersService.selectedStudents.length) this.openModalConfirm();
                else {
                    var n = {
                        onSubmit: function(e) {
                            var n = e.valid,
                                i = e.model;
                            return t._homeworkDataService.addHomework(n, i, t.homework).then(function(e) {
                                return n && !t._homeworkDataService.intermediateError && (t._homeworkDataService.reloadHomework(), t._homeworkDataService.closeAllModals()), e
                            }).finally(function() {
                                t._homeworkDataService.intermediateError && (t._homeworkDataService.intermediateError = !1)
                            })
                        },
                        onRemove: function(e) {
                            var n = e.attachment;
                            n.attachment_id ? t._homeworkDataService.homeworkAttachmentDelete(n.homework_id, n.attachment_id).then(function() {
                                return t._attachmentsService.deleteDocument(n)
                            }) : t._attachmentsService.deleteDocument(n)
                        },
                        buttonText: "Add homework",
                        selectedClass: this.teaching
                    };
                    this._modalDefaultService.showModalWithTemplates("modal-add-homework", n, "Add homework")
                }
            }
        }, {
            key: "closeModal",
            value: function() {
                this._modalDefaultService.closeLastModal()
            }
        }, {
            key: "hideModal",
            value: function() {
                this._$rootScope.$emit("hideModal", {
                    isCancel: !0
                })
            }
        }, {
            key: "checkModal",
            value: function(e, t) {
                var n = this._modalDefaultService.data.find(function(t) {
                    return t.id === e
                });
                return n && n.title === t
            }
        }, {
            key: "_updateLearners",
            value: function() {
                var e = {
                    event_id: this._$stateParams.event_id,
                    employee_id: this.employeeId,
                    learner_ids: this.usersService.selectedStudents.map(function(e) {
                        return e.id
                    })
                };
                this._modalDefaultService.showModalWithTemplates("modal-update-learners", {
                    params: e
                }, "Learners update")
            }
        }, {
            key: "updateGroup",
            value: function() {
                var e = this,
                    t = {
                        group_id: this._groupsService.groupToEdit.id,
                        learner_ids: this.usersService.selectedStudents.map(function(e) {
                            return e.id
                        })
                    };
                this._groupsService.editGroup(t).then(function(t) {
                    e._$scope.$emit("hideModal"), e._groupsService.selectedMembers = null, e._groupsService.getGroupsDataFromDb(), e._notificationService.showSuccessNotification("Group members was successfully updated")
                })
            }
        }, {
            key: "selects",
            get: function() {
                return this.local.infiniteScrollSettings.selects
            }
        }, {
            key: "infiniteScrollSettings",
            get: function() {
                return this.local.infiniteScrollSettings
            }
        }, {
            key: "communityGroups",
            get: function() {
                return this.local.communityGroups
            }
        }, {
            key: "admissionGroup",
            get: function() {
                return this.local.admissionGroup
            },
            set: function(e) {
                this.local.admissionGroup = e
            }
        }, {
            key: "intakeGroup",
            get: function() {
                return this.local.intakeGroup
            },
            set: function(e) {
                this.local.intakeGroup = e
            }
        }, {
            key: "userGroup",
            get: function() {
                return this.local.userGroup
            },
            set: function(e) {
                this.local.userGroup = e
            }
        }, {
            key: "showSelectedStudents",
            get: function() {
                return this.local.showSelectedStudents
            },
            set: function(e) {
                this.local.showSelectedStudents = e
            }
        }, {
            key: "userDefinedGroup",
            get: function() {
                return this.local.userDefinedGroup
            },
            set: function(e) {
                this.local.userDefinedGroup = e
            }
        }, {
            key: "year",
            get: function() {
                return this.local.year
            },
            set: function(e) {
                this.local.year = e
            }
        }, {
            key: "gender",
            get: function() {
                return this.local.gender
            },
            set: function(e) {
                this.local.gender = e
            }
        }, {
            key: "group",
            get: function() {
                return this.local.group
            },
            set: function(e) {
                this.local.group = e
            }
        }, {
            key: "teaching",
            get: function() {
                return this.local.teaching
            },
            set: function(e) {
                this.local.teaching = e
            }
        }, {
            key: "house",
            get: function() {
                return this.local.house
            },
            set: function(e) {
                this.local.house = e
            }
        }, {
            key: "status",
            get: function() {
                return this.local.status
            },
            set: function(e) {
                this.local.status = e
            }
        }, {
            key: "studentName",
            get: function() {
                return this.local.name
            },
            set: function(e) {
                this.local.name = e
            }
        }, {
            key: "leavingDateFrom",
            get: function() {
                return this.local.leavingDateFrom
            },
            set: function(e) {
                this.local.leavingDateFrom = e
            }
        }, {
            key: "leavingDateUntil",
            get: function() {
                return this.local.leavingDateUntil
            },
            set: function(e) {
                this.local.leavingDateUntil = e
            }
        }, {
            key: "isLoading",
            get: function() {
                return this.local.isLoading
            },
            set: function(e) {
                this.local.isLoading = e
            }
        }, {
            key: "secondPartOfCurrentState",
            get: function() {
                return this._routeClassService.secondPartOfCurrentState
            }
        }, {
            key: "firstPartOfCurrentState",
            get: function() {
                return this._routeClassService.firstPartOfCurrentState
            }
        }, {
            key: "state",
            get: function() {
                return this._routeClassService.fullStateName
            }
        }, {
            key: "windowWidth",
            get: function() {
                return this._windowWidthService.windowWidth
            }
        }, {
            key: "students",
            get: function() {
                return this.usersService.selectedStudents
            }
        }, {
            key: "searchArr",
            set: function(e) {
                this.local.searchArr = e
            }
        }, {
            key: "homework",
            get: function() {
                return this.local.homework
            }
        }, {
            key: "isCreateButtonVisible",
            get: function() {
                var e = this.local.createGroupValidStates.includes(this.secondPartOfCurrentState),
                    t = !this._groupsService.isGroupEditModalOpen(),
                    n = this._userService.checkRole("employee");
                return e && t && n
            }
        }]), e
    }();
    exports.default = r
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2182));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("f-student-summary ", ["ui.select"]).component("fStudentSummary", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2183)),
        i = a(t(2184));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2185);
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<form class="f-student-summary">\n  \x3c!--<div class="f-student-summary__title">Date Range</div>--\x3e\n    \x3c!--<button type="button"--\x3e\n            \x3c!--data-time="dateSince"--\x3e\n            \x3c!--ng-click="$ctrl._modalDefaultService.showModalWithTemplates(\'modal-choose-date\', {}, \'Calendar\');--\x3e\n                      \x3c!--$ctrl.saveDate($event)"--\x3e\n            \x3c!--class="f-student-summary__date">{{$ctrl.time.dateSince}}</button>--\x3e\n    \x3c!--<span class="f-student-summary__separator">&mdash;</span>--\x3e\n    \x3c!--<button type="button"--\x3e\n            \x3c!--data-time="dateTo"--\x3e\n            \x3c!--ng-click="$ctrl._modalDefaultService.showModalWithTemplates(\'modal-choose-date\', {}, \'Calendar\');--\x3e\n                      \x3c!--$ctrl.saveDate($event)"--\x3e\n            \x3c!--class="f-student-summary__date">{{$ctrl.time.dateTo}}</button>--\x3e\n    \x3c!--<svg-use name="calendar-small" class="f-student-summary__svg"></svg-use>--\x3e\n</form>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(1),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    var s = function e(t, n, i, s, r, o, l, c) {
        "ngInject";
        (0, a.default)(this, e), this._$scope = t, this._$state = s, this._$rootScope = n, this._$filter = i, this._behaviourDataService = r, this._delayConstantsService = o, this._modalDefaultService = l, this._bCalendarService = c
    };
    s.$inject = ["$scope", "$rootScope", "$filter", "$state", "behaviourDataService", "delayConstantsService", "modalDefaultService", "bCalendarService"], exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2187));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("f-summernote", []).component("fSummernote", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2188)),
        i = a(t(2189));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2190);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            content: "=",
            requiredField: "<",
            editor: "=?"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="f-summernote" blank-link>\n  <summernote class="f-summernote__editor"\n              config="$ctrl.options"\n              ng-required="$ctrl.requiredField"\n              ng-model="$ctrl.content"\n              on-blur="$ctrl.onBlur()"\n              editor="$ctrl.editor"\n              on-paste="$ctrl.onPaste(evt)"\n  ></summernote>\n</div>\n\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a) {
            "ngInject";
            (0, n.default)(this, e), this.options = {
                height: 50,
                fontSizes: ["12", "13", "14", "15", "16", "17", "18", "19", "20", "21", "22", "23", "24"],
                fontNames: ["Helvetica", "sans-serif", "Arial", "Arial Black", "Comic Sans MS", "Courier New", "Calibri"],
                toolbar: [
                    ["style", ["bold", "italic", "underline", "strikethrough"]],
                    ["fontsize", ["fontsize"]],
                    ["fontname", ["fontname"]],
                    ["color", ["color"]],
                    ["para", ["paragraph"]],
                    ["insert", ["link"]]
                ],
                placeholder: "Text"
            }, a.user.miscellaneous && a.user.miscellaneous.editor && a.user.miscellaneous.editor.defaultfont && t(function() {
                i.find(".note-editor").css({
                    "font-family": a.user.miscellaneous.editor.defaultfont
                })
            }, 0)
        }
        return e.$inject = ["$timeout", "$element", "userService"], (0, i.default)(e, [{
            key: "$onInit",
            value: function() {
                this.editor = null
            }
        }, {
            key: "formatInput",
            value: function(e) {
                var t = e.replace(/(\n|\r| class=(")?Mso[a-zA-Z]+(")?)/g, " "),
                    n = new RegExp("\x3c!--(.*?)--\x3e", "g");
                t = t.replace(n, "");
                var i = new RegExp("<(/)*(meta|link|span|\\?xml:|st1:|o:|font)(.*?)>", "gi");
                t = t.replace(i, "");
                for (var a = ["style", "script", "applet", "embed", "noframes", "noscript"], s = 0; s < a.length; s++) i = new RegExp("<" + a[s] + ".*?" + a[s] + "(.*?)>", "gi"), t = t.replace(i, "");
                for (var r = ["style", "start"], o = 0; o < r.length; o++) {
                    var l = new RegExp(" " + r[o] + '="(.*?)"', "gi");
                    t = t.replace(l, "")
                }
                return t
            }
        }, {
            key: "onPaste",
            value: function(e) {}
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(0)),
        i = s(t(2192)),
        a = s(t(2196));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = n.default.module("f-student-marksheets", []).component("fStudentMarksheets", i.default).service({
        FormStudentMarksheetsService: a.default
    }).name;
    exports.default = r
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2193)),
        i = a(t(2194));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2195);
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="f-default f-student-marksheets">\n  <div class="f-student-marksheets__column">\n    <button type="submit" class="btn btn-default btn-submit"\n            ng-click="$ctrl.submit()"\n            ng-disabled="$ctrl.isLoading"\n    >Save</button>\n    <label class="f-default__checkbox f-student-marksheets__checkbox f-default__label _events-none">\n      <input type="checkbox"\n             value="Entry"\n             ng-init="isCompleted = $ctrl.is_completed"\n             ng-change="$ctrl.emitChangeColumnSizes(isCompleted)"\n             ng-model="isCompleted"\n      >\n      <span class="f-default__checkbox-text f-student-marksheets__checkbox-text">Marksheet completed</span>\n    </label>\n  </div>\n  <div class="f-student-marksheets__column" ng-if="!$ctrl._configService.isCordovaEnv">\n    <label class="f-student-marksheets__label">Export as</label>\n    <ui-select\n      theme="selectize"\n      ng-model="$ctrl.currentFormat"\n      on-select="$ctrl.selectFormat($select.selected)"\n      class="select-default f-student-marksheets__select"\n      search-enabled="false"\n    >\n      <ui-select-match placeholder="Export As">{{ $select.selected.value }}</ui-select-match>\n      <ui-select-choices position="up" repeat="format in $ctrl.formats">\n        <span>{{ ::format.value }}</span>\n      </ui-select-choices>\n    </ui-select>\n\n    <div class="f-default__select-mobile-wrap">\n      <select class="f-default__select-mobile"\n        ng-model="$ctrl.currentFormat"\n        ng-change="$ctrl.selectFormat(format)"\n        ng-options="format as format.value for format in $ctrl.formats"\n      ></select>\n    </div>\n    <button type="button" class="btn btn-default btn-export"\n            ng-click="$ctrl.exportMarksheetDoc()"\n    >Export</button>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r, o, l, c, d, u, _, f) {
            "ngInject";
            (0, n.default)(this, e), this._$rootScope = t, this._notificationService = o, this._marksheetService = r, this._blob = l, this._fileSaver = c, this._$window = a, this._FormStudentMarksheetsService = s, this._attachmentsService = d, this._configService = _, this._blockedTransitionService = u, this._$scope = i, this._$timeout = f, this.local = {
                formats: this._FormStudentMarksheetsService.format,
                currentFormat: this._FormStudentMarksheetsService.format[0],
                defaultFormatValue: ".csv",
                isLoading: !1
            }
        }
        return e.$inject = ["$rootScope", "$scope", "$window", "FormStudentMarksheetsService", "marksheetService", "notificationService", "Blob", "FileSaver", "attachmentsService", "blockedTransitionService", "configService", "$timeout"], (0, i.default)(e, [{
            key: "$onInit",
            value: function() {
                this.form = this._$scope.$parent.$parent.form
            }
        }, {
            key: "submit",
            value: function() {
                var e = this;
                if (this.form.$invalid) this._notificationService.showErrorNotification("Invalid values, please enter valid values");
                else {
                    var t = this._marksheetService.generateDataToSend();
                    if (!this._marksheetService.isCanSendData && t.is_completed === this._marksheetService.marksheetData.is_complete) return this._blockedTransitionService.enableTransition(), void this._notificationService.showSuccessNotification("Success");
                    t.learners = t.learners.filter(function(e) {
                        return e.column_values.length > 0
                    }), t.learners = this._marksheetService.removeWasFloodFilledProp(t.learners), this._$scope.$emit("removeWasFloodFilledProp"), this.isLoading = !0, this._marksheetService.setMarksheetToDb(t.marksheet_id, t.learners, t.is_completed).then(function() {
                        e._marksheetService.removeDataToSend(), e._blockedTransitionService.enableTransition(), e._notificationService.showSuccessNotification("Marksheets successfully submitted"), e._marksheetService.marksheetData.is_complete = t.is_completed
                    }).finally(function() {
                        return e.isLoading = !1
                    })
                }
            }
        }, {
            key: "emitChangeColumnSizes",
            value: function(e) {
                var t = this;
                this._marksheetService.preloader = !0, this._$timeout(function() {
                    t._$rootScope.$emit("changeColumnSizes"), t._$rootScope.$emit("changeHeaderSizes"), t.is_completed = e, requestAnimationFrame(function() {
                        return t._marksheetService.preloader = !1
                    })
                })
            }
        }, {
            key: "selectFormat",
            value: function(e) {
                this.currentFormat = e
            }
        }, {
            key: "exportMarksheetDoc",
            value: function() {
                var e = this;
                if (this.form.$invalid) this._notificationService.showErrorNotification("Please fill the fields correctly");
                else {
                    var t = this._marksheetService.currentLearner,
                        n = this.currentFormat.value.slice(1),
                        i = {
                            marksheet_id: this._marksheetService.marksheetId,
                            export_as: n
                        };
                    this._marksheetService.getMarksheetDataFromDb(i).then(function(i) {
                        var a = {
                            content: i,
                            filename: t ? t.fullName.replace(/[ ]/g, "_").toLowerCase() + "_marksheet." + n : e._marksheetService.marksheetId + "." + n,
                            mime_type: n
                        };
                        e._attachmentsService.downloadDocument(a, !1)
                    })
                }
            }
        }, {
            key: "currentFormat",
            set: function(e) {
                this.local.currentFormat = e
            },
            get: function() {
                return this.local.currentFormat
            }
        }, {
            key: "formats",
            get: function() {
                return this.local.formats
            }
        }, {
            key: "isLoading",
            get: function() {
                return this.local.isLoading
            },
            set: function(e) {
                this.local.isLoading = e
            }
        }, {
            key: "is_completed",
            get: function() {
                return this._marksheetService.is_completed
            },
            set: function(e) {
                this._marksheetService.is_completed = e
            }
        }, {
            key: "defaultFormatValue",
            get: function() {
                return this.local.defaultFormatValue
            },
            set: function(e) {
                this.local.defaultFormatValue = e
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(1),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    exports.default = function e() {
        (0, a.default)(this, e), this.format = [{
            value: ".csv"
        }, {
            value: ".tsv"
        }]
    }
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2198));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("f-teacher-book", []).component("fTeacherBook", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2199)),
        i = a(t(2200));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2201);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            onBook: "&"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<form class="f-teacher-book" name="teacherBookForm" novalidate ng-submit="$ctrl.getSlots(teacherBookForm)">\n  <div class="f-default__row-default">\n    <div class="f-default__field-title _required">Learner:</div>\n    <ui-select ng-model="$ctrl.learner"\n               ng-change="$ctrl.selectLearner()"\n               ng-init="hash = $ctrl._selectsService.generateHash($ctrl.selects); $ctrl._selectsService.setItemsNumber($ctrl.infiniteScrollSettings, hash)"\n               uis-open-close="$ctrl._selectsService.handleSelectToggling(hash, $ctrl.infiniteScrollSettings)"\n               class="select-default f-teacher-book__select"\n               ng-attr-id="{{\'_\' + hash}}"\n               theme="selectize"\n               required\n               ng-disabled="$ctrl.isLoading"\n               search-enabled="false">\n      <ui-select-match placeholder="Learner">\n        {{ $select.selected.resultRow }}\n      </ui-select-match>\n      <ui-select-choices repeat="student in $ctrl._parentsEveningService.students | limitTo:$ctrl.selects[hash].currentItems track by $index"\n                         infinite-scroll="$ctrl._selectsService.addNewItemsToSelect($ctrl.selects[hash], $ctrl.infiniteScrollSettings.numToAdd)"\n                         infinite-scroll-container="\'#_\' + hash + \' .ui-select-choices-content\'">\n        <span>{{ ::student.resultRow }}</span>\n      </ui-select-choices>\n    </ui-select>\n\n    <div class="f-default__select-mobile-wrap">\n      <select class="f-default__select-mobile f-teacher-book__select-mobile"\n              ng-disabled="$ctrl.isLoading"\n              required\n              ng-change="$ctrl.selectLearner()"\n              ng-model="$ctrl.learner">\n        <option value="" selected disabled hidden>Learner</option>\n        <option ng-repeat="student in $ctrl._parentsEveningService.students track by $index" ng-value="student">\n          {{ ::student.resultRow }}\n        </option>\n      </select>\n    </div>\n  </div>\n\n  <div class="f-default__row-default">\n    <div class="f-default__field-title _required">Parent:</div>\n    <ui-select class="select-default f-teacher-book__select"\n               ng-model="$ctrl.parent"\n               ng-disabled="!$ctrl.learner || $ctrl.isLoading"\n               theme="selectize"\n               ng-required="$ctrl.learner"\n               search-enabled="false">\n      <ui-select-match placeholder="Parent">\n        {{ $select.selected.title }} {{ $select.selected.forename }} {{ $select.selected.surname }}\n      </ui-select-match>\n      <ui-select-choices repeat="contact in $ctrl.parents track by $index">\n        <span>{{ contact.title }} {{ contact.forename }} {{ contact.surname }}</span>\n      </ui-select-choices>\n    </ui-select>\n    <div class="f-default__select-mobile-wrap">\n      <select class="f-default__select-mobile f-teacher-book__select-mobile"\n              ng-disabled="!$ctrl.learner || $ctrl.isLoading"\n              ng-required="$ctrl.learner"\n              ng-model="$ctrl.parent">\n        <option value="" selected disabled hidden>Parent</option>\n        <option ng-repeat="contact in $ctrl.parents track by $index" ng-value="contact">\n          {{ contact.title }} {{ contact.forename }} {{ contact.surname }}\n        </option>\n      </select>\n    </div>\n  </div>\n\n  <div class="f-default__row-default">\n    <div class="f-default__col-wrap">\n      <div class="f-default__col">\n        <button type="button" class="f-teacher-book__btn btn btn-default _small" ng-click="$ctrl.hideModal()">\n          Cancel\n        </button>\n      </div>\n      <div class="f-default__col">\n        <button type="submit" class="f-teacher-book__btn btn btn-default _green _small _fill">Show Slots</button>\n      </div>\n    </div>\n  </div>\n</form>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r, o, l, c, d, u) {
            "ngInject";
            (0, n.default)(this, e), this._$stateParams = t, this._contactsDataService = a, this._modalDefaultService = s, this._studentsService = r, this._parentsEveningService = o, this._userService = l, this._selectsService = c, this._notificationService = d, this._teachersService = u, this._$rootScope = i, this.initValues()
        }
        return e.$inject = ["$stateParams", "$rootScope", "contactsDataService", "modalDefaultService", "studentsService", "parentsEveningService", "userService", "selectsService", "notificationService", "teachersService"], (0, i.default)(e, [{
            key: "initValues",
            value: function(e) {
                this.data && !e || (this.data = {
                    learner: null,
                    parent: null,
                    parents: [],
                    isLoading: !1,
                    infiniteScrollSettings: this._selectsService.getInfiniteScrollSettings()
                })
            }
        }, {
            key: "selectLearner",
            value: function() {
                this.data.learner.id && this.getLearnerParents(this.data.learner.id)
            }
        }, {
            key: "getLearnerParents",
            value: function(e) {
                var t = this;
                this.data.isLoading = !0, this._contactsDataService.fetchContacts({
                    learner_ids: [e],
                    only_parents: !0
                }).then(function(e) {
                    t.data.parents = e.contacts
                }).finally(function() {
                    t.data.isLoading = !1
                })
            }
        }, {
            key: "getSlots",
            value: function(e) {
                var t = this;
                if (e.$valid) {
                    var n = this._teachersService.selectedTeacher,
                        i = parseInt(this._$stateParams.event_id, 10),
                        a = n ? n.id : this._userService.user.id,
                        s = {
                            event_id: i,
                            parent_id: this.parent.id,
                            options_employee_id: a
                        };
                    return this.data.isLoading = !0, this._parentsEveningService.fetchEvent(s).then(function(e) {
                        var n = {
                            sessions: t._parentsEveningService.formatTeacherSlots(e.parent_options.slots),
                            select: function(e) {
                                var n = e.slot;
                                if (n.available) {
                                    var s = {
                                        event_id: i,
                                        teacher_id: a,
                                        slot_id: n.slot_id,
                                        learner_id: t.learner.id,
                                        parent_id: t.parent.id
                                    };
                                    t._parentsEveningService.book(s).then(function() {
                                        t.onBook({
                                            event_id: i,
                                            employee_id: a
                                        })
                                    })
                                }
                            }
                        };
                        t._modalDefaultService.showModalWithTemplates("modal-book-slot", n, "Available Slots")
                    }).finally(function() {
                        t.data.isLoading = !1
                    })
                }
                this._notificationService.showErrorNotification("Please fill required fields")
            }
        }, {
            key: "hideModal",
            value: function() {
                this._modalDefaultService.pop()
            }
        }, {
            key: "isLoading",
            get: function() {
                return this.data.isLoading
            }
        }, {
            key: "selects",
            get: function() {
                return this.data.infiniteScrollSettings.selects
            }
        }, {
            key: "infiniteScrollSettings",
            get: function() {
                return this.data.infiniteScrollSettings
            }
        }, {
            key: "learner",
            get: function() {
                return this.data.learner
            },
            set: function(e) {
                this.data.learner = e
            }
        }, {
            key: "parents",
            get: function() {
                return this.data.parents
            },
            set: function(e) {
                this.data.parents = e
            }
        }, {
            key: "parent",
            get: function() {
                return this.data.parent
            },
            set: function(e) {
                this.data.parent = e
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2203));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("f-teacher-search", []).component("fTeacherSearch", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2204)),
        i = a(t(2205));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2206);
    var s = {
        template: n.default,
        bindings: {
            name: "@",
            backLink: "@",
            data: "<"
        },
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<form class="f-teacher-search"\n  ng-submit="$ctrl.searchTeacher()">\n  <b-title name="{{ ::$ctrl.name }}"\n    sref="{{ ::$ctrl.backLink }}"></b-title>\n\n  <div class="f-default__row-default f-teacher-search__row">\n    <b-input-container class="f-teacher-search__input-container">\n      <label class="f-teacher-search__label" float-label>Search Teacher</label>\n      <input type="text"\n        with-float-label\n        ng-model="$ctrl._teachersService.data.teachersFullNameSubString"\n        ng-change="$ctrl.searchTeacher()"\n        class="f-default__field-default f-teacher-search__input">\n    </b-input-container>\n  </div>\n\n  <div class="f-default__row-default f-teacher-search__row _triangle _date">\n    <b-input-container class="f-teacher-search__input-container">\n      <label class="f-teacher-search__label" float-label>Date</label>\n      <input ng-click="$ctrl._modalDefaultService.showModalWithTemplates(\'modal-choose-date\', $ctrl.scope, \'Calendar\')"\n        ng-model="$ctrl.data.date.filtered"\n        with-float-label\n        class="f-default__field-default f-teacher-search__date">\n    </b-input-container>\n  </div>\n</form>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r, o) {
            "ngInject";
            (0, n.default)(this, e), this._modalDefaultService = r, this._teachersService = s, this._$filter = a, this._$state = i, this._$scope = t, this._registersService = o, this.local = {
                scope: {
                    setDate: this.setDate.bind(this),
                    getDate: this.getDate.bind(this),
                    handleClick: this.handleClick.bind(this)
                }
            }
        }
        return e.$inject = ["$scope", "$state", "$filter", "teachersService", "modalDefaultService", "registersService"], (0, i.default)(e, [{
            key: "$onInit",
            value: function() {
                this._teachersService.data.teachersFullNameSubString = "", this._teachersService.filteredTeachers = this._teachersService.teachers
            }
        }, {
            key: "searchTeacher",
            value: function() {
                this._teachersService.filteredTeachers = this._$filter("fullName")(this._teachersService.teachers, this._teachersService.data.teachersFullNameSubString.toLowerCase())
            }
        }, {
            key: "setDate",
            value: function(e) {
                this._registersService.setDate(e)
            }
        }, {
            key: "getDate",
            value: function() {
                return this._registersService.date.value
            }
        }, {
            key: "handleClick",
            value: function() {
                this._$scope.$emit("hideModal")
            }
        }, {
            key: "scope",
            get: function() {
                return this.local.scope
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2208));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("f-unbook-slot", []).component("fUnbookSlot", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2209)),
        i = a(t(2210));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2211);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            model: "<",
            unbook: "&"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<form class="f-unbook-slot">\n  <div class="f-default__row-default f-unbook-slot__row">\n      <b>Date</b>: {{ $ctrl.model.date }}\n  </div>\n  <div class="f-default__row-default f-unbook-slot__row">\n      <b>Subjects</b>: {{ $ctrl.model.subject }}\n  </div>\n  <div class="f-default__row-default f-unbook-slot__row" ng-if="$ctrl.model.parent">\n      <b>Parent</b>: {{ $ctrl.model.parent.forename }} {{ $ctrl.model.parent.surname }}\n  </div>\n  <div class="f-default__row-default f-unbook-slot__row">\n      <b>Learner</b>: {{ $ctrl.model.learner.name }}\n  </div>\n  <div class="f-default__row-default f-unbook-slot__row">\n      <b>Note</b>: {{ $ctrl.model.notes_to_teacher || \'-\' }}\n  </div>\n\n  <div class="f-default__row-default f-unbook-slot__row">\n    <button type="button" class="f-unbook-slot__btn btn btn-default _red _fill _small"\n            ng-click="$ctrl.unbook({ slot: $ctrl.model })"\n    >Unbook</button>\n  </div>\n</form>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(35)),
        i = s(t(1)),
        a = s(t(2));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = function() {
        function e() {
            "ngInject";
            (0, i.default)(this, e), this._model = {}
        }
        return (0, a.default)(e, [{
            key: "model",
            set: function(e) {
                if (e) {
                    var t = void 0;
                    e.parents && (t = e.parents.find(function(t) {
                        return t.id === e.parent_id
                    })), this._model = (0, n.default)({}, e, {
                        parent: t
                    })
                }
            },
            get: function() {
                return this._model
            }
        }]), e
    }();
    exports.default = r
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2213));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("f-update-learners", []).component("fUpdateLearners", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2214)),
        i = a(t(2215));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2216);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            params: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<form class="f-update-learners">\n  <div class="f-update-learners__row">\n    <label for="subject" class="f-update-learners__label">Subject:</label>\n    <textarea type="text" id="subject" rows="3" class="f-update-learners__textarea"\n              ng-model="$ctrl.subject"></textarea>\n  </div>\n  <div class="f-update-learners__row">\n      <button type="button" class="f-update-learners__btn btn btn-default _green _fill _small"\n              ng-disabled="!$ctrl.subject"\n              ng-click="$ctrl._updateLearners()">Update Learners</button>\n  </div>\n</form>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r) {
            "ngInject";
            (0, n.default)(this, e), this._parentsEveningService = i, this._modalDefaultService = a, this._notificationService = s, this._teachersService = r, this._$stateParams = t, this.subject = null
        }
        return e.$inject = ["$stateParams", "parentsEveningService", "modalDefaultService", "notificationService", "teachersService"], (0, i.default)(e, [{
            key: "_updateLearners",
            value: function() {
                var e = this;
                this.params.subjects = this.subject, this._parentsEveningService.updateEmployeeLearners(this.params).then(function() {
                    e._notificationService.showSuccessNotification("Success"), e._modalDefaultService.closeAllModals(), e._parentsEveningService.getEventDetails({
                        event_id: e._$stateParams.event_id
                    }).then(function() {
                        e._parentsEveningService.prepTeachers(e._teachersService.employees)
                    })
                })
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2218));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("f-view-forms", []).component("fViewForms", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2219)),
        i = a(t(2220));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2221);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            form: "<",
            personal: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="f-view-forms">\n  <div class="f-default__row-default f-view-forms__row"\n       ng-if="$ctrl._userService.checkRole(\'employee\') && $ctrl.form.employees">\n    <div class="f-view-forms__elem" ng-if="$ctrl.form.responses > 1">\n\n      <div class="f-view-forms__label">Employee:</div>\n\n      <ui-select class="select-default f-view-forms__select"\n                 ng-model="$ctrl.employee"\n                 ng-init="hash = $ctrl._selectsService.generateHash($ctrl.selects); $ctrl._selectsService.setItemsNumber($ctrl.infiniteScrollSettings, hash)"\n                 uis-open-close="$ctrl._selectsService.handleSelectToggling(hash, $ctrl.infiniteScrollSettings)"\n                 ng-attr-id="{{\'_\' + hash}}"\n                 theme="selectize"\n                 search-enabled="false">\n        <ui-select-match placeholder="Select">\n          {{ $select.selected.fullName }}\n        </ui-select-match>\n        <ui-select-choices repeat="employee in $ctrl.employees | limitTo:$ctrl.selects[hash].currentItems track by $index"\n                           infinite-scroll-container="\'#_\' + hash + \' .ui-select-choices-content\'"\n                           infinite-scroll-distance=\'1\'\n                           infinite-scroll="$ctrl._selectsService.addNewItemsToSelect($ctrl.selects[hash], $ctrl.infiniteScrollSettings.numToAdd)">\n          <span>{{ ::employee.fullName }}</span>\n        </ui-select-choices>\n      </ui-select>\n\n      <div class="f-default__select-mobile-wrap f-quiz__select-mobile-wrap">\n        <select class="f-default__select-mobile f-quiz__select-mobile"\n                ng-options="employee as employee.fullName for employee in $ctrl.employees"\n                ng-model="$ctrl.employee">\n          </option>\n        </select>\n      </div>\n\n    </div>\n    <div class="f-view-forms__elem" ng-if="$ctrl.form.responses <= 1">\n      <div class="f-view-forms__label">Employee:</div>\n      <p class="f-view-forms__text">{{ $ctrl.employee.fullName }}</p>\n    </div>\n  </div>\n\n  <div class="f-default__row-default f-view-forms__row"\n       ng-if="$ctrl._userService.checkRole(\'employee\') && $ctrl.form.learners">\n    <div class="f-view-forms__elem" ng-if="$ctrl.form.responses > 1">\n\n      <div class="f-view-forms__label">Learner:</div>\n\n      <ui-select class="select-default f-view-forms__select"\n                 ng-model="$ctrl.learner"\n                 ng-init="hash = $ctrl._selectsService.generateHash($ctrl.selects); $ctrl._selectsService.setItemsNumber($ctrl.infiniteScrollSettings, hash)"\n                 uis-open-close="$ctrl._selectsService.handleSelectToggling(hash, $ctrl.infiniteScrollSettings)"\n                 ng-attr-id="{{\'_\' + hash}}"\n                 theme="selectize"\n                 search-enabled="false">\n        <ui-select-match placeholder="Select">\n          {{ $select.selected.fullName }}\n        </ui-select-match>\n        <ui-select-choices repeat="learner in $ctrl.learners | limitTo:$ctrl.selects[hash].currentItems track by $index"\n                           infinite-scroll-container="\'#_\' + hash + \' .ui-select-choices-content\'"\n                           infinite-scroll-distance=\'1\'\n                           infinite-scroll="$ctrl._selectsService.addNewItemsToSelect($ctrl.selects[hash], $ctrl.infiniteScrollSettings.numToAdd)">\n          <span>{{ ::learner.fullName }}</span>\n        </ui-select-choices>\n      </ui-select>\n\n      <div class="f-default__select-mobile-wrap f-quiz__select-mobile-wrap">\n        <select class="f-default__select-mobile f-quiz__select-mobile"\n                ng-options="learner as learner.fullName for learner in $ctrl.learners"\n                ng-model="$ctrl.learner">\n          </option>\n        </select>\n      </div>\n\n    </div>\n    <div class="f-view-forms__elem" ng-if="$ctrl.form.responses <= 1">\n      <div class="f-view-forms__label">Learner:</div>\n      <p class="f-view-forms__text">{{ $ctrl.learner.fullName }}</p>\n    </div>\n  </div>\n\n\n  <div class="f-default__row-default f-view-forms__row"\n       ng-if="$ctrl.learner && $ctrl.learner.parentName && $ctrl.form.recipient_type !== \'learner\'"\n  >\n    <div class="f-view-forms__label">Parent:</div>\n    <p class="f-view-forms__text">{{ $ctrl.learner.parentName }}</p>\n  </div>\n  <div class="f-default__row-default f-view-forms__row">\n    <p class="f-view-forms__subject">{{ $ctrl.form.subject }}</p>\n  </div>\n  <div class="f-default__row-default f-view-forms__row" ng-repeat="field in $ctrl.form.fields track by $index">\n\n    <div class="f-view-forms__elem"\n         ng-if="field.type !== \'subheading\' && field.type !== \'paragraph\' && $ctrl._userService.checkRole(\'employee\')">\n      <div class="f-view-forms__label">{{ field.label }}:</div>\n      <p class="f-view-forms__text" ng-if="!$ctrl.personal">{{ (value = $ctrl.getFieldValue(field.id)) ? value : \'-\' }}</p>\n      <p class="f-view-forms__text" ng-if="$ctrl.personal">{{ field.response ? field.response : \'-\' }}</p>\n    </div>\n\n    <div class="f-view-forms__elem"\n         ng-if="field.type !== \'subheading\' && field.type !== \'paragraph\' && $ctrl._userService.checkRole(\'parent\') && !$ctrl._userService.checkRole(\'employee\')">\n      <div class="f-view-forms__label">{{ field.label }}:</div>\n      <p class="f-view-forms__text">{{ field.response ? field.response : \'-\' }}</p>\n    </div>\n\n    <div class="f-view-forms__elem" ng-if="field.type === \'subheading\'">\n      <div class="f-view-forms__subheading">{{ field.content }}</div>\n    </div>\n\n    <div class="f-view-forms__elem" ng-if="field.type === \'paragraph\'">\n      <p class="f-view-forms__text" ng-bind-html="field.content"></p>\n    </div>\n\n  </div>\n\n  <div class="f-default__row-default f-view-forms__row _bottom">\n    <div class="f-view-forms__controls">\n      <button type="button" class="f-view-forms__btn btn btn-default _red"\n              ng-if="$ctrl._userService.checkRole(\'employee\') && !$ctrl.personal"\n              ng-click="$ctrl.showReactivateConfirmModal()">Delete</button>\n      <button type="button" class="f-view-forms__btn btn-default f-view-forms__close btn"\n              ng-click="$ctrl.closeModal()">Close</button>\n      <button type="button" class="f-view-forms__btn f-view-forms__export btn"\n              ng-if="$ctrl._userService.checkRole(\'employee\') && !$ctrl.personal"\n              ng-click="$ctrl.downloadCSV()">Export</button>\n    </div>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(43)),
        i = s(t(1)),
        a = s(t(2));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = function() {
        function e(t, n, a, s, r) {
            "ngInject";
            (0, i.default)(this, e), this._attachmentsService = n, this._userService = a, this._modalDefaultService = t, this._selectsService = s, this._requestService = r, this.learner = null, this.learners = [], this.employee = null, this.employees = [], this.local = {
                infiniteScrollSettings: this._selectsService.getInfiniteScrollSettings()
            }
        }
        return e.$inject = ["modalDefaultService", "attachmentsService", "userService", "selectsService", "requestService"], (0, a.default)(e, [{
            key: "$onInit",
            value: function() {
                this.setDefault()
            }
        }, {
            key: "setDefault",
            value: function() {
                this.form.learners ? (this.learners = this.form.learners.filter(function(e) {
                    return e.submitted
                }), this.learner = this.learners[0]) : this.form.employees && (this.employees = this.form.employees.filter(function(e) {
                    return e.submitted
                }), this.employee = this.employees[0]), this.employee || this.learner || this.closeModal()
            }
        }, {
            key: "removeLearnerResponse",
            value: function() {
                var e = this,
                    t = this.form.learners.find(function(t) {
                        return t.learner_id === e.learner.learner_id
                    });
                t.submitted = null, (0, n.default)(t, "response"), this.form.learners_no_submitted.push(t), this.form.learners = this.form.learners.filter(function(t) {
                    return t.learner_id !== e.learner.learner_id
                })
            }
        }, {
            key: "removeEmployeeReponse",
            value: function() {
                var e = this,
                    t = this.form.employees.find(function(t) {
                        return t.learner_id === e.employee.employee_id
                    });
                t.submitted = null, (0, n.default)(t, "response"), this.form.employees_no_submitted.push(t), this.form.employees = this.form.employees.filter(function(t) {
                    return t.employee_id !== e.employee.employee_id
                })
            }
        }, {
            key: "reactiveFormResponse",
            value: function() {
                var e = this,
                    t = {
                        form_id: this.form.id
                    };
                this.learner ? t.learner_id = this.learner.learner_id : this.employee && (t.employee_id = this.employee.employee_id), this._requestService.getData("forms", "form_reactivate", t).then(function(t) {
                    if (e.learner) e.removeLearnerResponse();
                    else {
                        if (!e.employee) throw new Error("Expected either learner or employee");
                        e.removeEmployeeResponse()
                    }
                    e.form.modified = !0, e.closeModal(), e.setDefault()
                })
            }
        }, {
            key: "showReactivateConfirmModal",
            value: function() {
                var e = this,
                    t = {
                        message: "Do you want to remove the response from " + (this.learner ? this.learner.fullName : this.employee.fullName) + "?",
                        confirm: function() {
                            return e.reactiveFormResponse()
                        },
                        cancel: function() {
                            return e.closeModal()
                        }
                    };
                this._modalDefaultService.showModalWithTemplates("modal-confirm", t, "Are you sure?")
            }
        }, {
            key: "closeModal",
            value: function() {
                this._modalDefaultService.pop()
            }
        }, {
            key: "downloadCSV",
            value: function() {
                var e = this.learner ? this.formatLearnersData(!0) : this.formatEmployeesData(!0),
                    t = this.learner ? this.formatLearnersData() : this.formatEmployeesData();
                this._attachmentsService.downloadCSV(e.concat([
                    [""]
                ]).concat(t), this.form.subject)
            }
        }, {
            key: "formatEmployeesData",
            value: function(e) {
                var t = this,
                    n = e ? [this.form.subject] : ["No Response"],
                    i = ["Employee", "date/time"],
                    a = [];
                return this.form.fields.filter(function(e) {
                    return "subheading" !== e.type && "paragraph" !== e.type
                }).forEach(function(n, s) {
                    i.push(n.label);
                    var r = e ? t.form.employees.filter(function(e) {
                        return e.submitted
                    }) : t.form.employees_no_submitted;
                    r.forEach(function(t, i) {
                        if (a.length === i && 0 === s) {
                            var o = "UNKNOWN";
                            angular.isDefined(t.fullName) && (o = t.fullName), a.push([]), a[i].push(o), a[i].push(e ? t.submitted : "-")
                        }
                        var l = void 0;
                        r[i].response && (l = r[i].response.find(function(e) {
                            return e.field_id === n.id
                        })), a[i].push(l ? l.value : "-")
                    })
                }), [n, i].concat(a)
            }
        }, {
            key: "formatLearnersData",
            value: function(e) {
                var t = this,
                    n = e ? [this.form.subject] : ["No Response"],
                    i = void 0,
                    a = [],
                    s = this.form.fields.filter(function(e) {
                        return "subheading" !== e.type && "paragraph" !== e.type
                    });
                return i = e ? "learner" === this.form.recipient_type ? ["Learner Surname", "Learner Forename", "Learner Form", "Learner Year", "Admission number", "Learner Status", "date/time"] : ["Learner Surname", "Learner Forename", "Learner Form", "Learner Year", "Admission number", "Learner Status", "Parent", "date/time"] : [], s.forEach(function(n, s) {
                    e && i.push(n.label);
                    var r = t.form[e ? "learners" : "learners_no_submitted"];
                    r.forEach(function(e, i) {
                        a.length === i && 0 === s && (a.push([]), a[i].push(e.surname), a[i].push(e.forename), a[i].push(e.formGroup), a[i].push(e.yearGroup), a[i].push(e.admissionNumber), a[i].push(e.learnerStatus), "learner" !== t.form.recipient_type && a[i].push(e.parentName), e.submitted ? a[i].push(e.submitted) : a[i].push("-"));
                        var o = void 0;
                        r[i].response && (o = r[i].response.find(function(e) {
                            return e.field_id === n.id
                        })), a[i].push(o ? o.value : "-")
                    })
                }), [n, i].concat(a)
            }
        }, {
            key: "getFieldValue",
            value: function(e) {
                if (this.learner) {
                    if (!this.learner.response) return;
                    var t = this.learner.response.find(function(t) {
                        return t.field_id === e
                    });
                    return !!t && t.value
                }
                if (this.employee) {
                    if (!this.employee.response) return;
                    var n = this.employee.response.find(function(t) {
                        return t.field_id === e
                    });
                    return !!n && n.value
                }
            }
        }, {
            key: "selects",
            get: function() {
                return this.local.infiniteScrollSettings.selects
            }
        }, {
            key: "infiniteScrollSettings",
            get: function() {
                return this.local.infiniteScrollSettings
            }
        }]), e
    }();
    exports.default = r
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2223));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("f-update-field", []).component("fUpdateField", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2224)),
        i = a(t(2225));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2226);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            title: "<",
            initialValue: "<",
            update: "&",
            cancel: "&"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<form class="f-default f-update-field" name="updateFieldForm" ng-submit="$ctrl.submit(updateFieldForm)" novalidate>\n  <div class="f-default__row-default">\n    <div class="f-default__field-title _required">{{$ctrl.title}}:</div>\n    <textarea class="f-default__textarea f-update-field__textarea" required ng-model="$ctrl.value"></textarea>\n  </div>\n  <div class="f-default__row-default">\n    <div class="f-default__col-wrap">\n      <div class="f-default__col">\n        <button type="button" class="f-update-field__btn btn btn-default _small"\n                ng-click="$ctrl.cancel()"\n        >Cancel</button>\n      </div>\n      <div class="f-default__col">\n        <button type="submit" class="f-update-field__btn btn btn-default _green _small _fill"\n                ng-disabled="$ctrl.initialValue === $ctrl.value"\n        >Update</button>\n      </div>\n    </div>\n  </div>\n</form>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e() {
            "ngInject";
            (0, n.default)(this, e), this.value = null
        }
        return (0, i.default)(e, [{
            key: "$onInit",
            value: function() {
                this.value = this.initialValue
            }
        }, {
            key: "submit",
            value: function(e) {
                e.$invalid || this.update({
                    value: this.value
                })
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2228));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("f-update-input-field", []).component("fUpdateInputField", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2229)),
        i = a(t(2230));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2231);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            title: "<",
            initialValue: "<",
            update: "&",
            cancel: "&",
            options: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<form class="f-default f-update-input-field" name="updateInputFieldForm" ng-submit="$ctrl.submit(updateInputFieldForm)" novalidate>\n  <div class="f-default__row-default">\n    <div class="f-default__field-title"\n         ng-class="{ \'_required\': $ctrl.options.required }">{{$ctrl.title}}:</div>\n    <input class="f-default__input f-update-input-field__input"\n      ng-required="$ctrl.options.required"\n      ng-attr-type="{{$ctrl.options.type || \'text\'}}"\n      ng-model="$ctrl.value"></input>\n  </div>\n  <div class="f-default__row-default">\n    <div class="f-default__col-wrap">\n      <div class="f-default__col">\n        <button type="button" class="f-update-input-field__btn btn btn-default _small"\n                ng-click="$ctrl.cancel()"\n        >Cancel</button>\n      </div>\n      <div class="f-default__col">\n        <button type="submit" class="f-update-input-field__btn btn btn-default _green _small _fill"\n                ng-disabled="$ctrl.isSameValue() || $ctrl.isUpdating"\n        >Update</button>\n      </div>\n    </div>\n  </div>\n</form>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e() {
            "ngInject";
            (0, n.default)(this, e), this.value = null
        }
        return (0, i.default)(e, [{
            key: "$onInit",
            value: function() {
                this.value = this.initialValue
            }
        }, {
            key: "isSameValue",
            value: function() {
                return "" + this.initialValue == "" + this.value
            }
        }, {
            key: "submit",
            value: function(e) {
                var t = this;
                e.$invalid || (this.isUpdating = !0, this.update({
                    value: this.value
                }).finally(function() {
                    t.isUpdating = !1
                }))
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2233));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("f-update-sessions", []).component("fUpdateSessions", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2234)),
        i = a(t(2235));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2236);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            sessions: "<",
            update: "&",
            cancel: "&"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<form class="f-default f-update-sessions" name="updateSessionsForm" novalidate\n      ng-submit="$ctrl.submit(updateSessionsForm)"\n>\n  <div class="f-default__row-default">\n    <ul class="f-update-sessions__date-list">\n      <li class="f-update-sessions__date" ng-repeat="session in $ctrl.sessions">\n        <div class="f-update-sessions__date-col _big">\n          <b-date-time-select name="startTime"\n            format="{{::$ctrl._dateService.getDateFormat(\'apiDateTime\')}}"\n            visible-date-format="{{::$ctrl._dateService.getDateFormat(\'momentDateTime\')}}"\n            date="session.start_time"\n            is-disabled="true"\n            placeholder="Start time"></b-date-time-select>\n        </div>\n        <div class="f-update-sessions__date-col">\n          <b-date-time-select name="endTime"\n            format="HH:mm"\n            min-date="session.minTime"\n            date="session.end_time"\n            placeholder="End time"\n            show-header="false"\n            on-change="$ctrl.onChange({ newValue }, session)"></b-date-time-select>\n        </div>\n      </li>\n    </ul>\n  </div>\n  <div class="f-default__row-default">\n    <div class="f-default__col-wrap">\n      <div class="f-default__col">\n        <button type="button" class="f-update-sessions__btn btn btn-default _small"\n                ng-click="$ctrl.cancel()"\n        >Cancel</button>\n      </div>\n      <div class="f-default__col">\n        <button type="submit" class="f-update-sessions__btn btn btn-default _green _small _fill">Update</button>\n      </div>\n    </div>\n  </div>\n</form>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t) {
            "ngInject";
            (0, n.default)(this, e), this._dateService = t
        }
        return e.$inject = ["dateService"], (0, i.default)(e, [{
            key: "$onInit",
            value: function() {
                this.initialSessions = angular.copy(this.sessions)
            }
        }, {
            key: "submit",
            value: function(e) {
                var t = this;
                if (!e.$invalid) {
                    var n = this.sessions.filter(function(e) {
                        return t.isChanged(e)
                    }).map(function(e) {
                        var t = e.id,
                            n = e.end_time;
                        return {
                            id: t,
                            end_time: e.start_time.slice(0, -5) + n
                        }
                    });
                    this.update({
                        value: n
                    })
                }
            }
        }, {
            key: "isChanged",
            value: function(e) {
                return this.initialSessions.find(function(t) {
                    return t.id === e.id
                }).end_time !== e.end_time
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2238));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("f-update-date", []).component("fUpdateDate", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2239)),
        i = a(t(2240));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2241);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            initialValue: "<",
            update: "&",
            cancel: "&"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<form class="f-default f-update-date" name="updateDateForm" ng-submit="$ctrl.submit(updateDateForm)" novalidate>\n  <div class="f-default__row-default">\n    <div class="f-default__field-title">Available to parents:</div>\n    <b-date-time-select name="availableToParents"\n      format="{{::$ctrl._dateService.getDateFormat(\'apiDateTime\')}}"\n      visible-date-format="{{::$ctrl._dateService.getDateFormat(\'momentDateTime\')}}"\n      date="$ctrl.model.available_to_parents"\n      placeholder="Date"></b-date-time-select>\n  </div>\n  <div class="f-default__row-default">\n    <div class="f-default__field-title">Closed to parents:</div>\n    <b-date-time-select name="closedToParents"\n      format="{{::$ctrl._dateService.getDateFormat(\'apiDateTime\')}}"\n      visible-date-format="{{::$ctrl._dateService.getDateFormat(\'momentDateTime\')}}"\n      date="$ctrl.model.closed_to_parents"\n      placeholder="Date"></b-date-time-select>\n  </div>\n  <div class="f-default__row-default">\n    <div class="f-default__col-wrap">\n      <div class="f-default__col">\n        <button type="button" class="f-update-date__btn btn btn-default _small"\n                ng-click="$ctrl.cancel()"\n        >Cancel</button>\n      </div>\n      <div class="f-default__col">\n        <button type="submit" class="f-update-date__btn btn btn-default _green _small _fill">Update</button>\n      </div>\n    </div>\n  </div>\n</form>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t) {
            "ngInject";
            (0, n.default)(this, e), this._dateService = t, this.model = null
        }
        return e.$inject = ["dateService"], (0, i.default)(e, [{
            key: "$onInit",
            value: function() {
                this.model = this.initialValue
            }
        }, {
            key: "submit",
            value: function(e) {
                e.$invalid || this.update({
                    model: this.model
                })
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2243));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("f-add-time-test", []).component("fAddTimeTest", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2244)),
        i = a(t(2245));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2246);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<form class="f-club-sessions" name="clubSessionsForm" novalidate>\n  <div class="f-club-sessions__left" style="overflow-y: auto;">\n    <div class="f-default__row-default f-club-sessions__row">\n      <div class="f-default__field-title " style="color: white">Start date:</div>\n      <b-date-time-select class="f-club-sessions__btn-date"\n        format="YYYY-MM-DD HH:mm"\n        visible-date-format="YYYY-MM-DD HH:mm"\n        date="$ctrl.model.date"\n        on-change="$ctrl.a({ newValue })"\n        placeholder=""></b-date-time-select>\n    </div>\n\n      <div class="f-default__row-default f-club-sessions__row">\n          <div class="f-default__field-title" style="color: white">Weeks:</div>\n          <input type="number" class="f-default__input f-club-sessions__input"\n                 placeholder="-"\n                 min="1"\n                 ng-model="$ctrl.model.weeks"\n          >\n      </div>\n      <hr>\n      <div class="f-default__row-default f-club-sessions__row">\n          <div class="f-default__field-title" style="color: white">Test Kit Count:</div>\n          <input type="number" class="f-default__input f-club-sessions__input"\n                 placeholder="-"\n                 min="0"\n                 ng-model="$ctrl.model.test_kit_count"\n          >\n      </div>\n      <label class="events-forms__checkbox" style="margin-bottom: 20px"  ng-if="$ctrl.scope.learner_ids && $ctrl.scope.learner_ids.length > 0">\n          <input type="checkbox" class="events-forms__checkbox-input"\n                 ng-model="$ctrl.model.require_parent_submission"\n                 ng-class="{ _checked: $ctrl.model.require_parent_submission }"\n          >\n          <span class="events-forms__checkbox-title">parents submit result</span>\n      </label>\n    <div class="f-default__row-default f-club-sessions__row">\n      <button type="submit" class="btn btn-default _small _fill _blue f-club-sessions__btn"\n              ng-click="$ctrl.addDate(clubSessionsForm)"\n      >\n        Add session\n      </button>\n    </div>\n    <div class="f-default__row-default f-club-sessions__row _bottom">\n      <div class="f-default__col-wrap f-club-sessions__col-wrap">\n        <div class="f-default__col f-club-sessions__col">\n          <button type="button" class="btn btn-default _small f-club-sessions__btn"\n                  ng-click="$ctrl.closeModal()"\n          >\n            Back\n          </button>\n        </div>\n        <div class="f-default__col f-club-sessions__col">\n          <button type="button" class="btn btn-default _small _fill _green f-club-sessions__btn"\n                  ng-disabled="!$ctrl.scope.sessions.length || $ctrl.isLoading"\n                  ng-click="$ctrl.submit()"\n          >\n            Done\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class="f-club-sessions__right">\n    <t-time-test dates="$ctrl.scope.sessions"\n                  on-remove="$ctrl.scope.onDateRemove({ index })"\n    ></t-time-test>\n  </div>\n</form>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(10)),
        i = s(t(1)),
        a = s(t(2));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = function() {
        function e(t, n, a, s) {
            "ngInject";
            (0, i.default)(this, e), this._$timeout = t, this._modalDefaultService = n, this._notificationService = a, this._dateService = s, this.initModel(), this.isLoading = !1
        }
        return e.$inject = ["$timeout", "modalDefaultService", "notificationService", "dateService"], (0, a.default)(e, [{
            key: "initModel",
            value: function(e) {
                this.model && !e || (this.model = {
                    date: null,
                    test_kit_count: 0,
                    weeks: 1,
                    require_parent_submission: !1
                })
            }
        }, {
            key: "submit",
            value: function() {
                var e = this;
                this.isLoading = !0, this.scope.onSubmit(this.model).finally(function() {
                    return e.isLoading = !1
                })
            }
        }, {
            key: "addDate",
            value: function(e) {
                if (!e.$invalid && this.model.date) {
                    for (var t = void 0, i = 0; i < this.model.weeks; i++) t = t ? moment(t).add(7, "days").format("YYYY-MM-DD HH:mm") : this.model.date, this.scope.onDatesAdd({
                        model: t
                    });
                    this.model = (0, n.default)({}, this.model, {
                        date: null,
                        weeks: 1
                    }), this._$timeout(function() {
                        return e.$setPristine()
                    })
                }
            }
        }, {
            key: "closeModal",
            value: function() {
                this._modalDefaultService.pop()
            }
        }]), e
    }();
    exports.default = r
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = J(t(0)),
        i = J(t(2248)),
        a = J(t(2253)),
        s = J(t(2258)),
        r = J(t(2263)),
        o = J(t(2268)),
        l = J(t(2273)),
        c = J(t(2278)),
        d = J(t(2283)),
        u = J(t(2288)),
        _ = J(t(2293)),
        f = J(t(2298)),
        v = J(t(2303)),
        m = J(t(2308)),
        h = J(t(2313)),
        p = J(t(2318)),
        g = J(t(2323)),
        b = J(t(2328)),
        S = J(t(2333)),
        y = J(t(2338)),
        k = J(t(2343)),
        M = J(t(2348)),
        w = J(t(2353)),
        D = J(t(2358)),
        T = J(t(2363)),
        C = J(t(2368)),
        P = J(t(2373)),
        L = J(t(2378)),
        x = J(t(2384)),
        j = J(t(2389)),
        I = J(t(2394)),
        A = J(t(2399)),
        E = J(t(2406)),
        O = J(t(2411)),
        F = J(t(2416)),
        N = J(t(2421)),
        R = J(t(2426)),
        Y = J(t(2431)),
        B = J(t(2436)),
        H = J(t(2441)),
        q = J(t(2446)),
        W = J(t(2451)),
        V = J(t(2456)),
        z = J(t(2461)),
        G = J(t(2466)),
        U = J(t(2471));

    function J(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var Q = n.default.module("app.lists", [i.default, a.default, s.default, r.default, o.default, l.default, c.default, d.default, u.default, _.default, f.default, v.default, m.default, h.default, p.default, g.default, b.default, S.default, y.default, k.default, M.default, w.default, D.default, T.default, C.default, P.default, L.default, x.default, x.default, j.default, I.default, A.default, E.default, O.default, F.default, N.default, R.default, Y.default, B.default, H.default, q.default, W.default, V.default, z.default, G.default, U.default]).name;
    exports.default = Q
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2249));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("l-add-marks", []).component("lAddMarks", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2250)),
        i = a(t(2251));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2252);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            learner: "=",
            index: "<",
            showOnlyActive: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<ul class="l-add-marks" ng-class="{ \'_keyboard\': $ctrl._registersService.isKeyboardActiveInputDevice }">\n  <li class="l-add-marks__item"\n      ng-if="!$ctrl.showOnlyActive || $ctrl.showOnlyActive && $ctrl._registersService.register.periods[item.period_id].is_requested"\n      ng-repeat="item in $ctrl.marks track by $index"\n\n      ng-class="{\n        _active: $ctrl._registersService.register.periods[item.period_id].is_requested,\n        _check: item.registerType == \'Present\',\n        _comment: item.comments,\n      }">\n    <div class="l-add-marks__top" ng-click="item.comments && $ctrl.showComment(item.comments)">{{ ::item.name | removeNumber }}</div>\n    <div class="l-add-marks__bottom"\n         ng-if="!($ctrl._registersService.isKeyboardActiveInputDevice && $ctrl._registersService.register.periods[item.period_id].is_requested) && !item.isEmpty">\n      {{ ::(item.mark) }}\n    </div>\n    <div class="l-add-marks__bottom" ng-if="$ctrl._registersService.isKeyboardActiveInputDevice && ($ctrl._registersService.register.periods[item.period_id].is_requested || item.isEmpty)">\n      <input class="l-add-marks__input"\n             register-input-cursor\n             index="$ctrl.index"\n             mark="item"\n             show-confirm-modal="$ctrl.showConfirmModal({ mark, inputLetter })"\n             ng-change="$ctrl.removeAssignedFlag(item)"\n             maxlength="1"\n             type="input"\n             ng-focus="$ctrl.setPrevValue(item)"\n             ng-model="item.mark" />\n    </div>\n  </li>\n</ul>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(26)),
        i = s(t(1)),
        a = s(t(2));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = function() {
        function e(t, n, a, s) {
            "ngInject";
            (0, i.default)(this, e), this._modalDefaultService = n, this._registersService = a, this._$scope = t, this._$stateParams = s, this.local = {
                student: a.currentStudent
            }
        }
        return e.$inject = ["$scope", "modalDefaultService", "registersService", "$stateParams"], (0, a.default)(e, [{
            key: "showComment",
            value: function(e) {
                var t = this;
                this._modalDefaultService.showModalWithTemplates("modal-show-message", {
                    message: e,
                    onCancel: function() {
                        return t.hideModal()
                    }
                }, "Comments")
            }
        }, {
            key: "removeAssignedFlag",
            value: function(e) {
                e.reassignedMark = !1
            }
        }, {
            key: "hideModal",
            value: function() {
                this._modalDefaultService.pop()
            }
        }, {
            key: "cancel",
            value: function(e) {
                e.mark = e.prevMark, this.hideModal(), this.goToNextElem()
            }
        }, {
            key: "confirm",
            value: function(e, t) {
                var n = this._registersService.marks.lesson_codes.filter(function(e) {
                    return e.code === t
                }).pop();
                n && (e.mark = t, e.prevMark = t, e.registerType = n.type), this.hideModal(), this.goToNextElem()
            }
        }, {
            key: "showConfirmModal",
            value: function(e) {
                var t = e.mark,
                    n = e.inputLetter;
                this._modalDefaultService.showModalWithTemplates("modal-confirm", {
                    confirm: this.confirm.bind(this, t, n),
                    cancel: this.cancel.bind(this, t),
                    message: "Are you sure you want to change the mark?"
                }, "")
            }
        }, {
            key: "setPrevValue",
            value: function(e) {
                e.prevMark = e.mark
            }
        }, {
            key: "goToNextElem",
            value: function() {
                this._$scope.$broadcast("goToNextElem")
            }
        }, {
            key: "marks",
            get: function() {
                if (this._$stateParams.id && this.learner && !(0, n.default)(this.learner.marks).length) {
                    var e = {
                        comments: "",
                        mark: "",
                        minutes_late: 0,
                        name: "",
                        period_id: this._$stateParams.id,
                        isEmpty: !0
                    };
                    this.learner.marks[this._$stateParams.id - 1] = e, this._registersService.currentPeriodId = this._$stateParams.id - 1
                }
                return this.learner && this.learner.marks || this.local.student && this.local.student.marks
            }
        }]), e
    }();
    exports.default = r
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2254));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("l-booking-category", []).component("lBookingCategory", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2255)),
        i = a(t(2256));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2257);
    var s = {
        controller: i.default,
        template: n.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="l-booking-category">\n  <ul class="l-booking-category__list">\n    <li class="l-booking-category__item" ng-repeat="category in $ctrl._resourceBookingService.categories">\n      <span>{{category.description}}</span>\n      <div>\n        <button type="button"\n                class="l-booking-category__button _manage"\n                ng-click="$ctrl._saveSelectedCategory(category);\n                $ctrl._modalDefaultService.showModalWithTemplates(\'modal-manage-booking-category\', null, \'Add category to resource\')">\n          Manage Resources\n        </button>\n        <button type="button"\n                class="l-booking-category__button _remove"\n                ng-click="$ctrl._removeCategory(category)"\n                ng-if="$ctrl._isDeletingAllowed(category)">\n        </button>\n      </div>\n    </li>\n  </ul>\n</div>\n\n\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i) {
            "ngInject";
            (0, n.default)(this, e), this._resourceBookingService = t, this._modalDefaultService = i
        }
        return e.$inject = ["ResourceBookingService", "modalDefaultService"], (0, i.default)(e, [{
            key: "_removeCategory",
            value: function(e) {
                this._resourceBookingService.removeCategory(e)
            }
        }, {
            key: "_isDeletingAllowed",
            value: function(e) {
                return ["Manual"].indexOf(e.type) >= 0
            }
        }, {
            key: "_saveSelectedCategory",
            value: function(e) {
                this._resourceBookingService.data.selectedCategory = e
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2259));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("l-booking-resource", []).component("lBookingResource", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2260)),
        i = a(t(2261));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2262);
    var s = {
        controller: i.default,
        template: n.default,
        bindings: {
            isCategoryManage: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="l-booking-resource">\n  <ul class="l-booking-resource__list">\n    <li class="l-booking-resource__item" ng-repeat="resource in $ctrl._resourceBookingService.data.resources">\n      <span>{{resource.description}}</span>\n      <button type="button"\n              class="l-booking-resource__button _remove"\n              ng-click="$ctrl._removeResource(resource)"\n              ng-if="!$ctrl.isCategoryManage && $ctrl._isDeleteAllowed(resource)">\n      </button>\n      <button type="button"\n              class="l-booking-resource__button _add"\n              ng-class="{ \'_added\': $ctrl._isCategoryInResource(resource) }"\n              ng-click="$ctrl._isCategoryInResource(resource) ? $ctrl._removeCategoryToResource(resource) : $ctrl._addCategoryToResource(resource)"\n              ng-if="$ctrl.isCategoryManage">\n      </button>\n    </li>\n  </ul>\n</div>\n\n\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i) {
            "ngInject";
            (0, n.default)(this, e), this._$scope = t, this._resourceBookingService = i
        }
        return e.$inject = ["$scope", "ResourceBookingService"], (0, i.default)(e, [{
            key: "_removeResource",
            value: function(e) {
                this._resourceBookingService.removeResource(e)
            }
        }, {
            key: "_isDeleteAllowed",
            value: function(e) {
                return ["EduLink"].indexOf(e.source) >= 0
            }
        }, {
            key: "_isCategoryInResource",
            value: function(e) {
                var t = this;
                return e.categories.filter(function(e) {
                    return e.id === t._resourceBookingService.data.selectedCategory.id
                }).length > 0
            }
        }, {
            key: "_addCategoryToResource",
            value: function(e) {
                this._resourceBookingService.addResourceToCategory(e)
            }
        }, {
            key: "_removeCategoryToResource",
            value: function(e) {
                this._resourceBookingService.removeResourceFromCategory(e)
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2264));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("l-attachments", []).component("lAttachments", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2265)),
        i = a(t(2266));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2267);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            attachments: "<",
            download: "&"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="l-attachments">\n  <ul class="l-attachments__list">\n    <li class="l-attachments__item"\n        ng-repeat="attachment in $ctrl.attachments track by $index"\n        ng-class="{_disabled: attachment.isLoading}"\n    >\n      <div class="l-attachments__downloading">Downloading...</div>\n      <div class="l-attachments__name">{{::attachment.filename}}</div>\n      <button type="button" ng-click="$ctrl.downloadAttachment(attachment)">\n        <svg-use name="download"></svg-use>\n      </button>\n    </li>\n  </ul>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e() {
            "ngInject";
            (0, n.default)(this, e)
        }
        return (0, i.default)(e, [{
            key: "downloadAttachment",
            value: function(e) {
                e.isLoading = !0, this.download({
                    attachmentId: e.id
                }).finally(function() {
                    e.isLoading = !1
                })
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2269));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("l-children", []).component("lChildren", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2270)),
        i = a(t(2271));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2272);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            bindedChildren: "<",
            isChangeMenuLogo: "@",
            bindedActiveChildIndex: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="l-children"\n     id="l-children__outside"\n     ng-class="{ _many: $ctrl.bindedChildren.length > ($ctrl._windowWidthService.windowWidth > 1024 ? 3 : 2) }"\n>\n  <span class="l-children__title">Children<span>:</span></span>\n\n  <button type="button" class="l-children__toggle"\n    ng-click="$ctrl.toggleDropDown()"\n    ng-if="$ctrl._windowWidthService.windowWidth > $ctrl._deviceMarginConstants.MOBILE_MARGIN && $ctrl.bindedChildren.length > ($ctrl._windowWidthService.windowWidth > 1024 ? 3 : 2)">\n    <svg-use name="more"></svg-use>\n  </button>\n\n  <ul class="l-children__list"\n    lazy-photo elements="$ctrl.bindedChildren"\n    config="$ctrl.lazyPhotoConfig">\n    <li class="l-children__item"\n      photo-element data-hash="{{ child.hashPhoto }}"\n      ng-repeat="child in $ctrl.bindedChildren | limitTo: ($ctrl._windowWidthService.windowWidth > 1024 ? 3 : ($ctrl._windowWidthService.windowWidth > $ctrl._deviceMarginConstants.MOBILE_MARGIN ? 2 : 100))">\n      <button type="button" ng-click="$ctrl.selectChild($index)" class="l-children__child" ng-class="{_active: $index == $ctrl.bindedActiveChildIndex}">\n        <span class="l-children__avatar"\n          binded-photo photo-url="{{ !child.photo ? $ctrl._studentsService.getDefaultPhoto(child) : child.photo }}" photo-repeat="true"></span>\n        <span class="l-children__name">{{ ::child.forename }}</span>\n      </button>\n    </li>\n  </ul>\n\n  <ul class="l-children__drop-down"\n    click-outside="$ctrl.closeDropDown()"\n    outside-if-not="l-children__outside"\n    ng-if="$ctrl.data.isDropDownVisible && $ctrl._windowWidthService.windowWidth > $ctrl._deviceMarginConstants.MOBILE_MARGIN">\n    <li class="l-children__drop-down-item"\n      ng-repeat="child in $ctrl.bindedChildren track by $index"\n      ng-if="$index > ($ctrl._windowWidthService.windowWidth > 1024 ? 2 : 1)">\n      <div ng-click="$ctrl.selectChild($index)" class="l-children__drop-down-child">\n        <span class="l-children__avatar"\n              binded-photo photo-url="{{ !child.photo ? $ctrl._studentsService.getDefaultPhoto(child) : child.photo }}" photo-repeat="true"></span>\n        <span class="l-children__drop-down-name">{{ ::child.forename }}</span>\n      </div>\n    </li>\n  </ul>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r, o, l) {
            "ngInject";
            (0, n.default)(this, e), this._routeClassService = t, this._menuService = i, this._windowWidthService = o, this._studentsService = a, this._userService = r, this._$storageService = l, this._deviceMarginConstants = s, this.initValues()
        }
        return e.$inject = ["routeClassService", "menuService", "studentsService", "deviceMarginConstants", "userService", "windowWidthService", "$storageService"], (0, i.default)(e, [{
            key: "initValues",
            value: function(e) {
                this.data && !e || (this.data = {
                    isDropDownVisible: !1,
                    lazyPhotoConfig: {
                        prefix: "data:image/png;base64,",
                        reserveScroll: 150,
                        getPhotoCallback: this.getPhoto,
                        getDefaultPhotoCallback: this.getDefaultPhoto,
                        changeObjectTimeout: 500,
                        isUniqueElements: !0,
                        isSingleElements: !0
                    }
                })
            }
        }, {
            key: "handleEmployeeSelectChild",
            value: function(e, t) {
                var n = !0; - 1 !== this._userService.user.activeChildIndex && t === this._userService.user.activeChildIndex || (n = !1), n ? (this._userService.user.activeChild = null, this._menuService.logo = this._userService.user.logo, this._menuService.menu = this._menuService.availableMenu.personal_menu.mainMenu, this._menuService.mobileMenu = this._menuService.availableMenu.personal_menu.fullMenu) : (this._userService.user.activeChild = e, this._menuService.logo = {
                    path: e.photo ? e.photo : this._studentsService.getDefaultPhotoUsingGender(e.gender)
                }, this._menuService.menu = this._menuService.availableMenu.learner_menu.mainMenu, this._menuService.mobileMenu = this._menuService.availableMenu.learner_menu.fullMenu)
            }
        }, {
            key: "stopPropagation",
            value: function(e) {
                e.stopPropagation()
            }
        }, {
            key: "selectChild",
            value: function(e) {
                var t = this;
                if (this._userService.checkRole("employee") || e !== this._userService.user.activeChildIndex) {
                    var n = function() {
                        var n = void 0,
                            i = [null, function(e, n) {
                                t._userService.checkRole("employee") ? t.handleEmployeeSelectChild(e, n) : (t._menuService.logo = t._userService.user.logo, t._userService.user.activeChild = e), t.closeDropDown()
                            }.bind(null, t.bindedChildren[e], e), "bindEvents"];
                        "home" === t._routeClassService.fullStateName ? n = [t._menuService.eventsName.MENU_HIDE, t._menuService.eventsName.MENU_INIT, t._menuService.eventsName.EMPTY] : (i.unshift(null), n = [t._menuService.eventsName.MENU_IN, t._menuService.eventsName.MENU_HIDE, t._menuService.eventsName.MENU_INIT, t._menuService.eventsName.EMPTY]), t._menuService.setEvents(n, void 0, i)
                    };
                    this._userService.checkRole("employee") ? n() : this.bindedChildren[e].logo ? (this._userService.user.logo = this.bindedChildren[e].logo, n()) : this._userService.loadAsyncUserData(this.bindedChildren[e]).then(function() {
                        return n()
                    })
                }
            }
        }, {
            key: "toggleDropDown",
            value: function() {
                this.data.isDropDownVisible = !this.data.isDropDownVisible
            }
        }, {
            key: "closeDropDown",
            value: function() {
                this.data.isDropDownVisible = !1
            }
        }, {
            key: "getPhoto",
            value: function(e, t) {
                return e._studentsService.students.getPhotos(t, null)
            }
        }, {
            key: "getDefaultPhoto",
            value: function(e, t) {
                return e._studentsService.getDefaultPhotoUsingGender(t)
            }
        }, {
            key: "lazyPhotoConfig",
            get: function() {
                return this.data.lazyPhotoConfig
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2274));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("l-collection-users", []).component("lCollectionUsers", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2275)),
        i = a(t(2276));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2277);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            users: "<",
            isLoading: "<",
            onSelect: "&"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<ul class="l-collection-users">\n  <li class="l-collection-users__item"\n      ng-disabled="$ctrl.isLoading"\n      ng-class="{ _active: user.isActive }"\n      ng-click="$ctrl.onSelect({ user })"\n      ng-repeat="user in $ctrl.users track by $index">\n    <div class="l-collection-users__photo"\n         binded-photo\n         photo-url="{{ !user.photo ? $ctrl._studentsService.getDefaultPhoto(user) : user.photo }}">\n    </div>\n    <div class="l-collection-users__name">{{ user.fullName }}</div>\n  </li>\n</ul>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t) {
            "ngInject";
            (0, n.default)(this, e), this._studentsService = t
        }
        return e.$inject = ["studentsService"], (0, i.default)(e, [{
            key: "getPhoto",
            value: function(e, t) {
                return e._studentsService.students.getPhotos(t, null)
            }
        }, {
            key: "getDefaultPhoto",
            value: function(e, t) {
                return e._studentsService.getDefaultPhotoUsingGender(t)
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2279));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("l-demo-select-role", []).component("lDemoSelectRole", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2280)),
        i = a(t(2281));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2282);
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<button class="btn-back" ng-click="$ctrl._loginService.goLogin()"></button>\n<div class="l-demo-select-role">\n  <ul class="l-demo-select-role__list">\n    <li class="l-demo-select-role__item" ng-repeat="role in $ctrl.local.roles track by $index">\n      <a class="l-demo-select-role__title" ng-click="$ctrl.goToDemoPage(role.login)">{{ ::role.title }} (DEMO)</a>\n    </li>\n  </ul>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r) {
            "ngInject";
            (0, n.default)(this, e), this._authService = a, this._loginService = i, this._requestService = s, this._$state = t, this._menuService = r, this._requestService.isDemoMode = !0, this.local = {
                roles: [{
                    title: "Parent",
                    login: {
                        username: "parent",
                        password: "letmein"
                    }
                }, {
                    title: "Teacher",
                    login: {
                        username: "employee",
                        password: "letmein"
                    }
                }, {
                    title: "Student",
                    login: {
                        username: "learner",
                        password: "letmein"
                    }
                }]
            }
        }
        return e.$inject = ["$state", "loginService", "authService", "requestService", "menuService"], (0, i.default)(e, [{
            key: "goToDemoPage",
            value: function(e) {
                var t = this;
                this._menuService.setActiveMenuToStorage("mainMenu"), this._authService.signIn(e.username, e.password).then(function() {
                    t._$state.go("home")
                }, function() {
                    return null
                })
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2284));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("l-educational", []).component("lEducational", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2285)),
        i = a(t(2286));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2287);
    var s = {
        bindings: {
            currentSchool: "="
        },
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<ul class="l-educational" role="list">\n    <li class="l-educational__item"\n        ng-if="!$ctrl.local.isCurrentSchoolSelected"\n        ng-repeat="item in $ctrl.educational track by $index"\n        ng-click="$ctrl._loginService.loginToCurrentSchool(item)">\n      <a class="l-educational__button">\n        <div class="l-educational__logo" ng-style="{\'background-image\': \'url(data:image/png;base64,\' + item.logo + \')\'}"></div>\n        <div class="l-educational__text">\n          <button type="button" class="l-educational__button-remove" ng-click="$ctrl.removeEducational($event, item)">\n            <svg-use name="cross"></svg-use>\n          </button>\n          <div class="l-educational__title">{{item.name}}</div>\n          <div class="l-educational__name">{{item.user.title}} {{item.user.forename}} {{item.user.surname}}</div>\n        </div>\n      </a>\n    </li>\n</ul>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a) {
            "ngInject";
            (0, n.default)(this, e), this._loginService = t, this._educationalsService = i, this.storage = a.localStorage, this.local = {
                educational: this._educationalsService.educationals,
                currentSchool: null,
                isCurrentSchoolSelected: !1
            }
        }
        return e.$inject = ["loginService", "educationalsService", "$storageService"], (0, i.default)(e, [{
            key: "setCurrentSchool",
            value: function(e) {
                this.local.currentSchool = e, this._loginService.data.schoolIsSelect = !0
            }
        }, {
            key: "cancelCurrentSchool",
            value: function() {
                this.local.currentSchool = null, this.local.isCurrentSchoolSelected = !1, this._loginService.isCurrentSchoolSelected = !1
            }
        }, {
            key: "removeEducational",
            value: function(e, t) {
                e.stopPropagation();
                var n = this._educationalsService.getEducationalsFromStorage();
                (n = n.filter(function(e) {
                    return e !== t
                })).length || (this._loginService.data.addingNewSchool = !0, this._loginService.data.loginToSchoolState = !1, this._loginService.data.listEducationalState = !1, this._educationalsService.isEducationalsEmpty = !0, this._educationalsService.currentEducational = null), this._educationalsService.educationals = n, this.storage.set("educationals", n)
            }
        }, {
            key: "educational",
            get: function() {
                return this._educationalsService.educationals
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2289));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("l-employee-groups", []).component("lEmployeeGroups", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2290)),
        i = a(t(2291));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2292);
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="l-employee-groups">\n  <div class="l-employee-groups__top">\n    <div class="l-employee-groups__col _name">Group Name</div>\n    <div class="l-employee-groups__col">Global</div>\n    <div class="l-employee-groups__col">Members</div>\n    <div class="l-employee-groups__col"></div>\n  </div>\n  <div class="l-employee-groups__bottom">\n    <ul class="l-employee-groups__list">\n      <li class="l-employee-groups__item"\n        ng-repeat="group in $ctrl.employeeGroups track by group.id">\n        <div class="l-employee-groups__col _name"\n          ng-click="$ctrl.canUserModifyGroup(group) && $ctrl.editGroupName(group)"\n          ng-class=" { \'_editable\': $ctrl.canUserModifyGroup(group) }">\n          <span>{{group.name}}</span>\n          <svg-use ng-if="$ctrl.canUserModifyGroup(group)" name="pencil"></svg-use>\n        </div>\n        <div class="l-employee-groups__col">\n          <div class="l-employee-groups__switch"\n            ng-class="{ \'_selected\': group.global, \'_disable\': !$ctrl.canUserModifyGroup(group) }"\n            ng-click="$ctrl.updateGlobalPropertyOfGroup(group)"></div>\n        </div>\n        <div class="l-employee-groups__col">{{group.member_count}}</div>\n        <div class="l-employee-groups__col _buttons" ng-if="$ctrl.canUserModifyGroup(group)">\n          <button type="button" class="l-employee-groups__button _members"\n            ng-click="$ctrl.editGroup(group)"\n            ng-disabled="group.disableEditGroupButton">\n            <svg-use name="members"></svg-use>\n          </button>\n          <button type="button" class="l-employee-groups__button _delete" ng-click="$ctrl.deleteGroup(group)">\n            <svg-use name="trash"></svg-use>\n          </button>\n        </div>\n      </li>\n    </ul>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r, o, l) {
            "ngInject";
            (0, n.default)(this, e), this._groupsService = a, this._modalDefaultService = s, this._teachersService = o, this._userService = l, this._notificationService = r, this._$scope = i, this._$q = t
        }
        return e.$inject = ["$q", "$scope", "groupsService", "modalDefaultService", "notificationService", "teachersService", "userService"], (0, i.default)(e, [{
            key: "deleteGroup",
            value: function(e) {
                this.showDeletingModal(e)
            }
        }, {
            key: "showDeletingModal",
            value: function(e) {
                var t = this,
                    n = {
                        confirm: function() {
                            t._groupsService.deleteEmployeeGroup({
                                group_id: e.id
                            }).then(function() {
                                return t._groupsService.getEmployeeGroupsDataFromDb()
                            }).finally(function() {
                                return t.closeModal()
                            })
                        },
                        cancel: function() {
                            return t.closeModal()
                        },
                        message: "Are you sure you want to delete this group?"
                    };
                return this._modalDefaultService.showModalWithTemplates("modal-confirm", n, "Delete group")
            }
        }, {
            key: "editGroup",
            value: function(e) {
                var t = this;
                e.disableEditGroupButton = !0, this._groupsService.getMembersOfSelectedEmployeeGroups({
                    group_id: e.id
                }).then(function(e) {
                    var t = e.members;
                    return void 0 === t ? [] : t
                }).then(function(n) {
                    t._groupsService.selectedMembers = n.map(function(e) {
                        return e.id
                    }), t._groupsService.groupToEdit = e, t.openEditEmployeesGroupModal()
                }).finally(function() {
                    e.disableEditGroupButton = !1
                })
            }
        }, {
            key: "openEditEmployeesGroupModal",
            value: function() {
                var e = this;
                this._teachersService.employees && this._teachersService.employees.length ? (this.addSelectedTeachers(), this.openSelectEmployeesModal(this._teachersService.employees)) : this._teachersService.getEmployeesWithFullNameFromDb().then(function(t) {
                    e._teachersService.employees = t, e._teachersService.filteredTeachers = t, e.addSelectedTeachers(), e.openSelectEmployeesModal(e._teachersService.employees)
                })
            }
        }, {
            key: "addSelectedTeachers",
            value: function() {
                var e = this;
                this._teachersService.selectedTeachers = this._teachersService.employees.filter(function(t) {
                    var n = t.id;
                    return e._groupsService.selectedMembers.includes(n)
                })
            }
        }, {
            key: "openSelectEmployeesModal",
            value: function() {
                var e = this,
                    t = {
                        teachers: this._teachersService.employees,
                        isSave: !0,
                        onSubmit: function() {
                            return e.saveChangedGroupMembers()
                        }
                    };
                this._modalDefaultService.showModalWithTemplates("modal-edit-employee-groups", t, "Update Group Members")
            }
        }, {
            key: "updateGlobalPropertyOfGroup",
            value: function(e) {
                var t = {
                    group_id: e.id,
                    global: !e.global
                };
                this.saveUpdatedEmployeeGroup(t).then(function() {
                    e.global = !e.global
                })
            }
        }, {
            key: "saveChangedGroupMembers",
            value: function() {
                var e = this;
                return this._groupsService.selectedMembers = this._teachersService.selectedTeachers.map(function(e) {
                    return e.id
                }), this.saveUpdatedEmployeeGroup({
                    group_id: this._groupsService.groupToEdit.id,
                    employee_ids: this._groupsService.selectedMembers
                }).then(function() {
                    e._teachersService.selectedTeachers = null, e._groupsService.selectedMembers = null, e._groupsService.groupToEdit = null, e._groupsService.getEmployeeGroupsDataFromDb(), e._notificationService.showSuccessNotification("Group members was successfully updated"), e.closeModal()
                })
            }
        }, {
            key: "editGroupName",
            value: function(e) {
                var t = this,
                    n = {
                        groupName: e.name,
                        onSubmit: function(n) {
                            return t.onSaveGroupName(e, n)
                        }
                    };
                this._modalDefaultService.showModalWithTemplates("modal-edit-group-name", n, "Update Group Name")
            }
        }, {
            key: "onSaveGroupName",
            value: function(e, t) {
                var n = this;
                return t === e.name ? this.closeModal() : this.saveUpdatedEmployeeGroup({
                    group_id: e.id,
                    name: t
                }).then(function() {
                    n._groupsService.getEmployeeGroupsDataFromDb(), n._notificationService.showSuccessNotification("Group Name was successfully changed"), n.closeModal()
                })
            }
        }, {
            key: "saveUpdatedEmployeeGroup",
            value: function(e) {
                return this._groupsService.editEmployeeGroup(e)
            }
        }, {
            key: "canUserModifyGroup",
            value: function(e) {
                return !!this._userService.user.adminLogin || e.owner_id === this._userService.user.id
            }
        }, {
            key: "closeModal",
            value: function() {
                this._$scope.$emit("hideModal")
            }
        }, {
            key: "employeeGroups",
            get: function() {
                return this._groupsService.employeeGroups
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2294));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("l-groups", []).component("lGroups", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2295)),
        i = a(t(2296));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2297);
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="l-groups">\n  <div class="l-groups__top">\n    <div class="l-groups__col">Group Name</div>\n    <div class="l-groups__col">Global</div>\n    <div class="l-groups__col">Members</div>\n    <div class="l-groups__col"></div>\n  </div>\n  <div class="l-groups__bottom">\n    <ul class="l-groups__list">\n      <li class="l-groups__item" ng-if="group.id" ng-repeat="group in $ctrl._groupsService.groups track by $index">\n        <div class="l-groups__col" ng-click="$ctrl.canUserModifyGroup(group) && $ctrl.editGroupName(group)" ng-class=" { \'_editable\': $ctrl.canUserModifyGroup(group) }">\n          <span>{{group.name}}</span>\n          <svg-use ng-if="$ctrl.canUserModifyGroup(group)" name="pencil"></svg-use>\n        </div>\n        <div class="l-groups__col">\n          <div class="l-groups__switch" ng-class="{ \'_selected\': group.global, \'_disable\': !$ctrl.canUserModifyGroup(group) }" ng-click="$ctrl.updateGlobalPropertyOfGroup(group)"></div>\n        </div>\n        <div class="l-groups__col">{{group.member_count}}</div>\n        <div class="l-groups__col _buttons" ng-if="$ctrl.canUserModifyGroup(group)">\n          <button type="button" class="l-groups__button _members"\n                  ng-click="$ctrl.editGroup(group)"\n                  ng-disabled="group.disableEditGroupButton"\n          >\n            <svg-use name="members"></svg-use>\n          </button>\n          <button type="button" class="l-groups__button _delete" ng-click="$ctrl.deleteGroup(group)">\n            <svg-use name="trash"></svg-use>\n          </button>\n        </div>\n      </li>\n    </ul>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r, o, l) {
            "ngInject";
            (0, n.default)(this, e), this._groupsService = i, this._modalDefaultService = a, this._studentsService = r, this._userService = o, this._formsService = l, this._notificationService = s, this._$scope = t
        }
        return e.$inject = ["$scope", "groupsService", "modalDefaultService", "notificationService", "studentsService", "userService", "formsService"], (0, i.default)(e, [{
            key: "deleteGroup",
            value: function(e) {
                this.showDeletingModal(e)
            }
        }, {
            key: "showDeletingModal",
            value: function(e) {
                var t = this,
                    n = {
                        confirm: function() {
                            t._groupsService.deleteGroup({
                                group_id: e.id
                            }).then(function() {
                                t._groupsService.getGroupsDataFromDb()
                            }).finally(function() {
                                return t.closeModal()
                            })
                        },
                        cancel: function() {
                            return t.closeModal()
                        },
                        message: "Are you sure you want to delete this group?"
                    };
                return this._modalDefaultService.showModalWithTemplates("modal-confirm", n, "Delete group")
            }
        }, {
            key: "editGroup",
            value: function(e) {
                var t = this,
                    n = [],
                    i = void 0;
                e.disableEditGroupButton = !0, this._groupsService.getMembersOfSelectedGroups({
                    group_id: e.id
                }).then(function(e) {
                    if (e.learners && e.learners.length) return n = e.learners, t._formsService.getLearnersStatus(e.learners[0].id)
                }).then(function(e) {
                    return i = e, t._studentsService.getStudents(void 0, {}, e)
                }).then(function(a) {
                    t._studentsService.students = a, t._studentsService.filteredStudents = a, t._groupsService.selectedMembers = n.map(function(e) {
                        return e.id
                    }), t._studentsService.selectedStudents = t._studentsService.filteredStudents.filter(function(e) {
                        return t._groupsService.selectedMembers.indexOf(e.id) >= 0
                    }), t._groupsService.groupToEdit = e, t._modalDefaultService.showModalWithTemplates("modal-edit-groups", {
                        status: i
                    }, "Update Group Members")
                }).finally(function() {
                    e.disableEditGroupButton = !1
                })
            }
        }, {
            key: "updateGlobalPropertyOfGroup",
            value: function(e) {
                var t = {
                    group_id: e.id,
                    global: !e.global
                };
                this.saveUpdatedGroup(t).then(function() {
                    e.global = !e.global
                })
            }
        }, {
            key: "editGroupName",
            value: function(e) {
                var t = this,
                    n = {
                        groupName: e.name,
                        onSubmit: function(n) {
                            return t.onSaveGroupName(e, n)
                        }
                    };
                this._modalDefaultService.showModalWithTemplates("modal-edit-group-name", n, "Update Group Name")
            }
        }, {
            key: "onSaveGroupName",
            value: function(e, t) {
                var n = this;
                return t === e.name ? this.closeModal() : this.saveUpdatedGroup({
                    group_id: e.id,
                    name: t
                }).then(function() {
                    e.name = t, n._notificationService.showSuccessNotification("Group Name was successfully changed"), n.closeModal()
                })
            }
        }, {
            key: "saveUpdatedGroup",
            value: function(e) {
                return this._groupsService.editGroup(e)
            }
        }, {
            key: "canUserModifyGroup",
            value: function(e) {
                return !!this._userService.user.adminLogin || e.owner_id === this._userService.user.id
            }
        }, {
            key: "closeModal",
            value: function() {
                this._$scope.$emit("hideModal")
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2299));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("l-learners", []).component("lLearners", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2300)),
        i = a(t(2301));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2302);
    var s = {
        bindings: {},
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="l-learners">\n  <div class="l-learners__title">\n    Learners ({{ $ctrl._profilesService.learners.length }})\n  </div>\n  <ul class="l-default l-learners__list"\n      lazy-photo\n      elements="$ctrl._profilesService.learners" config="$ctrl.config">\n    <li class="l-default__item l-learners__item"\n        ng-repeat="learner in $ctrl._profilesService.learners"\n        photo-element data-id="{{ ::learner.ids.join(\',\') }}" data-hash="{{ ::learner.hashPhoto }}">\n      <a ui-sref="profiles.comment({sessionId: $ctrl._profilesService.currentSessionId, groupId: $ctrl._profilesService.currentGroupId, learnerId: learner.id })" class="l-learners__link">\n        <pr-s-student student="learner"></pr-s-student>\n      </a>\n    </li>\n  </ul>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i) {
            "ngInject";
            (0, n.default)(this, e), this._profilesService = t, this._studentsService = i, this.local = {
                lazyPhotoConfig: {
                    prefix: "data:image/png;base64,",
                    reserveScroll: 150,
                    getPhotoCallback: this.getPhoto,
                    getDefaultPhotoCallback: this.getDefaultPhoto,
                    isUniqueElements: !0,
                    isSingleElements: !0
                }
            }
        }
        return e.$inject = ["profilesService", "studentsService"], (0, i.default)(e, [{
            key: "$onInit",
            value: function() {
                this._profilesService.clearCache()
            }
        }, {
            key: "getPhoto",
            value: function(e, t) {
                return e._studentsService.students.getPhotos(t)
            }
        }, {
            key: "getDefaultPhoto",
            value: function(e, t) {
                return e._studentsService.getDefaultPhotoUsingGender(t)
            }
        }, {
            key: "config",
            get: function() {
                return this.local.lazyPhotoConfig
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2304));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("l-learners-document", []).component("lLearnersDocument", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2305)),
        i = a(t(2306));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2307);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            learners: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="l-learners-document"\n     change-limit-on-scroll\n     limit="$ctrl.learners.length"\n     config="$ctrl.scrollConfig"\n     counter="$ctrl.itemsLimit">\n  <div class="l-learners-document__title">\n    <div class="l-learners-document__title-wrapper">\n      Learners ({{ $ctrl.learners.length }})\n      <div class="l-learners-document__title-description">\n        <span class="_green">{{ $ctrl.normalLearners}} <span class="l-learners-document__title-description-small">(one document)</span></span>\n        <span class="_orange">{{ $ctrl.warningLearners }} <span class="l-learners-document__title-description-small">(more then one document)</span></span>\n        <span class="_red">{{ $ctrl.errorLearners }} <span class="l-learners-document__title-description-small">(no matching document)</span></span>\n      </div>\n    </div>\n  </div>\n  <ul class="l-default l-learners-document__list"\n      lazy-photo\n      elements="$ctrl.learners" config="$ctrl.config"\n      updater="$ctrl.itemsLimit"\n      scrollable-block\n      ng-init="$ctrl.emitScrollInit()">\n    <li class="l-learners-document__item"\n        ng-repeat="learner in $ctrl.learners | limitTo:$ctrl.itemsLimit"\n        photo-element data-id="{{ ::learner.ids.join(\',\') }}" data-hash="{{ ::learner.hashPhoto }}">\n      <div class="l-learners-document__avatar"\n           ng-style="{\'background-image\': \'url(\' + $ctrl._imagesConstants.DEFAULT_IMAGE + \')\'}"\n           binded-photo photo-url="{{ ::learner.photo }}">\n      </div>\n      <div class="l-learners-document__info">\n        <div class="l-learners-document__name">\n          {{ ::learner.forename }} {{::learner.surname }}\n          <span class="l-learners-document__name-error _red" ng-if="learner.matches === 0">No matches found</span>\n          <span class="l-learners-document__name-error _orange" ng-if="learner.matches > 1">Multiple documents found</span>\n        </div>\n        <div class="l-learners-document__message"\n             ng-class="{\n                _green: !!learner.document.summary\n             }">\n          <span ng-if="!!learner.document.summary">{{ learner.document.summary }}</span>\n        </div>\n      </div>\n    </li>\n  </ul>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r) {
            "ngInject";
            (0, n.default)(this, e), this._$scope = t, this._documentsMessageService = r, this._imagesConstants = a, this._studentsService = i, this._modalDefaultService = s, this.local = {
                lazyPhotoConfig: {
                    prefix: "data:image/png;base64,",
                    reserveScroll: 150,
                    getPhotoCallback: this.getPhoto,
                    getDefaultPhotoCallback: this.getDefaultPhoto,
                    isUniqueElements: !0,
                    isSingleElements: !0
                },
                itemsLimit: 15,
                scrollConfig: {
                    increaseBy: 15,
                    startCount: 15
                }
            }
        }
        return e.$inject = ["$scope", "studentsService", "imagesConstants", "modalDefaultService", "documentsMessageService"], (0, i.default)(e, [{
            key: "emitScrollInit",
            value: function() {
                this._$scope.$emit("initScrollArea")
            }
        }, {
            key: "getPhoto",
            value: function(e, t) {
                return e._studentsService.students.getPhotos(t)
            }
        }, {
            key: "getDefaultPhoto",
            value: function(e, t) {
                return e._studentsService.getDefaultPhotoUsingGender(t)
            }
        }, {
            key: "errorLearners",
            get: function() {
                return this.learners.reduce(function(e, t) {
                    return e + (0 === t.matches ? 1 : 0)
                }, 0)
            }
        }, {
            key: "warningLearners",
            get: function() {
                return this.learners.reduce(function(e, t) {
                    return e + (t.matches > 1 ? 1 : 0)
                }, 0)
            }
        }, {
            key: "normalLearners",
            get: function() {
                return this.learners.reduce(function(e, t) {
                    return e + (1 === t.matches ? 1 : 0)
                }, 0)
            }
        }, {
            key: "scrollConfig",
            get: function() {
                return this.local.scrollConfig
            }
        }, {
            key: "itemsLimit",
            get: function() {
                return this.local.itemsLimit
            },
            set: function(e) {
                this.local.itemsLimit = e
            }
        }, {
            key: "config",
            get: function() {
                return this.local.lazyPhotoConfig
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2309));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("l-lesson-behaviour", []).component("lLessonBehaviour", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2310));
    t(2311);
    var i = a(t(2312));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            lessons: "="
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<ul class="l-lesson-behaviour">\n  <li class="l-lesson-behaviour__item"\n      ng-repeat="lesson in $ctrl.local.lessons track by $index"\n      ng-init="isDataEmpty = !(Object.keys(lesson.values).length)">\n    <div class="l-lesson-behaviour__title">\n      {{ lesson.subject }}\n    </div>\n    <b-graph ng-init="data = $ctrl._graphsService.handleGraphData(lesson.values, 1)"\n             data="data"\n    ></b-graph>\n  </li>\n</ul>\n'
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(26)),
        i = s(t(1)),
        a = s(t(2));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = function() {
        function e(t, a, s) {
            "ngInject";
            var r = this;
            (0, i.default)(this, e), this._graphsService = a, this._registersService = s, this.local = {
                lessons: []
            }, t.$watchCollection(function() {
                return r.lessons
            }, function(e) {
                r.local.lessons = e.map(function(e) {
                    var t = (0, n.default)(e.values),
                        i = e.values;
                    return e.values = t.reduce(function(e, t) {
                        return e[r.getLabel(t)] = i[t], e
                    }, {}), e
                })
            }, !0)
        }
        return e.$inject = ["$scope", "graphsService", "registersService"], (0, a.default)(e, [{
            key: "getLabel",
            value: function(e) {
                var t = this._registersService.getMarkCodeFromMark(e);
                return t ? t.name : e
            }
        }]), e
    }();
    exports.default = r
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2314));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("l-lessons", []).component("lLessons", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2315)),
        i = a(t(2316));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2317);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            registers: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<ul class="l-default l-lessons">\n  <li class="l-default__item l-lessons__item _arrow" ng-repeat="item in $ctrl.registers track by $index">\n    <a class="l-lessons__link"\n       ng-disabled="$ctrl.isLoading"\n       ng-click="$ctrl.openRegister(item.id)"\n       ng-class="{\'_active\': item.linked_to}"\n      title="{{ item.start_time }} until {{ item.end_time }}">\n      {{ item.name }}\n      <span class="missing" ng-if="item.missing">Overdue<span>\n    </a>\n  </li>\n</ul>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a) {
            "ngInject";
            (0, n.default)(this, e), this.isLoading = !1, this._registersService = a, this._state = i
        }
        return e.$inject = ["$scope", "$state", "registersService"], (0, i.default)(e, [{
            key: "openRegister",
            value: function(e) {
                var t = this;
                this.isLoading || (this.isLoading = !0, this._state.go("registers.register", {
                    id: e,
                    page: "marks"
                }).then(function() {
                    t.isLoading = !1
                }))
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2319));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("l-marks", []).component("lMarks", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2320)),
        i = a(t(2321));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2322);
    var s = {
        template: n.default,
        bindings: {
            isFloodfill: "="
        },
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<ul class="l-default l-marks">\n  <li class="l-default__item l-marks__item"\n      ng-repeat="mark in $ctrl.marks"\n      ng-if="mark.active">\n    <button class="l-marks__btn"\n            ng-class="{_active: mark.isActive}"\n            ng-click="$ctrl.addMark($ctrl.marks, mark)"\n            type="button">\n      <b class="l-marks__code">{{ ::mark.code }}</b>\n      <span class="l-marks__text"> - {{ ::mark.name }}</span>\n    </button>\n  </li>\n</ul>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a) {
            "ngInject";
            (0, n.default)(this, e), this._registersService = i, this._modalDefaultService = a, this._$scope = t
        }
        return e.$inject = ["$scope", "registersService", "modalDefaultService"], (0, i.default)(e, [{
            key: "addMark",
            value: function(e, t) {
                var n = this;
                e.forEach(function(e) {
                    e.isActive = !1
                });
                var i = this._registersService.currentPeriodId;
                t.isActive = !0, this.isFloodfill ? this._registersService.register.learners.forEach(function(e) {
                    var a = e.marks[i];
                    if (a && -1 === n._registersService.protectedMarksCodes.indexOf(a.mark) && -1 === n._registersService.promptMarksCodes.indexOf(a.mark)) {
                        var s = n._registersService.getMarkCodeFromMark(t.code);
                        if (e.marks[i].mark = s.code, e.marks[i].registerType = s.type, e.marks[i].reassignedMark = !1, "/" === t.code || "\\" === t.code) return void n._$scope.$emit("hideModal");
                        e.codeName = t.name, n._$scope.$emit("hideModal")
                    } else n._$scope.$emit("hideModal")
                }) : -1 !== this._registersService.promptMarksCodes.indexOf(this._registersService.currentStudent.marks[i].mark) ? this.showConfirmModal(i, t) : this.handleMark(i, t)
            }
        }, {
            key: "hideModal",
            value: function() {
                this._$scope.$emit("hideModal")
            }
        }, {
            key: "confirm",
            value: function(e, t) {
                this.handleMark(e, t), this.hideModal()
            }
        }, {
            key: "showConfirmModal",
            value: function(e, t) {
                this._modalDefaultService.showModalWithTemplates("modal-confirm", {
                    confirm: this.confirm.bind(this, e, t),
                    cancel: this.hideModal.bind(this),
                    message: "Are you sure you want to change the mark?"
                }, "")
            }
        }, {
            key: "handleMark",
            value: function(e, t) {
                var n = this._registersService.getMarkCodeFromMark(t.code);
                this._registersService.currentStudent.marks[e].mark = n.code, this._registersService.currentStudent.marks[e].registerType = n.type, this._registersService.currentStudent.marks[e].reassignedMark = !1, "/" !== t.code && "\\" !== t.code ? (this._registersService.currentStudent.codeName = t.code, this.hideModal()) : this.hideModal()
            }
        }, {
            key: "marks",
            get: function() {
                return this._registersService.marks.lesson_codes
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2324));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("l-marksheets-select", []).component("lMarksheetsSelect", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2325)),
        i = a(t(2326));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2327);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            marksheets: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="l-marksheets-select">\n  <div class="l-marksheets-select__header">\n    <div class="l-marksheets-select__title">Select Marksheet</div>\n    <input type="text" class="l-marksheets-select__field"\n           placeholder="Search"\n           ng-model="search.name">\n  </div>\n  <ul class="l-default l-marksheets-select__list">\n    <li class="l-default__item l-marksheets-select__item"\n      ng-repeat="marksheet in $ctrl.marksheets | filter:search">\n      <a ng-click="$ctrl.goToSelectedMarksheet(marksheet.id)"\n        class="l-marksheets-select__link">{{ ::marksheet.name }}</a>\n    </li>\n  </ul>\n</div>\n\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r) {
            "ngInject";
            (0, n.default)(this, e), this._$state = t, this._marksheetsService = i, this._configService = a, this._windowWidthService = s, this._deviceMarginConstants = r
        }
        return e.$inject = ["$state", "marksheetService", "configService", "windowWidthService", "deviceMarginConstants"], (0, i.default)(e, [{
            key: "goToSelectedMarksheet",
            value: function(e) {
                this._marksheetsService.isKeyboardActiveInputDevice && this._windowWidthService.windowWidth > this._deviceMarginConstants.MOBILE_MARGIN ? this._$state.transitionTo("marksheets.selection-learners", {
                    marksheetId: e
                }, {
                    notify: !1
                }) : this._$state.transitionTo("marksheets.learners", {
                    marksheetId: e
                }, {
                    notify: !1
                })
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2329));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("l-marksheet", []).component("lMarksheet", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2330)),
        i = a(t(2331));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2332);
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="l-marksheet">\n  <div class="l-marksheet__content">\n    <table class="l-marksheet__table" custom-fixed-column refresh-column="$ctrl.local.refreshFixedColumn" custom-fixed-header>\n      <tbody>\n      <tr class="l-marksheet__header">\n        <td\n          ng-init="reverse = false"\n          ng-class="{ \'_reverse\': reverse }"\n          ng-click="$ctrl.setCurrentFilter(-1); reverse = !reverse"\n        >\n          <p>Student</p>\n        </td>\n        <td ng-repeat="col in $ctrl.getColumnsWithGradesets() track by $index"\n            ng-init="reverse = false"\n            ng-class="{ \'_reverse\': reverse }"\n            ng-click="$ctrl.setCurrentFilter($index); reverse = !reverse"\n        >\n          <p>{{col.heading}}</p>\n        </td>\n      </tr>\n\n      <tr class="l-marksheet__floodfill-outer"\n          ng-if="$ctrl.isEditableBoxExist()"\n      >\n        <td></td>\n        <td ng-repeat="column in $ctrl._marksheetService.marksheetColumns track by $index">\n          <div class="l-marksheet__floodfill-wrapper"\n               ng-init="isFloodfillFieldVisible = false"\n               ng-if="((column.type !== \'G\' && column.is_editable) || (column.type === \'G\' && column.gradeset_id && !column.is_fixed && column.is_editable)) && !$ctrl._marksheetService.is_completed"\n          >\n            <button type="button"\n                    class="l-marksheet__floodfill"\n                    ng-click="isFloodfillFieldVisible = !isFloodfillFieldVisible; $ctrl.emitChangeColumnSizes()"\n            >Floodfill</button>\n\n            <div class="l-marksheet__rating"\n                 ng-if="column.type === \'G\' && column.gradeset_id && !column.is_fixed && column.is_editable && !$ctrl._marksheetService.is_completed"\n                 ng-show="isFloodfillFieldVisible"\n            >\n              <input type="text" class="l-marksheet__input f-default__input" maxlength="1000"\n                     tabindex="{{$index}}"\n                     ng-init="fieldName = \'gradeset\' + $index"\n                     name="{{fieldName}}"\n                     ng-model="column.value"\n                     ng-change="$ctrl.validateValue(column, fieldName)"\n                     ng-blur="$ctrl._marksheetService.showGradeSet(column)"\n              >\n            </div>\n\n            <div class="l-marksheet__rating _input"\n                 ng-if="column.type != \'G\' && column.is_editable && !$ctrl._marksheetService.is_completed"\n                 ng-show="isFloodfillFieldVisible"\n            >\n              <div class="l-marksheet__rating">\n                <input type="number" tabindex="{{$index}}" ng-model="column.value" min="{{column.min_value}}" max="{{column.max_value}}" maxlength="1000" ng-change="$ctrl.setValuesToInputs(column)" class="l-marksheet__input f-default__input" ng-if="column.type == \'D\'" ng-pattern="$ctrl._marksheetService.regExps.float">\n                <input type="number" tabindex="{{$index}}" ng-model="column.value" min="{{column.min_value}}" max="{{column.max_value}}" maxlength="1000" ng-change="$ctrl.setValuesToInputs(column)" class="l-marksheet__input f-default__input" ng-if="column.type == \'I\'" ng-pattern="$ctrl._marksheetService.regExps.integer">\n\n                <input type="text" tabindex="{{$index}}" ng-model="column.value" ng-change="$ctrl.setValuesToInputs(column)" class="l-marksheet__input f-default__input" ng-if="column.type == \'R\'" ng-pattern="$ctrl._marksheetService.regExps.age">\n\n\n\n                <textarea ng-model="column.value" tabindex="{{$index}}" maxlength="1000" rows="4" cols="30" ng-change="$ctrl.setValuesToInputs(column)" class="l-marksheet__textarea f-default__textarea" ng-if="column.type == \'A\'" ng-pattern="$ctrl._marksheetService.regExps.integer"></textarea>\n                <textarea ng-model="column.value" tabindex="{{$index}}" maxlength="1000" rows="4" cols="30" ng-change="$ctrl.setValuesToInputs(column)" class="l-marksheet__textarea f-default__textarea" ng-if="column.type == \'F\'" ng-pattern="$ctrl._marksheetService.regExps.float"></textarea>\n                <button type="button" class="l-marksheet__btn-bank btn btn-default _fill _small"\n                        ng-if="column.type == \'C\' && $ctrl._userService.user.capabilities.marksheets.commentbank.enabled"\n                        ng-click="$ctrl.openCommentBankModal(learner.id, column, learner)"\n                >Comment bank</button>\n                <textarea ng-model="column.value" tabindex="{{$index}}" maxlength="1000" rows="4" cols="30" ng-change="$ctrl.setValuesToInputs(column)" class="l-marksheet__textarea f-default__textarea" ng-if="column.type == \'C\'"></textarea>\n              </div>\n            </div>\n          </div>\n        </td>\n      </tr>\n\n      <tr ng-class="{ \'l-marksheet__first-row\': index === 0}"\n          ng-repeat="learner in $ctrl._marksheetService.marksheets | orderBy: $ctrl.local.currentFilter track by $index"\n          ng-init="index = $index"\n      >\n        <td class="l-marksheet__col">{{learner.fullName}}</td>\n        <td ng-repeat="column in learner.column_values"\n            ng-class=":: { \'_wide\': !column.is_editable && column.value.length > 150 }"\n        >\n          <div class="l-marksheets__rating" ng-if="!column.is_editable || $ctrl._marksheetService.is_completed">\n            <p class="l-marksheet__field">{{ column.value || column.value === 0 ? column.value : \'-\' }}</p>\n          </div>\n          <div class="l-marksheet__rating _input" ng-if="column.type == \'G\' && column.gradeset_id && !column.is_fixed && column.is_editable && !$ctrl._marksheetService.is_completed">\n            <input type="text" class="l-marksheet__input f-default__input" maxlength="1000"\n                   tabindex="{{column.id}}"\n                   ng-init="fieldName = \'gradeset-\' + learner.id + \'-\' + column.column_id"\n                   name="{{fieldName}}"\n                   ng-model="column.value"\n                   ng-change="$ctrl.validateValue(column, fieldName, learner)"\n                   ng-blur="$ctrl._marksheetService.showGradeSet(column)"\n                   ng-readonly="!column.is_editable || $ctrl._marksheetService.is_completed"\n            >\n          </div>\n\n          <div class="l-marksheet__rating _input"\n               ng-if="column.type != \'G\' && column.is_editable && !$ctrl._marksheetService.is_completed"\n          >\n            <div class="l-marksheet__rating">\n              <input type="number" tabindex="{{column.id}}" min="{{column.min_value}}" max="{{column.max_value}}" ng-model="column.value" maxlength="1000" ng-change="$ctrl.inputChanges(learner, column)" class="l-marksheet__input f-default__input" ng-if="column.type == \'D\'" ng-pattern="$ctrl._marksheetService.regExps.float">\n              <input type="number" tabindex="{{column.id}}" min="{{column.min_value}}" max="{{column.max_value}}" ng-model="column.value" maxlength="1000" ng-change="$ctrl.inputChanges(learner, column)" class="l-marksheet__input f-default__input" ng-if="column.type == \'I\'" ng-pattern="$ctrl._marksheetService.regExps.integer">\n\n              <input type="text" tabindex="{{column.id}}" ng-model="column.value" maxlength="1000" ng-change="$ctrl.inputChanges(learner, column)" class="l-marksheet__input f-default__input" ng-if="column.type == \'R\'" ng-pattern="$ctrl._marksheetService.regExps.age">\n\n              <textarea ng-model="column.value" tabindex="{{column.id}}" maxlength="1000" rows="4" cols="30" ng-change="$ctrl.inputChanges(learner, column)" class="l-marksheet__textarea f-default__textarea" ng-if="column.type == \'A\'" ng-pattern="$ctrl._marksheetService.regExps.integer"></textarea>\n              <textarea ng-model="column.value" tabindex="{{column.id}}" maxlength="1000" rows="4" cols="30" ng-change="$ctrl.inputChanges(learner, column)" class="l-marksheet__textarea f-default__textarea" ng-if="column.type == \'F\'" ng-pattern="$ctrl._marksheetService.regExps.float"></textarea>\n              <button type="button" class="l-marksheet__btn-bank btn btn-default _fill _small"\n                      ng-if="column.type == \'C\' && $ctrl._userService.user.capabilities.marksheets.commentbank.enabled"\n                      ng-click="$ctrl.openCommentBankModal(learner.id, column, learner)"\n              >Comment bank</button>\n              <textarea ng-model="column.value" tabindex="{{column.id}}" maxlength="1000" rows="4" cols="30" ng-change="$ctrl.inputChanges(learner, column)" class="l-marksheet__textarea f-default__textarea" ng-if="column.type == \'C\'"></textarea>\n            </div>\n          </div>\n        </td>\n      </tr>\n      </tbody>\n    </table>\n  </div>\n\n  <div class="l-marksheet__loader" ng-if="$ctrl._marksheetService.preloader">\n    <b-loader></b-loader>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(43)),
        i = s(t(1)),
        a = s(t(2));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = function() {
        function e(t, n, a, s, r, o, l, c, d, u) {
            "ngInject";
            var _ = this;
            (0, i.default)(this, e), this._$rootScope = t, this._$scope = n, this._$state = s, this._$timeout = a, this._marksheetService = r, this._autocompleteService = o, this._blockedTransitionService = l, this._$window = c, this._userService = d, this._modalDefaultService = u, this.local = {
                dataToSend: this._marksheetService.data.dataToSend,
                currentFilter: null,
                valueWasChanged: !1,
                refreshFixedColumn: null
            };
            var f = t.$on("removeWasFloodFilledProp", function() {
                _._marksheetService.marksheets = _._marksheetService.removeWasFloodFilledProp(_._marksheetService.marksheets)
            });
            n.$on("$destroy", function() {
                f(), 0 === _.local.dataToSend.length && _._marksheetService.removeDataToSend()
            })
        }
        return e.$inject = ["$rootScope", "$scope", "$timeout", "$state", "marksheetService", "autocompleteService", "blockedTransitionService", "$window", "userService", "modalDefaultService"], (0, a.default)(e, [{
            key: "$onInit",
            value: function() {
                this.form = this._$scope.$parent.$parent.$parent.form
            }
        }, {
            key: "$onDestroy",
            value: function() {
                this._marksheetService.resetFilters(), this._marksheetService.resetFilterResults()
            }
        }, {
            key: "openCommentBankModal",
            value: function(e, t, n) {
                var i = this,
                    a = {
                        learnerId: e,
                        comment: t.value,
                        learner: n,
                        setComment: function(e) {
                            t.value = e, i.inputChanges(n, t)
                        }
                    };
                this._modalDefaultService.showModalWithTemplates("modal-comment-banks", a, "Comment Bank")
            }
        }, {
            key: "emitChangeColumnSizes",
            value: function() {
                this._$rootScope.$emit("changeColumnSizes"), this._$rootScope.$emit("changeHeaderSizes")
            }
        }, {
            key: "isDesktop",
            value: function() {
                return this._$window.devicejs.desktop()
            }
        }, {
            key: "setCurrentFilter",
            value: function(e) {
                if (-1 === e) {
                    var t = this.local.currentFilter && -1 === this.local.currentFilter.indexOf("-surname") ? "-" : "",
                        n = t + "surname",
                        i = t + "forename";
                    this.local.currentFilter = [n, i]
                } else {
                    var a = "column_values[" + e + "].value";
                    this.local.currentFilter = a === this.local.currentFilter ? "-" + a : a
                }
                this.local.refreshFixedColumn()
            }
        }, {
            key: "getColumnValue",
            value: function(e) {
                return e.selected ? e.selected.value : e.value
            }
        }, {
            key: "getColumnsWithGradesets",
            value: function() {
                var e = this;
                return this._marksheetService.marksheetColumns.map(function(t) {
                    return t.isReverse = !1, t.gradeset = e._marksheetService.getGradeset(t.gradeset_id, e._marksheetService.marksheetGradesets), t
                })
            }
        }, {
            key: "validateValue",
            value: function(e, t, n) {
                var i = this.form[t],
                    a = e.gradeset.find(function(t) {
                        return t.value.toUpperCase() === e.value.toUpperCase()
                    }),
                    s = !e.value || !!a;
                a && (e.value = a.value), n ? this.inputChanges(n, e) : this.setValuesToInputs(e), s ? i.$setValidity("", !0) : (i.$setValidity("", !1), n || this.resetColumn(e.id))
            }
        }, {
            key: "resetColumn",
            value: function(e) {
                this._marksheetService.marksheets.forEach(function(t) {
                    var n = t.column_values.find(function(t) {
                        return t.column_id === e
                    });
                    n && n.wasFloodFilled && (n.value = "")
                })
            }
        }, {
            key: "setValuesToInputs",
            value: function(e) {
                this.setValuesToSendForInputs(e), this.setInputsValueToTable(e)
            }
        }, {
            key: "getCol",
            value: function(e, t) {
                return this.marksheets.filter(function(t) {
                    return t.id === e.id
                }).map(function(e) {
                    return e.column_values
                }).map(function(e) {
                    return e.filter(function(e) {
                        return e.column_id === t.id
                    })
                }).pop().pop()
            }
        }, {
            key: "setValuesToSendForInputs",
            value: function(e) {
                var t = this,
                    n = this.dataToSend;
                this._blockedTransitionService.disableTransition("marksheets.selections"), n.forEach(function(n) {
                    var i = n.column_values.filter(function(t) {
                        return t.column_id === e.id
                    }).pop();
                    t.isInputFilled(n, e) || n.column_values.find(function(t) {
                        return t.column_id === e.id
                    }) ? i && i.wasFloodFilled && n.column_values.forEach(function(t) {
                        t.column_id === e.id && (t.value = e.value)
                    }) : n.column_values.push({
                        id: e.id,
                        column_id: e.id,
                        value: e.value,
                        wasFloodFilled: !0
                    })
                })
            }
        }, {
            key: "isInputFilled",
            value: function(e, t) {
                return !!this.marksheets.filter(function(t) {
                    return t.id === e.id
                }).map(function(e) {
                    return e.column_values
                }).map(function(e) {
                    return e.filter(function(e) {
                        return e.id === t.id
                    })
                }).pop().pop().value
            }
        }, {
            key: "setInputsValueToTable",
            value: function(e) {
                this.marksheets.forEach(function(t) {
                    t.column_values.forEach(function(t) {
                        t.id !== e.id || t.value && !t.wasFloodFilled || (t.value = e.value, t.wasFloodFilled = !0)
                    })
                })
            }
        }, {
            key: "isEditableBoxExist",
            value: function() {
                return this._marksheetService.marksheetColumns.filter(function(e) {
                    return e.is_editable
                }).length > 0
            }
        }, {
            key: "isColumnReadyToSend",
            value: function(e, t) {
                return 0 === e.column_values.length || 0 === e.column_values.filter(function(e) {
                    return e.column_id === t.id
                }).length
            }
        }, {
            key: "inputChanges",
            value: function(e, t) {
                var i = this,
                    a = this.dataToSend;
                this._blockedTransitionService.disableTransition("marksheets.selections"), a.forEach(function(a) {
                    if (a.id === e.id)
                        if (i.isColumnReadyToSend(a, t)) {
                            var s = {
                                column_id: t.id,
                                value: null === t.value ? "" : t.value
                            };
                            "" === s.value && (s.wasFloodFilled = !0), a.column_values.push(s)
                        } else a.column_values.forEach(function(e) {
                            e.column_id === t.id && (e.value = null === t.value ? "" : t.value, "" === t.value ? (e.wasFloodFilled = !0, t.wasFloodFilled = !0) : ((0, n.default)(e, "wasFloodFilled"), (0, n.default)(t, "wasFloodFilled")))
                        })
                })
            }
        }, {
            key: "marksheets",
            get: function() {
                return this._marksheetService.marksheets
            }
        }, {
            key: "dataToSend",
            get: function() {
                return this._marksheetService.getDataToSendForLearners()
            }
        }]), e
    }();
    exports.default = r
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2334));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("l-marksheets-learners", []).component("lMarksheetsLearners", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2335)),
        i = a(t(2336));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2337);
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="l-marksheets-learners"\n     change-limit-on-scroll\n     limit="$ctrl.learnerList.length"\n     config="$ctrl.scrollConfig"\n     counter="$ctrl.itemsLimit">\n  <div class="l-marksheets-learners__title">Learners({{ $ctrl.learnerList.length }})</div>\n  <ul class="l-default l-marksheets-learners__list"\n    scrollable-block\n    lazy-photo\n    elements="$ctrl.learnerList"\n    config="$ctrl.lazyPhotoConfig"\n    updater="$ctrl.itemsLimit"\n    ng-init="$ctrl.emitScrollInit()">\n    <li class="l-default__item l-marksheets-learners__item"\n      ng-repeat="learner in $ctrl.learnerList | limitTo:$ctrl.itemsLimit"\n      photo-element data-hash="{{ learner.hashPhoto }}">\n      <a ui-sref="marksheets.rating({marksheetId: $ctrl.marksheetId, learnerId: learner.id})"\n        class="l-marksheets-learners__link">\n        <pr-s-student student="learner"></pr-s-student>\n      </a>\n    </li>\n  </ul>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s) {
            "ngInject";
            (0, n.default)(this, e), this._marksheetService = a, this._studentsService = s, this._$stateParams = i, this._$scope = t, this.initValues()
        }
        return e.$inject = ["$scope", "$stateParams", "marksheetService", "studentsService"], (0, i.default)(e, [{
            key: "initValues",
            value: function(e) {
                this.data && !e || (this.data = {
                    marksheet_id: this._$stateParams.marksheetId,
                    lazyPhotoConfig: {
                        prefix: "data:image/png;base64,",
                        reserveScroll: 150,
                        getPhotoCallback: this.getPhoto,
                        getDefaultPhotoCallback: this.getDefaultPhoto,
                        changeObjectTimeout: 500,
                        isUniqueElements: !0,
                        isSingleElements: !0
                    },
                    itemsLimit: 15,
                    scrollConfig: {
                        increaseBy: 15,
                        startCount: 15
                    }
                })
            }
        }, {
            key: "emitScrollInit",
            value: function() {
                this._$scope.$emit("initScrollArea")
            }
        }, {
            key: "getPhoto",
            value: function(e, t) {
                return e._studentsService.students.getPhotos(t)
            }
        }, {
            key: "getDefaultPhoto",
            value: function(e, t) {
                return e._studentsService.getDefaultPhotoUsingGender(t)
            }
        }, {
            key: "scrollConfig",
            get: function() {
                return this.data.scrollConfig
            }
        }, {
            key: "itemsLimit",
            get: function() {
                return this.data.itemsLimit
            },
            set: function(e) {
                this.data.itemsLimit = e
            }
        }, {
            key: "lazyPhotoConfig",
            get: function() {
                return this.data.lazyPhotoConfig
            }
        }, {
            key: "learnerList",
            get: function() {
                return this._marksheetService.learners
            }
        }, {
            key: "marksheetId",
            get: function() {
                return this.data.marksheet_id
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2339));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("l-marksheets", []).component("lMarksheets", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2340)),
        i = a(t(2341));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2342);
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="l-marksheets">\n  <div class="l-marksheets__title">{{$ctrl._marksheetService.marksheetData.name}}</div>\n  <ul class="l-default l-marksheets__list">\n    <li class="l-default__item l-marksheets__item"\n      ng-repeat="column in $ctrl.marksheets track by $index">\n      <span class="l-marksheets__wrapper">\n\n        <div class="l-marksheets__subject">{{column.heading}}</div>\n\n        <div class="l-marksheets__rating" ng-if="!column.is_editable">\n          <p class="l-marksheet__field">{{ column.value || \'-\' }}</p>\n        </div>\n\n        <div class="l-marksheets__rating _input" ng-if="column.is_editable">\n          <div class="l-marksheets__rating">\n            <input type="text" class="l-marksheets__input f-default__input"\n                   ng-init="fieldName = \'gradeset\' + $index"\n                   name="{{fieldName}}"\n                   ng-model="column.value"\n                   ng-change="$ctrl.validateValue(column, fieldName)"\n                   ng-blur="$ctrl._marksheetService.showGradeSet(column)"\n                   ng-if="column.type == \'G\'"\n            />\n\n            <input type="text" class="l-marksheets__input f-default__input"\n                   name="{{fieldName}}"\n                   ng-model="column.value"\n                   ng-if="column.type == \'R\'"\n                   ng-pattern="$ctrl._marksheetService.regExps.age"\n            />\n\n            <input type="number" class="l-marksheets__input f-default__input"\n                   ng-model="column.value"\n                   ng-change="$ctrl.inputChanges(column)"\n                   ng-if="column.type == \'A\'"\n                   ng-pattern="$ctrl._marksheetService.regExps.integer"\n            />\n\n            <input type="number" class="l-marksheets__input f-default__input"\n                   ng-model="column.value"\n                   ng-change="$ctrl.inputChanges(column)"\n                   min="{{column.min_value}}"\n                   max="{{column.max_value}}"\n                   ng-if="column.type == \'I\'"\n                   ng-pattern="$ctrl._marksheetService.regExps.integer"\n            />\n\n            <input type="number" class="l-marksheets__input f-default__input"\n                   ng-model="column.value"\n                   ng-change="$ctrl.inputChanges(column)"\n                   ng-if="column.type == \'F\'"\n                   ng-pattern="$ctrl._marksheetService.regExps.float"\n            />\n\n            <input type="number" class="l-marksheets__input f-default__input"\n                   ng-model="column.value"\n                   ng-change="$ctrl.inputChanges(column)"\n                   min="{{column.min_value}}"\n                   max="{{column.max_value}}"\n                   ng-if="column.type === \'D\'"\n                   ng-pattern="$ctrl._marksheetService.regExps.float"\n            />\n\n            <textarea rows="2" cols="20" class="l-marksheets__textarea"\n                      ng-model="column.value"\n                      ng-change="$ctrl.inputChanges(column)"\n                      ng-if="column.type == \'C\'"\n            ></textarea>\n          </div>\n        </div>\n      </span>\n    </li>\n  </ul>\n</div>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }

    function s(e, t) {
        for (var n = 0; n < e.length; n++)
            if (e[n].column_id === t) return n;
        return !1
    }
    var r = function() {
        function e(t, i, a) {
            "ngInject";
            var s = this;
            (0, n.default)(this, e), this._$scope = t, this._marksheetService = i, this._autocompleteService = a, this.local = {
                learnerId: this._marksheetService.currentLearner.id,
                dataToSend: this._marksheetService.dataToSendForCurrentLearner,
                marksheets: this.generateMarksheets(this.columnValues, this._marksheetService.marksheetColumns)
            }, t.$on("$destroy", function() {
                0 === s.local.dataToSend.length && s._marksheetService.requestToRemoveDataToSend(s.local.learnerId)
            })
        }
        return e.$inject = ["$scope", "marksheetService", "autocompleteService"], (0, i.default)(e, [{
            key: "$onInit",
            value: function() {
                this.form = this._$scope.$parent.$parent.$parent.form
            }
        }, {
            key: "setColumnValue",
            value: function(e, t) {
                e.selected = null;
                for (var n = 0; n < t.length; n++) {
                    var i = t[n];
                    if (e.id === i.column_id) return void(e.value = i.value)
                }
            }
        }, {
            key: "getGradeset",
            value: function(e, t) {
                if (!t) return [];
                for (var n = 0; n < t.length; n++) {
                    var i = t[n];
                    if (i.id === e) return i.grades || []
                }
                return []
            }
        }, {
            key: "validateValue",
            value: function(e, t) {
                !e.value || !!e.gradeset.find(function(t) {
                    return t.value === e.value
                }) ? this.form[t].$setValidity("", !0) : this.form[t].$setValidity("", !1), this.inputChanges(e)
            }
        }, {
            key: "generateMarksheets",
            value: function(e, t) {
                for (var n = [], i = 0; i < t.length; i++) {
                    var a = t[i];
                    a.value && !a.selected && (a.value = null), "G" === a.type && (a.gradeset = this.getGradeset(a.gradeset_id, this._marksheetService.marksheetGradesets)), this.setColumnValue(a, e), n.push(a)
                }
                return n
            }
        }, {
            key: "getSelectText",
            value: function(e, t) {
                var n = this._autocompleteService.getSearchValue(e);
                return n || (t || "")
            }
        }, {
            key: "getItemWithIdInDataToSend",
            value: function(e) {
                for (var t = this.dataToSend, n = 0; n < t.length; n++)
                    if (t[n].column_id === e) return t[n];
                return null
            }
        }, {
            key: "getItemInDataToSend",
            value: function(e) {
                var t = this.dataToSend,
                    n = this.getItemWithIdInDataToSend(e);
                return n || (n = {
                    column_id: e
                }, t.push(n)), n
            }
        }, {
            key: "selectField",
            value: function(e, t, n) {
                var i = this.dataToSend,
                    a = s(i, n.id);
                if (this._autocompleteService.addSearchValue(e, t.value), n.selected) {
                    var r = this.columnValues.filter(function(e) {
                        return e.column_id === n.id
                    }).pop();
                    r ? r.value = t.value : this.columnValues.push({
                        column_id: n.id,
                        value: n.selected.value || n.selected
                    })
                }!1 !== a ? i[a].value = t.value : i.push({
                    column_id: n.id,
                    value: t.value
                })
            }
        }, {
            key: "inputChanges",
            value: function(e) {
                var t = this.columnValues.filter(function(t) {
                        return t.column_id === e.id
                    }).pop(),
                    n = this.dataToSend,
                    i = s(n, e.id);
                t ? t.value = e.value : this.columnValues.push({
                    column_id: e.id,
                    value: e.value
                }), !1 !== i ? n[i].value = e.value : n.push({
                    column_id: e.id,
                    value: e.value
                })
            }
        }, {
            key: "marksheets",
            get: function() {
                return this.local.marksheets
            }
        }, {
            key: "dataToSend",
            get: function() {
                return this._marksheetService.dataToSendForCurrentLearner
            }
        }, {
            key: "columnValues",
            get: function() {
                return this._marksheetService.currentLearner.column_values
            }
        }]), e
    }();
    exports.default = r
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2344));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("l-messages", []).component("lMessages", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2345)),
        i = a(t(2346));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2347);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            messages: "<",
            messagesType: "@"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<ul class="l-messages" lazy-photo\n    elements="$ctrl._communicatorDataService.messages"\n    config="$ctrl.lazyPhotoConfig"\n    updater="$ctrl.lazyPhotoConfig.limit">\n  <li class="l-messages__item" photo-element\n      data-hash="{{ message.hashPhoto }}"\n      ng-if="$ctrl._communicatorDataService.viewedMessagesType === \'received\'"\n      ng-repeat="message in $ctrl._communicatorDataService.messages track by $index"\n      ng-click="$ctrl.openMessage(message)"\n      ng-class="{\'_unread\': !message.read,\n                 \'_active\': $ctrl.selectedMessage.id === message.id,\n                 \'_disabled\': $ctrl.isLoading}">\n    <l-photos class="l-messages__photos" limit="1" photos="message.photos"></l-photos>\n    <div class="l-messages__info">\n      <div class="l-messages__data">\n        <div class="l-messages__name" ng-class="{ \'_unread\': !message.read}">{{ message.sender.name }}</div>\n        <div class="l-messages__text">{{ message.subject }}</div>\n      </div>\n      <div class="l-messages__description">\n        <div class="l-messages__date">{{ $ctrl._communicatorDataService.formatLastVisitDate(message.date) }}</div>\n        <div class="l-messages__type">{{ message.type }}</div>\n      </div>\n    </div>\n  </li>\n\n  <li class="l-messages__item"\n      photo-element data-hash="{{ message.hashPhoto }}"\n      ng-if="$ctrl._communicatorDataService.viewedMessagesType === \'sent\'"\n      ng-repeat="message in $ctrl._communicatorDataService.messages track by $index"\n      ng-class="{\'_unread\': $ctrl.checkMessageState(message.recipients),\n                 \'_active\': message.active || $ctrl.selectedMessage.id === message.id}"\n      ng-click="$ctrl.openMessage(message)">\n\n    <l-photos class="l-messages__photos" limit="4" photos="message.photos"></l-photos>\n    <div class="l-messages__info">\n      <div class="l-messages__data">\n        <div class="l-messages__recipients">\n          <span class="l-messages__recipients-list" ng-if="message.recipients">\n            {{ $ctrl._communicatorDataService.getFormattedRecipientNames(message.recipients) }}\n          </span>\n          <svg-use name="check" ng-if="$ctrl.isSuccessful(message)"></svg-use>\n          <svg-use name="warning" ng-if="$ctrl.isFailed(message)"></svg-use>\n          <svg-use name="separated-eye" ng-if="$ctrl.isPartlyReaded(message)"></svg-use>\n          <svg-use name="eyes" ng-if="$ctrl.isFullReaded(message)"></svg-use>\n          <svg-use name="time" ng-if="$ctrl.isInQueued(message)"></svg-use>\n        </div>\n        <div class="l-messages__text">{{ message.subject}}</div>\n      </div>\n      <div class="l-messages__description">\n        <div class="l-messages__date">{{ $ctrl._communicatorDataService.formatLastVisitDate(message.created) }}</div>\n        <div class="l-messages__type">{{ message.type }}</div>\n      </div>\n    </div>\n  </li>\n</ul>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r, o, l) {
            "ngInject";
            (0, n.default)(this, e), this._teachersService = a, this._studentsService = s, this._communicatorDataService = i, this._$filter = t, this._windowWidthService = r, this._$q = o, this._parentsService = l, this.local = {
                lazyPhotoConfig: {
                    prefix: "data:image/png;base64,",
                    reserveScroll: 150,
                    limit: 4,
                    checkRole: !0,
                    getPhotoCallback: this.getPhoto,
                    getDefaultPhotoCallback: this.getDefaultPhoto
                },
                loader: {
                    learner: {
                        getPhoto: this.getPhotoForLearners,
                        getDefaultPhoto: this.getDefaultPhotoForLearners
                    },
                    employee: {
                        getPhoto: this.getPhotoForTeachers,
                        getDefaultPhoto: this.getDefaultPhotoForTeachers
                    },
                    parent: {
                        getPhoto: this.getPhotoForParent,
                        getDefaultPhoto: this.getDefaultPhotoForParent
                    }
                },
                isLoading: !1
            }
        }
        return e.$inject = ["$filter", "communicatorDataService", "teachersService", "studentsService", "windowWidthService", "$q", "parentsService"], (0, i.default)(e, [{
            key: "isSuccessful",
            value: function(e) {
                return !e.failures && Number(0 === e.views) && "queued" !== e.status
            }
        }, {
            key: "isFailed",
            value: function(e) {
                return e.failures && "queued" !== e.status
            }
        }, {
            key: "isPartlyReaded",
            value: function(e) {
                return !e.failures && Number(e.views) > 0 && Number(e.views) < e.recipients.length && "queued" !== e.status
            }
        }, {
            key: "isFullReaded",
            value: function(e) {
                return !e.failures && Number(e.views) === e.recipients.length && 0 !== Number(e.views) && "queued" !== e.status
            }
        }, {
            key: "isInQueued",
            value: function(e) {
                return "queued" === e.status
            }
        }, {
            key: "openMessage",
            value: function(e) {
                var t = this;
                this.local.isLoading || (this._communicatorDataService.openMessage(e.id), "received" !== this._communicatorDataService.viewedMessagesType || e.read || (this.local.isLoading = !0, this._communicatorDataService.markMessageAsReaded(e.id).finally(function() {
                    t.local.isLoading = !1
                })))
            }
        }, {
            key: "checkMessageState",
            value: function(e) {
                var t = !0;
                return e.forEach(function(e) {
                    e.read && (t = !1)
                }), t
            }
        }, {
            key: "getPhoto",
            value: function(e, t, n) {
                var i = e.local.loader[n];
                return i && i.getPhoto ? i.getPhoto(e, t) : ""
            }
        }, {
            key: "getDefaultPhoto",
            value: function(e, t, n) {
                var i = e.local.loader[n];
                return i && i.getDefaultPhoto ? i.getDefaultPhoto(e, t) : ""
            }
        }, {
            key: "getPhotoForTeachers",
            value: function(e, t) {
                return e._teachersService.getTeacherPhotosFromDb(t)
            }
        }, {
            key: "getDefaultPhotoForTeachers",
            value: function(e, t) {
                return e._teachersService.getDefaultPhotoUsingGender(t)
            }
        }, {
            key: "getPhotoForLearners",
            value: function(e, t) {
                return e._studentsService.students.getPhotos(t)
            }
        }, {
            key: "getDefaultPhotoForLearners",
            value: function(e, t) {
                return e._studentsService.getDefaultPhotoUsingGender(t)
            }
        }, {
            key: "getPhotoForParent",
            value: function(e, t) {
                return e._$q.resolve([])
            }
        }, {
            key: "getDefaultPhotoForParent",
            value: function(e, t) {
                return e._parentsService.getDefaultPhotoUsingGender(t)
            }
        }, {
            key: "isLoading",
            get: function() {
                return this.local.isLoading
            }
        }, {
            key: "lazyPhotoConfig",
            get: function() {
                return this.local.lazyPhotoConfig
            }
        }, {
            key: "selectedMessage",
            get: function() {
                return this._communicatorDataService.selectedMessage
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2349));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("l-noticeboard", []).component("lNoticeboard", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2350)),
        i = a(t(2351));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2352);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            documents: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<ul class="l-noticeboard">\n  <li class="l-noticeboard__item"\n       ng-repeat="document in $ctrl.documents track by $index"\n       ng-click="$ctrl.downloadDoc(document.id)"\n  >\n    <div class="l-noticeboard__icon-outer">\n      <svg-use name="noticeboard"></svg-use>\n      <span class="l-noticeboard__icon fiv-cla fiv-size-lg"\n            ng-if="document.type"\n            ng-class="\'fiv-icon-\' + document.type"></span>\n    </div>\n    <div class="l-noticeboard__name">{{ document.name }}</div>\n  </li>\n</ul>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s) {
            "ngInject";
            (0, n.default)(this, e), this._attachmentsService = t, this._deviceMarginConstants = i, this._noticeboardService = a, this._windowWidthService = s
        }
        return e.$inject = ["attachmentsService", "deviceMarginConstants", "noticeboardService", "windowWidthService"], (0, i.default)(e, [{
            key: "downloadDoc",
            value: function(e) {
                var t = this;
                this._noticeboardService.getNoticeboardFileFromDb(e).then(function(e) {
                    return t._attachmentsService.downloadDocument(e.document)
                })
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2354));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("l-photos", []).component("lPhotos", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2355)),
        i = a(t(2356));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2357);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            photos: "<",
            limit: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<ul class="l-photos">\n  <li class="l-photos__item"\n    ng-class="{\n      \'_full\': $ctrl.isFull(),\n      \'_half\': $ctrl.isHalf(photo)\n    }"\n    ng-repeat="photo in $ctrl.photos | limitTo:$ctrl.limit">\n    <div class="l-photos__photo"\n      binded-photo photo-url="{{ ::photo.photo }}"></div>\n  </li>\n</ul>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e() {
            "ngInject";
            (0, n.default)(this, e)
        }
        return (0, i.default)(e, [{
            key: "getIndex",
            value: function(e) {
                return this.photos.indexOf(e)
            }
        }, {
            key: "isHalf",
            value: function(e) {
                var t = this.getIndex(e);
                return 0 === t && 2 === this.photos.length || 1 === t && 2 === this.photos.length || 2 === t && 3 === this.photos.length
            }
        }, {
            key: "isFull",
            value: function() {
                return 1 === this.photos.length
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2359));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("l-photos-group", []).component("lPhotosGroup", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2360)),
        i = a(t(2361));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2362);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            items: "<",
            count: "<",
            isSingle: "<",
            isReverse: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<ul class="l-photos-group" ng-class="{ _reverse: $ctrl.isReverse }">\n  <li class="l-photos-group__item"\n      ng-repeat="item in $ctrl.items | limitTo:$ctrl.count">\n    <div class="l-photos-group__img" binded-photo\n         ng-style="{\'background-image\': \'url(\' + $ctrl._imagesConstants.DEFAULT_IMAGE + \')\'}"\n         photo-url="{{ item.photo }}"></div>\n  </li>\n  <li class="l-photos-group__item _more" ng-if="!$ctrl.isSingle">\n    {{ $ctrl.items.length }}\n  </li>\n</ul>\n\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t) {
            "ngInject";
            (0, n.default)(this, e), this._imagesConstants = t, this._default = 5
        }
        return e.$inject = ["imagesConstants"], (0, i.default)(e, [{
            key: "count",
            get: function() {
                return this._count || this._default
            },
            set: function(e) {
                this._count = e
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2364));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("l-profiles-comment-bank", []).component("lProfilesCommentBank", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2365)),
        i = a(t(2366));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2367);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            commentBank: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<ul class="l-profiles-comment-bank">\n  <li class="l-default__item l-profiles-comment-bank__item"\n    ng-repeat="comment in $ctrl.commentBank track by $index"\n  >\n    <label class="f-default__checkbox l-profiles-comment-bank__label f-default__label _events-none">\n      <input type="checkbox" value="select" ng-model="comment.is_selected" ng-change="$ctrl.onChange(comment)">\n      <span class="f-default__checkbox-text l-profiles-comment-bank__text">{{ (comment.text || comment.comment) }}</span>\n    </label>\n  </li>\n</ul>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e() {
            "ngInject";
            (0, n.default)(this, e)
        }
        return (0, i.default)(e, [{
            key: "onChange",
            value: function(e) {
                this.commentBank.forEach(function(t) {
                    e.id === t.id && (t.is_selected = e.is_selected)
                })
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2369));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("l-profiles-entry", []).component("lProfilesEntry", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2370)),
        i = a(t(2371));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2372);
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<ul class="l-profiles-entry" ng-class="{_review: $ctrl.typeOfViewComments !== \'Entry\'}">\n  <li class="l-profiles-entry__item" ng-repeat="area in $ctrl.areas track by $index">\n    <div class="l-profiles-entry__title">{{ ::area.name }}</div>\n    <div class="l-profiles-entry__content"\n         ng-repeat="section in area.sections track by $index"\n         word-counter word-limit="$ctrl.wordLimit"\n    >\n      <div class="l-profiles-entry__label" ng-init="$ctrl.saveOldValue(section)">\n        <div class="l-profiles-entry__label-title">{{ ::section.name }}</div>\n        <line-template\n            variables="$ctrl.variables"\n            ng-if="$ctrl.typeOfViewComments !== \'Entry\'"\n            source="section.comment_text"\n        ></line-template>\n        <textarea placeholder="{{$ctrl.getPlaceholder(section)}}" class="l-profiles-entry__label-textarea"\n                  ng-model="section.comment_text"\n                  ng-if="$ctrl.typeOfViewComments === \'Entry\'"\n                  ng-keyup="$ctrl.getCaretPosition($event, section)"\n                  ng-click="$ctrl.getCaretPosition($event, section)"\n                  ng-change="$ctrl.changeArea(section)"\n                  ng-readonly="!$ctrl._profilesService.areas.allow_inline_editing"\n                  ng-class="{_readonly: !$ctrl._profilesService.areas.allow_inline_editing}"\n        ></textarea>\n      </div>\n      <div class="l-profiles-entry__bank" ng-if="$ctrl.typeOfViewComments === \'Entry\'">\n        <div class="l-profiles-entry__bank-title" ng-click="$ctrl.showCommentBankModal(section)">\n          Comment Bank\n        </div>\n        <div class="l-profiles-entry__bank-stat">\n          <span class="l-profiles-entry__words"></span> {{ $ctrl.wordLimit === 0 ? \'No\' : $ctrl.wordLimit }} words exceed\n        </div>\n      </div>\n    </div>\n  </li>\n</ul>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(26)),
        i = s(t(1)),
        a = s(t(2));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = function() {
        function e(t, n, a, s, r, o, l) {
            "ngInject";
            var c = this;
            (0, i.default)(this, e), this._$scope = t, this._$rootScope = n, this._profilesService = a, this._$stateParams = o, this._modalDefaultService = s, this._blockedTransitionService = r, this._$state = l, this.data = {
                areas: this._profilesService.areas.areas.filter(function(e) {
                    return e.sections.length
                }),
                variables: null,
                isVisible: !1,
                wordLimit: this._profilesService.areas.word_limit
            };
            var d = this._$rootScope.$on("updateCommentBank", function(e, t) {
                t.section.comment_text = c.updateAreaTextModel(t.section), c.changeArea(t.section)
            });
            t.$on("$destroy", d)
        }
        return e.$inject = ["$scope", "$rootScope", "profilesService", "modalDefaultService", "blockedTransitionService", "$stateParams", "$state"], (0, a.default)(e, [{
            key: "getCaret",
            value: function(e) {
                if (e.selectionStart) return e.selectionStart;
                if (document.selection) {
                    e.focus();
                    var t = document.selection.createRange();
                    if (!t) return 0;
                    var n = e.createTextRange(),
                        i = n.duplicate();
                    return n.moveToBookmark(t.getBookmark()), i.setEndPoint("EndToStart", n), i.text.length
                }
                return 0
            }
        }, {
            key: "getCaretPosition",
            value: function(e, t) {
                t.lastCaretPosition = this.getCaret(e.target)
            }
        }, {
            key: "showCommentBankModal",
            value: function(e) {
                e.comment_bank.forEach(function(t) {
                    t.is_selected && !e.comment_text.includes(t.text.trim()) && (t.is_selected = !1)
                });
                var t = {
                    section: e
                };
                this._modalDefaultService.showModalWithTemplates("modal-comment-bank", t, "Comment Bank")
            }
        }, {
            key: "changeArea",
            value: function(e) {
                var t = e.comment_text;
                e.is_change = t !== e.old_value, e.is_change && this._blockedTransitionService.disableTransition("profiles.learners")
            }
        }, {
            key: "saveOldValue",
            value: function(e) {
                e.old_value = e.comment_text
            }
        }, {
            key: "updateAreaTextModel",
            value: function(e) {
                var t = this,
                    n = "",
                    i = e.comment_text.trim(),
                    a = e.lastCaretPosition;
                return e.comment_bank.forEach(function(e) {
                    var a = e.text.trim();
                    if (t.containVariables(a))
                        if (t.containCommentWithVariableValues(i, a)) {
                            var s = t._profilesService.getTextWithVariableValues(a);
                            e.is_selected || (i = i.replace(s, ""))
                        } else e.is_selected && !i.includes(a) && (n = n + " " + t._profilesService.getTextWithVariableValues(a));
                    else e.is_selected && !i.includes(a) && (n = n + " " + a), !e.is_selected && i.includes(a) && (i = i.replace(a, ""))
                }), angular.isNumber(a) ? n = "" + i.substr(0, a) + n + i.substr(a) : n += i, n.trim()
            }
        }, {
            key: "containVariables",
            value: function(e) {
                return (0, n.default)(this.variables).find(function(t) {
                    var n = "<" + t + ">";
                    return -1 !== e.indexOf(n)
                })
            }
        }, {
            key: "containCommentWithVariableValues",
            value: function(e, t) {
                if (!this.containVariables(t.trim())) return !1;
                var n = this._profilesService.getTextWithVariableValues(t);
                return -1 !== e.indexOf(n)
            }
        }, {
            key: "getPlaceholder",
            value: function(e) {
                return !!!e.comment_bank.find(function(e) {
                    return e.is_selected
                }) || this._profilesService.areas.allow_inline_editing || e.comment_text ? "" : "comment_bank > text"
            }
        }, {
            key: "typeOfViewComments",
            get: function() {
                return this._profilesService.typeOfViewComments
            }
        }, {
            key: "areas",
            get: function() {
                return this.data.areas
            }
        }, {
            key: "variables",
            set: function(e) {
                this._profilesService.areas.variables = e
            },
            get: function() {
                return this._profilesService.areas.variables
            }
        }, {
            key: "wordLimit",
            get: function() {
                return this.data.wordLimit
            }
        }]), e
    }();
    exports.default = r
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2374));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("l-profiles-groups", []).component("lProfilesGroups", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2375)),
        i = a(t(2376));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2377);
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="l-profiles-groups">\n  <div class="l-profiles-groups__title">\n    Groups ({{ $ctrl._profilesService.groups.length }})\n  </div>\n  <ul class="l-default l-profiles-groups__list"\n      ng-if="!$ctrl._learnersService.currentGroup">\n    <li class="l-default__item l-profiles-groups__item"\n        ng-repeat="group in $ctrl._profilesService.groups track by $index">\n      <a ui-sref="profiles.learners({ sessionId: $ctrl._profilesService.currentSessionId, groupId: group.id })" class="l-profiles-groups__link">\n        {{ ::group.name }}\n      </a>\n    </li>\n  </ul>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(1),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    var s = function e(t) {
        "ngInject";
        (0, a.default)(this, e), this._profilesService = t
    };
    s.$inject = ["profilesService"], exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(0)),
        i = s(t(2379)),
        a = s(t(2383));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = n.default.module("l-register", []).service({
        lRegisterService: a.default
    }).component("lRegister", i.default).name;
    exports.default = r
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2380)),
        i = a(t(2381));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2382);
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="l-register"\n  change-limit-on-scroll\n  limit="$ctrl.register.learners.length"\n  config="$ctrl.scrollConfig"\n  counter="$ctrl.itemsLimit"\n  ng-class="{ \'_keyboard\': $ctrl._registersService.isKeyboardActiveInputDevice }">\n  <div class="l-register__top">\n    <div class="l-register__title">\n      {{ $ctrl.register.name }}\n    </div>\n\n    <div class="l-register__buttons">\n\n      <button type="button" class="l-register__button btn btn-default _blue"\n              ng-disabled="!$ctrl._studentsService.selectedStudents.length"\n              ng-if="$ctrl._userService.user.capabilities[\'homework.create\']"\n              ng-click="$ctrl.showHomeworkModal()">Homework</button>\n      <button type="button" class="l-register__button btn btn-default _red"\n              ng-disabled="!$ctrl._studentsService.selectedStudents.length"\n              ng-if="$ctrl._userService.user.capabilities.behaviour.create"\n              ng-click="$ctrl.showBehaviourModal(\'_behaviour\', \'Behaviour\', \'behaviour\')">Behaviour</button>\n      <button type="button" class="l-register__button btn btn-default _green"\n              ng-disabled="!$ctrl._studentsService.selectedStudents.length"\n              ng-if="$ctrl._userService.user.capabilities.achievement.create"\n              ng-click="$ctrl.showBehaviourModal(\'_achievement\', \'Achievement\', \'achievement\')">Achievement</button>\n      <button type="button" class="l-register__button _mobile"\n              ng-if="$ctrl._userService.user.capabilities[\'homework.create\']"\n              ng-disabled="!$ctrl._studentsService.selectedStudents.length"\n              ng-click="$ctrl.showHomeworkModal()">\n        <svg-use name="homework"></svg-use>\n      </button>\n      <button type="button" class="l-register__button _mobile"\n              ng-disabled="!$ctrl._studentsService.selectedStudents.length"\n              ng-if="$ctrl._userService.user.capabilities.behaviour.create"\n              ng-click="$ctrl.showBehaviourModal(\'_behaviour\', \'Behaviour\', \'behaviour\')">\n        <svg-use name="behaviour"></svg-use>\n      </button>\n      <button type="button" class="l-register__button _mobile"\n              ng-disabled="!$ctrl._studentsService.selectedStudents.length"\n              ng-if="$ctrl._userService.user.capabilities.achievement.create"\n              ng-click="$ctrl.showBehaviourModal(\'_achievement\', \'Achievement\', \'achievement\')">\n        <svg-use name="achievement"></svg-use>\n      </button>\n      <button type="button" class="l-register__add-students btn btn-default _small _tangerine _fill"\n              ng-click="$ctrl.showLearnersModal()">Add Students</button>\n      <button type="button"\n              ng-if="!$ctrl.local.isSummaryView"\n              ng-click="$ctrl._modalDefaultService.showModalWithTemplates(\'modal-marks\', {}, \'Marks\')"\n              class="l-register__floodfill btn btn-default _small _lilac _fill">Floodfill</button>\n    </div>\n\n  </div>\n  <div class="l-register__control"\n       ng-if="!$ctrl.local.isSummaryView">\n\n    <label class="l-register__checkbox"\n           ng-click="$ctrl.selectAllStudents($event)"\n           ng-class="{ _checked: $ctrl.selectAll }">\n      <input type="checkbox" class="l-register__checkbox-input">\n      <span class="l-register__checkbox-title">Select all</span>\n    </label>\n\n\t<label class="l-register__checkbox"\n           ng-click="$ctrl.toggleTagsVisibility($event)"\n           ng-class="{ _checked: !$ctrl.tagsHide }">\n      <input type="checkbox" class="l-register__checkbox-input">\n      <span class="l-register__checkbox-title">Tags</span>\n    </label>\n\n    <label class="l-register__checkbox"\n           ng-if="$ctrl._registersService.register.meals"\n           ng-click="$ctrl.selectDinner($event)"\n           ng-class="{ _checked: $ctrl.dinner }">\n      <input type="checkbox" class="l-register__checkbox-input">\n      <span class="l-register__checkbox-title">Meal options</span>\n    </label>\n  </div>\n  <ul class="l-default l-register__list"\n    ng-if="!$ctrl.local.isSummaryView"\n    lazy-photo\n    elements="$ctrl.register.learners"\n    config="$ctrl.lazyPhotoConfig"\n    updater="$ctrl.itemsLimit"\n    scrollable-block ng-init="$ctrl.emitScrollInit()">\n    <li class="l-register__item"\n      photo-element data-hash="{{ student.hashPhoto }}"\n      ng-repeat="student in $ctrl.register.learners track by $index">\n      <div class="l-register__wrapper">\n        <div class="l-register__profile">\n\n          <div class="l-register__comment">\n            <button class="btn-modal-comment" type="button"\n                    ng-if="!$ctrl.commentsHide"\n                    ng-click="$ctrl.showCommentModal(); $ctrl.saveSelectedStudentForComment(student)"\n                    ng-class="{ \'_comment-exist\': student.marks[$ctrl._registersService.currentPeriodId].comments || student.marks[$ctrl._registersService.currentPeriodId].minutes_late}">\n              <svg-use name="comment"></svg-use>\n            </button>\n            <button type="button" class="btn-modal-report"\n                    ng-if="$ctrl._userService.user.capabilities.behaviour\n                      && $ctrl._userService.user.capabilities.behaviour.report_card\n                      && $ctrl._userService.user.capabilities.behaviour.report_card.detail\n                      && student.on_report"\n                    ng-click="$ctrl.showReportCardModal(student.report_card_id)"\n            ><svg-use name="assessment"></svg-use></button>\n          </div>\n\n          <div class="l-register__photo"\n               ng-class="{ _checked: $ctrl._studentsService.selectedStudents.indexOf(student) !== -1}"\n               ng-click="$ctrl.selectStudent(student)"\n               ng-style="{\'background-image\': \'url(\' + $ctrl._imagesConstants.DEFAULT_IMAGE + \')\'}"\n               binded-photo photo-url="{{ student.photo }}">\n            <svg-use name="check"></svg-use>\n          </div>\n\n          <div class="l-register__name" ng-click="$ctrl.showDetailsModal(student)">\n            {{student.surname}} <br> {{student.forename}}\n            <span>{{student.on_report ? \'(R)\' : \'\'}}</span>\n            <span>{{student.has_detention ? \'(D)\' : \'\'}}</span>\n\n            <div class="l-register__tags" ng-if="!$ctrl.tagsHide">\n              <div class="l-register__tag _blue" ng-if="::student.sen.length && student.sen != \'-\'">SEN</div>\n              <div class="l-register__tag _red" ng-if="::student.behaviour_count > 0">{{ ::student.behaviour_count }}</div>\n              <div class="l-register__tag _orange" ng-if="::student.gifted_talented">MORE ABLE</div>\n              <div class="l-register__tag _green" ng-if="::student.achievement_count > 0">{{ ::student.achievement_count }}</div>\n              <div class="l-register__tag _pink" ng-if="::student.medical_condition">M</div>\n              <div class="l-register__tag _purple" ng-if="::student.pupil_premium">PP</div>\n              <div class="l-register__tag _gray" ng-if="::student.eal">EAL</div>\n              <div class="l-register__tag _yellow" ng-if="::student.boarder">BOARDER</div>\n              <div class="l-register__tag _tial" ng-if="::student.quick_note">NOTE</div>\n              <div class="l-register__tag _brick" ng-if="::student.mpc">MPC</div>\n            </div>\n          </div>\n        </div>\n\n        <div class="l-register__marks">\n          <l-add-marks\n            show-only-active="$ctrl.dinner"\n            learner="student"\n            index = "$index"\n            ng-if="$ctrl._registersService.isKeyboardActiveInputDevice">\n          </l-add-marks>\n          <h1>{{student.marks[$ctrl._registersService.currentPeriodId].isAuthorisedAbsence}}</h1>\n          <button class="btn-checkmark"\n                  ng-if="!$ctrl._registersService.isKeyboardActiveInputDevice"\n                  ng-class="{_active: student.marks[$ctrl._registersService.currentPeriodId].mark !== \'-\' &&\n                            (student.marks[$ctrl._registersService.currentPeriodId].registerType === \'Present\' ||\n                            student.marks[$ctrl._registersService.currentPeriodId].reassignedMark) }"\n                  ng-click="$ctrl.selectExist(student.marks[$ctrl._registersService.currentPeriodId])"\n                  type="button">\n\n            <span>{{ student.marks[$ctrl._registersService.currentPeriodId].mark }}</span>\n          </button>\n\n          <button class="btn-marks"\n                  ng-if="!$ctrl._registersService.isKeyboardActiveInputDevice"\n                  ng-class="{_marked: student.marks[$ctrl._registersService.currentPeriodId].registerType !== \'Present\' &&\n                            student.marks[$ctrl._registersService.currentPeriodId].registerType !== \'Missing\'}"\n                  ng-click="$ctrl._modalDefaultService.showModalWithTemplates(\'modal-add-marks\', {}, \'Marks today\'); $ctrl.setCurrentStudent(student);"\n                  type="button">\n\n            <svg-use name="cross"></svg-use>\n\n            {{ student.marks[$ctrl._registersService.currentPeriodId].mark }}\n          </button>\n        </div>\n\n        <div class="l-register__dinner"\n             ng-if="$ctrl.dinner"\n             ng-init="student.mealTypeId = student.meal.type_id || student.meal.default_type_id"\n        >\n          <div class="l-register__select-outer">\n            <ui-select ng-model="student.mealTypeId"\n                       theme="selectize"\n                       class="select-default l-register__select"\n                       search-enabled="false">\n              <ui-select-match placeholder="None">{{ $select.selected.description }}</ui-select-match>\n              <ui-select-choices repeat="type.id as type in $ctrl.mealTypes track by $index">\n                <span>{{ ::type.description }}</span>\n              </ui-select-choices>\n            </ui-select>\n\n            <div class="f-default__select-mobile-wrap l-register__select-mobile-wrap">\n              <select class="f-default__select-mobile l-register__select-mobile"\n                      ng-model="student.mealTypeId">\n                <option ng-repeat="type in $ctrl.mealTypes track by $index"\n                        ng-value="type.id">\n                  {{ type.description }}\n                </option>\n              </select>\n            </div>\n          </div>\n        </div>\n      </div>\n    </li>\n  </ul>\n  <f-confirm-registers ng-if="$ctrl.local.isSummaryView"\n    is-summary-view="$ctrl.local.isSummaryView"\n    is-mobile-form="true"></f-confirm-registers>\n  <button type="button"\n    ng-if="!$ctrl.local.isSummaryView"\n    ng-click="$ctrl.toggleSummary()"\n    class="l-register__show-summary-btn">Submit</button>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = r(t(10)),
        i = r(t(11)),
        a = r(t(1)),
        s = r(t(2));

    function r(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var o = function() {
        function e(t, n, i, s, r, o, l, c, d, u, _, f, v, m, h, p, g, b) {
            "ngInject";
            (0, a.default)(this, e), this._$scope = i, this._$state = s, this._bCalendarService = u, this._behaviourDataService = p, this._modalDefaultService = n, this._studentsService = c, this._imagesConstants = d, this._registersService = t, this._windowWidthService = _, this._menuService = r, this._configService = o, this._routeClassService = f, this._authService = l, this._delayConstantsService = v, this._lRegisterService = h, this._$timeout = m, this._homeworkDataService = g, this._userService = b, this.local = {
                mealTypes: null,
                isSummaryView: !1,
                tagsHide: !1,
                selectAll: !1,
                commentsHide: !1,
                dinner: !1,
                lazyPhotoConfig: {
                    prefix: "data:image/png;base64,",
                    reserveScroll: 150,
                    getPhotoCallback: this.getPhoto,
                    getDefaultPhotoCallback: this.getDefaultPhoto,
                    changeObjectTimeout: 500,
                    isUniqueElements: !0,
                    isSingleElements: !0
                },
                itemsLimit: 15,
                scrollConfig: {
                    increaseBy: 10,
                    startCount: 15
                }
            }
        }
        return e.$inject = ["registersService", "modalDefaultService", "$scope", "$state", "menuService", "configService", "authService", "studentsService", "imagesConstants", "bCalendarService", "windowWidthService", "routeClassService", "delayConstantsService", "$timeout", "lRegisterService", "behaviourDataService", "homeworkDataService", "userService"], (0, s.default)(e, [{
            key: "$onInit",
            value: function() {
                this.local.tagsHide = this._registersService.tagsAutohide, this.local.commentsHide = this._registersService.commentHide, this.local.dinner = this._registersService.register.meals, this._registersService.register.meals && (this.local.mealTypes = [{
                    id: null,
                    description: "None"
                }].concat((0, i.default)(this._registersService.register.meal_type.filter(function(e) {
                    return !0 === e.active
                }))))
            }
        }, {
            key: "toggleTagsVisibility",
            value: function(e) {
                e.preventDefault(), this.local.tagsHide = !this.local.tagsHide
            }
        }, {
            key: "selectAllStudents",
            value: function(e) {
                e.preventDefault(), this.local.selectAll = !this.local.selectAll, this.local.selectAll ? this._studentsService.selectedStudents = this.register.learners : this._studentsService.clearSelectedStudents()
            }
        }, {
            key: "selectDinner",
            value: function(e) {
                e.preventDefault(), this.local.dinner = !this.local.dinner
            }
        }, {
            key: "emitScrollInit",
            value: function() {
                this._$scope.$emit("initScrollArea")
            }
        }, {
            key: "setCurrentStudent",
            value: function(e) {
                this._registersService.currentStudent = e
            }
        }, {
            key: "toggleSummary",
            value: function() {
                this.local.isSummaryView = !this.local.isSummaryView
            }
        }, {
            key: "getPhoto",
            value: function(e, t) {
                return e._studentsService.students.getPhotos(t)
            }
        }, {
            key: "getDefaultPhoto",
            value: function(e, t) {
                return e._studentsService.getDefaultPhotoUsingGender(t)
            }
        }, {
            key: "saveSelectedStudentForComment",
            value: function(e) {
                this._registersService.selectedStudentForComment = e
            }
        }, {
            key: "selectExist",
            value: function(e) {
                if ("Present" !== e.registerType) {
                    var t = this._registersService.getMarkCodeFromType("Present"); - 1 !== this._registersService.promptMarksCodes.indexOf(e.mark) && t ? this.showConfirmModal(e, t) : t && this.handleMark(e, t)
                }
            }
        }, {
            key: "hideModal",
            value: function() {
                this._$scope.$emit("hideModal")
            }
        }, {
            key: "confirm",
            value: function(e, t) {
                this.handleMark(e, t), this.hideModal()
            }
        }, {
            key: "showConfirmModal",
            value: function(e, t) {
                var n = {
                    confirm: this.confirm.bind(this, e, t),
                    cancel: this.hideModal.bind(this),
                    message: "Are you sure you want to change the mark?"
                };
                this._modalDefaultService.showModalWithTemplates("modal-confirm", n, "")
            }
        }, {
            key: "showReportCardModal",
            value: function(e) {
                var t = {
                    reportCardId: e
                };
                this._modalDefaultService.showModalWithTemplates("modal-report-card", t, "Report card details")
            }
        }, {
            key: "showDetailsModal",
            value: function(e) {
                var t = this;
                this._registersService.getRegisterTagDetailsFromDb(e.id, this._registersService.register.date).then(function() {
                    var i = {
                        tables: t._lRegisterService.tables,
                        data: t._registersService.details,
                        student: (0, n.default)({}, e)
                    };
                    t._modalDefaultService.showModalWithTemplates("modal-details", i, "Details")
                })
            }
        }, {
            key: "showLearnersModal",
            value: function() {
                var e = this,
                    t = this.register.learners.map(function(e) {
                        return e.id
                    }),
                    n = {
                        onSubmit: function() {
                            return e.addStudents(t)
                        },
                        buttonText: "Add"
                    };
                this._studentsService.filteredStudents = this._studentsService.students.students, this._studentsService.selectedStudents = this._studentsService.students.students.reduce(function(e, n) {
                    return -1 !== t.indexOf(n.id) && (n.isNotAvailabe = !0, e.push(n)), e
                }, []), this._modalDefaultService.showModalWithTemplates("modal-select-learners", n, "Learners")
            }
        }, {
            key: "addStudents",
            value: function(e) {
                var t, n = this._studentsService.selectedStudents.filter(function(t) {
                    return -1 === e.indexOf(t.id)
                });
                n.length && (n = this._registersService.handleNewLearnersData(n, this._registersService.register.periods), (t = this.register.learners).push.apply(t, (0, i.default)(n)));
                this.hideModal()
            }
        }, {
            key: "handleMark",
            value: function(e, t) {
                e.mark = t.code, e.registerType = t.type
            }
        }, {
            key: "showHomeworkModal",
            value: function() {
                var e = this,
                    t = {
                        buttonText: "Add homework",
                        onSubmit: function(t) {
                            var n = t.valid,
                                i = t.model;
                            return e._homeworkDataService.addHomework(n, i).then(function() {
                                return e.closeModal()
                            })
                        }
                    };
                this._modalDefaultService.showModalWithTemplates("modal-add-homework", t, "Add homework")
            }
        }, {
            key: "showCommentModal",
            value: function() {
                this._modalDefaultService.showModalWithTemplates("modal-comment", null, "Comment")
            }
        }, {
            key: "showBehaviourModal",
            value: function(e, t, n) {
                this._modalDefaultService.showModalWithTemplates("modal-register-write", {
                    extraClass: e,
                    type: n
                }, t)
            }
        }, {
            key: "closeModal",
            value: function() {
                this._modalDefaultService.pop()
            }
        }, {
            key: "selectStudent",
            value: function(e) {
                -1 !== this._studentsService.selectedStudents.indexOf(e) ? this._studentsService.selectedStudents = this._studentsService.selectedStudents.filter(function(t) {
                    return t.id !== e.id
                }) : this._studentsService.selectedStudents.push(e)
            }
        }, {
            key: "mealTypes",
            get: function() {
                return this.local.mealTypes
            }
        }, {
            key: "tagsHide",
            get: function() {
                return this.local.tagsHide
            }
        }, {
            key: "commentsHide",
            get: function() {
                return this.local.commentsHide
            }
        }, {
            key: "selectAll",
            get: function() {
                return this.local.selectAll
            }
        }, {
            key: "dinner",
            get: function() {
                return this.local.dinner
            }
        }, {
            key: "scrollConfig",
            get: function() {
                return this.local.scrollConfig
            }
        }, {
            key: "itemsLimit",
            get: function() {
                return this.local.itemsLimit
            },
            set: function(e) {
                this.local.itemsLimit = e
            }
        }, {
            key: "lazyPhotoConfig",
            get: function() {
                return this.local.lazyPhotoConfig
            }
        }, {
            key: "register",
            get: function() {
                return this._registersService.register
            }
        }]), e
    }();
    exports.default = o
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e() {
            "ngInject";
            (0, n.default)(this, e), this.data = {
                tables: {
                    achievements: [{
                        name: "Type & Date",
                        modifier: "_achievements-date-type",
                        keys: [{
                            name: "date",
                            type: "date",
                            modifier: "_gray"
                        }, {
                            name: "types",
                            type: "list"
                        }]
                    }, {
                        name: "Comment & Teacher",
                        modifier: "_achievements-comment-teacher",
                        keys: [{
                            name: "comments",
                            type: "text"
                        }, {
                            name: "teacherName",
                            type: "text"
                        }]
                    }, {
                        name: "Information",
                        modifier: "_achievements-activity-info",
                        keys: [{
                            name: "lesson_information",
                            type: "text"
                        }]
                    }, {
                        name: "Points",
                        modifier: "_achievements-points",
                        keys: [{
                            name: "points",
                            type: "text"
                        }]
                    }],
                    incidents: [{
                        name: "Type & Date",
                        modifier: "_incidents-date-type",
                        keys: [{
                            name: "date",
                            type: "date",
                            modifier: "_gray"
                        }, {
                            name: "types",
                            type: "list"
                        }]
                    }, {
                        name: "Comment & Teacher",
                        modifier: "_incidents-comment-teacher",
                        keys: [{
                            name: "comments",
                            type: "text"
                        }, {
                            name: "teacherName",
                            type: "text"
                        }]
                    }, {
                        name: "Information",
                        modifier: "_incidents-activity-info",
                        keys: [{
                            name: "lesson_information",
                            type: "text"
                        }]
                    }, {
                        name: "Location",
                        modifier: "_incidents-location",
                        keys: [{
                            name: "location",
                            type: "text"
                        }]
                    }, {
                        name: "Points",
                        modifier: "_incidents-points",
                        keys: [{
                            name: "points",
                            type: "text"
                        }]
                    }],
                    detentions: [{
                        name: "Date",
                        modifier: "_detentions-date",
                        keys: [{
                            name: "date",
                            type: "date"
                        }]
                    }, {
                        name: "Start Time",
                        modifier: "_detentions-time",
                        keys: [{
                            name: "start_time",
                            type: "time",
                            modifier: "_inline"
                        }]
                    }, {
                        name: "End Time",
                        modifier: "_detentions-time",
                        keys: [{
                            name: "end_time",
                            type: "time"
                        }]
                    }, {
                        name: "Reason",
                        modifier: "_detentions-reason",
                        keys: [{
                            name: "reason",
                            type: "text"
                        }]
                    }, {
                        name: "Location",
                        modifier: "_detentions-location",
                        keys: [{
                            name: "location",
                            type: "text"
                        }]
                    }, {
                        name: "Attended",
                        modifier: "_detentions-attended",
                        keys: [{
                            name: "attended",
                            type: "text"
                        }]
                    }],
                    currentNeeds: [{
                        name: "Rank",
                        modifier: "_sen-rank",
                        keys: [{
                            name: "ranking",
                            type: "text"
                        }]
                    }, {
                        name: "Start Date",
                        modifier: "_sen-date",
                        keys: [{
                            name: "start_date",
                            type: "date"
                        }]
                    }, {
                        name: "Need Type",
                        modifier: "_sen-need-type",
                        keys: [{
                            name: "needType",
                            type: "text"
                        }]
                    }, {
                        name: "Description",
                        modifier: "_sen-description",
                        keys: [{
                            name: "description",
                            type: "text"
                        }]
                    }],
                    SENfullDescriptions: [{
                        name: "Summary",
                        modifier: "_sen-need-type",
                        keys: [{
                            name: "summary",
                            type: "text"
                        }]
                    }, {
                        name: "Type",
                        modifier: "_sen-need-type",
                        keys: [{
                            name: "type",
                            type: "text"
                        }]
                    }, {
                        name: "Last Modified",
                        modifier: "_sen-need-type",
                        keys: [{
                            name: "last_update",
                            type: "date"
                        }]
                    }, {
                        name: "Note",
                        modifier: "_sen-description",
                        keys: [{
                            name: "note",
                            type: "text"
                        }]
                    }, {
                        name: "Attachment",
                        modifier: "_medical-notes",
                        type: "sen-notes"
                    }],
                    medicalConditions: [{
                        name: "Description",
                        modifier: "_medical-description",
                        keys: [{
                            name: "description",
                            type: "text"
                        }]
                    }, {
                        name: "Summary / Attachments / Notes",
                        modifier: "_medical-notes",
                        type: "notes"
                    }],
                    parentalConsents: [{
                        name: "Description",
                        modifier: "_parental-description",
                        keys: [{
                            name: "description",
                            type: "text"
                        }]
                    }, {
                        name: "Status",
                        modifier: "_parental-consents",
                        keys: [{
                            name: "granted",
                            type: "access"
                        }]
                    }],
                    strategies: [{
                        name: "Title",
                        modifier: "_strategy-title",
                        keys: [{
                            name: "title",
                            type: "text"
                        }]
                    }, {
                        name: "Strategy",
                        modifier: "_strategy-description",
                        keys: [{
                            name: "strategy",
                            type: "text"
                        }]
                    }]
                }
            }
        }
        return (0, i.default)(e, [{
            key: "tables",
            get: function() {
                return this.data.tables
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2385));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("l-related-learners", []).component("lRelatedLearners", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2386)),
        i = a(t(2387));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2388);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            learners: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="l-related-learners">\n  <ul class="l-related-learners__list"\n      lazy-photo config="$ctrl.lazyPhotoConfig"\n      elements="$ctrl.learners">\n    <li class="l-related-learners__item"\n        photo-element\n        data-hash="{{ ::student.hashPhoto }}"\n        ng-repeat="student in $ctrl.learners">\n      <div class="l-related-learners__photo"\n           binded-photo photo-url="{{ ::student.photos[0].photo }}">\n      </div>\n      <div class="l-related-learners__info">\n        <div class="l-related-learners__name">{{student.fullName}}</div>\n        <div class="l-related-learners__group"\n             ng-if="student.community_group || student.form_group">\n          {{ student.community_group }} {{ student.form_group }}\n        </div>\n      </div>\n      <div class="l-related-learners__icon" ng-if="$ctrl.isDefined(student.completed)">\n        <svg-use name="cross" ng-if="!student.completed"></svg-use>\n        <svg-use name="check" ng-if="student.completed"></svg-use>\n      </div>\n    </li>\n  </ul>\n  <button type="button" class="btn btn-default _small _green _fill l-related-learners__btn"\n          ng-click="$ctrl.closeModal()">OK</button>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a) {
            "ngInject";
            (0, n.default)(this, e), this._modalDefaultService = i, this._$scope = t, this._studentsService = a, this.local = {
                lazyPhotoConfig: {
                    prefix: "data:image/png;base64,",
                    reserveScroll: 150,
                    getPhotoCallback: this.getPhoto,
                    getDefaultPhotoCallback: this.getDefaultPhoto
                },
                itemsLimit: 15,
                scrollConfig: {
                    increaseBy: 15,
                    startCount: 15
                }
            }
        }
        return e.$inject = ["$scope", "modalDefaultService", "studentsService"], (0, i.default)(e, [{
            key: "getPhoto",
            value: function(e, t) {
                return e._studentsService.students.getPhotos(t)
            }
        }, {
            key: "getDefaultPhoto",
            value: function(e, t) {
                return e._studentsService.getDefaultPhotoUsingGender(t)
            }
        }, {
            key: "closeModal",
            value: function() {
                this._$scope.$emit("hideModal")
            }
        }, {
            key: "isDefined",
            value: function(e) {
                return angular.isDefined(e)
            }
        }, {
            key: "lazyPhotoConfig",
            get: function() {
                return this.local.lazyPhotoConfig
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2390));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("l-related-students", []).component("lRelatedStudents", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2391)),
        i = a(t(2392));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2393);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            students: "<",
            emptyMessage: "@"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<ul class="l-related-students"\n    lazy-photo config="$ctrl.lazyPhotoConfig"\n    elements="$ctrl.students"\n>\n  <li class="l-related-students__row"\n      ng-repeat="student in $ctrl.students"\n      photo-element\n      data-hash="{{ ::student.hashPhoto }}"\n  >\n    <div class="l-related-students__col">\n      <div class="l-related-students__student">\n        <div class="l-related-students__student-photo" binded-photo photo-url="{{ ::student.photos[0].photo }}"></div>\n        <div class="l-related-students__student-info">\n          <div class="l-related-students__student-name">{{ ::student.forename }} {{ ::student.surname }}</div>\n          <div class="l-related-students__student-data">{{ ::student.year_group_id | yearGroupIdFilter: \'year\' }} {{ ::student.form_group_id | yearGroupIdFilter: \'form\' }}</div>\n        </div>\n      </div>\n    </div>\n    <div class="l-related-students__col">\n      <span class="l-related-students__title">Attended:</span>\n      {{ ::(student.attendance.actual || \'0\') }} / {{ ::(student.attendance.possible || \'-\') }} sessions\n    </div>\n    <div class="l-related-students__col">\n      <span class="l-related-students__title">Last session:</span>\n      {{ ::(student.attendance.last_attended || \'N/A\') }}\n    </div>\n  </li>\n  <li class="l-related-students__row _empty" ng-if="!$ctrl.students.length">\n    {{ ::$ctrl.emptyMessage }}\n  </li>\n</ul>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t) {
            "ngInject";
            (0, n.default)(this, e), this._studentsService = t, this.local = {
                lazyPhotoConfig: {
                    prefix: "data:image/png;base64,",
                    reserveScroll: 150,
                    getPhotoCallback: this.getPhoto,
                    getDefaultPhotoCallback: this.getDefaultPhoto
                },
                itemsLimit: 15,
                scrollConfig: {
                    increaseBy: 15,
                    startCount: 15
                }
            }
        }
        return e.$inject = ["studentsService"], (0, i.default)(e, [{
            key: "getPhoto",
            value: function(e, t) {
                return e._studentsService.students.getPhotos(t)
            }
        }, {
            key: "getDefaultPhoto",
            value: function(e, t) {
                return e._studentsService.getDefaultPhotoUsingGender(t)
            }
        }, {
            key: "lazyPhotoConfig",
            get: function() {
                return this.local.lazyPhotoConfig
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2395));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("l-schedule-events", []).component("lScheduleEvents", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2396)),
        i = a(t(2397));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2398);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            events: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<ul class="l-default l-schedule-events">\n  <li class="l-default__item l-schedule-events__item"\n      ng-click="event.notes && $ctrl.showNotes(event.notes)"\n      ng-repeat="event in $ctrl.events track by $index"\n  >\n    <div class="l-schedule-events__link">\n      <svg-use name="documents" ng-if="event.notes"></svg-use>\n      <div class="l-schedule-events__date">\n        <div class="l-schedule-events__date-item">\n          <div class="l-schedule-events__date-title">Start Date:\n            <span class="l-schedule-events__date-info">{{ event.startsAt | date:$ctrl.getTimeFormat(event) }}</span>\n          </div>\n        </div>\n        <div class="l-schedule-events__date-item">\n          <div class="l-schedule-events__date-title">End Date:\n            <span class="l-schedule-events__date-info">{{ event.endsAt | date:$ctrl.getTimeFormat(event) }}</span>\n          </div>\n        </div>\n      </div>\n      <div class="l-schedule-events__date-mobile">\n        <div class="l-schedule-events__date-item">\n          <div class="l-schedule-events__date-title">Start Date:\n            <span class="l-schedule-events__date-info">{{ event.startsAt | date:$ctrl.getTimeFormat(event) }}</span>\n          </div>\n        </div>\n        <div class="l-schedule-events__date-item">\n          <div class="l-schedule-events__date-title">End Date:\n            <span class="l-schedule-events__date-info">{{ event.endsAt | date:$ctrl.getTimeFormat(event) }}</span>\n          </div>\n        </div>\n      </div>\n      <span class="l-schedule-events__title">\n        <span class="l-schedule-events__description">\n          {{ event.description }}\n        </span>\n        </span>\n        <button class="l-schedule-events__delete" ng-if="event.source === \'EduLink\'">\n          <svg-use name="cross" ng-click="$ctrl.deleteEvent($event, event)"></svg-use>\n        </button>\n        <div class="l-schedule-events__source-indicator"\n             ng-style="{\'background-color\': $ctrl.eventSourceColors[event.source]}"\n        ></div>\n    </div>\n  </li>\n</ul>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(1)),
        i = s(t(2)),
        a = t(191);

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = function() {
        function e(t, i, s, r) {
            "ngInject";
            (0, n.default)(this, e), this._calendarService = t, this._modalDefaultService = i, this._notificationService = s, this._dateService = r, this.eventSourceColors = a.calendarEventSourceColorMap
        }
        return e.$inject = ["calendarService", "modalDefaultService", "notificationService", "dateService"], (0, i.default)(e, [{
            key: "deleteEvent",
            value: function(e, t) {
                var n = this;
                e.stopPropagation(), this._calendarService.deleteEvent(t.event_id).then(function() {
                    n._notificationService.showSuccessNotification("Event was successfully deleted")
                })
            }
        }, {
            key: "getTimeFormat",
            value: function(e) {
                return e.all_day_event ? this._dateService.getDateFormat("defaultDate") : this._dateService.getDateFormat("defaultDateTime")
            }
        }, {
            key: "showNotes",
            value: function(e) {
                var t = {
                    title: "Notes",
                    body: e
                };
                this._modalDefaultService.showModalWithTemplates("modal-html-message", t, "Notes")
            }
        }]), e
    }();
    exports.default = r
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2400));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("l-student-info", []).component("lStudentInfo", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2401)),
        i = a(t(2402));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2405);
    var s = {
        template: n.default,
        bindings: {
            data: "<"
        },
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '\x3c!--Template for contact and account-info pages--\x3e\n\n\n<div class="l-student-info" ng-if="$ctrl.secondPartOfCurrentState === \'contact\'">\n  <div class="l-student-info__warning" ng-if="!$ctrl.dataInfo">No Account data</div>\n  <ul class="l-student-info__content" ng-if="$ctrl.dataInfo">\n    <li class="l-student-info__item"\n        ng-if="$ctrl._userService.checkRole(\'employee\') && $ctrl._contactsDataService.data.learner.note">\n      <div class="l-student-info__row _quicknote">\n        <div class="l-student-info__title _bold">Quick Note</div>\n        <div class="l-student-info__data _qndetails">\n          {{ $ctrl._contactsDataService.data.learner.note }}\n        </div>\n      </div>\n    </li>\n    <li class="l-student-info__item" ng-repeat="contact in $ctrl.dataInfo">\n      <div class="l-student-info__row _col-wrap">\n        <div class="l-student-info__col">\n          <div class="l-student-info__title">{{ contact.learners[0].relationship}}</div>\n          <div class="l-student-info__data">{{ contact.title}} {{ contact.forename}} {{ contact.surname}}</div>\n        </div>\n        <div class="l-student-info__col">\n          <div class="l-student-info__title">Parental Responsibility</div>\n          <div class="l-student-info__data _green" ng-if="contact.learners[0].parental_responsibility">\n            <svg-use name="check"></svg-use>\n          </div>\n          <div class="l-student-info__data _red" ng-if="!contact.learners[0].parental_responsibility">\n            <svg-use name="cross"></svg-use>\n          </div>\n        </div>\n      </div>\n      <div class="l-student-info__row _col-wrap">\n        <div class="l-student-info__col" ng-if="contact.address">\n          <div class="l-student-info__title">Address</div>\n          <div class="l-student-info__data">{{ contact.address}}</div>\n        </div>\n        <div class="l-student-info__col" ng-if="contact.phone">\n          <div class="l-student-info__title">Phone Number</div>\n          <div class="l-student-info__data">\n            <a href="tel:{{ contact.phone}}">{{ contact.phone}}</a>\n          </div>\n        </div>\n      </div>\n      <div class="l-student-info__row _col-wrap">\n        <div class="l-student-info__col" ng-if="contact.email">\n          <div class="l-student-info__title">Email</div>\n          <div class="l-student-info__data">{{ contact.email}}</div>\n        </div>\n        <div class="l-student-info__col" ng-if="contact.mobile_phone">\n          <div class="l-student-info__title">Mobile Phone</div>\n          <div class="l-student-info__data">\n            <a href="tel:{{ contact.phone}}">{{ contact.mobile_phone}}</a>\n          </div>\n        </div>\n      </div>\n      <div class="l-student-info__row" ng-if="$ctrl._userService.checkRole(\'employee\')">\n        <div class="l-student-info__title">Court Order</div>\n        <div class="l-student-info__data" ng-if="contact.learners[0].court_order">Yes</div>\n        <div class="l-student-info__data" ng-if="!contact.learners[0].court_order">No</div>\n      </div>\n      <div class="l-student-info__row">\n        <div class="l-student-info__title">Priority</div>\n        <div class="l-student-info__data">{{ contact.learners[0].priority}}</div>\n      </div\n    </li>\n  </ul>\n</div>\n\n<div class="l-student-info" ng-if="$ctrl.secondPartOfCurrentState === \'account\'">\n  <div class="l-student-info__warning" ng-if="!$ctrl.dataInfo">No Account data</div>\n  <div class="l-student-info__content" ng-if="$ctrl.dataInfo">\n    <div class="l-student-info__row _col-wrap">\n      <div class="l-student-info__col" ng-if="$ctrl.dataInfo.address">\n        <div class="l-student-info__title">Address</div>\n        <div class="l-student-info__data">{{ $ctrl.dataInfo.address}}</div>\n      </div>\n      <div class="l-student-info__col" ng-if="$ctrl.dataInfo.post_code">\n        <div class="l-student-info__title">Post Code</div>\n        <div class="l-student-info__data">{{ $ctrl.dataInfo.post_code}}</div>\n      </div>\n    </div>\n    <div class="l-student-info__row _col-wrap">\n      <div class="l-student-info__col" ng-if="$ctrl.dataInfo.gender">\n        <div class="l-student-info__title">Gender</div>\n        <div class="l-student-info__data">{{ $ctrl.dataInfo.gender}}</div>\n      </div>\n      <div class="l-student-info__col" ng-if="$ctrl.dataInfo.year_group.name">\n        <div class="l-student-info__title">Year</div>\n        <div class="l-student-info__data">{{ $ctrl.dataInfo.year_group.name}}</div>\n      </div>\n    </div>\n    <div class="l-student-info__row _col-wrap" ng-if="$ctrl.dataInfo.form_group.id">\n      <div class="l-student-info__col">\n        <div class="l-student-info__title">Form Group</div>\n        <div class="l-student-info__data">{{ $ctrl.dataInfo.form_group.id | yearGroupIdFilter: \'form\'}}</div>\n      </div>\n      <div class="l-student-info__col" ng-if="$ctrl.dataInfo.form_group.employee.id">\n        <div class="l-student-info__title">Form Tutor</div>\n        <div class="l-student-info__data">\n          {{ $ctrl.dataInfo.form_group.employee.title}} {{ $ctrl.dataInfo.form_group.employee.forename}} {{ $ctrl.dataInfo.form_group.employee.surname}}\n        </div>\n      </div>\n    </div>\n    <div class="l-student-info__row _col-wrap" ng-if="$ctrl.data.date_of_birth">\n      <div class="l-student-info__col">\n        <div class="l-student-info__title">Date Of Birth</div>\n        <div class="l-student-info__data">{{ $ctrl.data.date_of_birth | date: $ctrl._dateService.getDateFormat(\'defaultDate\')}}</div>\n      </div>\n    </div>\n    <div class="l-student-info__row" ng-if="$ctrl.data.phone">\n      <div class="l-student-info__title">Phone Number</div>\n      <div class="l-student-info__data">\n        <a href="tel:{{ $ctrl.data.phone}}">{{ $ctrl.data.phone}}</a>\n      </div>\n    </div>\n    <div class="l-student-info__row" ng-if="$ctrl.data.email">\n      <div class="l-student-info__title">Email</div>\n      <div class="l-student-info__data">{{ $ctrl.data.email}}</div>\n    </div>\n    <div class="l-student-info__row" ng-if="$ctrl.data.house_group">\n      <div class="l-student-info__title">Community</div>\n      <div class="l-student-info__data">{{ $ctrl.data.house_group.name}}</div>\n    </div>\n    <div class="l-student-info__row" ng-if="$ctrl.data.admission_date">\n      <div class="l-student-info__title">Admission Date</div>\n      <div class="l-student-info__data">{{ $ctrl.data.admission_date | date: $ctrl._dateService.getDateFormat(\'defaultDate\')}}</div>\n    </div>\n    <div class="l-student-info__row" ng-if="$ctrl.data.ethnicity">\n      <div class="l-student-info__title">Ethnicity</div>\n      <div class="l-student-info__data">{{ $ctrl.data.ethnicity}}</div>\n    </div>\n    <div class="l-student-info__row" ng-if="$ctrl.data.national_identity">\n      <div class="l-student-info__title">National Identity</div>\n      <div class="l-student-info__data">{{ $ctrl.data.national_identity}}</div>\n    </div>\n    <div class="l-student-info__row" ng-if="$ctrl.data.languages">\n      <div class="l-student-info__title">Languages</div>\n      <div class="l-student-info__data" ng-if="$ctrl.data.languages.home">{{ $ctrl.data.languages.home}}</div>\n      <div class="l-student-info__data" ng-if="$ctrl.data.languages.first">{{ $ctrl.data.languages.first}}</div>\n    </div>\n    <div class="l-student-info__row" ng-if="$ctrl.data.admission_number">\n      <div class="l-student-info__title">Admission Number</div>\n      <div class="l-student-info__data">{{ $ctrl.data.admission_number}}</div>\n    </div>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(2403)),
        i = s(t(1)),
        a = s(t(2));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = function() {
        function e(t, a, s, r, o, l, c) {
            "ngInject";
            var d = this;
            (0, i.default)(this, e), this._windowWidthService = a, this._contactsDataService = s, this._personalDataService = r, this._routeClassService = t, this._userService = o, this._dateService = l, this.local = {
                secondPartOfCurrentState: null,
                requestIsSended: null
            }, this._dataInfo = {}, c.$watch(function() {
                return d.data
            }, function(e) {
                d._dataInfo = JSON.parse((0, n.default)(e))
            }, !0)
        }
        return e.$inject = ["routeClassService", "windowWidthService", "contactsDataService", "personalDataService", "userService", "dateService", "$scope"], (0, a.default)(e, [{
            key: "secondPartOfCurrentState",
            get: function() {
                return this.local.secondPartOfCurrentState = this._routeClassService.secondPartOfCurrentState, this._routeClassService.secondPartOfCurrentState
            }
        }, {
            key: "currentIdForView",
            get: function() {
                return this._userService.user.idFromLastAction
            }
        }, {
            key: "dataInfo",
            get: function() {
                return this._dataInfo
            }
        }]), e
    }();
    exports.default = r
}, , , function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2407));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("l-sessions", []).component("lSessions", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2408)),
        i = a(t(2409));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2410);
    var s = {
        bindings: {},
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="l-sessions">\n  <div class="l-sessions__title">Sessions (<span ng-bind="$ctrl._profilesService.sessions.length"></span>)</div>\n  <div class="l-sessions__header" ng-if="$ctrl._profilesService.sessions.length">\n    <div class="l-sessions__cols-wrap">\n      <div class="l-sessions__col _name">\n        <span class="l-sessions__col-title"\n              ng-class="{ _reverse: $ctrl.reverse.name }"\n              ng-click="$ctrl.sort([\'name\'])"\n        >Name</span>\n      </div>\n      <div class="l-sessions__col _status">\n        <span class="l-sessions__col-title"\n              ng-class="{ _reverse: $ctrl.reverse.status }"\n              ng-click="$ctrl.sort([\'status\'])"\n        >Status</span>\n      </div>\n    </div>\n  </div>\n  <ul class="l-default l-sessions__list">\n    <li class="l-default__item"\n        ng-repeat="session in $ctrl._profilesService.sessions">\n      <a class="l-sessions__link"\n         ui-sref="profiles.groups({sessionId: session.id})"\n         ng-click="$ctrl.setActiveSession(session)"\n      >\n        <div class="l-sessions__cols-wrap">\n          <div class="l-sessions__col _name">{{ session.name }}</div>\n          <div class="l-sessions__col _status">{{ session.status }}</div>\n        </div>\n      </a>\n    </li>\n  </ul>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i) {
            "ngInject";
            (0, n.default)(this, e), this._profilesService = t, this._sortDataService = i, this.reverse = {}
        }
        return e.$inject = ["profilesService", "sortDataService"], (0, i.default)(e, [{
            key: "sort",
            value: function(e) {
                this._profilesService.sessions = this._sortDataService.sortBy(this._profilesService.sessions, e, this.reverse)
            }
        }, {
            key: "setActiveSession",
            value: function(e) {
                this._profilesService.sessionIndex = this._profilesService.sessions.indexOf(e)
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2412));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("l-show-recipients", []).component("lShowRecipients", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2413)),
        i = a(t(2414));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2415);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            recipients: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="l-show-recipients">\n  <ul class="l-show-recipients__list" lazy-photo\n      config="$ctrl.lazyPhotoConfig"\n      elements="$ctrl.recipients">\n    <li class="l-show-recipients__item" photo-element\n        data-hash="{{ ::recipient.hashPhoto }}"\n        ng-repeat="recipient in $ctrl.recipients track by $index"\n        ng-click="$ctrl.toggleErrors(recipient)">\n      <div class="l-show-recipients__heading">\n        <div class="l-show-recipients__photo" binded-photo photo-url="{{ ::recipient.photos[0].photo }}">\n        </div>\n        <div class="l-show-recipients__info">\n          <div class="l-show-recipients__name">{{ ::recipient.name }}</div>\n          <div class="l-show-recipients__status">\n            <svg-use name="check" ng-if="recipient.successful && !recipient.read"></svg-use>\n            <svg-use name="warning" ng-if="!recipient.successful && !recipient.read"></svg-use>\n            <svg-use name="eyes" ng-if="recipient.successful && recipient.read"></svg-use>\n          </div>\n        </div>\n      </div>\n      <div class="l-show-recipients__errors" ng-if="recipient.failures && recipient.showErrors">\n        <p class="l-show-recipients__text" ng-repeat="failure in recipient.failures track by $index">\n          {{ ::failure }}\n        </p>\n      </div>\n    </li>\n  </ul>\n  <button type="button" class="btn btn-default _small _green _fill l-show-recipients__btn" ng-click="$ctrl.hideModal()">\n    OK\n  </button>\n</div>\n\n\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r, o) {
            "ngInject";
            (0, n.default)(this, e), this._$q = t, this._$scope = i, this._teachersService = s, this._studentsService = a, this._parentsService = r, this._modalDefaultService = o, this.local = {
                lazyPhotoConfig: {
                    prefix: "data:image/png;base64,",
                    reserveScroll: 150,
                    checkRole: !0,
                    getPhotoCallback: this.getPhoto,
                    getDefaultPhotoCallback: this.getDefaultPhoto
                },
                loader: {
                    learner: {
                        getPhoto: this.getPhotoForLearners,
                        getDefaultPhoto: this.getDefaultPhotoForLearners
                    },
                    employee: {
                        getPhoto: this.getPhotoForTeachers,
                        getDefaultPhoto: this.getDefaultPhotoForTeachers
                    },
                    parent: {
                        getPhoto: this.getPhotoForParent,
                        getDefaultPhoto: this.getDefaultPhotoForParent
                    }
                }
            }
        }
        return e.$inject = ["$q", "$scope", "studentsService", "teachersService", "parentsService", "modalDefaultService"], (0, i.default)(e, [{
            key: "toggleErrors",
            value: function(e) {
                e.failures && (e.showErrors = !e.showErrors)
            }
        }, {
            key: "getLoadedPhoto",
            value: function(e, t) {
                return e && e.filter(function(e) {
                    return e.id === t
                }) || null
            }
        }, {
            key: "getPhoto",
            value: function(e, t, n) {
                var i = e.local.loader[n];
                return i && i.getPhoto ? i.getPhoto(e, t) : ""
            }
        }, {
            key: "getDefaultPhoto",
            value: function(e, t, n) {
                var i = e.local.loader[n];
                return i && i.getDefaultPhoto ? i.getDefaultPhoto(e, t) : ""
            }
        }, {
            key: "getPhotoForTeachers",
            value: function(e, t) {
                return e._teachersService.getTeacherPhotosFromDb(t)
            }
        }, {
            key: "getDefaultPhotoForTeachers",
            value: function(e, t) {
                return e._teachersService.getDefaultPhotoUsingGender(t)
            }
        }, {
            key: "getPhotoForLearners",
            value: function(e, t) {
                return e._studentsService.students.getPhotos(t)
            }
        }, {
            key: "getDefaultPhotoForLearners",
            value: function(e, t) {
                return e._studentsService.getDefaultPhotoUsingGender(t)
            }
        }, {
            key: "getPhotoForParent",
            value: function(e, t) {
                return e._$q.resolve([])
            }
        }, {
            key: "getDefaultPhotoForParent",
            value: function(e, t) {
                return e._parentsService.getDefaultPhotoUsingGender(t)
            }
        }, {
            key: "hideModal",
            value: function() {
                this._modalDefaultService.pop()
            }
        }, {
            key: "lazyPhotoConfig",
            get: function() {
                return this.local.lazyPhotoConfig
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2417));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("l-stors", []).component("lStors", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2418)),
        i = a(t(2419));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2420);
    var s = {
        controller: i.default,
        template: n.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<ul class="l-stors" ng-if="!$ctrl._$window.cordova">\n  <li class="l-stors__item _google">\n    <a class="l-stors__link" target="_blank"\n       href="https://play.google.com/store/apps/details?id=com.overnetdata.edulinkone">\n      <img class="l-stors__img" src="./img/google-play-badge.png">\n    </a>\n  </li>\n  <li class="l-stors__item _apple">\n    <a class="l-stors__link" target="_blank"\n       href="https://itunes.apple.com/gb/app/edulink-one/id1188809029?mt=8">\n      <img class="l-stors__img" src="./img/app-store-badge.svg">\n    </a>\n  </li>\n</ul>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(1),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    var s = function e(t) {
        "ngInject";
        (0, a.default)(this, e), this._$window = t
    };
    s.$inject = ["$window"], exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2422));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("l-students", []).component("lStudents", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2423)),
        i = a(t(2424));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2425);
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="l-students">\n  \x3c!--<div class="l-students__title">Select Student</div>--\x3e\n  <ul class="l-students__list">\n    <li class="l-students__item"\n        ng-repeat="student in $ctrl.local.filteredStudents">\n      <pr-s-student student="student"></pr-s-student>\n    </li>\n  </ul>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s) {
            "ngInject";
            var r = this;
            (0, n.default)(this, e), this._$state = s, this._studentsService = i, this.local = {
                filteredStudents: []
            }, t.$watch(function() {
                if (i.data.isStudentsShouldBeFiltered && i.data.students) return a("fullName")(i.data.students, i.data.studentsFullNameSubString.toLowerCase())
            }, function(e) {
                e && (r.local.filteredStudents = e, i.data.isStudentsShouldBeFiltered = !1)
            }, !0)
        }
        return e.$inject = ["$scope", "studentsService", "$filter", "$state"], (0, i.default)(e, [{
            key: "setActiveStudent",
            value: function(e) {}
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2427));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("l-student-points", []).component("lStudentPoints", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2428)),
        i = a(t(2429));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2430);
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="l-student-points"\n  ng-if="$ctrl._windowWidthService.windowWidth > $ctrl._deviceMarginConstants.MOBILE_MARGIN">\n  <b-title ng-if="$ctrl.secondPartOfCurrentState === \'points-behaviour\'"\n    name="Add behaviour"\n    sref="{{$ctrl.moveFromStartBehaviourPage ? \'behaviour.search\' : \'behaviour.select-behaviour\'}}"></b-title>\n  <b-title ng-if="$ctrl.secondPartOfCurrentState === \'points-achievement\'"\n    name="Add achievement"\n    sref="{{$ctrl.moveFromStartBehaviourPage ? \'behaviour.search\' : \'behaviour.select-achievement\'}}"></b-title>\n  <b-title\n    ng-if="$ctrl.fullStateName === \'student.behaviour.points-behaviour\'"\n    name="Behaviours"\n    sref="student.behaviour.summary-behaviour-points"></b-title>\n  <b-title ng-if="$ctrl.fullStateName === \'student.behaviour.points-achievement\'"\n    name="Achievement"\n    sref="student.behaviour.summary-achievement-points"></b-title>\n  <b-title ng-if="$ctrl.secondPartOfCurrentState === \'selection-learners\'"\n    name="Learners"\n    ui-sref="marksheets.selections"></b-title>\n  <b-title ng-if="$ctrl.fullStateName === \'documents-message.types\'"\n    name="Document type"\n    ui-sref="documents-message.select"></b-title>\n\n  <div class="l-student-points__bottom"\n    change-limit-on-scroll\n    limit="$ctrl._studentsService.selectedStudents.length"\n    config="$ctrl.scrollConfig"\n    counter="$ctrl.itemsLimit">\n    <div class="l-student-points__amount"\n      ng-show="$ctrl._studentsService.selectedStudents.length > 1">\n      Selected learners: ({{$ctrl._studentsService.selectedStudents.length}})\n    </div>\n    <div class="l-student-points__student"\n      ng-show="$ctrl._studentsService.selectedStudents.length === 1">\n      <b-student-title user="$ctrl._studentsService.selectedStudents[0]"></b-student-title>\n    </div>\n    <ul class="l-student-points__content"\n      role="list"\n      lazy-photo\n      elements="$ctrl._studentsService.selectedStudents"\n      config="$ctrl.lazyPhotoConfig"\n      updater="$ctrl.itemsLimit"\n      scrollable-block\n      ng-init="$ctrl.emitScrollInit()"\n      ng-if="$ctrl._studentsService.selectedStudents.length > 1">\n      <li class="l-student-points__content-item" ng-repeat="student in $ctrl._studentsService.selectedStudents | limitTo:$ctrl.itemsLimit"\n        photo-element data-hash="{{ student.hashPhoto }}">\n        <pr-s-student student="student"></pr-s-student>\n      </li>\n    </ul>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r, o) {
            "ngInject";
            (0, n.default)(this, e), this._$scope = o, this._behaviourDataService = i, this._studentsService = s, this._windowWidthService = a, this._routeClassService = t, this._deviceMarginConstants = r, this.data = {
                lazyPhotoConfig: {
                    prefix: "data:image/png;base64,",
                    reserveScroll: 150,
                    getPhotoCallback: this.getPhoto,
                    getDefaultPhotoCallback: this.getDefaultPhoto,
                    changeObjectTimeout: 500,
                    isUniqueElements: !0,
                    isSingleElements: !0
                },
                itemsLimit: 25,
                scrollConfig: {
                    increaseBy: 15,
                    startCount: 25
                }
            }
        }
        return e.$inject = ["routeClassService", "behaviourDataService", "windowWidthService", "studentsService", "deviceMarginConstants", "$scope"], (0, i.default)(e, [{
            key: "emitScrollInit",
            value: function() {
                this._$scope.$emit("initScrollArea")
            }
        }, {
            key: "getPhoto",
            value: function(e, t) {
                return e._studentsService.students.getPhotos(t)
            }
        }, {
            key: "getDefaultPhoto",
            value: function(e, t) {
                return e._studentsService.getDefaultPhotoUsingGender(t)
            }
        }, {
            key: "scrollConfig",
            get: function() {
                return this.data.scrollConfig
            }
        }, {
            key: "itemsLimit",
            get: function() {
                return this.data.itemsLimit
            },
            set: function(e) {
                this.data.itemsLimit = e
            }
        }, {
            key: "lazyPhotoConfig",
            get: function() {
                return this.data.lazyPhotoConfig
            }
        }, {
            key: "moveFromStartBehaviourPage",
            get: function() {
                return this._behaviourDataService.data.moveFromStartBehaviourPage
            }
        }, {
            key: "students",
            get: function() {
                return this._studentsService.students.users
            }
        }, {
            key: "secondPartOfCurrentState",
            get: function() {
                return this._routeClassService.secondPartOfCurrentState
            }
        }, {
            key: "fullStateName",
            get: function() {
                return this._routeClassService.fullStateName
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2432));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("l-student-search", []).component("lStudentSearch", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2433)),
        i = a(t(2434));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2435);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            extraClass: "@"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="l-student-search {{$ctrl.extraClass}}"\n     change-limit-on-scroll\n     limit="$ctrl.secondPartOfCurrentState === \'learners\' ? $ctrl._studentsService.filteredStudents.length : $ctrl.filteredStudents.length"\n     config="$ctrl.scrollConfig"\n     counter="$ctrl.itemsLimit"\n>\n  <div class="l-student-search__wrapper toggle-form">\n    \x3c!--Top block for behaviour/search page--\x3e\n    <div class="l-student-search__top" ng-if="$ctrl.secondPartOfCurrentState === \'search\'">\n      <div class="l-student-search__col _left">Student Info</div>\n      <div class="l-student-search__col"\n           ng-click="$ctrl.sortBy(\'behaviour_points\', $ctrl.data.behaviourReverse)">\n      <span class="l-student-search__title"\n            ng-class="{\'_reverse\': $ctrl.data.behaviourReverse}">\n        Behaviour<span> Points</span>\n      </span>\n      </div>\n      <div class="l-student-search__col"\n           ng-click="$ctrl.sortBy(\'achievement_points\', $ctrl.data.achievementReverse)">\n      <span class="l-student-search__title"\n            ng-class="{\'_reverse\': $ctrl.data.achievementReverse}">\n        Achievement<span> Points</span>\n      </span>\n      </div>\n    </div>\n\n    \x3c!--Top for behaviour.select, communicator, homework--\x3e\n    <div class="l-student-search__top"\n         ng-if="$ctrl.secondPartOfCurrentState === \'select-behaviour\'\n        || $ctrl.secondPartOfCurrentState === \'select-achievement\'\n        || $ctrl.firstPartOfCurrentState === \'documents-message\'\n        || $ctrl.firstPartOfCurrentState === \'parentevent\'\n        || $ctrl.firstPartOfCurrentState === \'detention\'\n        || $ctrl.secondPartOfCurrentState === \'mailbox\'\n        || $ctrl.firstPartOfCurrentState === \'homework\'\n        || $ctrl.secondPartOfCurrentState === \'homework\'\n        || $ctrl.fullStateName === \'clubs.employee\'\n        || $ctrl.fullStateName === \'clubs.create\'\n        || $ctrl.fullStateName === \'medicaltest\'\n        || $ctrl.fullStateName === \'clubs.update\'\n        || $ctrl.fullStateName === \'clubs.register\'\n        || $ctrl.fullStateName === \'forms.createForm\'\n        || $ctrl.fullStateName === \'forms.cloneForm\'\n        || $ctrl.fullStateName === \'forms.updateForm\'\n        || $ctrl.fullStateName === \'registers.register\'\n        || $ctrl.fullStateName === \'childprotection.list\'\n        || $ctrl.fullStateName === \'analytics.documentaccessreport\'\n        || $ctrl.fullStateName === \'analytics.clubattendanceoverview\'\n        || $ctrl._groupsService.isGroupEditModalOpen()\n        || $ctrl._groupsService.isCreateGroupModalOpen()"\n    >\n      <label class="l-student-search__checkbox f-default__label"\n            ng-if="$ctrl.fullStateName !== \'childprotection.list\'"\n             ng-click="$ctrl.selectAllStudent($event)"\n             ng-class="{ \'_checkbox-checked\': $ctrl.isAllSelected }">\n        <input type="checkbox" class="l-student-search__checkbox-input">\n        <span class="l-student-search__checkbox-title">Select All</span>\n      </label>\n      <span class="l-student-search__amount">\n        Students selected:\n        <span>\n          {{ $ctrl._studentsService.selectedStudents.length }}\n        </span>\n      </span>\n    </div>\n\n    <div class="l-student-search__bottom">\n      \x3c!--List for behaviour/search page--\x3e\n      <ul class="l-student-search__list" role="list"\n          lazy-photo elements="$ctrl.filteredStudents"\n          updater="$ctrl.itemsLimit" config="$ctrl.config"\n          scrollable-block\n          ng-init="$ctrl.emitScrollInit()"\n          ng-if="$ctrl.secondPartOfCurrentState === \'search\'">\n        <li class="l-student-search__item"\n            photo-element data-hash="{{ student.hashPhoto }}"\n            ng-repeat="student in $ctrl.filteredStudents | limitTo:$ctrl.itemsLimit">\n          <b-student-search student="::student"></b-student-search>\n        </li>\n        <li class="l-student-search__item _empty"></li>\n      </ul>\n\n      \x3c!--List for behaviour, communicator, homework select pages--\x3e\n      <div class="l-student-search__wrapper-bottom"\n           ng-if="$ctrl.secondPartOfCurrentState === \'select-behaviour\'\n               || $ctrl.secondPartOfCurrentState === \'select-achievement\'\n               || $ctrl.firstPartOfCurrentState === \'homework\'\n               || $ctrl.secondPartOfCurrentState === \'homework\'\n               || $ctrl.firstPartOfCurrentState === \'childprotection\'\n               || $ctrl.secondPartOfCurrentState === \'childprotection\'\n               || $ctrl.firstPartOfCurrentState === \'parentevent\'\n               || $ctrl.firstPartOfCurrentState === \'detention\'\n               || $ctrl.firstPartOfCurrentState === \'documents-message\'\n               || $ctrl.secondPartOfCurrentState === \'mailbox\'\n               || $ctrl.fullStateName === \'forms.createForm\'\n               || $ctrl.fullStateName === \'forms.cloneForm\'\n               || $ctrl.fullStateName === \'forms.updateForm\'\n               || $ctrl.fullStateName === \'medicaltest\'\n               || $ctrl.fullStateName === \'clubs.employee\'\n               || $ctrl.fullStateName === \'clubs.create\'\n               || $ctrl.fullStateName === \'clubs.update\'\n               || $ctrl.fullStateName === \'clubs.register\'\n               || $ctrl.fullStateName === \'registers.register\'\n               || $ctrl.fullStateName === \'analytics.documentaccessreport\'\n               || $ctrl.fullStateName === \'analytics.clubattendanceoverview\'\n               || $ctrl._groupsService.isGroupEditModalOpen()\n               || $ctrl._groupsService.isCreateGroupModalOpen()"\n      >\n        <div class="l-student-search__checkbox-mobile"\n             ng-if="$ctrl.firstPartOfCurrentState !== \'childprotection\' && $ctrl.secondPartOfCurrentState !== \'childprotection\' && $ctrl._windowWidthService.windowWidth <= $ctrl._deviceMarginConstants.MOBILE_MARGIN">\n          <label class="l-student-search__checkbox f-default__label"\n                 ng-click="$ctrl.selectAllStudent($event)"\n                 ng-class="{ \'_checkbox-checked\': $ctrl.isAllSelected }">\n            <input type="checkbox" class="l-student-search__checkbox-input">\n            <span class="l-student-search__checkbox-title">Select All</span>\n          </label>\n          <span class="l-student-search__amount">\n            Students selected:\n            <span>\n              {{ $ctrl._studentsService.selectedStudents.length }}\n            </span>\n          </span>\n        </div>\n        <ul class="l-student-search__list" role="list"\n            lazy-photo elements="$ctrl.filteredStudents"\n            updater="$ctrl.itemsLimit" config="$ctrl.config"\n            scrollable-block\n            ng-init="$ctrl.emitScrollInit()">\n          <li class="l-student-search__item"\n              photo-element data-hash="{{ student.hashPhoto }}"\n              ng-click="$ctrl.modalScope.onSelect()"\n              ng-repeat="student in $ctrl.filteredStudents | limitTo:$ctrl.itemsLimit">\n            <b-student-select student="student"></b-student-select>\n          </li>\n        </ul>\n      </div>\n\n      \x3c!--List for learners page--\x3e\n      <ul class="l-student-search__list" role="list"\n          lazy-photo elements="$ctrl.filteredStudents"\n          updater="$ctrl.itemsLimit" config="$ctrl.config"\n          scrollable-block\n          ng-init="$ctrl.emitScrollInit()"\n          ng-if="$ctrl.secondPartOfCurrentState === \'learners\' || $ctrl.firstPartOfCurrentState === \'childprotection\'\n          || $ctrl.secondPartOfCurrentState === \'childprotection\'">\n        <li class="l-student-search__item"\n            photo-element data-hash="{{ student.hashPhoto }}"\n            ng-repeat="student in $ctrl._studentsService.filteredStudents | limitTo:$ctrl.itemsLimit">\n          <button class="l-student-search__item-button"\n                  ng-click="$ctrl._windowWidthService.windowWidth > $ctrl._deviceMarginConstants.MOBILE_MARGIN\n                    ? $ctrl.goToStudent(student.id)\n                    : $ctrl.goToStudentMobile(student.id)"\n          >\n            <b-student-select student="student"></b-student-select>\n          </button>\n        </li>\n      </ul>\n    </div>\n  </div>\n  <div class="l-student-search__next-step-wrap">\n    <button type="button" class="btn btn-default _gradient"\n            ng-class="{ \'_disabled\' : !$ctrl._studentsService.selectedStudents.length }"\n            ng-if="$ctrl.secondPartOfCurrentState === \'select-behaviour\'"\n            ng-click="$ctrl._behaviourDataService.transitionToPoints(\'behaviour.points-behaviour\')">\n      Next Step\n    </button>\n    <button type="button" class="btn btn-default _gradient"\n            ng-class="{ \'_disabled\' : !$ctrl._studentsService.selectedStudents.length }"\n            ng-if="$ctrl.secondPartOfCurrentState === \'select-achievement\'"\n            ng-click="$ctrl._behaviourDataService.transitionToPoints(\'behaviour.points-achievement\')"\n    >\n      Next Step\n    </button>\n    <a class="btn btn-default _gradient _next-step"\n       ng-class="{ \'_disabled\' : !$ctrl._studentsService.selectedStudents.length }"\n       ng-if="$ctrl.firstPartOfCurrentState === \'documents-message\'"\n       ui-sref="documents-message.types">Next Step</a>\n    <button type="button"\n            class="btn btn-default _gradient _next-step"\n            ng-click="$ctrl._modalDefaultService.showModalWithTemplates(\'modal-learner-detention\', null, \'Add learners\')"\n            ng-class="{ \'_disabled\' : !$ctrl._studentsService.selectedStudents.length }"\n            ng-if="$ctrl.firstPartOfCurrentState === \'detention\'">\n      Next Step\n    </button>\n    <button type="button"\n            class="btn btn-default _gradient _create-event-learners"\n            ng-click="$ctrl._modalDefaultService.closeLastModal()"\n            ng-if="$ctrl.firstPartOfCurrentState === \'parentevent\' && $ctrl.secondPartOfCurrentState !== \'details\'">\n      Accept\n    </button>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r, o, l, c, d, u, _, f, v, m) {
            "ngInject";
            (0, n.default)(this, e), this._studentsService = u, this._routeClassService = d, this._menuService = s, this._userService = l, this._$state = i, this._$timeout = t, this._windowWidthService = f, this._deviceMarginConstants = v, this._$scope = a, this._imagesConstants = _, this._behaviourDataService = r, this._modalDefaultService = m, this._groupsService = o, this.orderBy = c("orderBy"), this.restoreBackLink(), this.initValues()
        }
        return e.$inject = ["$timeout", "$state", "$scope", "menuService", "behaviourDataService", "groupsService", "userService", "$filter", "routeClassService", "studentsService", "imagesConstants", "windowWidthService", "deviceMarginConstants", "modalDefaultService"], (0, i.default)(e, [{
            key: "initValues",
            value: function(e) {
                this.data && !e || (this.data = {
                    behaviourReverse: !1,
                    achievementReverse: !1,
                    lazyPhotoConfig: {
                        prefix: "data:image/png;base64,",
                        reserveScroll: 150,
                        getPhotoCallback: this.getPhoto,
                        getDefaultPhotoCallback: this.getDefaultPhoto,
                        changeObjectTimeout: 500,
                        isUniqueElements: !0,
                        isSingleElements: !0
                    },
                    itemsLimit: 25,
                    scrollConfig: {
                        increaseBy: 15,
                        startCount: 25
                    }
                });
                var t = this._modalDefaultService.data.find(function(e) {
                    return "modal-select-learners" === e.id
                });
                t && (this.modalScope = t.scope)
            }
        }, {
            key: "emitScrollInit",
            value: function() {
                this._$scope.$emit("initScrollArea")
            }
        }, {
            key: "restoreBackLink",
            value: function() {
                this._behaviourDataService.data.moveFromStartBehaviourPage = !1
            }
        }, {
            key: "selectAllStudent",
            value: function(e) {
                e.preventDefault();
                var t = this._studentsService.filteredStudents;
                this.isAllSelected ? this._studentsService.selectedStudents = this._studentsService.selectedStudents.filter(function(e) {
                    return !t.includes(e)
                }) : this._studentsService.selectedStudents = this._studentsService.selectedStudents.concat(t).filter(function(e, t, n) {
                    return n.indexOf(e) === t
                }), this._groupsService.isGroupEditModalOpen() && (this._groupsService.selectedMembers = this._studentsService.selectedStudents.map(function(e) {
                    return e.id
                }))
            }
        }, {
            key: "sortBy",
            value: function(e, t) {
                this._studentsService.filteredStudents = this.orderBy(this._studentsService.filteredStudents, e, t), this.data.behaviourReverse = "behaviour_points" === e ? !this.data.behaviourReverse : this.data.behaviourReverse, this.data.achievementReverse = "achievement_points" === e ? !this.data.achievementReverse : this.data.achievementReverse
            }
        }, {
            key: "getPositions",
            value: function() {
                var e = this._windowWidthService.windowWidth,
                    t = this._windowWidthService.windowHeight;
                return t > e ? {
                    x: 0,
                    y: t
                } : {
                    x: -e,
                    y: 0
                }
            }
        }, {
            key: "goToStudent",
            value: function(e) {
                var t = this;
                this._studentsService.getStudents(e).then(function(e) {
                    if (e) {
                        var n = e[0],
                            i = [t._menuService.eventsName.MENU_TO, t._menuService.eventsName.MENU_ROTATE, t._menuService.eventsName.MENU_DEINIT, t._menuService.eventsName.MENU_EMPTY, t._menuService.eventsName.MENU_INIT, t._menuService.eventsName.MENU_EMPTY],
                            a = [
                                [1, t.getPositions()],
                                [10, 0], null, [1.2, null, {
                                    isOut: !1
                                }]
                            ],
                            s = [function(e) {
                                e.isMenuIn = !0
                            }.bind(null, t._routeClassService), null, null, function(e) {
                                e.transitionTo("student", {
                                    studentId: n.id
                                }, {
                                    notify: !1
                                })
                            }.bind(null, t._$state), function(e, t) {
                                t.menu = t.availableMenu.learner_menu.mainMenu.filter(function(e) {
                                    return t.hiddenMenusForRoles.employee.indexOf(e.id) < 0
                                })
                            }.bind(null, n, t._menuService), ["bindEvents", function(e) {
                                e(function() {
                                    angular.element(".student__back").addClass("_active")
                                }, 0)
                            }.bind(null, t._$timeout)]];
                        t._menuService.setEvents(i, a, s)
                    }
                })
            }
        }, {
            key: "goToStudentMobile",
            value: function(e) {
                var t = this,
                    n = this._studentsService.students.findStudentFromId(e);
                n && (this._userService.user.activeStudent = n, this._menuService.mobileMenu = this._menuService.availableMenu.learner_menu.fullMenu.filter(function(e) {
                    return t._menuService.hiddenMenusForRoles.employee.indexOf(e.id) < 0
                }), this._$state.transitionTo("student", {
                    studentId: n.id
                }, {
                    notify: !0
                }))
            }
        }, {
            key: "getPhoto",
            value: function(e, t) {
                return e._studentsService.students.getPhotos(t)
            }
        }, {
            key: "getDefaultPhoto",
            value: function(e, t) {
                return e._studentsService.getDefaultPhotoUsingGender(t)
            }
        }, {
            key: "scrollConfig",
            get: function() {
                return this.data.scrollConfig
            }
        }, {
            key: "itemsLimit",
            get: function() {
                return this.data.itemsLimit
            },
            set: function(e) {
                this.data.itemsLimit = e
            }
        }, {
            key: "config",
            get: function() {
                return this.data.lazyPhotoConfig
            }
        }, {
            key: "user",
            get: function() {
                return this._userService.user
            }
        }, {
            key: "secondPartOfCurrentState",
            get: function() {
                return this._routeClassService.secondPartOfCurrentState
            }
        }, {
            key: "fullStateName",
            get: function() {
                return this._routeClassService.fullStateName
            }
        }, {
            key: "firstPartOfCurrentState",
            get: function() {
                return this._routeClassService.firstPartOfCurrentState
            }
        }, {
            key: "filteredStudents",
            get: function() {
                return this._studentsService.filteredStudents
            }
        }, {
            key: "isAllSelected",
            get: function() {
                var e = this._studentsService.students.filteredStudents;
                return this._studentsService.selectedStudents.filter(function(t) {
                    return e.includes(t)
                }).length === e.length
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2437));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("l-student-summary", []).component("lStudentSummary", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2438)),
        i = a(t(2439));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2440);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            data: "="
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="l-student-summary" ng-class="{ _nav: $ctrl.fullStateName.indexOf(\'behaviour.summary-behaviour-points\') !== -1 && $ctrl._windowWidthService.windowWidth > $ctrl._deviceMarginConstants.MOBILE_MARGIN}">\n  <ul class="l-student-summary__nav" ng-if="$ctrl.fullStateName.indexOf(\'behaviour.summary-behaviour-points\') !== -1 && $ctrl._windowWidthService.windowWidth > $ctrl._deviceMarginConstants.MOBILE_MARGIN">\n    <li class="l-student-summary__nav-item" ng-click="$ctrl.selectTab(tab)"\n        ng-class="{ \'_current\': $ctrl.local.currentTab === tab }"\n        ng-repeat="tab in $ctrl.local.behaviourTabs">{{ tab }}</li>\n  </ul>\n  <ul class="b-tabs__nav" ng-if="$ctrl.fullStateName.indexOf(\'behaviour.summary-behaviour-points\') !== -1 && $ctrl._windowWidthService.windowWidth <= $ctrl._deviceMarginConstants.MOBILE_MARGIN">\n    <sl-tabs config="$ctrl.slickConfig" items="$ctrl.local.behaviourTabs" day="$ctrl.local.currentTab"></sl-tabs>\n  </ul>\n  <div class="l-student-summary__wrapper {{ $ctrl.getCurrentTabClass() }}"\n       ng-class=" {\'_detentions\': $ctrl.local.currentTab === \'Detentions\' || $ctrl.local.currentTab === \'Lesson Behaviour\'}"\n       ng-if="$ctrl.fullStateName.indexOf(\'behaviour.summary-behaviour-points\') !== -1\n        || $ctrl.fullStateName.indexOf(\'behaviour.summary-achievement-points\') !== -1">\n\n    <div class="l-student-summary__header"\n         ng-if="$ctrl._windowWidthService.windowWidth <= $ctrl._deviceMarginConstants.MOBILE_MARGIN">\n      <div class="l-student-summary__total"\n           ng-if="$ctrl.fullStateName.indexOf(\'behaviour.summary-behaviour-points\') !== -1 && $ctrl.local.currentTab === \'Behaviour Records\'">\n        <div class="l-student-summary__total-title">\n          Total Negative Points<span>:</span>\n        </div>\n        <div class="l-student-summary__total-points"\n             ng-class="{ \'_smaller\': $ctrl.local.lengthOfTotalPoints === 4 }">\n          {{ $ctrl.local.totalPoints}}\n        </div>\n      </div>\n\n      <div class="l-student-summary__add-points"\n           ng-click="$ctrl.addPoints()"\n           ng-if="$ctrl._userService.checkRole(\'employee\') && $ctrl._routeClassService.firstPartOfCurrentState === \'student\' &&\n            ($ctrl.local.currentTab === \'Behaviour Records\' || $ctrl._routeClassService.fullStateName === \'student.behaviour.summary-achievement-points\')">\n        <svg-use name="plus"></svg-use>\n      </div>\n\n      <div class="l-student-summary__total"\n           ng-if="$ctrl.fullStateName.indexOf(\'behaviour.summary-achievement-points\') !== -1">\n        <div class="l-student-summary__total-title">\n          Total Achievements Points<span>:</span>\n        </div>\n        <div class="l-student-summary__total-points"\n             ng-class="{ \'_smaller\': $ctrl.local.lengthOfTotalPoints === 4 }">\n          {{ $ctrl.local.totalPoints}}\n        </div>\n      </div>\n    </div>\n\n    <div class="l-student-summary__top" ng-if="$ctrl.fullStateName.indexOf(\'behaviour.summary-behaviour-points\') !== -1 && $ctrl.local.currentTab === \'Behaviour Records\' && $ctrl.data.behaviour && $ctrl.data.behaviour.length">\n      <div class="l-student-summary__col _date" ng-click="$ctrl.sort(\'behaviour\', [\'date\', \'behaviourType\'], $ctrl._sortDataService.compareDates)">\n        <span class="l-student-summary__col-title" ng-class="{ \'_reverse\': $ctrl.reverse.date }">Type & Date</span>\n      </div>\n      <div class="l-student-summary__col _comment _mobile-hidden" ng-click="$ctrl.sort(\'behaviour\', [\'recordedTeacherFullName\', \'comments\'])">\n        <span class="l-student-summary__col-title" ng-class="{ \'_reverse\': $ctrl.reverse.recordedTeacherFullName }">Comment & Teacher</span>\n      </div>\n      <div class="l-student-summary__col _action" ng-click="$ctrl.sort(\'behaviour\', [\'action\'])">\n        <span class="l-student-summary__col-title" ng-class="{ \'_reverse\': $ctrl.reverse.action }">Action & Info</span>\n      </div>\n      <div class="l-student-summary__col _location _mobile-hidden"\n           ng-if="$ctrl.currentTab === \'Behaviour Records\'"\n           ng-click="$ctrl.sort(\'behaviour\', [\'location\'])">\n        <span class="l-student-summary__col-title" ng-class="{ \'_reverse\': $ctrl.reverse.location }">Location & Status</span>\n      </div>\n      <div class="l-student-summary__col _location _mobile-hidden"\n           ng-if="$ctrl.currentTab !== \'Behaviour Records\'"\n           ng-click="$ctrl.sort(\'behaviour\', [\'location\'])">\n        <span class="l-student-summary__col-title" ng-class="{ \'_reverse\': $ctrl.reverse.location }">Location</span>\n      </div>\n      <div class="l-student-summary__col _points" ng-click="$ctrl.sort(\'behaviour\', [\'points\'])">\n        <span class="l-student-summary__col-title" ng-class="{ \'_reverse\': $ctrl.reverse.points }">Points</span>\n      </div>\n    </div>\n    <div class="l-student-summary__no-data" ng-if="$ctrl.fullStateName.indexOf(\'behaviour.summary-behaviour-points\') !== -1 && $ctrl.local.currentTab === \'Behaviour Records\' && $ctrl.data.behaviour && !$ctrl.data.behaviour.length">\n      No Behaviour Records found\n    </div>\n\n    <div class="l-student-summary__top _report"\n         ng-if="$ctrl.fullStateName.indexOf(\'behaviour.summary-behaviour-points\') !== -1 && $ctrl.local.currentTab === \'Report Cards\' && $ctrl._windowWidthService.windowWidth > $ctrl._deviceMarginConstants.MOBILE_MARGIN && $ctrl.data.report_cards.length">\n      <div class="l-student-summary__col _date" ng-click="$ctrl.sort(\'report_cards\', [\'start_date\'], $ctrl._sortDataService.compareDates)">\n        <span class="l-student-summary__col-title" ng-class="{ \'_reverse\': $ctrl.reverse.start_date }">Start Date</span>\n      </div>\n      <div class="l-student-summary__col _date" ng-click="$ctrl.sort(\'report_cards\', [\'end_date\'])">\n        <span class="l-student-summary__col-title" ng-class="{ \'_reverse\': $ctrl.reverse.end_date }">End Date</span>\n      </div>\n      <div class="l-student-summary__col _type" ng-click="$ctrl.sort(\'report_cards\', [\'type\'])">\n        <span class="l-student-summary__col-title" ng-class="{ \'_reverse\': $ctrl.reverse.type }">Behaviour Type</span>\n      </div>\n      <div class="l-student-summary__col _comment" ng-click="$ctrl.sort(\'report_cards\', [\'comments\'])">\n        <span class="l-student-summary__col-title" ng-class="{ \'_reverse\': $ctrl.reverse.comments }">Comment</span>\n      </div>\n      <div class="l-student-summary__col _details" ng-if="$ctrl._userService.user.capabilities.behaviour.report_card.detail"></div>\n    </div>\n    <div class="l-student-summary__no-data"\n         ng-if="$ctrl.fullStateName.indexOf(\'behaviour.summary-behaviour-points\') !== -1 &&\n          $ctrl.local.currentTab === \'Report Cards\' && !$ctrl.data.report_cards.length">\n      No Report Cards found\n    </div>\n\n    <div class="l-student-summary__top"\n         ng-if="$ctrl.fullStateName.indexOf(\'behaviour.summary-behaviour-points\') !== -1 && $ctrl.local.currentTab === \'Detentions\' && $ctrl._windowWidthService.windowWidth > $ctrl._deviceMarginConstants.MOBILE_MARGIN && $ctrl.data.detentions.length">\n      <div class="l-student-summary__col" ng-click="$ctrl.sort(\'detentions\', [\'date\'], $ctrl._sortDataService.compareDates)">\n        <span class="l-student-summary__col-title" ng-class="{ \'_reverse\': $ctrl.reverse.date }">Date</span>\n      </div>\n      <div class="l-student-summary__col" ng-click="$ctrl.sort(\'detentions\', [\'description\'])">\n        <span class="l-student-summary__col-title" ng-class="{ \'_reverse\': $ctrl.reverse.description }">Type</span>\n      </div>\n      <div class="l-student-summary__col" ng-click="$ctrl.sort(\'detentions\', [\'location\'])">\n        <span class="l-student-summary__col-title" ng-class="{ \'_reverse\': $ctrl.reverse.location }">Location</span>\n      </div>\n      <div class="l-student-summary__col" ng-click="$ctrl.sort(\'detentions\', [\'start_time\'], $ctrl._sortDataService.compareDates)">\n      <span class="l-student-summary__col-title" ng-class="{ \'_reverse\': $ctrl.reverse.start_time }">Start Time</span>\n      </div>\n      <div class="l-student-summary__col" ng-click="$ctrl.sort(\'detentions\', [\'end_time\'], $ctrl._sortDataService.compareDates)">\n      <span class="l-student-summary__col-title" ng-class="{ \'_reverse\': $ctrl.reverse.end_time }">End time</span>\n      </div>\n      <div class="l-student-summary__col" ng-click="$ctrl.sort(\'detentions\', [\'attended\'])">\n      <span class="l-student-summary__col-title" ng-class="{ \'_reverse\': $ctrl.reverse.attended }">Attended</span>\n      </div>\n    </div>\n    <div class="l-student-summary__no-data"\n         ng-if="$ctrl.fullStateName.indexOf(\'behaviour.summary-behaviour-points\') !== -1 &&\n          $ctrl.local.currentTab === \'Detentions\' && !$ctrl.data.detentions.length">\n      No Detentions found\n    </div>\n    <div class="l-student-summary__top"\n         ng-if="$ctrl.fullStateName.indexOf(\'behaviour.summary-achievement-points\') !== -1">\n      <div class="l-student-summary__col _date" ng-click="$ctrl.sort(\'achievement\', [\'date\', \'achievementType\'], $ctrl._sortDataService.compareDates)">\n        <span class="l-student-summary__col-title" ng-class="{ \'_reverse\': $ctrl.reverse.date }">Type & Date</span>\n      </div>\n      <div class="l-student-summary__col _comment _mobile-hidden" ng-click="$ctrl.sort(\'achievement\', [\'recordedTeacherFullName\', \'comments\'])">\n        <span class="l-student-summary__col-title" ng-class="{ \'_reverse\': $ctrl.reverse.recordedTeacherFullName }">Comment & Teacher</span>\n      </div>\n      <div class="l-student-summary__col _action" ng-click="$ctrl.sort(\'achievement\', [\'activity\'])">\n        <span class="l-student-summary__col-title" ng-class="{ \'_reverse\': $ctrl.reverse.activity }">Activity & Info</span>\n      </div>\n      <div class="l-student-summary__col _location _mobile-hidden" ng-click="$ctrl.sort(\'achievement\', [\'award\'])">\n        <span class="l-student-summary__col-title" ng-class="{ \'_reverse\': $ctrl.reverse.award }">Award</span>\n      </div>\n      <div class="l-student-summary__col _points" ng-click="$ctrl.sort(\'achievement\', [\'points\'])">\n        <span class="l-student-summary__col-title" ng-class="{ \'_reverse\': $ctrl.reverse.points }">Points</span>\n      </div>\n    </div>\n    <div class="l-student-summary__bottom" ng-class="{\'_no-header\': $ctrl.fullStateName.indexOf(\'behaviour.summary-behaviour-points\') !== -1 && $ctrl.local.currentTab === \'Lesson Behaviour\'}">\n      <ul class="l-student-summary__content _scroll" ng-if="$ctrl.fullStateName.indexOf(\'behaviour.summary-behaviour-points\') !== -1 && $ctrl.local.currentTab === \'Behaviour Records\'">\n        <li class="l-student-summary__item" ng-repeat="type in $ctrl.data.behaviour">\n          <b-student-summary type="type" tab="{{ $ctrl.local.currentTab }}"></b-student-summary>\n        </li>\n      </ul>\n\n      <ul class="l-student-summary__content _scroll" ng-if="$ctrl.fullStateName.indexOf(\'behaviour.summary-behaviour-points\') !== -1 && $ctrl.local.currentTab === \'Report Cards\'">\n        <li class="l-student-summary__item" ng-repeat="type in $ctrl.data.report_cards">\n          <b-student-summary type="type" tab="{{ $ctrl.local.currentTab }}"></b-student-summary>\n        </li>\n      </ul>\n\n      <ul class="l-student-summary__content _scroll" ng-if="$ctrl.fullStateName.indexOf(\'behaviour.summary-behaviour-points\') !== -1 && $ctrl.local.currentTab === \'Detentions\'">\n        <li class="l-student-summary__item" ng-repeat="type in $ctrl.data.detentions">\n          <b-student-summary type="type" tab="{{ $ctrl.local.currentTab }}"></b-student-summary>\n        </li>\n      </ul>\n\n      <l-lesson-behaviour\n        class="l-student-summary__content _scroll _chart"\n        ng-if="$ctrl.fullStateName.indexOf(\'behaviour.summary-behaviour-points\') !== -1 && $ctrl.local.currentTab === \'Lesson Behaviour\'"\n        lessons="$ctrl.data[\'b4l\']">\n      </l-lesson-behaviour>\n      <ul class="l-student-summary__content _scroll"\n          ng-if="$ctrl.fullStateName.indexOf(\'behaviour.summary-achievement-points\') !== -1">\n        <li class="l-student-summary__item" ng-repeat="type in $ctrl.data.achievement">\n          <b-student-summary type="type" message="{{ $ctrl.local.message[$ctrl.getIndex($index)].name }}"></b-student-summary>\n        </li>\n      </ul>\n      <div class="l-student-summary__total" ng-if="$ctrl.fullStateName.indexOf(\'behaviour.summary-behaviour-points\') !== -1 && $ctrl.local.currentTab === \'Behaviour Records\'">\n        <div class="l-student-summary__total-title">\n          Total Negative Points<span>:</span>\n        </div>\n        <div class="l-student-summary__total-points"\n             ng-class="{ \'_smaller\': $ctrl.local.lengthOfTotalPoints === 4 }">\n          {{ $ctrl.local.totalPoints}}\n        </div>\n      </div>\n      <div class="l-student-summary__add-points"\n           ng-click="$ctrl.addPoints()"\n           ng-if="$ctrl._userService.checkRole(\'employee\') && $ctrl._routeClassService.firstPartOfCurrentState === \'student\' &&\n            ($ctrl.local.currentTab === \'Behaviour Records\' || $ctrl._routeClassService.fullStateName === \'student.behaviour.summary-achievement-points\')">\n        <svg-use name="plus"></svg-use>\n      </div>\n      <div class="l-student-summary__total"\n           ng-if="$ctrl.fullStateName.indexOf(\'behaviour.summary-achievement-points\') !== -1">\n        <div class="l-student-summary__total-title">\n          Total Achievements Points<span>:</span>\n        </div>\n        <div class="l-student-summary__total-points"\n             ng-class="{ \'_smaller\': $ctrl.local.lengthOfTotalPoints === 4 }">\n          {{ $ctrl.local.totalPoints}}\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r, o, l, c, d, u) {
            "ngInject";
            var _ = this;
            (0, n.default)(this, e), this._$state = i, this._behaviourDataService = a, this._deviceMarginConstants = s, this._sortDataService = o, this._studentsService = r, this._routeClassService = c, this._userService = l, this._windowWidthService = d, this._$timeout = u, this.local = {
                currentTab: "",
                behaviourTabs: [],
                dataForPage: null,
                fullStateName: null,
                totalPoints: null,
                lengthOfTotalPoints: null,
                message: this._behaviourDataService.behaviourData && this._behaviourDataService.behaviourData.achievement_award_types || null,
                requestIsSended: null,
                reverse: {}
            }, this.slickConfig = {
                enabled: !0,
                swipeToSlide: !0,
                slidesToShow: 1,
                centerMode: !0,
                dots: !0,
                infinite: !0,
                arrows: !0,
                speed: 500,
                cssEase: "ease-out",
                centerPadding: "0",
                initialSlide: 0,
                event: {
                    afterChange: function() {
                        var e = angular.element(".slick-current").text().trim();
                        _.local.currentTab = e
                    }
                }
            }, this.generateData();
            var f = t.$watch(function() {
                return _.data
            }, function(e) {
                if (e && (-1 !== _._$state.current.name.indexOf("behaviour.summary-behaviour-points") || -1 !== _._$state.current.name.indexOf("behaviour.summary-achievement-points")) && (e.behaviour || e.achievement)) {
                    var t = (e.behaviour || e.achievement).map(function(e) {
                        return e.points
                    });
                    _.getTotalPoints(t), _.generateData()
                }
            }, !0);
            t.$on("$destroy", f)
        }
        return e.$inject = ["$scope", "$state", "behaviourDataService", "deviceMarginConstants", "studentsService", "sortDataService", "userService", "routeClassService", "windowWidthService", "$timeout"], (0, i.default)(e, [{
            key: "$onInit",
            value: function() {
                var e = this;
                this._$timeout(function() {
                    -1 === e.fullStateName.indexOf("behaviour.summary-behaviour-points") && -1 === e.fullStateName.indexOf("behaviour.single-behaviour-points") || (e.data.behaviour && (!e.local.currentTab && (e.local.currentTab = "Behaviour Records"), e.local.behaviourTabs.push("Behaviour Records")), e.data.b4l && (!e.local.currentTab && (e.local.currentTab = "Lesson Behaviour"), e.local.behaviourTabs.push("Lesson Behaviour")), e.data.detentions && (!e.local.currentTab && (e.local.currentTab = "Detentions"), e.local.behaviourTabs.push("Detentions")), e.data.report_cards && (!e.local.currentTab && (e.local.currentTab = "Report Cards"), e.local.behaviourTabs.push("Report Cards")))
                }, 0)
            }
        }, {
            key: "getReverse",
            value: function(e) {
                return this.local.reverse[e] ? this.local.reverse[e] : -1
            }
        }, {
            key: "sort",
            value: function(e, t, n) {
                e ? this.data[e] = this._sortDataService.sortBy(this.data[e], t, this.reverse, n) : this.data = this._sortDataService.sortBy(this.data, t, this.reverse, n)
            }
        }, {
            key: "getTotalPoints",
            value: function(e) {
                return e.length ? (this.local.totalPoints = e.reduce(function(e, t) {
                    return e += parseInt(t, 10)
                }, 0), this.lengthOfTotalPoints = this.local.totalPoints.toString().length, !1) : (this.local.totalPoints = 0, !1)
            }
        }, {
            key: "getIndex",
            value: function(e) {
                return e % 9
            }
        }, {
            key: "getPositions",
            value: function() {
                var e = this._windowWidthService.windowWidth,
                    t = this._windowWidthService.windowHeight;
                return t > e ? {
                    x: 0,
                    y: t
                } : {
                    x: -e,
                    y: 0
                }
            }
        }, {
            key: "addPoints",
            value: function() {
                this._userService.checkRole("employee") && (this._studentsService.selectedStudents = [this._userService.user.activeStudent], this._userService.user.activeStudent || (this._userService.user.activeStudent = this._userService.user.activeChild), this._$state.transitionTo("student.behaviour.summary-behaviour-points" === this._routeClassService.fullStateName ? "student.behaviour.points-behaviour" : "student.behaviour.points-achievement", {
                    studentId: this._userService.user.activeStudent.id
                }, {
                    notify: !1
                }))
            }
        }, {
            key: "selectTab",
            value: function(e) {
                this.local.currentTab = e
            }
        }, {
            key: "getItemFromField",
            value: function(e, t, n) {
                if (e)
                    for (var i = 0; i < e.length; i++) {
                        var a = e[i];
                        if (a[n] === t) return a
                    }
                return null
            }
        }, {
            key: "generateType",
            value: function(e, t) {
                var n = this,
                    i = "";
                return e.type_ids.forEach(function(e) {
                    var a = n.getItemFromField(n._behaviourDataService.behaviourAchievementLookups[t], e, "id");
                    i += a && a.description ? a.description + "<br>" : "<br>"
                }), i.slice(0, -4)
            }
        }, {
            key: "getBehaviourTeacherFullName",
            value: function(e) {
                if (!e) return null;
                var t = this.getItemFromField(this.data.employees, e, "id");
                return t ? t.title + " " + t.forename + " " + t.surname : null
            }
        }, {
            key: "getFieldFromItemsArrayAndId",
            value: function(e, t, n) {
                var i = this.getItemFromField(e, t, "id");
                return i ? i[n] : ""
            }
        }, {
            key: "generateData",
            value: function() {
                var e = this;
                this.data && (this.isBehaviour ? this.data.behaviour.forEach(function(t) {
                    t.comments = t.comments || "", t.behaviourType = e.generateType(t, "behaviour_types"), t.recordedTeacherFullName = e.getBehaviourTeacherFullName(t.recorded && t.recorded.employee_id), t.action = t.action_taken && e.getFieldFromItemsArrayAndId(e._behaviourDataService.behaviourAchievementLookups.behaviour_actions_taken, parseInt(t.action_taken.id, 10), "name"), t.location = t.location_id && e.getFieldFromItemsArrayAndId(e._behaviourDataService.behaviourAchievementLookups.behaviour_locations, t.location_id, "name")
                }) : this.isAchievement && this.data.achievement.forEach(function(t) {
                    t.comments = t.comments || "", t.achievementType = e.generateType(t, "achievement_types"), t.recordedTeacherFullName = e.getBehaviourTeacherFullName(t.recorded && t.recorded.employee_id), t.activity = t.activity_id && e.getFieldFromItemsArrayAndId(e._behaviourDataService.behaviourAchievementLookups.achievement_activity_types, parseInt(t.activity_id, 10), "description"), t.award = e.getFieldFromItemsArrayAndId(e._behaviourDataService.behaviourAchievementLookups.achievement_award_types, parseInt(t.award && t.award.id || -1, 10), "name")
                }))
            }
        }, {
            key: "getCurrentTabClass",
            value: function() {
                return "_" + this.local.currentTab.replace(" ", "-").toLowerCase()
            }
        }, {
            key: "reverse",
            get: function() {
                return this.local.reverse
            },
            set: function(e) {
                this.local.reverse = e
            }
        }, {
            key: "detentions",
            get: function() {
                return this.data.detentions
            }
        }, {
            key: "behaviour",
            get: function() {
                return this.data.behaviour
            }
        }, {
            key: "achievement",
            get: function() {
                return this.data.achievement
            }
        }, {
            key: "fullStateName",
            get: function() {
                return this.local.fullStateName = this._routeClassService.fullStateName, this._routeClassService.fullStateName
            }
        }, {
            key: "lengthOfTotalPoints",
            set: function(e) {
                this.local.lengthOfTotalPoints = e
            }
        }, {
            key: "isAchievement",
            get: function() {
                return this.fullStateName && this.fullStateName.indexOf("behaviour.summary-achievement-points") >= 0
            }
        }, {
            key: "isBehaviour",
            get: function() {
                return this.fullStateName && this.fullStateName.indexOf("behaviour.summary-behaviour-points") >= 0
            }
        }, {
            key: "currentTab",
            get: function() {
                return this.local.currentTab
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2442));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("l-teachers", []).component("lTeachers", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2443)),
        i = a(t(2444));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2445);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            nextState: "@"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="l-teachers"\n  change-limit-on-scroll\n  limit="$ctrl.filteredTeachers.length"\n  config="$ctrl.scrollConfig"\n  counter="$ctrl.itemsLimit">\n  <div class="l-teachers__title">Select Teacher</div>\n  <ul class="l-default l-teachers__list"\n    lazy-photo\n    elements="$ctrl.filteredTeachers" config="$ctrl.config"\n    updater="$ctrl.itemsLimit"\n    scrollable-block\n    ng-init="$ctrl.emitScrollInit()">\n    <li class="l-default__item l-teachers__item"\n      photo-element data-hash="{{ teacher.hashPhoto }}"\n      ng-repeat="teacher in $ctrl.filteredTeachers | limitTo:$ctrl.itemsLimit">\n      <a ui-sref="{{ ::$ctrl.nextState }}"\n        ng-click="$ctrl.setActiveTeacher(teacher)"\n        class="l-teachers__link">\n        <div class="l-teachers__photo"\n          binded-photo photo-url="{{ ::teacher.photo }}"\n          ng-style="{\'background-image\': \'url(\' + (teacher.gender === \'Female\' ? $ctrl._imagesConstants.FEMALE_EMPLOYEE_DEFAULT_IMAGE : $ctrl._imagesConstants.MALE_EMPLOYEE_DEFAULT_IMAGE) + \')\'}"></div>\n        <span class="l-teachers__name">{{ ::teacher.forename }} {{ ::teacher.surname }}</span>\n      </a>\n    </li>\n  </ul>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r, o) {
            "ngInject";
            (0, n.default)(this, e), this._$scope = o, this._teachersService = t, this._imagesConstants = s, this._prTeacherService = a, this._conditionConstants = i, this._userService = r, this.local = {
                size: 60,
                lazyPhotoConfig: {
                    prefix: "data:image/png;base64,",
                    reserveScroll: 150,
                    getPhotoCallback: this.getPhoto,
                    getDefaultPhotoCallback: this.getDefaultPhoto,
                    changeObjectTimeout: 500,
                    isUniqueElements: !0,
                    isSingleElements: !0
                },
                itemsLimit: 25,
                scrollConfig: {
                    increaseBy: 15,
                    startCount: 25
                }
            }
        }
        return e.$inject = ["teachersService", "conditionConstants", "prTeacherService", "imagesConstants", "userService", "$scope"], (0, i.default)(e, [{
            key: "emitScrollInit",
            value: function() {
                this._$scope.$emit("initScrollArea")
            }
        }, {
            key: "getPhoto",
            value: function(e, t) {
                return e._teachersService.getTeacherPhotosFromDb(t, e.local.size).catch(function() {
                    return null
                })
            }
        }, {
            key: "getDefaultPhoto",
            value: function(e, t) {
                return e._teachersService.getDefaultPhotoUsingGender(t)
            }
        }, {
            key: "setActiveTeacher",
            value: function(e) {
                this._prTeacherService.currentTeacher = e
            }
        }, {
            key: "scrollConfig",
            get: function() {
                return this.local.scrollConfig
            }
        }, {
            key: "itemsLimit",
            get: function() {
                return this.local.itemsLimit
            },
            set: function(e) {
                this.local.itemsLimit = e
            }
        }, {
            key: "filteredTeachers",
            get: function() {
                return this._teachersService.filteredTeachers
            }
        }, {
            key: "config",
            get: function() {
                return this.local.lazyPhotoConfig
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2447));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("l-users-search", []).component("lUsersSearch", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2448)),
        i = a(t(2449));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2450);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            getPhoto: "&",
            getDefaultPhoto: "&",
            filteredUsers: "=",
            selectedUsers: "=",
            title: "@",
            singleSelect: "<",
            extraClass: "@"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="l-users-search {{ $ctrl.extraClass }}"\n     change-limit-on-scroll\n     limit="$ctrl.filteredUsers.length"\n     config="$ctrl.scrollConfig"\n     counter="$ctrl.itemsLimit"\n>\n  <div class="l-users-search__wrapper toggle-form">\n\n    <div class="l-users-search__top"\n         ng-if="$ctrl._windowWidthService.windowWidth > $ctrl._deviceMarginConstants.MOBILE_MARGIN && !$ctrl.singleSelect">\n      <label class="l-users-search__checkbox f-default__label"\n             ng-click="$ctrl.selectAll($event)"\n             ng-class="{ \'_checkbox-checked\': $ctrl.isAllSelected }">\n        <input type="checkbox" class="l-users-search__checkbox-input">\n        <span class="l-users-search__checkbox-title">Select All</span>\n      </label>\n      <span class="l-users-search__amount">\n        {{ $ctrl.title }}\n        <span>\n          {{ $ctrl.selectedUsers.length }}\n        </span>\n      </span>\n    </div>\n\n    <div class="l-users-search__bottom"\n         ng-class="{ _single: $ctrl.singleSelect }">\n      <div class="l-users-search__wrapper-bottom">\n        <div class="l-users-search__checkbox-mobile"\n             ng-if="$ctrl._windowWidthService.windowWidth <= $ctrl._deviceMarginConstants.MOBILE_MARGIN && !$ctrl.singleSelect">\n          <label class="l-users-search__checkbox f-default__label"\n                 ng-click="$ctrl.selectAll($event)"\n                 ng-class="{ \'_checkbox-checked\': $ctrl.isAllSelected }">\n            <input type="checkbox" class="l-users-search__checkbox-input">\n            <span class="l-users-search__checkbox-title">Select All</span>\n          </label>\n          <span class="l-users-search__amount">\n            {{ $ctrl.title }}\n            <span>\n              {{ $ctrl.selectedUsers.length }}\n            </span>\n          </span>\n        </div>\n        <ul class="l-users-search__list"\n            role="list"\n            lazy-photo\n            elements="$ctrl.filteredUsers"\n            updater="$ctrl.itemsLimit"\n            config="$ctrl.config"\n            scrollable-block\n            ng-init="$ctrl.emitScrollInit()">\n          <li class="l-users-search__item"\n              photo-element data-hash="{{ filteredUser.hashPhoto }}"\n              ng-repeat="filteredUser in $ctrl.filteredUsers | limitTo:$ctrl.itemsLimit">\n            <b-user-select\n              select="$ctrl.selectUser({ user })"\n              is-selected="$ctrl.isUserSelected({ user })"\n              user="filteredUser"></b-user-select>\n          </li>\n        </ul>\n      </div>\n\n    </div>\n  </div>\n\n  <div class="l-users-search__gradient">\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r) {
            "ngInject";
            (0, n.default)(this, e), this._$scope = t, this._deviceMarginConstants = i, this._windowWidthService = r, this.initValues()
        }
        return e.$inject = ["$scope", "deviceMarginConstants", "imagesConstants", "teachersService", "windowWidthService"], (0, i.default)(e, [{
            key: "initValues",
            value: function(e) {
                this.data && !e || (this.data = {
                    lazyPhotoConfig: {
                        prefix: "data:image/png;base64,",
                        reserveScroll: 150,
                        getPhotoCallback: this.getPhotoForUsers,
                        getDefaultPhotoCallback: this.getDefaultPhotoForUsers,
                        changeObjectTimeout: 500,
                        isUniqueElements: !0,
                        isSingleElements: !0
                    },
                    itemsLimit: 15,
                    scrollConfig: {
                        increaseBy: 15,
                        startCount: 15
                    }
                })
            }
        }, {
            key: "emitScrollInit",
            value: function() {
                this._$scope.$emit("initScrollArea")
            }
        }, {
            key: "selectAll",
            value: function(e) {
                e.preventDefault();
                var t = this.filteredUsers;
                this.isAllSelected ? this.selectedUsers = this.selectedUsers.filter(function(e) {
                    return !t.includes(e)
                }) : this.selectedUsers = this.selectedUsers.concat(t).filter(function(e, t, n) {
                    return n.indexOf(e) === t
                })
            }
        }, {
            key: "isUserSelected",
            value: function(e) {
                var t = e.user;
                return -1 !== this.selectedUsers.indexOf(t)
            }
        }, {
            key: "selectUser",
            value: function(e) {
                var t = e.user; - 1 === this.selectedUsers.indexOf(t) ? this.singleSelect ? this.selectedUsers = [t] : this.selectedUsers.push(t) : this.selectedUsers = this.selectedUsers.filter(function(e) {
                    return e !== t
                })
            }
        }, {
            key: "getPhotoForUsers",
            value: function(e, t) {
                return e.getPhoto({
                    photosId: t
                })
            }
        }, {
            key: "getDefaultPhotoForUsers",
            value: function(e, t) {
                return e.getDefaultPhoto(t)
            }
        }, {
            key: "scrollConfig",
            get: function() {
                return this.data.scrollConfig
            }
        }, {
            key: "itemsLimit",
            get: function() {
                return this.data.itemsLimit
            },
            set: function(e) {
                this.data.itemsLimit = e
            }
        }, {
            key: "config",
            get: function() {
                return this.data.lazyPhotoConfig
            }
        }, {
            key: "isAllSelected",
            get: function() {
                if (this.filteredUsers && this.filteredUsers.length) {
                    var e = this.filteredUsers;
                    return this.selectedUsers.filter(function(t) {
                        return e.includes(t)
                    }).length === e.length
                }
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2452));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("l-teachers-timetable", []).component("lTeachersTimetable", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2453)),
        i = a(t(2454));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2455);
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<ul class="l-teachers-timetable"\n    ng-if="$ctrl._timetableService.timetableUsers.length > 0">\n    <li class="l-teachers-timetable__item"\n        ng-repeat="teacher in $ctrl._timetableService.timetableUsers">\n      <div class="l-teachers-timetable__avatar"\n           ng-style="{\'background-image\': \'url(\' + $ctrl._imagesConstants.DEFAULT_IMAGE + \')\',\n                      \'border-color\': teacher.color}"\n           binded-photo photo-url="{{ ::teacher.photo }}">\n      </div>\n      <div class="l-teachers-timetable__name"\n           ng-style="{ \'background-color\': teacher.color }">\n        {{ ::teacher.resultRow }}\n\n        <button type="button" class="l-teachers-timetable__btn _remove"\n                ng-click="$ctrl.removeTeacher(teacher)">\n          <span>X</span>\n        </button>\n      </div>\n    </li>\n</ul>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i) {
            "ngInject";
            (0, n.default)(this, e), this._timetableService = t, this._imagesConstants = i
        }
        return e.$inject = ["timetableService", "imagesConstants"], (0, i.default)(e, [{
            key: "removeTeacher",
            value: function(e) {
                this._timetableService.removeTeacher(e)
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2457));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("l-templates", []).component("lTemplates", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2458)),
        i = a(t(2459));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2460);
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="l-templates">\n  <div class="l-templates__top">\n    <div class="l-templates__col _name">Template Name</div>\n    <div class="l-templates__col _global">Global</div>\n    <div class="l-templates__col _remove">Remove</div>\n  </div>\n  <div class="l-templates__body">\n    <ul class="l-templates__list">\n      <li class="l-templates__item" ng-repeat="template in $ctrl.templates track by $index">\n        <div class="l-templates__col _name">\n          {{ template.name }}\n        </div>\n        <div class="l-templates__col _global">\n          <div class="l-templates__switch"\n               ng-class="{ \'_selected\': template.global,\n                           \'_disable\': !$ctrl.isUserOwnerOfTemplate(template.owner_id) || template.isSending }"\n               ng-click="$ctrl.updateGlobalPropertyOfTemplate(template)"></div>\n        </div>\n        <div class="l-templates__col _remove">\n          <button type="button" class="l-templates__button"\n                  ng-disabled="!$ctrl.isUserOwnerOfTemplate(template.owner_id)"\n                  ng-click="$ctrl.deleteTemplate(template.id)">\n            <svg-use name="trash"></svg-use>\n          </button>\n        </div>\n      </li>\n    </ul>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i) {
            "ngInject";
            (0, n.default)(this, e), this._templatesService = t, this._userService = i
        }
        return e.$inject = ["templatesService", "userService"], (0, i.default)(e, [{
            key: "updateGlobalPropertyOfTemplate",
            value: function(e) {
                e.isSending = !0, this._templatesService.updateTemplate(e.id, !e.global).then(function() {
                    e.global = !e.global, e.isSending = !1
                }).catch(function() {
                    e.isSending = !1
                })
            }
        }, {
            key: "isUserOwnerOfTemplate",
            value: function(e) {
                return e === this._userService.user.id
            }
        }, {
            key: "deleteTemplate",
            value: function(e) {
                var t = this;
                this._templatesService.removeTemplate(e).then(function() {
                    return t._templatesService.getTemplatesFromDB()
                })
            }
        }, {
            key: "templates",
            get: function() {
                return this._templatesService.templates
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2462));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("l-users", []).component("lUsers", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2463)),
        i = a(t(2464));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2465);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            users: "<",
            configs: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div\n  change-limit-on-scroll\n  limit="$ctrl.users.length"\n  config="$ctrl.configs.scroll"\n  counter="$ctrl.configs.itemsLimit">\n  <ul class="l-users"\n      role="list"\n      lazy-photo\n      elements="$ctrl.users"\n      config="$ctrl.configs.lazyPhoto"\n      updater="$ctrl.configs.itemsLimit"\n      scrollable-block\n      ng-init="$ctrl.configs.emitScrollInit()">\n    <li class="l-users__item" ng-repeat="user in $ctrl.users | limitTo:$ctrl.configs.itemsLimit"\n        photo-element data-hash="{{ user.hashPhoto }}">\n      <div class="l-users__img"\n           ng-style="{\'background-image\': \'url(\' + $ctrl._imagesConstants.DEFAULT_IMAGE + \')\'}"\n           binded-photo photo-url="{{ user.photo }}"></div>\n      <span class="l-users__fullname">\n        {{ user.forename }} {{ user.surname }}\n      </span>\n    </li>\n  </ul>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(1),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    exports.default = function e() {
        "ngInject";
        (0, a.default)(this, e)
    }
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2467));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("l-users-error", []).component("lUsersError", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2468)),
        i = a(t(2469));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2470);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            users: "<",
            date: "="
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="l-users-error">\n  <div class="l-users-error__bottom"\n    change-limit-on-scroll\n    limit="$ctrl.users.length"\n    config="$ctrl.scrollConfig"\n    counter="$ctrl.itemsLimit"\n  >\n    <div class="l-users-error__amount">\n      Selected learners: ({{ $ctrl.users.length }})\n    </div>\n\n    <ul class="l-users-error__list"\n      role="list"\n      lazy-photo\n      elements="$ctrl.users"\n      config="$ctrl.lazyPhotoConfig"\n      updater="$ctrl.itemsLimit"\n      scrollable-block\n      ng-init="$ctrl.emitScrollInit()"\n    >\n      <li class="l-users-error__content-item"\n          ng-repeat="user in $ctrl.users | limitTo:$ctrl.itemsLimit"\n          photo-element\n          data-hash="{{ user.hashPhoto }}"\n      >\n        <pr-user-error user="user"></pr-user-error>\n      </li>\n    </ul>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r, o, l, c) {
            "ngInject";
            (0, n.default)(this, e), this._$scope = c, this._behaviourDataService = i, this._studentsService = r, this._windowWidthService = s, this._menuService = o, this._routeClassService = t, this._deviceMarginConstants = l, this._registersService = a, this.data = {
                lazyPhotoConfig: {
                    prefix: "data:image/png;base64,",
                    reserveScroll: 150,
                    getPhotoCallback: this.getPhoto,
                    getDefaultPhotoCallback: this.getDefaultPhoto,
                    changeObjectTimeout: 500,
                    isUniqueElements: !0,
                    isSingleElements: !0
                },
                itemsLimit: 15,
                scrollConfig: {
                    increaseBy: 10,
                    startCount: 15
                }
            }
        }
        return e.$inject = ["routeClassService", "behaviourDataService", "registersService", "windowWidthService", "studentsService", "menuService", "deviceMarginConstants", "$scope"], (0, i.default)(e, [{
            key: "emitScrollInit",
            value: function() {
                this._$scope.$emit("initScrollArea")
            }
        }, {
            key: "getPhoto",
            value: function(e, t) {
                return e._studentsService.students.getPhotos(t)
            }
        }, {
            key: "getDefaultPhoto",
            value: function(e, t) {
                return e._studentsService.getDefaultPhotoUsingGender(t)
            }
        }, {
            key: "scrollConfig",
            get: function() {
                return this.data.scrollConfig
            }
        }, {
            key: "itemsLimit",
            get: function() {
                return this.data.itemsLimit
            },
            set: function(e) {
                this.data.itemsLimit = e
            }
        }, {
            key: "lazyPhotoConfig",
            get: function() {
                return this.data.lazyPhotoConfig
            }
        }, {
            key: "moveFromStartBehaviourPage",
            get: function() {
                return this._behaviourDataService.data.moveFromStartBehaviourPage
            }
        }, {
            key: "students",
            get: function() {
                return this._studentsService.students.users
            }
        }, {
            key: "secondPartOfCurrentState",
            get: function() {
                return this._routeClassService.secondPartOfCurrentState
            }
        }, {
            key: "fullStateName",
            get: function() {
                return this._routeClassService.fullStateName
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2472));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("l-variables", []).component("lVariables", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(2473),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    t(2474);
    var s = {
        template: a.default,
        bindings: {
            onSelect: "&",
            variables: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<ul class="l-variables">\n  <li class="l-variables__item"\n      ng-repeat="(key, value) in $ctrl.variables track by $index"\n      ng-click="$ctrl.onSelect({ variable: key })">\n    {{ ::value }}\n  </li>\n</ul>\n'
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(0)),
        i = s(t(2476)),
        a = s(t(2483));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = n.default.module("app.menus", [i.default, a.default]).name;
    exports.default = r
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = r(t(0)),
        i = r(t(2477)),
        a = r(t(2481)),
        s = r(t(2482));

    function r(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var o = n.default.module("m-site", []).directive({
        menuActions: a.default
    }).directive({
        menuDisplay: s.default
    }).component("mSite", i.default).name;
    exports.default = o
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2478)),
        i = a(t(2479));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2480);
    var s = {
        restrict: "E",
        template: n.default,
        controller: i.default,
        bindings: {
            bindedMenu: "<",
            bindedMenuLogo: "<",
            bindedEvents: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<nav class="m-site" menu-actions menu-display>\n  <div class="m-site__artboard"></div>\n  <div class="m-site__logo-wrap">\n    <div class="m-site__logo"\n      ng-class="{ \'_cover-size\': $ctrl.isSetCoverSize() }"\n      binded-photo photo-repeat="true" photo-url="{{ $ctrl.bindedMenuLogo.path }}"></div>\n  </div>\n  <ul class="m-site__list">\n    <li class="m-site__item _{{ item.id }}"\n      ng-repeat="item in $ctrl.menu" data-state="{{ item.sref | lowercase }}">\n      <div class="m-site__item-inner">\n        <div class="m-site__counter" ng-if="item.id === \'forms\' && $ctrl._statusService.status.new_forms">\n          <span>{{ $ctrl._statusService.status.new_forms }}</span>\n        </div>\n        <div class="m-site__counter" ng-if="item.id === \'employeecallout\' && $ctrl._statusService.status.employeecallout && $ctrl._statusService.status.employeecallout.new">\n          <span>{{ $ctrl._statusService.status.employeecallout.new }}</span>\n        </div>\n        <div class="m-site__counter" ng-if="item.id === \'noticeboard\' && $ctrl._statusService.status.noticeboard && $ctrl._statusService.status.noticeboard.new_snippets">\n          <span>{{ $ctrl._statusService.status.noticeboard.new_snippets }}</span>\n        </div>\n        <div class="m-site__counter" ng-if="item.id === \'childprotection\' && $ctrl._statusService.status.childprotection && $ctrl._statusService.status.childprotection.open_referrals">\n          <span>{{ $ctrl._statusService.status.childprotection.open_referrals }}</span>\n        </div>\n\t\t<div class="m-site__counter" ng-if="item.id === \'registers\' && $ctrl._statusService.status.registers && $ctrl._statusService.status.registers.missing">\n          <span>{{ $ctrl._statusService.status.registers.missing }}</span>\n        </div>\n        <div class="m-site__counter"\n             ng-if="item.id === \'datacollection_manage\' && $ctrl._statusService.status.datacollection\n            && $ctrl._statusService.status.datacollection.submissions">\n          <span>{{ $ctrl._statusService.status.datacollection.submissions }}</span>\n        </div>\n        <span class="m-site__item-name">{{ item.name }}</span>\n        <button type="button"\n                class="m-site__btn m-site__control _{{ item.id }}"\n                ng-if="item.isButton"\n                ng-click="item.onClick($ctrl.getMenuName())">\n          <svg-use name="{{ item.id }}"></svg-use>\n        </button>\n        <button type="button"\n                class="m-site__btn m-site__control _{{ item.id }}"\n                ng-if="item.id === \'payments_squid\'"\n                ng-disabled="$ctrl._paymentsService.isLoadingSSOURL"\n                ng-click="$ctrl._paymentsService.openSSOURL()">\n          <svg-use name="{{ item.id }}"></svg-use>\n        </button>\n        <a ui-sref="{{ item.sref | lowercase }}"\n           class="m-site__link m-site__control _{{ item.id }}"\n           ng-if="!item.isButton && item.id !== \'payments_squid\'"\n           data-state="{{ item.sref | lowercase }}">\n          <svg-use name="{{ item.id }}"></svg-use>\n          <button type="button" class="m-site__back"></button>\n        </a>\n      </div>\n    </li>\n  </ul>\n</nav>\n'
}, function(e, exports, t) {
    "use strict";
    (function($) {
        Object.defineProperty(exports, "__esModule", {
            value: !0
        });
        var e = a(t(11)),
            n = a(t(1)),
            i = a(t(2));

        function a(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        var s = function() {
            function t(e, i, a, s, r, o, l, c, d, u, _, f, v, m, h, p, g, b) {
                "ngInject";
                var S = this;
                (0, n.default)(this, t), this._$state = h, this._$window = o, this._$rootScope = a, this._$timeout = r, this._$scope = s, this._additionalMenuParamsService = l, this._configService = c, this._routeClassService = d, this._menuService = i, this._prTeacherService = e, this._conditionConstants = _, this._$q = u, this._userService = f, this._statusService = v, this._blockedTransitionService = p, this._modalDefaultService = g, this._paymentsService = b, this.clearBackgroundListener = m.clearDelayForBackgroundListener.bind(m), this.setBackgroundListener = m.setDelayForBackgroundListener.bind(m), this._$scope.emptyMenuAction = function() {
                    return new S._$q(function(e) {
                        e(!0)
                    })
                }, this._$scope.$on("$destroy", function() {
                    S._$scope.menuDeinit(), S._$scope.swipeDestroy()
                }), this.bindAngularEvents(), this.initValues(), this.initBindedElements(), this.menu = this.bindedMenu, r(function() {
                    return S._menuService.handleInitializeMenu()
                }, 0), this.isInit = !0
            }
            return t.$inject = ["prTeacherService", "menuService", "$rootScope", "$scope", "$timeout", "$window", "additionalMenuParamsService", "configService", "routeClassService", "$q", "conditionConstants", "userService", "statusService", "listenerBackgroundService", "$state", "blockedTransitionService", "modalDefaultService", "paymentsService"], (0, i.default)(t, [{
                key: "$onInit",
                value: function() {
                    var e = this._$window.innerHeight,
                        t = this._$window.innerWidth;
                    this.direction = e >= t ? 1 : 2
                }
            }, {
                key: "initBindedElements",
                value: function() {
                    this.bindedElements || (this.bindedElements = {})
                }
            }, {
                key: "initValues",
                value: function(e) {
                    this.data && !e || (this.data = {
                        menu: [],
                        lastEventsId: 0,
                        lastEventPromise: new this._$q(function(e) {
                            e(!0)
                        })
                    })
                }
            }, {
                key: "getMenuActionFromName",
                value: function(e) {
                    return !!e && this._$scope[e]
                }
            }, {
                key: "callPromiseList",
                value: function(e) {
                    var t = this;
                    return e.reduce(function(e, n) {
                        return t.lastEvent = e.then(n, n), t.lastEvent
                    }, this.lastEvent)
                }
            }, {
                key: "handleAction",
                value: function(e) {
                    angular.isString(e) ? this[e] && this[e]() : e && e()
                }
            }, {
                key: "handleEvents",
                value: function(t, n, i) {
                    for (var a = this, s = [], r = function(r) {
                            var o = a.getMenuActionFromName(t[r]),
                                l = n && n[r] || [],
                                c = i && i[r];
                            s.push(function() {
                                if (angular.isArray(c))
                                    for (var t = 0; t < c.length; t++) a.handleAction(c[t]);
                                else a.handleAction(c);
                                return a._$timeout(function() {
                                    return o && o.apply(void 0, (0, e.default)(l))
                                }, 0)
                            })
                        }, o = 0; o < t.length; o++) r(o);
                    this.callPromiseList(s)
                }
            }, {
                key: "getClickedElement",
                value: function() {
                    return this._routeClassService.fullStateName
                }
            }, {
                key: "getNeededRoles",
                value: function() {
                    if (this._userService.user.activeChildIndex >= 0) return ["parent"]
                }
            }, {
                key: "bindAngularEvents",
                value: function() {
                    var e = this,
                        t = this,
                        n = this._menuService.eventsName,
                        i = this._$rootScope.$on("closeMenu", function() {
                            if (!e._blockedTransitionService.isTransitionBlocked) {
                                e._routeClassService.isMenuIn = !0;
                                var t = e.getClickedElement(),
                                    i = [n.MENU_IN, n.EMPTY],
                                    a = [
                                        [null, '.m-site__link[data-state="' + t + '"]']
                                    ],
                                    s = [null, function() {
                                        return $(".student__back").addClass("_active")
                                    }];
                                e._menuService.setEvents(i, a, s)
                            }
                        }),
                        a = this._$rootScope.$on("resize.getWindowSize", function(n, i) {
                            if (!angular.element("html").hasClass("_pointerEvents") && e.direction) {
                                var a = e._routeClassService.fullStateName;
                                if (e._configService.config.isMenuCenterStates.indexOf(a) === t._conditionConstants.IS_NOT_EXIST) {
                                    var s = i.innerHeight,
                                        r = i.innerWidth,
                                        o = s > r ? 1 : 2;
                                    if (o !== t.direction) {
                                        angular.element("html").addClass("_pointerEvents");
                                        var l = s > r ? {
                                            x: -r,
                                            y: 0
                                        } : {
                                            x: 0,
                                            y: s
                                        };
                                        t._menuService.handleMenuTo(1, l), t._menuService.handleDeinitializeMenu(), t._menuService.handleInitializeMenu(), t.direction = o
                                    } else t._menuService.handleMenuTo(null, null);
                                    t.direction = s > r ? 1 : 2
                                }
                            }
                        });
                    this._$scope.$on("$destroy", function() {
                        i(), a()
                    })
                }
            }, {
                key: "bindEvents",
                value: function() {
                    var e = this,
                        t = this._routeClassService,
                        n = this._menuService,
                        i = n.eventsName,
                        a = this._configService.config.homeStates,
                        s = this._conditionConstants.IS_NOT_EXIST;
                    angular.element(".m-site__item, .m-site__link").off(".menuItemClick").on("click.menuItemClick", function(r) {
                        if (e._blockedTransitionService.isTransitionBlocked) r.preventDefault(), e._blockedTransitionService.transitionLink = "home", e._$rootScope.$broadcast("blockedTransitionRequest", {});
                        else {
                            e.setBackgroundListener();
                            var o = angular.element(this);
                            if (n.config.handleAction || o.hasClass("m-site__item")) return;
                            e._prTeacherService.currentTeacher = null;
                            var l = t.fullStateName,
                                c = null,
                                d = null,
                                u = null;
                            if (a.indexOf(l) === s) return e._$timeout(function() {
                                e._routeClassService.isMenuIn = !0
                            }, 0), n.goHome(), void r.preventDefault();
                            a.indexOf(l) !== s ? (c = [i.MENU_OUT], d = [
                                [null, this]
                            ], u = [function() {
                                e._routeClassService.isMenuIn = !1, $(".student__back").removeClass("_active")
                            }]) : l !== menuItemDataState && e._$scope.menuSwitchElement(r, this), c && n.setEvents(c, d, u)
                        }
                    })
                }
            }, {
                key: "getMenuName",
                value: function() {
                    return this._userService.user.activeStudent || this._userService.user.activeChild ? "learner_menu" : "personal_menu"
                }
            }, {
                key: "isSetCoverSize",
                value: function() {
                    return (this._userService.checkRole("employee") || this._userService.checkRole("parent")) && (this._userService.user.activeStudent || this._userService.user.activeChild) || !1
                }
            }, {
                key: "bindedMenu",
                set: function(e) {
                    this.initBindedElements(), this.isInit ? this.menu = e : this.bindedElements.bindedMenu = e
                },
                get: function() {
                    return this.bindedElements.bindedMenu
                }
            }, {
                key: "bindedEvents",
                set: function(e) {
                    this.initBindedElements(), this.isInit ? this.events = e : this.bindedElements.bindedEvents = e
                },
                get: function() {
                    return this.bindedElements.bindedEvents
                }
            }, {
                key: "lastEvent",
                get: function() {
                    return this.data.lastEventPromise
                },
                set: function(e) {
                    this.data.lastEventPromise = e
                }
            }, {
                key: "events",
                set: function(e) {
                    var t = this;
                    e && e.promises && (this.data.lastEventsId !== e.id ? (this.data.lastEventsId = e.id, this.handleEvents(e.promises, e.params, e.actions), this.lastEvent.then(function() {
                        t._menuService.clearEvents(), t.clearBackgroundListener(), t.lastEvent = new t._$q(function(e) {
                            e(!0)
                        })
                    })) : this._menuService.clearEvents())
                }
            }, {
                key: "menu",
                set: function(e) {
                    if (e && e !== this.data.menu) {
                        var t = "learners" !== this._routeClassService.firstPartOfCurrentState && "student" !== this._routeClassService.firstPartOfCurrentState || this._menuService.toHome ? "home" : "student",
                            n = this.getNeededRoles(),
                            i = this._additionalMenuParamsService.getAdditionalParams();
                        this.data.menu = this._menuService.updateMenuHrefs(e, t, n, i), this._menuService.toHome = !1
                    }
                },
                get: function() {
                    return this.data.menu || []
                }
            }]), t
        }();
        exports.default = s
    }).call(exports, t(22))
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    (function($) {
        Object.defineProperty(exports, "__esModule", {
            value: !0
        }), exports.default = ["$timeout", "$rootScope", "$window", "menuService", "$state", "routeClassService", "blockedTransitionService", function(e, t, n, i, a, s, r) {
            "ngInject";
            var o = void 0,
                l = void 0,
                c = void 0,
                d = {
                    M_SITE: $(".m-site"),
                    SITE_LIST: $(".m-site__list"),
                    LOGO_WRAP: $(".m-site__logo-wrap"),
                    ACTIVE_ITEM: null
                },
                u = {
                    isBounce: !1,
                    direction: 1
                },
                _ = i.wrapperPromise.bind(i),
                f = i.wrapperEnabled;

            function v() {
                var e = d.SITE_LIST.find(".m-site__item"),
                    t = e.length,
                    n = e.filter("._current"),
                    i = n.index(),
                    a = e.filter(function(e) {
                        return e === (i - 1 + t) % t || e === (i + 1) % t
                    }),
                    s = e.filter(function(e) {
                        return e === (i - 2 + t) % t || e === (i + 2) % t
                    });
                return {
                    $currentItem: n,
                    $firstLayer: a,
                    $secondLayer: s,
                    $allOther: e.not(a).not(s).not(n)
                }
            }
            var m = _(function(e, t) {
                    var n = angular.element(t);
                    n.length || (n = angular.element(".m-site__item._current")), d.ACTIVE_ITEM = null;
                    var i = (n = n.hasClass("m-site__link") ? n.parents(".m-site__item") : n).addClass("_pointer-events-none _current"),
                        a = d.SITE_LIST.find(".m-site__item"),
                        s = new TimelineMax({}),
                        r = new TimelineMax({});
                    return u.$scope.$emit("closeMenuState"), s.timeScale(e || 1).add(r.to(d.M_SITE, 1.2, {
                        x: 0,
                        y: 0,
                        ease: Power2.easeInOut
                    }, "close")).add(r.to(d.SITE_LIST, 1, {
                        rotation: 0,
                        ease: Power2.easeInOut
                    }, "close")).add(r.to(a, 1, {
                        rotation: 0,
                        ease: Power2.easeInOut
                    }, "close")).add(r.to(a.find("svg"), .2, {
                        opacity: 1
                    }, "close+=.4")).add(r.to(a.find(".m-site__back"), .2, {
                        opacity: 0
                    }, "close+=.4")).add(r.to(a.find("span"), .5, {
                        opacity: 1
                    }, "close+=.9")).add(r.to(d.LOGO_WRAP, .2, {
                        opacity: 1
                    }, "close+=.6")).add(r.to(a, .2, {
                        scale: 1
                    }, "close+=.3")).add(r.to(a.find(".m-site__control"), .3, {
                        scale: 1,
                        onComplete: function() {
                            i.removeClass("_pointer-events-none").removeClass("_current"), a.find(".m-site__btn").removeClass("_pointer-events-none _hide"), a.find("span").css("visibility", "visible")
                        }
                    }, "close+=.61"))
                }, "onComplete"),
                h = _(function(e, t) {
                    var n = new TimelineMax({}),
                        i = d.SITE_LIST.find(".m-site__item");
                    return n.timeScale(e || 1).to(d.SITE_LIST, 1, {
                        rotation: t,
                        ease: Power4.easeInOut
                    }, "turn").to(i, 1, {
                        rotation: t,
                        ease: Power4.easeInOut
                    }, "turn").to(i.eq(0), 1, {
                        rotation: -t,
                        ease: Power4.easeInOut
                    }, "turn+=1.2")
                }, "onComplete"),
                p = _(function(e) {
                    if (!d.ACTIVE_ITEM || u.isBounce) return {
                        onComplete: function() {}
                    };
                    var t = d.ACTIVE_ITEM,
                        n = new TimelineMax({
                            repeat: 1,
                            onComplete: function() {
                                u.isBounce = !1
                            }
                        }),
                        i = new TimelineMax({});
                    return u.$scope.$emit("closeMenuState"), n.timeScale(e || 1).add(i.to(t, .15, {
                        scale: 1.2
                    }, "turn")).add(i.to(t, .15, {
                        scale: 1
                    }, "turn+=.2"))
                }, "onComplete"),
                g = _(function(e, t) {
                    o = i.config.MENU_WIDTH, i.config.MENU_ITEM_ANGLE, l = i.config.FULL_TURNOVER, i.config.QUARTER_TURNOVER, c = i.config.THREE_QUARTER_TURNOVER, Math.PI / i.config.HALF_TURNOVER, i.config.MENU_WIDTH / i.config.HALF_DIAMETER;
                    var a = new TimelineMax({}),
                        r = new TimelineMax({}),
                        u = function(e) {
                            var t = s.fullStateName,
                                n = angular.isElement(e) ? angular.element(e) : angular.element('.m-site__link[data-state="' + t + '"]');
                            if (n.length) return n;
                            var i = t.split(".");
                            return i = "student" === i[0] ? i[1] : i[0], (n = angular.element(".m-site__link._" + i)).length || (n = angular.element(".m-site__link._" + i.replace("-", "_"))), n
                        }(t);
                    u = u.hasClass("m-site__link") ? u.parents(".m-site__item") : u;
                    var _ = n.innerHeight,
                        f = 55 - (n.innerWidth / 2 + o / 3),
                        m = _ / 2 + o / 3 - 125,
                        h = d.SITE_LIST.find(".m-site__item"),
                        p = u.addClass("_pointer-events-none _current"),
                        g = p.find(".m-site__control"),
                        b = p.find(".m-site__back");
                    d.ACTIVE_ITEM = u;
                    var S = (n.innerHeight >= n.innerWidth ? c : l) - p.attr("turn");
                    S >= l && (S = 0);
                    var y = v();
                    return a.timeScale(e || 1).add(r.to(g, .2, {
                        scale: 1.1
                    }, "turn")).add(r.to(g, .2, {
                        scale: 1
                    }, "turn+=.2")).add(r.to(d.SITE_LIST, 1, {
                        rotation: S,
                        ease: Power4.easeInOut
                    }, "turn+=.2")).add(r.to(u, 1, {
                        rotation: -S,
                        ease: Power4.easeInOut
                    }, "turn+=.2")).add(n.innerHeight >= n.innerWidth ? r.to(d.M_SITE, 1.2, {
                        y: m,
                        x: 0,
                        ease: Power4.easeInOut
                    }, "turn+=.3") : r.to(d.M_SITE, 1.2, {
                        x: f,
                        y: 0,
                        ease: Power4.easeInOut
                    }, "turn+=.3")).add(r.to(h.find("span"), .2, {
                        opacity: 0
                    }, "turn+=.2")).add(r.to(h.find("svg"), .2, {
                        opacity: 0
                    }, "turn+=.4")).add(r.to(d.LOGO_WRAP, .2, {
                        opacity: 0
                    }, "turn+=.6")).add(r.set([g, b], {
                        opacity: 1,
                        scale: 1
                    }, "turn+=.62"), "start").add(r.to(y.$firstLayer.find(".m-site__control"), .3, {
                        scale: .7
                    }, "turn+=.61")).add(r.to(y.$secondLayer.find(".m-site__control"), .3, {
                        scale: .5
                    }, "turn+=.63")).add(r.to(y.$allOther.find(".m-site__control"), 1, {
                        scale: 0
                    }, "turn+=0.4")).add(r.to(g, .2, {
                        scale: 1.1
                    }, "turn+=1.15")).add(r.to(g, .2, {
                        scale: 1
                    }, "turn+=1.35").eventCallback("onComplete", function() {
                        u.removeClass("_pointer-events-none"), h.find(".m-site__btn").addClass("_pointer-events-none _hide"), h.find("span").css("visibility", "hidden")
                    }))
                }, "onComplete"),
                b = _(function(e, t) {
                    var i = new TimelineMax({}),
                        a = new TimelineMax({}),
                        s = n.innerHeight,
                        r = n.innerWidth;
                    return t || (s > r ? (u.direction = 1, t = {
                        x: 0,
                        y: s / 2 + o / 3 - 125
                    }) : (u.diremction = 2, t = {
                        x: 55 - (r / 2 + o / 3),
                        y: 0
                    })), i.add(a.to(".m-site", e || .3, {
                        x: t.x,
                        y: t.y,
                        ease: Power4.easeInOut
                    }, "turn+=.03"))
                }, "onComplete"),
                S = _(function(e, a) {
                    o = i.config.MENU_WIDTH, i.config.MENU_ITEM_ANGLE, l = i.config.FULL_TURNOVER, i.config.QUARTER_TURNOVER, c = i.config.THREE_QUARTER_TURNOVER, Math.PI / i.config.HALF_TURNOVER, i.config.MENU_WIDTH / i.config.HALF_DIAMETER;
                    var r = angular.element(a);
                    r = r.hasClass("m-site__link") ? r.parents(".m-site__item") : r;
                    var u = new TimelineMax({}),
                        _ = new TimelineMax({}),
                        f = d.SITE_LIST.find(".m-site__item"),
                        m = r.find(".m-site__link"),
                        h = r.find("svg"),
                        p = (n.innerHeight >= n.innerWidth ? c : l) - r.attr("turn");
                    f.removeClass("_current"), r.addClass("_pointer-events-none _current");
                    var g = v();
                    return p >= l && (p = 0), s.isMenuIn = !0, t.$digest(), u.add(_.to(m, .2, {
                        scale: 1
                    }, "turn")).add(_.to(d.SITE_LIST, 1, {
                        rotation: p,
                        ease: Power4.easeInOut
                    }, "turn+=.1")).add(_.to(f, 1, {
                        rotation: -p,
                        ease: Power4.easeInOut
                    }, "turn+=.1")).add(_.to(f.find("svg"), .2, {
                        opacity: 0
                    }, "turn+=.3")).add(_.to(h, .2, {
                        opacity: 1
                    }, "turn+=.31")).add(_.set([m, h], {
                        opacity: 1,
                        scale: 1
                    }, "turn+=.52"), "start").add(_.to(g.$firstLayer.find(".m-site__link"), .3, {
                        scale: .7
                    }, "turn+=.51")).add(_.to(g.$secondLayer.find(".m-site__link"), .3, {
                        scale: .5
                    }, "turn+=.53")).add(_.to(g.$allOther.find(".m-site__link"), .3, {
                        scale: 0
                    }, "turn+=1")).add(_.to(m, .2, {
                        scale: 1.1
                    }, "turn+=1.05")).add(_.to(m, .2, {
                        scale: 1
                    }, "turn+=1.25").eventCallback("onComplete", function() {
                        r.removeClass("_pointer-events-none")
                    }))
                }, "onComplete"),
                y = function() {
                    d.BODY.swipe("destroy")
                };
            return {
                link: function(t, n, a, s) {
                    u.$scope = t, d = {
                        BODY: $("body"),
                        M_SITE: n,
                        SITE_LIST: n.find(".m-site__list"),
                        LOGO_WRAP: n.find(".m-site__logo-wrap")
                    }, t.menuIn = f(m), t.menuOut = f(g), t.rotateMenu = f(h), t.menuTo = b, t.menuSwitchElement = f(S), t.bounceActiveItem = p, t.swipeDestroy = y, d.BODY.swipe({
                        swipeRight: function() {
                            e(function() {
                                r.isTransitionBlocked ? r._showModal() : i.goHome()
                            }, 0)
                        }
                    })
                }
            }
        }]
    }).call(exports, t(22))
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), exports.default = ["$state", "$window", "menuService", "configService", "$q", function(e, t, n, i, a) {
        "ngInject";
        var s = void 0,
            r = void 0,
            o = void 0,
            l = void 0,
            c = void 0,
            d = 9,
            u = null,
            _ = n.wrapperPromise.bind(n),
            f = n.wrapperEnabled,
            v = {};
        var m = _(function(e, i, a) {
                var _ = a && a.isOut;
                n.config.MENU_WIDTH, s = n.config.MENU_ITEM_ANGLE, r = n.config.FULL_TURNOVER, o = n.config.QUARTER_TURNOVER, n.config.THREE_QUARTER_TURNOVER, l = Math.PI / n.config.HALF_TURNOVER, c = n.config.MENU_WIDTH / n.config.HALF_DIAMETER, u = new TimelineMax({});
                var f = {
                    x: 0,
                    y: 0
                };
                _ && (f = t.innerHeight >= t.innerWidth ? {
                    x: 0,
                    y: 9999
                } : {
                    x: -9999,
                    y: 0
                });
                var m = v.SITE_LIST.find(".m-site__item");
                return u.timeScale(e || 1).set(v.M_SITE, {
                    x: f.x,
                    y: f.y
                }, "start").set(m, {
                    opacity: 0,
                    scale: .5,
                    xPercent: -50,
                    yPercent: -50,
                    x: 0,
                    y: 0
                }, .2).set([v.LOGO_WRAP, v.ARTBOARD], {
                    opacity: 0,
                    scale: .5,
                    x: 0,
                    y: 0
                }, "start").staggerTo(m, 1, {
                    cycle: {
                        opacity: [1],
                        scale: [1],
                        xPercent: [-50],
                        yPercent: [-50],
                        x: function(e) {
                            return Math.round(function(e) {
                                var t = Math.sin((s * e + o) * l) * c,
                                    n = e + 1,
                                    i = v.M_SITE.find(".m-site__item:nth-child(" + n + ") span"),
                                    a = s * e,
                                    r = self.$scope.$ctrl.menu.length;
                                return r > d && a >= 280 && a <= 300 ? i.css({
                                    bottom: "-40px",
                                    width: "auto",
                                    right: "auto",
                                    left: "90%",
                                    textAlign: "center"
                                }) : r > d && a >= 240 && a <= 260 ? i.css({
                                    bottom: "-40px",
                                    width: "auto",
                                    right: "90%",
                                    left: "auto",
                                    textAlign: "center"
                                }) : r > d && a >= 100 && a < 120 ? i.css({
                                    top: "-40px",
                                    width: "auto",
                                    right: "90%",
                                    left: "auto",
                                    textAlign: "center"
                                }) : r > d && a >= 60 && a < 80 ? i.css({
                                    top: "-40px",
                                    width: "auto",
                                    left: "90%",
                                    right: "auto",
                                    textAlign: "center"
                                }) : r > d && a > 300 && a <= 320 ? i.css({
                                    bottom: "-20px",
                                    width: "auto",
                                    right: "auto",
                                    left: "113%",
                                    textAlign: "center"
                                }) : r > d && a >= 220 && a < 240 ? i.css({
                                    bottom: "-20px",
                                    width: "auto",
                                    right: "113%",
                                    left: "auto",
                                    textAlign: "center"
                                }) : r > d && a >= 120 && a < 140 ? i.css({
                                    top: "-20px",
                                    width: "auto",
                                    right: "113%",
                                    left: "auto",
                                    textAlign: "center"
                                }) : r > d && a >= 40 && a < 60 ? i.css({
                                    top: "-20px",
                                    width: "auto",
                                    left: "113%",
                                    right: "auto",
                                    textAlign: "center"
                                }) : a > 69 && a < 111 ? i.css({
                                    top: "-80%",
                                    width: "220px",
                                    left: "calc(32px - 110px)",
                                    right: "auto",
                                    textAlign: "center"
                                }) : a >= 111 && a <= 249 ? i.css({
                                    bottom: "auto",
                                    top: "auto",
                                    width: "auto",
                                    right: "120%",
                                    left: "auto",
                                    textAlign: "center"
                                }) : a > 249 && a <= 270 ? i.css({
                                    bottom: "-80%",
                                    top: "auto",
                                    width: "220px",
                                    left: "calc(32px - 110px)",
                                    right: "auto",
                                    textAlign: "center"
                                }) : a > 270 && a < 291 ? i.css({
                                    bottom: "-75%",
                                    top: "auto",
                                    width: "220px",
                                    left: "calc(32px - 110px)",
                                    right: "auto",
                                    textAlign: "center"
                                }) : (a >= 0 && a <= 109 || a >= 291 && a <= 360) && i.css({
                                    bottom: "auto",
                                    top: "auto",
                                    width: "auto",
                                    left: "120%",
                                    right: "auto",
                                    textAlign: "center"
                                }), t
                            }(e))
                        },
                        y: function(e) {
                            return Math.round(function(e) {
                                return Math.cos((s * e + o) * l) * c
                            }(e))
                        }
                    },
                    ease: Elastic.easeOut.config(1, .7)
                }, .07).set(m, {
                    attr: {
                        turn: function(e) {
                            return r - e * s
                        }
                    }
                }).to(v.LOGO_WRAP, 1, {
                    opacity: 1,
                    scale: 1,
                    ease: Elastic.easeOut.config(1, .7)
                }, "start").to(v.ARTBOARD, 1.8, {
                    opacity: 1,
                    scale: 1,
                    ease: Elastic.easeOut.config(1, .5),
                    onComplete: function() {
                        v.M_SITE.addClass("_loaded"), m.find(".m-site__btn").removeClass("_pointer-events-none _hide")
                    }
                }, "start").to(m.find("span"), 1, {
                    opacity: 1
                }, "start+=1")
            }, "onComplete"),
            h = _(function(n, a) {
                var s = {
                    x: 0,
                    y: 0
                };
                return (a || -1 === i.config.isMenuCenterStates.indexOf(e.current.name)) && (s = t.innerHeight >= t.innerWidth ? {
                    x: 0,
                    y: 9999
                } : {
                    x: -9999,
                    y: 0
                }), v.M_SITE.css({
                    transform: "matrix(1, 0, 0, 1, " + s.x + ", " + s.y + ")"
                }), u.play()
            }, "onComplete"),
            p = _(function(e) {
                return u ? u.reverse().timeScale(e || 1.5) : new TimelineMax({}).play()
            }, "onReverseComplete"),
            g = function(e) {
                return u ? p(e || 1e3) : a(function(e) {
                    e(!0)
                })
            },
            b = function(e) {
                return p().then(function() {
                    e(), self.$scope.$digest()
                }).then(function() {
                    return m()
                })
            };
        return {
            link: function(e, t) {
                self.$scope = e, v = {
                    M_SITE: t,
                    SITE_LIST: t.find(".m-site__list"),
                    LOGO_WRAP: t.find(".m-site__logo-wrap"),
                    ARTBOARD: t.find(".m-site__artboard")
                }, e.menuShow = f(h), e.menuInit = f(m), e.menuDeinit = f(g), e.menuHide = f(p), e.menuReanimate = f(b)
            }
        }
    }]
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2484));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("m-site-mobile", []).component("mSiteMobile", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2485)),
        i = a(t(2486));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2487);
    var s = {
        restrict: "E",
        bindings: {
            bindedMenu: "<",
            bindedEvents: "<"
        },
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<nav class="m-site-mobile">\n  <ul class="m-site-mobile__list">\n    <li class="m-site-mobile__item _{{ ::item.id }}" ng-repeat="item in $ctrl.menu">\n      <a class="m-site-mobile__link"\n         ui-sref="{{ ::item.sref }}"\n         ng-click="$ctrl.resetData()"\n         ng-if="item.id !== \'payments_squid\'"\n      >\n        <span class="m-site-mobile__icon-wrap">\n          <div class="m-site-mobile__counter" ng-if="item.id === \'forms\' && $ctrl._statusService.status.new_forms">\n            <span>{{ $ctrl._statusService.status.new_forms }}</span>\n          </div>\n          <div class="m-site-mobile__counter" ng-if="item.id === \'employeecallout\' && $ctrl._statusService.status.employeecallout && $ctrl._statusService.status.employeecallout.new">\n            <span>{{ $ctrl._statusService.status.employeecallout.new }}</span>\n          </div>\n          <div class="m-site-mobile__counter" ng-if="item.id === \'noticeboard\' && $ctrl._statusService.status.noticeboard && $ctrl._statusService.status.noticeboard.new_snippets">\n            <span>{{ $ctrl._statusService.status.noticeboard.new_snippets }}</span>\n          </div>\n          <div class="m-site-mobile__counter" ng-if="item.id === \'childprotection\' && $ctrl._statusService.status.childprotection && $ctrl._statusService.status.childprotection.open_referrals">\n            <span>{{ $ctrl._statusService.status.childprotection.open_referrals }}</span>\n          </div>\n\t\t      <div class="m-site-mobile__counter" ng-if="item.id === \'registers\' && $ctrl._statusService.status.registers && $ctrl._statusService.status.registers.missing">\n            <span>{{ $ctrl._statusService.status.registers.missing }}</span>\n          </div>\n          <div class="m-site-mobile__counter"\n               ng-if="item.id === \'datacollection_manage\' && $ctrl._statusService.status.datacollection.submissions\n                && $ctrl._statusService.status.datacollection.submissions">\n            <span>{{ $ctrl._statusService.status.datacollection.submissions }}</span>\n          </div>\n          <svg-use name="{{ ::item.id }}">\n          </svg-use>\n        </span>\n        <span class="m-site-mobile__link-text">{{ ::item.name }}</span>\n      </a>\n      <button type="button" class="m-site-mobile__button"\n              ng-if="item.id === \'payments_squid\'"\n              ng-disabled="$ctrl._paymentsService.isLoadingSSOURL"\n              ng-click="$ctrl._paymentsService.openSSOURL()"\n      >\n        <span class="m-site-mobile__icon-wrap">\n          <svg-use name="{{ ::item.id }}"></svg-use>\n        </span>\n        <span class="m-site-mobile__button-text">{{ ::item.name }}</span>\n      </button>\n    </li>\n  </ul>\n</nav>\n\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r, o, l, c, d) {
            "ngInject";
            (0, n.default)(this, e), this._$timeout = s, this._additionalMenuParamsService = i, this._menuService = t, this._routeClassService = a, this._userService = r, this._statusService = o, this._$q = l, this._prTeacherService = c, this._paymentsService = d, this.initValues(), this.isInit = !0, this.menu = this.bindedMenu, this.events = this.bindedEvents
        }
        return e.$inject = ["menuService", "additionalMenuParamsService", "routeClassService", "$timeout", "userService", "statusService", "$q", "prTeacherService", "paymentsService"], (0, i.default)(e, [{
            key: "initValues",
            value: function(e) {
                this.local && !e || (this.local = {
                    isNotExist: -1,
                    menu: [],
                    lastEventsId: 0
                }, this.bindedElements = {})
            }
        }, {
            key: "getTypeHref",
            value: function() {
                return "student" === this._routeClassService.firstPartOfCurrentState ? "student" : "home"
            }
        }, {
            key: "getNeededRoles",
            value: function() {
                if (this._userService.user.activeChildIndex >= 0) return ["parent"]
            }
        }, {
            key: "callPromiseList",
            value: function(e) {
                var t = this._$q.resolve();
                return e.reduce(function(e, t) {
                    return e.then(t)
                }, t)
            }
        }, {
            key: "handleAction",
            value: function(e) {
                angular.isString(e) ? this[e] && this[e]() : e && e()
            }
        }, {
            key: "handleEvents",
            value: function(e) {
                var t = this;
                if (e) {
                    for (var n = [], i = function(i) {
                            var a = e && e[i];
                            if (!a) return "continue";
                            n.push(function() {
                                return t._$timeout(function() {
                                    if (angular.isArray(a))
                                        for (var e = 0; e < a.length; e++) t.handleAction(a[e]);
                                    else t.handleAction(a)
                                }, 0)
                            })
                        }, a = 0; a < e.length; a++) i(a);
                    this.callPromiseList(n)
                }
            }
        }, {
            key: "resetData",
            value: function() {
                this._prTeacherService.currentTeacher = null
            }
        }, {
            key: "bindedEvents",
            set: function(e) {
                this.initValues(), this.isInit ? this.events = e : this.bindedElements.bindedEvents = e
            },
            get: function() {
                return this.bindedElements.bindedEvents
            }
        }, {
            key: "bindedMenu",
            set: function(e) {
                this.initValues(), this.isInit ? this.menu = e : this.bindedElements.bindedMenu = e
            },
            get: function() {
                return this.bindedElements.bindedMenu
            }
        }, {
            key: "menu",
            set: function(e) {
                if (e && e !== this.local.menu) {
                    var t = this.getTypeHref(),
                        n = this.getNeededRoles(),
                        i = this._additionalMenuParamsService.getAdditionalParams();
                    this.local.menu = this._menuService.updateMenuHrefs(e, t, n, i)
                }
            },
            get: function() {
                return this.local.menu || []
            }
        }, {
            key: "events",
            set: function(e) {
                this.initValues(), e && e.promises && (this.local.lastEventsId !== e.id ? (this.local.lastEventsId = e.id, this.handleEvents(e.actions), this._menuService.clearEvents()) : this._menuService.clearEvents())
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = mt(t(0)),
        i = mt(t(2489)),
        a = mt(t(2493)),
        s = mt(t(2497)),
        r = mt(t(2501)),
        o = mt(t(2505)),
        l = mt(t(2509)),
        c = mt(t(2513)),
        d = mt(t(2517)),
        u = mt(t(2521)),
        _ = mt(t(2525)),
        f = mt(t(2530)),
        v = mt(t(2534)),
        m = mt(t(2539)),
        h = mt(t(2543)),
        p = mt(t(2547)),
        g = mt(t(2552)),
        b = mt(t(2557)),
        S = mt(t(2562)),
        y = mt(t(2567)),
        k = mt(t(2571)),
        M = mt(t(2575)),
        w = mt(t(2579)),
        D = mt(t(2584)),
        T = mt(t(2589)),
        C = mt(t(2594)),
        P = mt(t(2599)),
        L = mt(t(2604)),
        x = mt(t(2609)),
        j = mt(t(2613)),
        I = mt(t(2617)),
        A = mt(t(2622)),
        E = mt(t(2626)),
        O = mt(t(2630)),
        F = mt(t(2634)),
        N = mt(t(2640)),
        R = mt(t(2645)),
        Y = mt(t(2650)),
        B = mt(t(2655)),
        H = mt(t(2660)),
        q = mt(t(2664)),
        W = mt(t(2669)),
        V = mt(t(2674)),
        z = mt(t(2679)),
        G = mt(t(2684)),
        U = mt(t(2689)),
        J = mt(t(2693)),
        Q = mt(t(2697)),
        K = mt(t(2701)),
        Z = mt(t(2706)),
        X = mt(t(2711)),
        ee = mt(t(2716)),
        te = mt(t(2721)),
        ne = mt(t(2726)),
        ie = mt(t(2730)),
        ae = mt(t(2734)),
        se = mt(t(2738)),
        re = mt(t(2743)),
        oe = mt(t(2747)),
        le = mt(t(2752)),
        ce = mt(t(2756)),
        de = mt(t(2761)),
        ue = mt(t(2765)),
        _e = mt(t(2769)),
        fe = mt(t(2773)),
        ve = mt(t(2777)),
        me = mt(t(2782)),
        he = mt(t(2786)),
        pe = mt(t(2791)),
        ge = mt(t(2796)),
        be = mt(t(2800)),
        Se = mt(t(2805)),
        ye = mt(t(2809)),
        ke = mt(t(2813)),
        $e = mt(t(2817)),
        Me = mt(t(2822)),
        we = mt(t(2826)),
        De = mt(t(2830)),
        Te = mt(t(2834)),
        Ce = mt(t(2838)),
        Pe = mt(t(2842)),
        Le = mt(t(2847)),
        xe = mt(t(2851)),
        je = mt(t(2855)),
        Ie = mt(t(2859)),
        Ae = mt(t(2864)),
        Ee = mt(t(2869)),
        Oe = mt(t(2873)),
        Fe = mt(t(2877)),
        Ne = mt(t(2881)),
        Re = mt(t(2886)),
        Ye = mt(t(2890)),
        Be = mt(t(2894)),
        He = mt(t(2898)),
        qe = mt(t(2902)),
        We = mt(t(2906)),
        Ve = mt(t(2910)),
        ze = mt(t(2914)),
        Ge = mt(t(2919)),
        Ue = mt(t(2924)),
        Je = mt(t(2929)),
        Qe = mt(t(2934)),
        Ke = mt(t(2939)),
        Ze = mt(t(2943)),
        Xe = mt(t(2948)),
        et = mt(t(2953)),
        tt = mt(t(2957)),
        nt = mt(t(2961)),
        it = mt(t(2965)),
        at = mt(t(2969)),
        st = mt(t(2973)),
        rt = mt(t(2977)),
        ot = mt(t(2981)),
        lt = mt(t(2985)),
        ct = mt(t(2989)),
        dt = mt(t(2993)),
        ut = mt(t(2997)),
        _t = mt(t(3001)),
        ft = mt(t(3006)),
        vt = mt(t(3010));

    function mt(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var ht = n.default.module("app.modals", [st.default, rt.default, i.default, a.default, s.default, r.default, o.default, l.default, d.default, u.default, _.default, f.default, v.default, g.default, m.default, h.default, p.default, b.default, S.default, y.default, k.default, M.default, w.default, D.default, T.default, C.default, P.default, L.default, x.default, j.default, I.default, A.default, E.default, O.default, F.default, N.default, R.default, Y.default, B.default, H.default, q.default, W.default, V.default, z.default, G.default, J.default, Q.default, K.default, Z.default, X.default, ee.default, te.default, ne.default, ie.default, ae.default, se.default, re.default, oe.default, le.default, ce.default, de.default, ue.default, _e.default, fe.default, ve.default, me.default, nt.default, it.default, at.default, U.default, he.default, pe.default, ge.default, be.default, Se.default, ye.default, ke.default, $e.default, Me.default, we.default, De.default, Te.default, Ce.default, Pe.default, Le.default, xe.default, je.default, Ie.default, Ae.default, Ee.default, Oe.default, Fe.default, Ne.default, Re.default, Ye.default, Be.default, He.default, qe.default, We.default, Ve.default, ze.default, c.default, Ge.default, Ue.default, Je.default, Qe.default, Ke.default, Ze.default, Xe.default, et.default, tt.default, ot.default, lt.default, ct.default, dt.default, ut.default, _t.default, ft.default, vt.default]).name;
    exports.default = ht
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2490));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-access-log", []).component("modalAccessLog", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(2491),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    t(2492);
    var s = {
        template: a.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-access-log">\n  <t-access-log data="$ctrl.scope.data"></t-access-log>\n</div>\n'
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2494));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-activity-log", []).component("modalActivityLog", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(2495),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    t(2496);
    var s = {
        template: a.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-activity-log">\n  <f-activity-log on-add="$ctrl.scope.addActivity({ form, model })"></f-activity-log>\n</div>\n'
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2498));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-add-address", []).component("modalAddAddress", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(2499),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    t(2500);
    var s = {
        template: a.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-add-address">\n  <f-add-address scope="$ctrl.scope"></f-add-address>\n</div>\n'
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2502));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-add-booking-category", []).component("modalAddBookingCategory", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(2503),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    t(2504);
    var s = {
        template: a.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-add-booking-category">\n  <div class="modal-add-booking-category__title">Categories</div>\n  <l-booking-category class="modal-add-booking-category__list"></l-booking-category>\n  <f-add-booking-category></f-add-booking-category>\n</div>\n'
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2506));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-add-booking-period", []).component("modalAddBookingPeriod", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(2507),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    t(2508);
    var s = {
        template: a.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-add-booking-period">\n  <f-add-booking-period></f-add-booking-period>\n</div>\n'
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2510));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-add-booking-resource", []).component("modalAddBookingResource", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(2511),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    t(2512);
    var s = {
        template: a.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-add-booking-resource">\n  <div class="modal-add-booking-resource__title">Resources</div>\n  <l-booking-resource class="modal-add-booking-resource__list" is-category-manage="false"></l-booking-resource>\n  <f-add-booking-resource></f-add-booking-resource>\n</div>\n'
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2514));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-add-calendar-entry", []).component("modalAddCalendarEntry", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(2515),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    t(2516);
    var s = {
        template: a.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-add-calendar-entry">\n  <f-add-calendar-entry></f-add-calendar-entry>\n</div>\n'
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2518));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-add-car", []).component("modalAddCar", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(2519),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    t(2520);
    var s = {
        template: a.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-add-car">\n  <f-add-car add-car="$ctrl.scope.addCar({ fields, model })" fields="$ctrl.scope.fields"></f-add-car>\n</div>\n'
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2522));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-add-contact", []).component("modalAddContact", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(2523),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    t(2524);
    var s = {
        template: a.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-add-contact">\n  <f-create-field label="$ctrl.scope.label"\n                  fields="$ctrl.scope.fields"\n                  field-type="$ctrl.scope.fieldType"\n                  first-prop-name="$ctrl.scope.firstPropName">\n  </f-create-field>\n</div>\n'
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2526));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-add-homework", []).component("modalAddHomework", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2527)),
        i = a(t(2528));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2529);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-add-homework">\n  <s-header gradient="{ from: \'#4889ec\', to: \'#4ba8e7\'}"></s-header>\n  <f-add-homework homework="$ctrl.scope.homework"\n                  selected-class="$ctrl.scope.selectedClass"\n                  button-text="{{$ctrl.scope.buttonText}}"\n                  on-remove="$ctrl.scope.onRemove({ attachment })"\n                  on-submit="$ctrl.scope.onSubmit({ valid, model })"></f-add-homework>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t) {
            "ngInject";
            (0, n.default)(this, e), this._attachmentsService = t
        }
        return e.$inject = ["attachmentsService"], (0, i.default)(e, [{
            key: "$onDestroy",
            value: function() {
                this._attachmentsService.clearDocuments()
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2531));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-add-import", []).component("modalAddImport", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(2532),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    t(2533);
    var s = {
        template: a.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-add-import">\n  <f-add-import></f-add-import>\n</div>\n'
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2535));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-add-marks", []).component("modalAddMarks", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2536)),
        i = a(t(2537));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2538);
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-add-marks">\n  <l-marks></l-marks>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i) {
            "ngInject";
            (0, n.default)(this, e), this._modalDefaultService = i, this._$scope = t
        }
        return e.$inject = ["$scope", "modalDefaultService"], (0, i.default)(e, [{
            key: "hideModal",
            value: function() {
                this._$scope.$emit("hideModal")
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2540));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-add-teachers", []).component("modalAddTeachers", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(2541),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    t(2542);
    var s = {
        template: a.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-add-teachers">\n  <s-header gradient="$ctrl.scope.gradient"></s-header>\n  <b-select-teachers teachers="$ctrl.scope.teachers"\n                     single-select="$ctrl.scope.singleSelect"\n                     on-submit="$ctrl.scope.onSubmit"\n                     is-save="$ctrl.scope.isSave"></b-select-teachers>\n</div>\n'
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2544));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-add-variable", []).component("modalAddVariable", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(2545),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    t(2546);
    var s = {
        template: a.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-add-variable">\n  <div class="modal-add-variable__item" ng-repeat="(key, value) in $ctrl.scope.variables track by $index">\n    <div class="modal-add-variable__title">{{key}}:</div>\n    <l-variables variables="$ctrl.scope.variables[key]"\n                 on-select="$ctrl.scope.onSelect({ variable })"></l-variables>\n  </div>\n\n</div>\n'
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2548));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-attachments", []).component("modalAttachments", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2549)),
        i = a(t(2550));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2551);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-attachments">\n  <div class="modal-attachments__empty" ng-if="!$ctrl.scope.attachments.length">No attachments.</div>\n  <ul class="modal-attachments__attachments" ng-if="$ctrl.scope.attachments.length">\n    <li class="modal-attachments__attachment" ng-repeat="attachment in $ctrl.scope.attachments">\n      <div class="modal-attachments__name">\n        <button type="button" class="modal-attachments__btn-notice"\n                ng-click="$ctrl.openNoticeModal($event)"\n                ng-if="attachment.attachment_id || attachment.uploaded === false"\n        ></button>\n        {{ attachment.name ? attachment.name : attachment.filename }}\n      </div>\n      <button type="button" class="modal-attachments__btn-remove" ng-click="$ctrl.scope.remove(attachment)">\n        <svg-use name="trash"></svg-use>\n      </button>\n    </li>\n  </ul>\n  <button type="button" class="btn btn-default _small _green _fill modal-attachments__btn-close"\n          ng-click="$ctrl.hideModal()"\n  >\n    OK\n  </button>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t) {
            "ngInject";
            (0, n.default)(this, e), this._modalDefaultService = t
        }
        return e.$inject = ["modalDefaultService"], (0, i.default)(e, [{
            key: "hideModal",
            value: function() {
                this._modalDefaultService.pop()
            }
        }, {
            key: "openNoticeModal",
            value: function(e) {
                e.stopPropagation();
                this._modalDefaultService.showModalWithTemplates("modal-show-notice", {
                    title: "Attachment upload incomplete",
                    body: "The file has not been attached. Please attach the file again."
                }, "Warning")
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2553));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-book-slot", []).component("modalBookSlot", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2554)),
        i = a(t(2555));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2556);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-book-slot">\n  <div class="modal-book-slot__row" ng-repeat="session in $ctrl.scope.sessions track by $index">\n    <t-book-slot session="session"\n                 select="$ctrl.scope.select({ slot })"\n    ></t-book-slot>\n  </div>\n\n  <div class="modal-book-slot__row">\n    <button type="button" class="modal-book-slot__btn btn btn-default _small"\n            ng-click="$ctrl.hideModal()"\n    >Close</button>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t) {
            "ngInject";
            (0, n.default)(this, e), this._modalDefaultService = t
        }
        return e.$inject = ["modalDefaultService"], (0, i.default)(e, [{
            key: "hideModal",
            value: function() {
                this._modalDefaultService.pop()
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2558));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-booked-slot", []).component("modalBookedSlot", i.default).run(["$templateCache", function(e) {
        "ngInject";
        e.put("modalBookedSlot", '<modal-booked-slot scope="scope"></modal-booked-slot>')
    }]).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2559)),
        i = a(t(2560));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2561);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-booked-slot">\n    <f-booked-slot model="$ctrl.scope.model" book="$ctrl.scope.book({ model })"></f-booked-slot>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t) {
            "ngInject";
            (0, n.default)(this, e), this._modalDefaultService = t
        }
        return e.$inject = ["modalDefaultService"], (0, i.default)(e, [{
            key: "hideModal",
            value: function() {
                this._$scope.$emit("hideModal")
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2563));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-choose-date", []).component("modalChooseDate", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2564)),
        i = a(t(2565));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2566);
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-choose-date">\n  <b-calendar\n    class="_light-background"\n    scope="$ctrl._modalDefaultService.scope"></b-calendar>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i) {
            "ngInject";
            (0, n.default)(this, e), this._modalDefaultService = i, this._$scope = t
        }
        return e.$inject = ["$scope", "modalDefaultService"], (0, i.default)(e, [{
            key: "hideModal",
            value: function() {
                this._$scope.$emit("hideModal")
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2568));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-club-details", []).component("modalClubDetails", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(2569),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    t(2570);
    var s = {
        template: a.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-club-details">\n  <b-club-details scope="$ctrl.scope"></b-club-details>\n</div>\n'
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2572));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-club-week", []).component("modalClubSessions", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(2573),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    t(2574);
    var s = {
        template: a.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-club-sessions">\n  <f-club-sessions scope="$ctrl.scope"></f-club-sessions>\n</div>\n'
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2576));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-change-password", []).component("modalChangePassword", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(2577),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    t(2578);
    var s = {
        template: a.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-change-password">\n  <f-change-password></f-change-password>\n</div>\n'
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2580));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-changes-detected", []).component("modalChangesDetected", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2581)),
        i = a(t(2582));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2583);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-changes-detected">\n  <f-changes-detected\n    scope="$ctrl.scope"\n    link="$ctrl.scope.link"></f-changes-detected>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a) {
            "ngInject";
            (0, n.default)(this, e), this._modalDefaultService = i, this._menuService = a, this._$scope = t
        }
        return e.$inject = ["$scope", "modalDefaultService", "menuService"], (0, i.default)(e, [{
            key: "hideModal",
            value: function() {
                this._$scope.$emit("hideModal")
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2585));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-comment", []).component("modalComment", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2586)),
        i = a(t(2587));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2588);
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-comment">\n  <f-comment></f-comment>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i) {
            "ngInject";
            (0, n.default)(this, e), this._modalDefaultService = i, this._$scope = t
        }
        return e.$inject = ["$scope", "modalDefaultService"], (0, i.default)(e, [{
            key: "hideModal",
            value: function() {
                this._$scope.$emit("hideModal")
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2590));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-comment-bank", []).component("modalCommentBank", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2591)),
        i = a(t(2592));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2593);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-comment-bank">\n  <l-profiles-comment-bank comment-bank="$ctrl.scope.section.comment_bank"></l-profiles-comment-bank>\n  <div class="modal-comment-bank__buttons">\n    <div class="modal-comment-bank__buttons-item">\n      <button type="button" class="btn btn-default _gray _fill"\n        ng-click="$ctrl.cancelAction()"\n      >Cancel</button>\n    </div>\n    <div class="modal-comment-bank__buttons-item">\n      <button type="button" class="btn btn-default _green _fill"\n        ng-click="$ctrl.confirmAction()"\n      >Confirm</button>\n    </div>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a) {
            "ngInject";
            var s = this;
            (0, n.default)(this, e), this._modalDefaultService = a, this._$scope = i, this.oldScopeState = [];
            var r = t.$on("hideModal", function(e, t) {
                t && t.isCancel && s.cancelModifySelected(s.scope.section.comment_bank, s.oldScopeState)
            });
            this._$scope.$on("$destroy", r)
        }
        return e.$inject = ["$rootScope", "$scope", "modalDefaultService"], (0, i.default)(e, [{
            key: "$onInit",
            value: function() {
                this.saveOldScopeState(this.scope.section.comment_bank, this.oldScopeState)
            }
        }, {
            key: "confirmAction",
            value: function() {
                this.checkOnChange(this.scope.section.comment_bank, this.oldScopeState) && this._$scope.$emit("updateCommentBank", this._modalDefaultService.scope), this.hideModal()
            }
        }, {
            key: "cancelAction",
            value: function() {
                this.cancelModifySelected(this.scope.section.comment_bank, this.oldScopeState), this.hideModal()
            }
        }, {
            key: "checkOnChange",
            value: function(e, t) {
                for (var n = 0; n < e.length; n++)
                    if (e[n].is_selected !== t[n].is_selected) return !0;
                return !1
            }
        }, {
            key: "cancelModifySelected",
            value: function(e, t) {
                for (var n = 0; n < e.length; n++) e[n].is_selected = t[n].is_selected
            }
        }, {
            key: "saveOldScopeState",
            value: function(e, t) {
                for (var n = 0; n < e.length; n++) t[n] = {
                    id: e[n].id,
                    is_selected: e[n].is_selected
                }
            }
        }, {
            key: "hideModal",
            value: function() {
                this._$scope.$emit("hideModal")
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2595));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-comment-banks", []).component("modalCommentBanks", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2596)),
        i = a(t(2597));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2598);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-comment-banks">\n  <b-loader ng-if="$ctrl.isLoading"></b-loader>\n  <ng-container ng-if="!$ctrl.isLoading">\n    <div class="modal-comment-banks__header">\n      <div class="modal-comment-banks__filter">\n        <div class="modal-comment-banks__filter-item">\n          <ui-select ng-model="$ctrl._marksheetService.filters.year"\n                     ng-change="$ctrl.getSubjects()"\n                     theme="selectize"\n                     class="modal-comment-banks__select select-default"\n                     search-enabled="false"\n          >\n            <ui-select-match placeholder="Year">{{ $select.selected.name }}</ui-select-match>\n            <ui-select-choices repeat="option.id as option in $ctrl._marksheetService.filtersResults.yearGroups track by $index">\n              <span>{{ ::option.name }}</span>\n            </ui-select-choices>\n          </ui-select>\n        </div>\n        <div class="modal-comment-banks__filter-item">\n          <ui-select ng-model="$ctrl._marksheetService.filters.subject"\n                     ng-disabled="!$ctrl._marksheetService.filters.year"\n                     ng-change="$ctrl.getAreas()"\n                     theme="selectize"\n                     class="modal-comment-banks__select select-default"\n                     search-enabled="false"\n          >\n            <ui-select-match placeholder="Subject">{{ $select.selected.name }}</ui-select-match>\n            <ui-select-choices repeat="option.id as option in $ctrl._marksheetService.filtersResults.subjects track by $index">\n              <span>{{ ::option.name }}</span>\n            </ui-select-choices>\n          </ui-select>\n        </div>\n        <div class="modal-comment-banks__filter-item">\n          <ui-select ng-model="$ctrl._marksheetService.filters.area"\n                     ng-disabled="!$ctrl._marksheetService.filters.subject"\n                     ng-change="$ctrl.getComments()"\n                     theme="selectize"\n                     class="modal-comment-banks__select select-default"\n                     search-enabled="false"\n          >\n            <ui-select-match placeholder="Area">{{ $select.selected.name }}</ui-select-match>\n            <ui-select-choices repeat="option.id as option in $ctrl._marksheetService.filtersResults.areas track by $index">\n              <span>{{ ::option.name }}</span>\n            </ui-select-choices>\n          </ui-select>\n        </div>\n      </div>\n    </div>\n    <div class="modal-comment-banks__body">\n\t\t<div class="modal-comment-banks__notice" ng-if="!$ctrl._marksheetService.filters.year">Please select a year</div>\n\t\t<div class="modal-comment-banks__notice" ng-if="!$ctrl._marksheetService.filters.subject && $ctrl._marksheetService.filters.year">Please select a subject</div>\n\t\t<div class="modal-comment-banks__notice" ng-if="!$ctrl._marksheetService.filters.area && $ctrl._marksheetService.filters.subject">Please select a area</div>\n      <l-profiles-comment-bank comment-bank="$ctrl.comments"></l-profiles-comment-bank>\n    </div>\n    <div class="modal-comment-banks__footer">\n      <div class="modal-comment-banks__footer-col">\n        <button type="button" class="modal-comment-banks__btn btn btn-default _small _fill"\n                ng-click="$ctrl.hideModal()"\n        >Cancel</button>\n      </div>\n      <div class="modal-comment-banks__footer-col">\n        <button type="button" class="modal-comment-banks__btn btn btn-default _small _fill _green"\n                ng-click="$ctrl.save()"\n        >Confirm</button>\n      </div>\n    </div>\n  </ng-container>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i) {
            "ngInject";
            (0, n.default)(this, e), this._marksheetService = t, this._modalDefaultService = i, this.comments = [], this.isLoading = !1
        }
        return e.$inject = ["marksheetService", "modalDefaultService"], (0, i.default)(e, [{
            key: "$onInit",
            value: function() {
                var e = this;
                angular.copy(this._marksheetService.filtersResults.comments, this.comments), this.setSelectedComments(), this.scope.comment = this.scope.comment || "", this.isLoading = !0, this._marksheetService.filters.year && this._marksheetService.filters.subject && this._marksheetService.filters.area ? this.getComments() : this._marksheetService.getMarksheetCommentBanksFromDb().then(function(t) {
                    return e._marksheetService.filtersResults.yearGroups = t.year_groups
                }).finally(function() {
                    return e.isLoading = !1
                })
            }
        }, {
            key: "setSelectedComments",
            value: function() {
                var e = this;
                this.comments.forEach(function(t) {
                    e.scope.comment && e.scope.comment.includes(t.comment) && (t.is_selected = !0)
                })
            }
        }, {
            key: "hideModal",
            value: function() {
                this._modalDefaultService.pop()
            }
        }, {
            key: "getSubjects",
            value: function() {
                var e = this,
                    t = {
                        year_id: this._marksheetService.filters.year
                    };
                this._marksheetService.getMarksheetCommentBanksFromDb(t).then(function(t) {
                    e._marksheetService.filters.subject = null, e._marksheetService.filters.area = null, e._marksheetService.filtersResults.subjects = t.subjects, e._marksheetService.filtersResults.areas = [], e.comments = [], e._marksheetService.filtersResults.comments = []
                })
            }
        }, {
            key: "getAreas",
            value: function() {
                var e = this,
                    t = {
                        year_id: this._marksheetService.filters.year,
                        subject_id: this._marksheetService.filters.subject
                    };
                this._marksheetService.getMarksheetCommentBanksFromDb(t).then(function(t) {
                    e._marksheetService.filters.area = null, e.comments = [], e._marksheetService.filtersResults.comments = [], e._marksheetService.filtersResults.areas = t.areas
                })
            }
        }, {
            key: "getComments",
            value: function() {
                var e = this,
                    t = {
                        year_id: this._marksheetService.filters.year,
                        subject_id: this._marksheetService.filters.subject,
                        area_id: this._marksheetService.filters.area,
                        learner_id: this.scope.learnerId
                    };
                this._marksheetService.getMarksheetCommentBanksFromDb(t).then(function(t) {
                    e.comments = t.comments, angular.copy(t.comments, e._marksheetService.filtersResults.comments), e.setSelectedComments()
                }).finally(function() {
                    return e.isLoading = !1
                })
            }
        }, {
            key: "save",
            value: function() {
                var e = this.scope.comment || "";
                this.comments.forEach(function(t) {
                    e.includes(t.comment) && !t.is_selected ? e = e.replace(t.comment, "") : !e.includes(t.comment) && t.is_selected && (e = e + " " + t.comment)
                }), this.scope.setComment(e), this.hideModal()
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2600));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-confirm", []).component("modalConfirm", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2601)),
        i = a(t(2602));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2603);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-confirm">\n  <f-confirm confirm="$ctrl.scope.confirm()" cancel="$ctrl.scope.cancel()" message="{{ $ctrl.scope.message }}"></f-confirm>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(1),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    var s = function e(t, n) {
        "ngInject";
        (0, a.default)(this, e), this._modalDefaultService = t, this._menuService = n
    };
    s.$inject = ["modalDefaultService", "menuService"], exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2605));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-confirm-registers", []).component("modalConfirmRegisters", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2606)),
        i = a(t(2607));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2608);
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-confirm-registers">\n  <f-confirm-registers></f-confirm-registers>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i) {
            "ngInject";
            (0, n.default)(this, e), this._modalDefaultService = i, this._$scope = t
        }
        return e.$inject = ["$scope", "modalDefaultService"], (0, i.default)(e, [{
            key: "hideModal",
            value: function() {
                this._$scope.$emit("hideModal")
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2610));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-create-club", []).component("modalCreateClub", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(2611),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    t(2612);
    var s = {
        template: a.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-create-club">\n  <f-manage-club></f-manage-club>\n</div>\n'
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2614));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-create-contact", []).component("modalCreateContact", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(2615),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    t(2616);
    var s = {
        template: a.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-create-contact">\n  <f-add-contacts\n    on-add-contacts="$ctrl.scope.onAddContacts(model)"\n    on-cancel="$ctrl.scope.onCancel()"\n  ></f-add-contacts>\n</div>\n'
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2618));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-create-event", []).component("modalCreateEvent", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2619)),
        i = a(t(2620));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2621);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-create-event">\n  <f-event-create></f-event-create>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a) {
            "ngInject";
            (0, n.default)(this, e), this._modalDefaultService = i, this._menuService = a, this._$scope = t
        }
        return e.$inject = ["$scope", "modalDefaultService", "menuService"], (0, i.default)(e, [{
            key: "hideModal",
            value: function() {
                this._$scope.$emit("hideModal")
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2623));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-create-folder", []).component("modalCreateFolder", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(2624),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    t(2625);
    var s = {
        template: a.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-create-folder">\n  <f-create-folder scope="$ctrl.scope"></f-create-folder>\n</div>\n'
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2627));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-create-group", []).component("modalCreateGroup", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(2628),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    t(2629);
    var s = {
        bindings: {
            scope: "<"
        },
        template: a.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-create-group">\n  <f-create-group ng-if="!$ctrl.scope.isEmployeeGroups"></f-create-group>\n  <f-create-employee-group ng-if="$ctrl.scope.isEmployeeGroups"></f-create-employee-group>\n</div>\n'
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2631));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-create-template", []).component("modalCreateTemplate", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(2632),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    t(2633);
    var s = {
        template: a.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-create-template">\n  <f-create-template body="$ctrl.scope.body" subject="$ctrl.scope.subject"></f-create-template>\n</div>\n'
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(0)),
        i = s(t(2635)),
        a = s(t(2639));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = n.default.module("modal-default", []).component("modalDefault", i.default).service({
        modalDefaultService: a.default
    }).name;
    exports.default = r
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2636)),
        i = a(t(2637));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2638);
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-default"\n     ng-repeat="modal in $ctrl._modalDefaultService.data track by $index"\n     ng-class="modal.id">\n  <div class="modal-default__inner"\n       ng-class="modal.id + \'__inner\'">\n    <button type="button" class="modal-default__previous btn-previous" ng-click="$ctrl.hideModal()"></button>\n    <div class="modal-default__title" ng-if="$ctrl._modalDefaultService.title">\n      {{ $ctrl._modalDefaultService.title }}\n      <l-add-marks ng-if="modal.id === \'modal-add-marks\'"></l-add-marks>\n    </div>\n    <button type="button" class="modal-default__close btn-close" ng-click="$ctrl.hideModal()">\n      <svg-use name="cross" class="btn-close__svg"></svg-use>\n    </button>\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-comment-bank\'">\n      <modal-comment-bank scope="modal.scope"></modal-comment-bank>\n    </div>\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-choose-date\'">\n      <modal-choose-date></modal-choose-date>\n    </div>\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-preview-message\'">\n      <modal-preview-message scope="modal"></modal-preview-message>\n    </div>\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-edit-message\'">\n      <modal-edit-message scope="modal"></modal-edit-message>\n    </div>\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-confirm-registers\'">\n      <modal-confirm-registers></modal-confirm-registers>\n    </div>\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-marks\'">\n      <modal-marks></modal-marks>\n    </div>\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-comment\'">\n      <modal-comment></modal-comment>\n    </div>\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-add-marks\'">\n      <modal-add-marks></modal-add-marks>\n    </div>\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-show-attachments\'">\n      <modal-show-attachments scope="modal.scope"></modal-show-attachments>\n    </div>\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-show-copied\'">\n      <modal-show-copied scope="modal"></modal-show-copied>\n    </div>\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-medical-test-submit\'">\n      <modal-medical-test-submit scope="modal.scope"></modal-medical-test-submit>\n    </div>\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-add-time-test\'">\n      <modal-add-time-test scope="modal.scope"></modal-add-time-test>\n    </div>\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-add-booking-period\'">\n      <modal-add-booking-period></modal-add-booking-period>\n    </div>\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-add-booking-resource\'">\n      <modal-add-booking-resource></modal-add-booking-resource>\n    </div>\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-add-booking-category\'">\n      <modal-add-booking-category></modal-add-booking-category>\n    </div>\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-manage-booking-category\'">\n      <modal-manage-booking-category></modal-manage-booking-category>\n    </div>\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-manage-booking-room\'">\n      <modal-manage-booking-room></modal-manage-booking-room>\n    </div>\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-manage-teaching-group\'">\n      <modal-manage-teaching-group></modal-manage-teaching-group>\n    </div>\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-show-learners\'">\n      <modal-show-learners scope="modal.scope"></modal-show-learners>\n    </div>\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-manage-groups\'">\n      <modal-manage-groups></modal-manage-groups>\n    </div>\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-edit-group-name\'">\n      {{modal.scope | json}}\n      <modal-edit-group-name scope="modal.scope"></modal-edit-group-name>\n    </div>\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-edit-groups\'">\n      <modal-edit-groups scope="modal.scope"></modal-edit-groups>\n    </div>\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-edit-employee-groups\'">\n      <modal-edit-employee-groups scope="modal.scope"></modal-edit-employee-groups>\n    </div>\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-changes-detected\'">\n      <modal-changes-detected scope="modal.scope"></modal-changes-detected>\n    </div>\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-new-message\'">\n      <modal-new-message></modal-new-message>\n    </div>\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-debug\'">\n      <modal-debug></modal-debug>\n    </div>\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-default-dialog\'">\n      <modal-default-dialog></modal-default-dialog>\n    </div>\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-homework-detail\'">\n      <modal-homework-detail scope="modal.scope"></modal-homework-detail>\n    </div>\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-send-message\'">\n      <modal-send-message scope="modal.scope"></modal-send-message>\n    </div>\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-select-recipients\'">\n      <modal-select-recipients scope="modal.scope"></modal-select-recipients>\n    </div>\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-show-recipients\'">\n      <modal-show-recipients scope="modal.scope"></modal-show-recipients>\n    </div>\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-change-password\'">\n      <modal-change-password></modal-change-password>\n    </div>\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-add-homework\'">\n      <modal-add-homework scope="modal.scope"></modal-add-homework>\n    </div>\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-select-learners\'">\n      <modal-select-learners scope="modal.scope"></modal-select-learners>\n    </div>\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-add-calendar-entry\'">\n      <modal-add-calendar-entry></modal-add-calendar-entry>\n    </div>\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-select-event-source\'">\n      <modal-select-event-source></modal-select-event-source>\n    </div>\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-learner-detention\'">\n      <modal-learner-detention scope="modal.scope"></modal-learner-detention>\n    </div>\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-confirm\'">\n      <modal-confirm scope="modal.scope"></modal-confirm>\n    </div>\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-create-event\'">\n      <modal-create-event scope="modal.scope"></modal-create-event>\n    </div>\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-users\'">\n      <modal-users scope="modal.scope"></modal-users>\n    </div>\n\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-preview-event\'">\n      <modal-preview-event></modal-preview-event>\n    </div>\n\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-dynamic\'">\n      <div ng-include="modal.component.name" ng-init="scope = modal.scope"></div>\n    </div>\n\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-show-resource-info\'">\n      <modal-show-resource-info scope="modal.scope"></modal-show-resource-info>\n    </div>\n\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-update-learners\'">\n      <modal-update-learners scope="modal.scope"></modal-update-learners>\n    </div>\n\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-add-teachers\'">\n      <modal-add-teachers scope="modal.scope"></modal-add-teachers>\n    </div>\n\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-i-calendars\'">\n      <modal-i-calendars></modal-i-calendars>\n    </div>\n\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-teacher-book\'">\n      <modal-teacher-book scope="modal.scope"></modal-teacher-book>\n    </div>\n\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-select-teacher\'">\n      <modal-select-teacher scope="modal.scope"></modal-select-teacher>\n    </div>\n\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-select-users\'">\n      <modal-select-users scope="modal.scope"></modal-select-users>\n    </div>\n\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-fill-form\'">\n      <modal-fill-form scope="modal.scope"></modal-fill-form>\n    </div>\n\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-view-forms\'">\n      <modal-view-forms scope="modal.scope"></modal-view-forms>\n    </div>\n\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-add-import\'">\n      <modal-add-import scope="modal.scope"></modal-add-import>\n    </div>\n\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-manage-templates\'">\n      <modal-manage-templates></modal-manage-templates>\n    </div>\n\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-create-template\'">\n      <modal-create-template scope="modal.scope"></modal-create-template>\n    </div>\n\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-teachers-select\'">\n      <modal-teachers-select scope="modal.scope"></modal-teachers-select>\n    </div>\n\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-add-contact\'">\n      <modal-add-contact scope="modal.scope"></modal-add-contact>\n    </div>\n\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-register-write\'">\n      <modal-register-write scope="modal.scope"></modal-register-write>\n    </div>\n\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-details\'">\n      <modal-details scope="modal.scope"></modal-details>\n    </div>\n\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-add-car\'">\n      <modal-add-car scope="modal.scope"></modal-add-car>\n    </div>\n\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-add-address\'">\n      <modal-add-address scope="modal.scope"></modal-add-address>\n    </div>\n\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-book-slot\'">\n      <modal-book-slot scope="modal.scope"></modal-book-slot>\n    </div>\n\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-show-notice\'">\n      <modal-show-notice scope="modal.scope"></modal-show-notice>\n    </div>\n\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-reset-password\'">\n      <modal-reset-password scope="modal.scope"></modal-reset-password>\n    </div>\n\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-activity-log\'">\n      <modal-activity-log scope="modal.scope"></modal-activity-log>\n    </div>\n\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-attachments\'">\n      <modal-attachments scope="modal.scope"></modal-attachments>\n    </div>\n\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-message-option\'">\n      <modal-message-option scope="modal.scope"></modal-message-option>\n    </div>\n\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-select-date\'">\n      <modal-select-date scope="modal.scope"></modal-select-date>\n    </div>\n\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-select-date-range\'">\n      <modal-select-date-range scope="modal.scope"></modal-select-date-range>\n    </div>\n\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-select-detention\'">\n      <modal-select-detention scope="modal.scope"></modal-select-detention>\n    </div>\n\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-access-log\'">\n      <modal-access-log scope="modal.scope"></modal-access-log>\n    </div>\n\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-add-variable\'">\n      <modal-add-variable scope="modal.scope"></modal-add-variable>\n    </div>\n\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-family-contacts\'">\n      <modal-family-contacts scope="modal.scope"></modal-family-contacts>\n    </div>\n\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-view-seating\'">\n      <modal-view-seating scope="modal.scope"></modal-view-seating>\n    </div>\n\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-show-homework\'">\n      <modal-show-homework scope="modal.scope"></modal-show-homework>\n    </div>\n\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-homework-learners\'">\n      <modal-homework-learners scope="modal.scope"></modal-homework-learners>\n    </div>\n\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-club-details\'">\n      <modal-club-details scope="modal.scope"></modal-club-details>\n    </div>\n\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-club-sessions\'">\n      <modal-club-sessions scope="modal.scope"></modal-club-sessions>\n    </div>\n\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-select-contacts\'">\n      <modal-select-contacts scope="modal.scope"></modal-select-contacts>\n    </div>\n\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-create-contact\'">\n      <modal-create-contact scope="modal.scope"></modal-create-contact>\n    </div>\n\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-select-parent\'">\n      <modal-select-parent scope="modal.scope"></modal-select-parent>\n    </div>\n\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-create-group\'">\n      <modal-create-group scope="modal.scope"></modal-create-group>\n    </div>\n\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-select-user\'">\n      <modal-select-user scope="modal.scope"></modal-select-user>\n    </div>\n\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-html-message\'">\n      <modal-html-message scope="modal.scope"></modal-html-message>\n    </div>\n\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-manage-slots\'">\n      <modal-manage-slots scope="modal.scope"></modal-manage-slots>\n    </div>\n\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-create-club\'">\n      <modal-create-club scope="modal.scope"></modal-create-club>\n    </div>\n\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-select-respondents\'">\n      <modal-select-respondents scope="modal.scope"></modal-select-respondents>\n    </div>\n\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-parent-options\'">\n      <modal-parent-options scope="modal.scope"></modal-parent-options>\n    </div>\n\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-manage-areas\'">\n      <modal-manage-areas scope="modal.scope"></modal-manage-areas>\n    </div>\n\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-manage-area\'">\n      <modal-manage-area scope="modal.scope"></modal-manage-area>\n    </div>\n\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-comment-banks\'">\n      <modal-comment-banks scope="modal.scope"></modal-comment-banks>\n    </div>\n\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-child-protection\'">\n      <modal-child-protection scope="modal.scope"></modal-child-protection>\n    </div>\n\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-add-referral\'">\n      <modal-add-referral scope="modal.scope"></modal-add-referral>\n    </div>\n\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-manage-statuses\'">\n      <modal-manage-statuses scope="modal.scope"></modal-manage-statuses>\n    </div>\n\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-new-call\'">\n      <modal-new-call scope="modal.scope"></modal-new-call>\n    </div>\n\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-modify-location\'">\n      <modal-modify-location scope="modal.scope"></modal-modify-location>\n    </div>\n\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-add-strategy\'">\n      <modal-add-strategy scope="modal.scope"></modal-add-strategy>\n    </div>\n\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-new-snippet\'">\n      <modal-new-snippet scope="modal.scope"></modal-new-snippet>\n    </div>\n\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-new-document\'">\n      <modal-new-document scope="modal.scope"></modal-new-document>\n    </div>\n\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-edit-snippet\'">\n      <modal-edit-snippet scope="modal.scope"></modal-edit-snippet>\n    </div>\n\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-edit-document\'">\n      <modal-edit-document scope="modal.scope"></modal-edit-document>\n    </div>\n\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-update-field\'">\n      <modal-update-field scope="modal.scope"></modal-update-field>\n    </div>\n\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-update-input-field\'">\n      <modal-update-input-field scope="modal.scope"></modal-update-input-field>\n    </div>\n\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-update-sessions\'">\n      <modal-update-sessions scope="modal.scope"></modal-update-sessions>\n    </div>\n\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-update-date\'">\n      <modal-update-date scope="modal.scope"></modal-update-date>\n    </div>\n\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-available-grades\'">\n      <modal-available-grades scope="modal.scope"></modal-available-grades>\n    </div>\n\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-attendance-overview\'">\n      <modal-attendance-overview scope="modal.scope"></modal-attendance-overview>\n    </div>\n\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-report-card\'">\n      <modal-report-card scope="modal.scope"></modal-report-card>\n    </div>\n\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-manage-folders\'">\n      <modal-manage-folders scope="modal.scope"></modal-manage-folders>\n    </div>\n\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-create-folder\'">\n      <modal-create-folder scope="modal.scope"></modal-create-folder>\n    </div>\n\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-rename-folder\'">\n      <modal-rename-folder scope="modal.scope"></modal-rename-folder>\n    </div>\n\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-event-timetable\'">\n      <modal-event-timetable scope="modal.scope"></modal-event-timetable>\n    </div>\n\n    <div class="modal-default__modal" ng-if="modal.id === \'modal-show-message\'">\n      <modal-show-message scope="modal.scope"></modal-show-message>\n    </div>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r, o, l) {
            "ngInject";
            var c = this;
            (0, n.default)(this, e), this._modalDefaultService = r, this._$rootScope = s, this._$timeout = a, this.data = {
                isModalShow: !1
            }, angular.element(".modal-default").fadeOut(o.IMMEDIATE);
            var d = this,
                u = this._$rootScope.$on("showModal", function(e, t) {
                    c.data.isModalShow = !0, c._modalDefaultService.data = {
                        id: t.id,
                        scope: t.scope,
                        title: t.title,
                        component: t.component
                    };
                    c._modalDefaultService.title && -1 !== ["select learners", "select recipients", "preview message", "add homework", "select users"].indexOf(c._modalDefaultService.title.toLowerCase()) && angular.element("body").addClass(("_" + c._modalDefaultService.title.replace(/\s/g, "-") + "-modal").toLowerCase()), angular.element("body").addClass(("_" + (t.title || "").replace(/\s/g, "-")).toLowerCase()), angular.element(".modal-default").fadeIn(c._modalDefaultService.config.fadeSpeed)
                }),
                _ = this._$rootScope.$on("hideModal", function(e, t) {
                    0 !== c._modalDefaultService.length && (c.isModalShow = 1 !== c._modalDefaultService.data.length, (!c.isModalShow || t && t.closeAllModals) && angular.element(".modal-default").fadeOut(c._modalDefaultService.config.fadeSpeed), t && t.closeAllModals ? c._modalDefaultService.data.forEach(function(e) {
                        angular.element("body").removeClass(("_" + e.title.replace(/\s/g, "-") + "-modal").toLowerCase())
                    }) : angular.element("body").removeClass(("_" + c._modalDefaultService.title.replace(/\s/g, "-") + "-modal").toLowerCase()), t && t.closeAllModals ? c._modalDefaultService.closeAllModals() : c._modalDefaultService.closeLastModal())
                });
            angular.element(t).off(".hideModalWindow").on("keydown.hideModalWindow", function(e) {
                d.data.isModalShow && e.keyCode === l.ESCAPE && c.hideModal()
            }), angular.element(".modal-default").on("click.modalCalendarDateClick", ".cal-cell", function() {
                c.hideModal()
            }), angular.element(".modal-default").off(".modalBackgroundClick").on("click.modalBackgroundClick", function(e) {
                e.target === this && d.hideModal()
            }), i.$on("$destroy", u), i.$on("$destroy", _)
        }
        return e.$inject = ["$window", "$scope", "$timeout", "$rootScope", "modalDefaultService", "animationConstantsService", "keyCodeConstantsService"], (0, i.default)(e, [{
            key: "hideModal",
            value: function() {
                this._$rootScope.$emit("hideModal", {
                    isCancel: !0
                })
            }
        }, {
            key: "showModalWithTemplates",
            value: function(e, t, n) {
                this._$scope.$emit("showModal", {
                    id: e,
                    scope: t,
                    title: n
                })
            }
        }, {
            key: "id",
            get: function() {
                return this._modalDefaultService.id
            }
        }, {
            key: "openModals",
            get: function() {
                return this._modalDefaultService.openModals
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t) {
            "ngInject";
            (0, n.default)(this, e), this._$rootScope = t, this.config = {
                fadeSpeed: 200
            }, this.initValues()
        }
        return e.$inject = ["$rootScope"], (0, i.default)(e, [{
            key: "initValues",
            value: function(e) {
                this.modals && !e || (this.modals = {
                    data: []
                })
            }
        }, {
            key: "showModalWithTemplates",
            value: function(e, t, n) {
                this._$rootScope.$emit("showModal", {
                    id: e,
                    scope: t,
                    title: n
                })
            }
        }, {
            key: "closeLastModal",
            value: function() {
                return this.pop()
            }
        }, {
            key: "closeAllModals",
            value: function() {
                this.clear()
            }
        }, {
            key: "push",
            value: function(e) {
                var t = e.id,
                    n = e.scope,
                    i = e.title,
                    a = t.replace(/-\w/g, function(e) {
                        return e.slice(1).toUpperCase()
                    });
                this._$rootScope.$emit("showModal", {
                    id: "modal-dynamic",
                    scope: n,
                    title: i,
                    component: {
                        id: t,
                        name: a
                    }
                })
            }
        }, {
            key: "pop",
            value: function() {
                var e = this.data;
                if (e && e.length) {
                    var t = e.pop();
                    return angular.element("body").removeClass(("_" + t.title.replace(/\s/g, "-")).toLowerCase()), t
                }
                return null
            }
        }, {
            key: "clear",
            value: function() {
                for (; this.data.length;) this.pop()
            }
        }, {
            key: "length",
            get: function() {
                return this.modals.data.length
            }
        }, {
            key: "id",
            get: function() {
                return this.data[this.data.length - 1] && this.data[this.data.length - 1].id
            },
            set: function(e) {
                this.data[this.data.length - 1].id = e
            }
        }, {
            key: "data",
            set: function(e) {
                this.data.push(e)
            },
            get: function() {
                return this.modals.data
            }
        }, {
            key: "scope",
            get: function() {
                return this.data[this.data.length - 1] && this.data[this.data.length - 1].scope
            },
            set: function(e) {
                this.data[this.data.length - 1].scope = e
            }
        }, {
            key: "title",
            get: function() {
                return this.data[this.data.length - 1] && this.data[this.data.length - 1].title
            },
            set: function(e) {
                this.data[this.data.length - 1].title = e
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2641));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-default-dialog", []).component("modalDefaultDialog", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2642)),
        i = a(t(2643));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2644);
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-default-dialog">\n  <f-default-dialog data="$ctrl.data"></f-default-dialog>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i) {
            "ngInject";
            (0, n.default)(this, e), this._modalDefaultService = i, this._$scope = t
        }
        return e.$inject = ["$scope", "modalDefaultService"], (0, i.default)(e, [{
            key: "hideModal",
            value: function() {
                this._$scope.$emit("hideModal")
            }
        }, {
            key: "data",
            get: function() {
                return this._modalDefaultService.scope
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2646));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-details", []).component("modalDetails", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2647)),
        i = a(t(2648));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2649);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-details">\n  <div class="modal-details__content">\n    <div class="modal-details__title" style="text-align: center" ng-if="$ctrl.scope.student.forename && $ctrl.scope.student.surname">\n      {{$ctrl.scope.student.forename}} {{$ctrl.scope.student.surname}}\n    </div>\n    <div class="modal-details__row" ng-if="$ctrl.scope.data.quick_note">\n      <div class="modal-details__title">Quick Note:</div>\n      <p class="modal-details__note">\n        {{ ::$ctrl.scope.data.quick_note }}\n      </p>\n    </div>\n    <div class="modal-details__row"\n         ng-if="$ctrl.scope.data.behaviour.achievements && $ctrl.scope.data.behaviour.achievements.length">\n      <div class="modal-details__title">Achievements:</div>\n      <t-register-details data="$ctrl.scope.data.behaviour.achievements"\n                          table="$ctrl.scope.tables.achievements"\n      ></t-register-details>\n    </div>\n    <div class="modal-details__row"\n         ng-if="$ctrl.scope.data.behaviour.incidents && $ctrl.scope.data.behaviour.incidents.length">\n      <div class="modal-details__title">Incidents:</div>\n      <t-register-details data="$ctrl.scope.data.behaviour.incidents"\n                          table="$ctrl.scope.tables.incidents"\n      ></t-register-details>\n    </div>\n    <div class="modal-details__row"\n         ng-if="$ctrl.scope.data.behaviour.detentions && $ctrl.scope.data.behaviour.detentions.length">\n      <div class="modal-details__title">Detentions:</div>\n      <t-register-details data="$ctrl.scope.data.behaviour.detentions"\n                          table="$ctrl.scope.tables.detentions"\n      ></t-register-details>\n    </div>\n    <div class="modal-details__row"\n         ng-if="$ctrl.scope.data.sen_current_needs && $ctrl.scope.data.sen_current_needs.length">\n      <div class="modal-details__title">SEN Needs:</div>\n      <t-register-details data="$ctrl.scope.data.sen_current_needs"\n                          table="$ctrl.scope.tables.currentNeeds"\n      ></t-register-details>\n    </div>\n\t<div class="modal-details__row"\n       ng-if="$ctrl.scope.data.sen_documents && $ctrl.scope.data.sen_documents.length">\n      <div class="modal-details__title">SEN Full descriptions:</div>\n      <t-register-details data="$ctrl.scope.data.sen_documents"\n                          table="$ctrl.scope.tables.SENfullDescriptions"\n      ></t-register-details>\n    </div>\n    <div class="modal-details__row"\n         ng-if="$ctrl.scope.data.sen_strategies && $ctrl.scope.data.sen_strategies.length">\n        <div class="modal-details__title">SEN strategies:</div>\n        <t-register-details data="$ctrl.scope.data.sen_strategies"\n                            table="$ctrl.scope.tables.strategies"\n        ></t-register-details>\n      </div>\n    <div class="modal-details__row"\n         ng-if="$ctrl.scope.data.medical_conditions && $ctrl.scope.data.medical_conditions.length">\n      <div class="modal-details__title">Medical Conditions:</div>\n      <t-register-details data="$ctrl.scope.data.medical_conditions"\n                          table="$ctrl.scope.tables.medicalConditions"\n      ></t-register-details>\n    </div>\n    <div class="modal-details__row"\n         ng-if="$ctrl.scope.data.parental_consents && $ctrl.scope.data.parental_consents.length">\n      <div class="modal-details__title">Parental Consents:</div>\n      <t-register-details data="$ctrl.scope.data.parental_consents"\n                          table="$ctrl.scope.tables.parentalConsents"\n      ></t-register-details>\n    </div>\n    <div class="modal-details__row" ng-if="$ctrl.isEmpty()">\n      <div class="modal-details__message">No data.</div>\n    </div>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i) {
            "ngInject";
            (0, n.default)(this, e), t.$on("$destroy", function() {
                i.details = null
            })
        }
        return e.$inject = ["$scope", "registersService"], (0, i.default)(e, [{
            key: "isEmpty",
            value: function() {
                return !(this.scope.data.behaviour.achievements && this.scope.data.behaviour.achievements.length || this.scope.data.behaviour.detentions && this.scope.data.behaviour.detentions.length || this.scope.data.behaviour.detentions && this.scope.data.behaviour.detentions.length || this.scope.data.sen_current_needs && this.scope.data.sen_current_needs.length || this.scope.data.medical_conditions && this.scope.data.medical_conditions.length || this.scope.data.sen_documents && this.scope.data.sen_documents.length || this.scope.data.parental_consents && this.scope.data.parental_consents.length || this.scope.data.sen_strategies && this.scope.data.sen_strategies.length)
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2651));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-detention", []).component("modalDetention", i.default).run(["$templateCache", function(e) {
        "ngInject";
        e.put("modalDetention", '<modal-detention scope="scope"></modal-detention>')
    }]).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2652)),
        i = a(t(2653));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2654);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-detention">\n    <f-detention submit="$ctrl.scope.submit({ model })" cancel="$ctrl.scope.cancel()"></f-detention>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i) {
            "ngInject";
            (0, n.default)(this, e), this._$scope = i, this._modalDefaultService = t
        }
        return e.$inject = ["modalDefaultService", "$scope"], (0, i.default)(e, [{
            key: "hideModal",
            value: function() {
                this._$scope.$emit("hideModal")
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2656));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-edit-employee-groups", []).component("modalEditEmployeeGroups", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2657)),
        i = a(t(2658));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2659);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            scope: "="
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-edit-employee-groups">\n\x3c!--  <b-select-teachers teachers="$c trl.employees"></b-select-teachers>--\x3e\n  <b-select-teachers teachers="$ctrl.scope.teachers"\n    on-submit="$ctrl.scope.onSubmit"\n    is-save="$ctrl.scope.isSave"></b-select-teachers>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(1),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    var s = function e(t) {
        "ngInject";
        (0, a.default)(this, e), this._teachersService = t
    };
    s.$inject = ["teachersService"], exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2661));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-edit-group-name", []).component("modalEditGroupName", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(2662),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    t(2663);
    var s = {
        bindings: {
            scope: "<"
        },
        template: a.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-edit-group-name">\n  <f-edit-group-name on-submit="$ctrl.scope.onSubmit($data)"\n    group-name="{{ $ctrl.scope.groupName }}"></f-edit-group-name>\n</div>\n'
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2665));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-edit-groups", []).component("modalEditGroups", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2666)),
        i = a(t(2667));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2668);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            scope: "="
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-edit-groups">\n  <b-edit-groups status="$ctrl.scope.status"></b-edit-groups>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t) {
            "ngInject";
            (0, n.default)(this, e), this._studentsService = t
        }
        return e.$inject = ["studentsService"], (0, i.default)(e, [{
            key: "$onDestroy",
            value: function() {
                this._studentsService.clearSelectedStudents()
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2670));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-edit-message", []).component("modalEditMessage", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2671)),
        i = a(t(2672));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2673);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-edit-message">\n  <f-document-message scope="$ctrl.scope.scope"></f-document-message>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i) {
            "ngInject";
            (0, n.default)(this, e), this._modalDefaultService = i, this._$scope = t
        }
        return e.$inject = ["$scope", "modalDefaultService"], (0, i.default)(e, [{
            key: "hideModal",
            value: function() {
                this._$scope.$emit("hideModal")
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2675));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-edit-snippet", []).component("modalEditSnippet", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2676)),
        i = a(t(2677));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2678);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-edit-snippet">\n  <f-edit-snippet scope="$ctrl.scope"></f-edit-snippet>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i) {
            "ngInject";
            (0, n.default)(this, e), this._modalDefaultService = i, this._$scope = t
        }
        return e.$inject = ["$scope", "modalDefaultService"], (0, i.default)(e, [{
            key: "hideModal",
            value: function() {
                this._$scope.$emit("hideModal")
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2680));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-event-timetable", []).component("modalEventTimetable", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2681)),
        i = a(t(2682));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2683);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-event-timetable">\n  <b-loader ng-if="$ctrl.isLoading"></b-loader>\n  <div class="modal-event-timetable__content" ng-if="!$ctrl.isLoading">\n    <t-teacher-event ng-if="$ctrl.slots.length"\n                     attend="$ctrl.attend({ slot })"\n                     block="$ctrl.block({ slot })"\n                     cancel="$ctrl.showUnbookSlotModal({ slot })"\n                     slots="$ctrl.slots"\n    ></t-teacher-event>\n    <div class="modal-event-timetable__empty" ng-if="!$ctrl.slots.length">\n      No data.\n    </div>\n  </div>\n  <div class="modal-event-timetable__footer">\n    <button type="button" class="modal-event-timetable__btn btn btn-default _gray _fill"\n            ng-click="$ctrl.closeModal()">Cancel</button>\n    <button type="button" class="modal-event-timetable__btn btn btn-default _tangerine _fill"\n            ng-click="$ctrl.export()">Export</button>\n    <button type="button" class="modal-event-timetable__btn btn btn-default _tangerine _fill"\n            ng-disabled="$ctrl.disablePrintButton"\n            ng-click="$ctrl.print()">Print</button>\n    <button type="button" class="modal-event-timetable__btn btn btn-default _green _fill"\n            ng-click="$ctrl.showBookSlotModal()">Book</button>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(11)),
        i = s(t(1)),
        a = s(t(2));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = function() {
        function e(t, n, a, s, r) {
            "ngInject";
            (0, i.default)(this, e), this._attachmentsService = t, this._parentsEveningService = n, this._modalDefaultService = a, this._notificationService = s, this._teachersService = r, this.slots = [], this.initialSlots = [], this.isLoading = !0, this.disablePrintButton = !1
        }
        return e.$inject = ["attachmentsService", "parentsEveningService", "modalDefaultService", "notificationService", "teachersService"], (0, a.default)(e, [{
            key: "$onInit",
            value: function() {
                var e = this;
                this._parentsEveningService.fetchPrepEvent({
                    event_id: this.scope.eventId,
                    employee_id: this._teachersService.selectedTeacher.id
                }).then(function(t) {
                    var i, a = t.slots;
                    (i = e.slots).push.apply(i, (0, n.default)(a)), e.initialSlots = angular.copy(e.slots)
                }).catch(function() {
                    e.closeModal()
                }).finally(function() {
                    e.isLoading = !1
                })
            }
        }, {
            key: "$onDestroy",
            value: function() {
                this.scope.onDestroy && !angular.equals(this.initialSlots, this.slots) && this.scope.onDestroy()
            }
        }, {
            key: "closeModal",
            value: function() {
                this._modalDefaultService.pop()
            }
        }, {
            key: "attend",
            value: function(e) {
                var t = e.slot;
                return this._parentsEveningService.attend(t, this.scope.eventId, this._teachersService.selectedTeacher.id)
            }
        }, {
            key: "block",
            value: function(e) {
                var t = e.slot;
                return this._parentsEveningService.block(t, this.scope.eventId, this._teachersService.selectedTeacher.id)
            }
        }, {
            key: "unbook",
            value: function(e) {
                var t = this;
                return this._parentsEveningService.unbookSlot(e, this.scope.eventId, this._teachersService.selectedTeacher.id).then(function(e) {
                    var n = e.slots;
                    t.slots = n
                }).then(function() {
                    return t._notificationService.showSuccessNotification("Success")
                }).then(function() {
                    return t.closeModal()
                })
            }
        }, {
            key: "showBookSlotModal",
            value: function() {
                var e = this,
                    t = {
                        onBook: function() {
                            return e._parentsEveningService.fetchPrepEvent({
                                event_id: e.scope.eventId,
                                employee_id: e._teachersService.selectedTeacher.id
                            }).then(function(t) {
                                var n = t.slots;
                                e.slots = n, e.closeModal(), e.closeModal()
                            })
                        }
                    };
                this._modalDefaultService.showModalWithTemplates("modal-teacher-book", t, "Book")
            }
        }, {
            key: "export",
            value: function() {
                var e = this._parentsEveningService.formatDataForExporting(this.slots);
                this._attachmentsService.downloadCSV(e, "Bookings")
            }
        }, {
            key: "print",
            value: function() {
                var e = this,
                    t = {
                        event_id: this.scope.eventId,
                        employee_id: this._teachersService.selectedTeacher.id
                    };
                return this.disablePrintButton = !0, this._parentsEveningService.downloadEmployeePDF(t).finally(function() {
                    e.disablePrintButton = !1
                })
            }
        }, {
            key: "showUnbookSlotModal",
            value: function(e) {
                var t = this,
                    n = e.slot;
                this._modalDefaultService.showModalWithTemplates("modal-confirm", {
                    message: "Cancel this booking?",
                    cancel: function() {
                        return t.closeModal()
                    },
                    confirm: function() {
                        return t.unbook(n)
                    }
                }, "Confirm")
            }
        }]), e
    }();
    exports.default = r
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2685));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-edit-document", []).component("modalEditDocument", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2686)),
        i = a(t(2687));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2688);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-edit-document">\n  <f-edit-document scope="$ctrl.scope"></f-edit-document>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i) {
            "ngInject";
            (0, n.default)(this, e), this._modalDefaultService = i, this._$scope = t
        }
        return e.$inject = ["$scope", "modalDefaultService"], (0, i.default)(e, [{
            key: "hideModal",
            value: function() {
                this._$scope.$emit("hideModal")
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2690));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-new-document", []).component("modalNewDocument", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(2691),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    t(2692);
    var s = {
        template: a.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-new-document">\n  <f-new-document scope="$ctrl.scope"></f-new-document>\n</div>\n'
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2694));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-select-parent", []).component("modalSelectParent", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(2695),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    t(2696);
    var s = {
        template: a.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-select-parent">\n  <f-select-parent scope="$ctrl.scope"></f-select-parent>\n</div>\n'
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2698));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-family-contacts", []).component("modalFamilyContacts", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(2699),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    t(2700);
    var s = {
        template: a.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-family-contacts">\n  <f-add-contacts\n    on-add-contacts="$ctrl.scope.onAddContacts(model)"\n    contact="$ctrl.scope.contact"\n    on-cancel="$ctrl.scope.onCancel()"\n  ></f-add-contacts>\n</div>\n'
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2702));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-fill-form", []).component("modalFillForm", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2703)),
        i = a(t(2704));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2705);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-fill-form">\n  <f-quiz ng-if="!$ctrl.isLoading"\n          form="$ctrl.form"\n          cancel="$ctrl.scope.onClose()"\n          on-save="$ctrl.scope.onSave({ fields })"></f-quiz>\n  <div class="modal-fill-form__loader" ng-if="$ctrl.isLoading">\n    <b-loader></b-loader>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e() {
            "ngInject";
            (0, n.default)(this, e), this.form = null, this.isLoading = !0
        }
        return (0, i.default)(e, [{
            key: "$onInit",
            value: function() {
                var e = this;
                this.scope.onInit().then(function(t) {
                    return e.form = t.form
                }).then(function() {
                    return e.isLoading = !1
                })
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2707));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-debug-message", []).component("modalDebug", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2708)),
        i = a(t(2709));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2710);
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-debug">\n  <pre>{{ $ctrl._modalDefaultService.scope | json }}</pre>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i) {
            "ngInject";
            (0, n.default)(this, e), this._modalDefaultService = i, this._$scope = t
        }
        return e.$inject = ["$scope", "modalDefaultService"], (0, i.default)(e, [{
            key: "hideModal",
            value: function() {
                this._$scope.$emit("hideModal")
            }
        }, {
            key: "payload",
            get: function() {
                return this._modalDefaultService.scope
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2712));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-homework-detail", []).component("modalHomeworkDetail", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2713)),
        i = a(t(2714));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2715);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            scope: "="
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-homework-detail">\n  <b-homework-detail remove="$ctrl.scope.remove({ homework })"\n                     homework="$ctrl.scope.homework"></b-homework-detail>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i) {
            "ngInject";
            (0, n.default)(this, e), this._modalDefaultService = i, this._$scope = t
        }
        return e.$inject = ["$scope", "modalDefaultService"], (0, i.default)(e, [{
            key: "hideModal",
            value: function() {
                this._$scope.$emit("hideModal")
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2717));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-homework-learners", []).component("modalHomeworkLearners", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2718)),
        i = a(t(2719));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2720);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-homework-learners">\n  <t-homework-learners class="modal-homework-learners__list"\n                       homework-id="$ctrl.scope.homeworkId"\n                       homework-source="$ctrl.scope.homeworkSource"\n                       learners="$ctrl.scope.learners"></t-homework-learners>\n  <button type="button" class="btn btn-default _small _green _fill modal-homework-learners__btn"\n          ng-click="$ctrl.closeModal()">OK</button>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t) {
            "ngInject";
            (0, n.default)(this, e), this._$scope = t
        }
        return e.$inject = ["$scope"], (0, i.default)(e, [{
            key: "closeModal",
            value: function() {
                this._$scope.$emit("hideModal")
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2722));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-html-message", []).component("modalHtmlMessage", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2723)),
        i = a(t(2724));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2725);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-html-message">\n  <div class="modal-html-message__row">\n    <div class="modal-html-message__title">{{::$ctrl.scope.title}}</div>\n  </div>\n  <div class="modal-html-message__row">\n    <div class="modal-html-message__message"\n         ng-bind-html="$ctrl.scope.body"\n    ></div>\n  </div>\n  <div class="modal-html-message__row">\n    <button class="modal-html-message__btn btn btn-default _small"\n            ng-click="$ctrl.hideModal()"\n    >Close</button>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t) {
            "ngInject";
            (0, n.default)(this, e), this._modalDefaultService = t
        }
        return e.$inject = ["modalDefaultService"], (0, i.default)(e, [{
            key: "hideModal",
            value: function() {
                this._modalDefaultService.pop()
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2727));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-i-calendars", []).component("modalICalendars", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(2728),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    t(2729);
    var s = {
        template: a.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-i-calendars">\n  <b-i-calendars></b-i-calendars>\n</div>\n'
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2731));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-learner-detention", []).component("modalLearnerDetention", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(2732),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    t(2733);
    var s = {
        template: a.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-learner-detention">\n  <f-learner-detention submit="$ctrl.scope.onSubmit({ attended_code, attend_next_session, reason_for_non_attendance, staff_comments })"\n                       model="$ctrl.scope.model"\n                       is-edit-form="$ctrl.scope.isEditForm"></f-learner-detention>\n</div>\n'
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2735));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-manage-area", []).component("modalManageArea", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(2736),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    t(2737);
    var s = {
        template: a.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-manage-area">\n  <f-manage-area scope="$ctrl.scope"></f-manage-area>\n</div>\n'
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2739));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-manage-areas", []).component("modalManageAreas", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2740)),
        i = a(t(2741));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2742);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-manage-areas">\n  <div class="modal-manage-areas__body">\n    <b-loader ng-if="$ctrl.isLoading"></b-loader>\n    <ng-container ng-if="!$ctrl.isLoading">\n      <div class="modal-manage-areas__table-header">\n        <div class="modal-manage-areas__title">Areas:</div>\n        <button type="button" class="modal-manage-areas__btn-add" ng-click="$ctrl.onAddNewArea()"></button>\n      </div>\n      <t-manage-areas\n        ng-if="$ctrl.areas.length"\n        on-remove="$ctrl.onRemoveArea({ area_id })"\n        on-edit="$ctrl.onEditArea({ area })"\n        areas="$ctrl.areas"\n      ></t-manage-areas>\n    </ng-container>\n  </div>\n  <div class="modal-manage-areas__bottom">\n    <button type="button"\n            class="f-seating-plan__btn btn btn-default _fill _small"\n            ng-click="$ctrl.hideModal()"\n    >Close</button>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s) {
            "ngInject";
            (0, n.default)(this, e), this._$scope = t, this._marksheetService = i, this._modalDefaultService = a, this._notificationService = s, this.areas = [], this.isLoading = !1
        }
        return e.$inject = ["$scope", "marksheetService", "modalDefaultService", "notificationService"], (0, i.default)(e, [{
            key: "$onInit",
            value: function() {
                var e = this;
                this.isLoading = !0, this.getMarksheetCommentBankCommentAreas().finally(function() {
                    e.isLoading = !1
                })
            }
        }, {
            key: "getMarksheetCommentBankCommentAreas",
            value: function() {
                var e = this;
                return this._marksheetService.getMarksheetCommentBankCommentAreasFromDb().then(function(t) {
                    e.areas = t.areas
                })
            }
        }, {
            key: "removeArea",
            value: function(e) {
                var t = this;
                this._marksheetService.deleteCommentArea({
                    area_id: e
                }).then(function() {
                    t.scope.callback(), t.getMarksheetCommentBankCommentAreas(), t.hideModal(), t._notificationService.showSuccessNotification("Removed")
                })
            }
        }, {
            key: "onRemoveArea",
            value: function(e) {
                var t = this,
                    n = e.area_id;
                this._modalDefaultService.showModalWithTemplates("modal-confirm", {
                    message: "Are you sure?",
                    cancel: function() {
                        return t.hideModal()
                    },
                    confirm: function() {
                        return t.removeArea(n)
                    }
                }, "Confirm")
            }
        }, {
            key: "onEditArea",
            value: function(e) {
                var t = this,
                    n = e.area,
                    i = {
                        area: n.name,
                        onSubmit: function(e) {
                            var i = {
                                area_id: n.id,
                                name: e
                            };
                            return t._marksheetService.updateCommentArea(i).then(function() {
                                t.getMarksheetCommentBankCommentAreas(), t.hideModal(), t._notificationService.showSuccessNotification("Updated")
                            })
                        },
                        onCancel: function() {
                            return t.hideModal()
                        }
                    };
                this._modalDefaultService.showModalWithTemplates("modal-manage-area", i, "Edit area")
            }
        }, {
            key: "onAddNewArea",
            value: function() {
                var e = this,
                    t = {
                        onSubmit: function(t) {
                            var n = {
                                name: t
                            };
                            return e._marksheetService.addCommentArea(n).then(function() {
                                e.scope.callback(), e.getMarksheetCommentBankCommentAreas(), e.hideModal(), e._notificationService.showSuccessNotification("Added")
                            })
                        },
                        onCancel: function() {
                            return e.hideModal()
                        }
                    };
                this._modalDefaultService.showModalWithTemplates("modal-manage-area", t, "Edit area")
            }
        }, {
            key: "hideModal",
            value: function() {
                this._$scope.$emit("hideModal")
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2744));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-manage-booking-category", []).component("modalManageBookingCategory", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(2745),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    t(2746);
    var s = {
        template: a.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-manage-booking-category">\n  <l-booking-resource is-category-manage="true"></l-booking-resource>\n</div>\n'
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2748));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-manage-folders", []).component("modalManageFolders", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2749)),
        i = a(t(2750));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2751);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-manage-folders">\n  <b-loader class="modal-manage-folders__loader" ng-if="$ctrl.isLoading"></b-loader>\n  <b-manage-folders ng-if="!$ctrl.isLoading"\n                    model="$ctrl.model"\n                    disabled-folder-id="$ctrl.scope.disabledFolderId"\n                    select="$ctrl.scope.select({ parentFolderId })"\n                    update-folders="$ctrl.getFolders({ id })"\n  ></b-manage-folders>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i) {
            "ngInject";
            (0, n.default)(this, e), this._noticeboardService = t, this._modalDefaultService = i, this.isLoading = !0, this.model = {
                location: null,
                folders: []
            }
        }
        return e.$inject = ["noticeboardService", "modalDefaultService"], (0, i.default)(e, [{
            key: "$onInit",
            value: function() {
                var e = this;
                this.getFolders({
                    id: this.scope.folder_id
                }).catch(function() {
                    return e._modalDefaultService.pop()
                }).finally(function() {
                    e.isLoading = !1
                })
            }
        }, {
            key: "getFolders",
            value: function(e) {
                var t = this,
                    n = e.id;
                return this._noticeboardService.getDocumentFoldersFromDb(n).then(function(e) {
                    t.model.location = e.location, t.model.folders = e.folders
                })
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2753));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-manage-booking-room", []).component("modalManageBookingRoom", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(2754),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    t(2755);
    var s = {
        template: a.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-manage-booking-room">\n  <f-booking-manage-room></f-booking-manage-room>\n</div>\n'
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2757));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-manage-groups", []).component("modalManageGroups", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2758)),
        i = a(t(2759));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2760);
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-manage-groups">\n  <div class="modal-manage-groups__item">\n    <div class="modal-manage-groups__row">\n      <div class="modal-manage-groups__col _add">\n        <span>New group</span>\n        <button type="button" class="modal-manage-groups__add" ng-click="$ctrl.openAddGroupModal()"></button>\n      </div>\n      <div class="modal-manage-groups__col _types">\n        <span class="modal-manage-groups__select-title">Group type:</span>\n        <div class="modal-manage-groups__select-wrapper">\n          <div class="modal-manage-groups__select-view">\n            <svg-use class="modal-manage-groups__select-view-icon no-animate"\n              name="learner"\n              ng-show="$ctrl.selectedGroupsType.key === \'learners\'"></svg-use>\n            <svg-use class="modal-manage-groups__select-view-icon no-animate"\n              name="teacher"\n              ng-show="$ctrl.selectedGroupsType.key === \'employees\'"></svg-use>\n            <span class="modal-manage-groups__select-view-title">{{ $ctrl.selectedGroupsType.title }}</span>\n          </div>\n          <select class="f-default__select modal-manage-groups__select"\n            ng-attr-title="{{ $ctrl.selectedGroupsType.title }}"\n            ng-change="$ctrl.onGroupTypeChange()"\n            ng-model="$ctrl.selectedGroupsType">\n            <option ng-repeat="groupType in ::$ctrl.groupTypes track by groupType.key"\n              ng-value="::groupType" >{{ ::groupType.title }}</option>\n          </select>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class="modal-manage-groups__item">\n    <l-groups ng-if="$ctrl.selectedGroupsType.key === \'learners\'"></l-groups>\n    <l-employee-groups ng-if="$ctrl.selectedGroupsType.key === \'employees\'"></l-employee-groups>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i) {
            "ngInject";
            (0, n.default)(this, e), this._modalDefaultService = i, this._$scope = t, this.groupTypes = [{
                title: "Learners",
                key: "learners"
            }, {
                title: "Employees",
                key: "employees"
            }], this.selectedGroupsType = this.groupTypes[0]
        }
        return e.$inject = ["$scope", "modalDefaultService"], (0, i.default)(e, [{
            key: "openAddGroupModal",
            value: function() {
                var e = {
                    isEmployeeGroups: "employees" === this.selectedGroupsType.key
                };
                this._modalDefaultService.showModalWithTemplates("modal-create-group", e, "Create group")
            }
        }, {
            key: "onGroupTypeChange",
            value: function() {
                console.log(this.selectedGroupsType)
            }
        }, {
            key: "hideModal",
            value: function() {
                this._$scope.$emit("hideModal")
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2762));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-manage-slots", []).component("modalManageSlots", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(2763),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    t(2764);
    var s = {
        template: a.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-manage-slots">\n  <f-manage-slots scope="$ctrl.scope"></f-manage-slots>\n</div>\n'
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2766));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-manage-teaching-group", []).component("modalManageTeachingGroup", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(2767),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    t(2768);
    var s = {
        template: a.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-manage-teaching-group">\n  <f-manage-teaching-group></f-manage-teaching-group>\n</div>\n'
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2770));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-manage-statuses", []).component("modalManageStatuses", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(2771),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    t(2772);
    var s = {
        template: a.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-manage-statuses">\n  <b-manage-statuses scope="$ctrl.scope"></b-manage-statuses>\n</div>\n'
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2774));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-manage-templates", []).component("modalManageTemplates", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(2775),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    t(2776);
    var s = {
        template: a.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-manage-templates">\n  <l-templates></l-templates>\n</div>\n'
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2778));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-marks", []).component("modalMarks", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2779)),
        i = a(t(2780));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2781);
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-marks">\n  <l-marks is-floodfill="true"></l-marks>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a) {
            "ngInject";
            (0, n.default)(this, e), this._modalDefaultService = a, this._$scope = i
        }
        return e.$inject = ["$rootScope", "$scope", "modalDefaultService"], (0, i.default)(e, [{
            key: "hideModal",
            value: function() {
                this._$scope.$emit("hideModal")
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2783));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-message-option", []).component("modalMessageOption", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(2784),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    t(2785);
    var s = {
        template: a.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-message-option">\n  <f-message-options scope="$ctrl.scope"></f-message-options>\n</div>\n'
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2787));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-new-message", []).component("modalNewMessage", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2788)),
        i = a(t(2789));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2790);
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-new-message">\n  <f-new-message payload="$ctrl.payload"></f-new-message>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i) {
            "ngInject";
            (0, n.default)(this, e), this._modalDefaultService = i, this._$scope = t
        }
        return e.$inject = ["$scope", "modalDefaultService"], (0, i.default)(e, [{
            key: "hideModal",
            value: function() {
                this._$scope.$emit("hideModal")
            }
        }, {
            key: "payload",
            get: function() {
                return this._modalDefaultService.scope
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2792));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-overallocated-teachers", []).component("modalOverallocatedTeachers", i.default).run(["$templateCache", function(e) {
        "ngInject";
        e.put("modalOverallocatedTeachers", '<modal-overallocated-teachers scope="scope"></modal-overallocated-teachers>')
    }]).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2793)),
        i = a(t(2794));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2795);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-overallocated-teachers">\n    <ul class="modal-overallocated-teachers__list">\n        <li class="modal-overallocated-teachers__item" \n            ng-repeat="teacher in $ctrl.teachers">\n            {{ ::teacher.forename }} {{ ::teacher.surname }}, {{ ::teacher.slots }} slot{{ ::(teacher.slots > 1 ? \'s\' : \'\') }}\n        </li>\n    </ul>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t) {
            "ngInject";
            (0, n.default)(this, e), this._modalDefaultService = t
        }
        return e.$inject = ["modalDefaultService"], (0, i.default)(e, [{
            key: "hideModal",
            value: function() {
                this._$scope.$emit("hideModal")
            }
        }, {
            key: "$onInit",
            value: function() {
                this.teachers = this.scope && this.scope.teachers.map(function(e) {
                    return {
                        forename: e.forename,
                        surname: e.surname,
                        slots: e.allocatedValue
                    }
                })
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2797));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-parent-options", []).component("modalParentOptions", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(2798),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    t(2799);
    var s = {
        template: a.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-parent-options">\n  <f-parent-options />\n</div>\n'
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2801));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-preview-event", []).component("modalPreviewEvent", i.default).run(["$templateCache", function(e) {
        "ngInject";
        e.put("modalPreviewEvent", '<modal-preview-event scope="scope"></modal-preview-event>')
    }]).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2802)),
        i = a(t(2803));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2804);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-preview-event">\n    <div class="modal-preview-event__wrapper" ng-if="$ctrl.scope.teachers.length">\n        <div class="modal-preview-event__title">Teachers overallocated by:</div>\n        <l-photos-group class="modal-preview-event__photos"\n                        items="$ctrl.scope.teachers"\n                        ng-click="$ctrl.openOverallocatedTeachersModal()"\n                        count="7"\n        ></l-photos-group>\n    </div>\n\n    <div class="modal-preview-event__title">Teaching Groups:</div>\n    <b-teaching-groups subjects="$ctrl.scope.teaching_groups"></b-teaching-groups>\n\n    <div class="modal-preview-event__title">Slots:</div>\n    <t-slots sessions="$ctrl.scope.sessions"\n             is-toggle="true"\n    ></t-slots>\n\n    <div class="modal-preview-event__row">\n      <div class="modal-preview-event__col-outer">\n        <div class="modal-preview-event__col">\n          <button type="button" class="modal-preview-event__button btn btn-default _small"\n                  ng-click="$ctrl.close()"\n          >Cancel</button>\n        </div>\n        <div class="modal-preview-event__col">\n          <button type="button" class="modal-preview-event__button btn btn-default _small"\n                  ng-click="$ctrl.downloadCSV()"\n          >Checking Sheet</button>\n        </div>\n        <div class="modal-preview-event__col">\n          <button type="button"\n                  ng-disabled="$ctrl.isLoading"\n                  ng-click="$ctrl.create()"\n                  class="modal-preview-event__button btn btn-default _green _small _fill"\n          >Create</button>\n        </div>\n      </div>\n    </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(26)),
        i = s(t(1)),
        a = s(t(2));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = function() {
        function e(t, n, a, s, r, o, l) {
            "ngInject";
            (0, i.default)(this, e), this._attachmentsService = n, this._userService = a, this._modalDefaultService = s, this._notificationService = r, this._parentsEveningService = o, this._menuService = l, this._$scope = t, this.isLoading = !1
        }
        return e.$inject = ["$scope", "attachmentsService", "userService", "modalDefaultService", "notificationService", "parentsEveningService", "menuService"], (0, a.default)(e, [{
            key: "hideModal",
            value: function() {
                this._$scope.$emit("hideModal")
            }
        }, {
            key: "close",
            value: function() {
                this._modalDefaultService.pop()
            }
        }, {
            key: "generateTeachersGroups",
            value: function() {
                var e = this;
                this.scope.model.teaching_groups = [], (0, n.default)(this.scope.teaching_groups).forEach(function(t) {
                    e.scope.teaching_groups.hasOwnProperty(t) && e.scope.teaching_groups[t].forEach(function(t) {
                        e.scope.model.teaching_groups.push({
                            id: t.id,
                            teacher_ids: t.selectedTeachers.map(function(e) {
                                return e.id
                            })
                        })
                    })
                })
            }
        }, {
            key: "create",
            value: function() {
                var e = this;
                return this.isLoading = !0, this.generateTeachersGroups(), this._parentsEveningService.create(this.scope.model, !1).then(function(t) {
                    e._modalDefaultService.clear(), e._notificationService.showSuccessNotification("Success");
                    var n = e._userService.user.activeChild && e._userService.user.activeChild.id;
                    return e._userService.checkRole("parent") && e._userService.checkRole("employee") && n ? e._parentsEveningService.fetchAll({
                        learner_id: n
                    }) : e._parentsEveningService.fetchAll()
                }).finally(function() {
                    return e.isLoading = !1
                })
            }
        }, {
            key: "openOverallocatedTeachersModal",
            value: function() {
                var e = {
                    id: "modal-overallocated-teachers",
                    scope: {
                        teachers: this.scope && this.scope.teachers
                    },
                    title: "Overallocated teachers by"
                };
                this._modalDefaultService.push(e)
            }
        }, {
            key: "getFormattedTeachers",
            value: function(e) {
                return e.reduce(function(e, t) {
                    return "" + e + (e && ", ") + t.fullName
                }, "")
            }
        }, {
            key: "formatData",
            value: function() {
                var e = this,
                    t = [];
                return (0, n.default)(this.scope.teaching_groups).forEach(function(n) {
                    e.scope.teaching_groups[n].forEach(function(i) {
                        var a = i.selectedTeachers ? e.getFormattedTeachers(i.selectedTeachers) : "-",
                            s = i.teachers.filter(function(e) {
                                return !i.selectedTeachers.find(function(t) {
                                    return e.id === t.id
                                })
                            }),
                            r = s.length ? e.getFormattedTeachers(s) : "-",
                            o = [];
                        !n || o.push(n), !i.name || o.push(i.name), o.push(a), o.push(r), t.push(o)
                    })
                }), [
                    ["Teaching Groups"],
                    ["Subject", "Teaching Group", "Selected Teachers", "Not Selected"]
                ].concat(t)
            }
        }, {
            key: "downloadCSV",
            value: function() {
                var e = this.formatData();
                this._attachmentsService.downloadCSV(e, "Checking sheet")
            }
        }]), e
    }();
    exports.default = r
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2806));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-preview-message", []).component("modalPreviewMessage", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(2807),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    t(2808);
    var s = {
        template: a.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-preview-message">\n  <s-header gradient="{ from: \'#4889ec\', to: \'#4ba8e7\'}"></s-header>\n  <b-preview-documents report="$ctrl.scope.scope.report"\n                       users="$ctrl.scope.scope.users"\n                       submit="$ctrl.scope.scope.submit({ date })"\n  ></b-preview-documents>\n</div>\n'
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2810));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-register-write", []).component("modalRegisterWrite", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(2811),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    t(2812);
    var s = {
        template: a.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-register-write">\n  <div class="modal-register-write__content">\n    <div class="modal-register-write__content-left {{ ::$ctrl.scope.extraClass }}">\n      <l-student-points></l-student-points>\n    </div>\n    <div class="modal-register-write__content-right">\n      <f-student-points type="$ctrl.scope.type"></f-student-points>\n    </div>\n  </div>\n</div>\n'
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2814));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-rename-folder", []).component("modalRenameFolder", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(2815),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    t(2816);
    var s = {
        template: a.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-rename-folder">\n  <f-rename-folder scope="$ctrl.scope"></f-rename-folder>\n</div>\n'
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2818));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-report-card", []).component("modalReportCard", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2819)),
        i = a(t(2820));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2821);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-report-card">\n  <b-loader ng-if="$ctrl.isLoading"></b-loader>\n  <b-report-card ng-if="!$ctrl.isLoading"\n                 report-card="$ctrl.reportCard"\n                 readonly="$ctrl.scope.readonly"\n                 save="$ctrl.save({ days, reportCardId })"\n                 cancel="$ctrl.hideModal()"\n  ></b-report-card>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r) {
            "ngInject";
            (0, n.default)(this, e), this._$filter = s, this._registersService = t, this._modalDefaultService = i, this._notificationService = a, this._dateService = r, this.isLoading = !1, this.dateFormat = this._dateService.getDateFormat("defaultDate"), this.initialCardDays = [], this.reportCard = {
                card: null,
                learner: null
            }
        }
        return e.$inject = ["registersService", "modalDefaultService", "notificationService", "$filter", "dateService"], (0, i.default)(e, [{
            key: "$onInit",
            value: function() {
                this.getReportCardFromDb()
            }
        }, {
            key: "save",
            value: function(e) {
                var t = this,
                    n = e.days,
                    i = {
                        report_card_id: e.reportCardId,
                        classes: this.getChangedClasses(n, this.initialCardDays)
                    };
                return this._registersService.updateReportCard(i).then(function() {
                    t._notificationService.showSuccessNotification("Success"), t.hideModal()
                })
            }
        }, {
            key: "getChangedClasses",
            value: function(e, t) {
                return e.reduce(function(e, n) {
                    var i = t.find(function(e) {
                        return e.date === n.date
                    });
                    return n.classes.forEach(function(t) {
                        var n = i.classes.find(function(e) {
                            return e.event_instance_id === t.event_instance_id
                        });
                        if (!angular.equals(t, n)) {
                            var a = {
                                event_instance_id: t.event_instance_id,
                                comments: t.comments,
                                initials: t.initials,
                                targets: t.targets
                            };
                            e.push(a)
                        }
                    }), e
                }, [])
            }
        }, {
            key: "getFormattedDate",
            value: function(e, t) {
                return this._$filter("date")(new Date(e), t)
            }
        }, {
            key: "hideModal",
            value: function() {
                this._modalDefaultService.pop()
            }
        }, {
            key: "getReportCardFromDb",
            value: function() {
                var e = this;
                this.isLoading = !0, this._registersService.getReportCardFromDb(this.scope.reportCardId).then(function(t) {
                    e.reportCard.card = t.card, e.reportCard.learner = t.learner, e.reportCard.card.days.forEach(function(t) {
                        return t.date = e.getFormattedDate(t.date, e.dateFormat)
                    }), e.reportCard.card.start_date = e.getFormattedDate(e.reportCard.card.start_date, e.dateFormat), e.reportCard.card.end_date = e.getFormattedDate(e.reportCard.card.end_date, e.dateFormat), e.initialCardDays = angular.copy(e.reportCard.card.days)
                }).catch(function() {
                    return e.hideModal()
                }).finally(function() {
                    e.isLoading = !1
                })
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2823));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-reset-password", []).component("modalResetPassword", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(2824),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    t(2825);
    var s = {
        template: a.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-reset-password">\n  <f-reset-password token="$ctrl.scope.token"></f-reset-password>\n</div>\n'
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2827));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-select-contacts", []).component("modalSelectContacts", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(2828),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    t(2829);
    var s = {
        template: a.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-select-contacts">\n  <f-select-contacts\n    on-add-contacts="$ctrl.scope.onAddContacts(model)"\n    on-cancel="$ctrl.scope.onCancel()"\n    contacts="$ctrl.scope.contacts"\n  ></f-select-contacts>\n</div>\n'
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2831));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-select-date", []).component("modalSelectDate", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(2832),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    t(2833);
    var s = {
        template: a.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-select-date">\n  <f-select-date add="$ctrl.scope.select({ from, to })" cancel="$ctrl.scope.cancel()"></f-select-date>\n</div>\n'
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2835));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-select-date-range", []).component("modalSelectDateRange", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(2836),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    t(2837);
    var s = {
        template: a.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-select-date-range">\n  <f-select-date-range add="$ctrl.scope.select({ from, to })"\n                       from="$ctrl.scope.from"\n                       max-days-range="$ctrl.scope.maxDaysRange"\n                       cancel="$ctrl.scope.cancel()"></f-select-date-range>\n</div>\n'
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2839));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-select-detention", []).component("modalSelectDetention", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(2840),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    t(2841);
    var s = {
        template: a.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-select-detention">\n  <f-select-detention scope="$ctrl.scope"></f-select-detention>\n</div>\n'
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2843));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-select-event-source", []).component("modalSelectEventSource", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2844)),
        i = a(t(2845));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2846);
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-select-event-source">\n  <b-select-event-source></b-select-event-source>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(1),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    var s = function e(t, n) {
        "ngInject";
        (0, a.default)(this, e), this._modalDefaultService = n
    };
    s.$inject = ["$scope", "modalDefaultService"], exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2848));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-select-learners", []).component("modalSelectLearners", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(2849),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    t(2850);
    var s = {
        template: a.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-select-learners">\n  <s-header gradient="$ctrl.scope.gradient"></s-header>\n  <b-select-learners-recipients\n    is-save="$ctrl.scope.isSave"\n    employee-id="$ctrl.scope.employee_id"\n    learner-ids="$ctrl.scope.learnerIds"\n    on-select="$ctrl.scope.onSelect"\n    status-filter="$ctrl.scope.statusFilter"\n  ></b-select-learners-recipients>\n</div>\n'
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2852));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-select-recipients", []).component("modalSelectRecipients", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(2853),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    t(2854);
    var s = {
        template: a.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = "<div class=\"modal-select-recipients\">\n  <s-header gradient=\"{ from: '#e95555', to: '#e95555'}\"></s-header>\n  <b-recipients-select></b-recipients-select>\n</div>\n"
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2856));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-select-respondents", []).component("modalSelectRespondents", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(2857),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    t(2858);
    var s = {
        template: a.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-select-respondents">\n  <s-header gradient="{ from: \'#e95555\', to: \'#e95555\'}"></s-header>\n  <b-select-respondents status="$ctrl.scope.status"></b-select-respondents>\n</div>\n'
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2860));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-select-slot", []).component("modalSelectSlot", i.default).run(["$templateCache", function(e) {
        "ngInject";
        e.put("modalSelectSlot", '<modal-select-slot scope="scope"></modal-select-slot>')
    }]).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2861)),
        i = a(t(2862));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2863);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-select-slot">\n    <div class="modal-select-slot__time modal-select-slot__row">\n        Date: <span>{{ $ctrl.scope.slots[0].date }}</span>\n    </div>\n    <div class="f-default__select-mobile-wrap modal-select-slot__select modal-select-slot__row">\n        <select class="f-default__select-mobile"\n                ng-model="$ctrl.slot"\n                ng-change="$ctrl.clearParentId($ctrl.slot)"\n                ng-options="slot.mobileText disable when !slot.available for slot in $ctrl.scope.slots">\n            <option value="" disabled selected hidden>Choose subject...</option>\n        </select>\n    </div>\n\n    <div class="f-default__select-mobile-wrap modal-select-slot__select modal-select-slot__row" ng-if="$ctrl.slot && $ctrl.slot.parents">\n        <select class="f-default__select-mobile modal-select-slot__select-mobile"\n                ng-model="$ctrl.slot.parent_id">\n        <option value="" selected disabled hidden>Select parent</option>\n        <option ng-repeat="parent in $ctrl.slot.parents track by $index" value="{{::parent.id}}">{{::parent.forename}} {{::parent.surname}}</option>\n        </select>\n    </div>\n\n    <div class="modal-select-slot__row">\n        <textarea class="modal-select-slot__textarea f-default__textarea" \n                  name="comment"\n                  placeholder="Add comment"\n                  ng-model="$ctrl.note"></textarea>\n    </div>\n    <div class="modal-select-slot__row _footer">\n      <button type="button"\n              ng-click="$ctrl.hideModal()"\n              class="modal-select-slot__button btn btn-default _gray _fill _small _half-width">Cancel</button>\n      <button type="button"\n              class="modal-select-slot__button btn btn-default _green _fill _small _half-width"\n              ng-disabled="!$ctrl.slot || ($ctrl.slot.parents && !$ctrl.slot.parent_id)"\n              ng-click="$ctrl.onBook()">Book\n      </button>\n    </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i) {
            "ngInject";
            (0, n.default)(this, e), this._$scope = i, this._modalDefaultService = t
        }
        return e.$inject = ["modalDefaultService", "$scope"], (0, i.default)(e, [{
            key: "hideModal",
            value: function() {
                this._$scope.$emit("hideModal")
            }
        }, {
            key: "clearParentId",
            value: function(e) {
                e.parent_id = null
            }
        }, {
            key: "onBook",
            value: function() {
                if (this.slot) {
                    var e = this.slot,
                        t = e.event_id,
                        n = e.teacher_id,
                        i = {
                            notes_to_teacher: this.note,
                            event_id: t,
                            teacher_id: n,
                            learner_id: e.learner.id,
                            slot_id: e.slot.slot_id
                        };
                    this.scope.book && this.scope.book(i)
                }
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2865));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-select-teacher", []).component("modalSelectTeacher", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2866)),
        i = a(t(2867));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2868);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-select-teacher">\n  <f-select-teacher teachers="$ctrl.scope.teachers"\n                    period="$ctrl.scope.period"\n                    is-admin="$ctrl.scope.isAdmin"\n                    room="$ctrl.scope.room"\n  ></f-select-teacher>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(1),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    exports.default = function e() {
        "ngInject";
        (0, a.default)(this, e)
    }
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2870));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-select-user", []).component("modalSelectUser", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(2871),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    t(2872);
    var s = {
        template: a.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-select-user">\n  <f-select-user scope="$ctrl.scope"></f-select-user>\n</div>\n'
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2874));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-select-users", []).component("modalSelectUsers", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(2875),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    t(2876);
    var s = {
        template: a.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-select-users">\n  <s-header gradient="{ from: \'#e95555\', to: \'#e95555\'}"></s-header>\n  <b-select-users scope="$ctrl.scope"></b-select-users>\n</div>\n'
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2878));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-send-message", []).component("modalSendMessage", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(2879),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    t(2880);
    var s = {
        template: a.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-send-message">\n    <f-confirm-message cancel="$ctrl.scope.cancel()"\n                       recipients-number="$ctrl.scope.recipientsNumber"\n                       send="$ctrl.scope.send()"></f-confirm-message>\n</div>\n'
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2882));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-show-attachments", []).component("modalShowAttachments", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2883)),
        i = a(t(2884));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2885);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-show-attachments">\n  <l-attachments class="modal-show-attachments__attachments"\n                 download="$ctrl.scope.download({ attachmentId })"\n                 attachments="$ctrl.scope.attachments"></l-attachments>\n  <button type="button" class="btn btn-default _small _green _fill modal-show-attachments__btn"\n          ng-click="$ctrl.hideModal()">OK</button>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t) {
            "ngInject";
            (0, n.default)(this, e), this._modalDefaultService = t
        }
        return e.$inject = ["modalDefaultService"], (0, i.default)(e, [{
            key: "hideModal",
            value: function() {
                this._modalDefaultService.pop()
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2887));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-attendance-overview", []).component("modalAttendanceOverview", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(2888),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    t(2889);
    var s = {
        template: a.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-attendance-overview" style="height: 80vh;\n    overflow-y: auto;">\n  <t-attendance-overview data="$ctrl.scope.data"></t-attendance-overview>\n</div>\n'
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2891));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-show-homework", []).component("modalShowHomework", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(2892),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    t(2893);
    var s = {
        template: a.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-show-homework">\n  <t-homework-preview homeworks="$ctrl.scope.homeworks"></t-homework-preview>\n</div>\n'
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2895));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-show-learners", []).component("modalShowLearners", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(2896),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    t(2897);
    var s = {
        template: a.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-show-learners">\n  <l-related-learners learners="$ctrl.scope.learners"></l-related-learners>\n</div>\n'
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2899));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-show-message", []).component("modalShowMessage", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(2900),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    t(2901);
    var s = {
        template: a.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-show-message">\n  <div class="modal-show-message__message">\n    {{ ::$ctrl.scope.message }}\n  </div>\n  <div class="modal-show-message__actions">\n    <button type="button" class="modal-show-message__btn btn btn-default _green _small _fill"\n            ng-click="$ctrl.scope.onCancel()"\n    >Cancel</button>\n  </div>\n</div>\n'
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2903));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-show-notice", []).component("modalShowNotice", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(2904),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    t(2905);
    var s = {
        template: a.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-show-notice">\n  <f-notice scope="$ctrl.scope"></f-notice>\n</div>\n'
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2907));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-show-recipients", []).component("modalShowRecipients", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(2908),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    t(2909);
    var s = {
        template: a.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-show-recipients">\n  <l-show-recipients recipients="$ctrl.scope.recipients"></l-show-recipients>\n</div>\n'
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2911));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-show-resource-info", []).component("modalShowResourceInfo", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(2912),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    t(2913);
    var s = {
        template: a.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-show-resource-info">\n  {{ $ctrl.scope }}\n</div>\n'
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2915));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-show-slots", []).component("modalShowSlots", i.default).run(["$templateCache", function(e) {
        "ngInject";
        e.put("modalShowSlots", '<modal-show-slots scope="scope"></modal-show-slots>')
    }]).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2916)),
        i = a(t(2917));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2918);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-show-slots">\n  <t-slots sessions="$ctrl.scope.sessions"\n           is-toggle="false"\n           select="$ctrl.scope.select({ slot, learner_id, parent_id })"\n           is-booking="true"></t-slots>\n\n  <div class="modal-show-slots__row">\n    <button type="button" ng-click="$ctrl._closeModal()" class="modal-show-slots__button btn btn-default">Close</button>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t) {
            "ngInject";
            (0, n.default)(this, e), this._modalDefaultService = t
        }
        return e.$inject = ["modalDefaultService"], (0, i.default)(e, [{
            key: "_closeModal",
            value: function() {
                this._modalDefaultService.pop()
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2920));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-slot-info", []).component("modalSlotInfo", i.default).run(["$templateCache", function(e) {
        "ngInject";
        e.put("modalSlotInfo", '<modal-slot-info scope="scope"></modal-slot-info>')
    }]).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2921)),
        i = a(t(2922));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2923);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-slot-info" ng-init="slot = $ctrl.scope.slot">\n    <div class="modal-slot-info__row">\n        <b>Date</b>: {{ slot.date }}\n    </div>\n    <div class="modal-slot-info__row">\n        <b>Subjects</b>: {{ slot.subject }}\n    </div>\n    <div class="modal-slot-info__row">\n        <b>Learner</b>: {{ slot.learner.name }}\n    </div>\n    <div class="modal-slot-info__row _last-info">\n        <b>Note</b>: {{ slot.notes_to_teacher || \'-\' }}\n    </div>\n\n    <div class="modal-slot-info__row _footer">\n      <button type="button"\n              ng-click="$ctrl.hideModal()"\n              class="modal-slot-info__button btn btn-default _gray _fill _small _half-width">Close</button>\n      <button type="button"\n              class="modal-slot-info__button btn btn-default _red _fill _small _half-width"\n              ng-click="$ctrl.onUnbook()">Unbook\n      </button>\n    </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i) {
            "ngInject";
            (0, n.default)(this, e), this._$scope = i, this._modalDefaultService = t
        }
        return e.$inject = ["modalDefaultService", "$scope"], (0, i.default)(e, [{
            key: "hideModal",
            value: function() {
                this._$scope.$emit("hideModal")
            }
        }, {
            key: "onUnbook",
            value: function() {
                var e = this.scope.slot,
                    t = {
                        event_id: e.event_id,
                        teacher_id: e.teacher_id,
                        learner_id: e.learner.id
                    };
                this.scope.unbook && this.scope.unbook(t)
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2925));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-teacher-book", []).component("modalTeacherBook", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2926)),
        i = a(t(2927));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2928);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-teacher-book">\n  <f-teacher-book on-book="$ctrl.scope.onBook({ event_id, employee_id })"></f-teacher-book>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(1),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    var s = function e(t, n, i) {
        "ngInject";
        (0, a.default)(this, e), n.isAdmin && t.$on("$destroy", function() {
            i.clearSelectedStudents()
        })
    };
    s.$inject = ["$scope", "parentsEveningService", "studentsService"], exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2930));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-slots-info", []).component("modalSlotsInfo", i.default).run(["$templateCache", function(e) {
        "ngInject";
        e.put("modalSlotsInfo", '<modal-slots-info scope="scope"></modal-slots-info>')
    }]).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2931)),
        i = a(t(2932));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2933);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-slots-info" ng-init="slot = $ctrl.scope.slot">\n    <f-unbook-slot class="modal-slots-info__row"\n                   ng-repeat="model in $ctrl.bookedSlots"\n                   model="model"\n                   unbook="$ctrl.onUnbook({ slot })"></f-unbook-slot>\n    <f-book-slot class="modal-slots-info__row"\n                 ng-if="$ctrl.scope.isMobile && $ctrl.hasAvailable"\n                 slots="$ctrl.scope.slots"\n                 book="$ctrl.onBook({ slot })"></f-book-slot>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a) {
            "ngInject";
            (0, n.default)(this, e), this._userService = a, this._$scope = i, this._modalDefaultService = t, this._scope = {}
        }
        return e.$inject = ["modalDefaultService", "$scope", "userService"], (0, i.default)(e, [{
            key: "hideModal",
            value: function() {
                this._$scope.$emit("hideModal")
            }
        }, {
            key: "onUnbook",
            value: function(e) {
                var t = e.slot,
                    n = {
                        event_id: t.event_id,
                        teacher_id: t.teacher_id,
                        learner_id: t.learner.id
                    };
                this._userService.checkRole("employee") && this._userService.user.activeStudent && (n.parent_id = t.parent_id), this.scope.unbook && this.scope.unbook(n)
            }
        }, {
            key: "onBook",
            value: function(e) {
                var t = e.slot;
                this.scope.book && this.scope.book(t)
            }
        }, {
            key: "scope",
            set: function(e) {
                e && (this.bookedSlots = e.slots && e.slots.filter(function(e) {
                    return e.slot.booked
                }), this.hasAvailable = e.slots && !!e.slots.find(function(e) {
                    return e.slot.available && !e.slot.booked
                }), this._scope = e)
            },
            get: function() {
                return this._scope
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2935));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-teachers-select", []).component("modalTeachersSelect", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2936)),
        i = a(t(2937));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2938);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            scope: "="
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-teachers-select">\n  <div class="modal-teachers-select__row">\n    <div ng-dropdown-multiselect\n         options="$ctrl.scope.teachers"\n         selected-model="$ctrl.scope.selectedTeachers"\n         translation-texts="$ctrl.data.translation"\n         extra-settings="$ctrl.data.settings"\n    ></div>\n  </div>\n  <div class="modal-teachers-select__row">\n    <button type="button" class="modal-teachers-select__btn btn btn-default"\n            ng-click="$ctrl.hideModal()"\n    >Close</button>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t) {
            "ngInject";
            (0, n.default)(this, e), this._modalDefaultService = t, this.initValues()
        }
        return e.$inject = ["modalDefaultService"], (0, i.default)(e, [{
            key: "initValues",
            value: function(e) {
                this.data && !e || (this.data = {
                    settings: {
                        smartButtonMaxItems: 5,
                        scrollableHeight: "255px",
                        scrollable: !0,
                        enableSearch: !0,
                        displayProp: "fullName",
                        checkBoxes: !0
                    },
                    translation: {
                        buttonDefaultText: "Select Teachers"
                    }
                })
            }
        }, {
            key: "hideModal",
            value: function() {
                this._modalDefaultService.pop()
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2940));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-update-learners", []).component("modalUpdateLearners", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(2941),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    t(2942);
    var s = {
        template: a.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-update-learners">\n  <f-update-learners params="$ctrl.scope.params"></f-update-learners>\n</div>\n'
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2944));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-users", []).component("modalUsers", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2945)),
        i = a(t(2946));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2947);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-users">\n  <l-users users="$ctrl.scope.users" configs="$ctrl.scope.configs"></l-users>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(1),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    var s = function e(t) {
        "ngInject";
        (0, a.default)(this, e), this._modalDefaultService = t
    };
    s.$inject = ["modalDefaultService"], exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2949));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-view-forms", []).component("modalViewForms", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(2950)),
        i = a(t(2951));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(2952);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-view-forms">\n  <f-view-forms ng-if="!$ctrl.isLoading" form="$ctrl.form" personal="$ctrl.scope.personal"></f-view-forms>\n  <div class="modal-view-forms__loader" ng-if="$ctrl.isLoading">\n    <b-loader></b-loader>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i) {
            "ngInject";
            (0, n.default)(this, e), this.form = null, this.isLoading = !0, this.learner = null, this._studentsService = t, this._state = i
        }
        return e.$inject = ["studentsService", "$state"], (0, i.default)(e, [{
            key: "$onInit",
            value: function() {
                var e = this;
                this.scope.onInit().then(function(t) {
                    return e.form = t
                }).finally(function() {
                    return e.isLoading = !1
                })
            }
        }, {
            key: "$onDestroy",
            value: function() {
                this._studentsService.students.students.length && this._studentsService.clearLearners(), this.form.modified && this._state.reload()
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2954));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-view-seating", []).component("modalViewSeating", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(2955),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    t(2956);
    var s = {
        template: a.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-view-seating">\n  <f-seating-plan seating-plan="$ctrl.scope.seatingPlan"\n                  view-mode="$ctrl.scope.viewMode"></f-seating-plan>\n</div>\n'
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2958));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-child-protection", []).component("modalChildProtection", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(2959),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    t(2960);
    var s = {
        template: a.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-child-protection">\n  <b-child-protection scope="$ctrl.scope"></b-child-protection>\n</div>\n'
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2962));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-modify-location", []).component("modalModifyLocation", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(2963),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    t(2964);
    var s = {
        template: a.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-modify-location">\n  <b-modify-location scope="$ctrl.scope"></b-modify-location>\n</div>\n'
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2966));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-new-call", []).component("modalNewCall", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(2967),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    t(2968);
    var s = {
        template: a.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-new-call">\n  <b-new-call scope="$ctrl.scope"></b-new-call>\n</div>\n'
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2970));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-new-snippet", []).component("modalNewSnippet", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(2971),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    t(2972);
    var s = {
        template: a.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-new-snippet">\n  <f-new-snippet scope="$ctrl.scope"></f-new-snippet>\n</div>\n'
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2974));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-add-referral", []).component("modalAddReferral", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(2975),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    t(2976);
    var s = {
        template: a.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-add-referral">\n  <f-add-referral scope="$ctrl.scope"></f-add-referral>\n</div>\n'
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2978));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-add-strategy", []).component("modalAddStrategy", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(2979),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    t(2980);
    var s = {
        template: a.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-add-strategy">\n  <f-add-strategy scope="$ctrl.scope"></f-add-strategy>\n</div>\n'
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2982));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-update-field", []).component("modalUpdateField", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(2983),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    t(2984);
    var s = {
        template: a.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-update-field">\n  <f-update-field update="$ctrl.scope.update({ value })"\n                  cancel="$ctrl.scope.cancel()"\n                  title="$ctrl.scope.title"\n                  initial-value="$ctrl.scope.initialValue"\n  ></f-update-field>\n</div>\n'
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2986));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-update-input-field", []).component("modalUpdateInputField", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(2987),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    t(2988);
    var s = {
        template: a.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-update-input-field">\n  <f-update-input-field update="$ctrl.scope.update({ value })"\n                  cancel="$ctrl.scope.cancel()"\n                  title="$ctrl.scope.title"\n                  options="$ctrl.scope.options"\n                  initial-value="$ctrl.scope.initialValue"\n  ></f-update-input-field>\n</div>\n'
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2990));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-update-sessions", []).component("modalUpdateSessions", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(2991),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    t(2992);
    var s = {
        template: a.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-update-sessions">\n  <f-update-sessions update="$ctrl.scope.update({ value })"\n                     cancel="$ctrl.scope.cancel()"\n                     sessions="$ctrl.scope.sessions"\n  ></f-update-sessions>\n</div>\n'
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2994));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-update-date", []).component("modalUpdateDate", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(2995),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    t(2996);
    var s = {
        template: a.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-update-date">\n  <f-update-date update="$ctrl.scope.update({ model })"\n                 cancel="$ctrl.scope.cancel()"\n                 initial-value="$ctrl.scope.initialValue"\n  ></f-update-date>\n</div>\n'
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(2998));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-available-grades", []).component("modalAvailableGrades", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(2999),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    t(3e3);
    var s = {
        template: a.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-available-grades">\n  <ul class="modal-available-grades__list">\n    <li class="modal-available-grades__item" ng-repeat="grade in $ctrl.scope.grades">\n      {{ ::grade.value }}\n    </li>\n  </ul>\n</div>\n'
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3002));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("medical-test", []).component("modalMedicalTestSubmit", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(3003)),
        i = a(t(3004));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(3005);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-add-group modal-medical-test-submit">\n  <form class="f-add-group">\n      <div  ng-if="!$ctrl.textError">\n          <div class="modal-medical-test-submit-text">\n              {{$ctrl.scope.data.name}} test result submission for {{$ctrl.scope.data.scheduled}}, please select the test result and click submit\n          </div>\n          <label class="f-default__radio f-default__label modal-medical-test-submit_radio" ng-repeat="option in $ctrl.results">\n              <input type="radio" name="\'data.result\'"\n                     ng-model="$ctrl.data.result"\n                     ng-value="option"\n              >\n              <span class="f-default__radio-text f-submit_radio__radio-text modal-medical-test-submit_test_radio">{{ option }}</span>\n          </label>\n      </div>\n\n\n      <div ng-if="$ctrl.textError">\n          <pre class="modal-medical-test-submit-text" style="\n            white-space: pre-line;\n            font-family: \'Helvetica Neue\'">\n              {{ $ctrl.textError }}\n          </pre>\n      </div>\n\n    <div class="f-default__row-default">\n      <div class="f-default__col-wrap" style="display: flex">\n        <div class="f-default__col" ng-if="!$ctrl.textError" style="width: 100%">\n          <button class="f-add-group__button _save"\n                  ng-class="{ \'_disable\': !$ctrl.data.result }"\n                  ng-click="$ctrl.submit()">\n            Save\n          </button>\n        </div>\n        <div class="f-default__col"  style="width: 100%">\n          <button class="f-add-group__button _cancel" ng-click="$ctrl.hideModal()">Cancel</button>\n        </div>\n      </div>\n    </div>\n  </form>\n\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(10)),
        i = s(t(1)),
        a = s(t(2));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = function() {
        function e(t, n, a) {
            "ngInject";
            (0, i.default)(this, e), this._$scope = t, this._notificationService = n, this._medicalTestDataService = a, this.results = ["positive", "negative", "void"], this.data = {}, this.textError = ""
        }
        return e.$inject = ["$scope", "notificationService", "medicalTestDataService"], (0, a.default)(e, [{
            key: "submit",
            value: function() {
                var e = this,
                    t = (0, n.default)({}, this.data, {
                        request_id: this.scope.data.id
                    });
                this._medicalTestDataService.submitMedicalTestData(t).then(function(t) {
                    return e._notificationService.showSuccessNotification("Medical test was successfully updated"), t.guidance ? e.textError = t.guidance : e.hideModal(), e._medicalTestDataService.getMedicalTestDataFromDb()
                }).then(function() {
                    return e.scope.update()
                })
            }
        }, {
            key: "hideModal",
            value: function() {
                this._$scope.$emit("hideModal"), this.textError = ""
            }
        }]), e
    }();
    exports.default = r
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3007));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-add-time-test", []).component("modalAddTimeTest", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(3008),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    t(3009);
    var s = {
        template: a.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-club-sessions">\n  <f-add-time-test scope="$ctrl.scope"></f-add-time-test>\n</div>\n'
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3011));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("modal-show-copied", []).component("modalShowCopied", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(3012)),
        i = a(t(3013));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(3014);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            scope: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="modal-show-copied">\n    <div class="modal-show-copied__container">\n        <div class="modal-show-copied__list">\n            <div class="modal-show-copied__list__item" ng-repeat="table in $ctrl.scope.scope.copied track by $index">\n                <div>{{ table.name }}</div>\n                <div class="svg-container">\n                    <svg-use title="Has replied" ng-if="table.is_reply" name="replied"></svg-use>\n                    <svg-use title="Has read" ng-if="table.is_read && !table.is_reply" name="eyes"></svg-use>\n                    <svg-use title="Has not read" ng-if="!table.is_read && !table.is_reply" name="cross"></svg-use>\n                </div>\n            </div>\n        </div>\n    </div>\n    <button type="button" class="btn btn-default _small _green _fill"\n            ng-click="$ctrl.hideModal()">OK\n    </button>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t) {
            "ngInject";
            (0, n.default)(this, e), this._modalDefaultService = t
        }
        return e.$inject = ["modalDefaultService"], (0, i.default)(e, [{
            key: "hideModal",
            value: function() {
                this._modalDefaultService.pop()
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = h(t(0)),
        i = h(t(3016)),
        a = h(t(3020)),
        s = h(t(3025)),
        r = h(t(3029)),
        o = h(t(3033)),
        l = h(t(3037)),
        c = h(t(3042)),
        d = h(t(3047)),
        u = h(t(3052)),
        _ = h(t(3058)),
        f = h(t(3063)),
        v = h(t(3068)),
        m = h(t(3072));

    function h(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var p = n.default.module("app.previews", [i.default, a.default, s.default, r.default, o.default, l.default, c.default, d.default, u.default, _.default, f.default, v.default, m.default]).name;
    exports.default = p
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3017));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("pr-child-selector", []).component("prChildSelector", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(3018)),
        i = a(t(3019));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="pr-child-selector"\n     ng-if="$ctrl._windowWidthService.windowWidth < $ctrl._deviceMarginConstants.MOBILE_MARGIN && $ctrl.firstPartOfCurrentState !== \'student\' && $ctrl.hasActiveChild">\n  <pr-user-selector\n    change-callback="$ctrl.selectChild(args)"\n    photo="$ctrl.photo"\n    children="$ctrl.activeChildren"\n    users-list="$ctrl.children"\n    text="Select Children"></pr-user-selector>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r, o, l) {
            "ngInject";
            (0, n.default)(this, e), this._$state = t, this._$stateParams = i, this._deviceMarginConstants = o, this._windowWidthService = r, this._routeClassService = a, this._userService = s, this._studentsService = l
        }
        return e.$inject = ["$state", "$stateParams", "routeClassService", "userService", "windowWidthService", "deviceMarginConstants", "studentsService"], (0, i.default)(e, [{
            key: "selectChild",
            value: function(e) {
                "exams.list" === this._routeClassService.fullStateName && e.id !== this._userService.user.activeChild.id && this._$state.transitionTo(this._$state.current, this._$stateParams, {
                    notify: !1,
                    inherit: !1,
                    reload: this._$state.current.name
                }), this._userService.user.activeChild = e
            }
        }, {
            key: "photo",
            get: function() {
                return this._userService.user.activeChild.photo || this._studentsService.getDefaultPhoto(this._userService.user.activeChild)
            }
        }, {
            key: "children",
            get: function() {
                return this._userService.user.children
            }
        }, {
            key: "firstPartOfCurrentState",
            get: function() {
                return this._routeClassService.firstPartOfCurrentState
            }
        }, {
            key: "hasActiveChild",
            get: function() {
                return this._userService.user.activeChildIndex >= 0
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3021));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("pr-couple", []).component("prCouple", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(3022)),
        i = a(t(3023));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(3024);
    var s = {
        controller: i.default,
        template: n.default,
        restrict: "E",
        bindings: {
            config: "<",
            data: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="pr-couple" ng-click="$ctrl.goToPage($event)">\n  <span class="pr-couple__icon" ng-style="::{\n    \'background-image\': $ctrl.background\n  }">\n    <svg-use name="{{ ::$ctrl.svgName }}" ng-style="::{\n      \'width\': $ctrl.config.width,\n      \'height\': $ctrl.config.height\n    }"></svg-use>\n  </span>\n  <span class="pr-couple__content">\n    <span class="pr-couple__title">{{ $ctrl.title }}</span>\n    <span class="pr-couple__body">{{ $ctrl.body }}</span>\n    <span class="pr-couple__footer">{{ $ctrl.footer }}</span>\n  </span>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e() {
            (0, n.default)(this, e)
        }
        return (0, i.default)(e, [{
            key: "background",
            get: function() {
                return this.config && this.config.background
            }
        }, {
            key: "svgName",
            get: function() {
                return this.config && this.config.svgName
            }
        }, {
            key: "title",
            get: function() {
                return this.data && this.data.title
            }
        }, {
            key: "body",
            get: function() {
                return this.data && this.data.body
            }
        }, {
            key: "footer",
            get: function() {
                return this.data && this.data.footer
            }
        }, {
            key: "goToPage",
            get: function() {
                return this.config && this.config.callback
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3026));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("pr-lesson", []).component("prLesson", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = i(t(3027));

    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var a = {
        restrict: "E",
        controller: i(t(3028)).default,
        template: n.default,
        bindings: {
            isNext: "<",
            lesson: "<",
            callback: "&"
        }
    };
    exports.default = a
}, function(e, exports) {
    e.exports = '<pr-couple config="$ctrl.config" data="$ctrl.data"></pr-couple>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r, o) {
            "ngInject";
            (0, n.default)(this, e), this._$timeout = a, this._delayConstantsService = t, this._authService = i, this._$state = o, this._routeClassService = r, this._menuService = s, this._routeClassService = r, this.initValues()
        }
        return e.$inject = ["delayConstantsService", "authService", "$timeout", "menuService", "routeClassService", "$state"], (0, i.default)(e, [{
            key: "initValues",
            value: function(e) {
                this.local && !e || (this.local = {
                    data: null,
                    config: null,
                    isNext: !1
                })
            }
        }, {
            key: "goToTimetable",
            value: function(e) {
                var t = this;
                if ("timetable.list" !== this._routeClassService.fullStateName) return "communicator" === this._routeClassService.firstPartOfCurrentState ? (this._routeClassService.isMenuIn = !0, this._authService.isNotFirstAuth = !1, this._menuService.menu = null, void this._$timeout(function() {
                    t._$state.transitionTo("timetable.list", {}, {
                        notify: !1
                    })
                }, this._delayConstantsService.WAIT_END_OF_STATE_ANIMATION_OUT + 200)) : void(this.callback && this.callback({
                    e: e,
                    config: {
                        state: "timetable.list"
                    }
                }))
            }
        }, {
            key: "data",
            get: function() {
                return this.local.data
            }
        }, {
            key: "config",
            get: function() {
                return this.local.config
            }
        }, {
            key: "isNext",
            set: function(e) {
                this.initValues(), this.local.isNext = e, this.local.config = {
                    background: e ? "linear-gradient(135deg, #ebae3d, #ebc33d)" : "linear-gradient(135deg, #1eafb2, #1eb39e)",
                    svgName: e ? "next" : "current",
                    callback: this.goToTimetable.bind(this),
                    width: "20px",
                    height: "20px"
                }
            }
        }, {
            key: "lesson",
            set: function(e) {
                this.initValues(), e && (this.local.data = {
                    title: (this.local.isNext ? "Next" : "Current") + " lesson",
                    body: (e.teaching_group && e.teaching_group.subject || "") + " - " + (e.teaching_group && e.teaching_group.name || ""),
                    footer: (e.room && e.room.name || "") + " / " + (e.teacher && e.teacher.title || "") + " " + (e.teacher && e.teacher.forename || "") + " " + (e.teacher && e.teacher.surname || "")
                })
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3030));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("pr-register", []).component("prRegister", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = i(t(3031));

    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var a = {
        controller: i(t(3032)).default,
        template: n.default,
        restrict: "E",
        bindings: {
            lesson: "<",
            callback: "&"
        }
    };
    exports.default = a
}, function(e, exports) {
    e.exports = '<pr-couple config="$ctrl.config" data="$ctrl.data"></pr-couple>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r, o, l, c, d, u) {
            "ngInject";
            (0, n.default)(this, e), this._$timeout = o, this._delayConstantsService = t, this._userService = s, this._requestService = a, this._authService = r, this._$state = d, this._routeClassService = c, this._menuService = l, this._registersService = u, this._educationalsService = i, this.initValues()
        }
        return e.$inject = ["delayConstantsService", "educationalsService", "requestService", "userService", "authService", "$timeout", "menuService", "routeClassService", "$state", "registersService"], (0, i.default)(e, [{
            key: "initValues",
            value: function(e) {
                this.local && !e || (this.local = {
                    local: null,
                    data: null,
                    config: {
                        background: "linear-gradient(135deg, #6e76c0, #3988c6)",
                        svgName: "registers",
                        callback: this.goToRegister.bind(this),
                        width: "22px",
                        height: "22px"
                    }
                })
            }
        }, {
            key: "goToRegister",
            value: function(e) {
                var t = this;
                if (e.preventDefault(), "registers.register" !== this._routeClassService.fullStateName)
                    if ("registers.lobby" !== this._routeClassService.fullStateName && "registers.change-teacher" !== this._routeClassService.fullStateName) {
                        var n = this._requestService.getDateToRequest(),
                            i = this._userService.user.id;
                        this._registersService.getRegistersFromDb({
                            date: n,
                            employee_id: i
                        }).then(function(n) {
                            if (t._registersService.registers = n, t._registersService.periods = n.periods, t._userService.checkRole("employee") && (t._userService.user.activeChild = null, t._userService.user.activeStudent = null), "communicator" === t._routeClassService.firstPartOfCurrentState) return t._routeClassService.isMenuIn = !0, t._authService.isNotFirstAuth = !1, t._menuService.menu = null, void t._$timeout(function() {
                                t._$state.transitionTo("registers.register", {
                                    id: t.local.lesson.register_id,
                                    page: "plan"
                                }, {
                                    notify: !1
                                })
                            }, t._delayConstantsService.WAIT_END_OF_STATE_ANIMATION_OUT + 200);
                            t.callback && t.callback({
                                e: e,
                                config: {
                                    state: "registers.register",
                                    params: {
                                        id: t.local.lesson.register_id,
                                        page: "marks"
                                    }
                                }
                            })
                        })
                    } else this._$state.transitionTo("registers.register", {
                        id: this.local.lesson.register_id,
                        page: "marks"
                    }, {
                        notify: !1
                    })
            }
        }, {
            key: "data",
            get: function() {
                return this.local.data
            }
        }, {
            key: "config",
            get: function() {
                return this.local.config
            }
        }, {
            key: "lesson",
            set: function(e) {
                this.initValues(), e && (this.local.lesson = e, this.local.data = {
                    title: "Current Register",
                    body: e && e.period_name,
                    footer: this.schoolCode
                })
            }
        }, {
            key: "schoolCode",
            get: function() {
                return this._educationalsService.currentEducational && this._educationalsService.currentEducational.schoolCode
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3034));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("pr-messages", []).component("prMessages", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(3035)),
        i = a(t(3036));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = {
        restrict: "E",
        bindings: {
            messages: "<",
            callback: "&"
        },
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<pr-couple config="$ctrl.config" data="$ctrl.data"></pr-couple>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t) {
            "ngInject";
            (0, n.default)(this, e), this._routeClassService = t, this.initValues()
        }
        return e.$inject = ["routeClassService"], (0, i.default)(e, [{
            key: "initValues",
            value: function(e) {
                this.local && !e || (this.local = {
                    data: null,
                    config: {
                        background: "linear-gradient(135deg, #fd6b5c, #eb5756)",
                        svgName: "envelope",
                        callback: this.goToMessages.bind(this),
                        width: "20px",
                        height: "16px"
                    }
                })
            }
        }, {
            key: "goToMessages",
            value: function(e) {
                "communicator" !== this._routeClassService.firstPartOfCurrentState && this.callback && this.callback({
                    e: e,
                    config: {
                        state: "communicator.mailbox"
                    }
                })
            }
        }, {
            key: "data",
            get: function() {
                return this.local.data
            }
        }, {
            key: "config",
            get: function() {
                return this.local.config
            }
        }, {
            key: "messages",
            set: function(e) {
                this.initValues(), e < 1 && (e = 0), this.local.data = {
                    title: "Messages",
                    body: e + " new message" + (e > 1 ? "s" : ""),
                    footer: ""
                }
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3038));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("pr-s-student", []).component("prSStudent", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(3039)),
        i = a(t(3040));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(3041);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            student: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="pr-s-student">\n  <div class="pr-s-student__avatar"\n    ng-style="{\'background-image\': \'url(\' + $ctrl._imagesConstants.DEFAULT_IMAGE + \')\'}"\n    binded-photo photo-url="{{ ::$ctrl.student.photo }}"\n  >\n  </div>\n  <div class="pr-s-student__info">\n    <div class="pr-s-student__name">{{ ::$ctrl.student.forename }} {{::$ctrl.student.surname }}</div>\n    <div class="pr-s-student__group"\n         ng-if="::($ctrl.student.year_group_id || $ctrl.student.form_group_id)"\n    >\n      {{ ::$ctrl.student.year_group_id | yearGroupIdFilter: \'year\' }} {{ ::$ctrl.student.form_group_id | yearGroupIdFilter: \'form\'}}\n    </div>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(1),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    var s = function e(t) {
        "ngInject";
        (0, a.default)(this, e), this._imagesConstants = t
    };
    s.$inject = ["imagesConstants"], exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3043));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("pr-student", []).component("prStudent", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(3044)),
        i = a(t(3045));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(3046);
    var s = {
        template: n.default,
        bindings: {
            title: "@",
            backLink: "@",
            bindedStudent: "<"
        },
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = "<div class=\"pr-student\" ng-if=\"$ctrl.rootStateName !== 'student'\">\n\n  <div class=\"pr-student__avatar\"\n    ng-style=\"{'background-image': 'url(' + $ctrl._imagesConstants.STUDENT_DEFAULT_IMAGE + ')'}\"\n    binded-photo photo-url=\"{{ $ctrl.student.photo.indexOf('base64') === -1 ? 'data:image/gif;base64,' + $ctrl.student.photo : $ctrl.student.photo}}\" photo-repeat=\"true\"></div>\n\n  <div class=\"pr-student__name\">{{ ::$ctrl.student.forename }} {{ ::$ctrl.student.surname }}</div>\n\n  <div class=\"pr-student__class-name\">{{ ::$ctrl.student.year_group_id | yearGroupIdFilter: 'year' }}, {{ ::$ctrl.student.form_group_id | yearGroupIdFilter: 'form'}}</div>\n\n</div>\n\n\n\n"
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r, o, l) {
            "ngInject";
            (0, n.default)(this, e), this._userService = l, this._$scope = t, this._menuService = i, this._imagesConstants = a, this._studentsService = s, this._routeClassService = o, this._userImageLoaderService = r, this.initValues()
        }
        return e.$inject = ["$scope", "menuService", "imagesConstants", "studentsService", "userImageLoaderService", "routeClassService", "userService"], (0, i.default)(e, [{
            key: "initValues",
            value: function(e) {
                !e && this.data || (this.data = {
                    student: null,
                    otherInfo: null,
                    comminityGroup: null,
                    yearGroup: null
                })
            }
        }, {
            key: "determineCurrentStudentPhoto",
            value: function() {
                var e = this,
                    t = this._$scope.$watch(function() {
                        return e.student
                    }, function(n) {
                        n && (n.photo || e._studentsService.students.getPhotos([n.id]).then(function(t) {
                            t.length && (t[0].photo = "data:image/gif;base64," + t[0].photo, e._userImageLoaderService.getPhotoFromId(n, t))
                        }), t())
                    })
            }
        }, {
            key: "$onInit",
            value: function() {
                this.determineCurrentStudentPhoto()
            }
        }, {
            key: "bindedStudent",
            set: function(e) {
                e && (this.initValues(), this.data.student = e.info, this.data.otherInfo = e.other)
            }
        }, {
            key: "otherInfo",
            get: function() {
                return this.data.otherInfo || {}
            }
        }, {
            key: "student",
            get: function() {
                return this.data.student
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3048));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("pr-student-selector", []).component("prStudentSelector", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(3049)),
        i = a(t(3050));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(3051);
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="pr-student-selector"\n  ng-if="$ctrl._windowWidthService.windowWidth <= $ctrl._deviceMarginConstants.MOBILE_MARGIN\n    && $ctrl.firstPartOfCurrentState === \'student\'"\n>\n  <pr-user-selector\n    change-callback="$ctrl.selectStudent(args)"\n    photo="$ctrl.photo"\n    users-list="$ctrl.students"\n    text="Select Students"\n  ></pr-user-selector>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(10)),
        i = s(t(1)),
        a = s(t(2));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = function() {
        function e(t, n, a, s, r, o, l) {
            "ngInject";
            (0, i.default)(this, e), this._deviceMarginConstants = o, this._windowWidthService = r, this._routeClassService = a, this._userService = s, this._studentsService = n, this._$state = l, this._$stateParams = t
        }
        return e.$inject = ["$stateParams", "studentsService", "routeClassService", "userService", "windowWidthService", "deviceMarginConstants", "$state"], (0, a.default)(e, [{
            key: "selectStudent",
            value: function(e) {
                var t = this._$stateParams;
                this._$state.transitionTo(this._routeClassService.fullStateName, (0, n.default)({}, t, {
                    studentId: e.id
                }), {
                    notify: !1
                }), this._userService.user.activeStudent = e
            }
        }, {
            key: "photo",
            get: function() {
                return this._userService.user.activeStudent.photo
            }
        }, {
            key: "students",
            get: function() {
                return this._studentsService.students.students
            }
        }, {
            key: "firstPartOfCurrentState",
            get: function() {
                return this._routeClassService.firstPartOfCurrentState
            }
        }, {
            key: "hasActiveStudent",
            get: function() {
                return !!this._userService.user.activeStudent
            }
        }]), e
    }();
    exports.default = r
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(0)),
        i = s(t(3053)),
        a = s(t(3057));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = n.default.module("pr-teacher", []).component("prTeacher", i.default).service({
        prTeacherService: a.default
    }).name;
    exports.default = r
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(3054)),
        i = a(t(3055));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(3056);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            name: "@",
            backLink: "@",
            submitMode: "<",
            currentTeacher: "<",
            searchLink: "@",
            data: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="pr-teacher"\n  lazy-photo\n  elements="$ctrl.teacher" config="$ctrl.config">\n  <b-title name="{{ ::$ctrl.name }}"\n    go-back="$ctrl.goHome()"\n    sref="{{ ::$ctrl.backLink }}"></b-title>\n\n  <div class="pr-teacher__avatar" data-hash="{{ $ctrl.teacher.hashPhoto }}"\n    photo-element photo-repeat="true" binded-photo photo-repeat="true" photo-url="{{ $ctrl.teacherPhoto }}"></div>\n\n  <div class="pr-teacher__name">{{ ::$ctrl.teacher.forename }} {{ ::$ctrl.teacher.surname }}</div>\n\n  <f-autocomplete heading="Select teacher"\n    limit="6"\n    mode="fullName"\n    change-callback="$ctrl.selectTeacher(args)"\n    array="$ctrl._teachersService.teachers"\n    placeholder-text="Click here Select Teacher"></f-autocomplete>\n\n  <div class="pr-teacher__session-info"\n    ng-if="$ctrl._routeClassService.fullStateName === \'profiles.learners\'\n      || $ctrl._routeClassService.fullStateName === \'profiles.groups\'">\n\n    {{ $ctrl._profilesService.currentSessionName }}\n  </div>\n\n  <div class="pr-teacher__history"\n    ng-if="$ctrl._routeClassService.fullStateName === \'marksheets.learners\'">\n    {{$ctrl._marksheetService.marksheetData.name}}\n  </div>\n\n  <button type="button"\n    ng-click="$ctrl._modalDefaultService.showModalWithTemplates(\'modal-choose-date\', $ctrl.data.calendarScope, \'Calendar\')"\n    class="pr-teacher__date">\n    {{ $ctrl.data.date.filtered }}\n    <svg-use name="calendar-small"></svg-use>\n    <svg-use name="calendar-medium"></svg-use>\n  </button>\n\n  <div ng-class=" {\'_keyboard-active\': $ctrl._registersService.isKeyboardActiveInputDevice}"\n       class="pr-teacher__register-type"\n       ng-if="$ctrl._routeClassService.firstPartOfCurrentState === \'registers\' || $ctrl._routeClassService.fullStateName === \'clubs.register\'">\n    <svg-use\n      class="pr-teacher__register-type-touch"\n      ng-click="$ctrl._registersService.toggleCurrentInputDevice(\'touch\')"\n      name="touch"></svg-use>\n    <div class="pr-teacher__register-type-slider"></div>\n    <svg-use\n      class="pr-teacher__register-type-keyboard"\n      name="keyboard"\n      ng-click="$ctrl._registersService.toggleCurrentInputDevice(\'keyboard\')"\n    ></svg-use>\n  </div>\n\n  <div\n    ng-class=" {\'_keyboard-active\': $ctrl._marksheetService.isKeyboardActiveInputDevice}"\n    class="pr-teacher__register-type"\n    ng-if="$ctrl._routeClassService.firstPartOfCurrentState === \'marksheets\'">\n    <svg-use\n      class="pr-teacher__register-type-touch"\n      ng-click="$ctrl._marksheetService.toggleCurrentInputDevice(\'touch\')"\n      name="single-user"></svg-use>\n    <div class="pr-teacher__register-type-slider"></div>\n    <svg-use\n      class="pr-teacher__register-type-keyboard"\n      ng-click="$ctrl._marksheetService.toggleCurrentInputDevice(\'keyboard\')"\n      name="several-users"\n    ></svg-use>\n  </div>\n\n  <a ng-if="$ctrl.searchLink && !$ctrl.submitMode && $ctrl._routeClassService.firstPartOfCurrentState !== \'marksheets\'"\n     ui-sref="{{ ::$ctrl.searchLink }}"\n     class="pr-teacher__btn-bottom btn btn-default _fill _small">Change teacher</a>\n\n  <div class="pr-teacher__col-wrap" ng-if="$ctrl._routeClassService.firstPartOfCurrentState === \'marksheets\'">\n    <div class="pr-teacher__col"\n         ng-if="$ctrl.searchLink && !$ctrl.submitMode && $ctrl._userService.user.capabilities[\'marksheets.change_teacher\']"\n    >\n      <a ui-sref="{{ ::$ctrl.searchLink }}"\n         class="pr-teacher__btn-bottom btn btn-default _fill _small">Change teacher</a>\n    </div>\n    <div class="pr-teacher__col"\n         ng-if="$ctrl._userService.user.capabilities.marksheets.commentbank.manager && $ctrl._userService.user.capabilities.marksheets.commentbank.enabled"\n    >\n      <a ui-sref="marksheets.comment-banks"\n         class="pr-teacher__btn-bottom btn btn-default _fill _small"\n      >Edit comment bank</a>\n    </div>\n  </div>\n\n  <div ng-if="$ctrl.submitMode" class="f-default__col-wrap">\n    <div class="f-default__col">\n      <a ui-sref="registers.lobby" class="btn btn-default _transparent _small _no-min-width">Cancel</a>\n    </div>\n    <div class="f-default__col">\n      <button type="button"\n        ng-click="$ctrl._modalDefaultService.showModalWithTemplates(\'modal-confirm-registers\', {}, \'Confirm registers\')"\n        class="btn btn-default _fill _small _no-min-width">Submit</button>\n    </div>\n  </div>\n\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r, o, l, c, d, u, _, f, v, m) {
            "ngInject";
            (0, n.default)(this, e), this._$state = i, this._$scope = t, this._routeClassService = l, this._modalDefaultService = d, this._teachersService = o, this._prTeacherService = s, this._userService = r, this._configService = u, this._$filter = c, this._requestService = _, this._profilesService = f, this._registersService = v, this._marksheetService = m, this.local = {
                lazyPhotoConfig: {
                    prefix: "data:image/png;base64,",
                    reserveScroll: 150,
                    getPhotoCallback: this.getPhoto,
                    getDefaultPhotoCallback: this.getDefaultPhoto,
                    isUniqueElements: !0,
                    isSingleElements: !0,
                    svgPairs: null
                }
            }, this.goHome = a.goHome.bind(a)
        }
        return e.$inject = ["$scope", "$state", "menuService", "prTeacherService", "userService", "teachersService", "routeClassService", "$filter", "modalDefaultService", "configService", "requestService", "profilesService", "registersService", "marksheetService"], (0, i.default)(e, [{
            key: "selectTeacher",
            value: function(e) {
                this._prTeacherService && (this._prTeacherService.currentTeacher = e, this.loadRegisterDataToTeacher(e))
            }
        }, {
            key: "loadRegisterDataToTeacher",
            value: function(e) {
                var t = this,
                    n = this._requestService.getDateToRequest(this.local.date),
                    i = e.id;
                this._registersService.getRegistersFromDb({
                    date: n,
                    employee_id: i
                }).then(function(e) {
                    t._registersService.registers = e
                })
            }
        }, {
            key: "determineCurrentTeacher",
            value: function() {
                this._prTeacherService.currentTeacher = this._prTeacherService.currentTeacher ? this._prTeacherService.currentTeacher : this._userService.user.data
            }
        }, {
            key: "getCurrentTeacherFromService",
            value: function() {
                return this._prTeacherService.currentTeacher
            }
        }, {
            key: "getPhoto",
            value: function(e, t) {
                return e._teachersService.getTeacherPhotosFromDb(t, e.local.size).catch(function() {
                    return null
                })
            }
        }, {
            key: "getDefaultPhoto",
            value: function(e, t) {
                return e._teachersService.getDefaultPhotoUsingGender(t)
            }
        }, {
            key: "$onInit",
            value: function() {
                this.determineCurrentTeacher()
            }
        }, {
            key: "config",
            get: function() {
                return this.local.lazyPhotoConfig
            }
        }, {
            key: "teacher",
            get: function() {
                return this._prTeacherService.currentTeacher
            }
        }, {
            key: "teacherPhoto",
            get: function() {
                return this.teacher && this.teacher.photo
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t) {
            "ngInject";
            (0, n.default)(this, e), this._userService = t, this.initValues()
        }
        return e.$inject = ["userService"], (0, i.default)(e, [{
            key: "initValues",
            value: function(e) {
                this.data && !e || (this.data = {
                    currentTeacher: null
                })
            }
        }, {
            key: "currentTeacher",
            get: function() {
                return this.data.currentTeacher
            },
            set: function(e) {
                this.data.currentTeacher = e, this._userService.user.lastActiveProfile = e
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3059));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("pr-user", []).component("prUser", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(3060)),
        i = a(t(3061));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(3062);
    var s = {
        restrict: "E",
        bindings: {
            bindedUser: "<"
        },
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="pr-user"\n  ng-class="{_animated: $ctrl.isDataExist, \'_open-drop-down\': $ctrl.local.isDropDownVisible}">\n\n  <button type="button"\n    class="pr-user__settings"\n    ng-click="$ctrl.toggleDropDown()">\n    <svg-use name="settings"></svg-use>\n    <svg-use name="settings-detailed"></svg-use>\n  </button>\n\n  <div class="pr-user__drop-down"\n    id="prUserDropDown"\n    click-outside="$ctrl.closeDropdown()"\n    ng-if="$ctrl.local.isDropDownVisible">\n    <div class="pr-user__button"\n         ng-click="$ctrl.showChangePasswordModal()"\n         ng-if="$ctrl.canChangePassword">\n      Change Password\n    </div>\n    <div class="pr-user__button"\n         ng-if="$ctrl._userService.checkRole(\'employee\')"\n         ng-click="$ctrl.showManageGroupModal()">\n      Manage Groups\n    </div>\n    <div class="pr-user__button"\n         ng-if="$ctrl._userService.checkRole(\'employee\')"\n         ng-click="$ctrl.showManageTemplatesModal()">\n      Manage Templates\n    </div>\n    <div class="pr-user__button" ng-click="$ctrl.showCalendarsModal()">\n      Manage iCal\n    </div>\n    <div class="pr-user__button"\n         ng-if="$ctrl._userService.user.miscellaneous.setup"\n         ng-click="$ctrl.setup()">\n      Administration\n    </div>\n    <div class="pr-user__button" ng-click="$ctrl._logoutService.logout()">\n      Logout\n    </div>\n  </div>\n\n  <div class="pr-user__info" ng-click="$ctrl.deleteActiveChild()">\n    <div class="pr-user__avatar"\n      binded-photo photo-url="{{ $ctrl.getPhoto($ctrl.bindedUser) }}" photo-repeat="true"></div>\n    <div class="pr-user__text">\n      Hello, <b class="pr-user__name">{{ $ctrl.bindedUser.forename }} {{ $ctrl.bindedUser.surname }}</b>\n    </div>\n  </div>\n\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r, o, l, c, d, u, _, f, v) {
            "ngInject";
            (0, n.default)(this, e), this._$http = t, this._$rootScope = i, this._$state = s, this._$scope = a, this._userService = r, this._imagesConstants = o, this._logoutService = l, this._routeClassService = c, this._menuService = d, this._modalDefaultService = _, this._iCalendarsService = f, this._$window = v, this.initValues()
        }
        return e.$inject = ["$http", "$rootScope", "$scope", "$state", "userService", "imagesConstants", "logoutService", "routeClassService", "menuService", "configService", "modalDefaultService", "iCalendarsService", "$window"], (0, i.default)(e, [{
            key: "initValues",
            value: function(e) {
                this.local && !e || (this.local = {
                    isDropDownVisible: !1,
                    iCalendars: null
                }), this.photos && !e || (this.photos = {
                    employee: {
                        male: this._imagesConstants.MALE_EMPLOYEE_DEFAULT_IMAGE,
                        female: this._imagesConstants.FEMALE_EMPLOYEE_DEFAULT_IMAGE
                    },
                    learner: {
                        male: this._imagesConstants.MALE_LEARNER_DEFAULT_IMAGE,
                        female: this._imagesConstants.FEMALE_LEARNER_DEFAULT_IMAGE
                    },
                    parent: {
                        male: this._imagesConstants.MALE_PARENT_DEFAULT_IMAGE,
                        female: this._imagesConstants.FEMALE_PARENT_DEFAULT_IMAGE
                    }
                })
            }
        }, {
            key: "toggleDropDown",
            value: function() {
                this.local.isDropDownVisible = !this.local.isDropDownVisible
            }
        }, {
            key: "closeDropdown",
            value: function() {
                this.local.isDropDownVisible = !1
            }
        }, {
            key: "deleteActiveChild",
            value: function() {
                var e = this._userService.checkRole("employee"),
                    t = this._userService.checkRole("parent");
                if (this._$rootScope.$emit("hideModal", {
                        closeAllModals: !0
                    }), "home" !== this._routeClassService.fullStateName || e && t) {
                    var n = this._routeClassService.firstPartOfCurrentState || this._$state.current.name.split(".")[0];
                    if ("student" === n || "home" === this._routeClassService.fullStateName && e && t) {
                        e && t && (this._userService.user.activeChild = null), angular.element(".student__back").removeClass("_active");
                        var i = [this._menuService.eventsName.MENU_HIDE, this._menuService.eventsName.MENU_INIT, this._menuService.eventsName.MENU_EMPTY],
                            a = [null, function(e, t, n) {
                                n.user.activeStudent = null, e.menu = e.availableMenu[n.user.mainMenuName].mainMenu, e.mobileMenu = e.availableMenu[n.user.mainMenuName].fullMenu, e.logo = n.user.logo, t.transitionTo("home", {}, {
                                    notify: !1
                                })
                            }.bind(null, this._menuService, this._$state, this._userService), "bindEvents"];
                        this._$state.current.name !== n && (this._routeClassService.isMenuIn = !0, a.unshift(null), i.unshift(this._menuService.eventsName.MENU_IN)), this._menuService.setEvents(i, [], a)
                    } else this._menuService.goHome()
                }
            }
        }, {
            key: "post",
            value: function(e, t) {
                var n = document.createElement("form");
                for (var i in n.setAttribute("method", "post"), n.setAttribute("action", e), t)
                    if (t.hasOwnProperty(i)) {
                        var a = document.createElement("input");
                        a.setAttribute("type", "hidden"), a.setAttribute("name", i), a.setAttribute("value", t[i]), n.appendChild(a)
                    }
                document.body.appendChild(n), n.submit()
            }
        }, {
            key: "setup",
            value: function() {
                var e = this._userService.user.miscellaneous.setup,
                    t = e.params,
                    n = e.url;
                this._$window.cordova && "ios" === this._$window.cordova.platformId ? this._$window.cordova.InAppBrowser.open(n, "_blank", "location=yes") : this.post(n, t, "post")
            }
        }, {
            key: "showManageGroupModal",
            value: function() {
                this.closeDropdown(), this._modalDefaultService.showModalWithTemplates("modal-manage-groups", null, "Groups")
            }
        }, {
            key: "showManageTemplatesModal",
            value: function() {
                this.closeDropdown(), this._modalDefaultService.showModalWithTemplates("modal-manage-templates", null, "Templates")
            }
        }, {
            key: "showChangePasswordModal",
            value: function() {
                this.closeDropdown(), this._modalDefaultService.showModalWithTemplates("modal-change-password", null, "Change Password")
            }
        }, {
            key: "showCalendarsModal",
            value: function() {
                this._iCalendarsService.iCalendars || this._iCalendarsService.getICalendarsData(), this.closeDropdown(), this._modalDefaultService.showModalWithTemplates("modal-i-calendars", null, "iCalendars manage")
            }
        }, {
            key: "getPhoto",
            value: function(e) {
                if (!e) return null;
                if (!e.photo) {
                    var t = this._userService.currentType[0].toLowerCase(),
                        n = e.gender && e.gender.toLowerCase();
                    e.photo = this._userService.checkRole("parent") ? this._imagesConstants.DEFAULT_IMAGE : this.photos[t][n] || this._imagesConstants.DEFAULT_IMAGE
                }
                return e.photo
            }
        }, {
            key: "isDataExist",
            get: function() {
                return !!this.bindedUser
            }
        }, {
            key: "defaultPhoto",
            get: function() {}
        }, {
            key: "canChangePassword",
            get: function() {
                return this._userService.user && this._userService.user.loginMethodChangePassword
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3064));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("pr-user-error", []).component("prUserError", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(3065)),
        i = a(t(3066));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(3067);
    var s = {
        bindings: {
            user: "<"
        },
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="pr-user-error">\n  <div class="pr-user-error__avatar"\n    ng-style="{\'background-image\': \'url(\' + $ctrl._imagesConstants.DEFAULT_IMAGE + \')\'}"\n    binded-photo photo-url="{{ ::$ctrl.user.photo }}">\n  </div>\n  <div class="pr-user-error__info">\n    <div class="pr-user-error__name">{{ ::$ctrl.user.forename }} {{::$ctrl.user.surname }}</div>\n    <div class="pr-user-error__error" ng-class="$ctrl.user.errorClassName">{{ ::$ctrl.user.error}}</div>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(1),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    var s = function e(t) {
        "ngInject";
        (0, a.default)(this, e), this._imagesConstants = t
    };
    s.$inject = ["imagesConstants"], exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3069));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("pr-user-selector", []).component("prUserSelector", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(3070),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    t(3071);
    var s = {
        template: a.default,
        bindings: {
            changeCallback: "&",
            photo: "<",
            usersList: "<",
            text: "@"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="pr-user-selector">\n  <div class="pr-user-selector__avatar" binded-photo photo-repeat="true" photo-url="{{ $ctrl.photo }}"></div>\n  <f-autocomplete\n    limit="6"\n    mode="fullName"\n    change-callback="$ctrl.changeCallback({ args })"\n    array="$ctrl.usersList"\n    placeholder-text="{{ ::$ctrl.text }}"\n  ></f-autocomplete>\n</div>\n'
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3073));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("pr-user-select", []).component("prUserSelect", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(3074)),
        i = a(t(3075));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(3076);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            photo: "<",
            users: "<",
            limit: "<",
            onSelect: "&",
            activeUser: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="pr-user-select">\n\n  <div class="pr-user-select__avatar"\n       binded-photo photo-repeat="true" photo-url="{{ $ctrl.photo }}"></div>\n\n  <div class="pr-user-select__autocomplete">\n    <div class="pr-user-select__overlay"\n         ng-if="$ctrl.isSearchVisible"\n         ng-click="$ctrl.closeDropList()"></div>\n    <div class="pr-user-select__select">\n      <label class="pr-user-select__label" ng-click="$ctrl.showDropList()">\n        <input class="pr-user-select__field"\n               type="text"\n               ng-model="search.fullName">\n        <span class="pr-user-select__selected">\n          <span ng-if="$ctrl.activeUser">{{ $ctrl.activeUser.fullName }}</span>\n          <span ng-if="!$ctrl.activeUser">Select User</span>\n          <svg-use ng-if="$ctrl.users.length > 1" name="two-arrow"></svg-use>\n        </span>\n      </label>\n\n      <ul class="pr-user-select__list" ng-if="$ctrl.isSearchVisible">\n        <li class="pr-user-select__item"\n            ng-repeat="item in $ctrl.users | filter:search | limitTo:$ctrl.limit"\n            ng-click="$ctrl.select(item)">\n          <span>{{item.fullName}}</span>\n        </li>\n      </ul>\n    </div>\n  </div>\n\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e() {
            "ngInject";
            (0, n.default)(this, e), this.local = {
                isSearchVisible: !1
            }
        }
        return (0, i.default)(e, [{
            key: "closeDropList",
            value: function() {
                this.local.isSearchVisible = !1
            }
        }, {
            key: "showDropList",
            value: function() {
                this.local.isSearchVisible = !0
            }
        }, {
            key: "select",
            value: function(e) {
                this.closeDropList(), this.onSelect({
                    user: e
                })
            }
        }, {
            key: "isSearchVisible",
            get: function() {
                return this.local.isSearchVisible
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(0)),
        i = s(t(3078)),
        a = s(t(3083));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = n.default.module("app.sections", [i.default, a.default]).name;
    exports.default = r
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3079));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("s-footer", []).component("sFooter", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(3080)),
        i = a(t(3081));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(3082);
    var s = {
        restrict: "E",
        bindings: {},
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<footer class="s-footer" ng-class="{_animated: $ctrl.isDataExist}">\n  <div class="s-footer__container">\n    <div class="s-footer__item"\n      ng-if="$ctrl.isEmployee"\n      ng-class="{ \'_hidden\': !$ctrl.currentLesson || !$ctrl.currentLesson.register_id }">\n      <pr-register lesson="$ctrl.currentLesson" callback="$ctrl.goToPage(e, config)"></pr-register>\n    </div>\n    <div class="s-footer__item"\n      ng-if="!$ctrl.isEmployee"\n      ng-class="{ \'_hidden\': !$ctrl.currentLesson }">\n      <pr-lesson is-next="false" lesson="$ctrl.currentLesson" callback="$ctrl.goToPage(e, config)"></pr-lesson>\n    </div>\n    <div class="s-footer__item" ng-class="{ \'_hidden\': !$ctrl.nextLesson }">\n      <pr-lesson is-next="true" lesson="$ctrl.nextLesson" callback="$ctrl.goToPage(e, config)"></pr-lesson>\n    </div>\n    <div class="s-footer__item" ng-if="$ctrl._userService.user.capabilities[\'communicator.enabled\'] !== false">\n      <pr-messages messages="$ctrl.newMessages" callback="$ctrl.goToPage(e, config)"></pr-messages>\n    </div>\n  </div>\n</footer>\n\n'
}, function(e, exports, t) {
    "use strict";
    (function($) {
        Object.defineProperty(exports, "__esModule", {
            value: !0
        });
        var e = a(t(10)),
            n = a(t(1)),
            i = a(t(2));

        function a(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        var s = function() {
            function t(e, i, a, s, r, o, l, c, d) {
                "ngInject";
                (0, n.default)(this, t), this._$state = e, this._$rootScope = r, this._menuService = c, this._userService = l, this._routeClassService = s, this._configService = a, this._authService = i, this._statusService = o, this._blockedTransitionService = d, this.local = {
                    isDataExist: !1,
                    callback: this.goToPage.bind(this)
                }
            }
            return t.$inject = ["$state", "authService", "configService", "routeClassService", "$rootScope", "statusService", "userService", "menuService", "blockedTransitionService"], (0, i.default)(t, [{
                key: "goToPage",
                value: function(t, n) {
                    var i = this;
                    if (t.preventDefault(), this._blockedTransitionService.isTransitionBlocked) this._blockedTransitionService.transitionLink = n.state, this._$rootScope.$broadcast("blockedTransitionRequest", {});
                    else {
                        var a = n.state,
                            s = n.params,
                            r = [this._menuService.eventsName.MENU_IN, this._menuService.eventsName.MENU_HIDE, this._menuService.eventsName.MENU_EMPTY],
                            o = [function() {
                                i._routeClassService.isMenuIn = !0
                            }, function() {
                                $(".student__back").removeClass("_active")
                            }, function() {
                                i._$state.transitionTo(a, (0, e.default)({}, s), {
                                    notify: !1
                                }), i._authService.isNotFirstAuth = !1, i._menuService.menu = null
                            }]; - 1 !== this._configService.config.isMenuCenterStates.indexOf(this._routeClassService.fullStateName) && (r.shift(), o.shift()), this._menuService.setEvents(r, [], o)
                    }
                }
            }, {
                key: "isDataExist",
                get: function() {
                    return this._statusService.status
                }
            }, {
                key: "currentLesson",
                get: function() {
                    return this._statusService.status && this._statusService.status.lessons && this._statusService.status.lessons.current
                }
            }, {
                key: "nextLesson",
                get: function() {
                    return this._statusService.status && this._statusService.status.lessons && this._statusService.status.lessons.next
                }
            }, {
                key: "newMessages",
                get: function() {
                    return this._statusService.status && this._statusService.status.new_messages
                }
            }, {
                key: "isEmployee",
                get: function() {
                    return this._userService.checkRole("employee")
                }
            }]), t
        }();
        exports.default = s
    }).call(exports, t(22))
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3084));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("s-header", []).component("sHeader", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(3085)),
        i = a(t(3086));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(3087);
    var s = {
        restrict: "E",
        template: n.default,
        controller: i.default,
        bindings: {
            bindedStudent: "<",
            bindedChildren: "<",
            bindedTeacher: "<",
            bindedUser: "<",
            bindedActiveChildIndex: "<",
            gradient: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<header class="s-header" ng-class="{\'_student-search\': $ctrl.local.isStudentSearchVisible}">\n\n  <div class="s-header__inner">\n    <div class="s-header__prev-gradient"\n      ng-style="{\'background-image\':\'linear-gradient(to left,\' + $ctrl.currentColor.from + \', \' + $ctrl.currentColor.to +\')\'}"\n    ></div>\n    <div class="s-header__new-gradient"\n      ng-class="{\'_active\': !$ctrl.local.isFirstGradientVisible}"\n      ng-style="{\'background-image\':\'linear-gradient(to left,\' + $ctrl.newColor.from + \', \' + $ctrl.newColor.to +\')\'}"\n    ></div>\n  </div>\n\n  <div class="s-header__container">\n    <a class="btn-close"\n       ng-click="$ctrl.moveToState()"\n       ng-if="$ctrl._windowWidthService.windowWidth <= $ctrl._deviceMarginConstants.MOBILE_MARGIN && !$ctrl.isHome"\n    ></a>\n    <pr-user binded-user="$ctrl.user"\n             ng-show="!($ctrl._routeClassService.firstPartOfCurrentState === \'student\' && $ctrl._windowWidthService.windowWidth < $ctrl._deviceMarginConstants.MOBILE_MARGIN)"\n    ></pr-user>\n\n    <l-children binded-children="$ctrl.bindedChildren"\n      binded-active-child-index="$ctrl.bindedActiveChildIndex"\n      ng-if="$ctrl.isParent && $ctrl.firstPartOfCurrentState !== \'student\' && $ctrl._windowWidthService.windowWidth > $ctrl._deviceMarginConstants.MOBILE_MARGIN"\n    ></l-children>\n\n    <a ng-click="$ctrl.goToCommunicator()" class="s-header__msg-link"\n       ng-class="{\'_new-message\': $ctrl.newMessages }"\n       ng-if="$ctrl._windowWidthService.windowWidth <= $ctrl._deviceMarginConstants.MOBILE_MARGIN\n        && $ctrl._routeClassService.firstPartOfCurrentState !== \'communicator\' && $ctrl._userService.user.capabilities[\'communicator.enabled\'] !== false"\n    >\n      <svg-use name="message"></svg-use>\n      <span class="s-header__msg-link-amount"\n            ng-if="$ctrl.newMessages"\n            ng-class="{ \'_three-sign\': $ctrl.newMessages.toString().length === 3}"\n      >{{$ctrl.newMessages}}</span>\n    </a>\n\n    <div class="s-header__msg-btn"\n         ng-click="$ctrl._communicatorDataService.handleNewMessageButton()"\n         ng-if="!$ctrl._communicatorDataService.cantCreateNewMessage() && $ctrl._windowWidthService.windowWidth <= $ctrl._deviceMarginConstants.MOBILE_MARGIN && $ctrl._routeClassService.firstPartOfCurrentState === \'communicator\'"\n    >\n      <svg-use name="new-message"></svg-use>\n    </div>\n\n    <span class="s-header__title"\n          ng-class="{\'_active\': $ctrl.local.isFirstGradientVisible}"\n    >{{ $ctrl.pageTitle }}</span>\n\n    <div class="s-header__student-search">\n      <button type="button" class="s-header__student-btn"\n              ng-click="$ctrl.changeStudentSearchVisibility()"\n      >\n        {{ $ctrl.bindedStudent.resultRow || $ctrl.bindedStudent.fullName}}\n        <span class="s-header__student-avatar"\n          binded-photo photo-url="{{ $ctrl.bindedStudent.photo }}" photo-repeat="true"\n          ng-style="{\'background-image\': \'url(\' + $ctrl._imagesConstants.DEFAULT_IMAGE + \')\'}"\n        ></span>\n      </button>\n\n      <f-autocomplete\n          ng-if="$ctrl.local.isStudentSearchVisible"\n          change-callback="$ctrl.changeStudentSearchVisibility()"\n          mode="student"\n          limit="$ctrl.limit"\n          students-service="$ctrl._studentsService"\n          array="$ctrl._studentsService.students.students"\n          placeholder-text="Search Learner"\n      ></f-autocomplete>\n    </div>\n\n    <div class="s-header__teacher-search"\n         ng-class="{\n          \'_parentevent-switch-capability\': $ctrl._userService.user.capabilities[\'parentevent.switchteacher\'] && $ctrl._$state.current.name === \'parentevent.teacherEvent\',\n          \'_forms-switch-capability\': $ctrl._userService.user.capabilities.forms && $ctrl._userService.user.capabilities.forms.switchteacher && $ctrl._$state.current.name === \'forms.employee\',\n          \'_homework-switch-capability\': $ctrl._userService.user.capabilities[\'homework.switchteacher\'] && $ctrl._$state.current.name === \'homework.list\'\n         }"\n    >\n      <button type="button" class="s-header__student-btn"\n              ng-click="$ctrl.changeTeacherSearchVisibility()"\n      >\n        {{ $ctrl.bindedTeacher.resultRow || $ctrl.bindedTeacher.fullName }}\n        <span class="s-header__student-avatar"\n              binded-photo photo-url="{{ $ctrl.bindedTeacher.photo }}" photo-repeat="true"\n              ng-style="{\'background-image\': \'url(\' + $ctrl._imagesConstants.DEFAULT_IMAGE + \')\'}"\n        ></span>\n      </button>\n      <f-autocomplete ng-if="$ctrl.local.isTeacherSearchVisible"\n                      ng-init="$ctrl.filterTeachers()"\n                      change-callback="$ctrl.changeTeacherSearchVisibility()"\n                      mode="teacher"\n                      limit="$ctrl.limit"\n                      array="$ctrl.local.teachers"\n                      placeholder-text="Teacher"\n      ></f-autocomplete>\n    </div>\n\n    <div class="s-header__user-search"\n         ng-if="$ctrl._windowWidthService.windowWidth > $ctrl._deviceMarginConstants.MOBILE_MARGIN\n                && $ctrl.isCommunicatorPage() && $ctrl._userService.user.capabilities[\'communicator.switchuser\']"\n    >\n      <button type="button" class="s-header__student-btn"\n              ng-click="$ctrl.changeUserSearchVisibility()"\n      >\n        {{ $ctrl.bindedUser.fullName }}\n        <span class="s-header__student-avatar"\n              binded-photo photo-url="{{ $ctrl.bindedUser.photo || $ctrl._imagesConstants.DEFAULT_IMAGE }}" photo-repeat="true"\n              ng-style="{\'background-image\': \'url(\' + $ctrl._imagesConstants.DEFAULT_IMAGE + \')\'}"\n        ></span>\n      </button>\n      <f-autocomplete ng-if="$ctrl.local.isUserSearchVisible"\n                      change-callback="$ctrl.changeUserSearchVisibility()"\n                      mode="user"\n                      limit="$ctrl.limit"\n                      array="$ctrl._communicatorDataService.users"\n                      placeholder-text="User"\n      ></f-autocomplete>\n    </div>\n  </div>\n\n  <a class="s-header__home-btn"\n     ng-click="$ctrl.goHome(); $ctrl.clearLearner();"\n  >\n    <svg-use name="home"></svg-use>\n  </a>\n\n  <div class="s-header__overlay"\n    ng-click="$ctrl.changeStudentSearchVisibility()"\n  ></div>\n</header>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = {
            from: "#8282c6",
            to: "#4996cd"
        },
        r = function() {
            function e(t, i, a, r, o, l, c, d, u, _, f, v, m, h, p, g, b, S, y, k, M, w) {
                "ngInject";
                var D = this;
                (0, n.default)(this, e), this._windowWidthService = f, this._routeClassService = u, this._blockedTransitionService = k, this._$scope = d, this._$state = a, this._$location = w, this._$log = l, this._studentsService = c, this._listenerBackgroundService = h, this._menuService = p, this._deviceMarginConstants = v, this._userService = g, this._imagesConstants = t, this._communicatorDataService = M, this._modalDefaultService = b, this._behaviourDataService = m, this._statusService = S, this._$timeout = r, this._$rootScope = i, this._teachersService = y, this.limit = 4, this.local = {
                    currentColor: {
                        from: s.from,
                        to: s.to
                    },
                    newColor: {
                        from: s.from,
                        to: s.to
                    },
                    parentState: "home",
                    isFirstGradientVisible: !0,
                    isStudentSearchVisible: !1,
                    isTeacherSearchVisible: !1,
                    isUserSearchVisible: !1,
                    teachers: []
                }, o.onSuccess({}, function() {
                    D._listenerBackgroundService.isChangeBackground && D.changeGradientsColor(a, r, _), D.changeButtonCloseLink(a)
                })
            }
            return e.$inject = ["imagesConstants", "$rootScope", "$state", "$timeout", "$transitions", "$log", "studentsService", "$scope", "routeClassService", "delayConstantsService", "windowWidthService", "deviceMarginConstants", "behaviourDataService", "listenerBackgroundService", "menuService", "userService", "modalDefaultService", "statusService", "teachersService", "blockedTransitionService", "communicatorDataService", "$location"], (0, i.default)(e, [{
                key: "$onInit",
                value: function() {
                    var e = this;
                    this.gradient && this._$timeout(function() {
                        e.local.newColor.from = e.gradient.from, e.local.newColor.to = e.gradient.to, e.local.isFirstGradientVisible = !1
                    }, 0)
                }
            }, {
                key: "filterTeachers",
                value: function() {
                    var e = this;
                    this._userService.checkRole("employee") && (-1 !== this._routeClassService.fullStateName.indexOf("homework") || -1 !== this._routeClassService.fullStateName.indexOf("parentevent.teacherEvent") || -1 !== this._routeClassService.fullStateName.indexOf("forms.employee") ? this.local.teachers = this._teachersService.filteredTeachers : this.local.teachers = this._teachersService.filteredTeachers.filter(function(t) {
                        return t.id !== e._userService.user.id
                    }))
                }
            }, {
                key: "changeGradientsColor",
                value: function(e, t, n) {
                    var i = this;
                    t(function() {
                        i.local.isFirstGradientVisible ? i.local.newColor = {
                            from: e.current.data ? e.current.data.headerGradientColors.from : s.from,
                            to: e.current.data ? e.current.data.headerGradientColors.to : s.to
                        } : i.local.currentColor = {
                            from: e.current.data ? e.current.data.headerGradientColors.from : s.from,
                            to: e.current.data ? e.current.data.headerGradientColors.to : s.to
                        }, i.local.isFirstGradientVisible = !i.local.isFirstGradientVisible
                    }, n.WAIT_END_OF_DIGEST_CYCLE)
                }
            }, {
                key: "changeButtonCloseLink",
                value: function(e) {
                    this.local.parentState = e.current.data.parentState
                }
            }, {
                key: "goHome",
                value: function() {
                    if (this._blockedTransitionService.isTransitionBlocked) return this._blockedTransitionService.transitionLink = "home", void this._blockedTransitionService._showModal();
                    this.closeAllModals(), this._menuService.menu = this._menuService.availableMenu[this._userService.user.mainMenuName].mainMenu, this._menuService.mobileMenu = this._menuService.availableMenu[this._userService.user.mainMenuName].fullMenu, this._$state.go("home")
                }
            }, {
                key: "clearLearner",
                value: function() {
                    this._userService.checkRole("employee") && (this._userService.user.activeChild = null), this._userService.user.activeStudent = null
                }
            }, {
                key: "moveToState",
                value: function() {
                    var e = this._routeClassService.fullStateName,
                        t = this._$location.search().returnUri;
                    if (t) return this._$location.path(t), this._$location.search({});
                    if (this._blockedTransitionService.isTransitionBlocked) this._blockedTransitionService.transitionLink = this.local.parentState, this._blockedTransitionService._showModal();
                    else if ("mailbox" === this._routeClassService.secondPartOfCurrentState) this._modalDefaultService.data.find(function(e) {
                        return "modal-select-users" === e.id || "modal-select-recipients" === e.id
                    }) ? this.closeModal() : this._communicatorDataService.selectedMessage ? this._communicatorDataService.selectedMessage = null : this._$state.transitionTo(this.local.parentState, {
                        notify: !0
                    });
                    else if ("send" === this._routeClassService.secondPartOfCurrentState) this._communicatorDataService.selectedMessage = null, this._windowWidthService.windowWidth <= this._deviceMarginConstants.MOBILE_MARGIN && !this._communicatorDataService.isReply ? this._communicatorDataService.goToPreviousStep() : this._$state.transitionTo("communicator.mailbox"), this._$state.transitionTo("communicator.mailbox");
                    else if ("student" === this._routeClassService.rootStateName) this._$state.transitionTo(this.local.parentState, {
                        studentId: this._userService.user.activeStudent.id
                    }, {
                        notify: !0
                    });
                    else if ("points-achievement" !== this._routeClassService.secondPartOfCurrentState && "points-behaviour" !== this._routeClassService.secondPartOfCurrentState || !this._behaviourDataService.data.moveFromStartBehaviourPage)
                        if (-1 !== ["forms.createForm", "forms.updateForm", "forms.cloneForm"].indexOf(this._routeClassService.fullStateName) && this._modalDefaultService.data.find(function(e) {
                                return "modal-select-respondents" === e.id
                            }) || -1 !== ["parentevent.details", "childprotection.list", "clubs.create", "clubs.update", "clubs.register", "clubs.employee", "detention.session"].indexOf(this._routeClassService.fullStateName) && this._modalDefaultService.data.find(function(e) {
                                return -1 !== ["modal-select-learners", "modal-add-teachers"].indexOf(e.id)
                            }) || -1 !== ["registers.register", "homework.list"].indexOf(this._routeClassService.fullStateName) && this._modalDefaultService.data.find(function(e) {
                                return -1 !== ["modal-select-learners", "modal-add-homework"].indexOf(e.id)
                            }) || -1 !== ["parentevent.events"].indexOf(this._routeClassService.fullStateName) && this._modalDefaultService.data.find(function(e) {
                                return -1 !== ["modal-create-event"].indexOf(e.id)
                            })) this.closeModal();
                        else if ("data-collection.submission" === e) this._$state.transitionTo("data-collection.manage", {
                        notify: !0
                    });
                    else if ("marksheets.rating" === e) this._$state.transitionTo(this.local.parentState, {
                        marksheetId: this._$state.params.marksheetId
                    }, {
                        notify: !0
                    });
                    else {
                        var n = this._$state.current.data.parentStateParams;
                        this._$state.transitionTo(this.local.parentState, n, {
                            notify: !0
                        })
                    } else this._$state.transitionTo("behaviour.search", {
                        notify: !0
                    })
                }
            }, {
                key: "goToCommunicator",
                value: function() {
                    var e = this;
                    if (this._blockedTransitionService.isTransitionBlocked) return this._blockedTransitionService.transitionLink = "communicator.mailbox", void this._blockedTransitionService._showModal();
                    this.closeAllModals();
                    var t = this._$location.path();
                    this._$state.go("communicator.mailbox").then(function() {
                        return e._$location.search({
                            returnUri: t
                        })
                    })
                }
            }, {
                key: "changeStudentSearchVisibility",
                value: function() {
                    this.local.isStudentSearchVisible = !this.local.isStudentSearchVisible
                }
            }, {
                key: "changeTeacherSearchVisibility",
                value: function() {
                    this.local.isTeacherSearchVisible = !this.local.isTeacherSearchVisible
                }
            }, {
                key: "changeUserSearchVisibility",
                value: function() {
                    this.local.isUserSearchVisible = !this.local.isUserSearchVisible
                }
            }, {
                key: "closeAllModals",
                value: function() {
                    this._$rootScope.$emit("hideModal", {
                        isCancel: !0
                    })
                }
            }, {
                key: "closeModal",
                value: function() {
                    this._$scope.$emit("hideModal")
                }
            }, {
                key: "isCommunicatorPage",
                value: function() {
                    return "communicator.mailbox" === this._$state.current.name
                }
            }, {
                key: "currentColor",
                get: function() {
                    return this.local.currentColor
                }
            }, {
                key: "newColor",
                get: function() {
                    return this.local.newColor
                }
            }, {
                key: "firstPartOfCurrentState",
                get: function() {
                    return this._routeClassService.firstPartOfCurrentState
                }
            }, {
                key: "isParent",
                get: function() {
                    if (this._userService.user) return this._userService.checkRole("parent")
                }
            }, {
                key: "pageTitle",
                get: function() {
                    return this._$state.current.data && this._$state.current.data.pageTitle || ""
                }
            }, {
                key: "isHome",
                get: function() {
                    return "home" === this._routeClassService.fullStateName || "student" === this._routeClassService.fullStateName
                }
            }, {
                key: "user",
                get: function() {
                    return this._userService.user
                }
            }, {
                key: "newMessages",
                get: function() {
                    return this._statusService.status && this._statusService.status.new_messages
                }
            }]), e
        }();
    exports.default = r
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = u(t(0)),
        i = u(t(3089)),
        a = u(t(3094)),
        s = u(t(3099)),
        r = u(t(3104)),
        o = u(t(3109)),
        l = u(t(3114)),
        c = u(t(3119)),
        d = u(t(3124));

    function u(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var _ = n.default.module("app.sliders", [i.default, a.default, s.default, r.default, o.default, l.default, c.default, d.default]).name;
    exports.default = _
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3090));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("sl-assessments", []).component("slAssessments", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(3091)),
        i = a(t(3092));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(3093);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            menu: "<",
            config: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="sl-assessments">\n  <slick class="sl-slick" settings="$ctrl.config">\n    <div class="sl-assessments__item" ng-repeat="item in $ctrl.menu">\n      <div class="sl-assessments__name">{{ item }}</div>\n    </div>\n  </slick>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(1),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    var s = function e(t, n, i) {
        "ngInject";
        (0, a.default)(this, e), this._$state = t, this._$stateParams = n, this._assessmentService = i
    };
    s.$inject = ["$state", "$stateParams", "AssessmentService"], exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3095));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("sl-navigation", []).component("slNavigation", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(3096)),
        i = a(t(3097));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(3098);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            menu: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="sl-navigation">\n  <slick class="sl-slick" settings="$ctrl.config">\n    <div class="sl-navigation__item" ng-repeat="item in $ctrl.menu track by $index">\n      <div class="sl-navigation__name">{{ ::item.name }}</div>\n    </div>\n  </slick>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(10)),
        i = s(t(1)),
        a = s(t(2));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = function() {
        function e(t, n, a) {
            "ngInject";
            (0, i.default)(this, e), this._$state = t, this._$stateParams = n, this._navigationService = a, this.initialSlideIndex = null, this.config = {}
        }
        return e.$inject = ["$state", "$stateParams", "navigationService"], (0, a.default)(e, [{
            key: "$onInit",
            value: function() {
                var e = this;
                this.initialSlideIndex = this.getInitialSlide(), this._navigationService.currentTab = this.menu[this.initialSlideIndex].params.page, this.config = {
                    swipeToSlide: !0,
                    slidesToShow: 1,
                    centerMode: !0,
                    dots: !0,
                    infinite: !0,
                    speed: 500,
                    cssEase: "ease-out",
                    centerPadding: "50px",
                    arrows: !0,
                    initialSlide: this.initialSlideIndex,
                    event: {
                        afterChange: function(t, n, i) {
                            return e.onChangeMenuItem(e.menu[i])
                        }
                    }
                }
            }
        }, {
            key: "$onDestroy",
            value: function() {
                this._navigationService.initValues(!0)
            }
        }, {
            key: "getInitialSlide",
            value: function() {
                var e = this;
                return this._$stateParams.page ? this.menu.indexOf(this.menu.find(function(t) {
                    return t.params.page === e._$stateParams.page
                })) : 0
            }
        }, {
            key: "onChangeMenuItem",
            value: function(e) {
                var t = this,
                    i = (0, n.default)({}, this._$stateParams, e.params);
                this._$state.transitionTo(this._$state.$current, i, {
                    notify: !1
                }).then(function() {
                    t._navigationService.currentTab = i.page
                })
            }
        }]), e
    }();
    exports.default = r
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3100));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("sl-tabs", []).component("slTabs", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(3101)),
        i = a(t(3102));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(3103);
    var s = {
        template: n.default,
        controller: i.default,
        restrict: "E",
        bindings: {
            day: "=",
            init: "=",
            config: "=",
            days: "=",
            items: "="
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="sl-tabs">\n  <slick class="sl-slick" settings="$ctrl.config"\n         ng-if="$ctrl._routeClassService.fullStateName.indexOf(\'timetable.list\') !== -1">\n    <div class="sl-tabs__item"\n         ng-repeat="day in $ctrl.days" style="font-size: 16px;">\n      <div class="sl-tabs__day">{{day.name}}</div>\n    </div>\n  </slick>\n  <slick class="sl-slick" settings="$ctrl.config"\n         ng-if="$ctrl._routeClassService.fullStateName.indexOf(\'behaviour.summary-behaviour-points\') !== -1">\n    <div class="sl-tabs__item"\n         ng-repeat="item in $ctrl.items track by $index" style="font-size: 16px;">\n      <div class="sl-tabs__name">{{ item }}</div>\n    </div>\n  </slick>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(1),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    var s = function e(t) {
        "ngInject";
        (0, a.default)(this, e), this._routeClassService = t
    };
    s.$inject = ["routeClassService"], exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3105));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("sl-simple-tabs", []).component("slSimpleTabs", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(3106)),
        i = a(t(3107));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(3108);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            list: "=",
            onChange: "&"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="sl-simple-tabs">\n  <slick class="sl-slick" settings="$ctrl.config">\n    <div class="sl-simple-tabs__item"\n         ng-repeat="item in $ctrl.list track by $index">\n      <div class="sl-simple-tabs__name">{{item.name}}</div>\n    </div>\n  </slick>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(1),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    exports.default = function e() {
        "ngInject";
        var t = this;
        (0, a.default)(this, e), this.config = {
            swipeToSlide: !0,
            slidesToShow: 1,
            centerMode: !0,
            dots: !0,
            infinite: !1,
            speed: 500,
            cssEase: "ease-out",
            centerPadding: "100px",
            arrows: !0,
            initialSlide: 0,
            event: {
                afterChange: function(e, n) {
                    var i = t.list[n.currentSlide];
                    t.onChange({
                        tab: i
                    })
                }
            }
        }
    }
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3110));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("sl-timetable", []).component("slTimetable", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(3111)),
        i = a(t(3112));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(3113);
    var s = {
        restrict: "E",
        bindings: {},
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="sl-timetable"\n     ng-if="$ctrl.local.lessons.length"\n     ng-class="{\'_last-slide\': $ctrl.local.isLastSlide}">\n  <div class="sl-timetable__title">My timetable ({{$ctrl.local.lessons.length}})</div>\n  <slick settings="$ctrl.slickConfig">\n    <div class="sl-timetable__item"\n         ng-repeat="item in $ctrl.local.lessons track by $index" style="font-size: 16px;">\n      <div class="sl-timetable__block">\n        <div class="sl-timetable__top">\n          <div class="sl-timetable__status" ng-class="{ _now: item.isNow }">{{ item.isNow ? \'Now\' : \'Up next\' }}</div>\n          <div class="sl-timetable__time">{{item.start_time}} - {{item.end_time}}h</div>\n        </div>\n        <div class="sl-timetable__bottom">\n          <div class="sl-timetable__subject">{{item.teaching_group.subject}}</div>\n          <div class="sl-timetable__room">{{item.room.name}} /\n            {{item.teacher.title}}&nbsp;{{item.teacher.forename}}&nbsp;{{item.teacher.surname}}\n          </div>\n        </div>\n      </div>\n    </div>\n  </slick>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(1),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    var s = function e(t, n) {
        "ngInject";
        var i = this;
        (0, a.default)(this, e), this.local = {
            lessons: [],
            isLastSlide: !1,
            programmingZeroFix: 1
        }, this.slickConfig = {
            enabled: !0,
            swipeToSlide: !0,
            slidesToShow: 1,
            centerMode: !0,
            dots: !1,
            infinite: !1,
            arrows: !0,
            centerPadding: "70px",
            speed: 500,
            cssEase: "ease-out",
            event: {
                beforeChange: function(e, t, n, a) {
                    i.local.isLastSlide = t.slideCount === t.currentSlide + i.local.programmingZeroFix
                }
            },
            responsive: [{
                breakpoint: 401,
                settings: {
                    centerPadding: "60px"
                }
            }, {
                breakpoint: 361,
                settings: {
                    centerPadding: "50px"
                }
            }, {
                breakpoint: 331,
                settings: {
                    centerPadding: "40px"
                }
            }]
        };
        var s = t.$watch(function() {
            return n.status
        }, function(e) {
            if (e) {
                var t = [];
                e.lessons.current && (e.lessons.current.isNow = !0, t.push(e.lessons.current)), e.lessons.next && (e.lessons.next.isNow = !1, t.push(e.lessons.next)), i.local.lessons = t, s()
            }
        })
    };
    s.$inject = ["$scope", "statusService"], exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3115));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("sl-tabs-nav", []).component("slTabsNav", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(3116)),
        i = a(t(3117));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(3118);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            menu: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="sl-tabs-nav">\n  <slick class="sl-slick" settings="$ctrl.config">\n    <div class="sl-tabs-nav__item" ng-repeat="item in $ctrl.menu track by $index">\n      <div class="sl-tabs-nav__name">{{ ::item.name }}</div>\n    </div>\n  </slick>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a) {
            "ngInject";
            (0, n.default)(this, e), this._$state = t, this._$stateParams = i, this._navigationService = a, this.initialSlideIndex = null, this.config = {}
        }
        return e.$inject = ["$state", "$stateParams", "navigationService"], (0, i.default)(e, [{
            key: "$onInit",
            value: function() {
                var e = this;
                this.initialSlideIndex = this.getInitialSlide(), this.config = {
                    swipeToSlide: !0,
                    slidesToShow: 1,
                    centerMode: !0,
                    dots: !0,
                    infinite: !0,
                    speed: 500,
                    cssEase: "ease-out",
                    centerPadding: "50px",
                    arrows: !0,
                    initialSlide: this.initialSlideIndex,
                    event: {
                        afterChange: function(t, n, i) {
                            return e.onChange(e.menu[i])
                        }
                    }
                }
            }
        }, {
            key: "$onDestroy",
            value: function() {
                this._navigationService.initValues(!0)
            }
        }, {
            key: "getInitialSlide",
            value: function() {
                var e = this;
                return this.menu.reduce(function(t, n, i) {
                    return n.state === e._$state.current.name && (t = i), t
                }, 0)
            }
        }, {
            key: "onChange",
            value: function(e) {
                this._$state.transitionTo(e.state, null, {
                    notify: !1
                })
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3120));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("sl-users", []).component("slUsers", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(3121)),
        i = a(t(3122));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(3123);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            bindedData: "<",
            backLink: "@",
            name: "@",
            className: "@"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="sl-users">\n  <b-title name="{{ $ctrl.name }}"\n    go-back="$ctrl._menuService.goHome()"\n    sref="{{ $ctrl.backLink }}"></b-title>\n\n  <pr-student\n    binded-student=\'$ctrl.user\'\n    class="{{ $ctrl.className }}"></pr-student>\n\n  <div class="sl-users__bottom"\n    ng-if="$ctrl.users.length > 1 && $ctrl.userIndex">\n    <button ng-click="$ctrl.goToUser($ctrl.prevUserLink)"\n      ng-if="$ctrl.prevUserLink"\n      class="sl-users__button _prev">previous</button>\n    <div class="sl-users__current">{{ $ctrl.userIndex }}/{{ $ctrl.users.length }}</div>\n    <button ng-click="$ctrl.goToUser($ctrl.nextUserLink)"\n      ng-if="$ctrl.nextUserLink"\n      class="sl-users__button _next">next</button>\n  </div>\n\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r, o) {
            "ngInject";
            (0, n.default)(this, e), this._$state = t, this._blockedTransitionService = i, this._$stateParams = a, this._$scope = r, this._$timeout = s, this._$rootScope = o, this.initValues()
        }
        return e.$inject = ["$state", "blockedTransitionService", "$stateParams", "$timeout", "$scope", "$rootScope"], (0, i.default)(e, [{
            key: "initValues",
            value: function(e) {
                !e && this.data || (this.data = {
                    currentUserIndex: null,
                    user: null,
                    users: null,
                    prevUserLink: null,
                    nextUserLink: null
                }, this.config = {
                    isLink: !1
                })
            }
        }, {
            key: "goToUser",
            value: function(e) {
                this._blockedTransitionService.isTransitionBlocked ? this._$rootScope.$broadcast("blockNavigationBetweenStudents", {
                    stateName: this._$state.current.name,
                    link: e
                }) : this.config.isLink || (this._$state.transitionTo(this._$state.current.name, e, {
                    notify: !1
                }), this.config.isLink = !0)
            }
        }, {
            key: "bindedData",
            set: function(e) {
                e && (this.initValues(), this.data.user = e.user, this.data.users = e.users, this.data.nextUserLink = e.nextUserLink, this.data.prevUserLink = e.prevUserLink, this.data.currentUserIndex = e.index)
            }
        }, {
            key: "nextUserLink",
            get: function() {
                return this.users.length > 1 && this.data.nextUserLink
            }
        }, {
            key: "prevUserLink",
            get: function() {
                return this.users.length > 1 && this.data.prevUserLink
            }
        }, {
            key: "user",
            get: function() {
                return this.data.user
            }
        }, {
            key: "users",
            get: function() {
                return this.data.users || []
            }
        }, {
            key: "userIndex",
            get: function() {
                return this.data.currentUserIndex
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3125));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("sl-noticeboard", []).component("slNoticeboard", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(3126)),
        i = a(t(3127));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(3128);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            list: "="
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="sl-noticeboard">\n  <slick class="sl-slick" settings="$ctrl.config">\n    <div class="sl-noticeboard__item" ng-repeat="item in $ctrl.list track by $index">\n      <div class="sl-noticeboard__title">{{item.title}}</div>\n      <div class="sl-noticeboard__content">{{item.content}}</div>\n      <a href="{{item.external_url}}" class="sl-noticeboard__link" ng-if="item.external_url">{{item.external_url}}</a>\n    </div>\n  </slick>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(1),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    exports.default = function e() {
        "ngInject";
        (0, a.default)(this, e), this.config = {
            swipeToSlide: !0,
            slidesToShow: 1,
            centerMode: !0,
            dots: !1,
            infinite: !0,
            cssEase: "ease-out",
            centerPadding: "100px",
            arrows: !0,
            initialSlide: 0,
            autoplay: !0,
            autoplaySpeed: 1e4,
            prevArrow: '<button type="button" class="slick-prev"></button>',
            nextArrow: '<button type="button" class="slick-next"></button>'
        }
    }
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = fe(t(0)),
        i = fe(t(3130)),
        a = fe(t(3135)),
        s = fe(t(3139)),
        r = fe(t(3144)),
        o = fe(t(3149)),
        l = fe(t(3154)),
        c = fe(t(3158)),
        d = fe(t(3163)),
        u = fe(t(3168)),
        _ = fe(t(3173)),
        f = fe(t(3178)),
        v = fe(t(3182)),
        m = fe(t(3187)),
        h = fe(t(3191)),
        p = fe(t(3196)),
        g = fe(t(3201)),
        b = fe(t(3206)),
        S = fe(t(3211)),
        y = fe(t(3216)),
        k = fe(t(3221)),
        M = fe(t(3226)),
        w = fe(t(3231)),
        D = fe(t(3236)),
        T = fe(t(3241)),
        C = fe(t(3246)),
        P = fe(t(3251)),
        L = fe(t(3256)),
        x = fe(t(3261)),
        j = fe(t(3266)),
        I = fe(t(3271)),
        A = fe(t(3276)),
        E = fe(t(3281)),
        O = fe(t(3286)),
        F = fe(t(3291)),
        N = fe(t(3295)),
        R = fe(t(3300)),
        Y = fe(t(3304)),
        B = fe(t(3309)),
        H = fe(t(3314)),
        q = fe(t(3319)),
        W = fe(t(3323)),
        V = fe(t(3328)),
        z = fe(t(3333)),
        G = fe(t(3338)),
        U = fe(t(3343)),
        J = fe(t(3348)),
        Q = fe(t(3353)),
        K = fe(t(3358)),
        Z = fe(t(3363)),
        X = fe(t(3368)),
        ee = fe(t(3373)),
        te = fe(t(3377)),
        ne = fe(t(3382)),
        ie = fe(t(3386)),
        ae = fe(t(3391)),
        se = fe(t(3396)),
        re = fe(t(3401)),
        oe = fe(t(3406)),
        le = fe(t(3410)),
        ce = fe(t(3415)),
        de = fe(t(3420)),
        ue = fe(t(3425)),
        _e = fe(t(3430));

    function fe(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var ve = n.default.module("app.tables", [i.default, a.default, s.default, r.default, o.default, l.default, c.default, d.default, u.default, _.default, f.default, v.default, m.default, h.default, p.default, g.default, b.default, S.default, y.default, k.default, M.default, w.default, D.default, T.default, C.default, P.default, L.default, x.default, A.default, j.default, I.default, E.default, O.default, F.default, N.default, R.default, Y.default, B.default, H.default, q.default, W.default, V.default, z.default, G.default, U.default, J.default, Q.default, K.default, Z.default, X.default, ee.default, te.default, ne.default, ie.default, ae.default, se.default, re.default, oe.default, le.default, ce.default, de.default, ue.default, _e.default]).name;
    exports.default = ve
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3131));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("t-absence-management", []).component("tAbsenceManagement", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(3132)),
        i = a(t(3133));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(3134);
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="t-default t-absence-management">\n  <div class="t-default__header">\n    <div class="t-default__col t-absence-management__col _student">\n      <span class="t-default__title t-callout__title _sortable"\n        ng-class="{ _reverse: $ctrl.reverse[\'learner.fullName\'] }"\n        ng-click="$ctrl.sort([\'learner.fullName\'])">Student</span>\n    </div>\n    <div class="t-default__col t-absence-management__col _year">\n      <span class="t-default__title t-callout__title _sortable"\n        ng-class="{ _reverse: $ctrl.reverse.yearGroupName }"\n        ng-click="$ctrl.sort([\'yearGroupName\'])">Year</span>\n    </div>\n\t<div class="t-default__col t-absence-management__col _form">\n    <span class="t-default__title t-callout__title _sortable"\n        ng-class="{ _reverse: $ctrl.reverse.formGroupName }"\n        ng-click="$ctrl.sort([\'formGroupName\'])">Form</span>\n  </div>\n    <div class="t-default__col t-absence-management__col _am">\n      <span class="t-default__title t-callout__title _sortable"\n        ng-class="{ _reverse: $ctrl.reverse[\'marks.am\'] }"\n        ng-click="$ctrl.sort([\'marks.am\'])">AM</span>\n    </div>\n    <div class="t-default__col t-absence-management__col _pm">\n      <span class="t-default__title t-callout__title _sortable"\n        ng-class="{ _reverse: $ctrl.reverse[\'marks.pm\'] }"\n        ng-click="$ctrl.sort([\'marks.pm\'])">PM</span>\n    </div>\n    <div class="t-default__col t-absence-management__col _action">Action</div>\n    <div class="t-default__col t-absence-management__col _log">Log</div>\n  </div>\n  <div class="t-default__body t-absence-management__body">\n    <div class="t-default__row" ng-repeat="absence in $ctrl._absenceService.absences track by $index">\n      <div class="t-default__col t-absence-management__col _student">\n        <button type="button" class="t-absence-management__btn-log"\n                ng-click="$ctrl.showModal({ learnerId: absence.learner_id })">\n          <svg-use name="comment"></svg-use>\n        </button>\n        {{ absence.learner ? absence.learner.fullName : \'-\' }}\n      </div>\n\t  <div class="t-default__col t-absence-management__col _year">\n        {{ absence.yearGroupName ? absence.yearGroupName : \'-\' }}\n      </div>\n      <div class="t-default__col t-absence-management__col _form">\n        {{ absence.formGroupName ? absence.formGroupName : \'-\' }}\n      </div>\n      <div class="t-default__col t-absence-management__col _am">\n        {{ absence.marks.am ? absence.marks.am : \'-\' }}\n      </div>\n      <div class="t-default__col t-absence-management__col _pm">\n        {{ absence.marks.pm ? absence.marks.pm : \'-\' }}\n      </div>\n      <div class="t-default__col t-absence-management__col _action">\n        <span ng-if="!absence.email.available && !absence.sms.available">-</span>\n        <div class="t-absence-management__buttons-outer">\n          <button type="button" class="t-absence-management__btn-email"\n                  ng-init="emailBtn = { isLoading: false }"\n                  ng-disabled="emailBtn.isLoading"\n                  ng-click="$ctrl.contact(absence.learner_id, \'email\', emailBtn)"\n                  ng-if="absence.email.available"\n          >Email</button>\n          <button type="button" class="t-absence-management__btn-sms"\n                  ng-init="smsBtn = { isLoading: false }"\n                  ng-disabled="smsBtn.isLoading"\n                  ng-click="$ctrl.contact(absence.learner_id, \'sms\', smsBtn)"\n                  ng-if="absence.sms.available"\n          >SMS</button>\n        </div>\n      </div>\n      <div class="t-default__col t-absence-management__col _log">\n        <span class="t-absence-management__log _empty" ng-if="!absence.log.length">-</span>\n        <p class="t-absence-management__log" ng-repeat="log in absence.log track by $index">\n          {{ log.time | date:\'HH:mm\' }} - {{ log.message }}\n        </p>\n      </div>\n    </div>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(11)),
        i = s(t(1)),
        a = s(t(2));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = function() {
        function e(t, n, a, s) {
            "ngInject";
            (0, i.default)(this, e), this.reverse = {}, this.sortedBy = [], this._sortDataService = t, this._absenceService = n, this._modalDefaultService = a, this._notificationService = s
        }
        return e.$inject = ["sortDataService", "absenceService", "modalDefaultService", "notificationService"], (0, a.default)(e, [{
            key: "contact",
            value: function(e, t, n) {
                var i = this,
                    a = {
                        learner_id: e,
                        transport: t,
                        preview: !1,
                        date: this._absenceService.selectedDate
                    };
                return n.isLoading = !0, this._absenceService.sendAbsenceManagementContact(a).then(function() {
                    return i._absenceService.getAbsenceManagement({
                        date: i._absenceService.selectedDate
                    })
                }).then(function(e) {
                    return i.setAbsences(e)
                }).then(function() {
                    return i._notificationService.showSuccessNotification("Success")
                }).finally(function() {
                    return n.isLoading = !1
                })
            }
        }, {
            key: "setAbsences",
            value: function(e) {
                this.sortedBy.length && this.reverse[this.sortedBy[0]] ? (this.reverse = {}, this._absenceService.absences = this._sortDataService.sortBy(e, this.sortedBy, this.reverse)) : this._absenceService.absences = e
            }
        }, {
            key: "sort",
            value: function(e) {
                this.sortedBy = [].concat((0, n.default)(e)), this._absenceService.absences = this._sortDataService.sortBy(this._absenceService.absences, e, this.reverse)
            }
        }, {
            key: "hideModal",
            value: function() {
                this._modalDefaultService.pop()
            }
        }, {
            key: "addActivity",
            value: function(e, t, n) {
                var i = this;
                return e.$valid ? this._absenceService.getAbsenceManagementLogActivity(n, t).then(function() {
                    return i._notificationService.showSuccessNotification("Success")
                }).then(function() {
                    return i._absenceService.getAbsenceManagement({
                        date: i._absenceService.selectedDate
                    })
                }).then(function(e) {
                    return i.setAbsences(e)
                }).then(function() {
                    return i.hideModal()
                }) : (this._notificationService.showErrorNotification("Please fill required field"), $q.resolve())
            }
        }, {
            key: "showModal",
            value: function(e) {
                var t = this,
                    n = e.learnerId;
                this._modalDefaultService.showModalWithTemplates("modal-activity-log", {
                    addActivity: function(e) {
                        var i = e.form,
                            a = e.model;
                        return t.addActivity(i, a, n)
                    }
                }, "Activity Log")
            }
        }]), e
    }();
    exports.default = r
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3136));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("t-access-log", []).component("tAccessLog", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(3137),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    t(3138);
    var s = {
        template: a.default,
        bindings: {
            data: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="t-default t-access-log">\n  <div class="t-default__header">\n    <div class="t-default__col t-access-log__col _date">Date/Time</div>\n    <div class="t-default__col t-access-log__col _type">User Type</div>\n    <div class="t-default__col t-access-log__col _name">Name</div>\n  </div>\n  <div class="t-default__body">\n    <div class="t-access-log__message" ng-if="!$ctrl.data.length">No data.</div>\n    <div class="t-default__row t-access-log__row" ng-if="$ctrl.data.length" ng-repeat="item in $ctrl.data track by $index">\n      <div class="t-default__col t-access-log__col _date">\n        <div class="t-default__title-mobile t-addresses__title-mobile">Date/Time:</div>\n        {{ item.accessed }}\n      </div>\n      <div class="t-default__col t-access-log__col _type">\n        <div class="t-default__title-mobile t-addresses__title-mobile">User Type:</div>\n        {{ item.user_type }}\n      </div>\n      <div class="t-default__col t-access-log__col _name">\n        <div class="t-default__title-mobile t-addresses__title-mobile">Name:</div>\n        {{ item.name }}\n      </div>\n    </div>\n  </div>\n</div>\n'
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3140));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("t-addresses", []).component("tAddresses", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(3141)),
        i = a(t(3142));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(3143);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            userType: "<",
            field: "<",
            remove: "&",
            changeFieldItem: "&",
            hideMoving: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="t-default t-addresses">\n  <div class="t-default__header">\n    <div class="t-default__col t-addresses__col _location">Location</div>\n    <div class="t-default__col t-addresses__col _address">Addresses</div>\n    <div class="t-default__col t-addresses__col _move" ng-if="!$ctrl.data.read_only && $ctrl.move"></div>\n    <div class="t-default__col t-addresses__col _remove"></div>\n  </div>\n  <div class="t-default__body t-addresses__body">\n    <div class="t-default__row t-addresses__row"\n         ng-repeat="item in $ctrl.field.data track by $index"\n         ng-init="$ctrl.move = ($ctrl.move || item.type === \'Home\') && !$ctrl.hideMoving"\n    >\n      <div class="t-default__col t-addresses__col _location">\n        <div class="t-default__title-mobile t-addresses__title-mobile">Location:</div>\n        <div class="t-default__text">\n          {{ item.type }}\n        </div>\n      </div>\n      <div class="t-default__col t-addresses__col _address">\n        <div class="t-default__title-mobile t-addresses__title-mobile">Addresses:</div>\n        <div class="t-addresses__text-outer">\n          <p class="t-default__text" ng-if="item.apartment">{{ item.apartment }}</p>\n          <p class="t-default__text" ng-if="item.house_name">{{ item.house_name }}</p>\n          <p class="t-default__text" ng-if="item.house_number || item.street">\n            <span ng-if="item.house_number">{{ item.house_number }}</span>\n            <span ng-if="item.street">{{ item.street }}</span>\n          </p>\n          <p class="t-default__text" ng-if="item.district">{{ item.district }}</p>\n          <p class="t-default__text" ng-if="item.town">{{ item.town }}</p>\n          <p class="t-default__text" ng-if="item.county">{{ item.county }}</p>\n          <p class="t-default__text" ng-if="item.post_code">{{ item.post_code }}</p>\n        </div>\n      </div>\n      <div class="t-default__col t-addresses__col _move" ng-if="!$ctrl.data.read_only && item.type === \'Home\' && !$ctrl.hideMoving">\n        <div class="t-default__title-mobile t-addresses__title-mobile">Move:</div>\n        <button type="button" class="t-addresses__move"\n                ng-click="$ctrl.showAddAddressModal(item)"\n        >Move</button>\n      </div>\n      <div class="t-default__col t-addresses__col _remove">\n        <div class="t-default__title-mobile t-addresses__title-mobile">Remove:</div>\n        <button type="button" class="t-addresses__remove"\n                ng-disabled="$ctrl.data.read_only"\n                ng-click="$ctrl.remove({ data: { field: $ctrl.field, item } })"\n        >\n          <svg-use name="trash"></svg-use>\n        </button>\n      </div>\n    </div>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(10)),
        i = s(t(1)),
        a = s(t(2));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = function() {
        function e(t, n) {
            "ngInject";
            (0, i.default)(this, e), this._dataCollectionService = t, this._modalDefaultService = n, this.move = !1
        }
        return e.$inject = ["dataCollectionService", "modalDefaultService"], (0, a.default)(e, [{
            key: "showAddAddressModal",
            value: function(e) {
                var t = this,
                    i = {
                        fields: this.field,
                        lookup: this._dataCollectionService.getFreeAddressTypes(this.field.data, this.userType),
                        addAddress: function(i) {
                            var a = i.data;
                            return t.changeFieldItem({
                                data: (0, n.default)({}, a, {
                                    item: e
                                })
                            })
                        }
                    };
                this._modalDefaultService.showModalWithTemplates("modal-add-address", i, "Move address")
            }
        }]), e
    }();
    exports.default = r
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3145));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("t-administrate-homework", []).component("tAdministrateHomework", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(3146)),
        i = a(t(3147));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(3148);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            homework: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="t-default t-administrate-homework">\n  <div class="t-default__header t-administrate-homework__header">\n    <div style="padding-top:10px" class="t-default__col t-administrate-homework__col _due">\n      <span class="t-default__title t-administrate-homework__title _sortable"\n            ng-class="{ _reverse: $ctrl.reverse.due_date }"\n            ng-click="$ctrl.sort([\'due_date\'], $ctrl._sortDataService.compareDates)">Due Date</span>\n    </div>\n    <div style="padding-top:10px" class="t-default__col t-administrate-homework__col _name">\n      <span class="t-default__title t-administrate-homework__title _sortable"\n            ng-class="{ _reverse: $ctrl.reverse.activity }"\n            ng-click="$ctrl.sort([\'activity\'])">Name</span>\n    </div>\n    <div style="padding-top:10px" class="t-default__col t-administrate-homework__col _subject">\n      <span class="t-default__title t-administrate-homework__title _sortable"\n            ng-class="{ _reverse: $ctrl.reverse.subject }"\n            ng-click="$ctrl.sort([\'subject\'])">Subject & Class</span>\n    </div>\n    <div style="padding-top:10px" class="t-default__col t-administrate-homework__col _subject">\n      <span class="t-default__title t-administrate-homework__title _sortable"\n            ng-class="{ _reverse: $ctrl.reverse.available_date }"\n            ng-click="$ctrl.sort([\'available_date\'], $ctrl._sortDataService.compareDates.bind({ format: \'DD/MM/YYYY\' }))"\n      >Set</span>\n    </div>\n    <div class="t-default__col t-administrate-homework__col _learners">\n      <span class="t-default__title t-administrate-homework__title">Learners</span>\n    </div>\n    <div class="t-default__col t-administrate-homework__col _edit">\n      <span class="t-default__title t-administrate-homework__title">Edit</span>\n    </div>\n    <div class="t-default__col t-administrate-homework__col _remove">\n      <span class="t-default__title t-administrate-homework__title">Remove</span>\n    </div>\n    <div class="t-default__col t-administrate-homework__col _clone">\n      <span class="t-default__title t-administrate-homework__title">Clone</span>\n    </div>\n  </div>\n  <div class="t-default__body t-administrate-homework__body">\n    <div class="t-default__row t-administrate-homework__row"\n         ng-click="$ctrl.openHomeworkDetails(item)"\n         ng-repeat="item in $ctrl.homework track by $index"\n         ng-class="{_disabled: item.isLoading}"\n    >\n      <div class="t-default__col t-administrate-homework__col _due">\n        <div class="t-default__title-mobile t-administrate-homework__title-mobile">Due:</div>\n        <div class="t-administrate-homework__date-outer">\n          <div class="t-administrate-homework__date _text"\n               ng-class="{ \'_green\': $ctrl._homeworkDataService.homeworkStatus(item) === \'green\',\n                           \'_red\': $ctrl._homeworkDataService.homeworkStatus(item) === \'red\',\n                           \'_orange\': $ctrl._homeworkDataService.homeworkStatus(item) === \'orange\'}">\n            {{ item.due_text }}&nbsp;\n          </div>\n          <div class="t-administrate-homework__date">{{ item.due_date | date:$ctrl._dateService.getDateFormat(\'defaultDate\')}}</div>\n        </div>\n      </div>\n      <div class="t-default__col t-administrate-homework__col _name">\n        <div class="t-default__title-mobile t-administrate-homework__title-mobile">Name:</div>\n        <button type="button" class="t-administrate-homework__btn-notice"\n                ng-click="$ctrl.openNoticeModal($event)"\n                ng-if="!item.available_date"\n        ></button>\n        {{ item.activity }}\n      </div>\n      <div class="t-default__col t-administrate-homework__col _subject">\n        <div class="t-default__title-mobile t-administrate-homework__title-mobile">Subject & Class:</div>\n        <div class="t-administrate-homework__text-outer">\n          <div class="t-administrate-homework__text">{{ item.subject }}</div>\n          <div class="t-administrate-homework__text" ng-if="item.teaching_group_id">\n            {{ $ctrl._homeworkDataService.getTeachingGroupById(item.teaching_group_id) }}\n          </div>\n        </div>\n      </div>\n      <div class="t-default__col t-administrate-homework__col _set">\n        <div class="t-default__title-mobile t-administrate-homework__title-mobile">Set:</div>\n        <div class="t-administrate-homework__text-outer">\n          <div class="t-administrate-homework__text">{{ item.available_date }}&nbsp;</div>\n          <div class="t-administrate-homework__text">{{ item.available_text }}</div>\n        </div>\n      </div>\n      <div class="t-default__col t-administrate-homework__col _learners t-administrate-homework__desktop">\n        <div class="t-default__title-mobile t-administrate-homework__title-mobile">Learners:</div>\n        <button type="button" class="t-administrate-homework__btn-learners"\n                ng-if="item.learners.length"\n                ng-click="$ctrl.openLearnersModal($event, item)">\n          {{ (item.learners | filter:$ctrl.completedFilter).length }}/{{ item.learners.length }}\n        </button>\n      </div>\n      <div class="t-default__col t-administrate-homework__col _edit">\n        <div class="t-default__title-mobile t-administrate-homework__title-mobile">Edit:</div>\n        <button type="button" class="t-administrate-homework__btn-edit"\n                ng-disabled="!item.deletable || item.isLoading"\n                ng-click="$ctrl.openUpdateHomework($event, item)">\n          <svg-use name="pencil"></svg-use>\n        </button>\n      </div>\n      <div class="t-default__col t-administrate-homework__col _remove">\n        <div class="t-default__title-mobile t-administrate-homework__title-mobile">Remove:</div>\n        <button type="button" class="t-administrate-homework__btn-remove"\n                ng-disabled="!item.deletable || item.isLoading"\n                ng-click="$ctrl.openRemoveHomeworkModal({ e: $event, homework: item })">\n          <svg-use name="trash"></svg-use>\n        </button>\n      </div>\n      <div class="t-default__col t-administrate-homework__col _clone">\n        <div class="t-default__title-mobile t-administrate-homework__title-mobile">Clone:</div>\n        <button type="button" class="t-administrate-homework__btn-clone"\n                ng-disabled="!item.cloneable || item.isLoading"\n                ng-click="$ctrl.openAddHomeworkWithClone($event, item)">\n          <svg-use name="clone"></svg-use>\n        </button>\n      </div>\n\t  <div class="t-default__col t-administrate-homework__col _learners t-administrate-homework__mobile">\n        <div class="t-default__title-mobile t-administrate-homework__title-mobile">Learners:</div>\n        <button type="button" class="t-administrate-homework__btn-learners"\n                ng-if="item.learners.length"\n                ng-click="$ctrl.openLearnersModal($event, item)">\n          {{ (item.learners | filter:$ctrl.completedFilter).length }}/{{ item.learners.length }}\n        </button>\n      </div>\n    </div>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = r(t(35)),
        i = r(t(10)),
        a = r(t(1)),
        s = r(t(2));

    function r(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var o = function() {
        function e(t, n, i, s, r, o, l, c, d, u) {
            "ngInject";
            (0, a.default)(this, e), this._$q = t, this._attachmentsService = n, this._studentsService = i, this._sortDataService = s, this._homeworkDataService = r, this._modalDefaultService = o, this._notificationService = l, this._homeworkConstants = d, this._dateService = u, this.reverse = {
                due_date: "current" === c.page || !c.page
            }
        }
        return e.$inject = ["$q", "attachmentsService", "studentsService", "sortDataService", "homeworkDataService", "modalDefaultService", "notificationService", "$stateParams", "homeworkConstants", "dateService"], (0, s.default)(e, [{
            key: "sort",
            value: function(e, t) {
                this.homework = this._sortDataService.sortBy(this.homework, e, this.reverse, t)
            }
        }, {
            key: "openHomeworkDetails",
            value: function(e) {
                e.isLoading || (e.isLoading = !0, this._homeworkDataService.openHomeworkDetails(e).finally(function() {
                    e.isLoading = !1
                }))
            }
        }, {
            key: "openNoticeModal",
            value: function(e) {
                e.stopPropagation();
                this._modalDefaultService.showModalWithTemplates("modal-show-notice", {
                    title: "Warning!",
                    body: "Homework is unpublished."
                }, "Warning")
            }
        }, {
            key: "openAddHomeworkWithClone",
            value: function(e, t) {
                var n = this;
                if (e.stopPropagation(), "EduLink" === t.source) {
                    var a = {
                        homework_id: t.id,
                        source: t.source
                    };
                    return t.isLoading = !0, this._homeworkDataService.getHomeworkDetailsFromDb(a).then(function(e) {
                        n.openAddHomeworkModalWithClone((0, i.default)({}, t, e.homework))
                    }).finally(function() {
                        t.isLoading = !1
                    })
                }
                this.openAddHomeworkModalWithClone(t)
            }
        }, {
            key: "openAddHomeworkModalWithClone",
            value: function(e) {
                var t = this,
                    n = {
                        homework_id: null
                    },
                    i = {
                        homework: e,
                        onSubmit: function(e) {
                            var i = e.valid,
                                a = e.model;
                            return i ? t._homeworkDataService.openLearnerSelectModal(a, n) : t._notificationService.showErrorNotification("Please fill all fields"), t._$q.resolve(!0)
                        },
                        onRemove: function(e) {
                            var n = e.attachment;
                            return t._attachmentsService.deleteDocument(n)
                        },
                        buttonText: "Next step"
                    };
                this.setHomeworkAttachments(e.attachments), this._modalDefaultService.showModalWithTemplates("modal-add-homework", i, "Add cloned homework")
            }
        }, {
            key: "openLearnersModal",
            value: function(e, t) {
                var i = this;
                e.stopPropagation(), t.learners.forEach(function(e) {
                    var t = i._studentsService.students.students.find(function(t) {
                        return t.id === e.id
                    });
                    t && (0, n.default)(e, t)
                });
                var a = {
                    learners: t.learners,
                    homeworkId: t.id,
                    homeworkSource: t.source
                };
                this._modalDefaultService.showModalWithTemplates("modal-homework-learners", a, "Related Learners: " + t.learners.length)
            }
        }, {
            key: "openUpdateHomework",
            value: function(e, t) {
                var n = this;
                if (e.stopPropagation(), "EduLink" === t.source) {
                    var a = {
                        homework_id: t.id,
                        source: t.source
                    };
                    return t.isLoading = !0, this._homeworkDataService.getHomeworkDetailsFromDb(a).then(function(e) {
                        n.openUpdateHomeworkModal((0, i.default)({}, t, e.homework))
                    }).finally(function() {
                        t.isLoading = !1
                    })
                }
                this.openUpdateHomeworkModal(t)
            }
        }, {
            key: "openUpdateHomeworkModal",
            value: function(e) {
                var t = this,
                    n = {
                        homework: e,
                        onSubmit: function(e) {
                            var n = e.valid,
                                i = e.model;
                            return n ? t._homeworkDataService.updateHomework(i).then(function() {
                                n && !t._homeworkDataService.intermediateError && (t._homeworkDataService.reloadHomework(), t.hideModal())
                            }).finally(function() {
                                t._homeworkDataService.intermediateError && (t._homeworkDataService.intermediateError = !1)
                            }) : (t._notificationService.showErrorNotification("Please fill all fields"), t._$q.resolve(!0))
                        },
                        buttonText: "Update homework",
                        onRemove: function(n) {
                            var i = n.attachment;
                            i.attachment_id ? t._homeworkDataService.homeworkAttachmentDelete(i.homework_id, i.attachment_id).then(function() {
                                return t._attachmentsService.deleteDocument(i)
                            }) : t.removeAttachment(i, e.id)
                        }
                    };
                this.setHomeworkAttachments(e.attachments), this._modalDefaultService.showModalWithTemplates("modal-add-homework", n, "Update homework")
            }
        }, {
            key: "openRemoveHomeworkModal",
            value: function(e) {
                var t = this,
                    n = e.e,
                    i = e.homework;
                n.stopPropagation();
                var a = {
                    confirm: function() {
                        t._homeworkDataService.removeHomeworkWithReloading({
                            e: n,
                            homework: i
                        }), t.hideModal()
                    },
                    cancel: function() {
                        return t.hideModal()
                    },
                    message: "Are you sure you want to remove the homework?"
                };
                this._modalDefaultService.showModalWithTemplates("modal-confirm", a, "Confirm")
            }
        }, {
            key: "setHomeworkAttachments",
            value: function(e) {
                this._attachmentsService.clearDocuments(), this._attachmentsService.documents = e
            }
        }, {
            key: "completedFilter",
            value: function(e) {
                return !0 === e.completed
            }
        }, {
            key: "removeAttachment",
            value: function(e, t) {
                var n = this;
                e.id ? this._homeworkDataService.homeworkAttachmentDelete(t, e.id).then(function() {
                    return n._attachmentsService.deleteDocument(e)
                }) : this._attachmentsService.deleteDocument(e)
            }
        }, {
            key: "hideModal",
            value: function() {
                this._modalDefaultService.pop()
            }
        }]), e
    }();
    exports.default = o
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3150));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("t-appointments", []).component("tAppointments", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(3151)),
        i = a(t(3152));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(3153);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            appointments: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="t-default t-appointments">\n  <div class="t-default__header">\n    <div class="t-default__col t-appointments__col _time">Time</div>\n    <div class="t-default__col t-appointments__col _teacher">Teacher</div>\n    <div class="t-default__col t-appointments__col _parent">Parent</div>\n    <div class="t-default__col t-appointments__col _subject">Subject</div>\n    <div class="t-default__col t-appointments__col _learner">Learner</div>\n    <div class="t-default__col t-appointments__col _due">Duration</div>\n  </div>\n  <div class="t-default__body t-appointments__body">\n    <div class="t-default__row t-appointments__row" ng-repeat="appointment in $ctrl.appointments track by appointment.start_time">\n      <div class="t-default__col t-appointments__col _time">\n        <div class="t-default__title-mobile t-appointments__title-mobile">Time:</div>\n        {{ ::$ctrl.getFormattedDate(appointment.start_time, \'HH:mm\') }}\n      </div>\n      <div class="t-default__col t-appointments__col _teacher">\n        <div class="t-default__title-mobile t-appointments__title-mobile">Teacher:</div>\n        {{ ::appointment.employee.name }}\n      </div>\n      <div class="t-default__col t-appointments__col _parent">\n        <div class="t-default__title-mobile t-appointments__title-mobile">Parent:</div>\n        {{ ::appointment.parent.name }}\n      </div>\n      <div class="t-default__col t-appointments__col _subject">\n        <div class="t-default__title-mobile t-appointments__title-mobile">Subject:</div>\n        {{ ::appointment.subjects }}\n      </div>\n      <div class="t-default__col t-appointments__col _learner">\n        <div class="t-default__title-mobile t-appointments__title-mobile">Learner:</div>\n        {{ ::appointment.learner.name }}\n      </div>\n      <div class="t-default__col t-appointments__col _due">\n        <div class="t-default__title-mobile t-appointments__title-mobile">Duration:</div>\n        {{ ::$ctrl.getDuration(appointment.start_time, appointment.end_time) }}\n      </div>\n    </div>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t) {
            "ngInject";
            (0, n.default)(this, e), this._dateService = t
        }
        return e.$inject = ["dateService"], (0, i.default)(e, [{
            key: "getFormattedDate",
            value: function(e, t) {
                return moment(e).format(t)
            }
        }, {
            key: "getDuration",
            value: function(e, t) {
                var n = moment.duration(moment(t).diff(moment(e))),
                    i = n.hours(),
                    a = n.minutes();
                return "" + (i ? i + " " + (1 === i ? "Hour" : "Hours") + " " : "") + (a ? a + " " + (1 === a ? "Minute" : "Minutes") + " " : "")
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3155));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("t-attendance", []).component("tAttendance", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(3156)),
        i = a(t(3157));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(150);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            data: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="t-default t-attendance">\n  <div class="t-default__header t-attendance__header">\n    <div class="t-default__col t-attendance__col _description">\n      <span class="t-default__title t-attendance__title _sortable"\n            ng-class="{ _reverse: $ctrl.reverse.description }"\n            ng-click="$ctrl.sort([\'description\'])">\n        Description\n      </span>\n    </div>\n    <div class="t-default__col t-attendance__col _date">\n      <span class="t-default__title t-attendance__title _sortable"\n            ng-class="{ _reverse: $ctrl.reverse.date }"\n            ng-click="$ctrl.sort([\'date\'], $ctrl._sortDataService.compareDates)">Date</span>\n    </div>\n    <div class="t-default__col t-attendance__col _type">\n      <span class="t-default__title t-attendance__title _sortable"\n            ng-class="{ _reverse: $ctrl.reverse.type }"\n            ng-click="$ctrl.sort([\'type\'])">Type</span>\n    </div>\n    <div class="t-default__col t-attendance__col _period"\n         ng-if="!$ctrl._homeworkDataService.isHiddenField(\'submitted\')">\n      <span class="t-default__title t-attendance__title _sortable"\n            ng-class="{ _reverse: $ctrl.reverse.period }"\n            ng-click="$ctrl.sort([\'period\'])">Period</span>\n    </div>\n  </div>\n  <div class="t-default__body t-attendance__body">\n    <div class="t-default__row t-attendance__row"  ng-repeat="exception in $ctrl.data track by $index">\n      <div class="t-default__col t-attendance__col _description">\n        <div class="t-default__title-mobile t-attendance__title-mobile">Description:</div>\n        {{ exception.description }}\n      </div>\n      <div class="t-default__col t-attendance__col _date">\n        <div class="t-default__title-mobile t-attendance__title-mobile">Date:</div>\n        {{ exception.date | date:$ctrl._dateService.getDateFormat(\'defaultDate\') }}\n      </div>\n      <div class="t-default__col t-attendance__col _type">\n        <div class="t-default__title-mobile t-attendance__title-mobile">Type:</div>\n        {{ exception.type }}\n      </div>\n      <div class="t-default__col t-attendance__col _period">\n        <div class="t-default__title-mobile t-attendance__title-mobile">Period:</div>\n        {{ exception.period }}\n      </div>\n    </div>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i) {
            "ngInject";
            (0, n.default)(this, e), this._sortDataService = t, this._dateService = i, this.reverse = {}
        }
        return e.$inject = ["sortDataService", "dateService"], (0, i.default)(e, [{
            key: "sort",
            value: function(e, t) {
                this.data = this._sortDataService.sortBy(this.data, e, this.reverse, t)
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3159));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("t-attendance-sessions", []).component("tAttendanceSessions", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(3160)),
        i = a(t(3161));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(3162), t(150);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            data: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="t-attendance-sessions" ng-if="$ctrl.data">\n  <div class="t-default__header t-attendance__header">\n    <div class="t-default__col t-attendance__col">\n      <span class="t-default__title t-attendance__title">Session</span>\n    </div>\n    <div class="t-default__col t-attendance__col">\n      <span class="t-default__title t-attendance__title">Mark</span>\n    </div>\n    <div class="t-default__col t-attendance__col">\n      <span class="t-default__title t-attendance__title">Present</span>\n    </div>\n  </div>\n  <div class="t-default__body t-attendance__body">\n    <div class="t-default__row t-attendance__row"  ng-repeat="session in $ctrl.data track by $index">\n      <div class="t-default__col t-attendance__col">\n        <div class="t-default__title-mobile t-attendance__title-mobile">Session:</div>\n        <div class="t-attendance__outter">\n\t\t\t<div class="t-attendance__col-text t-attendance__inner ng-binding">{{ session.session }}</div>\n\t\t</div>\n      </div>\n      <div class="t-default__col t-attendance__col">\n        <div class="t-default__title-mobile t-attendance__title-mobile">Mark:</div>\n        <div class="t-attendance__outter">\n\t\t\t<div class="t-attendance__col-text t-attendance__inner ng-binding">{{ session.mark.code }}</div>\n\t\t\t<div class="t-attendance__col-text t-attendance__inner ng-binding">{{ session.mark.name }}</div>\n\t\t</div>\n      </div>\n      <div class="t-default__col t-attendance__col _icon">\n        <div class="t-default__title-mobile t-attendance__title-mobile">Present:</div>\n        <svg-use name="check" ng-if="session.mark.present"></svg-use>\n        <svg-use name="cross" ng-if="session.mark.present === false"></svg-use>\n\t\t<svg-use name="more" ng-if="session.mark.present === null"></svg-use>\n      </div>\n    </div>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t) {
            "ngInject";
            (0, n.default)(this, e), this.reverse = {}, this._sortDataService = t
        }
        return e.$inject = ["sortDataService"], (0, i.default)(e, [{
            key: "sort",
            value: function(e, t) {
                this.data = this._sortDataService.sortBy(this.data, e, this.reverse, t)
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3164));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("t-attendance-lessons", []).component("tAttendanceLessons", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(3165)),
        i = a(t(3166));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(3167), t(150);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            data: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="t-attendance-lessons" ng-if="$ctrl.data.length > 0">\n  <div class="t-default__header t-attendance__header">\n    <div class="t-default__col t-attendance__col">\n      <span class="t-default__title t-attendance__title">Period</span>\n    </div>\n    <div class="t-default__col t-attendance__col">\n      <span class="t-default__title t-attendance__title">Lesson</span>\n    </div>\n    <div class="t-default__col t-attendance__col">\n      <span class="t-default__title t-attendance__title">Mark</span>\n    </div>\n    <div class="t-default__col t-attendance__col">\n      <span class="t-default__title t-attendance__title">Present</span>\n    </div>\n  </div>\n  <div class="t-default__body t-attendance__body">\n    <div class="t-default__row t-attendance__row"  ng-repeat="lesson in $ctrl.data track by $index">\n      <div class="t-default__col t-attendance__col">\n        <div class="t-default__title-mobile t-attendance__title-mobile">Period:</div>\n\t\t<div class="t-attendance__outter">\n\t\t\t<div class="t-attendance__col-text t-attendance__inner ng-binding">{{ lesson.period.description }}</div>\n        \t<div class="t-attendance__col-text t-attendance__inner ng-binding">{{ $ctrl.time(lesson.period.start_time) | date:"H:mm" }} - {{ $ctrl.time(lesson.period.end_time) | date:"H:mm" }}</div>\n\t\t</div>\n      </div>\n      <div class="t-default__col t-attendance__col">\n        <div class="t-default__title-mobile t-attendance__title-mobile">Lesson:</div>\n\t\t<div class="t-attendance__outter">\n\t\t\t<div class="t-attendance__col-text t-attendance__inner ng-binding">{{ lesson.teaching_group.subject }} ({{ lesson.teaching_group.name }})</div>\n\t\t\t<div class="t-attendance__col-text t-attendance__inner ng-binding" ng-repeat="teacher in lesson.teachers">{{ teacher.title }} {{ teacher.forename }} {{ teacher.surname }}</div>\n\t\t</div>\n      </div>\n      <div class="t-default__col t-attendance__col">\n        <div class="t-default__title-mobile t-attendance__title-mobile">Mark:</div>\n\t\t<div class="t-attendance__outter">\n\t\t\t<div class="t-attendance__col-text t-attendance__inner ng-binding">{{ lesson.mark.code }}</div>\n\t\t\t<div class="t-attendance__col-text t-attendance__inner ng-binding">{{ lesson.mark.name }}</div>\n\t\t</div>\n      </div>\n      <div class="t-default__col t-attendance__col _icon">\n        <div class="t-default__title-mobile t-attendance__title-mobile">Present:</div>\n        <svg-use name="check" ng-if="lesson.mark.present"></svg-use>\n        <svg-use name="cross" ng-if="lesson.mark.present === false"></svg-use>\n\t\t<svg-use name="more" ng-if="lesson.mark.present === null"></svg-use>\n      </div>\n    </div>\n  </div>\n</div>\n<div class="t-attendance-clubs" ng-if="$ctrl.data.length === 0">\n\t<div style="padding: 0px 20px 20px 20px; font-weight: 500; font-size: 1.6rem; color: #474c52; text-align: center; display: block;">\n\t\tNo Lessons Today\n\t</div>\n</div>'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t) {
            "ngInject";
            (0, n.default)(this, e), this.reverse = {}, this._sortDataService = t
        }
        return e.$inject = ["sortDataService"], (0, i.default)(e, [{
            key: "time",
            value: function(e) {
                var t = new Date,
                    n = String(t.getDate()).padStart(2, "0");
                return t = String(t.getMonth() + 1).padStart(2, "0") + "/" + n + "/" + t.getFullYear() + " ", new Date(t + e)
            }
        }, {
            key: "sort",
            value: function(e, t) {
                this.data = this._sortDataService.sortBy(this.data, e, this.reverse, t)
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3169));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("t-attendance-overview", []).component("tAttendanceOverview", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(3170)),
        i = a(t(3171));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(3172);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            data: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="t-default t-attendance-overview">\n  <div class="t-default__header t-attendance-overview__header">\n    <div class="t-default__col t-attendance-overview__col _learners">\n      <span class="t-default__title t-clubs__title _sortable"\n            ng-class="{ _reverse: $ctrl.reverse.name }"\n            ng-click="$ctrl.sort([\'name\'])"\n      >Learners</span>\n    </div>\n    <div class="t-default__col t-attendance-overview__col _slots">\n      <span class="t-default__title t-clubs__title _sortable"\n            ng-class="{ _reverse: $ctrl.reverse[\'summary.bookings.total\'] }"\n            ng-click="$ctrl.sort([\'summary.bookings.total\'], $ctrl._sortDataService.compareNumbers)"\n      >Number of slots</span>\n    </div>\n    <div class="t-default__col t-attendance-overview__col _attended">\n      <span class="t-default__title t-clubs__title _sortable"\n            ng-class="{ _reverse: $ctrl.reverse[\'summary.bookings.attended\'] }"\n            ng-click="$ctrl.sort([\'summary.bookings.attended\'], $ctrl._sortDataService.compareNumbers)"\n      >Attended</span>\n    </div>\n    <div class="t-default__col t-attendance-overview__col _not-attended">\n      <span class="t-default__title t-clubs__title _sortable"\n            ng-class="{ _reverse: $ctrl.reverse[\'summary.bookings.missed\'] }"\n            ng-click="$ctrl.sort([\'summary.bookings.missed\'], $ctrl._sortDataService.compareNumbers)"\n      >Not attended</span>\n    </div>\n    <div class="t-default__col t-attendance-overview__col _no-parents">\n      <span class="t-default__title t-clubs__title _sortable"\n            ng-class="{ _reverse: $ctrl.reverse[\'summary.total_parents\'] }"\n            ng-click="$ctrl.sort([\'summary.total_parents\'], $ctrl._sortDataService.compareNumbers)"\n      >No parents</span>\n    </div>\n  </div>\n  <div class="t-default__body t-attendance-overview__body">\n    <div class="t-attendance-overview__message" ng-if="!$ctrl.data.length">No data.</div>\n    <div class="t-attendance-overview__row-outer"\n         ng-repeat="item in $ctrl.data track by $index"\n         ng-class="{_opened: item.isOpened}"\n         ng-if="$ctrl.data.length"\n    >\n      <div class="t-default__row t-attendance-overview__row" ng-click="$ctrl.toggleRow(item)">\n        <div class="t-default__col t-attendance-overview__col _learners _toggle">\n          <div class="t-default__title-mobile t-attendance-overview__title-mobile">Learners:</div>\n          {{ item.name }}\n        </div>\n        <div class="t-default__col t-attendance-overview__col _slots">\n          <div class="t-default__title-mobile t-attendance-overview__title-mobile">Number of slots:</div>\n          {{ item.summary.bookings.total }}\n        </div>\n        <div class="t-default__col t-attendance-overview__col _attended">\n          <div class="t-default__title-mobile t-attendance-overview__title-mobile">Attended:</div>\n          {{ item.summary.bookings.attended }}\n        </div>\n        <div class="t-default__col t-attendance-overview__col _not-attended">\n          <div class="t-default__title-mobile t-attendance-overview__title-mobile">Not attended:</div>\n          {{ item.summary.bookings.missed }}\n        </div>\n        <div class="t-default__col t-attendance-overview__col _no-parents">\n          <div class="t-default__title-mobile t-attendance-overview__title-mobile">No parents:</div>\n          {{ item.summary.total_parents }}\n        </div>\n      </div>\n      <div class="t-attendance-overview__info">\n        <div class="t-default__row t-attendance-overview__row" ng-repeat="slot in item.slots track by $index">\n          <div class="t-default__col t-attendance-overview__col _learners">\n            {{ slot.parent.name }}\n          </div>\n          <div class="t-default__col t-attendance-overview__col _slots">\n            {{ slot.teacher.name }}\n          </div>\n          <div class="t-default__col t-attendance-overview__col _attended">\n            {{ slot.subjects }}\n          </div>\n          <div class="t-default__col t-attendance-overview__col _not-attended">\n            {{ $ctrl.getFormattedDate(slot.start_time, \'h:mm A\') }}\n          </div>\n          <div class="t-default__col t-attendance-overview__col _no-parents">\n            <svg-use name="cross" ng-if="!slot.parent.attended"></svg-use>\n            <svg-use name="tick" ng-if="slot.parent.attended"></svg-use>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t) {
            "ngInject";
            (0, n.default)(this, e), this._sortDataService = t, this.reverse = {}
        }
        return e.$inject = ["sortDataService"], (0, i.default)(e, [{
            key: "$onInit",
            value: function() {
                this.sort(["name"])
            }
        }, {
            key: "sort",
            value: function(e, t) {
                this.data = this._sortDataService.sortBy(this.data, e, this.reverse, t)
            }
        }, {
            key: "toggleRow",
            value: function(e) {
                e.isOpened = !e.isOpened
            }
        }, {
            key: "getFormattedDate",
            value: function(e, t) {
                return moment(e).format(t)
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3174));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("t-attendance-clubs", []).component("tAttendanceClubs", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(3175)),
        i = a(t(3176));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(3177), t(150);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            data: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="t-attendance-clubs" ng-if="$ctrl.data.length > 0">\n  <div class="t-default__header t-attendance__header">\n    <div class="t-default__col t-attendance__col">\n      <span class="t-default__title t-attendance__title">Time</span>\n    </div>\n    <div class="t-default__col t-attendance__col">\n      <span class="t-default__title t-attendance__title">Club</span>\n    </div>\n    <div class="t-default__col t-attendance__col">\n      <span class="t-default__title t-attendance__title">Present</span>\n    </div>\n  </div>\n  <div class="t-default__body t-attendance__body">\n    <div class="t-default__row t-attendance__row"  ng-repeat="club in $ctrl.data track by $index">\n      <div class="t-default__col t-attendance__col">\n        <div class="t-default__title-mobile t-attendance__title-mobile">Time:</div>\n        <div class="t-attendance__outter">\n\t\t\t<div class="t-attendance__col-text t-attendance__inner ng-binding">{{ $ctrl.time(club.start_time) | date:"H:mm" }} - {{ $ctrl.time(club.end_time) | date:"H:mm" }}</div>\n\t\t</div>\n      </div>\n      <div class="t-default__col t-attendance__col">\n        <div class="t-default__title-mobile t-attendance__title-mobile">Club:</div>\n        <div class="t-attendance__outter">\n\t\t\t<div class="t-attendance__col-text t-attendance__inner ng-binding">{{ club.club_name }}</div>\n\t\t\t<div class="t-attendance__col-text t-attendance__inner ng-binding">{{ club.club_location }}</div>\n\t\t</div>\n      </div>\n      <div class="t-default__col t-attendance__col _icon">\n        <div class="t-default__title-mobile t-attendance__title-mobile">Present:</div>\n        <svg-use name="check" ng-if="club.present"></svg-use>\n        <svg-use name="cross" ng-if="club.present === false"></svg-use>\n\t\t<svg-use name="more" ng-if="club.present === null"></svg-use>\n      </div>\n    </div>\n  </div>\n</div>\n<div class="t-attendance-clubs" ng-if="$ctrl.data.length === 0">\n\t<div style="padding: 0px 20px 20px 20px; font-weight: 500; font-size: 1.6rem; color: #474c52; text-align: center; display: block;">\n\t\tNo Clubs Today\n\t</div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t) {
            "ngInject";
            (0, n.default)(this, e), this.reverse = {}, this._sortDataService = t
        }
        return e.$inject = ["sortDataService"], (0, i.default)(e, [{
            key: "time",
            value: function(e) {
                return new Date(e)
            }
        }, {
            key: "sort",
            value: function(e, t) {
                this.data = this._sortDataService.sortBy(this.data, e, this.reverse, t)
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3179));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("t-book-slot", []).component("tBookSlot", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(3180),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    t(3181);
    var s = {
        controller: ["dateService", function(e) {
            "ngInject";
            return {
                _dateService: e
            }
        }],
        template: a.default,
        bindings: {
            session: "<",
            select: "&",
            learner_id: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="t-book-slot">\n  <div class="t-book-slot__wrapper">\n    <div class="t-book-slot__date">\n      {{ $ctrl.session.date | date:$ctrl._dateService.getDateFormat(\'defaultDate\') }}\n    </div>\n    <ul class="t-book-slot__list">\n      <li class="t-book-slot__item"\n          ng-click="$ctrl.select({ slot })"\n          ng-class="{_available: slot.available && !slot.booked}"\n          ng-repeat="slot in $ctrl.session.slots track by $index">\n        {{ slot.start_time | date:\'HH:mm\':\'UTC\' }}\n      </li>\n    </ul>\n  </div>\n</div>\n'
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3183));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("t-bookings-report", []).component("tBookingsReport", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(3184)),
        i = a(t(3185));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(3186);
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="t-default t-bookings-report">\n  <div class="t-default__header t-bookings-report__header">\n    <div class="t-default__col t-bookings-report__col _name">\n      <span class="t-default__title _sortable"\n            ng-class="{ _reverse: $ctrl.reverse.description }"\n            ng-click="$ctrl.sort([\'description\'])"\n      >Name</span>\n    </div>\n    <div class="t-default__col t-bookings-report__col _timetabled">\n      <span class="t-default__title _sortable"\n            ng-class="{ _reverse: $ctrl.reverse.timetabled }"\n            ng-click="$ctrl.sort([\'periods.timetabled.percent\'])"\n      >Timetabled</span>\n    </div>\n    <div class="t-default__col t-bookings-report__col _booked">\n      <span class="t-default__title _sortable"\n            ng-class="{ _reverse: $ctrl.reverse.booked }"\n            ng-click="$ctrl.sort([\'periods.booked.percent\'])"\n      >Booked</span>\n    </div>\n    <div class="t-default__col t-bookings-report__col _total">\n      <span class="t-default__title _sortable"\n            ng-class="{ _reverse: $ctrl.reverse.used }"\n            ng-click="$ctrl.sort([\'periods.used.percent\'])"\n      >Usage Total</span>\n    </div>\n  </div>\n  <div class="t-default__body t-bookings-report__body">\n    <div class="t-default__row t-bookings-report__row"\n         ng-repeat="item in $ctrl._resourceBookingService.report"\n    >\n      <div class="t-bookings-report__row-title"\n           ng-class="{ _disabled: !item.employees.length }"\n           ng-click="$ctrl.toggleClass(item)"\n      >\n        <div class="t-default__col t-bookings-report__col _name"\n             ng-class="{ _opened: item.isOpened }"\n        >\n          {{ ::item.description }}\n        </div>\n        <div class="t-default__col t-bookings-report__col _timetabled">\n          {{ ::item.periods.timetabled.percent }}%\n        </div>\n        <div class="t-default__col t-bookings-report__col _booked">\n          {{ ::item.periods.booked.percent }}%\n        </div>\n        <div class="t-default__col t-bookings-report__col _total">\n          {{ ::item.periods.used.percent }}%\n        </div>\n      </div>\n\n      <div class="t-bookings-report__employees" ng-if="item.isOpened">\n        <div class="t-bookings-report__employee" ng-repeat="employee in item.employees track by $index">\n          <div class="t-default__col t-bookings-report__col _name">\n            <div class="t-default__title-mobile t-bookings-report__title-mobile">Name:</div>\n            {{ ::employee.name }}\n          </div>\n          <div class="t-default__col t-bookings-report__col _timetabled">\n            <div class="t-default__title-mobile t-bookings-report__title-mobile">Timetabled:</div>\n            {{ ::employee.timetabled.total }}\n          </div>\n          <div class="t-default__col t-bookings-report__col _booked">\n            <div class="t-default__title-mobile t-bookings-report__title-mobile">Booked:</div>\n            {{ ::employee.booked.total }}\n          </div>\n          <div class="t-default__col t-bookings-report__col _total">\n            <div class="t-default__title-mobile t-bookings-report__title-mobile">Total:</div>\n            {{ ::employee.percent }}%\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i) {
            "ngInject";
            (0, n.default)(this, e), this._resourceBookingService = t, this._sortDataService = i, this.reverse = {
                description: !0
            }
        }
        return e.$inject = ["ResourceBookingService", "sortDataService"], (0, i.default)(e, [{
            key: "$onInit",
            value: function() {
                this.sort("description")
            }
        }, {
            key: "sort",
            value: function(e) {
                this._resourceBookingService.report = this._sortDataService.sortBy(this._resourceBookingService.report, e, this.reverse)
            }
        }, {
            key: "toggleClass",
            value: function(e) {
                e.isOpened = !e.isOpened
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3188));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("t-cars", []).component("tCars", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(3189),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    t(3190);
    var s = {
        template: a.default,
        bindings: {
            field: "<",
            remove: "&"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="t-default t-cars">\n  <div class="t-default__header">\n    <div class="t-default__col t-cars__col _model">Model</div>\n    <div class="t-default__col t-cars__col _colour">Colour</div>\n    <div class="t-default__col t-cars__col _registration">Registration</div>\n    <div class="t-default__col t-cars__col _remove"></div>\n  </div>\n  <div class="t-default__body">\n    <div class="t-default__row" ng-repeat="item in $ctrl.field.data track by $index">\n      <div class="t-default__col t-cars__col _model">\n        <div class="t-default__title-mobile t-cars__title-mobile">Model:</div>\n        {{ item.model }}\n      </div>\n      <div class="t-default__col t-cars__col _colour">\n        <div class="t-default__title-mobile t-cars__title-mobile">Colour:</div>\n        {{ item.colour }}\n      </div>\n      <div class="t-default__col t-cars__col _registration">\n        <div class="t-default__title-mobile t-cars__title-mobile">Registration:</div>\n        {{ item.registration }}\n      </div>\n      <div class="t-default__col t-cars__col _remove">\n        <div class="t-default__title-mobile t-cars__title-mobile">Remove:</div>\n        <button type="button" class="t-cars__remove"\n                ng-disabled="$ctrl.data.read_only"\n                ng-click="$ctrl.remove({ field: $ctrl.field, item })">\n          <svg-use name="trash"></svg-use>\n        </button>\n      </div>\n    </div>\n  </div>\n</div>\n'
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3192));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("t-catering", []).component("tCatering", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(3193)),
        i = a(t(3194));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(3195);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            data: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="t-default t-catering">\n  <div class="t-default__header t-catering__header">\n    <div class="t-default__col t-catering__col _date">\n      <span class="t-default__title t-catering__title">Date & Time</span>\n    </div>\n    <div class="t-default__col t-catering__col _items">\n      <span class="t-default__title t-catering__title">Items</span>\n    </div>\n    <div class="t-default__col t-catering__col _amount">\n      <span class="t-default__title t-catering__title">Amount</span>\n    </div>\n  </div>\n\n  <div class="t-default__body t-catering__body">\n    <div class="t-default__row t-catering__row" ng-repeat="item in $ctrl.data track by $index">\n      <div class="t-default__col t-catering__col _date">\n        <div class="t-default__title-mobile t-catering__title-mobile">Date & Time:</div>\n        <div class="t-catering__list">\n          <div class="t-catering__text">{{ ::$ctrl.getFormattedDate(item.date, \'HH:mm\') }}</div>\n          <div class="t-catering__text">{{ ::$ctrl.getFormattedDate(item.date, $ctrl._dateService.getDateFormat(\'momentDate\')) }}</div>\n        </div>\n      </div>\n      <div class="t-default__col t-catering__col _items">\n        <div class="t-default__title-mobile t-catering__title-mobile">Items & Amount:</div>\n        <div class="t-catering__list">\n          <div class="t-catering__text" ng-repeat="row in item.items track by $index">\n            <span>{{ ::row.item }}</span>\n            <span class="t-catering__text _amount">&pound{{ ::row.price | number: 2 }}</span>\n          </div>\n        </div>\n      </div>\n      <div class="t-default__col t-catering__col _amount">\n        <div class="t-catering__list">\n          <div class="t-catering__text" ng-repeat="row in item.items track by $index">\n            &pound{{ ::row.price | number: 2 }}\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class="t-catering__empty" ng-if="!$ctrl.data.length">\n      No data.\n    </div>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t) {
            "ngInject";
            (0, n.default)(this, e), this._dateService = t
        }
        return e.$inject = ["dateService"], (0, i.default)(e, [{
            key: "getFormattedDate",
            value: function(e, t) {
                return moment(e).format(t)
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3197));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("t-club-attendance-overview", []).component("tClubAttendanceOverview", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(3198)),
        i = a(t(3199));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(3200);
    var s = {
        bindings: {
            analyticsData: "<"
        },
        controller: i.default,
        template: n.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<table class="t-club-attendance-overview">\n  <thead class="t-club-attendance-overview__header">\n    <tr class="t-club-attendance-overview__row">\n      <td class="t-club-attendance-overview__col _name">\n        <span class="t-default__title t-club-attendance-overview__title _sortable"\n          ng-class="{ _reverse: $ctrl.reverse.name, _active: $ctrl.lastActiveSort === \'name\' }"\n          ng-click="$ctrl.sort([\'name\'])">Learner</span>\n      </td>\n      <td class="t-club-attendance-overview__col _eal">\n        <span class="t-default__title t-club-attendance-overview__title _sortable"\n          ng-class="{ _reverse: $ctrl.reverse.eal, _active: $ctrl.lastActiveSort === \'eal\' }"\n          ng-click="$ctrl.sort([\'eal\'])">EAL</span>\n      </td>\n\n      <td class="t-club-attendance-overview__col _pupil_premium">\n        <span class="t-default__title t-club-attendance-overview__title _sortable"\n          ng-class="{ _reverse: $ctrl.reverse.pupil_premium, _active: $ctrl.lastActiveSort === \'pupil_premium\' }"\n          ng-click="$ctrl.sort([\'pupil_premium\'])">PP</span>\n      </td>\n\n      <td class="t-club-attendance-overview__col _sen">\n        <span class="t-default__title t-club-attendance-overview__title _sortable"\n          ng-class="{ _reverse: $ctrl.reverse.sen, _active: $ctrl.lastActiveSort === \'sen\' }"\n          ng-click="$ctrl.sort([\'sen\'])">SEN</span>\n      </td>\n\n      <td class="t-club-attendance-overview__col _club"\n        ng-repeat="club in $ctrl.clubs track by club.club_id">\n        <span class="t-default__title t-club-attendance-overview__title _sortable"\n          ng-class="{ _reverse: $ctrl.reverse[club.club_name], _active: $ctrl.lastActiveSort === club.club_name }"\n          ng-click="$ctrl.sortByClubAttendance(club)">{{ club.club_name }}</span>\n      </td>\n      <td class="t-club-attendance-overview__col _total">\n        <span class="t-default__title t-club-attendance-overview__title _sortable"\n          ng-class="{ _reverse: $ctrl.reverse.total, _active: $ctrl.lastActiveSort === \'total\' }"\n          ng-click="$ctrl.sort([\'total\'])">Total</span>\n      </td>\n    </tr>\n  </thead>\n  <tbody class="t-club-attendance-overview__body">\n      <tr class="t-club-attendance-overview__row _no-data"\n        ng-if="!$ctrl.learners.length">\n        <td class="t-club-attendance-overview__col _no-data"\n          ng-attr-colspan="{{ $ctrl.getColumnsLength() }}">No data.</td>\n      </tr>\n      <tr class="t-club-attendance-overview__row"\n        ng-if="$ctrl.learners.length"\n        ng-repeat="learner in $ctrl.learners track by learner.student_id">\n        <td class="t-club-attendance-overview__col _name">\n          <div class="t-club-attendance-overview__title-mobile">Learner:</div>\n          {{ learner.name }}\n        </td>\n\n        <td class="t-club-attendance-overview__col _eal">\n          <div class="t-club-attendance-overview__title-mobile">EAL:</div>\n          {{ learner.eal }}\n        </td>\n\n        <td class="t-club-attendance-overview__col _pupil_premium">\n          <div class="t-club-attendance-overview__title-mobile">PP:</div>\n          {{ learner.pupil_premium }}\n        </td>\n\n        <td class="t-club-attendance-overview__col _sen">\n          <div class="t-club-attendance-overview__title-mobile">SEN:</div>\n          {{ learner.sen }}\n        </td>\n\n        <td class="t-club-attendance-overview__col _club"\n          ng-repeat="clubData in $ctrl.clubs track by clubData.club_id">\n          <div class="t-club-attendance-overview__title-mobile">{{ clubData.club_name }}:</div>\n          {{ $ctrl.getClubAttendance(learner, clubData) }}\n        </td>\n        <td class="t-club-attendance-overview__col _total">\n          <div class="t-club-attendance-overview__title-mobile">Total:</div>\n          {{ $ctrl.getTotalValue(learner) }}\n        </td>\n      </tr>\n  </tbody>\n</table>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(11)),
        i = s(t(1)),
        a = s(t(2));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = function() {
        function e(t, n, a) {
            "ngInject";
            (0, i.default)(this, e), this._$scope = t, this._modalDefaultService = n, this._sortDataService = a, this.dataChangesSubscription = angular.noop, this.reverse = {}, this.analyticsData = null, this.lastActiveSort = null
        }
        return e.$inject = ["$scope", "modalDefaultService", "sortDataService"], (0, a.default)(e, [{
            key: "$onInit",
            value: function() {
                var e = this;
                this.dataChangesSubscription = this._$scope.$watch(function() {
                    return e.analyticsData
                }, function(t) {
                    t && e.performSortOnDataChange()
                })
            }
        }, {
            key: "$onDestroy",
            value: function() {
                this.dataChangesSubscription()
            }
        }, {
            key: "performSortOnDataChange",
            value: function() {
                var e = this;
                if (this.lastActiveSort)
                    if (this.reverse[this.lastActiveSort] = !this.reverse[this.lastActiveSort], ["name", "total"].includes(this.lastActiveSort)) this.sort([this.lastActiveSort]);
                    else {
                        var t = this.clubs.find(function(t) {
                            return t.club_name === e.lastActiveSort
                        });
                        t ? this.sortByClubAttendance(t) : this.sort(["name"])
                    }
                else this.sort(["name"])
            }
        }, {
            key: "sort",
            value: function(e) {
                this.learners = this._sortDataService.sortBy(this.learners, e, this.reverse), this.lastActiveSort = e[0]
            }
        }, {
            key: "sortByClubAttendance",
            value: function(e) {
                var t = this.learners.reduce(function(t, n) {
                        if (!n.club_attendance || !n.club_attendance.length) t.withoutThisClub.push(n);
                        else {
                            var i = n.club_attendance.find(function(t) {
                                return t.club_id === e.club_id
                            });
                            i ? null === i.attended ? t.withNullAttendance.push(n) : t.withAttendance.push(n) : t.withoutThisClub.push(n)
                        }
                        return t
                    }, {
                        withoutThisClub: [],
                        withNullAttendance: [],
                        withAttendance: []
                    }),
                    i = t.withoutThisClub,
                    a = t.withNullAttendance,
                    s = t.withAttendance;
                this.reverse[e.club_name] ? this.learners = [].concat((0, n.default)(i), (0, n.default)(a), (0, n.default)(this.sortByClubAttendanceValue(s, e, this.reverse[e.club_name]))) : this.learners = [].concat((0, n.default)(this.sortByClubAttendanceValue(s, e, this.reverse[e.club_name])), (0, n.default)(a), (0, n.default)(i)), this.reverse[e.club_name] = !this.reverse[e.club_name], this.lastActiveSort = e.club_name
            }
        }, {
            key: "sortByClubAttendanceValue",
            value: function(e, t, i) {
                return [].concat((0, n.default)(e)).sort(function(e, n) {
                    var a = e.club_attendance,
                        s = n.club_attendance,
                        r = a.find(function(e) {
                            return e.club_id === t.club_id
                        }),
                        o = s.find(function(e) {
                            return e.club_id === t.club_id
                        });
                    return i ? o.attended - r.attended : r.attended - o.attended
                })
            }
        }, {
            key: "getTotalValue",
            value: function(e) {
                return null !== e.total ? e.total : "N/A"
            }
        }, {
            key: "getClubAttendance",
            value: function(e, t) {
                var n = e.club_attendance.find(function(e) {
                    var n = e.club_id;
                    return t.club_id === n
                });
                return n && null !== n.attended ? n.attended : "N/A"
            }
        }, {
            key: "getColumnsLength",
            value: function() {
                return (this.clubs ? this.clubs.length : 0) + 2
            }
        }, {
            key: "learners",
            get: function() {
                return this.analyticsData ? this.analyticsData.learners : []
            },
            set: function(e) {
                this.analyticsData.learners = e
            }
        }, {
            key: "clubs",
            get: function() {
                return this.analyticsData ? this.analyticsData.clubs : []
            }
        }]), e
    }();
    exports.default = r
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3202));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("t-club-dates", []).component("tClubDates", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(3203)),
        i = a(t(3204));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(3205);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            dates: "<",
            onRemove: "&?",
            onSelect: "&?"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="t-default t-club-dates _table-mobile">\n  <div class="t-default__header t-club-dates__header">\n    <div class="t-default__col t-club-dates__col _register"\n         ng-if="$ctrl._userService.checkRole(\'employee\') && !$ctrl.onRemove && !$ctrl._userService.user.activeStudent"\n    >\n      <span class="t-default__title t-club-dates__title">Register</span>\n    </div>\n    <div class="t-default__col t-club-dates__col _date">\n      <span class="t-default__title t-club-dates__title">Date</span>\n    </div>\n    <div class="t-default__col t-club-dates__col _attendance"\n         ng-if="$ctrl._userService.checkRole(\'learner\') || $ctrl._userService.user.activeChild"\n    >\n      <span class="t-default__title t-club-dates__title">Attendance</span>\n    </div>\n    <div class="t-default__col t-club-dates__col _start">\n      <span class="t-default__title t-club-dates__title">Start</span>\n    </div>\n    <div class="t-default__col t-club-dates__col _end">\n      <span class="t-default__title t-club-dates__title">End</span>\n    </div>\n    <div class="t-default__col t-club-dates__col _remove" ng-if="$ctrl.onRemove">\n      <span class="t-default__title t-club-dates__title"></span>\n    </div>\n  </div>\n\n  <div class="t-default__body t-club-dates__body">\n    <div class="t-default__row t-club-dates__row"\n         ng-class="{ _pointer: $ctrl.onSelect }"\n         ng-click="$ctrl.onSelect({ data: { id: date.id, attendance_recorded: date.attendance_recorded } })"\n         ng-repeat="date in $ctrl.dates"\n    >\n\t  <div class="t-default__col t-club-dates__col _register"\n           ng-if="$ctrl._userService.checkRole(\'employee\') && !$ctrl.onRemove && !$ctrl._userService.user.activeStudent"\n      >\n        <svg-use name="check"\n                 ng-if="!$ctrl._userService.checkRole(\'learner\') && !$ctrl._userService.user.activeChild && date.register_employee_id"\n        ></svg-use>\n\t\t\n\t\t<svg-use name="datacollection"\n                 ng-if="!$ctrl._userService.checkRole(\'learner\') && !$ctrl._userService.user.activeChild && !date.register_employee_id"\n        ></svg-use>\n\t\t\n\t\t \n      </div>\n      <div class="t-default__col t-club-dates__col _date">\n        \n        {{ ::$ctrl._clubsService.formatDate(date.start_time, \'dddd, D MMMM\') }}\n\n      </div>\n      <div class="t-default__col t-club-dates__col _attendance"\n           ng-if="$ctrl._userService.checkRole(\'learner\') || $ctrl._userService.user.activeChild"\n      >\n        <svg-use name="check" ng-if="date.attended"></svg-use>\n        <svg-use name="cross" ng-if="date.attended === false"></svg-use>\n      </div>\n      <div class="t-default__col t-club-dates__col _start">\n        {{ ::$ctrl._clubsService.formatDate(date.start_time, \'HH:mm\') }}\n      </div>\n      <div class="t-default__col t-club-dates__col _end">\n        {{ ::$ctrl._clubsService.formatDate(date.end_time, \'HH:mm\') }}\n      </div>\n      <div class="t-default__col t-club-dates__col _remove" ng-if="$ctrl.onRemove">\n        <button type="button" class="t-club-dates__btn-remove"\n                ng-disabled="date.attendance_recorded"\n                ng-click="$ctrl.onRemove({ date })"\n        >\n          <svg-use name="trash"></svg-use>\n        </button>\n      </div>\n    </div>\n    <div class="t-default__row t-club-dates__row _empty" ng-if="!$ctrl.dates.length">\n      No reserved dates.\n    </div>\n  </div>\n</div>\n\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(1),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    var s = function e(t, n) {
        "ngInject";
        (0, a.default)(this, e), this._clubsService = t, this._userService = n
    };
    s.$inject = ["clubsService", "userService"], exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3207));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("t-clubs", []).component("tClubs", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(3208)),
        i = a(t(3209));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(3210);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            clubs: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="t-default t-clubs">\n  <div class="t-default__header t-clubs__header">\n    <div class="t-default__col t-clubs__col _name">\n      <span class="t-default__title t-clubs__title _sortable"\n            ng-class="{ _reverse: $ctrl.reverse.name }"\n            ng-click="$ctrl.sort([\'name\'])"\n      >Name</span>\n    </div>\n    <div class="t-default__col t-clubs__col _location">\n      <span class="t-default__title t-clubs__title _sortable"\n            ng-class="{ _reverse: $ctrl.reverse.Location }"\n            ng-click="$ctrl.sort([\'Location\'])"\n      >Location</span>\n    </div>\n    <div class="t-default__col t-clubs__col _capacity">\n      <span class="t-default__title t-clubs__title _sortable"\n            ng-class="{ _reverse: $ctrl.reverse.capacity }"\n            ng-click="$ctrl.sort([\'capacity\'])"\n      >Capacity</span>\n    </div>\n    <div class="t-default__col t-clubs__col _session">\n      <span class="t-default__title t-clubs__title _sortable"\n            ng-class="{ _reverse: $ctrl.reverse.next_session }"\n            ng-click="$ctrl.sort([\'next_session\'], $ctrl._sortDataService.compareDates)"\n      >Next session</span>\n    </div>\n  </div>\n\n  <div class="t-default__body t-clubs__body">\n    <div class="t-default__row t-clubs__row"\n         ng-class="{ _disabled: $ctrl.isLoading }"\n         ng-click="$ctrl.showClubDetails(club)"\n         ng-repeat="club in $ctrl.clubs track by club.id"\n    >\n      <div class="t-default__col t-clubs__col _name">\n        <div class="t-default__title-mobile t-clubs__title-mobile">Name:</div>\n        {{ club.name }}\n      </div>\n      <div class="t-default__col t-clubs__col _location">\n        <div class="t-default__title-mobile t-clubs__title-mobile">Location:</div>\n        {{ club.location }}\n      </div>\n      <div class="t-default__col t-clubs__col _capacity">\n        <div class="t-default__title-mobile t-clubs__title-mobile">Capacity:</div>\n        {{ club.capacity.bookings || \'0\' }}/{{ club.capacity.maximum || \'Unlimited\' }}\n      </div>\n      <div class="t-default__col t-clubs__col _session">\n        <div class="t-default__title-mobile t-clubs__title-mobile">Next session:</div>\n        {{club.next_session && $ctrl._clubsService.formatDate(club.next_session, \'H:mm a dddd, D MMMM\') }}\n      </div>\n    </div>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i) {
            "ngInject";
            (0, n.default)(this, e), this._clubsService = t, this._sortDataService = i, this.reverse = {}, this.isLoading = !1
        }
        return e.$inject = ["clubsService", "sortDataService"], (0, i.default)(e, [{
            key: "$onInit",
            value: function() {
                this.sort(["name"])
            }
        }, {
            key: "sort",
            value: function(e, t) {
                this.clubs = this._sortDataService.sortBy(this.clubs, e, this.reverse, t)
            }
        }, {
            key: "showClubDetails",
            value: function(e) {
                var t = this;
                this.isLoading = !0, this._clubsService.showClubDetails(e).finally(function() {
                    return t.isLoading = !1
                })
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3212));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("t-contact-details", []).component("tContactDetails", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(3213)),
        i = a(t(3214));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(3215);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            field: "=",
            lookups: "<",
            firstColumnName: "<",
            togglePrimaryCheckbox: "&",
            toggleMainCheckbox: "&",
            removeItem: "&",
            changeLocation: "&"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="t-default t-contact-details">\n  <div class="t-default__header">\n    <div class="t-default__col t-contact-details__col">{{ $ctrl.firstColumnName }}</div>\n    <div class="t-default__col t-contact-details__col _location">Location</div>\n    <div class="t-default__col t-contact-details__col _main">Main</div>\n    <div class="t-default__col t-contact-details__col _primary">Primary</div>\n    <div class="t-default__col t-contact-details__col _remove"></div>\n  </div>\n  <div class="t-default__body t-contact-details__body">\n    <div class="t-default__row t-contact-details__row" ng-repeat="item in $ctrl.field.data track by $index">\n      <div class="t-default__col t-contact-details__col">\n        <div class="t-default__title-mobile t-contact-details__title-mobile">{{ $ctrl.firstColumnName }}:</div>\n        <span class="t-default__text">\n          {{ item.address ? item.address : item.number }}\n        </span>\n      </div>\n      <div class="t-default__col t-contact-details__col _location">\n        <div class="t-default__title-mobile t-contact-details__title-mobile">Location:</div>\n        <div class="t-contact-details__select-outer">\n          <ui-select\n            ng-model="item.location"\n            required\n            ng-disabled="$ctrl.field.read_only"\n            ng-change="$ctrl.changeLocation({ data: { field: $ctrl.field, selectedItem: item } })"\n            ng-init="hash = $ctrl._selectsService.generateHash($ctrl.selects); $ctrl._selectsService.setItemsNumber($ctrl.infiniteScrollSettings, hash)"\n            uis-open-close="$ctrl._selectsService.handleSelectToggling(hash, $ctrl.infiniteScrollSettings)"\n            theme="selectize"\n            class="select-default t-contact-details__select"\n            ng-attr-id="{{\'_\' + hash}}"\n            search-enabled="false"\n          >\n            <ui-select-match placeholder="- *">{{ $select.selected }}</ui-select-match>\n            <ui-select-choices repeat="location in $ctrl.lookups.location | limitTo:$ctrl.selects[hash].currentItems track by $index"\n                               infinite-scroll="$ctrl._selectsService.addNewItemsToSelect($ctrl.selects[hash], $ctrl.infiniteScrollSettings.numToAdd)"\n                               infinite-scroll-container="\'#_\' + hash + \' .ui-select-choices-content\'">\n              <span>{{ ::location }}</span>\n            </ui-select-choices>\n          </ui-select>\n\n          <div class="f-default__select-mobile-wrap t-contact-details__select-mobile-wrap">\n            <select class="f-default__select-mobile t-contact-details__select-mobile"\n                    required\n                    ng-change="$ctrl.changeLocation({ data: { field: $ctrl.field, selectedItem: item } })"\n                    ng-model="item.location">\n              <option value="" disabled selected hidden>- *</option>\n              <option ng-repeat="location in $ctrl.lookups.location track by $index">{{ location }}</option>\n            </select>\n          </div>\n        </div>\n      </div>\n      <div class="t-default__col t-contact-details__col _main">\n        <div class="t-default__title-mobile t-contact-details__title-mobile">Main:</div>\n        <label class="t-contact-details__checkbox f-default__label"\n               ng-class="{ \'_checkbox-checked\': item.main }">\n          <input type="checkbox" class="t-contact-details__checkbox-input"\n                 ng-disabled="$ctrl.field.read_only"\n                 ng-click="$ctrl.toggleMainCheckbox({ data: { event: $event, selectedField: item, fields: $ctrl.field.data  } })">\n          <span class="t-contact-details__checkbox-title"></span>\n        </label>\n      </div>\n      <div class="t-default__col t-contact-details__col _primary">\n        <div class="t-default__title-mobile t-contact-details__title-mobile">Primary:</div>\n        <label class="t-contact-details__checkbox f-default__label"\n               ng-class="{ \'_checkbox-checked\': item.primary }">\n          <input type="checkbox" class="t-contact-details__checkbox-input"\n                 ng-disabled="$ctrl.field.read_only"\n                 ng-click="$ctrl.togglePrimaryCheckbox({ data: { event: $event, selectedField: item, fields: $ctrl.field.data } })">\n          <span class="t-contact-details__checkbox-title"></span>\n        </label>\n      </div>\n      <div class="t-default__col t-contact-details__col _remove">\n        <div class="t-default__title-mobile t-contact-details__title-mobile">Remove:</div>\n        <button type="button" class="t-contact-details__remove"\n\t\talt="Remove"\n                ng-click="$ctrl.removeItem({ data: { field: $ctrl.field, item } })"\n                ng-disabled="$ctrl.field.read_only">\n          <svg-use name="trash"></svg-use>\n        </button>\n      </div>\n    </div>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t) {
            "ngInject";
            (0, n.default)(this, e), this._selectsService = t, this.local = {
                infiniteScrollSettings: this._selectsService.getInfiniteScrollSettings()
            }
        }
        return e.$inject = ["selectsService"], (0, i.default)(e, [{
            key: "selects",
            get: function() {
                return this.local.infiniteScrollSettings.selects
            }
        }, {
            key: "infiniteScrollSettings",
            get: function() {
                return this.local.infiniteScrollSettings
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3217));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("t-child-protection", []).component("tChildProtection", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(3218)),
        i = a(t(3219));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(3220);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {}
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="t-default t-child-protection">\n  <div class="t-default__header t-child-protection__header">\n    <div class="t-default__col t-child-protection__col _name">\n      <span class="t-default__title t-child-protection__title _sortable"\n            ng-class="{ _reverse: $ctrl.reverse.created }"\n            ng-click="$ctrl.sort([\'created\'], $ctrl._sortDataService.compareDates)"\n      >Date</span>\n    </div>\n    <div class="t-default__col t-child-protection__col _student">\n      <span class="t-default__title t-child-protection__title _sortable"\n            ng-class="{ _reverse: $ctrl.reverse[\'info.resultRow\'] }"\n            ng-click="$ctrl.sort([\'info.resultRow\'])"\n      >Student</span>\n    </div>\n    <div class="t-default__col t-child-protection__col _capacity">\n      <span class="t-default__title t-child-protection__title _sortable"\n            ng-class="{ _reverse: $ctrl.reverse.acknowledged }"\n            ng-click="$ctrl.sort([\'acknowledged\'])"\n      >Acknowledged</span>\n    </div>\n  </div>\n\n  <div class="t-default__body t-child-protection__body">\n    <div class="t-default__row t-child-protection__row"\n          ng-repeat="student in $ctrl.students track by student.id"\n    >\n      <div class="t-default__col t-child-protection__col _name">\n        <div class="t-default__title-mobile t-child-protection__title-mobile">Date:</div>\n        {{ student.date }}\n      </div>\n      <div class="t-default__col t-child-protection__col _student">\n        <div class="t-default__title-mobile t-child-protection__title-mobile">Student:</div>\n          <p>{{ student.info.resultRow}}</p>\n          <p>({{ student.info.year_group_id | yearGroupIdFilter: \'year\' }}, {{ student.info.form_group_id | yearGroupIdFilter: \'form\'}})</p>\n      </div>\n      <div class="t-default__col t-child-protection__col _capacity">\n        <div class="t-default__title-mobile t-child-protection__title-mobile">Acknowledge:</div>\n          <svg-use name="cross" ng-if="!student.acknowledged"></svg-use>\n          <svg-use name="tick" ng-if="student.acknowledged"></svg-use>\n      </div>\n    </div>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r, o, l) {
            "ngInject";
            (0, n.default)(this, e), this._clubsService = t, this._sortDataService = i, this._requestService = a, this.reverse = {
                created: !0
            }, this.isLoading = !1, this._studentsService = r, this._modalDefaultService = o, this._childProtectionService = s, this._dateService = l
        }
        return e.$inject = ["clubsService", "sortDataService", "requestService", "childProtectionService", "studentsService", "modalDefaultService", "dateService"], (0, i.default)(e, [{
            key: "$onInit",
            value: function() {
                var e = this;
                this._childProtectionService.getReferralsFromDB().then(function() {
                    e.students = e._childProtectionService.referrals, e.getCurrentStudents(), e.sort(["created"], e._sortDataService.compareDates)
                })
            }
        }, {
            key: "sort",
            value: function(e, t) {
                this.students = this._sortDataService.sortBy(this.students, e, this.reverse, t)
            }
        }, {
            key: "getCurrentStudents",
            value: function() {
                var e = this;
                this._studentsService.getStudents().then(function(t) {
                    e.students.forEach(function(n) {
                        n.info = t.find(function(e) {
                            return e.id === n.learner_id
                        }), n.date = moment(n.created).format(e._dateService.getDateFormat("momentDateTime"))
                    })
                })
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3222));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("t-callout", []).component("tCallout", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(3223)),
        i = a(t(3224));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(3225);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {}
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="t-default t-callout">\n  <div class="t-default__header t-callout__header">\n    <div class="t-default__col t-callout__col _created">\n      <span class="t-default__title t-callout__title _sortable"\n            ng-class="{ _reverse: $ctrl.reverse.created }"\n            ng-click="$ctrl.sort([\'created\'])"\n      >Time</span>\n    </div>\n    <div class="t-default__col t-callout__col _acknowledged">\n      <span class="t-default__title t-callout__title _sortable"\n            ng-class="{ _reverse: $ctrl.reverse.acknowledged }"\n            ng-click="$ctrl.sort([\'acknowledged\'])"\n      >Acknowledged</span>\n    </div>\n    <div class="t-default__col t-callout__col _employee">\n      <span class="t-default__title t-callout__title _sortable"\n            ng-class="{ _reverse: $ctrl.reverse[\'employee.surname\'] }"\n            ng-click="$ctrl.sort([\'employee.surname\'])"\n      >Responding employee</span>\n    </div>\n  </div>\n\n  <div class="t-default__body t-callout__body">\n    <div class="t-default__row t-callout__row"\n          ng-repeat="sentItem in $ctrl.sent track by sentItem.id"\n    >\n      <div class="t-default__col t-callout__col _name">\n        <div class="t-default__title-mobile t-callout__title-mobile">Time:</div>\n        {{ sentItem.created }}\n      </div>\n      <div class="t-default__col t-callout__col _acknowledged">\n        <div class="t-default__title-mobile t-callout__title-mobile">Acknowledged:</div>\n          <svg-use name="cross" ng-if="!sentItem.acknowledged"></svg-use>\n          <svg-use name="tick" ng-if="sentItem.acknowledged"></svg-use>\n      </div>\n      <div class="t-default__col t-callout__col _employee">\n        <div class="t-default__title-mobile t-callout__title-mobile">Responding employee:</div>\n          <p ng-if="sentItem.employee">{{ sentItem.employee.forename }} {{ sentItem.employee.surname }}</p>\n          <p ng-if="!sentItem.employee"> - </p>\n      </div>\n    </div>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s) {
            "ngInject";
            (0, n.default)(this, e), this._sortDataService = t, this._requestService = s, this.reverse = {}, this.isLoading = !1, this._teachersService = a, this._calloutService = i
        }
        return e.$inject = ["sortDataService", "calloutService", "teachersService", "requestService"], (0, i.default)(e, [{
            key: "$onInit",
            value: function() {
                this.sent = this._calloutService.sent, this._calloutService.format(this.sent)
            }
        }, {
            key: "sort",
            value: function(e, t) {
                this.sent = this._sortDataService.sortBy(this.sent, e, this.reverse, t)
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3227));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("t-callout-received", []).component("tCalloutReceived", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(3228)),
        i = a(t(3229));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(3230);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {}
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="t-default t-callout-received">\n  <div class="t-default__header t-callout-received__header">\n    <div class="t-default__col t-callout-received__col _time">\n      <span class="t-default__title t-callout-received__title _sortable"\n            ng-class="{ _reverse: $ctrl.reverse.created }"\n            ng-click="$ctrl.sort([\'created\'])"\n      >Time</span>\n    </div>\n    <div class="t-default__col t-callout-received__col _message">\n      <span class="t-default__title t-callout-received__title _sortable"\n            ng-class="{ _reverse: $ctrl.reverse.message }"\n            ng-click="$ctrl.sort([\'message\'])"\n      >Message</span>\n    </div>\n\t<div class="t-default__col t-callout-received__col _employee">\n      <span class="t-default__title t-callout-received__title _sortable"\n            ng-class="{ _reverse: $ctrl.reverse[\'sent_by.surname\'] }"\n            ng-click="$ctrl.sort([\'sent_by.surname\'])"\n      >Sent by</span>\n    </div>\n    <div class="t-default__col t-callout-received__col _employee">\n      <span class="t-default__title t-callout-received__title _sortable"\n            ng-class="{ _reverse: $ctrl.reverse[\'employee.surname\'] }"\n            ng-click="$ctrl.sort([\'employee.surname\'])"\n      >Responding</span>\n    </div>\n  </div>\n\n  <div class="t-default__body t-callout-received__body">\n    <div class="t-default__row t-callout-received__row"\n          ng-repeat="receivedItem in $ctrl.received track by receivedItem.id"\n    >\n      <div class="t-default__col t-callout-received__col _time">\n        <div class="t-default__title-mobile t-callout-received__title-mobile">Time: </div>\n         {{ receivedItem.created }}\n      </div>\n      <div class="t-default__col t-callout-received__col _message">\n        <div class="t-default__title-mobile t-callout-received__title-mobile">Message:</div>\n        <div class="t-callout-received__message">\n          <div class="t-callout-received__message-line"\n            ng-repeat="messageLine in receivedItem.message">{{ messageLine }}</div>\n        </div>\n      </div>\n\t  <div class="t-default__col t-callout-received__col _employee">\n        <div class="t-default__title-mobile t-callout-received__title-mobile">Responding: </div>\n          <p>{{ receivedItem.sent_by.forename }} {{ receivedItem.sent_by.surname }}\n          </p>\n      </div>\n      <div class="t-default__col t-callout-received__col _employee">\n        <div class="t-default__title-mobile t-callout-received__title-mobile">Responding: </div>\n          <p ng-if="receivedItem.employee">{{ receivedItem.employee.forename }} {{ receivedItem.employee.surname }}</p>\n          <p ng-if="!receivedItem.employee && !receivedItem.acknowledged">\n             <a type="button" class="btn btn-default _blue _small _fill t-callout-received__btn" ng-click="$ctrl.attend(receivedItem.id)">Attend</a>\n          </p>\n      </div>\n    </div>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s) {
            "ngInject";
            (0, n.default)(this, e), this._calloutService = t, this._teachersService = i, this._sortDataService = a, this._requestService = s, this.reverse = {}
        }
        return e.$inject = ["calloutService", "teachersService", "sortDataService", "requestService"], (0, i.default)(e, [{
            key: "$onInit",
            value: function() {
                this.received = this._calloutService.received, this._calloutService.format(this.received)
            }
        }, {
            key: "attend",
            value: function(e) {
                var t = this;
                this._requestService.getData("callout", "employee_callout_attending", {
                    id: e
                }).then(function() {
                    t._calloutService.updateReceivedCallouts(e)
                })
            }
        }, {
            key: "sort",
            value: function(e, t) {
                this.received = this._sortDataService.sortBy(this.received, e, this.reverse, t)
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3232));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("t-child-protection-manage", []).component("tChildProtectionManage", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(3233)),
        i = a(t(3234));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(3235);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {}
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="t-default t-child-protection-manage">\n  <div class="t-default__header t-child-protection-manage__header">\n    <div class="t-default__col t-child-protection-manage__col _select">\n      <label class="t-child-protection-manage__checkbox"\n        ng-class="{ _checked: $ctrl.hasSelection, _partially: !$ctrl.isAllSelected }">\n        <input class="t-child-protection_checkbox-input"\n          ng-model="$ctrl.hasSelection"\n          type="checkbox"\n          ng-click="$ctrl.onSelectAllClick($event)">\n        <span class="t-child-protection-manage__checkbox-title" title="Select all"></span>\n      </label>\n    </div>\n\n    <div class="t-default__col t-child-protection-manage__col _date">\n      <span class="t-default__title t-child-protection-manage__title _sortable"\n        ng-class="{ _reverse: $ctrl.reverse.created }"\n        ng-click="$ctrl.sort([\'created\'], $ctrl._sortDataService.compareDates)">\n        Date/Time\n      </span>\n    </div>\n\n    <div class="t-default__col t-child-protection-manage__col _student">\n      <span class="t-default__title t-child-protection-manage__title _sortable"\n        ng-class="{ _reverse: $ctrl.reverse[\'info.surname\'] }"\n        ng-click="$ctrl.sort([\'info.surname\'])">\n        Student\n      </span>\n    </div>\n\n    <div class="t-default__col t-child-protection-manage__col _referring">\n      <span class="t-default__title t-child-protection-manage__title _sortable"\n        ng-class="{ _reverse: $ctrl.reverse[\'referral_employee_info.surname\'] }"\n        ng-click="$ctrl.sort([\'referral_employee_info.surname\'])">\n        Referring staff\n      </span>\n    </div>\n\n    <div class="t-default__col t-child-protection-manage__col _referred">\n      <span class="t-default__title t-child-protection-manage__title _sortable"\n        ng-class="{ _reverse: $ctrl.reverse[\'referred_to_employee_info.surname\'] }"\n        ng-click="$ctrl.sort([\'referred_to_employee_info.surname\'])">\n        Referred to\n      </span>\n    </div>\n\n    <div class="t-default__col t-child-protection-manage__col _status">\n      <span class="t-default__title t-child-protection-manage__title _sortable"\n        ng-class="{ _reverse: $ctrl.reverse[\'status.name\'] }"\n        ng-click="$ctrl.sort([\'status.name\'])">\n        Status\n      </span>\n    </div>\n\n    <div class="t-default__col t-child-protection-manage__col _info">\n      <span class="t-default__title t-child-protection-manage__title">\n        Action\n      </span>\n    </div>\n  </div>\n\n  <div class="t-default__body t-child-protection-manage__body">\n    <div class="t-default__row t-child-protection-manage__row"\n      ng-repeat="student in $ctrl.students | orderBy: student.created track by student.id"\n      ng-class="{ \'t-child-protection-manage__rowbold\': !student.acknowledged, _selected: student.isSelected }">\n      <div class="t-default__col t-child-protection-manage__col _select">\n        <label class="t-child-protection-manage__checkbox"\n          ng-class="{ _checked: student.isSelected }">\n          <input ng-model="student.isSelected"\n            type="checkbox"\n            ng-change="$ctrl.onStudentSelect()"\n            class="t-child-protection_checkbox-input">\n          <span class="t-child-protection-manage__checkbox-title"></span>\n        </label>\n      </div>\n      <div class="t-default__col t-child-protection-manage__col _date">\n        <div class="t-default__title-mobile t-child-protection-manage__title-mobile">Date/Time:</div>\n        {{ student.date }}\n      </div>\n      <div class="t-default__col t-child-protection-manage__col _student">\n        <div class="t-default__title-mobile t-child-protection-manage__title-mobile">Student:</div>\n        <p>{{ student.info.resultRow}}</p>\n        <p>({{ student.info.year_group_id | yearGroupIdFilter: \'year\' }}, {{ student.info.form_group_id | yearGroupIdFilter: \'form\'}})</p>\n      </div>\n      <div class="t-default__col t-child-protection-manage__col _referring">\n        <div class="t-default__title-mobile t-child-protection-manage__title-mobile">Referring staff:</div>\n        <p>{{ student.referral_employee_info.forename }} {{ student.referral_employee_info.surname}}</p>\n      </div>\n      <div class="t-default__col t-child-protection-manage__col _referred">\n        <div class="t-default__title-mobile t-child-protection-manage__title-mobile">Referred to:</div>\n        <p>{{ student.referred_to_employee_info.forename }} {{ student.referred_to_employee_info.surname}}</p>\n      </div>\n      <div class="t-default__col t-child-protection-manage__col _status">\n        <div class="t-default__title-mobile t-child-protection-manage__title-mobile">Status:</div>\n        <p>{{ student.status && student.status.name }}</p>\n      </div>\n      <div class="t-default__col t-child-protection-manage__col _info">\n        <button class="t-child-protection-manage__button"\n          ng-click="$ctrl.showStudentDetails(student)">\n          <span class="t-child-protection-manage__button-text">show info</span>\n          <svg-use class="t-child-protection-manage__button-icon" name="info"></svg-use>\n        </button>\n      </div>\n    </div>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(10)),
        i = s(t(1)),
        a = s(t(2));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = function() {
        function e(t, n, a, s, r, o, l, c, d) {
            "ngInject";
            (0, i.default)(this, e), this._$timeout = t, this._clubsService = n, this._sortDataService = a, this._requestService = s, this.reverse = {
                created: !0
            }, this.isLoading = !1, this.isSelected = !1, this.students = [], this._studentsService = r, this._modalDefaultService = o, this._teachersService = c, this._childProtectionService = l, this._dateService = d
        }
        return e.$inject = ["$timeout", "clubsService", "sortDataService", "requestService", "studentsService", "modalDefaultService", "childProtectionService", "teachersService", "dateService"], (0, a.default)(e, [{
            key: "$onInit",
            value: function() {
                this.getManageReferrals(!0), this._childProtectionService.callBacks = [this.clearSelection.bind(this)]
            }
        }, {
            key: "$onDestroy",
            value: function() {
                this._childProtectionService.selectedStudents = [], this._childProtectionService.callBacks = []
            }
        }, {
            key: "getManageReferrals",
            value: function(e) {
                var t = this;
                return this._childProtectionService.getManageReferralsFromDB().then(function() {
                    t.students = t._childProtectionService.manageReferrals.map(function(e) {
                        return (0, n.default)({}, e, {
                            checked: t.isSelected
                        })
                    }), t.status_options = t._childProtectionService.statusOptions, t.getCurrentStudents(), e && t.sort(["created"], t._sortDataService.compareDates)
                })
            }
        }, {
            key: "getCurrentStudents",
            value: function() {
                var e = this;
                return this._studentsService.getStudents().then(function(t) {
                    e._teachersService.getEmployeesFromDb({}).then(function(n) {
                        e.students.forEach(function(i) {
                            i.referral_employee_info = n.employees.find(function(e) {
                                return e.id === i.referral_employee_id
                            }), i.referred_to_employee_info = n.employees.find(function(e) {
                                return e.id === i.referred_to_employee_id
                            }), i.status = e.status_options.filter(function(e) {
                                return !e.deleted
                            }).find(function(e) {
                                return e.id === i.status_id
                            }), i.info = t.find(function(e) {
                                return e.id === i.learner_id
                            }), i.date = moment(i.created).format(e._dateService.getDateFormat("momentDateTime"))
                        })
                    })
                })
            }
        }, {
            key: "sort",
            value: function(e, t) {
                this.students = this._sortDataService.sortBy(this.students, e, this.reverse, t)
            }
        }, {
            key: "showStudentDetails",
            value: function(e) {
                var t = this,
                    n = {
                        student: e,
                        onSave: function() {
                            return t.getManageReferrals()
                        }
                    };
                this._requestService.getData("child_protection", "child_protection_referral", {
                    id: e.id
                }).then(function(i) {
                    e.refInfo = i.referral, e.status_options = i.status_options.filter(function(e) {
                        return !e.deleted
                    }), t._modalDefaultService.showModalWithTemplates("modal-child-protection", n, "Referral Details")
                })
            }
        }, {
            key: "onSelectAllClick",
            value: function(e) {
                var t = this;
                e && e.preventDefault(), this._$timeout(function() {
                    var e = !t.isAllSelected;
                    t.students = t.students.map(function(t) {
                        return (0, n.default)({}, t, {
                            isSelected: e
                        })
                    }), t.onStudentSelect()
                }, 0)
            }
        }, {
            key: "onStudentSelect",
            value: function() {
                this._childProtectionService.selectedStudents = this.students.filter(function(e) {
                    return e.isSelected
                })
            }
        }, {
            key: "clearSelection",
            value: function() {
                this.students = this.students.map(function(e) {
                    return (0, n.default)({}, e, {
                        isSelected: !1
                    })
                }), this.onStudentSelect()
            }
        }, {
            key: "hasSelection",
            get: function() {
                return this.students.some(function(e) {
                    return e.isSelected
                })
            }
        }, {
            key: "isAllSelected",
            get: function() {
                return this.students.every(function(e) {
                    return e.isSelected
                })
            }
        }]), e
    }();
    exports.default = r
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3237));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("t-detention-learners", []).component("tDetentionLearners", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(3238)),
        i = a(t(3239));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(3240);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            learners: "<",
            update: "&",
            edit: "&",
            remove: "&"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="t-default t-detention-learners">\n  <div class="t-default__header t-detention-learners__header">\n    <div class="t-default__col t-detention-learners__col _name">\n      <span class="t-default__title t-detention-learners__title">Full name</span>\n    </div>\n    <div class="t-default__col t-detention-learners__col _form">\n      <span class="t-default__title t-detention-learners__title">Form</span>\n    </div>\n    <div class="t-default__col t-detention-learners__col _type">\n      <span class="t-default__title t-detention-learners__title">Type</span>\n    </div>\n    <div class="t-default__col t-detention-learners__col _date">\n      <span class="t-default__title t-detention-learners__title">Date</span>\n    </div>\n    <div class="t-default__col t-detention-learners__col _attended">\n      <span class="t-default__title t-detention-learners__title">Attended</span>\n    </div>\n    <div class="t-default__col t-detention-learners__col _form">\n      <span class="t-default__title t-detention-learners__title">Employee Name</span>\n    </div>\n    <div class="t-default__col t-detention-learners__col _edit">\n      <span class="t-default__title t-detention-learners__title"></span>\n    </div>\n    <div class="t-default__col t-detention-learners__col _delete">\n      <span class="t-default__title t-detention-learners__title"></span>\n    </div>\n  </div>\n\n  <div class="t-default__body t-detention-learners__body">\n    <div class="t-default__row t-detention-learners__row" ng-repeat="learner in $ctrl.learners track by learner.id">\n      <div class="t-default__col t-detention-learners__col _name">\n        <div class="t-default__title-mobile t-detention-learners__title-mobile">Full name:</div>\n        {{ ::learner.fullName }}\n      </div>\n      <div class="t-default__col t-detention-learners__col _form">\n        <div class="t-default__title-mobile t-detention-learners__title-mobile">Form:</div>\n        {{ ::learner.formGroup }}\n      </div>\n      <div class="t-default__col t-detention-learners__col _type">\n        <div class="t-default__title-mobile t-detention-learners__title-mobile">Type:</div>\n        {{ ::learner.incident_type }}\n      </div>\n      <div class="t-default__col t-detention-learners__col _date">\n        <div class="t-default__title-mobile t-detention-learners__title-mobile">Date:</div>\n        {{ ::learner.incident_date | date:$ctrl._dateService.getDateFormat(\'defaultDate\') }}\n      </div>\n      <div class="t-default__col t-detention-learners__col _attended">\n        <div class="t-default__title-mobile t-detention-learners__title-mobile">Attended:</div>\n        <div class="t-detention-learners__select _dropdown">\n          <ui-select ng-model="learner.attended"\n                     theme="selectize"\n                     ng-init="hash = $ctrl._selectsService.generateHash($ctrl.selects); $ctrl._selectsService.setItemsNumber($ctrl.infiniteScrollSettings, hash)"\n                     uis-open-close="$ctrl._selectsService.handleSelectToggling(hash, $ctrl.infiniteScrollSettings)"\n                     class="select-default"\n                     ng-attr-id="{{\'_\' + hash}}"\n                     on-select="$ctrl.selectField(learner)"\n                     search-enabled="false">\n            <ui-select-match placeholder="{{ $select.selected.value }}">{{ $select.selected.value }}</ui-select-match>\n            <ui-select-choices position="{{ ::$index > 1 ? \'up\' : \'down\' }}"\n                               repeat="type.value as type in $ctrl.types | limitTo:$ctrl.selects[hash].currentItems track by $index"\n                               infinite-scroll="$ctrl._selectsService.addNewItemsToSelect($ctrl.selects[hash], $ctrl.infiniteScrollSettings.numToAdd)"\n                               infinite-scroll-container="\'#_\' + hash + \' .ui-select-choices-content\'">\n              <span>{{::type.name}} - {{::type.value}}</span>\n            </ui-select-choices>\n          </ui-select>\n\n          <div class="f-default__select-mobile-wrap">\n            <select class="f-default__select-mobile"\n                    ng-change="$ctrl.selectField(learner)"\n                    ng-model="learner.attended">\n              <option ng-repeat="type in $ctrl.types" value="{{ ::type.value }}">{{::type.name}} - {{::type.value}}</option>\n            </select>\n          </div>\n        </div>\n      </div>\n      <div class="t-default__col t-detention-learners__col _form">\n        <div class="t-default__title-mobile t-detention-learners__title-mobile">Employee Name:</div>\n        {{ ::learner.employee_name }}\n      </div>\n      <div class="t-default__col t-detention-learners__col _edit">\n        <div class="t-default__title-mobile t-detention-learners__title-mobile">Edit:</div>\n        <button type="button" class="t-detention-learners__btn-edit" ng-click="$ctrl.edit({ learner })">\n          <svg-use name="pencil"></svg-use>\n        </button>\n      </div>\n      <div class="t-default__col t-detention-learners__col _delete">\n        <div class="t-default__title-mobile t-detention-learners__title-mobile">Delete:</div>\n        <button type="button" class="t-detention-learners__btn-remove" ng-click="$ctrl.remove({ learner })">\n          <svg-use name="trash"></svg-use>\n        </button>\n      </div>\n    </div>\n    <div class="t-default__row t-detention-learners__row _empty" ng-if="!$ctrl.learners.length">\n      No data to show.\n    </div>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r, o) {
            "ngInject";
            (0, n.default)(this, e), this._selectsService = i, this._dateService = a, this._windowWidthService = s, this._deviceMarginConstants = r, this._$window = o, this.types = t.attendTypes, this.local = {
                infiniteScrollSettings: this._selectsService.getInfiniteScrollSettings()
            }
        }
        return e.$inject = ["detentionsService", "selectsService", "dateService", "windowWidthService", "deviceMarginConstants", "$window"], (0, i.default)(e, [{
            key: "$onInit",
            value: function() {
                this._windowWidthService.windowWidth <= this._deviceMarginConstants.MOBILE_MARGIN && this._$window.scrollTo(0, 0)
            }
        }, {
            key: "selectField",
            value: function(e) {
                this.update({
                    learner: e
                })
            }
        }, {
            key: "selects",
            get: function() {
                return this.local.infiniteScrollSettings.selects
            }
        }, {
            key: "infiniteScrollSettings",
            get: function() {
                return this.local.infiniteScrollSettings
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3242));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("t-detentions", []).component("tDetentions", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(3243)),
        i = a(t(3244));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(3245);
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="t-default t-detentions">\n  <div class="t-default__header t-detentions__header">\n    <div class="t-default__col t-detentions__col _type">\n      <span class="t-default__title t-detentions__title">Type</span>\n    </div>\n    <div class="t-default__col t-detentions__col _location">\n      <span class="t-default__title t-detentions__title">Location</span>\n    </div>\n    <div class="t-default__col t-detentions__col _capacity">\n      <span class="t-default__title t-detentions__title">Capacity</span>\n    </div>\n    <div class="t-default__col t-detentions__col _allocated">\n      <span class="t-default__title t-detentions__title">Allocated</span>\n    </div>\n    <div class="t-default__col t-detentions__col _date">\n      <span class="t-default__title t-detentions__title">Date</span>\n    </div>\n    <div class="t-default__col t-detentions__col _time">\n      <span class="t-default__title t-detentions__title">Time</span>\n    </div>\n  </div>\n\n  <div class="t-default__body t-detentions__body">\n    <a ui-sref="detention.session({ id: detention.id })" class="t-default__row t-detentions__row"\n       ng-repeat="detention in $ctrl._detentionsService.sessions | orderBy:\'-date\':true track by $index">\n      <div class="t-default__col t-detentions__col _type">\n        <div class="t-default__title-mobile t-detentions__title-mobile">Type:</div>\n        {{ detention.description || \'unscheduled\' }}\n      </div>\n      <div class="t-default__col t-detentions__col _location">\n        <div class="t-default__title-mobile t-detentions__title-mobile">Location:</div>\n        {{ detention.location }}\n      </div>\n      <div class="t-default__col t-detentions__col _capacity">\n        <div class="t-default__title-mobile t-detentions__title-mobile">Capacity:</div>\n        {{ detention.optimum_num_of_attendees || \'N/A\' }}\n      </div>\n      <div class="t-default__col t-detentions__col _allocated">\n        <div class="t-default__title-mobile t-detentions__title-mobile">Allocated:</div>\n        {{ detention.num_of_detainees }}\n      </div>\n      <div class="t-default__col t-detentions__col _date">\n        <div class="t-default__title-mobile t-detentions__title-mobile">Date:</div>\n        {{ detention.date | date:$ctrl._dateService.getDateFormat(\'defaultDate\') }}\n      </div>\n      <div class="t-default__col t-detentions__col _time">\n        <div class="t-default__title-mobile t-detentions__title-mobile">Time:</div>\n        <span class="t-detentions__time">{{ detention.start_time | limitTo: 5 }}</span>\n        <span class="t-detentions__time _gray">{{ detention.end_time | limitTo: 5 }}</span>\n      </div>\n    </a>\n    <div class="t-default__row t-detentions__row _empty" ng-if="!$ctrl._detentionsService.sessions.length">\n      No data to show.\n    </div>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(1),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    var s = function e(t, n) {
        "ngInject";
        (0, a.default)(this, e), this._detentionsService = t, this._dateService = n
    };
    s.$inject = ["detentionsService", "dateService"], exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3247));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("t-document-access", []).component("tDocumentAccess", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(3248)),
        i = a(t(3249));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(3250);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            data: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="t-default t-document-access">\n  <div class="t-default__header t-document-access__header">\n    <div class="t-default__col t-document-access__col _name">\n      <span class="t-default__title _sortable"\n            ng-class="{ _reverse: $ctrl.reverse.name }"\n            ng-click="$ctrl.sort([\'name\'])"\n      >Learner</span>\n    </div>\n    <div class="t-default__col t-document-access__col _documents">\n      <div class="t-default__row t-document-access__row _nested">\n        <div class="t-default__col t-document-access__col _document">Document</div>\n        <div class="t-default__col t-document-access__col _date">Date</div>\n        <div class="t-default__col t-document-access__col _employee">Employee</div>\n        <div class="t-default__col t-document-access__col _learner">Learner</div>\n        <div class="t-default__col t-document-access__col _parent">Parent</div>\n        <div class="t-default__col t-document-access__col _log">Log</div>\n      </div>\n    </div>\n  </div>\n  <div class="t-default__body t-document-access__body">\n    <div class="t-document-access__message" ng-if="!$ctrl.data.length">No data.</div>\n    <div class="t-default__row t-document-access__row" ng-if="$ctrl.data.length" ng-repeat="item in $ctrl.data track by $index">\n      <div class="t-default__col t-document-access__col _name">\n        <div class="t-default__title-mobile t-document-access__title-mobile">Learner:</div>\n        {{ item.name }}\n      </div>\n      <div class="t-default__col t-document-access__col _documents">\n        <div class="t-default__row t-document-access__row _nested" ng-repeat="document in item.documents track by $index">\n          <div class="t-default__col t-document-access__col _document">\n            <div class="t-default__title-mobile t-document-access__title-mobile">Document:</div>\n            {{ document.summary }}\n          </div>\n          <div class="t-default__col t-document-access__col _date">\n            <div class="t-default__title-mobile t-document-access__title-mobile">Date:</div>\n            {{ document.last_updated }}\n          </div>\n          <div class="t-default__col t-document-access__col _employee">\n            <div class="t-default__title-mobile t-document-access__title-mobile">Employee:</div>\n            <svg-use name="check" ng-if="document.accessed.employee"></svg-use>\n            <svg-use name="cross" ng-if="!document.accessed.employee"></svg-use>\n          </div>\n          <div class="t-default__col t-document-access__col _learner">\n            <div class="t-default__title-mobile t-document-access__title-mobile">Learner:</div>\n            <svg-use name="check" ng-if="document.accessed.learner"></svg-use>\n            <svg-use name="cross" ng-if="!document.accessed.learner"></svg-use>\n          </div>\n          <div class="t-default__col t-document-access__col _parent">\n            <div class="t-default__title-mobile t-document-access__title-mobile">Parent:</div>\n            <svg-use name="check" ng-if="document.accessed.parent"></svg-use>\n            <svg-use name="cross" ng-if="!document.accessed.parent"></svg-use>\n          </div>\n          <div class="t-default__col t-document-access__col _log">\n            <div class="t-default__title-mobile t-document-access__title-mobile">Log:</div>\n            <button type="button" class="t-document-access__btn-log"\n                    ng-click="$ctrl.showLog(document)"\n                    ng-disabled="document.isLoading"\n            >\n              <svg-use name="search"></svg-use>\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a) {
            "ngInject";
            (0, n.default)(this, e), this._documentsService = t, this._sortDataService = i, this._modalDefaultService = a, this.reverse = {}
        }
        return e.$inject = ["documentsService", "sortDataService", "modalDefaultService"], (0, i.default)(e, [{
            key: "$onInit",
            value: function() {
                this.sort(["name"])
            }
        }, {
            key: "sort",
            value: function(e, t) {
                this.data = this._sortDataService.sortBy(this.data, e, this.reverse, t)
            }
        }, {
            key: "showLog",
            value: function(e) {
                var t = this;
                e.isLoading = !0, this._documentsService.documentAccessLog(e.id).then(function(e) {
                    return t._modalDefaultService.showModalWithTemplates("modal-access-log", {
                        data: e.log
                    }, "Information")
                }).finally(function() {
                    e.isLoading = !1
                })
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3252));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("t-documents", []).component("tDocuments", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(3253)),
        i = a(t(3254));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(3255);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            documents: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="t-default t-documents">\n  <div class="t-default__header t-documents__header">\n    <div class="t-default__col t-documents__col _name">\n      <span class="t-default__title t-documents__title _sortable"\n            ng-class="{ _reverse: $ctrl.reverse.summary }"\n            ng-click="$ctrl.sort([\'summary\'])">File Name</span>\n    </div>\n    <div class="t-default__col t-documents__col _type">\n      <span class="t-default__title t-documents__title _sortable"\n            ng-class="{ _reverse: $ctrl.reverse.type }"\n            ng-click="$ctrl.sort([\'type\'])">Type</span>\n    </div>\n    <div class="t-default__col t-documents__col _date">\n      <span class="t-default__title t-documents__title _sortable"\n            ng-class="{ _reverse: $ctrl.reverse.last_updated }"\n            ng-click="$ctrl.sort([\'last_updated\'], $ctrl._sortDataService.compareDates)">Date</span>\n    </div>\n    <div class="t-default__col t-documents__col _download">\n      <span class="t-default__title t-documents__title">Download</span>\n    </div>\n    <div class="t-default__col t-documents__col _log" ng-if="$ctrl._userService.checkRole(\'employee\')">\n      <span class="t-default__title t-documents__title">Log</span>\n    </div>\n  </div>\n  <div class="t-default__body t-documents__body">\n    <div class="t-default__row t-documents__row" ng-repeat="document in $ctrl.documents track by $index">\n      <div class="t-default__col t-documents__col _name">\n        <div class="t-default__title-mobile t-documents__title-mobile">File Name:</div>\n        <div class="t-documents__file">\n          <div class="t-documents__icon-outer" ng-init="fileType = document.file_extension">\n            <svg-use name="noticeboard"></svg-use>\n            <span class="t-documents__icon fiv-cla"\n                  ng-if="fileType"\n                  ng-class="\'fiv-icon-\' + fileType"\n            ></span>\n          </div>\n          <span class="t-documents__file-name">{{ ::document.filename }}</span>\n\t\t  <span class="t-documents__file-name _grey">{{ ::document.summary }}</span>\n        </div>\n      </div>\n      <div class="t-default__col t-documents__col _type">\n        <div class="t-default__title-mobile t-documents__title-mobile">Type:</div>\n        {{ document.type }}\n      </div>\n      <div class="t-default__col t-documents__col _date">\n        <div class="t-default__title-mobile t-documents__title-mobile">Date:</div>\n        {{ document.last_updated | date:$ctrl._dateService.getDateFormat(\'defaultDate\') }}\n      </div>\n      <div class="t-default__col t-documents__col _download">\n        <div class="t-default__title-mobile t-documents__title-mobile">Download:</div>\n        <button type="button"\n                ng-if="document.file_extension"\n                class="t-documents__download"\n                ng-click="$ctrl.downloadDocument(document)"\n        >\n          <svg-use name="download"></svg-use>\n        </button>\n      </div>\n      <div class="t-default__col t-documents__col _log" ng-if="$ctrl._userService.checkRole(\'employee\')">\n        <div class="t-default__title-mobile t-documents__title-mobile">Log:</div>\n        <button type="button"\n                ng-if="document.file_extension"\n                class="t-documents__log"\n                ng-click="$ctrl.logDocument(document.id)"\n        >\n          <svg-use name="search"></svg-use>\n        </button>\n      </div>\n    </div>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r, o) {
            "ngInject";
            (0, n.default)(this, e), this._attachmentsService = t, this._documentsService = i, this._sortDataService = a, this._userService = s, this._modalDefaultService = r, this._dateService = o, this.reverse = {}
        }
        return e.$inject = ["attachmentsService", "documentsService", "sortDataService", "userService", "modalDefaultService", "dateService"], (0, i.default)(e, [{
            key: "sort",
            value: function(e, t) {
                this.documents = this._sortDataService.sortBy(this.documents, e, this.reverse, t)
            }
        }, {
            key: "downloadDocument",
            value: function(e) {
                var t = this;
                this._documentsService.getDocumentDataFromDb(e.id).then(function(e) {
                    t._attachmentsService.downloadDocument(e.result)
                })
            }
        }, {
            key: "getFileExtantion",
            value: function(e) {
                return e.split(".").pop()
            }
        }, {
            key: "logDocument",
            value: function(e) {
                var t = this;
                this._documentsService.documentAccessLog(e).then(function(e) {
                    return t._modalDefaultService.showModalWithTemplates("modal-access-log", {
                        data: e.log
                    }, "Information")
                })
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3257));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("t-employee-clubs", []).component("tEmployeeClubs", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(3258)),
        i = a(t(3259));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(3260);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            clubs: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '{{ $ctrl.clubs }}\n\n<div class="t-default t-employee-clubs">\n  <div class="t-default__header t-employee-clubs__header">\n    <div class="t-default__col t-employee-clubs__col _name">\n      <span class="t-default__title t-employee-clubs__title _sortable"\n            ng-class="{ _reverse: $ctrl.reverse.name }"\n            ng-click="$ctrl.sort([\'name\'])"\n      >Name</span>\n    </div>\n    <div class="t-default__col t-employee-clubs__col _location">\n      <span class="t-default__title t-employee-clubs__title _sortable"\n            ng-class="{ _reverse: $ctrl.reverse.Location }"\n            ng-click="$ctrl.sort([\'Location\'])"\n      >Location</span>\n    </div>\n    <div class="t-default__col t-employee-clubs__col _capacity">\n      <span class="t-default__title t-employee-clubs__title">Capacity</span>\n    </div>\n    <div class="t-default__col t-employee-clubs__col _location">\n      <span class="t-default__title t-employee-clubs__title _sortable"\n            ng-class="{ _reverse: $ctrl.reverse.next_session }"\n            ng-click="$ctrl.sort([\'next_session\'], $ctrl._sortDataService.compareDates)"\n      >Next session</span>\n    </div>\n  </div>\n\n  <div class="t-default__body t-employee-clubs__body">\n    <div class="t-default__row t-employee-clubs__row"\n         ng-class="{ _disabled: $ctrl.isLoading }"\n         ng-click="$ctrl.showClubDetails(club)"\n         ng-repeat="club in $ctrl.clubs track by club.id"\n    >\n      <div class="t-default__col t-employee-clubs__col _name">\n        <div class="t-default__title-mobile t-employee-clubs__title-mobile">Name:</div>\n        {{ club.name }}\n      </div>\n      <div class="t-default__col t-employee-clubs__col _location">\n        <div class="t-default__title-mobile t-employee-clubs__title-mobile">Location:</div>\n        {{ club.location }}\n      </div>\n      <div class="t-default__col t-employee-clubs__col _capacity">\n        <div class="t-default__title-mobile t-employee-clubs__title-mobile">Capacity:</div>\n        {{ club.capacity.bookings || \'0\' }}/{{ club.capacity.maximum || \'Unlimited\' }}\n      </div>\n      <div class="t-default__col t-employee-clubs__col _location">\n        <div class="t-default__title-mobile t-employee-clubs__title-mobile">Next session:</div>\n        {{ club.next_session && $ctrl._clubsService.formatDate(club.next_session, \'H:mm a dddd, D MMMM\') }}\n      </div>\n    </div>\n  </div>\n</div>\n\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i) {
            "ngInject";
            (0, n.default)(this, e), this._clubsService = t, this._sortDataService = i, this.reverse = {}, this.isLoading = !1
        }
        return e.$inject = ["clubsService", "sortDataService"], (0, i.default)(e, [{
            key: "$onInit",
            value: function() {
                this.sort(["name"])
            }
        }, {
            key: "sort",
            value: function(e, t) {
                this.clubs = this._sortDataService.sortBy(this.clubs, e, this.reverse, t)
            }
        }, {
            key: "showClubDetails",
            value: function(e) {
                var t = this;
                this.isLoading = !0, this._clubsService.showClubDetails(e).finally(function() {
                    return t.isLoading = !1
                })
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3262));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("t-events", []).component("tEvents", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(3263)),
        i = a(t(3264));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(3265);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            events: "<",
            nextState: "@"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="t-events">\n  <div class="t-events__row _header">\n    <div class="t-events__col _name">\n      <div class="t-events__col-title">Name</div>\n    </div>\n    <div class="t-events__col _information">\n      <div class="t-events__col-title">Information</div>\n    </div>\n    <div class="t-events__col _date">\n      <div class="t-events__col-title">Date</div>\n    </div>\n    <div class="t-events__col _time">\n      <div class="t-events__col-title">Start time</div>\n    </div>\n    <div class="t-events__col _time">\n      <div class="t-events__col-title">End time</div>\n    </div>\n    <div class="t-events__col _details" ng-if="$ctrl._parentsEveningService.isAdmin && !$ctrl.activeStudent">\n      <div class="t-events__col-title">Details</div>\n    </div>\n  </div>\n\n  <ul class="t-events__body" ng-if="$ctrl.events.length">\n    <li class="t-events__item"\n        ng-repeat="event in $ctrl.events | orderBy:\'-date\' track by $index">\n      <a href="#" ui-sref="{{ $ctrl.nextState }}({ event_id: event.id })" class="t-events__row t-events__link">\n        <div class="t-events__col _name">\n          <div class="t-events__text-outer">{{ event.name || \'-\' }}</div>\n          <button type="button" class="t-events__btn-edit"\n                  ng-if="$ctrl._parentsEveningService.isAdmin"\n                  ng-click="$ctrl.openUpdateFieldModal($event, event.id, \'Name\', event.name, \'name\')"\n          >\n            <svg-use name="pencil"></svg-use>\n          </button>\n        </div>\n\n        <div class="t-events__col _information">\n          <div class="t-events__text-outer">{{ event.information }}</div>\n          <button type="button" class="t-events__btn-edit"\n                  ng-if="$ctrl._parentsEveningService.isAdmin"\n                  ng-click="$ctrl.openUpdateFieldModal($event, event.id, \'Information\', event.information, \'information\')"\n          >\n            <svg-use name="pencil"></svg-use>\n          </button>\n        </div>\n\n        <div class="t-events__col _date">\n          <p class="t-events__text" ng-repeat="session in event.sessions track by $index">\n            {{ session.start_time | date:$ctrl._dateService.getDateFormat(\'defaultDate\'):\'UTC\'}}\n          </p>\n        </div>\n\n        <div class="t-events__col _time _start">\n          <p class="t-events__text" ng-repeat="session in event.sessions track by $index">\n            {{ session.start_time | date:\'HH:mm\':\'UTC\'}}\n          </p>\n        </div>\n\n        <div class="t-events__col _time _end">\n          <div class="t-events__text-outer">\n            <p class="t-events__text" ng-repeat="session in event.sessions track by $index">\n              {{ session.end_time | date:\'HH:mm\':\'UTC\'}}\n            </p>\n          </div>\n          <button type="button" class="t-events__btn-edit"\n                  ng-if="$ctrl._parentsEveningService.isAdmin"\n                  ng-click="$ctrl.openUpdateSessionsModal($event, event.id, event.sessions, \'sessions\')"\n          >\n            <svg-use name="pencil"></svg-use>\n          </button>\n        </div>\n\n        <div class="t-events__col _details" ng-if="$ctrl._parentsEveningService.isAdmin && !$ctrl.activeStudent">\n          <span class="t-events__details-outer"\n                ng-click="$ctrl.transitionTo($event, \'parentevent.details\', { event_id: event.id, event_name: event.name })">\n            <div class="t-events__details">\n              Details\n            </div>\n          </span>\n        </div>\n\n      </a>\n    </li>\n  </ul>\n  <div class="t-events__body _no-data" ng-if="!$ctrl.events.length">\n    <div class="t-events__body-message">There are no events to show</div>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(192)),
        i = s(t(1)),
        a = s(t(2));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = function() {
        function e(t, n, a, s, r, o) {
            "ngInject";
            (0, i.default)(this, e), this._parentsEveningService = n, this._modalDefaultService = s, this._$state = t, this._userService = a, this._notificationService = r, this._dateService = o
        }
        return e.$inject = ["$state", "parentsEveningService", "userService", "modalDefaultService", "notificationService", "dateService"], (0, a.default)(e, [{
            key: "transitionTo",
            value: function(e, t, n) {
                e.stopPropagation(), e.preventDefault(), this._$state.transitionTo(t, n, {
                    notify: !1
                })
            }
        }, {
            key: "getPreparedSessions",
            value: function(e) {
                var t = this._dateService.getDateFormat("apiDateTime");
                return e.map(function(e) {
                    var n = e.id,
                        i = e.start_time,
                        a = e.end_time;
                    return {
                        id: n,
                        start_time: moment.utc(i).format(t),
                        end_time: moment.utc(a).format("HH:mm"),
                        minTime: moment.utc(a).format("HH:mm")
                    }
                })
            }
        }, {
            key: "openUpdateSessionsModal",
            value: function(e, t, i, a) {
                var s = this;
                e.stopPropagation(), e.preventDefault();
                var r = {
                    update: function(e) {
                        var i = e.value;
                        i.length ? s._parentsEveningService.updateField(t, (0, n.default)({}, a, i)).then(function() {
                            s._parentsEveningService.fetchAll(), s._notificationService.showSuccessNotification("Field was updated."), s.closeModal()
                        }) : s.closeModal()
                    },
                    cancel: function() {
                        return s.closeModal()
                    },
                    sessions: this.getPreparedSessions(i)
                };
                this._modalDefaultService.showModalWithTemplates("modal-update-sessions", r, "Update sessions")
            }
        }, {
            key: "openUpdateFieldModal",
            value: function(e, t, i, a, s) {
                var r = this;
                e.stopPropagation(), e.preventDefault();
                var o = {
                    update: function(e) {
                        var i = e.value;
                        r._parentsEveningService.updateField(t, (0, n.default)({}, s, i)).then(function() {
                            r._parentsEveningService.fetchAll(), r._notificationService.showSuccessNotification("Field was updated."), r.closeModal()
                        })
                    },
                    cancel: function() {
                        return r.closeModal()
                    },
                    title: i,
                    initialValue: a
                };
                this._modalDefaultService.showModalWithTemplates("modal-update-field", o, "Update field")
            }
        }, {
            key: "closeModal",
            value: function() {
                this._modalDefaultService.pop()
            }
        }, {
            key: "activeStudent",
            get: function() {
                return this._userService.user.activeStudent
            }
        }]), e
    }();
    exports.default = r
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3267));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("t-exam-entries", []).component("tExamEntries", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(3268)),
        i = a(t(3269));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(3270);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            exams: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="t-default t-exam-entries">\n  <div class="t-default__header t-exam-entries__header">\n    <div class="t-default__col t-exam-entries__col _season">\n      <span class="t-default__title t-exam-entries__title _sortable"\n            ng-class="{ \'_reverse\': $ctrl.reverse.season }"\n            ng-click="$ctrl.sort([\'season\'])">Season</span>\n    </div>\n    <div class="t-default__col t-exam-entries__col _board">\n      <span class="t-default__title t-exam-entries__title _sortable"\n            ng-class="{ \'_reverse\': $ctrl.reverse.board }"\n            ng-click="$ctrl.sort([\'board\', \'level\'])">Board & Level</span>\n    </div>\n    <div class="t-default__col t-exam-entries__col _code">\n      <span class="t-default__title t-exam-entries__title _sortable"\n            ng-class="{ \'_reverse\': $ctrl.reverse.code }"\n            ng-click="$ctrl.sort([\'code\', \'title\'])">Code & Exam</span>\n    </div>\n  </div>\n  <div class="t-default__body t-exam-entries__body">\n    <div class="t-default__row t-exam-entries__row" ng-repeat="exam in $ctrl.exams track by $index">\n      <div class="t-default__col t-exam-entries__col _season">\n        <div class="t-default__title-mobile t-exam-entries__title-mobile">Season:</div>\n        {{ exam.season }}\n      </div>\n      <div class="t-default__col t-exam-entries__col _board">\n        <div class="t-default__title-mobile t-exam-entries__title-mobile">Board & Level:</div>\n\t\t<div class="t-exam-entries__outter">\n\t\t\t<div class="t-exam-entries__col-text _gray t-exam-entries__inner">{{ exam.board }}</div>\n\t\t\t<div class="t-exam-entries__col-text t-exam-entries__inner">{{ exam.level }}</div>\n\t\t</div>\n      </div>\n      <div class="t-default__col t-exam-entries__col _code">\n        <div class="t-default__title-mobile t-exam-entries__title-mobile">Code & Exam:</div>\n\t\t<div class="t-exam-entries__outter">\n\t\t\t<div class="t-exam-entries__col-text _gray t-exam-entries__inner">{{ exam.code }}</div>\n\t\t\t<div class="t-exam-entries__col-text t-exam-entries__inner">{{ exam.title }}</div>\n\t\t</div>\n      </div>\n    </div>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t) {
            "ngInject";
            (0, n.default)(this, e), this._sortDataService = t, this.reverse = {}
        }
        return e.$inject = ["sortDataService"], (0, i.default)(e, [{
            key: "$onInit",
            value: function() {
                this.sort(["season"])
            }
        }, {
            key: "sort",
            value: function(e, t) {
                this.exams = this._sortDataService.sortBy(this.exams, e, this.reverse, t)
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3272));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("t-exam-results", []).component("tExamResults", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(3273)),
        i = a(t(3274));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(3275);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            exams: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="t-default t-exam-results">\n  <div class="t-default__header t-exam-results__header">\n    <div class="t-default__col t-exam-results__col _date">\n      <span class="t-default__title t-exam-results__title _sortable"\n            ng-class="{ \'_reverse\': $ctrl.reverse.date }"\n            ng-click="$ctrl.sort([\'date\'], $ctrl._sortDataService.compareDates)">Date</span>\n    </div>\n    <div class="t-default__col t-exam-results__col _board">\n      <span class="t-default__title t-exam-results__title _sortable"\n            ng-class="{ \'_reverse\': $ctrl.reverse.board }"\n            ng-click="$ctrl.sort([\'board\', \'level\'])">Board & Level</span>\n    </div>\n    <div class="t-default__col t-exam-results__col _code">\n      <span class="t-default__title t-exam-results__title _sortable"\n            ng-class="{ \'_reverse\': $ctrl.reverse.code }"\n            ng-click="$ctrl.sort([\'code\', \'title\'])">Code & Exam</span>\n    </div>\n    <div class="t-default__col t-exam-results__col _result">\n      <span class="t-default__title t-exam-results__title _sortable"\n            ng-class="{ \'_reverse\': $ctrl.reverse.result }"\n            ng-click="$ctrl.sort([\'result\'])">Result</span>\n    </div>\n    <div class="t-default__col t-exam-results__col _equivalent">\n      <span class="t-default__title t-exam-results__title _sortable"\n            ng-class="{ \'_reverse\': $ctrl.reverse.equivalent }"\n            ng-click="$ctrl.sort([\'equivalent\'])">Equivalent</span>\n    </div>\n  </div>\n  <div class="t-default__body t-exam-results__body">\n    <div class="t-default__row t-exam-results__row" ng-repeat="exam in $ctrl.exams track by $index">\n      <div class="t-default__col t-exam-results__col _date">\n        <div class="t-default__title-mobile t-exam-results__title-mobile">Date:</div>\n        {{ exam.date }}\n      </div>\n      <div class="t-default__col t-exam-results__col _board">\n        <div class="t-default__title-mobile t-exam-results__title-mobile">Board & Level:</div>\n\t\t<div class="t-exam-results__outter">\t\n\t\t\t<div class="t-exam-results__col-text _gray t-exam-results__inner">{{ exam.board }}</div>\n\t\t\t<div class="t-exam-results__col-text t-exam-results__inner">{{ exam.level }}</div>\n\t\t</div>\t\n      </div>\n      <div class="t-default__col t-exam-results__col _code">\n        <div class="t-default__title-mobile t-exam-results__title-mobile">Code & Exam:</div>\n        <div class="t-exam-results__outter">\n\t\t\t<div class="t-exam-results__col-text _gray t-exam-results__inner">{{ exam.code }}</div>\n\t\t\t<div class="t-exam-results__col-text t-exam-results__inner">{{ exam.title }}</div>\n\t\t</div>\n      </div>\n      <div class="t-default__col t-exam-results__col _result">\n        <div class="t-default__title-mobile t-exam-results__title-mobile">Result:</div>\n        {{ exam.result }}\n      </div>\n      <div class="t-default__col t-exam-results__col _equivalent">\n        <div class="t-default__title-mobile t-exam-results__title-mobile">Equivalent:</div>\n        {{ exam.equivalent }}\n      </div>\n    </div>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t) {
            "ngInject";
            (0, n.default)(this, e), this._sortDataService = t, this.reverse = {}
        }
        return e.$inject = ["sortDataService"], (0, i.default)(e, [{
            key: "$onInit",
            value: function() {
                this.sort(["date"], this._sortDataService.compareDates)
            }
        }, {
            key: "sort",
            value: function(e, t) {
                this.exams = this._sortDataService.sortBy(this.exams, e, this.reverse, t)
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3277));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("t-exam-timetable", []).component("tExamTimetable", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(3278)),
        i = a(t(3279));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(3280);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            exams: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="t-default t-exam-timetable">\n  <div class="t-default__header t-exam-timetable__header">\n    <div class="t-default__col t-exam-timetable__col _date">\n      <span class="t-default__title t-exam-timetable__title _sortable"\n            ng-class="{ \'_reverse\': $ctrl.reverse.date }"\n            ng-click="$ctrl.sort([\'datetime\'], $ctrl._sortDataService.compareDates)">\n        Date & Start Time\n      </span>\n    </div>\n    <div class="t-default__col t-exam-timetable__col _board">\n      <span class="t-default__title t-exam-timetable__title _sortable"\n            ng-class="{ \'_reverse\': $ctrl.reverse.board }"\n            ng-click="$ctrl.sort([\'board\', \'level\'])">Board & Level</span>\n    </div>\n    <div class="t-default__col t-exam-timetable__col _code">\n      <span class="t-default__title t-exam-timetable__title _sortable"\n            ng-class="{ \'_reverse\': $ctrl.reverse.code }"\n            ng-click="$ctrl.sort([\'code\', \'title\'])">Code & Exam</span>\n    </div>\n    <div class="t-default__col t-exam-timetable__col _room">\n      <span class="t-default__title t-exam-timetable__title _sortable"\n            ng-class="{ \'_reverse\': $ctrl.reverse.room }"\n            ng-click="$ctrl.sort([\'room\'])">Room</span>\n    </div>\n    <div class="t-default__col t-exam-timetable__col _seat">\n      <span class="t-default__title t-exam-timetable__title _sortable"\n            ng-class="{ \'_reverse\': $ctrl.reverse.seat }"\n            ng-click="$ctrl.sort([\'seat\'])">Seat</span>\n    </div>\n    <div class="t-default__col t-exam-timetable__col _duration">\n      <span class="t-default__title t-exam-timetable__title _sortable"\n            ng-class="{ \'_reverse\': $ctrl.reverse.duration }"\n            ng-click="$ctrl.sort([\'duration\'])">Duration</span>\n    </div>\n  </div>\n  <div class="t-default__body t-exam-timetable__body">\n    <div class="t-default__row t-exam-timetable__row" ng-repeat="exam in $ctrl.exams track by $index">\n      <div class="t-default__col t-exam-timetable__col _date">\n        <div class="t-default__title-mobile t-exam-timetable__title-mobile">Date & Start Time:</div>\n        <div class="t-exam-timetable__outter">\n\t\t\t<div class="t-exam-timetable__col-text _gray t-exam-timetable__inner">{{ exam.date }}</div>\n\t\t\t<div class="t-exam-timetable__col-text t-exam-timetable__inner">{{ exam.hour }}</div>\n\t\t</div>\n      </div>\n      <div class="t-default__col t-exam-timetable__col _board">\n        <div class="t-default__title-mobile t-exam-timetable__title-mobile">Board & Level:</div>\n        <div class="t-exam-timetable__outter">\n\t\t\t<div class="t-exam-timetable__col-text _gray t-exam-timetable__inner">{{ exam.board }}</div>\n\t\t\t<div class="t-exam-timetable__col-text t-exam-timetable__inner">{{ exam.level }}</div>\n\t\t</div>\n      </div>\n      <div class="t-default__col t-exam-timetable__col _code">\n        <div class="t-default__title-mobile t-exam-timetable__title-mobile">Code & Exam:</div>\n\t\t<div class="t-exam-timetable__outter">\n\t\t\t<div class="t-exam-timetable__col-text _gray t-exam-timetable__inner">{{ exam.code }}</div>\n\t\t\t<div class="t-exam-timetable__col-text t-exam-timetable__inner">{{ exam.title }}</div>\n\t\t</div>\n      </div>\n      <div class="t-default__col t-exam-timetable__col _room">\n        <div class="t-default__title-mobile t-exam-timetable__title-mobile">Room:</div>\n        {{ exam.room }}\n      </div>\n      <div class="t-default__col t-exam-timetable__col _seat">\n        <div class="t-default__title-mobile t-exam-timetable__title-mobile">Seat:</div>\n        {{ exam.seat }}\n      </div>\n      <div class="t-default__col t-exam-timetable__col _duration">\n        <div class="t-default__title-mobile t-exam-timetable__title-mobile">Duration:</div>\n        {{ exam.duration }}\n      </div>\n\n    </div>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t) {
            "ngInject";
            (0, n.default)(this, e), this._sortDataService = t, this.reverse = {}
        }
        return e.$inject = ["sortDataService"], (0, i.default)(e, [{
            key: "$onInit",
            value: function() {
                this.sort(["datetime"], this._sortDataService.compareDates)
            }
        }, {
            key: "compareDates",
            value: function(e, t) {
                return moment(e.value) < moment(t.value) ? -1 : 1
            }
        }, {
            key: "sort",
            value: function(e, t) {
                this.exams = this._sortDataService.sortBy(this.exams, e, this.reverse, t)
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3282));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("t-family-contacts", []).component("tFamilyContacts", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(3283)),
        i = a(t(3284));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(3285);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            field: "<",
            removeItem: "&",
            changePriority: "&"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="t-default t-family-contacts">\n  <div class="t-default__header">\n    <div class="t-default__col t-family-contacts__col _priority">Priority</div>\n    <div class="t-default__col t-family-contacts__col _name">Name</div>\n    <div class="t-default__col t-family-contacts__col _relationship">Relationship</div>\n    <div class="t-default__col t-family-contacts__col _phone">Phone</div>\n    <div class="t-default__col t-family-contacts__col _remove"\n         ng-if="!$ctrl.field.read_only"\n    ></div>\n  </div>\n  <div class="t-default__body t-family-contacts__body">\n    <div class="t-default__row t-family-contacts__row" ng-repeat="item in $ctrl.field.data track by $index">\n      <div class="t-default__col t-family-contacts__col _priority">\n        <div class="t-default__title-mobile t-family-contacts__title-mobile">Priority:</div>\n        <div class="t-default__text t-family-contacts__text">\n          {{ item.priority }}\n        </div>\n        <div class="t-family-contacts__sort" ng-if="!$ctrl.field.read_only">\n          <button type="button" class="t-family-contacts__btn-sort _top"\n                  ng-disabled="item.priority === 10"\n                  ng-click="$ctrl.changePriority({ item, increment: true })"\n          ></button>\n          <button type="button" class="t-family-contacts__btn-sort _bottom"\n                  ng-disabled="item.priority === 0 || item.priority === 1"\n                  ng-click="$ctrl.changePriority({ item })"\n          ></button>\n        </div>\n      </div>\n      <div class="t-default__col t-family-contacts__col _name">\n        <div class="t-default__title-mobile t-family-contacts__title-mobile">Name:</div>\n        <div class="t-default__text t-family-contacts__text">\n          {{ item.fullName ? item.fullName :  item.forename + \' \' + item.surname }}\n        </div>\n      </div>\n      <div class="t-default__col t-family-contacts__col _relationship">\n        <div class="t-default__title-mobile t-family-contacts__title-mobile">Relationship:</div>\n        <div class="t-default__text t-family-contacts__text"\n             ng-if="$ctrl.field.read_only"\n        >\n          {{ item.relationship.description }}\n        </div>\n        <div class="t-family-contacts__select-outer"\n             ng-if="!$ctrl.field.read_only"\n        >\n          <ui-select\n              class="select-default"\n              theme="selectize"\n              ng-model="item.relationship"\n              search-enabled="false"\n          >\n            <ui-select-match placeholder="-">{{ $select.selected.description }}</ui-select-match>\n            <ui-select-choices repeat="type in $ctrl.relationTypes track by $index">\n              <span>{{ ::type.description }}</span>\n            </ui-select-choices>\n          </ui-select>\n\n          <div class="f-default__select-mobile-wrap t-family-contacts__select-mobile-wrap">\n            <select class="f-default__select-mobile t-family-contacts__select-mobile"\n                    ng-init="item.relationship = $ctrl.getRelationship(item.relationship)"\n                    ng-model="item.relationship"\n            >\n              <option\n                  ng-repeat="type in $ctrl.relationTypes track by $index"\n                  ng-selected="type.id === item.relationship.id"\n                  ng-value="type"\n              >{{ ::type.description }}</option>\n            </select>\n          </div>\n        </div>\n      </div>\n      <div class="t-default__col t-family-contacts__col _phone">\n        <div class="t-default__title-mobile t-family-contacts__title-mobile">Phone:</div>\n        <svg-use name="check" ng-if="item.main_telephone"></svg-use>\n        <svg-use name="cross" ng-if="!item.main_telephone && !$ctrl.isUndefined(item.main_telephone)"></svg-use>\n      </div>\n      <div class="t-default__col t-family-contacts__col _remove" ng-if="!$ctrl.field.read_only">\n        <div class="t-default__title-mobile t-family-contacts__title-mobile">Remove:</div>\n        <button type="button" class="t-family-contacts__remove"\n                ng-click="$ctrl.removeItem({ fields: $ctrl.field, item })"\n        >\n          <svg-use name="trash"></svg-use>\n        </button>\n      </div>\n    </div>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t) {
            "ngInject";
            (0, n.default)(this, e), this._dataCollectionService = t, this.relationTypes = []
        }
        return e.$inject = ["dataCollectionService"], (0, i.default)(e, [{
            key: "$onInit",
            value: function() {
                this.relationTypes = this.getActiveTypes()
            }
        }, {
            key: "getActiveTypes",
            value: function() {
                return this._dataCollectionService.lookups.relation_type.map(function(e) {
                    return {
                        id: e.id,
                        description: e.description
                    }
                })
            }
        }, {
            key: "isUndefined",
            value: function(e) {
                return angular.isUndefined(e)
            }
        }, {
            key: "getRelationship",
            value: function(e) {
                return this.relationTypes.find(function(t) {
                    return t.id === e.id
                })
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3287));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("t-homework", []).component("tHomework", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(3288)),
        i = a(t(3289));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(3290);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            homework: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="t-default t-homework">\n  <div class="t-default__header t-homework__header">\n    <div class="t-default__col t-homework__col _due">\n      <span class="t-default__title t-homework__title _sortable"\n            ng-class="{ _reverse: $ctrl.reverse.due_text }"\n            ng-click="$ctrl.sort([\'due_date\'], $ctrl._sortDataService.compareDates)">\n        Due Date\n      </span>\n    </div>\n    <div class="t-default__col t-homework__col _name">\n      <span class="t-default__title t-homework__title _sortable"\n            ng-class="{ _reverse: $ctrl.reverse.activity }"\n            ng-click="$ctrl.sort([\'activity\'])">Name</span>\n    </div>\n    <div class="t-default__col t-homework__col _subject">\n      <span class="t-default__title t-homework__title _sortable"\n            ng-class="{ _reverse: $ctrl.reverse.subject }"\n            ng-click="$ctrl.sort([\'subject\'])">Subject & Class</span>\n    </div>\n    <div class="t-default__col t-homework__col _set">\n      <span class="t-default__title t-homework__title _sortable"\n            ng-class="{ _reverse: $ctrl.reverse.available_date }"\n            ng-click="$ctrl.sort([\'available_date\'], $ctrl._sortDataService.compareDates.bind({ format: \'DD/MM/YYYY\' }))"\n      >Available</span>\n    </div>\n    <div class="t-default__col t-homework__col _submission"\n         ng-if="!$ctrl._homeworkDataService.isHiddenField(\'submitted\')">\n      <span class="t-default__title t-homework__title _sortable"\n            ng-class="{ _reverse: $ctrl.reverse.status }"\n            ng-click="$ctrl.sort([\'status\'])">Submission</span>\n    </div>\n    <div class="t-default__col t-homework__col _completed"\n         ng-if="!$ctrl._homeworkDataService.isHiddenField(\'completed\')">\n      <span class="t-default__title t-homework__title">Completed</span>\n    </div>\n    <div class="t-default__col t-homework__col _received"\n         ng-if="!$ctrl._homeworkDataService.isHiddenField(\'received\')">\n      <span class="t-default__title t-homework__title">Received</span>\n    </div>\n  </div>\n  <div class="t-default__body t-homework__body">\n    <div class="t-default__row t-homework__row"\n         ng-click="$ctrl.openHomeworkDetails(item)"\n         ng-repeat="item in $ctrl.homework track by $index"\n\t\t     ng-class="{ \'_green\': $ctrl._homeworkDataService.homeworkStatus(item) === \'green\',\n                     \'_red\': $ctrl._homeworkDataService.homeworkStatus(item) === \'red\',\n                     \'_orange\': $ctrl._homeworkDataService.homeworkStatus(item) === \'orange\',\n                     \'_disabled\': item.isLoading}"\n    >\n      <div class="t-default__col t-homework__col _due">\n        <div class="t-default__title-mobile t-homework__title-mobile">Due:</div>\n        <div class="t-homework__date-outer">\n          <div class="t-homework__date _text"\n               ng-class="{ \'_green\': $ctrl._homeworkDataService.homeworkStatus(item) === \'green\',\n                           \'_red\': $ctrl._homeworkDataService.homeworkStatus(item) === \'red\',\n                           \'_orange\': $ctrl._homeworkDataService.homeworkStatus(item) === \'orange\'}">\n            {{ item.due_text }}&nbsp;\n          </div>\n          <div class="t-homework__date">{{ item.due_date | date:$ctrl._dateService.getDateFormat(\'defaultDate\')}}</div>\n        </div>\n      </div>\n      <div class="t-default__col t-homework__col _name">\n        <div style="padding-right:30px" class="t-default__title-mobile t-homework__title-mobile">Name:</div>\n        {{ item.activity }}\n      </div>\n      <div class="t-default__col t-homework__col _subject">\n        <div style="padding-right:10px" class="t-default__title-mobile t-homework__title-mobile">Subject & Class:</div>\n        <div class="t-homework__text-outer">\n          <div class="t-homework__text">{{ item.subject }}</div>\n          <div class="t-homework__text" ng-if="item.teaching_group_id">\n            {{ $ctrl._homeworkDataService.getTeachingGroupById(item.teaching_group_id) }}\n          </div>\n        </div>\n      </div>\n      <div class="t-default__col t-homework__col _set">\n        <div style="padding-right:5px" class="t-default__title-mobile t-homework__title-mobile">Available:</div>\n        <div class="t-homework__text-outer">\n          <div class="t-homework__text">{{ item.available_date }}&nbsp;</div>\n          <div class="t-homework__text">{{ item.available_text }}</div>\n        </div>\n      </div>\n      <div class="t-default__col t-homework__col _submission"\n           ng-if="!$ctrl._homeworkDataService.isHiddenField(\'submitted\')">\n        <div style="padding-right:10px" class="t-default__title-mobile t-homework__title-mobile">Submission:</div>\n        {{ item.status }}\n      </div>\n      <div class="t-default__col t-homework__col _completed"\n           ng-if="!$ctrl._homeworkDataService.isHiddenField(\'completed\')">\n        <div class="t-default__title-mobile t-homework__title-mobile">Completed:</div>\n        <div class="t-homework__icon-outer">\n          <svg-use name="cross" ng-if="!item.completed"></svg-use>\n          <svg-use name="check" ng-if="item.completed"></svg-use>\n        </div>\n      </div>\n      <div class="t-default__col t-homework__col _received"\n           ng-if="!$ctrl._homeworkDataService.isHiddenField(\'employee_received\')">\n        <div class="t-default__title-mobile t-homework__title-mobile">Received:</div>\n        <div class="t-homework__icon-outer">\n          <svg-use name="cross" ng-if="item.employee_received === false"></svg-use>\n          <svg-use name="check" ng-if="item.employee_received === true"></svg-use>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s) {
            "ngInject";
            (0, n.default)(this, e), this._homeworkDataService = i, this._sortDataService = a, this._dateService = s, this.reverse = {
                due_date: "current" === t.page || !t.page
            }
        }
        return e.$inject = ["$stateParams", "homeworkDataService", "sortDataService", "dateService"], (0, i.default)(e, [{
            key: "sort",
            value: function(e, t) {
                this.homework = this._sortDataService.sortBy(this.homework, e, this.reverse, t)
            }
        }, {
            key: "openHomeworkDetails",
            value: function(e) {
                e.isLoading || (e.isLoading = !0, this._homeworkDataService.openHomeworkDetails(e).finally(function() {
                    e.isLoading = !1
                }))
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3292));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("t-homework-preview", []).component("tHomeworkPreview", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(3293),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    t(3294);
    var s = {
        controller: ["dateService", function(e) {
            "ngInject";
            return {
                _dateService: e
            }
        }],
        template: a.default,
        bindings: {
            homeworks: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="t-default t-homework-preview">\n  <div class="t-default__header">\n    <div class="t-default__col t-homework-preview__col _due">Due Date</div>\n    <div class="t-default__col t-homework-preview__col _name">Homework Name</div>\n    <div class="t-default__col t-homework-preview__col _complete">Complete</div>\n  </div>\n  <div class="t-default__body">\n    <div class="t-default__row t-homework-preview__row" ng-repeat="item in $ctrl.homeworks track by $index">\n      <div class="t-default__col t-homework-preview__col _due">\n        <div class="t-default__title-mobile t-homework-preview__title-mobile">Due:</div>\n        {{ item.due_date | date: $ctrl._dateService.getDateFormat(\'defaultDate\') }}\n      </div>\n      <div class="t-default__col t-homework-preview__col _name">\n        <div class="t-default__title-mobile t-homework-preview__title-mobile">Name:</div>\n        {{ item.activity }}\n      </div>\n      <div class="t-default__col t-homework-preview__col _complete">\n        <div class="t-default__title-mobile t-homework-preview__title-mobile">Complete:</div>\n        <div class="t-homework-preview__icon-outer">\n          <svg-use name="cross" ng-if="!item.completed"></svg-use>\n          <svg-use name="check" ng-if="item.completed"></svg-use>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n'
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3296));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("t-homework-learners", []).component("tHomeworkLearners", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(3297)),
        i = a(t(3298));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(3299);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            learners: "<",
            homeworkId: "<",
            homeworkSource: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="t-default t-homework-learners">\n  <div class="t-default__header">\n    <div class="t-default__col t-homework-learners__col _student_firstname">\n      <span class="t-default__title t-homework-learners__title _sortable"\n            ng-class="{ _reverse: $ctrl.reverse.forename }"\n            ng-click="$ctrl.sort([\'forename\'])"\n      >\n        Firstname\n      </span>\n    </div>\n    <div class="t-default__col t-homework-learners__col _student_surname">\n      <span class="t-default__title t-homework-learners__title _sortable"\n            ng-class="{ _reverse: $ctrl.reverse.surname }"\n            ng-click="$ctrl.sort([\'surname\'])"\n      >\n        Surname\n      </span>\n    </div>\n    <div class="t-default__col t-homework-learners__col _complete">\n      <span class="t-default__title t-homework-learners__title _sortable"\n            ng-class="{ _reverse: $ctrl.reverse.completed }"\n            ng-click="$ctrl.sort([\'completed\'])"\n      >\n        Complete\n      </span>\n    </div>\n\n    <div class="t-default__col t-homework-learners__col _received" ng-if="$ctrl.homeworkSource === \'EduLink\'">\n      <span class="t-default__title t-homework-learners__title _sortable"\n            ng-class="{ _reverse: $ctrl.reverse.employee_received }"\n            ng-click="$ctrl.sort([\'employee_received\'])"\n      >\n        Received\n      </span>\n    </div>\n    <div class="t-default__col t-homework-learners__col _issue"\n         ng-if="$ctrl._userService.user.capabilities[\'homework.homework_issues\'] && $ctrl.homeworkSource === \'EduLink\'"\n    >\n      <span class="t-default__title t-homework-learners__title _sortable"\n            ng-class="{ _reverse: $ctrl.reverse.has_issue }"\n            ng-click="$ctrl.sort([\'has_issue\'])"\n      >\n        Issue\n      </span>\n    </div>\n  </div>\n  <div class="t-default__body t-homework-learners__body" lazy-photo\n       config="$ctrl.lazyPhotoConfig"\n       elements="$ctrl.learners">\n    <div class="t-default__row" photo-element\n         data-hash="{{ ::student.hashPhoto }}"\n         ng-repeat="student in $ctrl.learners">\n      <div class="t-default__col t-homework-learners__col _student_firstname">\n        <div class="t-default__title-mobile t-homework-learners__title-mobile">Firstname:</div>\n        <div class="t-homework-learners__student">\n          <div class="t-homework-learners__photo" binded-photo\n               ng-style="{\'background-image\': \'url(\' + $ctrl._imagesConstants.DEFAULT_IMAGE + \')\'}"\n               photo-url="{{ ::student.photos[0].photo }}">\n          </div>\n          <div class="t-homework-learners__info">\n            <div class="t-homework-learners__name">{{::student.forename}}</div>\n          </div>\n        </div>\n      </div>\n      <div class="t-default__col t-homework-learners__col _student_surname">\n        <div class="t-default__title-mobile t-homework-learners__title-mobile">Surname:</div>\n        <div class="t-homework-learners__student">\n          <div class="t-homework-learners__info">\n            <div class="t-homework-learners__name">{{::student.surname}}</div>\n            <div class="t-homework-learners__group" ng-if="student.community_group || student.form_group">\n              {{ ::student.community_group }} {{ ::student.form_group }}\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class="t-default__col t-homework-learners__col _complete">\n        <div class="t-default__title-mobile t-homework-learners__title-mobile">Complete:</div>\n        <div class="t-homework-learners__complete">\n          <svg-use name="cross" ng-if="!student.completed"></svg-use>\n          <svg-use name="check" ng-if="student.completed"></svg-use>\n        </div>\n      </div>\n\n\n      <div class="t-default__col t-homework-learners__col _received" ng-if="$ctrl.homeworkSource === \'EduLink\'">\n        <div class="t-default__title-mobile t-homework-learners__title-mobile">Received:</div>\n        <btn-tree-state\n          value="student.employee_received"\n          data="student"\n          on-change="$ctrl.onEmployeeReceivedChange(newValue, data)"\n        ></btn-tree-state>\n      </div>\n      <div class="t-default__col t-homework-learners__col _issue" \n        ng-if="$ctrl._userService.user.capabilities[\'homework.homework_issues\'] && $ctrl.homeworkSource === \'EduLink\'">\n        <div class="t-default__title-mobile t-homework-learners__title-mobile">Issue:</div>\n        <button type="button" class="t-homework-learners__btn-issue"\n                ng-class="{ \'_has-issue\': student.has_issue }"\n                ng-disabled="$ctrl.isLoading"\n                ng-click="$ctrl.toggleIssueButton(student)"\n                ng-if="$ctrl._userService.user.capabilities[\'homework.homework_issues\']">\n          <svg-use name="behaviour"></svg-use>\n        </button>\n      </div>\n    </div>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r, o, l) {
            "ngInject";
            (0, n.default)(this, e), this._imagesConstants = i, this._$scope = t, this._studentsService = a, this._userService = s, this._homeworkDataService = r, this._notificationService = o, this._sortDataService = l, this.local = {
                isLoading: !1,
                lazyPhotoConfig: {
                    prefix: "data:image/png;base64,",
                    reserveScroll: 150,
                    getPhotoCallback: this.getPhoto
                },
                itemsLimit: 15,
                scrollConfig: {
                    increaseBy: 15,
                    startCount: 15
                }
            }, this.reverse = {}
        }
        return e.$inject = ["$scope", "imagesConstants", "studentsService", "userService", "homeworkDataService", "notificationService", "sortDataService"], (0, i.default)(e, [{
            key: "$onInit",
            value: function() {
                this.sort(["fullName"])
            }
        }, {
            key: "sort",
            value: function(e) {
                this.learners = this._sortDataService.sortBy(this.learners, e, this.reverse)
            }
        }, {
            key: "getPhoto",
            value: function(e, t) {
                return e._studentsService.students.getPhotos(t)
            }
        }, {
            key: "toggleIssueButton",
            value: function(e) {
                var t = this;
                this.local.isLoading = !0, this._homeworkDataService.homeworkIssue(this.homeworkId, e.id, !e.has_issue).then(function() {
                    e.has_issue = !e.has_issue, t._notificationService.showSuccessNotification("Success")
                }).finally(function() {
                    return t.local.isLoading = !1
                })
            }
        }, {
            key: "toggleReceiving",
            value: function(e, t) {
                var n = this;
                this.local.isLoading = !0, this._homeworkDataService.homeworkReceived(this.homeworkId, t.id, e).then(function() {
                    t.employee_received = e, n._notificationService.showSuccessNotification("Success")
                }).finally(function() {
                    return n.local.isLoading = !1
                })
            }
        }, {
            key: "onEmployeeReceivedChange",
            value: function(e, t) {
                this.toggleReceiving(e, t)
            }
        }, {
            key: "lazyPhotoConfig",
            get: function() {
                return this.local.lazyPhotoConfig
            }
        }, {
            key: "isLoading",
            get: function() {
                return this.local.isLoading
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3301));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("t-homework-overview", []).component("tHomeworkOverview", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(3302),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    t(3303);
    var s = {
        template: a.default,
        bindings: {
            data: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="t-default t-homework-overview">\n  <div class="t-default__header">\n    <div class="t-default__col t-homework-overview__col _activity">Activity</div>\n    <div class="t-default__col t-homework-overview__col _due-date">Due date</div>\n    <div class="t-default__col t-homework-overview__col _duration">Duration</div>\n    <div class="t-default__col t-homework-overview__col _owner">Set by</div>\n  </div>\n  <div class="t-default__body">\n    <div class="t-homework-overview__message" ng-if="!$ctrl.data.length">No data.</div>\n    <div class="t-default__row" ng-if="$ctrl.data.length" ng-repeat="item in $ctrl.data track by $index">\n      <div class="t-default__col t-homework-overview__col _activity">\n        <div class="t-default__title-mobile t-homework-overview__title-mobile">Activity:</div>\n        {{ item.activity }}\n      </div>\n      <div class="t-default__col t-homework-overview__col _due-date">\n        <div class="t-default__title-mobile t-homework-overview__title-mobile">Due date:</div>\n        {{ item.due_date }}\n      </div>\n      <div class="t-default__col t-homework-overview__col _duration">\n        <div class="t-default__title-mobile t-homework-overview__title-mobile">Duration:</div>\n        {{ item.duration }}\n      </div>\n      <div class="t-default__col t-homework-overview__col _owner">\n        <div class="t-default__title-mobile t-homework-overview__title-mobile">Set by:</div>\n        {{ item.ownerName }}\n      </div>\n    </div>\n  </div>\n</div>\n'
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3305));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("t-homework-report", []).component("tHomeworkReport", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(3306)),
        i = a(t(3307));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(3308);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            homework: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="t-default t-homework-report">\n  <div class="t-default__header t-homework-report__header">\n    <div class="t-default__col t-homework-report__col _classes"></div>\n    <div class="t-default__col t-homework-report__col _homeworks">Homeworks</div>\n    <div class="t-default__col t-homework-report__col _completed">Completed</div>\n    <div class="t-default__col t-homework-report__col _percentage">Percentage Completed</div>\n  </div>\n  <div class="t-default__body t-homework-report__body">\n    <div class="t-default__row t-homework-report__row" ng-repeat="item in $ctrl.homework track by $index">\n      <div class="t-homework-report__row-title"\n           ng-class="{ _opened: item.isOpened }"\n           ng-click="$ctrl.toggleClass(item)">\n        {{ ::item.name }}\n      </div>\n\n      <div class="t-homework-report__learners" ng-if="item.isOpened">\n        <div class="t-homework-report__learner"\n             ng-repeat="learner in item.learners track by $index"\n             ng-class="{ _disabled: !learner.homeworks.length }"\n             ng-click="$ctrl.showHomeworkModal(learner.homeworks)">\n          <div class="t-default__col t-homework-report__col _classes">\n            <div class="t-default__title-mobile t-homework__title-mobile">Name:</div>\n            {{ ::learner.learner.fullName }}\n          </div>\n          <div class="t-default__col t-homework-report__col _homeworks">\n            <div class="t-default__title-mobile t-homework__title-mobile">Homeworks:</div>\n            {{ ::learner.homeworks_count }}\n          </div>\n          <div class="t-default__col t-homework-report__col _completed">\n            <div class="t-default__title-mobile t-homework__title-mobile">Completed:</div>\n            {{ ::learner.homeworks_complete }}\n          </div>\n          <div class="t-default__col t-homework-report__col _percentage" ng-if="learner.homeworks_count">\n            <div class="t-default__title-mobile t-homework__title-mobile">Percentage:</div>\n            {{ ::learner.completion_percent }}%\n          </div>\n          <div class="t-default__col t-homework-report__col _percentage" ng-if="!learner.homeworks_count">\n            <div class="t-default__title-mobile t-homework__title-mobile">Percentage:</div>\n            n/a\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t) {
            "ngInject";
            (0, n.default)(this, e), this._modalDefaultService = t
        }
        return e.$inject = ["modalDefaultService"], (0, i.default)(e, [{
            key: "showHomeworkModal",
            value: function(e) {
                if (e.length) {
                    var t = {
                        homeworks: e
                    };
                    this._modalDefaultService.showModalWithTemplates("modal-show-homework", t, "Homework")
                }
            }
        }, {
            key: "toggleClass",
            value: function(e) {
                e.isOpened = !e.isOpened
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3310));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("t-i-calendars", []).component("tICalendars", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(3311)),
        i = a(t(3312));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(3313);
    var s = {
        controller: i.default,
        template: n.default,
        bindings: {
            exportsData: "<",
            importsData: "<",
            learnerId: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="t-default t-i-calendars" ng-class="{ \'_group-import\': $ctrl.isGroupImport() }">\n  <div class="t-default__header t-i-calendars__header _exports" ng-if="$ctrl.exportsData">\n    <div class="t-default__col t-i-calendars__col _name">\n      Name\n    </div>\n    <div class="t-default__col t-i-calendars__col _switch">\n      Toggle\n    </div>\n    <div class="t-default__col t-i-calendars__col _url">\n      Copy\n    </div>\n  </div>\n\n  <div class="t-default__header t-i-calendars__header _imports" ng-if="$ctrl.importsData">\n    <div class="t-default__col t-i-calendars__col _description">\n      Name\n    </div>\n    <div class="t-default__col t-i-calendars__col _type">\n      Type\n    </div>\n    <div class="t-default__col t-i-calendars__col _available">\n      Available To\n    </div>\n    <div class="t-default__col t-i-calendars__col _sync">\n      Last Sync\n    </div>\n    <div class="t-default__col t-i-calendars__col _remove"></div>\n  </div>\n\n  <div class="t-default__body t-i-calendars__body _exports" ng-if="$ctrl.exportsData">\n    <div class="t-default__row t-i-calendars__row" ng-repeat="item in $ctrl.exportsData track by $index">\n      <div class="t-default__col t-i-calendars__col _name">\n        <div class="t-default__title-mobile t-i-calendars__title-mobile">Name:</div>\n        {{ ::item.description }}\n      </div>\n      <div class="t-default__col t-i-calendars__col _switch">\n        <div class="t-default__title-mobile t-i-calendars__title-mobile">Toggle:</div>\n        <div class="t-i-calendars__switch-outer"\n             ng-class="{ _disabled: item.isSending }"\n             ng-click="$ctrl.toggleState(item)">\n          <div class="t-i-calendars__switch" ng-class="{ _selected: item.enabled, _disable: item.isSending }"></div>\n        </div>\n      </div>\n      <div class="t-default__col t-i-calendars__col _url">\n        <div class="t-default__title-mobile t-i-calendars__title-mobile">Copy:</div>\n        <button type="button" class="t-i-calendars__btn-copy" ngclipboard\n                data-clipboard-text="{{ ::item.url }}"\n                ng-disabled="!item.url">\n          <svg-use name="copy"></svg-use>\n        </button>\n      </div>\n    </div>\n  </div>\n\n  <div class="t-default__body t-i-calendars__body _imports" ng-if="$ctrl.importsData">\n    <div class="t-default__row t-i-calendars__row" ng-repeat="item in $ctrl.importsData track by $index">\n      <div class="t-default__col t-i-calendars__col _description">\n        <div class="t-default__title-mobile t-i-calendars__title-mobile">Name:</div>\n        {{ ::item.description }}\n      </div>\n      <div class="t-default__col t-i-calendars__col _type">\n        <div class="t-default__title-mobile t-i-calendars__title-mobile">Type:</div>\n        {{ ::item.owner }}\n      </div>\n      <div class="t-default__col t-i-calendars__col _available">\n        <div class="t-default__title-mobile t-i-calendars__title-mobile">Available To:</div>\n        {{ ::$ctrl.getUserTypes(item.user_types) }}\n      </div>\n      <div class="t-default__col t-i-calendars__col _sync">\n        <div class="t-default__title-mobile t-i-calendars__title-mobile">Last Sync:</div>\n        {{ ::item.fetch_completed }}\n      </div>\n      <div class="t-default__col t-i-calendars__col _remove">\n        <div class="t-default__title-mobile t-i-calendars__title-mobile">Remove:</div>\n        <button type="button" class="t-i-calendars__btn-remove" ng-click="$ctrl.deleteOption(item.id)">\n          <svg-use name="trash"></svg-use>\n        </button>\n      </div>\n    </div>\n  </div>\n\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a) {
            "ngInject";
            (0, n.default)(this, e), this._iCalendarsService = t, this._userService = i, this._notificationService = a
        }
        return e.$inject = ["iCalendarsService", "userService", "notificationService"], (0, i.default)(e, [{
            key: "toggleState",
            value: function(e) {
                var t = this,
                    n = {
                        type: e.type
                    };
                this.learnerId && (n.learner_id = this.learnerId), e.isSending = !0, e.enabled ? this._iCalendarsService.setToDisableICalendar(n).then(function() {
                    return t._iCalendarsService.getICalendarsData()
                }).finally(function() {
                    return e.isSending = !1
                }) : this._iCalendarsService.setToEnableICalendar(n).then(function() {
                    return t._iCalendarsService.getICalendarsData()
                }).finally(function() {
                    return e.isSending = !1
                })
            }
        }, {
            key: "getUserTypes",
            value: function(e) {
                return e && e.length ? e.reduce(function(e, t, n) {
                    return e += (0 === n ? "" : ", ") + t
                }, "") : ""
            }
        }, {
            key: "deleteOption",
            value: function(e) {
                var t = this;
                this._iCalendarsService.removeICalendarOption(e).then(function() {
                    return t._iCalendarsService.getICalendarsData()
                })
            }
        }, {
            key: "isGroupImport",
            value: function() {
                return this._userService.user.capabilities["icalendar.group_import"]
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3315));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("t-log", []).component("tLog", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(3316)),
        i = a(t(3317));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(3318);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            log: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="t-default t-log" ng-if="$ctrl.log.length">\n  <div class="t-default__header t-log__header">\n    <div class="t-default__col t-log__col _for">\n      <span class="t-default__title t-homework__title _sortable"\n            ng-class="{ _reverse: $ctrl.reverse[\'for.name\'] }"\n            ng-click="$ctrl.sort([\'for.name\'])">\n        Change For\n      </span>\n    </div>\n    <div class="t-default__col t-log__col _from">\n      <span class="t-default__title t-homework__title _sortable"\n            ng-class="{ _reverse: $ctrl.reverse[\'from.name\'] }"\n            ng-click="$ctrl.sort([\'from.name\'])">\n        From\n      </span>\n    </div>\n    <div class="t-default__col t-log__col _field">\n      <span class="t-default__title t-homework__title _sortable"\n            ng-class="{ _reverse: $ctrl.reverse[\'field.label\'] }"\n            ng-click="$ctrl.sort([\'field.label\'])">\n        Field\n      </span>\n    </div>\n    <div class="t-default__col t-log__col _change">\n      Change\n    </div>\n    <div class="t-default__col t-log__col _date">\n      <span class="t-default__title t-homework__title _sortable"\n            ng-class="{ _reverse: $ctrl.reverse.actioned_temp_field_for_sorting }"\n            ng-click="$ctrl.sort([\'actioned_temp_field_for_sorting\'])">\n        Actioned Date\n      </span>\n    </div>\n    <div class="t-default__col t-log__col _action">\n      <span class="t-default__title t-homework__title _sortable"\n            ng-class="{ _reverse: $ctrl.reverse.operation }"\n            ng-click="$ctrl.sort([\'operation\'])">\n        Action\n      </span>\n    </div>\n    <div class="t-default__col t-log__col _by">\n      <span class="t-default__title t-homework__title _sortable"\n            ng-class="{ _reverse: $ctrl.reverse[\'actioned_by.name\'] }"\n            ng-click="$ctrl.sort([\'actioned_by.name\'])">\n        Actioned By\n      </span>\n    </div>\n  </div>\n\n  <div class="t-default__body t-log__body">\n    <div class="t-default__row t-log__row" ng-repeat="item in $ctrl.log track by $index">\n      <div class="t-default__col t-log__col _for">\n        {{ item.for.name }} ({{ item.for.type }})\n      </div>\n      <div class="t-default__col t-log__col _from">\n        {{ item.from.name }} ({{ item.from.type }})\n      </div>\n      <div class="t-default__col t-log__col _field">\n        {{ item.field.label }}\n      </div>\n      <div class="t-default__col t-log__col _change">\n\n        <div class="t-log__info" ng-if="!$ctrl.isArray(item.field.new) && item.field.type === \'id-lookup\'">\n          <div class="t-log__info-item">\n            {{$ctrl._dataCollectionService.getLookupItemName(item.field.lookup_key, item.field.new)}}\n          </div>\n        </div>\n\n        <div class="t-log__info" ng-if="item.field.type === \'string\'">\n          <div class="t-log__info-item">\n            {{item.field.new}}\n          </div>\n        </div>\n\n        <div class="t-log__info" ng-if="$ctrl.isArray(item.field.new)" ng-repeat="data in item.field.new track by $index">\n          <ng-container ng-if="item.field.type !== \'id-lookup\' && item.field.type !== \'id-lookup-array\'">\n            \x3c!--Address--\x3e\n            <div class="t-log__info-item" ng-if="data.house_name">{{ data.house_name }}</div>\n            <div class="t-log__info-item" ng-if="data.house_number">{{ data.house_number }}</div>\n            <div class="t-log__info-item" ng-if="data.street">{{ data.street }}</div>\n            <div class="t-log__info-item" ng-if="data.district">{{ data.district }}</div>\n            <div class="t-log__info-item" ng-if="data.town">{{ data.town }}</div>\n            <div class="t-log__info-item" ng-if="data.county">{{ data.county }}</div>\n            <div class="t-log__info-item" ng-if="data.post_code">{{ data.post_code }}</div>\n            <div class="t-log__info-item" ng-if="data.type">type: {{ data.type }}<br /><br /> </div>\n            \x3c!--contacts--\x3e\n            <div class="t-log__info-item" ng-if="data.priority">priority: {{ data.priority }} </div>\n            <div class="t-log__info-item" ng-if="data.forename">forename: {{ data.forename }} </div>\n            <div class="t-log__info-item" ng-if="data.surname">surname: {{ data.surname }}<br /><br /> </div>\n            \x3c!--Email & Phone--\x3e\n            <div class="t-log__info-item" ng-if="data.address">{{ data.address }}</div>\n            <div class="t-log__info-item" ng-if="data.number">{{ data.number }}</div>\n            <div class="t-log__info-item" ng-if="data.location">location: {{ data.location }}</div>\n            <div class="t-log__info-item" ng-if="data.main || data.main === false">main: {{ data.main }}</div>\n            <div class="t-log__info-item" ng-if="data.primary || data.primary === false">primary: {{ data.primary }}<br /><br /></div>\n\t\t\t\x3c!--Cars--\x3e\n\t\t\t<div class="t-log__info-item" ng-if="data.model">{{ data.model }}</div>\n\t\t\t<div class="t-log__info-item" ng-if="data.colour">{{ data.colour }}</div>\n\t\t\t<div class="t-log__info-item" ng-if="data.registration">{{ data.registration }}</div>\n\n\n\t\t  </ng-container>\n\n          <div class="t-log__info-item" ng-if="item.field.type === \'id-lookup-array\'">\n            {{$ctrl._dataCollectionService.getLookupItemName(item.field.lookup_key, data.id)}}\n          </div>\n\n        </div>\n      </div>\n      <div class="t-default__col t-log__col _date">\n        {{ item.actioned }}\n      </div>\n      <div class="t-default__col t-log__col _action">\n        {{ item.operation }}\n      </div>\n      <div class="t-default__col t-log__col _by">\n        {{ item.actioned_by.name }}\n      </div>\n    </div>\n  </div>\n</div>\n\n<div class="t-log" ng-if="!$ctrl.log.length">\n  <div class="t-log__message">\n    No Submissions.\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i) {
            "ngInject";
            (0, n.default)(this, e), this._dataCollectionService = t, this._sortDataService = i, this.reverse = {}
        }
        return e.$inject = ["dataCollectionService", "sortDataService"], (0, i.default)(e, [{
            key: "sort",
            value: function(e, t) {
                this.log = this._sortDataService.sortBy(this.log, e, this.reverse, t)
            }
        }, {
            key: "isArray",
            value: function(e) {
                return angular.isArray(e)
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3320));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("t-manage-areas", []).component("tManageAreas", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(3321),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    t(3322);
    var s = {
        template: a.default,
        bindings: {
            areas: "<",
            onRemove: "&",
            onEdit: "&"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="t-default t-manage-areas">\n  <div class="t-default__header">\n    <div class="t-default__col t-manage-areas__col _name">Name</div>\n    <div class="t-default__col t-manage-areas__col _action"></div>\n    <div class="t-default__col t-manage-areas__col _action"></div>\n  </div>\n  <div class="t-default__body">\n    <div class="t-default__row" ng-repeat="item in $ctrl.areas track by item.id">\n      <div class="t-default__col t-manage-areas__col _name">\n        {{ item.name }}\n      </div>\n      <div class="t-default__col t-manage-areas__col _action">\n        <div class="t-default__title-mobile t-manage-areas__title-mobile">Edit:</div>\n        <button type="button"\n                class="t-manage-areas__btn _edit"\n                ng-click="$ctrl.onEdit({ area: item })"\n        >\n          <svg-use name="pencil"></svg-use>\n        </button>\n      </div>\n      <div class="t-default__col t-manage-areas__col _action">\n        <div class="t-default__title-mobile t-manage-areas__title-mobile">Remove:</div>\n        <button type="button"\n                class="t-manage-areas__btn _remove"\n                ng-click="$ctrl.onRemove({ area_id: item.id })"\n        >\n          <svg-use name="trash"></svg-use>\n        </button>\n      </div>\n    </div>\n  </div>\n</div>\n'
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3324));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("t-manage-event", []).component("tManageEvent", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(3325)),
        i = a(t(3326));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(3327);
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="t-manage-event"\n     change-limit-on-scroll\n     limit="$ctrl._parentsEveningService.eventDetails.teachers.length"\n     config="$ctrl.scrollConfig"\n     counter="$ctrl.itemsLimit">\n  <div class="t-manage-event__header">\n    <div class="t-manage-event__col _teachers">\n      <div class="t-manage-event__title"\n           ng-class="{ _reverse: $ctrl.reverse.fullName }"\n           ng-click="$ctrl.sort([\'fullName\'])">\n        Teachers\n      </div>\n    </div>\n    <div class="t-manage-event__col _location">\n      <div class="t-manage-event__title"\n           ng-class="{ _reverse: $ctrl.reverse.teacher_location }"\n           ng-click="$ctrl.sort([\'teacher_location\'])">\n        Location\n      </div>\n    </div>\n    <div class="t-manage-event__col _booked">\n      <div class="t-manage-event__title"\n           ng-class="{ _reverse: $ctrl.reverse.slots_booked }"\n           ng-click="$ctrl.sort([\'slots_booked\'])">\n        Booked Slots\n      </div>\n    </div>\n    <div class="t-manage-event__col _blocked">\n      <div class="t-manage-event__title"\n           ng-class="{ _reverse: $ctrl.reverse.slots_blocked }"\n           ng-click="$ctrl.sort([\'slots_blocked\'])">\n        Blocked Slots\n      </div>\n    </div>\n    <div class="t-manage-event__col _students">\n      <div class="t-manage-event__title"\n           ng-class="{ _reverse: $ctrl.reverse.learner_count }"\n           ng-click="$ctrl.sort([\'learner_count\'])">\n        Learners\n      </div>\n    </div>\n    <div class="t-manage-event__col _modify"></div>\n    <div class="t-manage-event__col _remove"></div>\n    <div class="t-manage-event__col _change"></div>\n  </div>\n  <div class="t-manage-event__table"\n       scrollable-block\n       lazy-photo\n       elements="$ctrl._parentsEveningService.eventDetails.teachers"\n       config="$ctrl.lazyPhotoConfig"\n       ng-init="$ctrl.emitScrollInit()"\n       updater="$ctrl.itemsLimit">\n    <div class="t-manage-event__row"\n         ng-repeat="teacher in $ctrl._parentsEveningService.eventDetails.teachers | limitTo:$ctrl.itemsLimit"\n         photo-element\n         data-hash="{{ ::teacher.hashPhoto }}">\n      <div class="t-manage-event__col _teachers" ng-click="$ctrl.openEventTimetableModal(teacher)">\n        <div class="t-manage-event__photo"\n             binded-photo photo-url="{{ ::teacher.photos[0].photo }}"\n             ng-style="{\'background-image\': \'url(\' + $ctrl._imagesConstants.DEFAULT_IMAGE + \')\'}">\n        </div>\n        <div class="t-manage-event__name">\n          {{ teacher.fullName }}\n        </div>\n      </div>\n      <div class="t-manage-event__col _location">\n          <span class="t-manage-event__label">Teacher location: </span>\n        <div class="t-manage-event__text">\n          {{ teacher.teacher_location }}\n        </div>\n        <button type="button" class="t-manage-event__btn"\n                ng-click="$ctrl.showChangeLocationModal(teacher)">\n          <svg-use name="pencil"></svg-use>\n        </button>\n      </div>\n      <div class="t-manage-event__col _booked">\n          <span class="t-manage-event__label">Booked Slots: </span>\n          <span class="t-manage-event__text">\n            {{ teacher.slots_booked ? teacher.slots_booked : \'-\' }}\n          </span>\n      </div>\n      <div class="t-manage-event__col _blocked">\n          <span class="t-manage-event__label">Blocked Slots: </span>\n          <span class="t-manage-event__text">\n            {{ teacher.slots_blocked ? teacher.slots_blocked : \'-\' }}\n          </span>\n      </div>\n      <div class="t-manage-event__col _students">\n          <span class="t-manage-event__label">Learners: </span>\n          <span class="t-manage-event__text">\n            {{ teacher.learner_count ? teacher.learner_count : \'-\'}}\n          </span>\n      </div>\n      <div class="t-manage-event__col _modify">\n        <button type="button" class="t-manage-event__btn"\n                ng-click="$ctrl.showModal(teacher.id)">\n          <svg-use name="pencil"></svg-use>\n        </button>\n      </div>\n      <div class="t-manage-event__col _remove">\n        <button type="button" class="t-manage-event__btn"\n                ng-click="$ctrl.openConfirmRemovingTeacher($event, teacher.id)"\n        >\n          <svg-use name="trash"></svg-use>\n        </button>\n      </div>\n      <div class="t-manage-event__col _change">\n        <button type="button" class="t-manage-event__btn"\n                ng-click="$ctrl.openSwapTeacherModal(teacher.id)"\n        >\n          <svg-use name="swap"></svg-use>\n        </button>\n      </div>\n    </div>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r, o, l, c, d) {
            "ngInject";
            (0, n.default)(this, e), this._teachersService = o, this._imagesConstants = a, this._parentsEveningService = s, this._notificationService = r, this._modalDefaultService = l, this._$stateParams = i, this._$scope = t, this._studentsService = c, this._sortDataService = d, this.local = {
                lazyPhotoConfig: {
                    prefix: "data:image/png;base64,",
                    reserveScroll: 150,
                    checkRole: !1,
                    getPhotoCallback: this.getPhotoForTeachers,
                    getDefaultPhotoCallback: this.getDefaultPhotoForTeachers,
                    changeObjectTimeout: 500,
                    isSingleElements: !0,
                    isUniqueElements: !0
                },
                itemsLimit: 25,
                scrollConfig: {
                    increaseBy: 8,
                    startCount: 25
                }
            }, this.reverse = {}
        }
        return e.$inject = ["$scope", "$stateParams", "imagesConstants", "parentsEveningService", "notificationService", "teachersService", "modalDefaultService", "studentsService", "sortDataService"], (0, i.default)(e, [{
            key: "emitScrollInit",
            value: function() {
                this._$scope.$emit("initScrollArea")
            }
        }, {
            key: "sort",
            value: function(e, t) {
                this._parentsEveningService.eventDetails.teachers = this._sortDataService.sortBy(this._parentsEveningService.eventDetails.teachers, e, this.reverse, t)
            }
        }, {
            key: "getPhoto",
            value: function(e, t, n) {
                var i = e.local.loader[n && n.toLowerCase()];
                return i && i.getPhoto ? i.getPhoto(e, t) : ""
            }
        }, {
            key: "getDefaultPhoto",
            value: function(e, t, n) {
                var i = e.local.loader[n && n.toLowerCase()];
                return i && i.getDefaultPhoto ? i.getDefaultPhoto(e, t) : ""
            }
        }, {
            key: "getPhotoForTeachers",
            value: function(e, t) {
                return e._teachersService.getTeacherPhotosFromDb(t).catch(function() {
                    return null
                })
            }
        }, {
            key: "getDefaultPhotoForTeachers",
            value: function(e, t) {
                return e._teachersService.getDefaultPhotoUsingGender(t)
            }
        }, {
            key: "openSwapTeacherModal",
            value: function(e) {
                var t = this,
                    n = {
                        placeholder: "Select teacher",
                        btnSubmitText: "Swap",
                        users: this.getFreeEmployees(),
                        onSubmit: function(n) {
                            var i = n.userId;
                            t.swapTeacher(e, i).then(function() {
                                t.updateTable(), t.closeModal()
                            })
                        },
                        onCancel: function() {
                            return t.closeModal()
                        }
                    };
                this._modalDefaultService.showModalWithTemplates("modal-select-user", n, "Swap teacher")
            }
        }, {
            key: "getFreeEmployees",
            value: function() {
                var e = this;
                return this._teachersService.employees.filter(function(t) {
                    return !e._parentsEveningService.eventDetails.teachers.find(function(e) {
                        return e.id === t.id
                    })
                })
            }
        }, {
            key: "updateTable",
            value: function() {
                var e = this,
                    t = {
                        event_id: this._$stateParams.event_id
                    };
                this._parentsEveningService.getEventDetails(t).then(function() {
                    return e._parentsEveningService.prepTeachers(e._teachersService.employees)
                })
            }
        }, {
            key: "swapTeacher",
            value: function(e, t) {
                var n = {
                    old_employee_id: e,
                    new_employee_id: t,
                    event_id: this._$stateParams.event_id
                };
                return this._parentsEveningService.employeeSwap(n)
            }
        }, {
            key: "closeModal",
            value: function() {
                this._$scope.$emit("hideModal")
            }
        }, {
            key: "showChangeLocationModal",
            value: function(e) {
                var t = {
                    id: e.id,
                    location: e.teacher_location,
                    event_id: this._$stateParams.event_id
                };
                this._modalDefaultService.showModalWithTemplates("modal-modify-location", t, "Modify location")
            }
        }, {
            key: "showModal",
            value: function(e) {
                var t = this,
                    n = {
                        gradient: {
                            from: "rgb(236, 165, 74)",
                            to: "rgb(236, 165, 74)"
                        },
                        employee_id: e
                    };
                this._modalDefaultService.showModalWithTemplates("modal-select-learners", n, "Modify learners"), this._parentsEveningService.getEventEmployeeLearners({
                    event_id: this._$stateParams.event_id,
                    employee_id: e
                }).then(function(e) {
                    var n = e.learners.map(function(e) {
                        return e.learner_id
                    });
                    n.length && t._studentsService.getStudents(n).then(function(e) {
                        t._studentsService.selectedStudents = e
                    })
                })
            }
        }, {
            key: "openConfirmRemovingTeacher",
            value: function(e, t) {
                var n = this,
                    i = {
                        confirm: function() {
                            return n.removeTeacher(e, t).then(function() {
                                return n.hideModal()
                            })
                        },
                        cancel: function() {
                            return n.hideModal()
                        },
                        message: "Are you sure you want to remove the teacher?"
                    };
                this._modalDefaultService.showModalWithTemplates("modal-confirm", i, "Confirm")
            }
        }, {
            key: "openEventTimetableModal",
            value: function(e) {
                var t = this,
                    n = {
                        eventId: this._$stateParams.event_id,
                        onDestroy: function() {
                            t._teachersService.selectedTeacher = null, t.updateTable()
                        }
                    };
                this._teachersService.selectedTeacher = e, this._modalDefaultService.showModalWithTemplates("modal-event-timetable", n, "Timetable")
            }
        }, {
            key: "hideModal",
            value: function() {
                this._$scope.$emit("hideModal")
            }
        }, {
            key: "removeTeacher",
            value: function(e, t) {
                var n = this;
                return e.currentTarget.disabled = !0, this._parentsEveningService.removeTeacher({
                    employee_id: t,
                    event_id: this._$stateParams.event_id
                }).then(function(e) {
                    n._notificationService.showSuccessNotification("Success"), n._parentsEveningService.eventDetails.teachers = n._parentsEveningService.eventDetails.teachers.filter(function(e) {
                        return e.id !== t
                    })
                }).catch(function() {
                    e.currentTarget.disabled = !1
                })
            }
        }, {
            key: "lazyPhotoConfig",
            get: function() {
                return this.local.lazyPhotoConfig
            }
        }, {
            key: "scrollConfig",
            get: function() {
                return this.local.scrollConfig
            }
        }, {
            key: "itemsLimit",
            get: function() {
                return this.local.itemsLimit
            },
            set: function(e) {
                this.local.itemsLimit = e
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3329));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("t-manage-snippets", []).component("tManageSnippets", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(3330)),
        i = a(t(3331));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(3332);
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="t-manage-snippets"\n     config="$ctrl.scrollConfig"\n     counter="$ctrl.itemsLimit">\n\n  <div class="t-manage-snippets__header">\n    <div class="t-manage-snippets__col _title">\n      <div class="t-manage-snippets__title"\n           ng-class="{ _reverse: $ctrl.reverse.title }"\n           ng-click="$ctrl.sort([\'title\'])">\n        Title\n      </div>\n    </div>\n    <div class="t-manage-snippets__col _content">\n      <div class="t-manage-snippets__title"\n           ng-class="{ _reverse: $ctrl.reverse.content }"\n           ng-click="$ctrl.sort([\'content\'])">\n        Content\n      </div>\n    </div>\n    <div class="t-manage-snippets__col _available_from">\n      <div class="t-manage-snippets__title"\n           ng-class="{ _reverse: $ctrl.reverse.available_from }"\n           ng-click="$ctrl.sort([\'available_from\'])">\n        Visible From\n      </div>\n    </div>\n    <div class="t-manage-snippets__col _available_until">\n      <div class="t-manage-snippets__title"\n           ng-class="{ _reverse: $ctrl.reverse.available_until }"\n           ng-click="$ctrl.sort([\'available_until\'])">\n        Visible Until\n      </div>\n    </div>\n    <div class="t-manage-snippets__col _for_employee">\n      <div class="t-manage-snippets__title"\n           ng-class="{ _reverse: $ctrl.reverse.for_employee }"\n           ng-click="$ctrl.sort([\'for_employee\'])">\n        Visible For\n      </div>\n    </div>\n    <div class="t-manage-snippets__col _modify"></div>\n  </div>\n  <div class="t-manage-snippets__table">\n    <div class="t-manage-snippets__row"\n         ng-repeat="snippet in $ctrl.snippets track by snippet.id">\n      <div class="t-manage-snippets__col _title">\n        <span class="t-manage-snippets__label">Snippet title: </span>\n        <div class="t-manage-snippets__name">\n          {{ snippet.title }}\n        </div>\n      </div>\n      <div class="t-manage-snippets__col _content">\n          <span class="t-manage-snippets__label">Snippet content: </span>\n        <div class="t-manage-snippets__text">\n          {{ snippet.content }}\n        </div>\n      </div>\n      <div class="t-manage-snippets__col _available_from">\n          <span class="t-manage-snippets__label">From: </span>\n          <span class="t-manage-snippets__text">\n            {{ snippet.available_from  }}\n          </span>\n      </div>\n      <div class="t-manage-snippets__col _available_until">\n          <span class="t-manage-snippets__label">To: </span>\n          <span class="t-manage-snippets__text">\n            {{ snippet.available_until }}\n          </span>\n      </div>\n      <div class="t-manage-snippets__col _for_employee">\n          <span class="t-manage-snippets__label">For: </span>\n          <div>\n            <p class="t-manage-snippets__text" ng-repeat="person in snippet.for_persons">\n              {{ person }}\n            </p>\n          </div>\n      </div>\n      <div class="t-manage-snippets__col _modify">\n        <button type="button" class="t-manage-snippets__btn"\n                ng-click="$ctrl.editSnippet(snippet)">\n          <svg-use name="pencil"></svg-use>\n        </button>\n\n        <button type="button" class="t-manage-snippets__btn"\n                ng-click="$ctrl.showDeletingModal(snippet)"\n        >\n          <svg-use name="trash"></svg-use>\n        </button>\n      </div>\n    </div>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(10)),
        i = s(t(1)),
        a = s(t(2));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = function() {
        function e(t, n, a, s, r) {
            "ngInject";
            (0, i.default)(this, e), this._noticeboardService = t, this._sortDataService = a, this._modalDefaultService = n, this._requestService = s, this._dateService = r, this.reverse = {}
        }
        return e.$inject = ["noticeboardService", "modalDefaultService", "sortDataService", "requestService", "dateService"], (0, a.default)(e, [{
            key: "$onInit",
            value: function() {
                var e = this;
                this._noticeboardService.getAllSnippetsFromDb().then(function(t) {
                    e._noticeboardService.allSnippets = e._noticeboardService.formatSnippets(t.snippets), e._noticeboardService.parentLearnerStatus = t.options.parent_learner_status, e.snippets = e._noticeboardService.allSnippets.map(function(t) {
                        return (0, n.default)({}, t, {
                            available_from: moment(t.available_from, "YYYY-MM-DD HH:mm:ss").format(e._dateService.getDateFormat("apiDateTime")).toString(),
                            available_until: t.available_until ? moment(t.available_until, "YYYY-MM-DD HH:mm:ss").format(e._dateService.getDateFormat("apiDateTime")) : null
                        })
                    })
                })
            }
        }, {
            key: "editSnippet",
            value: function(e) {
                var t = {
                    snippet: e
                };
                this._modalDefaultService.showModalWithTemplates("modal-edit-snippet", t, "Edit snippet")
            }
        }, {
            key: "closeModal",
            value: function() {
                this._modalDefaultService.pop()
            }
        }, {
            key: "showDeletingModal",
            value: function(e) {
                var t = this,
                    n = {
                        confirm: function() {
                            t.deleteSnippet(e)
                        },
                        cancel: function() {
                            return t.closeModal()
                        },
                        message: "Are you sure you want to delete the snippet?"
                    };
                return this._modalDefaultService.showModalWithTemplates("modal-confirm", n, "Snippet deleting")
            }
        }, {
            key: "deleteSnippet",
            value: function(e) {
                var t = this;
                this._requestService.getData("noticeboard", "noticeboard_snippet_delete", {
                    id: e.id
                }).then(function() {
                    t.snippets = t.snippets.filter(function(t) {
                        return t.id !== e.id
                    }), t.closeModal()
                })
            }
        }, {
            key: "sort",
            value: function(e, t) {
                this.snippets = this._sortDataService.sortBy(this.snippets, e, this.reverse, t)
            }
        }]), e
    }();
    exports.default = r
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3334));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("t-manage-documents", []).component("tManageDocuments", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(3335)),
        i = a(t(3336));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(3337);
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="t-manage-documents">\n  <div class="t-manage-documents__header">\n    <div class="t-manage-documents__col _title">\n      <div class="t-manage-documents__title"\n           ng-class="{ _reverse: $ctrl.reverse.name }"\n           ng-click="$ctrl.sort([\'name\'])">\n        Name\n      </div>\n    </div>\n    <div class="t-manage-documents__col _content">\n      <div class="t-manage-documents__title"\n           ng-class="{ _reverse: $ctrl.reverse.uploaded }"\n           ng-click="$ctrl.sort([\'uploaded\'])">\n        Content\n      </div>\n    </div>\n    <div class="t-manage-documents__col _available_from">\n      <div class="t-manage-documents__title"\n           ng-class="{ _reverse: $ctrl.reverse.available_from }"\n           ng-click="$ctrl.sort([\'available_from\'])">\n        Visible From\n      </div>\n    </div>\n    <div class="t-manage-documents__col _available_until">\n      <div class="t-manage-documents__title"\n           ng-class="{ _reverse: $ctrl.reverse.available_until }"\n           ng-click="$ctrl.sort([\'available_until\'])">\n        Visible Until\n      </div>\n    </div>\n    <div class="t-manage-documents__col _for_employee">\n      <div class="t-manage-documents__title"\n           ng-class="{ _reverse: $ctrl.reverse.for_employee }"\n           ng-click="$ctrl.sort([\'for_employee\'])">\n        Visible For\n      </div>\n    </div>\n    <div class="t-manage-documents__col _folder">\n      <div class="t-manage-documents__title"\n           ng-class="{ _reverse: $ctrl.reverse.available_until }"\n           ng-click="$ctrl.sort([\'location.text\'])">\n        Folder\n      </div>\n    </div>\n    <div class="t-manage-documents__col _modify"></div>\n  </div>\n  <div class="t-manage-documents__table">\n    <div class="t-manage-documents__row"\n         ng-repeat="document in $ctrl.docs">\n      <div class="t-manage-documents__col _title">\n        <span class="t-manage-documents__label">document name: </span>\n        <div class="t-manage-documents__name">\n          {{ document.name }}\n        </div>\n      </div>\n      <div class="t-manage-documents__col _content">\n          <span class="t-manage-documents__label">document content: </span>\n        <div class="t-manage-documents__text">\n          {{ document.uploaded ? \'uploaded\' : \'not uploaded\' }}\n        </div>\n      </div>\n      <div class="t-manage-documents__col _available_from">\n          <span class="t-manage-documents__label">From: </span>\n          <span class="t-manage-documents__text">\n            {{ document.available_from | date: $ctrl._dateService.getDateFormat(\'defaultDateTime\') }}\n          </span>\n      </div>\n      <div class="t-manage-documents__col _available_until">\n          <span class="t-manage-documents__label">To: </span>\n          <span class="t-manage-documents__text">\n            {{ document.available_until | date: $ctrl._dateService.getDateFormat(\'defaultDateTime\') }}\n          </span>\n      </div>\n      <div class="t-manage-documents__col _for_employee">\n          <span class="t-manage-documents__label">For: </span>\n          <div>\n            <p class="t-manage-documents__text" ng-repeat="person in document.for_persons">\n              {{ person }}\n            </p>\n          </div>\n      </div>\n      <div class="t-manage-documents__col _folder">\n          <span class="t-manage-documents__label">Folder: </span>\n          <div class="t-manage-documents__col-inner">\n            <div class="t-manage-documents__text">\n              {{ document.location.text }}\n            </div>\n            <button type="button" class="t-manage-documents__btn-move"\n                    ng-if="$ctrl._userService.user.capabilities.noticeboard.folders"\n                    ng-click="$ctrl.showManageFoldersModal(document)"\n            >MOVE</button>\n          </div>\n      </div>\n      <div class="t-manage-documents__col _modify">\n        <button type="button" class="t-manage-documents__btn"\n                ng-click="$ctrl.editDocument(document)">\n          <svg-use name="pencil"></svg-use>\n        </button>\n\n        <button type="button" class="t-manage-documents__btn"\n                ng-click="$ctrl.showDeletingModal(document)"\n        >\n          <svg-use name="trash"></svg-use>\n        </button>\n      </div>\n    </div>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r, o) {
            "ngInject";
            (0, n.default)(this, e), this._noticeboardService = t, this._sortDataService = a, this._modalDefaultService = i, this._requestService = s, this._userService = r, this._dateService = o, this.reverse = {}
        }
        return e.$inject = ["noticeboardService", "modalDefaultService", "sortDataService", "requestService", "userService", "dateService"], (0, i.default)(e, [{
            key: "$onInit",
            value: function() {
                this.getDocuments()
            }
        }, {
            key: "getDocuments",
            value: function() {
                var e = this;
                return this._noticeboardService.getAllDocumentsFromDb().then(function(t) {
                    e._noticeboardService.allDocuments = e._noticeboardService.formatSnippets(t.docs), e._noticeboardService.parentLearnerStatus = t.options.parent_learner_status, e.docs = e._noticeboardService.allDocuments
                })
            }
        }, {
            key: "editDocument",
            value: function(e) {
                var t = {
                    document: e
                };
                this._modalDefaultService.showModalWithTemplates("modal-edit-document", t, "Edit document")
            }
        }, {
            key: "closeModal",
            value: function() {
                this._modalDefaultService.pop()
            }
        }, {
            key: "showDeletingModal",
            value: function(e) {
                var t = this,
                    n = {
                        confirm: function() {
                            t.deleteDocument(e)
                        },
                        cancel: function() {
                            return t.closeModal()
                        },
                        message: "Are you sure you want to delete the document?"
                    };
                return this._modalDefaultService.showModalWithTemplates("modal-confirm", n, "Document deleting")
            }
        }, {
            key: "showManageFoldersModal",
            value: function(e) {
                var t = this,
                    n = {
                        folder_id: e.location.path[e.location.path.length - 1].id,
                        select: function(n) {
                            var i = n.parentFolderId,
                                a = {
                                    id: e.id,
                                    parent_folder_id: i,
                                    name: e.name
                                };
                            return t._noticeboardService.updateDocumentRequest(a).then(function() {
                                t.getDocuments(), t.closeModal()
                            })
                        }
                    };
                return this._modalDefaultService.showModalWithTemplates("modal-manage-folders", n, "Manage folders")
            }
        }, {
            key: "deleteDocument",
            value: function(e) {
                var t = this;
                this._requestService.getData("noticeboard", "noticeboard_document_delete", {
                    id: e.id
                }).then(function() {
                    t.docs = t.docs.filter(function(t) {
                        return t.id !== e.id
                    }), t.closeModal()
                })
            }
        }, {
            key: "sort",
            value: function(e, t) {
                this.docs = this._sortDataService.sortBy(this.docs, e, this.reverse, t)
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3339));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("t-manage-submission", []).component("tManageSubmission", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(3340)),
        i = a(t(3341));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(3342);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            fields: "<",
            onButtonClick: "&"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="t-manage-submission" ng-if="$ctrl.getFieldsLength()">\n  <div class="t-manage-submission__header">\n    <div class="t-manage-submission__col _name">\n      Field Name\n    </div>\n    <div class="t-manage-submission__col _original">\n      Original\n    </div>\n    <div class="t-manage-submission__col _new">\n      New\n    </div>\n    <div class="t-manage-submission__col _controls">\n      Update SIMS\n\t</div>\n  </div>\n\n  <div class="t-manage-submission__body">\n    <div class="t-manage-submission__row" ng-repeat="(fieldName, field) in $ctrl.fields">\n      <div class="t-manage-submission__col _name">\n        <span class="t-manage-submission__title-mobile">Field Name</span>\n        {{ ::field.label }}\n      </div>\n\n      <div class="t-manage-submission__col _original">\n        <span class="t-manage-submission__title-mobile">Original</span>\n\n        <div class="t-manage-submission__data" ng-repeat="col in field.original track by $index"\n             ng-if="field.type === \'bespoke\' && fieldName !== \'weekly_meal_pattern\' && fieldName !== \'addresses\'">\n          <p class="t-manage-submission__text" ng-repeat="(key, item) in col track by $index" ng-if="item">\n            {{ ::(item === true ? key : item) }}\n          </p>\n        </div>\n\n        <div class="t-manage-submission__data" ng-repeat="col in field.original track by $index"\n             ng-if="field.type === \'bespoke\' && fieldName === \'addresses\'">\n          <p class="t-manage-submission__text" ng-if="col.apartment">{{ ::col.apartment }}</p>\n          <p class="t-manage-submission__text" ng-if="col.house_name">{{ ::col.house_name }}</p>\n          <p class="t-manage-submission__text" ng-if="col.house_number || col.street">\n            <span ng-if="col.house_number">{{ ::col.house_number }}</span>\n            <span ng-if="col.street">{{ ::col.street }}</span>\n          </p>\n          <p class="t-manage-submission__text" ng-if="col.district">{{ ::col.district }}</p>\n          <p class="t-manage-submission__text" ng-if="col.town">{{ ::col.town }}</p>\n          <p class="t-manage-submission__text" ng-if="col.county">{{ ::col.county }}</p>\n          <p class="t-manage-submission__text" ng-if="col.post_code">{{ ::col.post_code }}</p>\n          <p class="t-manage-submission__text _bold" ng-if="col.type">{{ ::col.type }}</p>\n\t\t  <p class="t-manage-submission__text _bold _blue" ng-if="col.move_cohabitees">Will move all occupants to new address</p>\n        </div>\n\n        <div class="t-manage-submission__data" ng-if="field.type === \'bespoke\' && fieldName === \'weekly_meal_pattern\'">\n          <p class="t-manage-submission__text" ng-repeat="col in field.original track by $index">\n            {{ ::col.day_of_week }}: {{ ::(col.meal_type_id ? $ctrl._dataCollectionService.getLookupItemName(field.lookup_key, col.meal_type_id) : \'\') }}\n          </p>\n        </div>\n\n        <div class="t-manage-submission__data" ng-if="field.type === \'string\'">\n          {{ ::field.original }}\n        </div>\n\n        <div class="t-manage-submission__data" ng-if="field.type === \'id-lookup\'">\n          {{ ::(field.original ? $ctrl._dataCollectionService.getLookupItemName(field.lookup_key, field.original) : \'\') }}\n        </div>\n\n        <div class="t-manage-submission__data" ng-if="field.type === \'id-lookup-array\'">\n          <p class="t-manage-submission__text" ng-repeat="col in field.original | orderBy:\'id\' track by $index" ng-class="{\'_removed\': col.removed}">\n            {{ ::(col.id ? $ctrl._dataCollectionService.getLookupItemName(field.lookup_key, col.id) : \'\') }}\n          </p>\n        </div>\n      </div>\n\n      <div class="t-manage-submission__col _new">\n        <span class="t-manage-submission__title-mobile">New</span>\n\n        <div class="t-manage-submission__data" ng-repeat="col in field.new track by $index"\n             ng-if="field.type === \'bespoke\' && fieldName !== \'weekly_meal_pattern\' && fieldName !== \'addresses\'">\n          <ng-container ng-if="col && !$ctrl.isNewContact(col)">\n            <p class="t-manage-submission__text" ng-repeat="(key, item) in col track by $index" ng-if="item">\n              {{ ::(item === true ? key : item) }}\n            </p>\n          </ng-container>\n\n          <ng-container ng-if="col && $ctrl.isNewContact(col)">\n            <p class="t-manage-submission__text _bold">\n              New contact:\n            </p>\n            <p class="t-manage-submission__text">\n              {{ ::col.forename }} {{ ::col.surname }}\n            </p>\n            <p class="t-manage-submission__text">\n              {{ ::col.relationship.description }}\n            </p>\n            <p class="t-manage-submission__text">\n              Priority {{ ::col.priority }}\n            </p>\n          </ng-container>\n        </div>\n\n        <div class="t-manage-submission__data" ng-repeat="col in field.new track by $index"\n             ng-if="field.type === \'bespoke\' && fieldName === \'addresses\'">\n          <p class="t-manage-submission__text" ng-if="col.apartment">{{ ::col.apartment }}</p>\n          <p class="t-manage-submission__text" ng-if="col.house_name">{{ ::col.house_name }}</p>\n          <p class="t-manage-submission__text" ng-if="col.house_number || col.street">\n            <span ng-if="col.house_number">{{ ::col.house_number }}</span>\n            <span ng-if="col.street">{{ ::col.street }}</span>\n          </p>\n          <p class="t-manage-submission__text" ng-if="col.district">{{ ::col.district }}</p>\n          <p class="t-manage-submission__text" ng-if="col.town">{{ ::col.town }}</p>\n          <p class="t-manage-submission__text" ng-if="col.county">{{ ::col.county }}</p>\n          <p class="t-manage-submission__text" ng-if="col.post_code">{{ ::col.post_code }}</p>\n          <p class="t-manage-submission__text _bold" ng-if="col.type">{{ ::col.type }}</p>\n\t\t  <p class="t-manage-submission__text _bold _blue" ng-if="col.move_cohabitees">Will move all occupants to new address</p>\n        </div>\n\n        <div class="t-manage-submission__data" ng-if="field.type === \'bespoke\' && fieldName === \'weekly_meal_pattern\'">\n          <p class="t-manage-submission__text" ng-repeat="col in field.new track by $index">\n            {{ ::col.day_of_week }}: {{ ::(col.meal_type_id ? $ctrl._dataCollectionService.getLookupItemName(field.lookup_key, col.meal_type_id) : \'\') }}\n          </p>\n        </div>\n\n        <div class="t-manage-submission__data" ng-if="field.type === \'string\'">\n          {{ ::field.new }}\n        </div>\n\n        <div class="t-manage-submission__data" ng-if="field.type === \'id-lookup\'">\n          {{ ::(field.new ? $ctrl._dataCollectionService.getLookupItemName(field.lookup_key, field.new) : \'\') }}\n        </div>\n\n        <div class="t-manage-submission__data" ng-if="field.type === \'id-lookup-array\'">\n          <p class="t-manage-submission__text" ng-repeat="col in field.new | orderBy:\'id\' track by $index" ng-class="{\'_added\': col.added}">\n            {{ ::(col.id ? $ctrl._dataCollectionService.getLookupItemName(field.lookup_key, col.id) : \'\') }}\n          </p>\n        </div>\n      </div>\n\n      <div class="t-manage-submission__col _controls">\n        <button type="button" class="t-manage-submission__accept"\n                ng-disabled="$ctrl.isLoading"\n                ng-click="$ctrl.onClick({ field: fieldName, operation: \'write\' })">\n        </button>\n        <button type="button" class="t-manage-submission__reject"\n                ng-disabled="$ctrl.isLoading"\n                ng-click="$ctrl.onClick({ field: fieldName, operation: \'reject\' })">\n          <svg-use name="cross"></svg-use>\n        </button>\n      </div>\n    </div>\n  </div>\n</div>\n\n<div class="t-manage-submission" ng-if="!$ctrl.getFieldsLength()">\n  <div class="t-manage-submission__message">\n    No fields.\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(26)),
        i = s(t(1)),
        a = s(t(2));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = function() {
        function e(t) {
            "ngInject";
            (0, i.default)(this, e), this._dataCollectionService = t, this.data = {
                isLoading: !1
            }
        }
        return e.$inject = ["dataCollectionService"], (0, a.default)(e, [{
            key: "isNewContact",
            value: function(e) {
                return e.addresses && angular.isArray(e.addresses)
            }
        }, {
            key: "onClick",
            value: function(e) {
                var t = this;
                this.data.isLoading = !0, this.onButtonClick(e).finally(function() {
                    t.data.isLoading = !1
                })
            }
        }, {
            key: "getFieldsLength",
            value: function() {
                return (0, n.default)(this.fields).length
            }
        }, {
            key: "isLoading",
            get: function() {
                return this.data.isLoading
            }
        }]), e
    }();
    exports.default = r
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3344));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("t-parent-event", []).component("tParentEvent", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(3345)),
        i = a(t(3346));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(3347);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            model: "<",
            header: "<",
            select: "&",
            unbook: "&",
            book: "&"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="t-parent-event">\n  <div class="t-parent-event__header-wrapper" fixed-base fixed-class="t-parent-event__row _header t-parent-event__fixed">\n    <div class="t-parent-event__row _header" fixed-item>\n        <div class="t-parent-event__col _header _date">\n          Slots:\n        </div>\n        <div class="t-parent-event__col _header" ng-repeat="item in $ctrl.model.header">\n          <div class="t-parent-event__col-title">\n            <span class="t-parent-event__col-title-main"\n                  ng-class="{ _booked: $ctrl.isBooked($index) }"\n            >{{ item.subject }}</span>\n            <span class="t-parent-event__col-title-info">Teacher: {{ item.teacher }}</span>\n            <span class="t-parent-event__col-title-info">Learner: {{ item.learner }}</span>\n            <a class="t-parent-event__col-title-info"\n               target="_blank"\n               ng-href="{{item.teacher_location}}"\n               ng-if="item.teacher_location"\n            >Location: {{ item.teacher_location }}</a>\n          </div>\n        </div>\n\t<div style="width:18px"></div>\n    </div>\n\n  </div>\n\n  <div class="t-parent-event__wrapper _desktop">\n    <div class="t-parent-event__day" ng-repeat="day in $ctrl.model.body">\n      <div class="t-parent-event__title">{{ day.date | date:$ctrl._dateService.getDateFormat(\'defaultDate\'):\'UTC\' }}</div>\n      <div class="t-parent-event__body-wrapper">\n        <ul class="t-parent-event__body" fixed-base fixed-class="t-parent-event__fixed">\n          <li class="t-parent-event__item t-parent-event__row" ng-repeat="slots in day.slots">\n            <div class="t-parent-event__col _date" fixed-item>\n              {{ slots[0].time }}\n            </div>\n            <div class="t-parent-event__col"\n                 ng-repeat="slot in slots"\n                 ng-click="$ctrl.select({ slot, slots: [slot] })"\n                 ng-class="{ _gray: !slot.slot.available, _green: slot.slot.booked }"\n            >{{ slot.slot.booked ? \'Booked\' : \'\' }}</div>\n          </li>\n        </ul>\n      </div>\n    </div>\n  </div>\n\n  <div class="t-parent-event__wrapper _mobile" ng-repeat="day in $ctrl.model.body">\n    <div class="t-parent-event__title">{{ day.date | date:$ctrl._dateService.getDateFormat(\'defaultDate\'):\'UTC\' }}</div>\n    <div class="t-parent-event__table"  ng-repeat="hData in $ctrl.header">\n        <h1 style="padding: 10px;font-size: 16px;">\n            {{ hData.learner }}\n        </h1>\n      <div class="t-parent-event__table-row"\n           ng-init="bookedSlot = $ctrl.getBookedSlot(day.slots, item.teacher_id, item.learner_id)"\n           ng-click="$ctrl.showManageSlotsModal(day.date, day.slots, item, !!bookedSlot, bookedSlot.notes_to_teacher)"\n           ng-class="{ _unavailable: $ctrl.allSlotsSelected(day.slots, item) && !bookedSlot }"\n           ng-repeat="item in hData.data | orderBy: \'start_time\'"\n      >\n        <div class="t-parent-event__table-col _teacher-subject">\n\t\t\t<div>{{ item.teacher }} - {{ item.subject }}</div>\n\t\t\t<div ng-if="item.teacher_location">({{ item.teacher_location }})</div>\n        </div>\n        <div class="t-parent-event__table-col _when">\n          <div class="t-parent-event__time" ng-if="bookedSlot">\n            {{ bookedSlot.time }}\n          </div>\n          <div class="t-parent-event__note" ng-if="!bookedSlot">\n            <span class="t-parent-event__note-item _available">Tap to book</span>\n            <span class="t-parent-event__note-item _booked">Fully Booked</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a) {
            "ngInject";
            (0, n.default)(this, e), this._$stateParams = t, this._modalDefaultService = i, this._dateService = a
        }
        return e.$inject = ["$stateParams", "modalDefaultService", "dateService"], (0, i.default)(e, [{
            key: "getTeacherSlots",
            value: function(e, t) {
                return t.reduce(function(t, n) {
                    var i = n.find(function(t) {
                        return t.teacher_id === e
                    });
                    return i && t.push(i), t
                }, [])
            }
        }, {
            key: "showManageSlotsModal",
            value: function(e, t, n, i, a) {
                var s = {
                    date: e,
                    subject: n.subject,
                    learner: {
                        learner_id: n.learner_id,
                        name: n.learner
                    },
                    teacher: {
                        teacher_id: n.teacher_id,
                        name: n.teacher,
                        location: n.teacher_location
                    },
                    event_id: this._$stateParams.event_id
                };
                i ? (s.parent_id = n.parent_id, s.unbook = this.unbook, s.notesToTeacher = a) : (s.book = this.book, s.slots = this.getTeacherSlots(n.teacher_id, t)), this._modalDefaultService.showModalWithTemplates("modal-manage-slots", s, "Slots managing")
            }
        }, {
            key: "allSlotsSelected",
            value: function(e, t) {
                return e.reduce(function(e, n) {
                    return n.find(function(e) {
                        return e.teacher_id === t.teacher_id && e.subject === t.subject && e.available
                    }) && (e = !1), e
                }, !0)
            }
        }, {
            key: "isBooked",
            value: function(e) {
                var t = !1;
                return this.model.body.forEach(function(n) {
                    n.slots.forEach(function(n) {
                        n[e].slot.booked && (t = !0)
                    })
                }), t
            }
        }, {
            key: "getBookedSlot",
            value: function(e, t, n) {
                return e.reduce(function(e, i) {
                    var a = i.find(function(e) {
                        return e.teacher_id === t && e.learner.id === n
                    });
                    return a && a.slot.booked && (e = a), e
                }, null)
            }
        }, {
            key: "model",
            set: function(e) {
                e.body.forEach(function(e) {
                    e.slots.forEach(function(e) {
                        e[0].isDisabledDate = e.every(function(e) {
                            return !e.available && !e.slot.booked
                        }), e[0].isBookedDate = e.some(function(e) {
                            return e.slot.booked
                        }), e[0].bookedCount = e.reduce(function(e, t) {
                            return t.slot.booked ? e + 1 : e
                        }, 0)
                    })
                }), this._model = e
            },
            get: function() {
                return this._model
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3349));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("t-parent-forms", []).component("tParentForms", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(3350)),
        i = a(t(3351));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(3352);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            forms: "<",
            onSave: "&"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="t-default t-parent-forms">\n  <div class="t-default__header t-parent-forms__header">\n    <div class="t-default__col t-parent-forms__col _name">\n      <span class="t-default__title t-parent-forms__title">Form Name</span>\n    </div>\n    <div class="t-default__col t-parent-forms__col _child"\n         ng-if="$ctrl._userService.checkRole(\'parent\')"\n    >\n      <span class="t-default__title t-parent-forms__title">Child</span>\n    </div>\n    <div class="t-default__col t-parent-forms__col _date">\n      <span class="t-default__title t-parent-forms__title">Due date</span>\n    </div>\n    <div class="t-default__col t-parent-forms__col _completed">\n      <span class="t-default__title t-parent-forms__title">Completed</span>\n    </div>\n  </div>\n\n  <div class="t-default__body t-parent-forms__body">\n    <div class="t-default__row t-parent-forms__row"\n         ng-click="$ctrl.openModal(form)"\n         ng-repeat="form in $ctrl.forms"\n    >\n      <div class="t-default__col t-parent-forms__col _name">\n        <div class="t-default__title-mobile t-parent-forms__title-mobile">Form Name:</div>\n        {{ form.subject }}\n      </div>\n      <div class="t-default__col t-parent-forms__col _child"\n           ng-if="$ctrl._userService.checkRole(\'parent\')"\n      >\n        <div class="t-default__title-mobile t-parent-forms__title-mobile">Child:</div>\n        {{ form.childName }}\n      </div>\n      <div class="t-default__col t-parent-forms__col _date">\n        <div class="t-default__title-mobile t-parent-forms__title-mobile">Due date:</div>\n        {{ ::$ctrl.getFormattedDate(form.due) }}\n      </div>\n      <div class="t-default__col t-parent-forms__col _completed">\n        <div class="t-default__title-mobile t-parent-forms__title-mobile">Completed:</div>\n        <svg-use name="cross" ng-if="!form.submitted"></svg-use>\n        <svg-use name="check" ng-if="form.submitted"></svg-use>\n      </div>\n    </div>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r, o, l) {
            "ngInject";
            (0, n.default)(this, e), this._contactsDataService = t, this._formsService = i, this._studentsService = a, this._modalDefaultService = s, this._notificationService = r, this._userService = o, this._dateService = l
        }
        return e.$inject = ["contactsDataService", "formsService", "studentsService", "modalDefaultService", "notificationService", "userService", "dateService"], (0, i.default)(e, [{
            key: "openModal",
            value: function(e) {
                var t = this;
                if (e.submitted) {
                    var n = {
                        onInit: function() {
                            return t._formsService.getForm({
                                form_id: e.id,
                                learner_id: e.learner_id
                            })
                        }
                    };
                    this._modalDefaultService.showModalWithTemplates("modal-view-forms", n, "View Forms")
                } else {
                    var i = {
                        onInit: function() {
                            return t._formsService.getFormDataFromDb({
                                form_id: e.id
                            })
                        },
                        onSave: function(n) {
                            var i = n.fields;
                            return t.onSave({
                                fields: i,
                                form_id: e.id,
                                learner_id: e.learner_id
                            })
                        },
                        onClose: function() {
                            return t.closeModal()
                        }
                    };
                    this._modalDefaultService.showModalWithTemplates("modal-fill-form", i, "Form")
                }
            }
        }, {
            key: "closeModal",
            value: function() {
                this._modalDefaultService.pop()
            }
        }, {
            key: "getFormattedDate",
            value: function(e) {
                return moment(e).format(this._dateService.getDateFormat("momentDateTime"))
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3354));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("t-personal-forms", []).component("tPersonalForms", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(3355)),
        i = a(t(3356));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(3357);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            forms: "<",
            onSave: "&"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="t-default t-personal-forms">\n  <div class="t-default__header t-personal-forms__header">\n    <div class="t-default__col t-personal-forms__col _name" ng-click="$ctrl.sort(\'subject\')">\n      <span class="t-default__title t-personal-forms__title _sortable"\n        ng-class="{\n          \'_sorted-by\': $ctrl.activeSorting.field === \'subject\',\n          \'_reversed\': $ctrl.activeSorting.field === \'subject\' && $ctrl.activeSorting.reverse\n         }">Form Name</span>\n    </div>\n    <div class="t-default__col t-personal-forms__col _date" ng-click="$ctrl.sort(\'due\', $ctrl._sortDataService.compareDates)">\n      <span class="t-default__title t-personal-forms__title _sortable"\n        ng-class="{\n          \'_sorted-by\': $ctrl.activeSorting.field === \'due\',\n          \'_reversed\': $ctrl.activeSorting.field === \'due\' && $ctrl.activeSorting.reverse\n        }">Due date</span>\n    </div>\n    <div class="t-default__col t-personal-forms__col _completed">\n      <span class="t-default__title t-personal-forms__title">Completed</span>\n    </div>\n  </div>\n\n  <div class="t-default__body t-personal-forms__body">\n    <div class="t-default__row t-personal-forms__row"\n         ng-click="$ctrl.openFormModal(form)"\n         ng-repeat="form in $ctrl.forms">\n      <div class="t-default__col t-personal-forms__col _name">\n        <div class="t-default__title-mobile t-personal-forms__title-mobile">Form Name:</div>\n        {{ ::form.subject }}\n      </div>\n      <div class="t-default__col t-personal-forms__col _date">\n        <div class="t-default__title-mobile t-personal-forms__title-mobile">Due date:</div>\n        {{ ::$ctrl.getFormattedDate(form.due) }}\n      </div>\n      <div class="t-default__col t-personal-forms__col _completed">\n        <div class="t-default__title-mobile t-personal-forms__title-mobile">Completed:</div>\n        <svg-use name="cross" ng-if="!form.submitted"></svg-use>\n        <svg-use name="check" ng-if="form.submitted"></svg-use>\n      </div>\n    </div>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r, o) {
            "ngInject";
            (0, n.default)(this, e), this._formsService = t, this._modalDefaultService = i, this._userService = a, this._orderByFilter = s, this._sortDataService = r, this._dateService = o
        }
        return e.$inject = ["formsService", "modalDefaultService", "userService", "orderByFilter", "sortDataService", "dateService"], (0, i.default)(e, [{
            key: "openFormModal",
            value: function(e) {
                var t = this;
                if (e.submitted) {
                    var n = {
                        personal: !0,
                        onInit: function() {
                            return t._formsService.getForm({
                                form_id: e.id,
                                employee_id: e.employee_id
                            })
                        }
                    };
                    this._modalDefaultService.showModalWithTemplates("modal-view-forms", n, "View Forms")
                } else {
                    var i = {
                        onInit: function() {
                            return t._formsService.getFormDataFromDb({
                                form_id: e.id
                            })
                        },
                        onSave: function(n) {
                            var i = n.fields;
                            return t.onSave({
                                fields: i,
                                employee_id: e.employee_id,
                                form_id: e.id
                            })
                        },
                        onClose: function() {
                            return t.closeModal()
                        }
                    };
                    this._modalDefaultService.showModalWithTemplates("modal-fill-form", i, "Form")
                }
            }
        }, {
            key: "closeModal",
            value: function() {
                this._modalDefaultService.pop()
            }
        }, {
            key: "sort",
            value: function(e, t) {
                var n = !1;
                this.activeSorting && this.activeSorting.field === e && (n = !this.activeSorting.reverse), this.forms = this._orderByFilter(this.forms, [e], n, t), this.activeSorting = {
                    field: e,
                    reverse: n
                }
            }
        }, {
            key: "getFormattedDate",
            value: function(e) {
                return moment(e).format(this._dateService.getDateFormat("momentDateTime"))
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3359));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("t-register-details", []).component("tRegisterDetails", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(3360)),
        i = a(t(3361));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(3362);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            table: "<",
            data: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="t-register-details">\n  <div class="t-register-details__top">\n    <div class="t-register-details__col {{ col.modifier }}" ng-repeat="col in $ctrl.table track by $index">\n      {{ col.name }}\n    </div>\n  </div>\n\n  </div>\n  <div class="t-register-details__body">\n    <div class="t-register-details__row" ng-repeat="row in $ctrl.data track by $index">\n      <div class="t-register-details__col {{ col.modifier }}" ng-repeat="col in $ctrl.table track by $index">\n        <div class="t-register-details__title-mobile">{{ col.name }}</div>\n\n        <p class="t-register-details__paragraph {{ key.modifier }}" ng-repeat="key in col.keys track by $index"\n           ng-if="col.type !== \'notes\'">\n          <span class="t-register-details__text" ng-if="key.type === \'date\'">\n            {{ row[key.name] ? (row[key.name] | date: $ctrl._dateService.getDateFormat(\'defaultDate\')) : \'-\' }}</span>\n          <span class="t-register-details__text" ng-if="key.type === \'time\'">\n            {{ row[key.name] ? (row[key.name] | date: \'hh-mm\') : \'-\' }}</span>\n          <span class="t-register-details__text" ng-if="key.type === \'text\'" ng-bind-html="row[key.name] ? row[key.name] : \'-\'"></span>\n          <span class="t-register-details__text" ng-if="key.type === \'list\'" ng-repeat="item in row[key.name] track by $index">\n            {{ item }}</span>\n          <span class="t-register-details__text" ng-if="key.type === \'access\'">\n            <svg-use name="cross" ng-if="!row[key.name]"></svg-use>\n            <svg-use name="check" ng-if="row[key.name]"></svg-use>\n          </span>\n        </p>\n\n        <div class="t-register-details__notes" ng-repeat="note in row.notes" ng-if="col.type === \'notes\'">\n          <p class="t-register-details__paragraph" ng-if="note.summary">{{ note.summary }}</p>\n          <p class="t-register-details__paragraph" ng-if="note.note">{{ note.note }}</p>\n          <div class="t-register-details__attachment"\n               ng-if="note.document_id"\n               ng-click="$ctrl._medicalDataService.downloadDocument(note.document_id, note.attachment_name)">\n            <svg-use name="pdf"></svg-use>\n            <span>{{ note.attachment_name }}</span>\n          </div>\n        </div>\n\t\t<div class="t-register-details__notes" ng-if="col.type === \'sen-notes\'">\n          <div class="t-register-details__attachment"\n               ng-if="row.document_id"\n               ng-click="$ctrl._medicalDataService.downloadDocument(row.document_id, row.attachment_name)">\n            <svg-use name="pdf"></svg-use>\n            <span>{{ row.attachment_name }}</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(10)),
        i = s(t(1)),
        a = s(t(2));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = function() {
        function e(t, n) {
            "ngInject";
            (0, i.default)(this, e), this._medicalDataService = t, this._dateService = n
        }
        return e.$inject = ["medicalDataService", "dateService"], (0, a.default)(e, [{
            key: "$onInit",
            value: function() {
                this.data = this.data.map(function(e) {
                    return (0, n.default)({}, e, {
                        strategy: e.strategy ? e.strategy.replace(/\bhttp[^ <]+/gi, function(e) {
                            return '<a href="' + e + '">' + e + "</a>"
                        }) : ""
                    })
                })
            }
        }]), e
    }();
    exports.default = r
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3364));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("t-registers-missing", []).component("tRegistersMissing", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(3365)),
        i = a(t(3366));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(3367);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            registers: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="t-default t-registers-missing">\n  <div class="t-default__header t-registers-missing__header">\n    <div class="t-default__col t-registers-missing__col _time">\n      <span class="t-default__title _sortable"\n            ng-class="{ _reverse: $ctrl.reverse[\'date_time\'] }"\n            ng-click="$ctrl.sort([\'date_time\'], $ctrl._sortDataService.compareDates)"\n      >Time</span>\n    </div>\n    <div class="t-default__col t-registers-missing__col _teacher">\n      <span class="t-default__title _sortable"\n            ng-class="{ _reverse: $ctrl.reverse[\'reg_tutor\'] }"\n            ng-click="$ctrl.sort([\'reg_tutor\'])"\n      >Teacher</span>\n    </div>\n    <div class="t-default__col t-registers-missing__col _class">\n      <span class="t-default__title _sortable"\n            ng-class="{ _reverse: $ctrl.reverse[\'register\'] }"\n            ng-click="$ctrl.sort([\'register\'])"\n      >Class</span>\n    </div>\n    <div class="t-default__col t-registers-missing__col _room">\n      <span class="t-default__title _sortable"\n            ng-class="{ _reverse: $ctrl.reverse[\'register\'] }"\n            ng-click="$ctrl.sort([\'register\'])"\n      >Room</span>\n    </div>\n    <div class="t-default__col t-registers-missing__col _description">\n      <span class="t-default__title _sortable"\n            ng-class="{ _reverse: $ctrl.reverse[\'description\'] }"\n            ng-click="$ctrl.sort([\'description\'])"\n      >Description</span>\n    </div>\n  </div>\n  <div class="t-default__body t-registers-missing__body">\n    <div class="t-default__row t-registers-missing__row" ng-repeat="item in $ctrl.registers track by $index">\n      <div class="t-default__col t-registers-missing__col _time">\n        {{ item.date_time }}\n      </div>\n      <div class="t-default__col t-registers-missing__col _teacher">\n        {{ item.reg_tutor }}\n      </div>\n      <div class="t-default__col t-registers-missing__col _class">\n        {{ item.register }}\n      </div>\n      <div class="t-default__col t-registers-missing__col _room">\n        {{ item.room }}\n      </div>\n      <div class="t-default__col t-registers-missing__col _description">\n        {{ item.description }}\n      </div>\n    </div>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t) {
            "ngInject";
            (0, n.default)(this, e), this.reverse = {}, this._sortDataService = t
        }
        return e.$inject = ["sortDataService"], (0, i.default)(e, [{
            key: "$onInit",
            value: function() {
                this.sort(["date_time"], this._sortDataService.compareDates)
            }
        }, {
            key: "sort",
            value: function(e, t) {
                this.registers = this._sortDataService.sortBy(this.registers, e, this.reverse, t)
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3369));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("t-report-card", []).component("tReportCard", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(3370)),
        i = a(t(3371));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(3372);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            data: "<",
            readonly: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="t-default t-report-card">\n  <div class="t-default__header t-report-card__header">\n    <div class="t-default__col t-report-card__col _label"></div>\n    <div class="t-default__col t-report-card__col _target" ng-repeat="item in $ctrl.data[0].targets track by $index">\n      {{ $ctrl.getCardTargetTypeDescriptionById(item.target_type_id) }}\n    </div>\n    <div class="t-default__col t-report-card__col _comments">Comments</div>\n    <div class="t-default__col t-report-card__col _initials">Initials</div>\n  </div>\n  <div class="t-default__body t-report-card__body">\n    <div class="t-default__row t-report-card__row" ng-repeat="row in $ctrl.data track by $index">\n      <div class="t-default__col t-report-card__col _label">\n        {{ row.label }}\n      </div>\n      <div class="t-default__col t-report-card__col _target" ng-repeat="target in row.targets track by $index">\n        <div class="t-default__title-mobile t-cars__title-mobile">\n          {{ $ctrl.getCardTargetTypeDescriptionById(target.target_type_id) }}:\n        </div>\n        <b-checkbox model="target.achieved" readonly="$ctrl.readonly"></b-checkbox>\n      </div>\n      <div class="t-default__col t-report-card__col _comments">\n        <div class="t-default__title-mobile t-cars__title-mobile">Comments:</div>\n        <input type="text" class="f-default__input t-report-card__input"\n               ng-readonly="$ctrl.readonly"\n               ng-model="row.comments">\n      </div>\n      <div class="t-default__col t-report-card__col _initials">\n        <div class="t-default__title-mobile t-cars__title-mobile">Initials:</div>\n        <input type="text" class="f-default__input t-report-card__input"\n               ng-readonly="$ctrl.readonly"\n               ng-model="row.initials">\n      </div>\n    </div>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i) {
            "ngInject";
            (0, n.default)(this, e), this._medicalDataService = t, this._establishmentService = i
        }
        return e.$inject = ["medicalDataService", "establishmentService"], (0, i.default)(e, [{
            key: "getCardTargetTypeDescriptionById",
            value: function(e) {
                var t = this._establishmentService.establishment.report_card_target_types.find(function(t) {
                    return t.id === e
                });
                return t ? t.description : ""
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3374));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("t-requesters", []).component("tRequesters", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(3375),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    t(3376);
    var s = {
        template: a.default,
        bindings: {
            data: "<",
            limit: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="t-default t-requesters">\n  <div class="t-default__header">\n    <div class="t-default__col t-requesters__col _name">Name</div>\n    <div class="t-default__col t-requesters__col _results">Requests/Responses</div>\n  </div>\n  <div class="t-default__body">\n    <div class="t-default__row t-requesters__row" ng-repeat="item in $ctrl.data | limitTo: $ctrl.limit track by $index">\n      <div class="t-default__col t-requesters__col _name">\n        <div class="t-default__title-mobile t-requesters__title-mobile">Model:</div>\n        {{ item.name }}\n      </div>\n      <div class="t-default__col t-requesters__col _results">\n        <div class="t-default__title-mobile t-requesters__title-mobile">Requests/Responses:</div>\n        {{ item.callouts }}/{{ item.responses }}\n      </div>\n    </div>\n  </div>\n</div>\n'
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3378));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("t-resource-booking", []).component("tResourceBooking", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(3379)),
        i = a(t(3380));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(3381);
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="t-resource-booking"\n     custom-simple-fixed-column\n     regenerate-column="$ctrl._regenerateColumnHeight">\n\n  <div class="t-resource-booking__inner"\n       change-limit-on-scroll\n       limit="$ctrl._resourceBookingService.rooms.length"\n       recalculate-items="$ctrl.recalculateItems()"\n       config="$ctrl.scrollConfig"\n       ng-if="$ctrl._resourceBookingService.availablePeriods.length"\n       counter="$ctrl.itemsLimit">\n    <div class="t-resource-booking__inner _scrollable _table-wrapper"\n         scrollable-block\n         updater="$ctrl.itemsLimit"\n         ng-init="$ctrl.emitScrollInit()">\n      <table class="t-resource-booking__table _table"\n             custom-simple-fixed-header\n             regenerate-header="$ctrl._regenerateHeaderWidth">\n        <thead>\n        <tr>\n          <th class="_fixed-col-v2">Name</th>\n          <th ng-repeat="period in $ctrl._resourceBookingService.availablePeriods">\n            <div>{{period.name}}</div>\n            <div>({{period.start_time}}-{{period.end_time}})</div>\n          </th>\n        </tr>\n\n        </thead>\n\n        <tbody>\n        <tr ng-repeat="room in $ctrl._resourceBookingService.rooms | filter: $ctrl._resourceBookingService.filter.description |\n          limitTo: $ctrl.itemsLimit">\n          <td class="t-resource-booking__col _first-col _fixed-col-v2">\n            <div class="t-resource-booking__title"\n                 ng-class="{_enabled: $ctrl._getResourceInfo(room.id)}"\n                 ng-click="$ctrl._showResourceInfo(room)">\n              <span>{{ room.description }}</span>\n              <button type="button" class="t-resource-booking__btn-info"\n                      ng-if="$ctrl._isResourceInfo(room)">\n              <span class="t-resource-booking__icon-outer">\n                <svg-use name="info"></svg-use>\n            </span>\n              </button>\n            </div>\n            <button type="button" class="t-resource-booking__btn-settings"\n                    ng-if="$ctrl._resourceBookingService.isAdmin()"\n                    ng-click="$ctrl._saveSeletedRoom(room)">\n              <svg-use name="settings"></svg-use>\n            </button>\n          </td>\n          <td ng-repeat="period in $ctrl._resourceBookingService.availablePeriods"\n              ng-class="{ \'_booked\': $ctrl._isRoomBooked(period, room),\n                        \'_user-booked\': $ctrl._isRoomBooked(period, room) && $ctrl._isBookedByUser(period, room) }">\n            <button class="t-resource-booking__button _book"\n                    ng-if="$ctrl._isRoomAvailable(period, room) && !$ctrl._isTypeClosed(period, room) && !$ctrl._isTypeSIMSCoverRoomMove(period, room)"\n                    ng-click="$ctrl._bookSelectedPeriod(period, room)"\n            >Book</button>\n            <div ng-if="$ctrl._isRoomBooked(period, room)">\n              <div class="t-resource-booking__booking-info"\n                   ng-class="{ \'_has-info\': $ctrl.isBookingInfo(period, room) }"\n                   ng-click="$ctrl.showBookingInfo(period, room)">\n                <div class="t-resource-booking__employee">{{$ctrl._getEmployee($ctrl._getEmployeeId(period, room))}}</div>\n                <div class="t-resource-booking__class">{{$ctrl._getClassInfo(period, room)}}</div>\n\t\t\t\t<div class="t-resource-booking__class">{{$ctrl._getType(period, room)}}</div>\n                <button type="button" class="t-resource-booking__btn-info"\n                        ng-if="$ctrl.isBookingInfo(period, room)">\n                  <span class="t-resource-booking__icon-outer"><svg-use name="info"></svg-use></span>\n                </button>\n                <div class="t-resource-booking__info" ng-if="$ctrl._isTypeClosed(period, room)">\n                  {{ $ctrl._resourceBookingService.getBookedEvent(period, room).information }}\n                </div>\n              </div>\n\n              <button class="t-resource-booking__button _delete"\n                      ng-if="$ctrl._isAbleToDelete(period, room) && !$ctrl._isTypeClosed(period, room) && !$ctrl._isTypeSIMSCoverRoomMove(period, room)"\n                      ng-click="$ctrl._deleteSelectedPeriod(period, room)"\n              >Delete</button>\n              <button class="t-resource-booking__button _move"\n                      ng-if="$ctrl._isAbleToMove(period, room)"\n                      ng-click="$ctrl._openMoveModal(period, room) && !$ctrl._isTypeClosed(period, room) && !$ctrl._isTypeSIMSCoverRoomMove(period, room)"\n              >Move</button>\n            </div>\n          </td>\n        </tr>\n        </tbody>\n      </table>\n    </div>\n  </div>\n\n  <div class="t-resource-booking__empty" ng-if="$ctrl._resourceBookingService.availablePeriods.length === 0">\n    No available data.\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r) {
            "ngInject";
            var o = this;
            (0, n.default)(this, e), this._$scope = t, this._resourceBookingService = i, this._modalDefaultService = a, this._userService = s, this._teachersService = r, this._regenerateHeaderWidth = function() {
                return null
            }, this._regenerateColumnHeight = function() {
                return null
            };
            var l = t.$watch(function() {
                    return o._resourceBookingService.rooms
                }, function() {
                    o._regenerateHeaderWidth(), o._regenerateColumnHeight()
                }),
                c = t.$watch(function() {
                    return o._resourceBookingService.data.filter.description
                }, function() {
                    o._regenerateHeaderWidth(), o._regenerateColumnHeight()
                });
            this.local = {
                itemsLimit: 25,
                scrollConfig: {
                    increaseBy: 12,
                    startCount: 25,
                    elementScroll: !0
                }
            }, t.$on("$destroy", function() {
                l(), c()
            })
        }
        return e.$inject = ["$scope", "ResourceBookingService", "modalDefaultService", "userService", "teachersService"], (0, i.default)(e, [{
            key: "recalculateItems",
            value: function() {
                this._regenerateHeaderWidth(), this._regenerateColumnHeight()
            }
        }, {
            key: "emitScrollInit",
            value: function() {
                this._$scope.$emit("initScrollArea")
            }
        }, {
            key: "_getResourceInfo",
            value: function(e) {
                var t = this._resourceBookingService.data.resources.filter(function(t) {
                    if (e === t.id) return t
                });
                return !!t.length && t[0].information
            }
        }, {
            key: "_showResourceInfo",
            value: function(e) {
                var t = this._getResourceInfo(e.id);
                t && this._modalDefaultService.showModalWithTemplates("modal-show-resource-info", t, "Information")
            }
        }, {
            key: "_isResourceInfo",
            value: function(e) {
                return this._resourceBookingService.data.resources.filter(function(t) {
                    if (e.id === t.id && t.information) return !0
                }).length
            }
        }, {
            key: "isBookingInfo",
            value: function(e, t) {
                var n = this._resourceBookingService.getBookedEvent(e, t);
                return angular.isDefined(n.information) && "" !== n.information
            }
        }, {
            key: "showBookingInfo",
            value: function(e, t) {
                if (this.isBookingInfo(e, t)) {
                    var n = this._resourceBookingService.getBookedEvent(e, t);
                    this._modalDefaultService.showModalWithTemplates("modal-show-resource-info", n.information, "Information")
                }
            }
        }, {
            key: "_isTypeClosed",
            value: function(e, t) {
                var n = this._resourceBookingService.getBookedEvent(e, t) && this._resourceBookingService.getBookedEvent(e, t).type;
                if (n) return "Closed" === n
            }
        }, {
            key: "_isTypeSIMSCoverRoomMove",
            value: function(e, t) {
                var n = this._resourceBookingService.getBookedEvent(e, t) && this._resourceBookingService.getBookedEvent(e, t).type;
                if (n) return "SIMS-CoverRoomMove" === n
            }
        }, {
            key: "_isRoomAvailable",
            value: function(e, t) {
                return this._resourceBookingService.isRoomAvailable(e, t)
            }
        }, {
            key: "_isRoomBooked",
            value: function(e, t) {
                return this._resourceBookingService.isRoomBooked(e, t)
            }
        }, {
            key: "_isBookedByUser",
            value: function(e, t) {
                if (this._resourceBookingService.isAdmin() || this._isUserEvent(e, t)) {
                    var n = this._resourceBookingService.getEmployeeId(e, t);
                    if (n) return Number(this._userService.user.id) === Number(n)
                }
                return !1
            }
        }, {
            key: "_getEmployee",
            value: function(e) {
                try {
                    var t = this._resourceBookingService.getEmployee(e);
                    return t.title + " " + t.forename + " " + t.surname
                } catch (e) {
                    return ""
                }
            }
        }, {
            key: "_getType",
            value: function(e, t) {
                var n = this._resourceBookingService.getBookedEvent(e, t).type;
                return "SIMS-Non-Class" === n ? "(Non Class)" : "SIMS-CoverRoomMove" === n ? "(Cover)" : ""
            }
        }, {
            key: "_isTypeSIMS",
            value: function(e, t) {
                return ["SIMS"].indexOf(this._resourceBookingService.getBookedEvent(e, t).type) >= 0
            }
        }, {
            key: "_isTypeSIMSNonClass",
            value: function(e, t) {
                return ["SIMS-Non-Class"].indexOf(this._resourceBookingService.getBookedEvent(e, t).type) >= 0
            }
        }, {
            key: "_isAbleToMove",
            value: function(e, t) {
                return this._isTypeSIMS(e, t) && (this._resourceBookingService.isAdmin() || this._isUserEvent(e, t))
            }
        }, {
            key: "_isAbleToDelete",
            value: function(e, t) {
                return !this._isTypeSIMS(e, t) && !this._isTypeSIMSNonClass(e, t) && (this._resourceBookingService.isAdmin() || this._isUserEvent(e, t))
            }
        }, {
            key: "_isUserEvent",
            value: function(e, t) {
                return this._resourceBookingService.isUserEvent(e, t)
            }
        }, {
            key: "_getEmployeeId",
            value: function(e, t) {
                return this._resourceBookingService.getEmployeeId(e, t)
            }
        }, {
            key: "_getClassInfo",
            value: function(e, t) {
                try {
                    return this._resourceBookingService.getClassInfo(e, t).name
                } catch (e) {
                    return ""
                }
            }
        }, {
            key: "_saveEventToMoveData",
            value: function(e, t, n) {
                this._resourceBookingService.data.selectedEventToMove.teaching_group_id = n.teaching_group_id, this._resourceBookingService.data.selectedEventToMove.resource_id = n.resource_id, this._resourceBookingService.data.selectedEventToMove.cycle_period_id = e.id, this._resourceBookingService.data.selectedEventToMove.resource_id = t.id
            }
        }, {
            key: "_openMoveModal",
            value: function(e, t) {
                var n = this._resourceBookingService.getBookedEvent(e, t);
                this._saveEventToMoveData(e, t, n), this._isAbleToMove(e, t) && this._modalDefaultService.showModalWithTemplates("modal-manage-teaching-group", null, "Edit event")
            }
        }, {
            key: "_bookSelectedPeriod",
            value: function(e, t) {
                this._showAddTeachersModal(e, t, this._resourceBookingService.isAdmin())
            }
        }, {
            key: "_deleteSelectedPeriod",
            value: function(e, t) {
                return this._resourceBookingService.deleteSelectedPeriod(e, t)
            }
        }, {
            key: "_saveSeletedRoom",
            value: function(e) {
                var t = this;
                this._resourceBookingService.isAdmin() && (this._resourceBookingService.data.resources.forEach(function(n) {
                    e.id === n.id && (t._resourceBookingService.data.selectedRoom = n)
                }), this._modalDefaultService.showModalWithTemplates("modal-manage-booking-room", null, "Edit room"))
            }
        }, {
            key: "_showAddTeachersModal",
            value: function(e, t, n) {
                this._modalDefaultService.showModalWithTemplates("modal-select-teacher", {
                    teachers: this._teachersService.employees,
                    period: e,
                    room: t,
                    isAdmin: n
                }, n ? "Select Teacher" : "Additional information")
            }
        }, {
            key: "itemsLimit",
            get: function() {
                return this.local.itemsLimit
            },
            set: function(e) {
                this.local.itemsLimit = e
            }
        }, {
            key: "scrollConfig",
            get: function() {
                return this.local.scrollConfig
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3383));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("t-responders", []).component("tResponders", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(3384),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    t(3385);
    var s = {
        template: a.default,
        bindings: {
            data: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="t-default t-responders">\n  <div class="t-default__header">\n    <div class="t-default__col t-responders__col _name">Name</div>\n    <div class="t-default__col t-responders__col _responded">Responded</div>\n  </div>\n  <div class="t-default__body">\n    <div class="t-default__row t-responders__row" ng-repeat="item in $ctrl.data track by $index">\n      <div class="t-default__col t-responders__col _name">\n        <div class="t-default__title-mobile t-responders__title-mobile">Model:</div>\n        {{ item.name }}\n      </div>\n      <div class="t-default__col t-responders__col _responded">\n        <div class="t-default__title-mobile t-responders__title-mobile">Responded:</div>\n        {{ item.responded }}\n      </div>\n    </div>\n  </div>\n</div>\n'
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3387));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("t-room-changes", []).component("tRoomChanges", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(3388)),
        i = a(t(3389));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(3390);
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="t-default t-room-changes">\n  <div class="t-default__header">\n    <div class="t-default__col t-room-changes__col _period">Period</div>\n    <div class="t-default__col t-room-changes__col _changed">Changed in</div>\n    <div class="t-default__col t-room-changes__col _group">Teaching group</div>\n    <div class="t-default__col t-room-changes__col _teacher">Teacher</div>\n    <div class="t-default__col t-room-changes__col _from">From</div>\n    <div class="t-default__col t-room-changes__col _to">To</div>\n  </div>\n  <div class="t-default__body t-room-changes__body">\n    <ng-container ng-repeat="period in $ctrl._resourceBookingService.changes.periods track by $index">\n      <div class="t-default__row t-room-changes__row"\n           ng-repeat="change in period.changes track by $index"\n      >\n        <div class="t-default__col t-room-changes__col _period">\n          <div class="t-default__title-mobile t-room-changes__title-mobile">Period:</div>\n          <div class="t-default__text">{{ period.description }}</div>\n        </div>\n        <div class="t-default__col t-room-changes__col _changed">\n          <div class="t-default__title-mobile t-room-changes__title-mobile">Changed in:</div>\n          <div class="t-default__text">{{ change.source }}</div>\n        </div>\n        <div class="t-default__col t-room-changes__col _group">\n          <div class="t-default__title-mobile t-room-changes__title-mobile">Teaching group:</div>\n          <div class="t-default__text">{{ change.teaching_group.name }}</div>\n        </div>\n        <div class="t-default__col t-room-changes__col _teacher">\n          <div class="t-default__title-mobile t-room-changes__title-mobile">Teacher:</div>\n          <div class="t-default__text">{{ change.teaching_group.teacher.name }}</div>\n        </div>\n        <div class="t-default__col t-room-changes__col _from">\n          <div class="t-default__title-mobile t-room-changes__title-mobile">From:</div>\n          <div class="t-default__text">{{ change.from.description }}</div>\n        </div>\n        <div class="t-default__col t-room-changes__col _to">\n          <div class="t-default__title-mobile t-room-changes__title-mobile">To:</div>\n          <div class="t-default__text">{{ change.to.description }}</div>\n        </div>\n      </div>\n    </ng-container>\n    <div class="t-room-closures__message"\n         ng-if="!$ctrl._resourceBookingService.changes.periods || !$ctrl._resourceBookingService.changes.periods.length"\n    >\n      No available data.\n    </div>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(1),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    var s = function e(t) {
        "ngInject";
        (0, a.default)(this, e), this._resourceBookingService = t
    };
    s.$inject = ["ResourceBookingService"], exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3392));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("t-room-closures", []).component("tRoomClosures", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(3393)),
        i = a(t(3394));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(3395);
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="t-default t-room-closures">\n  <div class="t-default__header">\n    <div class="t-default__col t-room-closures__col _room">Room</div>\n    <div class="t-default__col t-room-closures__col _reason">Reason</div>\n    <div class="t-default__col t-room-closures__col _from">From</div>\n    <div class="t-default__col t-room-closures__col _until">Until</div>\n  </div>\n  <div class="t-default__body t-room-closures__body">\n    <div class="t-default__row t-room-closures__row"\n         ng-repeat="item in $ctrl._resourceBookingService.changes.closures track by $index"\n    >\n      <div class="t-default__col t-room-closures__col _room">\n        <div class="t-default__title-mobile t-room-closures__title-mobile">Room:</div>\n        <div class="t-default__text t-room-closures__text">{{ item.resource.description }}</div>\n      </div>\n      <div class="t-default__col t-room-closures__col _reason">\n        <div class="t-default__title-mobile t-room-closures__title-mobile">Reason:</div>\n        <div class="t-default__text t-room-closures__text">{{ item.reason }}</div>\n      </div>\n      <div class="t-default__col t-room-closures__col _from">\n        <div class="t-default__title-mobile t-room-closures__title-mobile">From:</div>\n        <div class="t-default__text t-room-closures__text">{{ item.start_time }}</div>\n      </div>\n      <div class="t-default__col t-room-closures__col _until">\n        <div class="t-default__title-mobile t-room-closures__title-mobile">Until:</div>\n        <div class="t-default__text t-room-closures__text">{{ item.end_time }}</div>\n      </div>\n    </div>\n    <div class="t-room-closures__message"\n         ng-if="!$ctrl._resourceBookingService.changes.closures || !$ctrl._resourceBookingService.changes.closures.length"\n    >\n      No available data.\n    </div>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(1),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    var s = function e(t) {
        "ngInject";
        (0, a.default)(this, e), this._resourceBookingService = t
    };
    s.$inject = ["ResourceBookingService"], exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3397));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("t-select-recipients", []).component("tSelectRecipients", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(3398)),
        i = a(t(3399));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(3400);
    var s = {
        template: n.default,
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="t-default t-select-recipients"\n     change-limit-on-scroll\n     limit="$ctrl._communicatorDataService.recipients.length"\n     config="$ctrl.scrollConfig"\n     counter="$ctrl.itemsLimit"\n>\n\n  <div class="t-default__header t-select-recipients__header">\n    <div class="t-default__col t-select-recipients__col _recipient">Recipient Name</div>\n    <div class="t-default__col t-select-recipients__col _type">Recipient Type</div>\n    <div class="t-default__col t-select-recipients__col _status">Status</div>\n    <div class="t-default__col t-select-recipients__col _learners">Related Learners</div>\n  </div>\n\n  <div class="t-select-recipients__header _mobile">\n    <div class="t-select-recipients__title">Recipients</div>\n    <div class="t-select-recipients__counter">\n      {{ $ctrl._communicatorDataService.getAvailableRecipientsNumber() }}/{{ $ctrl._communicatorDataService.recipients.length }}\n    </div>\n  </div>\n\n  <div class="t-select-recipients__search" scroll-element callback="$ctrl.scrollElement"\n       ng-if="$ctrl._communicatorDataService.isCustomTabSelected">\n    <div class="t-select-recipients__search-item"\n         ng-repeat="input in $ctrl._communicatorDataService.customSearches track by $index">\n      <input type="text" ng-model="input.value" class="t-select-recipients__search-input" />\n      <div class="t-select-recipients__search-btn _add"\n           ng-if="$ctrl._communicatorDataService.customSearches.length - 1 === $index"\n           ng-click="$ctrl.addSearch()">\n      </div>\n      <div class="t-select-recipients__search-btn _remove"\n           ng-if="$ctrl._communicatorDataService.customSearches.length - 1 !== $index"\n           ng-click="$ctrl.removeSearch($index)">\n      </div>\n    </div>\n  </div>\n\n  <div class="t-default__body t-select-recipients__body"\n       scrollable-block\n       lazy-photo\n       elements="$ctrl._communicatorDataService.recipients"\n       config="$ctrl.lazyPhotoConfig"\n       updater="$ctrl.itemsLimit"\n       ng-init="$ctrl.emitScrollInit()">\n    <div class="t-default__row" ng-if="!$ctrl._communicatorDataService.recipients.length">\n      <div class="t-select-recipients__empty">Please select a recipient type</div>\n    </div>\n    <div class="t-default__row t-select-recipients__row"\n         photo-element\n         data-hash="{{ ::recipient.hashPhoto }}"\n         ng-if="$ctrl._communicatorDataService.recipients.length"\n         ng-click="$ctrl.selectRecipient(recipient)"\n         ng-repeat="recipient in $ctrl._communicatorDataService.recipients | limitTo:$ctrl.itemsLimit"\n    >\n      <div class="t-default__col t-select-recipients__col _recipient">\n        <div class="t-select-recipients__regulator"\n             ng-if="$ctrl._communicatorDataService.getRecipientState(recipient) === \'checked\'">\n          <svg-use name="check"></svg-use>\n          <svg-use name="circle-check" class="_green"></svg-use>\n        </div>\n        <div class="t-select-recipients__regulator"\n             ng-if="$ctrl._communicatorDataService.getRecipientState(recipient) === \'unchecked\'">\n          <svg-use name="cross"></svg-use>\n          <svg-use name="circle-check" class="_gray"></svg-use>\n        </div>\n        <div class="t-select-recipients__regulator"\n             ng-if="$ctrl._communicatorDataService.getRecipientState(recipient) === \'warning\'">\n          <svg-use name="warning"></svg-use>\n        </div>\n        <div class="t-select-recipients__photo"\n             binded-photo photo-url="{{ recipient.photos[0].photo }}"\n             ng-style="{\'background-image\': \'url(\' + $ctrl._imagesConstants.DEFAULT_IMAGE + \')\'}">\n        </div>\n        <div class="t-select-recipients__info">\n          <div class="t-select-recipients__data _name">{{ ::recipient.title}} {{ ::recipient.forename}} {{ ::recipient.surname}}</div>\n          <div class="t-select-recipients__data _additional" ng-if="$ctrl.messageType === \'email\'">\n            {{ ::recipient.email }}\n          </div>\n          <div class="t-select-recipients__data _additional" ng-if="$ctrl.messageType === \'sms\'">\n            {{ ::recipient.mobile_phone }}\n          </div>\n          <div class="t-select-recipients__data _additional" ng-if="$ctrl.messageType === \'push\'">\n            {{ ::(recipient.app_active ? $ctrl.getFormattedDate(recipient.app_active) : \'\') }}\n          </div>\n          <div class="t-select-recipients__data _additional" ng-if="$ctrl.messageType === \'push | sms\'">\n            {{ ::(recipient.app_active ? $ctrl.getFormattedDate(recipient.app_active) : recipient.mobile_phone) }}\n          </div>\n        </div>\n      </div>\n      <div class="t-default__col t-select-recipients__col _type">\n        {{ ::recipient.role }}\n        <p class="t-select-recipients__relationship">{{ ::(recipient.learners.length && recipient.learners[0].relationship) }}</p>\n      </div>\n      <div class="t-default__col t-select-recipients__col _status">\n        <div class="t-select-recipients__message">{{ $ctrl._communicatorDataService.getRecipientStatus(recipient) }}</div>\n      </div>\n      <div class="t-default__col t-select-recipients__col _learners"\n           ng-if="recipient.role === \'Parent\' && recipient.learners.length > 0"\n           ng-click="$ctrl.showRelatedLearnersModal($event, recipient.learners)">\n        {{ recipient.learners.length }}\n      </div>\n    </div>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = r(t(35)),
        i = r(t(11)),
        a = r(t(1)),
        s = r(t(2));

    function r(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var o = function() {
        function e(t, n, i, s, r, o, l, c, d, u, _, f, v, m, h, p) {
            "ngInject";
            (0, a.default)(this, e), this._$q = t, this._$filter = s, this._$scope = i, this._$state = n, this._attachmentsService = r, this._communicatorDataService = m, this._contactsDataService = l, this._deviceMarginConstants = f, this._imagesConstants = c, this._teachersService = o, this._studentsService = d, this._modalDefaultService = u, this._parentsService = v, this._windowWidthService = _, this._dateService = h, this._leaversService = p, this.local = {
                lazyPhotoConfig: {
                    prefix: "data:image/png;base64,",
                    reserveScroll: 150,
                    checkRole: !0,
                    getPhotoCallback: this.getPhoto,
                    getDefaultPhotoCallback: this.getDefaultPhoto,
                    isSingleElements: !0,
                    isUniqueElements: !0
                },
                loader: {
                    learner: {
                        getPhoto: this.getPhotoForLearners,
                        getDefaultPhoto: this.getDefaultPhotoForLearners
                    },
                    teacher: {
                        getPhoto: this.getPhotoForTeachers,
                        getDefaultPhoto: this.getDefaultPhotoForTeachers
                    },
                    "form tutor": {
                        getPhoto: this.getPhotoForTeachers,
                        getDefaultPhoto: this.getDefaultPhotoForTeachers
                    },
                    hoy: {
                        getPhoto: this.getPhotoForTeachers,
                        getDefaultPhoto: this.getDefaultPhotoForTeachers
                    },
                    hoh: {
                        getPhoto: this.getPhotoForTeachers,
                        getDefaultPhoto: this.getDefaultPhotoForTeachers
                    },
                    parent: {
                        getPhoto: this.getPhotoForParent,
                        getDefaultPhoto: this.getDefaultPhotoForParent
                    }
                },
                itemsLimit: 20,
                scrollConfig: {
                    increaseBy: 20,
                    startCount: 20
                }
            }, this._communicatorDataService.cleanSearchFields()
        }
        return e.$inject = ["$q", "$state", "$scope", "$filter", "attachmentsService", "teachersService", "contactsDataService", "imagesConstants", "studentsService", "modalDefaultService", "windowWidthService", "deviceMarginConstants", "parentsService", "communicatorDataService", "dateService", "leaversService"], (0, s.default)(e, [{
            key: "emitScrollInit",
            value: function() {
                this._$scope.$emit("initScrollArea")
            }
        }, {
            key: "getRelatedLearners",
            value: function(e) {
                return (this._studentsService.selectedStudents.length ? this._studentsService.selectedStudents : this._leaversService.selectedStudents).filter(function(t) {
                    return e.find(function(e) {
                        return Number(t.id) === Number(e.id)
                    })
                })
            }
        }, {
            key: "showRelatedLearnersModal",
            value: function(e, t) {
                e.stopPropagation();
                var n = {
                    learners: this.getRelatedLearners(t)
                };
                this._modalDefaultService.showModalWithTemplates("modal-show-learners", n, "Related Learners: " + t.length)
            }
        }, {
            key: "selectRecipient",
            value: function(e) {
                e.available && (-1 === this._communicatorDataService.editableRecipients.indexOf(e) ? this.addRecipient(e) : this.removeRecipient(e))
            }
        }, {
            key: "addRecipient",
            value: function(e) {
                this._communicatorDataService.editableRecipients.push(e)
            }
        }, {
            key: "removeRecipient",
            value: function(e) {
                this._communicatorDataService.editableRecipients = this._communicatorDataService.editableRecipients.filter(function(t) {
                    return t !== e
                })
            }
        }, {
            key: "hideAllModal",
            value: function() {
                this._$scope.$emit("hideModal", {
                    closeAllModals: !0
                })
            }
        }, {
            key: "goToNextStep",
            value: function() {
                this.hideAllModal(), this._$state.transitionTo("communicator.send")
            }
        }, {
            key: "getFormattedDate",
            value: function(e) {
                if (e < 60) {
                    var t = Math.floor(e / 1);
                    return t > 1 ? t + " seconds ago" : "a second ago"
                }
                if (e < 3600) {
                    var n = Math.floor(e / 60);
                    return n > 1 ? n + " minutes ago" : "a minute ago"
                }
                if (e < 86400) {
                    var i = Math.floor(e / 3600);
                    return i > 1 ? i + " hours ago" : "a hour ago"
                }
                if (e < 604800) {
                    var a = Math.floor(e / 86400);
                    return a > 1 ? a + " days ago" : "a day ago"
                }
                return this._$filter("date")(Number(new Date) - 1e3 * e, this._dateService.getDateFormat("defaultDateTime"))
            }
        }, {
            key: "getPhoto",
            value: function(e, t, n) {
                var i = e.local.loader[n && n.toLowerCase()];
                return i && i.getPhoto ? i.getPhoto(e, t) : ""
            }
        }, {
            key: "getDefaultPhoto",
            value: function(e, t, n) {
                var i = e.local.loader[n && n.toLowerCase()];
                return i && i.getDefaultPhoto ? i.getDefaultPhoto(e, t) : ""
            }
        }, {
            key: "getPhotoForTeachers",
            value: function(e, t) {
                return e._teachersService.getTeacherPhotosFromDb(t).catch(function() {
                    return null
                })
            }
        }, {
            key: "getDefaultPhotoForTeachers",
            value: function(e, t) {
                return e._teachersService.getDefaultPhotoUsingGender(t)
            }
        }, {
            key: "getPhotoForLearners",
            value: function(e, t) {
                return e._studentsService.students.getPhotos(t).catch(function() {
                    return null
                })
            }
        }, {
            key: "getDefaultPhotoForLearners",
            value: function(e, t) {
                return e._studentsService.getDefaultPhotoUsingGender(t)
            }
        }, {
            key: "getPhotoForParent",
            value: function(e, t) {
                return e._$q.resolve([])
            }
        }, {
            key: "getDefaultPhotoForParent",
            value: function(e, t) {
                return e._parentsService.getDefaultPhotoUsingGender(t)
            }
        }, {
            key: "scrollElement",
            value: function() {}
        }, {
            key: "addSearch",
            value: function() {
                this._communicatorDataService.customSearches = [].concat((0, i.default)(this._communicatorDataService.customSearches), [(0, n.default)({}, this._communicatorDataService.customSearch)]), this.scrollElement()
            }
        }, {
            key: "removeSearch",
            value: function(e) {
                this._communicatorDataService.customSearches = [].concat((0, i.default)(this._communicatorDataService.customSearches.slice(0, e)), (0, i.default)(this._communicatorDataService.customSearches.slice(e + 1)))
            }
        }, {
            key: "scrollConfig",
            get: function() {
                return this.local.scrollConfig
            }
        }, {
            key: "itemsLimit",
            get: function() {
                return this.local.itemsLimit
            },
            set: function(e) {
                this.local.itemsLimit = e
            }
        }, {
            key: "lazyPhotoConfig",
            get: function() {
                return this.local.lazyPhotoConfig
            }
        }, {
            key: "messageType",
            get: function() {
                return this._communicatorDataService.messageType
            }
        }]), e
    }();
    exports.default = o
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3402));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("t-slots", []).component("tSlots", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(3403)),
        i = a(t(3404));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(3405);
    var s = {
        template: n.default,
        bindings: {
            sessions: "<",
            isBooking: "<",
            select: "&",
            isToggle: "<"
        },
        controller: i.default
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="t-slots">\n  <div class="t-slots__wrapper" ng-repeat="session in $ctrl.sessions">\n    <div class="t-slots__date" ng-click="$ctrl.toggleSession(session)" ng-class="{ _open : session.isOpen, _toggle: $ctrl.isToggle}">\n      {{ session.start_time | date:$ctrl._dateService.getDateFormat(\'defaultDate\') }}\n    </div>\n    <ul class="t-slots__list" ng-if="session.isOpen || !$ctrl.isToggle">\n      <li class="t-slots__item"\n          ng-click="$ctrl.select({ slot, learner_id: session.learner_id, parent_id: session.parent_id })"\n          ng-class="{ \'_available\': $ctrl.isBooking && !slot.learner_id,\n                      \'_booked\': $ctrl.isBooking && slot.learner_id }"\n          ng-repeat="slot in session.slots track by $index">\n        {{ $ctrl.isBooking ? slot.start_time : slot }}\n      </li>\n    </ul>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a) {
            "ngInject";
            (0, n.default)(this, e), this._windowWidthService = t, this._deviceMarginConstants = i, this._dateService = a
        }
        return e.$inject = ["windowWidthService", "deviceMarginConstants", "dateService"], (0, i.default)(e, [{
            key: "toggleSession",
            value: function(e) {
                this.sessions.forEach(function(t) {
                    t !== e ? t.isOpen = !1 : e.isOpen = !e.isOpen
                })
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3407));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("t-submissions", []).component("tSubmissions", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(3408),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    t(3409);
    var s = {
        template: a.default,
        bindings: {
            submissions: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="t-default t-submissions" ng-if="$ctrl.submissions.length">\n  <div class="t-default__header t-submissions__header">\n    <div class="t-default__col t-submissions__col _name">\n      Name\n    </div>\n    <div class="t-default__col t-submissions__col _type">\n      Type\n    </div>\n    <div class="t-default__col t-submissions__col _submitted">\n      Submitted by\n    </div>\n    <div class="t-default__col t-submissions__col _date">\n      Date\n    </div>\n  </div>\n\n  <div class="t-default__body t-submissions__body">\n    <div class="t-submissions__row t-default__row" ng-repeat="submission in $ctrl.submissions track by $index">\n      <a class="t-submissions__link" ui-sref="data-collection.submission(submission.param)">\n        <div class="t-default__col t-submissions__col _name">\n          <span class="t-submissions__title-mobile t-default__title-mobile">Name</span>\n          {{ ::submission.for.name }}\n        </div>\n        <div class="t-default__col t-submissions__col _type">\n          <span class="t-submissions__title-mobile t-default__title-mobile">Type</span>\n          {{ ::submission.for.type }}\n        </div>\n        <div class="t-default__col t-submissions__col _submitted">\n          <span class="t-submissions__title-mobile t-default__title-mobile">Submitted by</span>\n          {{ ::submission.from.name }}\n        </div>\n        <div class="t-default__col t-submissions__col _date">\n          <span class="t-submissions__title-mobile t-default__title-mobile">Date</span>\n          {{ ::submission.submitted }}\n        </div>\n      </a>\n    </div>\n  </div>\n</div>\n\n<div class="t-submissions" ng-if="!$ctrl.submissions.length">\n  <div class="t-submissions__message">\n    No Submissions.\n  </div>\n</div>\n'
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3411));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("t-teacher-event", []).component("tTeacherEvent", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(3412)),
        i = a(t(3413));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(3414);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            slots: "<",
            attend: "&",
            block: "&",
            cancel: "&"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="t-teacher-event">\n  <div class="t-teacher-event__row _header">\n    <div class="t-teacher-event__col _status _header">\n      <div class="t-teacher-event__col-title">Status</div>\n    </div>\n    <div class="t-teacher-event__col _slot _header">\n      <div class="t-teacher-event__col-title">Slots</div>\n    </div>\n    <div class="t-teacher-event__col _people-header">\n      <div class="t-teacher-event__col-title">Learner/Parent</div>\n    </div>\n    <div class="t-teacher-event__col _note">\n      <div class="t-teacher-event__col-title">Notes</div>\n    </div>\n    <div class="t-teacher-event__col _attend">\n      <div class="t-teacher-event__col-title">Attended</div>\n    </div>\n  </div>\n\n  <div class="t-teacher-event__wrapper">\n    <div class="t-teacher-event__day" ng-repeat="day in $ctrl.slots">\n      <div class="t-teacher-event__title">{{ day.date | date:$ctrl._dateService.getDateFormat(\'defaultDate\'):\'UTC\' }}</div>\n      <ul class="t-teacher-event__body">\n        <li class="t-teacher-event__item t-teacher-event__row"\n            ng-repeat="slot in day.slots | orderBy:\'-date\' track by $index"\n            ng-class="{ _fill: slot.parent, _empty: !slot.parent, _blocked: !slot.teacher_available }"\n        >\n          <div class="t-teacher-event__col _status" >\n            <span class="t-teacher-event__status"\n\t\t\t\t  ng-if="$ctrl._userService.user.capabilities[\'parentevent.blockslot\'] || (!$ctrl._userService.user.capabilities[\'parentevent.blockslot\'] && $ctrl.getStatus(slot)!=\'Block\')"\n                  ng-click="!slot.parent && $ctrl.block({ slot })"\n\t\t\t\t  ng-class="{\n                    _blocked: !slot.teacher_available,\n                    _attended: slot.attended\n                  }"\n            >\n              {{ $ctrl.getStatus(slot) }}\n            </span>\n            <button type="button" class="t-teacher-event__btn-cancel"\n                    ng-if="slot.parent_id && !slot.attended"\n                    ng-click="$ctrl.cancel({ slot })"\n            >\n              <svg-use name="trash"></svg-use>\n            </button>\n\n          </div>\n\n          <div class="t-teacher-event__col _slot _desktop">\n            <span>{{ slot.start_time | date:\'HH:mm\':\'UTC\' }}</span>\n          </div>\n\n          <div class="t-teacher-event__col _row">\n            <div class="t-teacher-event__col _slot _mobile">\n              <span>Time: {{ slot.start_time | date:\'HH:mm\':\'UTC\' }}</span>\n            </div>\n            <div class="t-teacher-event__col _people">\n              <div class="t-teacher-event__photo"\n                   ng-if="slot.parent"\n                   ng-style="{\'background-image\': \'url(\' + slot.learnerPhoto + \')\'}"\n              ></div>\n              <span>\n                Learner: {{ slot.learner }} <br/>\n                Parent: {{ slot.parent }} <br/>\n                Phone: <a href="tel:{{slot.phone}}" class="t-teacher-event__phone" ng-if="slot.phone">{{ slot.phone }}</a>\n                Mobile: <a href="tel:{{slot.mobile_phone}}" class="t-teacher-event__phone" ng-if="slot.mobile_phone">{{ slot.mobile_phone }}</a>\n              </span>\n            </div>\n            <div class="t-teacher-event__col _note _mobile" ng-if="slot.notes_to_teacher">\n              {{ slot.notes_to_teacher }}\n            </div>\n          </div>\n\n          <div class="t-teacher-event__col _note _desktop">\n            <span class="t-teacher-event__note">{{ slot.notes_to_teacher }}</span>\n            <button type="button" class="t-teacher-event__btn-cancel"\n                    ng-if="slot.parent_id && !slot.attended"\n                    ng-click="$ctrl.cancel({ slot })"\n            >\n              <svg-use name="trash"></svg-use>\n            </button>\n          </div>\n\n          <div class="t-teacher-event__col _attend">\n            <label class="t-teacher-event__checkbox f-default__label" ng-class="{ \'_checkbox-checked\': slot.attended }">\n              <input type="checkbox"\n                     title="Attended"\n                     name="attend"\n                     ng-disabled="!slot.parent || slot.isLoading"\n                     class="b-mailbox__checkbox-input"\n                     ng-change="$ctrl.attend({ slot })"\n                     ng-model="slot.attended"\n              >\n              <span class="t-teacher-event__checkbox-title"></span>\n            </label>\n          </div>\n        </li>\n      </ul>\n    </div>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i) {
            "ngInject";
            (0, n.default)(this, e), this._userService = t, this._dateService = i
        }
        return e.$inject = ["userService", "dateService"], (0, i.default)(e, [{
            key: "getStatus",
            value: function(e) {
                return e.teacher_available ? e.parent_id ? e.attended ? "Attended" : "Booked" : "Block" : "Blocked"
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3416));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("t-teacher-forms", []).component("tTeacherForms", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(3417)),
        i = a(t(3418));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(3419);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            forms: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="t-default t-teacher-forms">\n  <div class="t-default__header t-teacher-forms__header">\n    <div class="t-default__col t-teacher-forms__col _name" ng-click="$ctrl.sort(\'subject\')">\n      <span class="t-default__title t-teacher-forms__title _sortable"\n        ng-class="{\n          \'_sorted-by\': $ctrl.activeSorting.field === \'subject\',\n          \'_reversed\': $ctrl.activeSorting.field === \'subject\' && $ctrl.activeSorting.reverse\n         }">Form</span>\n    </div>\n    <div class="t-default__col t-teacher-forms__col _type">\n        <span class="t-default__title t-teacher-forms__title">Type</span>\n    </div>\n    <div class="t-default__col t-teacher-forms__col _date" ng-click="$ctrl.sort(\'due\', $ctrl._sortDataService.compareDates)">\n      <span class="t-default__title t-teacher-forms__title _sortable"\n        ng-class="{\n          \'_sorted-by\': $ctrl.activeSorting.field === \'due\',\n          \'_reversed\': $ctrl.activeSorting.field === \'due\' && $ctrl.activeSorting.reverse\n        }">Due date</span>\n    </div>\n    <div class="t-default__col t-teacher-forms__col _allocated">\n      <span class="t-default__title t-teacher-forms__title">Allocated</span>\n    </div>\n    <div class="t-default__col t-teacher-forms__col _submitted">\n      <span class="t-default__title t-teacher-forms__title">Submitted</span>\n    </div>\n    <div class="t-default__col t-teacher-forms__col _modify">\n      <span class="t-default__title t-teacher-forms__title">Modify</span>\n    </div>\n    <div class="t-default__col t-teacher-forms__col _clone">\n      <span class="t-default__title t-teacher-forms__title">Clone</span>\n    </div>\n  </div>\n\n  <div class="t-default__body t-teacher-forms__body">\n    <div class="t-default__row t-teacher-forms__row" ng-repeat="form in $ctrl.forms">\n      <div class="t-default__col t-teacher-forms__col _name">\n        <div class="t-default__title-mobile t-teacher-forms__title-mobile">Form:</div>\n        {{ form.subject }}\n      </div>\n\t<div class="t-default__col t-teacher-forms__col _type">\n        <div class="t-default__title-mobile t-teacher-forms__title-mobile">Recipient Type</div>\n        {{ form.recipient_type }}\n      </div>\n      <div class="t-default__col t-teacher-forms__col _date">\n        <div class="t-default__title-mobile t-teacher-forms__title-mobile">Due date:</div>\n        {{ ::$ctrl.getFormattedDate(form.due) }}\n      </div>\n      <div class="t-default__col t-teacher-forms__col _allocated">\n        <div class="t-default__title-mobile t-teacher-forms__title-mobile">Allocated:</div>\n        {{ ::(form.learners ? form.learners.total : form.employees.total) }}\n      </div>\n      <div class="t-default__col t-teacher-forms__col _submitted">\n        <div class="t-default__title-mobile t-teacher-forms__title-mobile">Submitted:</div>\n        <button class="t-teacher-forms__btn"\n                ng-click="$ctrl.openFormModal(form)"\n                ng-if="form.learners.responses || form.employees.responses">\n          View ({{ form.learners.responses || form.employees.responses }})\n        </button>\n        <div ng-if="!form.learners.responses && !form.employees.responses">\n          {{ form.learners ? form.learners.responses : form.employees.responses }}\n        </div>\n      </div>\n      <div class="t-default__col t-teacher-forms__col _modify">\n        <div class="t-default__title-mobile t-teacher-forms__title-mobile">Modify:</div>\n        <a class="t-teacher-forms__link" ui-sref="forms.updateForm({form_id: form.id})">\n          <svg-use name="pencil"></svg-use>\n        </a>\n      </div>\n      <div class="t-default__col t-teacher-forms__col _clone">\n        <div class="t-default__title-mobile t-teacher-forms__title-mobile">Clone:</div>\n        <a type="button" class="t-teacher-forms__link" ui-sref="forms.cloneForm({form_id: form.id})">\n          <svg-use name="clone"></svg-use>\n        </a>\n      </div>\n    </div>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r) {
            "ngInject";
            (0, n.default)(this, e), this._formsService = t, this._modalDefaultService = i, this._orderByFilter = a, this._sortDataService = s, this._dateService = r
        }
        return e.$inject = ["formsService", "modalDefaultService", "orderByFilter", "sortDataService", "dateService"], (0, i.default)(e, [{
            key: "openFormModal",
            value: function(e) {
                var t = this,
                    n = {
                        onInit: function() {
                            return t._formsService.getForm({
                                form_id: e.id,
                                learner_id: e.learner_id,
                                employee_id: e.employee_id
                            })
                        }
                    };
                this._modalDefaultService.showModalWithTemplates("modal-view-forms", n, "View Form")
            }
        }, {
            key: "sort",
            value: function(e, t) {
                var n = !1;
                this.activeSorting && this.activeSorting.field === e && (n = !this.activeSorting.reverse), this.forms = this._orderByFilter(this.forms, [e], n, t), this.activeSorting = {
                    field: e,
                    reverse: n
                }
            }
        }, {
            key: "getFormattedDate",
            value: function(e) {
                return moment(e).format(this._dateService.getDateFormat("momentDateTime"))
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3421));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("t-timetable", []).component("tTimetable", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(3422)),
        i = a(t(3423));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(3424);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            timetable: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="t-default t-timetable">\n  <div class="t-default__header t-timetable__header">\n    <div class="t-default__col t-timetable__col _class">\n      <span class="t-default__title t-timetable__title">Period</span>\n    </div>\n    <div class="t-default__col t-timetable__col _subject">\n      <span class="t-default__title t-timetable__title">Subject</span>\n    </div>\n    <div class="t-default__col t-timetable__col _room">\n      <span class="t-default__title t-timetable__title">Room</span>\n    </div>\n    <div class="t-default__col t-timetable__col _teacher">\n      <span class="t-default__title t-timetable__title">Teacher</span>\n    </div>\n    <div class="t-default__col t-timetable__col _start">\n      <span class="t-default__title t-timetable__title">Start</span>\n    </div>\n    <div class="t-default__col t-timetable__col _end">\n      <span class="t-default__title t-timetable__title">End</span>\n    </div>\n  </div>\n  <div class="t-default__body t-timetable__body">\n    <div class="t-default__row t-timetable__row"\n         ng-class="{ _cover: $ctrl._timetableService.getAtLeastOneLesson(period).is_cover }"\n         ng-repeat="period in $ctrl._timetableService.getPeriods() track by $index">\n      <div class="t-default__col t-timetable__col _class">\n        <div class="t-default__title-mobile t-timetable__title-mobile">Period:</div>\n        <div class="t-timetable__class"\n             ng-class="{ \'_smaller\': $ctrl.getPeriodName(period).length === 3,\n                         \'_current\': $ctrl.isCurrentLesson(period, $ctrl.isSelectedDayCurrent())}">\n          <span>{{ $ctrl.getPeriodName(period) || \'-\' }}</span>\n        </div>\n      </div>\n      <div class="t-default__col t-timetable__col _subject">\n        <div class="t-default__title-mobile t-timetable__title-mobile">Subject:</div>\n        <div class="t-timetable__text"\n             ng-repeat="lesson in $ctrl._timetableService.getAvailableLessonsForPeriod(period) track by $index"\n             ng-style="{ \'color\': $ctrl.getColor($index) }">\n          <div class="t-timetable__text">\n            {{ lesson.teaching_group.subject || \'-\' }}\n          </div>\n          <span class="t-timetable__text _gray" ng-if="lesson.teaching_group.name"> ({{ lesson.teaching_group.name || \'-\' }})</span>\n        </div>\n      </div>\n      <div class="t-default__col t-timetable__col _room">\n        <div class="t-default__title-mobile t-timetable__title-mobile">Room:</div>\n        <div class="t-timetable__text"\n             ng-repeat="lesson in $ctrl._timetableService.getAvailableLessonsForPeriod(period) track by $index"\n             ng-style="{ \'color\': $ctrl.getColor($index) }">\n          {{ lesson.room.name || \'-\' }}\n        </div>\n      </div>\n      <div class="t-default__col t-timetable__col _teacher">\n        <div class="t-default__title-mobile t-timetable__title-mobile">Teacher:</div>\n        <div class="t-timetable__text"\n             ng-repeat="lesson in $ctrl._timetableService.getAvailableLessonsForPeriod(period) track by $index"\n             ng-style="{ \'color\': $ctrl.getColor($index) }">\n          <span ng-if="lesson.teachers">\n            {{ lesson.teachers }}\n          </span>\n          <span ng-if="!lesson.teacher.title && !lesson.teacher.forename && !lesson.teacher.surname">-</span>\n        </div>\n      </div>\n      <div class="t-default__col t-timetable__col _start">\n        <div class="t-default__title-mobile t-timetable__title-mobile">Start:</div>\n        {{ $ctrl.getTimeForPeriod(period, \'start_time\') || \'-\' }}\n      </div>\n      <div class="t-default__col t-timetable__col _end">\n        <div class="t-default__title-mobile t-timetable__title-mobile">End:</div>\n        {{ $ctrl.getTimeForPeriod(period, \'end_time\') || \'-\' }}\n      </div>\n    </div>\n  </div>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t) {
            "ngInject";
            (0, n.default)(this, e), this._timetableService = t
        }
        return e.$inject = ["timetableService"], (0, i.default)(e, [{
            key: "getPeriodName",
            value: function(e) {
                if (e) return this._timetableService.periods.filter(function(t) {
                    return !!e.includes(t.id) && t.name
                })[0].name.split(":").pop()
            }
        }, {
            key: "getTimeForPeriod",
            value: function(e, t) {
                if (e && t) return this._timetableService.periods.filter(function(t) {
                    return e.includes(t.id)
                })[0][t]
            }
        }, {
            key: "isCurrentLesson",
            value: function(e, t) {
                var n = new Date,
                    i = n.getHours(),
                    a = n.getMinutes(),
                    s = this.getTimeForPeriod(e, "start_time"),
                    r = moment(s).format("HH:MM"),
                    o = moment(s).format("HH:MM"),
                    l = 60 * i + a;
                return l >= r && l <= o && t
            }
        }, {
            key: "getColor",
            value: function(e) {
                return this._timetableService.data.timetables[e].color
            }
        }, {
            key: "isSelectedDayCurrent",
            value: function() {
                return this._timetableService.currentDay.is_current
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3426));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("t-employee-clubs", []).component("tMedicalTests", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(3427)),
        i = a(t(3428));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(3429);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            participants: "<"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="t-default t-medical-tests"  ng-repeat="test in $ctrl.arr track by test.name">\n  <h2>{{ test.name }}</h2>\n  <div class="t-default__header t-medical-tests__header">\n    <div class="t-default__col t-medical-tests__col _name">\n      <span class="t-default__title t-medical-tests__title _sortable"\n            ng-class="{ _reverse: test.reverse.scheduled }"\n            ng-click="$ctrl.sort([\'scheduled\'], $ctrl.compareDates, test)"\n      >Date</span>\n    </div>\n    <div class="t-default__col t-medical-tests__col _location">\n      <span class="t-default__title t-medical-tests__title _sortable"\n            ng-class="{ _reverse: test.reverse.result }"\n            ng-click="$ctrl.sort([\'result\'], null, test)"\n      >Result</span>\n    </div>\n  </div>\n\n  <div class="t-default__body t-medical-tests__body">\n    <div class="t-default__row t-medical-tests__row"\n         ng-repeat="test in test.requests track by test.id"\n    >\n        <div class="t-default__col t-medical-tests__col _name">\n            Date:\n            {{ test.scheduled_new }}\n        </div>\n        <div class="t-default__col t-medical-tests__col _location">\n            <div class="t-default__title-mobile t-medical-tests__title-mobile">Result:</div>\n            <span ng-if="test.result">{{ test.result }}</span>\n            <button  ng-if="!test.result"\n                     type="button"\n                     class="btn btn-default _small"\n                     style="padding: 2px;"\n                     ng-click="$ctrl.openSubmitResultModal(test)"\n            >Submit Result</button>\n        </div>\n    </div>\n  </div>\n</div>\n\n\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(10)),
        i = s(t(1)),
        a = s(t(2));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = function() {
        function e(t, n, a) {
            "ngInject";
            (0, i.default)(this, e), this._modalDefaultService = t, this._sortDataService = n, this.arr = [], this.reverse = {}, this._$scope = a
        }
        return e.$inject = ["modalDefaultService", "sortDataService", "$scope"], (0, a.default)(e, [{
            key: "$onInit",
            value: function() {
                var e = this;
                this.update(), this._$scope.$watch(function() {
                    return e.participants
                }, function() {
                    return e.update()
                })
            }
        }, {
            key: "sort",
            value: function(e, t, n) {
                n.requests = this._sortDataService.sortBy(n.requests, e, n.reverse, t)
            }
        }, {
            key: "formatDate",
            value: function(e, t) {
                return moment(e).format(t)
            }
        }, {
            key: "compareDates",
            value: function(e, t) {
                return new Date(e.value) - new Date(t.value)
            }
        }, {
            key: "update",
            value: function() {
                var e = this;
                this.arr = (this.participants || []).map(function(t) {
                    return {
                        name: t.name,
                        id: t.id,
                        reverse: {},
                        requests: t.requests.map(function(i) {
                            return (0, n.default)({}, i, {
                                scheduled_new: e.formatDate(i.scheduled, "H:mm a dddd, D MMMM"),
                                name: t.name
                            })
                        })
                    }
                })
            }
        }, {
            key: "openSubmitResultModal",
            value: function(e) {
                var t = this,
                    n = {
                        data: e,
                        update: function() {
                            t.update.bind(t)()
                        }
                    };
                this._modalDefaultService.showModalWithTemplates("modal-medical-test-submit", n, "Submit medical test")
            }
        }]), e
    }();
    exports.default = r
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3431));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("t-time-test", []).component("tTimeTest", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(3432)),
        i = a(t(3433));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(3434);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            dates: "<",
            onRemove: "&?",
            onSelect: "&?"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="t-default t-club-dates _table-mobile">\n  <div class="t-default__header t-club-dates__header">\n    <div class="t-default__col t-club-dates__col _date">\n      <span class="t-default__title t-club-dates__title">Date</span>\n    </div>\n    <div class="t-default__col t-club-dates__col _remove" ng-if="$ctrl.onRemove">\n      <span class="t-default__title t-club-dates__title"></span>\n    </div>\n  </div>\n\n  <div class="t-default__body t-club-dates__body">\n    <div class="t-default__row t-club-dates__row"\n         ng-class="{ _pointer: $ctrl.onSelect }"\n         ng-click="$ctrl.onSelect({ data: $index })"\n         ng-repeat="date in $ctrl.dates track by $index"\n    >\n      <div class="t-default__col t-club-dates__col _date">\n\n        {{ ::$ctrl._clubsService.formatDate(date, \'dddd, D MMMM HH:mm\') }}\n\n      </div>\n      <div class="t-default__col t-club-dates__col _remove" ng-if="$ctrl.onRemove">\n        <button type="button" class="t-club-dates__btn-remove"\n                ng-disabled="date.attendance_recorded"\n                ng-click="$ctrl.onRemove({index: $index})"\n        >\n          <svg-use name="trash"></svg-use>\n        </button>\n      </div>\n    </div>\n    <div class="t-default__row t-club-dates__row _empty" ng-if="!$ctrl.dates.length">\n      No reserved dates.\n    </div>\n  </div>\n</div>\n\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(1),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    var s = function e(t, n) {
        "ngInject";
        (0, a.default)(this, e), this._clubsService = t, this._userService = n
    };
    s.$inject = ["clubsService", "userService"], exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3436));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("app.buttons", [i.default]).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3437));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("btn-tree-state", []).component("btnTreeState", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(3438)),
        i = a(t(3439));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t(3440);
    var s = {
        template: n.default,
        controller: i.default,
        bindings: {
            value: "=",
            data: "<",
            onChange: "&?"
        }
    };
    exports.default = s
}, function(e, exports) {
    e.exports = '<div class="btn-tree-state">\n  <button type="button" class="btn-tree-state__item _yes"\n         ng-class="{ _active: $ctrl.value === true }"\n         ng-click="$ctrl.onClick(true)"\n  >YES</button>\n  <button type="button" class="btn-tree-state__item _na"\n         ng-class="{ _active: $ctrl.value !== true && $ctrl.value !== false }"\n         ng-click="$ctrl.onClick(null)"\n  >N/A</button>\n  <button type="button" class="btn-tree-state__item _no"\n         ng-class="{ _active: $ctrl.value === false }"\n         ng-click="$ctrl.onClick(false)"\n  >NO</button>\n</div>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e() {
            "ngInject";
            (0, n.default)(this, e)
        }
        return (0, i.default)(e, [{
            key: "onClick",
            value: function(e) {
                this.onChange ? this.onChange({
                    newValue: e,
                    data: this.data
                }) : this.value = e
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports) {}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(0)),
        i = s(t(3442)),
        a = s(t(3443));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = n.default.module("app.factories", []).factory({
        requestFactory: i.default
    }).factory({
        requestErrorFactory: a.default
    }).name;
    exports.default = r
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), exports.default = ["$q", "$http", "requestErrorFactory", function(e, t, n) {
        "ngInject";
        var i = function(t) {
                return e(function(e, n) {
                    n(t)
                })
            },
            a = function(e, a, s, r) {
                return t[e](a, s, r).catch(function(e) {
                    var t = n.handleErrorCode(e.status, a),
                        r = e.status,
                        o = e.xhrStatus;
                    return i({
                        status: r,
                        xhrStatus: o,
                        message: t,
                        request: s
                    })
                }).then(function(e) {
                    var t = e.data;
                    if (t && (t.result && !t.result.success || t.error)) {
                        var n = t.result ? t.result.error : t.error.message;
                        return i({
                            message: n,
                            request: t
                        })
                    }
                    return e.data
                })
            };
        return {
            get: function(e, t) {
                return a("get", e, t)
            },
            post: function(e, t, n) {
                return a("post", e, t, n)
            },
            jsonp: function(e, t) {
                return a("post", e, t)
            }
        }
    }]
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), exports.default = ["$state", "$log", function(e, t) {
        "ngInject";
        var n = {
                401: "You are not logged in",
                404: "Page not found or internet connection is lost",
                999: "Unknown error"
            },
            i = {
                401: function() {
                    return e.go("login"), n[401]
                },
                404: function() {
                    return n[404]
                },
                999: function() {
                    return n[999]
                }
            };

        function a(e, n) {
            var a = "";
            return angular.isNumber(e) ? 0 === e && n ? a = "Unable to contact server " + n : angular.isDefined(i[e]) && (a = i[e](), t.error(a)) : a = i[999](), a
        }

        function s(e) {
            var t = function(e) {
                for (var t in n)
                    if (n[t] === e) return parseInt(t, 10);
                return null
            }(e);
            return !angular.isNumber(t) && e ? e : a(t) || e
        }
        return {
            handleErrorCode: function(e) {
                return a(e, arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "")
            },
            handleErrorMessage: function(e) {
                return "No authtoken supplied" === e && (e = n[401]), s(e)
            }
        }
    }]
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = v(t(0)),
        i = v(t(3445)),
        a = v(t(3446)),
        s = v(t(3447)),
        r = v(t(3448)),
        o = v(t(3449)),
        l = v(t(3450)),
        c = v(t(3451)),
        d = v(t(3452)),
        u = v(t(3453)),
        _ = v(t(3454)),
        f = v(t(3455));

    function v(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var m = n.default.module("app.filters", []).filter({
        achievementActivityFilter: i.default
    }).filter({
        awardFilter: a.default
    }).filter({
        behaviourAction: s.default
    }).filter({
        behaviourStatus: r.default
    }).filter({
        behaviourTeacher: o.default
    }).filter({
        behaviourTypes: l.default
    }).filter({
        locationFilter: c.default
    }).filter({
        yearGroupIdFilter: d.default
    }).filter({
        fullName: u.default
    }).filter({
        removeNumber: _.default
    }).filter({
        yearGroup: f.default
    }).name;
    exports.default = m
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), exports.default = ["defaultDataConstants", function(e) {
        "ngInject";
        return function(t, n) {
            var i = n.filter(function(e) {
                return parseInt(e.id, 10) === parseInt(t, 10)
            });
            return i.length ? i.pop().description : e.noDataString
        }
    }]
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), exports.default = ["defaultDataConstants", function(e) {
        "ngInject";
        return function(t, n) {
            var i = n.filter(function(e) {
                return parseInt(e.id, 10) === t
            });
            return i.length ? i.pop().name : e.noDataString
        }
    }]
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), exports.default = ["defaultDataConstants", function(e) {
        "ngInject";
        return function(t, n) {
            if (n) {
                var i = n.filter(function(e) {
                    return parseInt(e.id, 10) === t
                }).pop();
                return i ? i.description || i.name : e.noDataString
            }
        }
    }]
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), exports.default = ["defaultDataConstants", function(e) {
        "ngInject";
        return function(t, n) {
            if (n) {
                var i = n.filter(function(e) {
                    return parseInt(e.id, 10) === t
                });
                return i.length ? i.pop().name : e.noDataString
            }
        }
    }]
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), exports.default = ["defaultDataConstants", function(e) {
        "ngInject";
        return function(t, n) {
            if (n) {
                var i = n.filter(function(e) {
                    return parseInt(e.id, 10) === parseInt(t, 10)
                }).pop();
                return i ? i.title + " " + i.forename + " " + i.surname : e.noDataString
            }
        }
    }]
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), exports.default = ["defaultDataConstants", function(e) {
        "ngInject";
        return function(t, n) {
            if (n) {
                var i = n.filter(function(e) {
                    return parseInt(e.id, 10) === t
                });
                return i.length ? i.pop().description : e.noDataString
            }
        }
    }]
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), exports.default = ["defaultDataConstants", function(e) {
        "ngInject";
        return function(t, n) {
            if (n) {
                var i = n.filter(function(e) {
                    return parseInt(e.id, 10) === parseInt(t, 10)
                });
                return i.length ? i.pop().name : e.noDataString
            }
        }
    }]
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), exports.default = ["establishmentService", "defaultDataConstants", function(e, t) {
        "ngInject";
        return function(n, i) {
            if ("year" === i) {
                var a = e.establishment.year_groups.find(function(e) {
                    return e.id === n
                });
                return a ? a.name : t.noDataString
            }
            if ("form" === i) {
                var s = e.establishment.form_groups.find(function(e) {
                    return e.id === n
                });
                return s ? s.name : t.noDataString
            }
        }
    }]
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), exports.default = function() {
        "ngInject";
        return function(e, t) {
            var n = [],
                i = t.split(" ");
            i.forEach(function(e, t) {
                i[t] = "(?=.*" + e + ")"
            }), i.push(".*");
            for (var a = new RegExp(i.join(""), "i"), s = 0, r = e.length; s < r; s++) null !== e[s].fullName.match(a) && n.push(e[s]);
            return n
        }
    }
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), exports.default = function() {
        "ngInject";
        return function(e) {
            return e.indexOf(":") < 0 ? e.toUpperCase() : e.slice(e.indexOf(":") + 1).toUpperCase()
        }
    }
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(43));
    exports.default = function() {
        "ngInject";
        return function(e, t) {
            return null === t ? e : (t = function(e) {
                for (var t in e) t && !e[t] && (0, n.default)(e, t);
                return e
            }(t), (0, i.default)(e, t))
        }
    };
    var i = a(t(3456));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
}, , function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = Z(t(0)),
        i = Z(t(3458)),
        a = Z(t(3505)),
        s = Z(t(3506)),
        r = Z(t(3507)),
        o = Z(t(3508)),
        l = Z(t(3509)),
        c = Z(t(3510)),
        d = Z(t(3511)),
        u = Z(t(3512)),
        _ = Z(t(3513)),
        f = Z(t(3514)),
        v = Z(t(3515)),
        m = Z(t(3516)),
        h = Z(t(3517)),
        p = Z(t(3518)),
        g = Z(t(3519)),
        b = Z(t(3523)),
        S = Z(t(3524)),
        y = Z(t(3525)),
        k = Z(t(3526)),
        M = Z(t(3527)),
        w = Z(t(3528)),
        D = Z(t(3529)),
        T = Z(t(3544)),
        C = Z(t(3545)),
        P = Z(t(3546)),
        L = Z(t(3547)),
        x = Z(t(3548)),
        j = Z(t(3549)),
        I = Z(t(3550)),
        A = Z(t(3551)),
        E = Z(t(3552)),
        O = Z(t(3553)),
        F = Z(t(3554)),
        N = Z(t(3555)),
        R = Z(t(3556)),
        Y = Z(t(3557)),
        B = Z(t(3558)),
        H = Z(t(3559)),
        q = Z(t(3560)),
        W = Z(t(3561)),
        V = Z(t(3562)),
        z = Z(t(3563)),
        G = Z(t(3564)),
        U = Z(t(3567)),
        J = Z(t(3568)),
        Q = Z(t(3569)),
        K = Z(t(3570));

    function Z(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var X = n.default.module("app.services", []).service({
        requestService: i.default
    }).service({
        analyticsService: s.default
    }).service({
        additionalMenuParamsService: r.default
    }).service({
        absenceService: a.default
    }).service({
        AssessmentService: o.default
    }).service({
        attachmentsService: l.default
    }).service({
        attendanceService: c.default
    }).service({
        autocompleteService: d.default
    }).service({
        behaviourDataService: u.default
    }).service({
        blockedTransitionService: _.default
    }).service({
        calloutOverviewService: f.default
    }).service({
        clubAttendanceOverviewService: v.default
    }).service({
        communicatorDataService: h.default
    }).service({
        configService: m.default
    }).service({
        contactsDataService: p.default
    }).service({
        dataCollectionService: g.default
    }).service({
        dateService: b.default
    }).service({
        detectDeviceService: S.default
    }).service({
        documentAccessReportService: y.default
    }).service({
        educationalsService: k.default
    }).service({
        examsService: M.default
    }).service({
        externalLinksService: w.default
    }).service({
        fastClickService: D.default
    }).service({
        formsService: T.default
    }).service({
        graphsService: C.default
    }).service({
        groupsService: P.default
    }).service({
        homeworkOverviewService: L.default
    }).service({
        iCalendarsService: x.default
    }).service({
        listenerBackgroundService: j.default
    }).service({
        logoutService: I.default
    }).service({
        medicalDataService: A.default
    }).service({
        medicalTestDataService: K.default
    }).service({
        menuService: E.default
    }).service({
        navigationService: O.default
    }).service({
        noticeboardService: F.default
    }).service({
        notificationService: N.default
    }).service({
        paymentsService: R.default
    }).service({
        personalDataService: Y.default
    }).service({
        restoreService: q.default
    }).service({
        seatingPlanService: W.default
    }).service({
        selectsService: V.default
    }).service({
        senDataService: B.default
    }).service({
        sortDataService: H.default
    }).service({
        statusService: z.default
    }).service({
        colorService: G.default
    }).service({
        templatesService: U.default
    }).service({
        childProtectionService: J.default
    }).service({
        calloutService: Q.default
    }).name;
    exports.default = X
}, function(e, exports, t) {
    "use strict";
    (function($) {
        Object.defineProperty(exports, "__esModule", {
            value: !0
        });
        var e = B(t(1)),
            n = B(t(2)),
            i = B(t(198)),
            a = B(t(3459)),
            s = B(t(3469)),
            r = B(t(3470)),
            o = B(t(3471)),
            l = B(t(3472)),
            c = B(t(3473)),
            d = B(t(3474)),
            u = B(t(3475)),
            _ = B(t(3476)),
            f = B(t(3477)),
            v = B(t(3478)),
            m = B(t(3479)),
            h = B(t(3480)),
            p = B(t(3481)),
            g = B(t(3482)),
            b = B(t(3483)),
            S = B(t(3484)),
            y = B(t(3485)),
            k = B(t(3486)),
            M = B(t(3487)),
            w = B(t(3488)),
            D = B(t(3489)),
            T = B(t(3490)),
            C = B(t(3491)),
            P = B(t(3492)),
            L = B(t(3493)),
            x = B(t(3494)),
            j = B(t(3495)),
            I = B(t(3496)),
            A = B(t(3497)),
            E = B(t(3498)),
            O = B(t(3500)),
            F = B(t(3501)),
            N = B(t(3502)),
            R = B(t(3503)),
            Y = B(t(3504));

        function B(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        var H = function() {
            function t(n, i, a, s, r, o, l, c) {
                "ngInject";
                (0, e.default)(this, t), this._requestErrorFactory = o, this._DOMElementsService = s, this._requestFactory = n, this._$q = i, this._$log = a, this._$timeout = r, this._notificationService = c, this.storage = l.sessionStorage, this.loaders = 0, this.networkErrorTicking = !1, this.initValues(), this.initClasses()
            }
            return t.$inject = ["requestFactory", "$q", "$log", "DOMElementsService", "$timeout", "requestErrorFactory", "$storageService", "notificationService"], (0, n.default)(t, [{
                key: "handleErrorCode",
                value: function(e) {
                    var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "";
                    return this._requestErrorFactory.handleErrorCode(e, t)
                }
            }, {
                key: "handleErrorMessage",
                value: function(e) {
                    return this._requestErrorFactory.handleErrorMessage(e)
                }
            }, {
                key: "initClasses",
                value: function() {
                    this.classes = {
                        absence: this.createClass(a.default),
                        assessment: this.createClass(s.default),
                        attendance: this.createClass(r.default),
                        behaviour: this.createClass(o.default),
                        calendar: this.createClass(l.default),
                        callout: this.createClass(c.default),
                        catering: this.createClass(d.default),
                        child_protection: this.createClass(u.default),
                        clubs: this.createClass(_.default),
                        marksheets: this.createClass(w.default),
                        contacts: this.createClass(f.default),
                        dataCollection: this.createClass(v.default),
                        detentions: this.createClass(m.default),
                        documents: this.createClass(h.default),
                        documents_message: this.createClass(p.default),
                        exams: this.createClass(g.default),
                        externalLinks: this.createClass(b.default),
                        forms: this.createClass(S.default),
                        homework: this.createClass(y.default),
                        iCalendars: this.createClass(k.default),
                        learners: this.createClass(M.default),
                        medical: this.createClass(D.default),
                        medicaltest: this.createClass(T.default),
                        messages: this.createClass(C.default),
                        noticeboard: this.createClass(P.default),
                        other: this.createClass(L.default),
                        personal: this.createClass(x.default),
                        profiles: this.createClass(j.default),
                        registers: this.createClass(I.default),
                        resourceBooking: this.createClass(A.default),
                        schoolCode: this.createClass(E.default),
                        seatingPlan: this.createClass(O.default),
                        sen: this.createClass(F.default),
                        teachers: this.createClass(N.default),
                        templates: this.createClass(R.default),
                        timetable: this.createClass(Y.default),
                        request: this.createClass(i.default),
                        initial: {
                            url: null
                        }
                    }
                }
            }, {
                key: "register",
                value: function(e, t) {
                    this.classes[e] = this.createClass(t), this.classes[e].url = this.classes.initial.url
                }
            }, {
                key: "initValues",
                value: function(e) {
                    this.data && !e || (this.data = {
                        authtoken: null,
                        isDemoMode: !1
                    })
                }
            }, {
                key: "setUrlForMainApi",
                value: function(e) {
                    for (var t in "https://dapi.edulinkone.com:12301/api/" === e && (e = "https://demo.edulinkone.com/api/"), this.classes) t && "schoolCode" !== t && this.classes[t] && (this.classes[t].url = e);
                    this.classes.initial.url = e
                }
            }, {
                key: "updateIsDemoModeFromStorage",
                value: function() {
                    this.data.isDemoMode = this.storage.get("demoMode")
                }
            }, {
                key: "generateRejectResponse",
                value: function(e) {
                    return new this._$q(function(t, n) {
                        n(e)
                    })
                }
            }, {
                key: "generateResolveResponse",
                value: function(e) {
                    return new this._$q(function(t) {
                        t(e)
                    })
                }
            }, {
                key: "createClass",
                value: function(e) {
                    return new e(this._requestFactory, this._$q)
                }
            }, {
                key: "getDataFromDefaultRequest",
                value: function(e, t, n) {
                    var i = this,
                        a = this.data.isDemoMode;
                    if (!(e = this.classes[e])) return this.classes.request.generateErrorResponse();
                    var s = e.data[t] && !e.data[t].isNotPreloader;
                    return s && this.addPreloader(), e.getData(t, n, a).then(function(e, t, n) {
                        return s && i.removePreloader(), {
                            data: e,
                            meta: n
                        }
                    }).catch(function(e) {
                        return s && i.removePreloader(), i.classes.request.generateErrorResponse(e)
                    })
                }
            }, {
                key: "addPreloader",
                value: function() {
                    this.loaders += 1, this._DOMElementsService.HTML.addClass("_preloader-enter")
                }
            }, {
                key: "removePreloader",
                value: function() {
                    var e = this;
                    this.loaders -= 1, 0 === this.loaders && (this._DOMElementsService.HTML.removeClass("_preloader-enter").addClass("_preloader-leave"), this._$timeout(function() {
                        return e._DOMElementsService.HTML.removeClass("_preloader-leave")
                    }, 1300))
                }
            }, {
                key: "getData",
                value: function(e, t) {
                    var n = this,
                        i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};
                    return this.data.authtoken && (i = $.extend({}, i, {
                        authtoken: this.data.authtoken
                    })), this.getDataFromDefaultRequest(e, t, i).then(function(e) {
                        var t = e.data;
                        return angular.isString(t) && (t = angular.fromJson(t)), angular.isUndefined(t.result && t.result.success) || t.result.success ? t.result : (i.authtoken = "[FILTERED]", n.classes.request.generateErrorResponse({
                            message: t.result.error,
                            data: t.result,
                            status: e.meta.status,
                            request: i
                        }))
                    }).catch(function(e) {
                        return n.handleError(e, t)
                    })
                }
            }, {
                key: "handleError",
                value: function(e, t) {
                    var n = this;
                    if (!e.data || "EduLink.FCMTokenUpdate" !== e.data.method) return navigator.onLine ? (e.code ? e.message = this.handleErrorCode(e.code) : e.message && (e.message = this.handleErrorMessage(e.message)), 401 === e.code && this._notificationService.showErrorNotification(e.message), this.classes.request.generateErrorResponse(e).catch(function(e) {
                        return e.request = e.request ? e.request : {}, e.request.result || -1 !== e.status ? e.request.result && -1 === ["EduLink.SchoolDetails", "EduLink.Status", "EduLink.FCMTokenUpdate"].indexOf(e.request.result.method) && n._notificationService.showErrorNotification(e.message, void 0, e) : "timeout" === e.xhrStatus ? n._notificationService.showErrorNotification("Request timed out") : n._notificationService.showErrorNotification("Network connection error"), n._$q.reject(e)
                    })) : this.handleNetworkError(e, t)
                }
            }, {
                key: "handleNetworkError",
                value: function(e, t) {
                    var n = this;
                    return "status" !== t && (this.networkErrorTicking || (this.networkErrorTicking = !0, this._notificationService.showErrorNotification("Internet disconnected", "Network error"), this._$timeout(function() {
                        n.networkErrorTicking = !1
                    }, 1e4))), this.classes.request.generateErrorResponse(e)
                }
            }, {
                key: "getDateToRequest",
                value: function(e) {
                    var t = e && new Date(e) || new Date;
                    return t.getFullYear() + "-" + (1 === (t.getMonth() + 1).toString().length ? "0" + (t.getMonth() + 1).toString() : t.getMonth() + 1) + "-" + (1 === t.getDate().toString().length ? "0" + t.getDate().toString() : t.getDate())
                }
            }, {
                key: "isDemoMode",
                set: function(e) {
                    this.storage.set("demoMode", !!e), this.data.isDemoMode = e
                },
                get: function() {
                    return this.data.isDemoMode
                }
            }, {
                key: "authtoken",
                set: function(e) {
                    this.data.authtoken = e
                },
                get: function() {
                    return this.data.authtoken
                }
            }]), t
        }();
        exports.default = H
    }).call(exports, t(22))
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = o(t(6)),
        i = o(t(1)),
        a = o(t(2)),
        s = o(t(7)),
        r = o(t(8));

    function o(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var l = function(e) {
        function t(e, a) {
            (0, i.default)(this, t);
            var r = (0, s.default)(this, (t.__proto__ || (0, n.default)(t)).call(this, e, a));
            return r.initValues(), r
        }
        return (0, r.default)(t, e), (0, a.default)(t, [{
            key: "initValues",
            value: function(e) {
                this.data && !e || (this.exception = {
                    name: "Class AbsenceRequest"
                }, this.data = {
                    send_report: {
                        methodName: "ReportLearnerAbsence",
                        method: "post"
                    },
                    absence_management: {
                        methodName: "AbsenceManagement",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.AbsenceManagement.json"
                    },
                    absence_management_log_activity: {
                        methodName: "AbsenceManagementLogActivity",
                        method: "post"
                    },
                    absence_management_contact: {
                        methodName: "AbsenceManagementContact",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.AbsenceManagementContact.json"
                    },
                    absence_register_missing: {
                        methodName: "RegistersMissing",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.RegistersMissing.json"
                    }
                })
            }
        }]), t
    }(o(t(17)).default);
    exports.default = l
}, , , , , , , , , , function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = o(t(6)),
        i = o(t(1)),
        a = o(t(2)),
        s = o(t(7)),
        r = o(t(8));

    function o(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var l = function(e) {
        function t(e, a) {
            (0, i.default)(this, t);
            var r = (0, s.default)(this, (t.__proto__ || (0, n.default)(t)).call(this, e, a));
            return r.initValues(), r
        }
        return (0, r.default)(t, e), (0, a.default)(t, [{
            key: "initValues",
            value: function(e) {
                this.data && !e || (this.exception = {
                    name: "Class AssessmentRequest"
                }, this.data = {
                    assessment_grids: {
                        methodName: "AssessmentGrids",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.AssessmentGrids.json"
                    }
                })
            }
        }]), t
    }(o(t(17)).default);
    exports.default = l
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = o(t(6)),
        i = o(t(1)),
        a = o(t(2)),
        s = o(t(7)),
        r = o(t(8));

    function o(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var l = function(e) {
        function t(e, a) {
            (0, i.default)(this, t);
            var r = (0, s.default)(this, (t.__proto__ || (0, n.default)(t)).call(this, e, a));
            return r.initValues(), r
        }
        return (0, r.default)(t, e), (0, a.default)(t, [{
            key: "initValues",
            value: function(e) {
                this.data && !e || (this.exception = {
                    name: "Class AttendanceRequest"
                }, this.data = {
                    attendance: {
                        methodName: "Attendance",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.Attendance.json"
                    }
                })
            }
        }]), t
    }(o(t(17)).default);
    exports.default = l
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = o(t(6)),
        i = o(t(1)),
        a = o(t(2)),
        s = o(t(7)),
        r = o(t(8));

    function o(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var l = function(e) {
        function t(e, a) {
            (0, i.default)(this, t);
            var r = (0, s.default)(this, (t.__proto__ || (0, n.default)(t)).call(this, e, a));
            return r.initValues(), r
        }
        return (0, r.default)(t, e), (0, a.default)(t, [{
            key: "initValues",
            value: function(e) {
                this.data && !e || (this.exception = {
                    name: "Class BehaviourRequest"
                }, this.data = {
                    behaviour_input: {
                        methodName: "AchievementBehaviourLookups",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.AchievementBehaviourLookups.json"
                    },
                    behaviour_data: {
                        methodName: "Behaviour",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.Behaviour.json"
                    },
                    behaviour_write: {
                        methodName: "BehaviourWrite",
                        method: "post",
                        timeout: 12e4,
                        url: "./jsons/EduLink/EduLink.BehaviourWrite.json"
                    },
                    achievement_data: {
                        methodName: "Achievement",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.Achievement.json"
                    },
                    achievement_write: {
                        methodName: "AchievementWrite",
                        method: "post",
                        timeout: 12e4,
                        url: "./jsons/EduLink/EduLink.AchievementWrite.json"
                    }
                })
            }
        }]), t
    }(o(t(17)).default);
    exports.default = l
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = o(t(6)),
        i = o(t(1)),
        a = o(t(2)),
        s = o(t(7)),
        r = o(t(8));

    function o(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var l = function(e) {
        function t(e, a) {
            (0, i.default)(this, t);
            var r = (0, s.default)(this, (t.__proto__ || (0, n.default)(t)).call(this, e, a));
            return r.initValues(), r
        }
        return (0, r.default)(t, e), (0, a.default)(t, [{
            key: "initValues",
            value: function(e) {
                this.data && !e || (this.exception = {
                    name: "Class CalendarRequest"
                }, this.data = {
                    calendarGet: {
                        methodName: "Calendar",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.Calendar.json"
                    },
                    calendarEventCreate: {
                        methodName: "CalendarEventCreate",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.CalendarEventCreate.json"
                    },
                    calendarEventDelete: {
                        methodName: "CalendarEventDelete",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.CalendarEventDelete.json"
                    }
                })
            }
        }]), t
    }(o(t(17)).default);
    exports.default = l
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = o(t(6)),
        i = o(t(1)),
        a = o(t(2)),
        s = o(t(7)),
        r = o(t(8));

    function o(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var l = function(e) {
        function t(e, a) {
            (0, i.default)(this, t);
            var r = (0, s.default)(this, (t.__proto__ || (0, n.default)(t)).call(this, e, a));
            return r.initValues(), r
        }
        return (0, r.default)(t, e), (0, a.default)(t, [{
            key: "initValues",
            value: function(e) {
                this.data && !e || (this.exception = {
                    name: "Class CalloutRequest"
                }, this.data = {
                    employee_callouts: {
                        methodName: "EmployeeCallouts",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.EmployeeCallouts.json"
                    },
                    employee_callout_create: {
                        methodName: "EmployeeCalloutCreate",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.EmployeeCalloutCreate.json"
                    },
                    employee_callout_attending: {
                        methodName: "EmployeeCalloutAttending",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.EmployeeCalloutAttending.json"
                    },
                    employee_callout_overview: {
                        methodName: "EmployeeCalloutOverview",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.EmployeeCalloutOverview.json"
                    },
                    club_attendance_overview: {
                        methodName: "ClubAttendanceOverview",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.ClubAttendanceOverview.json"
                    }
                })
            }
        }]), t
    }(o(t(17)).default);
    exports.default = l
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = o(t(6)),
        i = o(t(1)),
        a = o(t(2)),
        s = o(t(7)),
        r = o(t(8));

    function o(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var l = function(e) {
        function t(e, a) {
            (0, i.default)(this, t);
            var r = (0, s.default)(this, (t.__proto__ || (0, n.default)(t)).call(this, e, a));
            return r.initValues(), r
        }
        return (0, r.default)(t, e), (0, a.default)(t, [{
            key: "initValues",
            value: function(e) {
                this.data && !e || (this.exception = {
                    name: "Class CateringRequest"
                }, this.data = {
                    catering: {
                        methodName: "Catering",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.Catering.json"
                    }
                })
            }
        }]), t
    }(o(t(17)).default);
    exports.default = l
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = o(t(6)),
        i = o(t(1)),
        a = o(t(2)),
        s = o(t(7)),
        r = o(t(8));

    function o(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var l = function(e) {
        function t(e, a) {
            (0, i.default)(this, t);
            var r = (0, s.default)(this, (t.__proto__ || (0, n.default)(t)).call(this, e, a));
            return r.initValues(), r
        }
        return (0, r.default)(t, e), (0, a.default)(t, [{
            key: "initValues",
            value: function(e) {
                this.data && !e || (this.exception = {
                    name: "Class ChildProtectionRequest"
                }, this.data = {
                    child_protection_referrals_from_me: {
                        methodName: "ChildProtectionReferralsFromMe",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.ChildProtectionReferralsFromMe.json"
                    },
                    child_protection_referrals_log: {
                        methodName: "ChildProtectionReferralsLog",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.ChildProtectionReferralsLog.json"
                    },
                    child_protection_referrals: {
                        methodName: "ChildProtectionReferrals",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.ChildProtectionReferrals.json"
                    },
                    child_protection_referral: {
                        methodName: "ChildProtectionReferral",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.ChildProtectionReferral.json"
                    },
                    child_protection_referral_update: {
                        methodName: "ChildProtectionReferralUpdate",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.ChildProtectionReferralUpdate.json"
                    },
                    child_protection_referral_add: {
                        methodName: "ChildProtectionReferralAdd",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.ChildProtectionReferralAdd.json"
                    },
                    child_protection_referral_status_add: {
                        methodName: "ChildProtectionReferralStatusAdd",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.ChildProtectionReferralStatusAdd.json"
                    },
                    child_protection_referral_status_delete: {
                        methodName: "ChildProtectionReferralStatusDelete",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.ChildProtectionReferralStatusDelete.json"
                    },
                    child_protection_referral_pdf: {
                        methodName: "ChildProtectionReferralPDF",
                        method: "post"
                    }
                })
            }
        }]), t
    }(o(t(17)).default);
    exports.default = l
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = o(t(6)),
        i = o(t(1)),
        a = o(t(2)),
        s = o(t(7)),
        r = o(t(8));

    function o(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var l = function(e) {
        function t(e, a) {
            (0, i.default)(this, t);
            var r = (0, s.default)(this, (t.__proto__ || (0, n.default)(t)).call(this, e, a));
            return r.initValues(), r
        }
        return (0, r.default)(t, e), (0, a.default)(t, [{
            key: "initValues",
            value: function(e) {
                this.data && !e || (this.exception = {
                    name: "Class Clubs"
                }, this.data = {
                    clubs: {
                        methodName: "Clubs",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.Clubs.json"
                    },
                    club: {
                        methodName: "Club",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.Club.json"
                    },
                    clubCreate: {
                        methodName: "ClubCreate",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.ClubCreate.json"
                    },
                    clubUpdate: {
                        methodName: "ClubUpdate",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.ClubUpdate.json"
                    },
                    clubAttending: {
                        methodName: "ClubAttending",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.ClubAttending.json"
                    },
                    clubSessionAttendance: {
                        methodName: "ClubSessionAttendance",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.ClubSessionAttendance.json"
                    },
                    clubSessionAttendanceUpdate: {
                        methodName: "ClubSessionAttendanceUpdate",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.ClubSessionAttendanceUpdate.json"
                    },
                    clubDelete: {
                        methodName: "ClubDelete",
                        method: "post"
                    },
                    clubAttendanceExport: {
                        methodName: "ClubAttendanceExport",
                        method: "post"
                    }
                })
            }
        }]), t
    }(o(t(17)).default);
    exports.default = l
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = o(t(6)),
        i = o(t(1)),
        a = o(t(2)),
        s = o(t(7)),
        r = o(t(8));

    function o(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var l = function(e) {
        function t(e, a) {
            (0, i.default)(this, t);
            var r = (0, s.default)(this, (t.__proto__ || (0, n.default)(t)).call(this, e, a));
            return r.initValues(), r
        }
        return (0, r.default)(t, e), (0, a.default)(t, [{
            key: "initValues",
            value: function(e) {
                this.data && !e || (this.exception = {
                    name: "Class ContactsRequest"
                }, this.data = {
                    contacts_data: {
                        methodName: "Contacts",
                        method: "post",
                        url: "./jsons/EduLink/Contacts/type/EduLink.Contacts.json"
                    }
                })
            }
        }]), t
    }(o(t(17)).default);
    exports.default = l
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = o(t(6)),
        i = o(t(1)),
        a = o(t(2)),
        s = o(t(7)),
        r = o(t(8));

    function o(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var l = function(e) {
        function t(e, a) {
            (0, i.default)(this, t);
            var r = (0, s.default)(this, (t.__proto__ || (0, n.default)(t)).call(this, e, a));
            return r.initValues(), r
        }
        return (0, r.default)(t, e), (0, a.default)(t, [{
            key: "initValues",
            value: function(e) {
                this.data && !e || (this.exception = {
                    name: "Class DataCollectionRequest"
                }, this.data = {
                    values: {
                        methodName: "DataCollectionValues",
                        method: "post",
                        url: "./jsons/EduLink/DataCollectionValues/userType/EduLink.DataCollectionValues.json"
                    },
                    submissions: {
                        methodName: "DataCollectionSubmissions",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.DataCollectionSubmissions.json"
                    },
                    logExport: {
                        methodName: "DataCollectionLogExport",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.DataCollectionLogExport.json"
                    },
                    submission: {
                        methodName: "DataCollectionSubmission",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.DataCollectionSubmission.json"
                    },
                    lookups: {
                        methodName: "DataCollectionLookups",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.DataCollectionLookups.json"
                    },
                    manageLearner: {
                        methodName: "DataCollectionManageLearnerField",
                        method: "post"
                    },
                    manageEmployee: {
                        methodName: "DataCollectionManageEmployeeField",
                        method: "post"
                    },
                    manageContact: {
                        methodName: "DataCollectionManageContactField",
                        method: "post"
                    },
                    submitContact: {
                        methodName: "DataCollectionSubmitContact",
                        method: "post"
                    },
                    submitEmployee: {
                        methodName: "DataCollectionSubmitEmployee",
                        method: "post"
                    },
                    submitLearner: {
                        methodName: "DataCollectionSubmitLearner",
                        method: "post"
                    },
                    addressValidate: {
                        methodName: "DataCollectionAddressValidate",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.DataCollectionAddressValidate.json"
                    },
                    log: {
                        methodName: "DataCollectionLog",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.DataCollectionLog.json"
                    },
                    existingContacts: {
                        methodName: "DataCollectionExistingContacts",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.DataCollectionExistingContacts.json"
                    }
                })
            }
        }]), t
    }(o(t(17)).default);
    exports.default = l
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = o(t(6)),
        i = o(t(1)),
        a = o(t(2)),
        s = o(t(7)),
        r = o(t(8));

    function o(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var l = function(e) {
        function t(e, a) {
            (0, i.default)(this, t);
            var r = (0, s.default)(this, (t.__proto__ || (0, n.default)(t)).call(this, e, a));
            return r.initValues(), r
        }
        return (0, r.default)(t, e), (0, a.default)(t, [{
            key: "initValues",
            value: function(e) {
                this.data && !e || (this.exception = {
                    name: "Class DetentionsRequest"
                }, this.data = {
                    sessions: {
                        methodName: "DetentionSessions",
                        method: "post",
                        timeout: 12e4,
                        url: "./jsons/EduLink/EduLink.DetentionSessions.json"
                    },
                    create: {
                        methodName: "DetentionSessionCreate",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.DetentionSessionCreate.json"
                    },
                    session: {
                        methodName: "DetentionSession",
                        method: "post",
                        timeout: 12e4,
                        url: "./jsons/EduLink/EduLink.DetentionSession.json"
                    },
                    add_learner: {
                        methodName: "DetentionSessionLearnerAdd",
                        method: "post",
                        timeout: 12e4,
                        url: "./jsons/EduLink/EduLink.DetentionSessionLearnerAdd.json"
                    },
                    update_learner: {
                        methodName: "DetentionSessionLearnerUpdate",
                        method: "post",
                        timeout: 12e4,
                        url: "./jsons/EduLink/EduLink.DetentionSessionLearnerUpdate.json"
                    },
                    remove_learner: {
                        methodName: "DetentionSessionLearnerRemove",
                        method: "post",
                        timeout: 12e4,
                        url: "./jsons/EduLink/EduLink.DetentionSessionLearnerRemove.json"
                    }
                })
            }
        }]), t
    }(o(t(17)).default);
    exports.default = l
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = o(t(6)),
        i = o(t(1)),
        a = o(t(2)),
        s = o(t(7)),
        r = o(t(8));

    function o(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var l = function(e) {
        function t(e, a) {
            (0, i.default)(this, t);
            var r = (0, s.default)(this, (t.__proto__ || (0, n.default)(t)).call(this, e, a));
            return r.initValues(), r
        }
        return (0, r.default)(t, e), (0, a.default)(t, [{
            key: "initValues",
            value: function(e) {
                this.data && !e || (this.exception = {
                    name: "Class DocumentsRequest"
                }, this.data = {
                    documents_data: {
                        methodName: "Documents",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.Documents.json"
                    },
                    single_document: {
                        methodName: "Document",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.Document.json"
                    },
                    access_log: {
                        methodName: "DocumentAccessLog",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.DocumentAccessLog.json"
                    },
                    document_access_report: {
                        methodName: "DocumentAccessReport",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.DocumentAccessReport.json"
                    },
                    document_access_log: {
                        methodName: "DocumentAccessLog",
                        method: "post"
                    }
                })
            }
        }]), t
    }(o(t(17)).default);
    exports.default = l
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = o(t(6)),
        i = o(t(1)),
        a = o(t(2)),
        s = o(t(7)),
        r = o(t(8));

    function o(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var l = function(e) {
        function t(e, a) {
            (0, i.default)(this, t);
            var r = (0, s.default)(this, (t.__proto__ || (0, n.default)(t)).call(this, e, a));
            return r.initValues(), r
        }
        return (0, r.default)(t, e), (0, a.default)(t, [{
            key: "initValues",
            value: function(e) {
                this.data && !e || (this.exception = {
                    name: "Class ProfilesRequest"
                }, this.data = {
                    documents: {
                        methodName: "DocumentFind",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.DocumentFind.json"
                    },
                    document_parents: {
                        methodName: "DocumentMessageParents",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.DocumentMessageParents.json"
                    }
                })
            }
        }]), t
    }(o(t(17)).default);
    exports.default = l
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = o(t(6)),
        i = o(t(1)),
        a = o(t(2)),
        s = o(t(7)),
        r = o(t(8));

    function o(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var l = function(e) {
        function t(e, a) {
            (0, i.default)(this, t);
            var r = (0, s.default)(this, (t.__proto__ || (0, n.default)(t)).call(this, e, a));
            return r.initValues(), r
        }
        return (0, r.default)(t, e), (0, a.default)(t, [{
            key: "initValues",
            value: function(e) {
                this.data && !e || (this.exception = {
                    name: "Class ExamsRequest"
                }, this.data = {
                    exams: {
                        methodName: "Exams",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.Exams.json"
                    },
                    exam_timetable_pdf: {
                        methodName: "ExamTimetablePDF",
                        method: "post"
                    }
                })
            }
        }]), t
    }(o(t(17)).default);
    exports.default = l
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = o(t(6)),
        i = o(t(1)),
        a = o(t(2)),
        s = o(t(7)),
        r = o(t(8));

    function o(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var l = function(e) {
        function t(e, a) {
            (0, i.default)(this, t);
            var r = (0, s.default)(this, (t.__proto__ || (0, n.default)(t)).call(this, e, a));
            return r.initValues(), r
        }
        return (0, r.default)(t, e), (0, a.default)(t, [{
            key: "initValues",
            value: function(e) {
                this.data && !e || (this.exception = {
                    name: "Class ExternalLinksRequest"
                }, this.data = {
                    externalLinkFetch: {
                        methodName: "ExternalLinkFetch",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.ExternalLinksFetch.json"
                    },
                    externalLinkAdd: {
                        methodName: "ExternalLinkAdd",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.ExternalLinkAdd.json"
                    },
                    externalLinkRemove: {
                        methodName: "ExternalLinkRemove",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.ExternalLinkAdd.json"
                    },
                    externalLinks: {
                        methodName: "ExternalLinks",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.ExternalLinks.json"
                    }
                })
            }
        }]), t
    }(o(t(17)).default);
    exports.default = l
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = o(t(6)),
        i = o(t(1)),
        a = o(t(2)),
        s = o(t(7)),
        r = o(t(8));

    function o(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var l = function(e) {
        function t(e, a) {
            (0, i.default)(this, t);
            var r = (0, s.default)(this, (t.__proto__ || (0, n.default)(t)).call(this, e, a));
            return r.initValues(), r
        }
        return (0, r.default)(t, e), (0, a.default)(t, [{
            key: "initValues",
            value: function(e) {
                this.data && !e || (this.exception = {
                    name: "Class FormsRequest"
                }, this.data = {
                    form: {
                        methodName: "Form",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.Form.json"
                    },
                    form_create: {
                        methodName: "FormCreate",
                        method: "post"
                    },
                    forms: {
                        methodName: "Forms",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.Forms.json"
                    },
                    form_update: {
                        methodName: "FormUpdate",
                        method: "post"
                    },
                    form_submit: {
                        methodName: "FormSubmit",
                        method: "post"
                    },
                    form_reactivate: {
                        methodName: "FormReactivate",
                        method: "post"
                    }
                })
            }
        }]), t
    }(o(t(17)).default);
    exports.default = l
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = o(t(6)),
        i = o(t(1)),
        a = o(t(2)),
        s = o(t(7)),
        r = o(t(8));

    function o(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var l = function(e) {
        function t(e, a) {
            (0, i.default)(this, t);
            var r = (0, s.default)(this, (t.__proto__ || (0, n.default)(t)).call(this, e, a));
            return r.initValues(), r
        }
        return (0, r.default)(t, e), (0, a.default)(t, [{
            key: "initValues",
            value: function(e) {
                this.data && !e || (this.exception = {
                    name: "Class HomeworkRequest"
                }, this.data = {
                    homework: {
                        methodName: "Homework",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.Homework.json"
                    },
                    homeworkCreate: {
                        isNotPreloader: !0,
                        methodName: "HomeworkCreate",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.HomeworkCreate.json"
                    },
                    homeworkRelease: {
                        isNotPreloader: !0,
                        methodName: "HomeworkRelease",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.HomeworkRelease.json"
                    },
                    homeworkAttachmentChunkAdd: {
                        isNotPreloader: !0,
                        methodName: "HomeworkAttachmentChunkAdd",
                        method: "post"
                    },
                    homeworkAttachmentCreate: {
                        isNotPreloader: !0,
                        methodName: "HomeworkAttachmentCreate",
                        method: "post"
                    },
                    homeworkAttachmentDelete: {
                        isNotPreloader: !0,
                        methodName: "HomeworkAttachmentDelete",
                        method: "post"
                    },
                    homeworkAttachmentFetch: {
                        isNotPreloader: !0,
                        methodName: "HomeworkAttachmentFetch",
                        method: "post"
                    },
                    homeworkCompleted: {
                        isNotPreloader: !0,
                        methodName: "HomeworkCompleted",
                        method: "post"
                    },
                    homeworkUpdate: {
                        isNotPreloader: !0,
                        methodName: "HomeworkUpdate",
                        method: "post"
                    },
                    homeworkDelete: {
                        isNotPreloader: !0,
                        methodName: "HomeworkDelete",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.HomeworkDelete.json"
                    },
                    homeworkOverview: {
                        methodName: "HomeworkOverview",
                        method: "post",
                        url: "./jsons/EduLink/HomeworkOverview/homeworkOverviewState/EduLink.HomeworkOverview.json"
                    },
                    homeworkAttachmentClone: {
                        isNotPreloader: !0,
                        methodName: "HomeworkAttachmentClone",
                        method: "post"
                    },
                    homeworkIssue: {
                        methodName: "HomeworkIssue",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.HomeworkIssue.json"
                    },
                    homeworkReceived: {
                        methodName: "HomeworkReceived",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.HomeworkReceived.json"
                    },
                    homeworkDetails: {
                        methodName: "HomeworkDetails",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.HomeworkDetails.json"
                    }
                })
            }
        }]), t
    }(o(t(17)).default);
    exports.default = l
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = o(t(6)),
        i = o(t(1)),
        a = o(t(2)),
        s = o(t(7)),
        r = o(t(8));

    function o(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var l = function(e) {
        function t(e, a) {
            (0, i.default)(this, t);
            var r = (0, s.default)(this, (t.__proto__ || (0, n.default)(t)).call(this, e, a));
            return r.initValues(), r
        }
        return (0, r.default)(t, e), (0, a.default)(t, [{
            key: "initValues",
            value: function(e) {
                this.data && !e || (this.exception = {
                    name: "Class ICalendarsRequest"
                }, this.data = {
                    i_calendars: {
                        methodName: "ICalendars",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.ICalendars.json"
                    },
                    i_calendar_enable: {
                        methodName: "ICalendarEnable",
                        method: "post"
                    },
                    i_calendar_disable: {
                        methodName: "ICalendarDisable",
                        method: "post"
                    },
                    i_calendar_import_remove: {
                        methodName: "ICalendarImportRemove",
                        method: "post"
                    },
                    i_calendar_import_add: {
                        methodName: "ICalendarImportAdd",
                        method: "post"
                    }
                })
            }
        }]), t
    }(o(t(17)).default);
    exports.default = l
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = o(t(6)),
        i = o(t(1)),
        a = o(t(2)),
        s = o(t(7)),
        r = o(t(8));

    function o(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var l = function(e) {
        function t(e, a) {
            (0, i.default)(this, t);
            var r = (0, s.default)(this, (t.__proto__ || (0, n.default)(t)).call(this, e, a));
            return r.initValues(), r
        }
        return (0, r.default)(t, e), (0, a.default)(t, [{
            key: "initValues",
            value: function(e) {
                this.data && !e || (this.exception = {
                    name: "Class LearnersRequest"
                }, this.data = {
                    learners_data: {
                        methodName: "Learners",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.Learners.json"
                    },
                    learners_default: {
                        methodName: "Learners",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.Learners.json"
                    },
                    learner_photos: {
                        methodName: "LearnerPhotos",
                        method: "post",
                        isNotPreloader: !0,
                        url: "./jsons/EduLink/EduLink.LearnerPhotos.json"
                    },
                    groups: {
                        methodName: "LearnerGroups",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.Groups.json"
                    },
                    createGroup: {
                        methodName: "LearnerGroupCreate",
                        method: "post"
                    },
                    deleteGroup: {
                        methodName: "LearnerGroupDelete",
                        method: "post"
                    },
                    groupMembers: {
                        methodName: "LearnerGroupMembers",
                        method: "post"
                    },
                    editGroup: {
                        methodName: "LearnerGroupUpdate",
                        method: "post"
                    }
                })
            }
        }]), t
    }(o(t(17)).default);
    exports.default = l
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = o(t(6)),
        i = o(t(1)),
        a = o(t(2)),
        s = o(t(7)),
        r = o(t(8));

    function o(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var l = function(e) {
        function t(e, a) {
            (0, i.default)(this, t);
            var r = (0, s.default)(this, (t.__proto__ || (0, n.default)(t)).call(this, e, a));
            return r.initValues(), r
        }
        return (0, r.default)(t, e), (0, a.default)(t, [{
            key: "initValues",
            value: function(e) {
                this.data && !e || (this.exception = {
                    name: "Class MarksheetsRequest"
                }, this.data = {
                    marksheet: {
                        methodName: "Marksheet",
                        method: "post",
                        timeout: 12e4,
                        url: "./jsons/EduLink/EduLink.Marksheet.json"
                    },
                    marksheets: {
                        methodName: "Marksheets",
                        method: "post",
                        timeout: 12e4,
                        url: "./jsons/EduLink/EduLink.Marksheets.json"
                    },
                    marksheet_write: {
                        methodName: "MarksheetWrite",
                        method: "post",
                        timeout: 12e4,
                        url: "./jsons/EduLink/EduLink.MarksheetWrite.json"
                    },
                    marksheet_comment_bank: {
                        methodName: "MarksheetCommentBank",
                        method: "post",
                        timeout: 12e4,
                        url: "./jsons/EduLink/MarksheetCommentBank/type/EduLink.MarksheetCommentBank.json"
                    },
                    marksheet_comment_bank_comment_areas: {
                        methodName: "MarksheetCommentBankCommentAreas",
                        method: "post",
                        timeout: 12e4,
                        url: "./jsons/EduLink/EduLink.MarksheetCommentBankCommentAreas.json"
                    },
                    marksheet_comment_area_add: {
                        methodName: "MarksheetCommentBankCommentAreaAdd",
                        method: "post",
                        timeout: 12e4,
                        url: "./jsons/EduLink/EduLink.MarksheetCommentBankCommentAreaAdd.json"
                    },
                    marksheet_comment_area_update: {
                        methodName: "MarksheetCommentBankCommentAreaUpdate",
                        method: "post",
                        timeout: 12e4,
                        url: "./jsons/EduLink/EduLink.MarksheetCommentBankCommentAreaUpdate.json"
                    },
                    marksheet_comment_area_delete: {
                        methodName: "MarksheetCommentBankCommentAreaDelete",
                        method: "post",
                        timeout: 12e4,
                        url: "./jsons/EduLink/EduLink.MarksheetCommentBankCommentAreaDelete.json"
                    },
                    marksheet_comment_delete: {
                        methodName: "MarksheetCommentBankCommentDelete",
                        method: "post",
                        timeout: 12e4,
                        url: "./jsons/EduLink/EduLink.MarksheetCommentBankCommentDelete.json"
                    },
                    marksheet_comment_update: {
                        methodName: "MarksheetCommentBankCommentUpdate",
                        method: "post",
                        timeout: 12e4,
                        url: "./jsons/EduLink/EduLink.MarksheetCommentBankCommentUpdate.json"
                    },
                    marksheet_comment_add: {
                        methodName: "MarksheetCommentBankCommentAdd",
                        method: "post",
                        timeout: 12e4,
                        url: "./jsons/EduLink/EduLink.MarksheetCommentBankCommentAdd.json"
                    }
                })
            }
        }]), t
    }(o(t(17)).default);
    exports.default = l
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = o(t(6)),
        i = o(t(1)),
        a = o(t(2)),
        s = o(t(7)),
        r = o(t(8));

    function o(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var l = function(e) {
        function t(e, a) {
            (0, i.default)(this, t);
            var r = (0, s.default)(this, (t.__proto__ || (0, n.default)(t)).call(this, e, a));
            return r.initValues(), r
        }
        return (0, r.default)(t, e), (0, a.default)(t, [{
            key: "initValues",
            value: function(e) {
                this.data && !e || (this.exception = {
                    name: "Class MedicalRequest"
                }, this.data = {
                    medical_data: {
                        methodName: "Medical",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.Medical.json"
                    }
                })
            }
        }]), t
    }(o(t(17)).default);
    exports.default = l
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = o(t(6)),
        i = o(t(1)),
        a = o(t(2)),
        s = o(t(7)),
        r = o(t(8));

    function o(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var l = function(e) {
        function t(e, a) {
            (0, i.default)(this, t);
            var r = (0, s.default)(this, (t.__proto__ || (0, n.default)(t)).call(this, e, a));
            return r.initValues(), r
        }
        return (0, r.default)(t, e), (0, a.default)(t, [{
            key: "initValues",
            value: function(e) {
                this.data && !e || (this.exception = {
                    name: "Class MedicalTestRequest"
                }, this.data = {
                    medical_test_data: {
                        methodName: "MedicalTests",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.MedicalTests.json"
                    },
                    medical_test_dashboard: {
                        methodName: "MedicalTestDashboard",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.MedicalTestDashboard.json"
                    },
                    medical_test_submit: {
                        methodName: "MedicalTestResultSubmit",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.MedicalTests.json"
                    },
                    medical_test_submit_add: {
                        methodName: "MedicalTestAllocate",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.MedicalTestAllocate.json"
                    }
                })
            }
        }]), t
    }(o(t(17)).default);
    exports.default = l
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = o(t(6)),
        i = o(t(1)),
        a = o(t(2)),
        s = o(t(7)),
        r = o(t(8));

    function o(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var l = function(e) {
        function t(e, a) {
            (0, i.default)(this, t);
            var r = (0, s.default)(this, (t.__proto__ || (0, n.default)(t)).call(this, e, a));
            return r.initValues(), r
        }
        return (0, r.default)(t, e), (0, a.default)(t, [{
            key: "initValues",
            value: function(e) {
                this.data && !e || (this.exception = {
                    name: "Class inboxRequest"
                }, this.data = {
                    messageReply: {
                        isNotPreloader: !0,
                        methodName: "MessageReply",
                        method: "post",
                        url: "./jsons/Communicator/Communicator.MessageReply.json"
                    },
                    messageMarkRead: {
                        isNotPreloader: !0,
                        methodName: "MessageMarkRead",
                        method: "post",
                        url: "./jsons/Communicator/Communicator.MessageMarkRead.json"
                    },
                    messageMarkAllRead: {
                        isNotPreloader: !0,
                        methodName: "MessageMarkAllRead",
                        method: "post",
                        url: "./jsons/Communicator/Communicator.MessageMarkRead.json"
                    },
                    messageCreate: {
                        isNotPreloader: !0,
                        methodName: "MessageCreate",
                        method: "post",
                        url: "./jsons/Communicator/Communicator.MessageCreate.json"
                    },
                    attachmentCreate: {
                        isNotPreloader: !0,
                        methodName: "AttachmentCreate",
                        method: "post"
                    },
                    attachmentChunkAdd: {
                        isNotPreloader: !0,
                        methodName: "AttachmentChunkAdd",
                        method: "post"
                    },
                    attachmentsFinished: {
                        isNotPreloader: !0,
                        methodName: "AttachmentsFinished",
                        method: "post"
                    },
                    attachmentFetch: {
                        methodName: "AttachmentFetch",
                        method: "post"
                    },
                    messageLog: {
                        methodName: "MessageLog",
                        method: "post",
                        url: "./jsons/Communicator/Communicator.MessageLog.json"
                    },
                    smsDetails: {
                        methodName: "SMSDetails",
                        isNotPreloader: !0,
                        method: "post"
                    },
                    inbox: {
                        methodName: "Inbox",
                        method: "post",
                        url: "./jsons/Communicator/Inbox/type/Communicator.Inbox.json"
                    },
                    outbox: {
                        methodName: "Outbox",
                        method: "post",
                        url: "./jsons/Communicator/Inbox/type/Communicator.Outbox.json"
                    },
                    variables: {
                        methodName: "MessageVariables",
                        method: "post",
                        url: "./jsons/Communicator/Communicator.MessageVariables.json"
                    },
                    messageArchive: {
                        methodName: "MessageArchive",
                        method: "post"
                    },
                    messageAbort: {
                        methodName: "MessageAbort",
                        method: "post",
                        url: "./jsons/Communicator/Communicator.MessageAbort.json"
                    }
                })
            }
        }]), t
    }(o(t(469)).default);
    exports.default = l
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = o(t(6)),
        i = o(t(1)),
        a = o(t(2)),
        s = o(t(7)),
        r = o(t(8));

    function o(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var l = function(e) {
        function t(e, a) {
            (0, i.default)(this, t);
            var r = (0, s.default)(this, (t.__proto__ || (0, n.default)(t)).call(this, e, a));
            return r.initValues(), r
        }
        return (0, r.default)(t, e), (0, a.default)(t, [{
            key: "initValues",
            value: function(e) {
                this.data && !e || (this.exception = {
                    name: "Class NoticeboardRequest"
                }, this.data = {
                    noticeboard: {
                        methodName: "Noticeboard",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.Noticeboard.json"
                    },
                    noticeboard_file: {
                        methodName: "NoticeboardFile",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.NoticeboardFile.json"
                    },
                    noticeboard_snippets: {
                        methodName: "NoticeboardSnippets",
                        method: "post"
                    },
                    noticeboard_snippet_delete: {
                        methodName: "NoticeboardSnippetDelete",
                        method: "post"
                    },
                    noticeboard_snippet_add: {
                        methodName: "NoticeboardSnippetAdd",
                        method: "post"
                    },
                    noticeboard_snippet_update: {
                        methodName: "NoticeboardSnippetUpdate",
                        method: "post"
                    },
                    noticeboard_documents: {
                        methodName: "NoticeboardDocuments",
                        method: "post"
                    },
                    noticeboard_document_delete: {
                        methodName: "NoticeboardDocumentDelete",
                        method: "post"
                    },
                    noticeboard_document_add: {
                        methodName: "NoticeboardDocumentAdd",
                        method: "post"
                    },
                    noticeboard_document_chunk_add: {
                        methodName: "NoticeboardDocumentChunkAdd",
                        method: "post"
                    },
                    noticeboard_document_update: {
                        methodName: "NoticeboardDocumentUpdate",
                        method: "post"
                    },
                    noticeboard_document_folders: {
                        methodName: "NoticeboardDocumentFolders",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.NoticeboardDocumentFolders.json"
                    },
                    noticeboard_document_folder_delete: {
                        methodName: "NoticeboardDocumentFolderDelete",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.NoticeboardDocumentFolderDelete.json"
                    },
                    noticeboard_document_folder_create: {
                        methodName: "NoticeboardDocumentFolderCreate",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.NoticeboardDocumentFolderCreate.json"
                    },
                    noticeboard_document_folder_update: {
                        methodName: "NoticeboardDocumentFolderUpdate",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.NoticeboardDocumentFolderUpdate.json"
                    }
                })
            }
        }]), t
    }(o(t(17)).default);
    exports.default = l
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = o(t(6)),
        i = o(t(1)),
        a = o(t(2)),
        s = o(t(7)),
        r = o(t(8));

    function o(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var l = function(e) {
        function t(e, a) {
            (0, i.default)(this, t);
            var r = (0, s.default)(this, (t.__proto__ || (0, n.default)(t)).call(this, e, a));
            return r.initValues(), r
        }
        return (0, r.default)(t, e), (0, a.default)(t, [{
            key: "initValues",
            value: function(e) {
                this.data && !e || (this.exception = {
                    name: "Class OtherRequest"
                }, this.data = {
                    login: {
                        methodName: "Login",
                        method: "post",
                        timeout: 45e3,
                        url: "./jsons/EduLink/Login/role/EduLink.Login.json"
                    },
                    login_from_idp: {
                        methodName: "LoginFromIDP",
                        method: "post",
                        timeout: 45e3
                    },
                    login_token: {
                        methodName: "LoginToken",
                        method: "post"
                    },
                    login_from_moodle: {
                        methodName: "LoginFromMoodle",
                        method: "post",
                        timeout: 45e3
                    },
                    change_password: {
                        methodName: "PasswordUpdate",
                        method: "post"
                    },
                    logout: {
                        methodName: "Logout",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.Logout.json"
                    },
                    fcm_token_update: {
                        methodName: "FCMTokenUpdate",
                        method: "post"
                    },
                    push_test: {
                        methodName: "PushTest",
                        method: "post"
                    },
                    school_details: {
                        methodName: "SchoolDetails",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.SchoolDetails.json"
                    },
                    status: {
                        methodName: "Status",
                        method: "post",
                        isNotPreloader: !0,
                        url: "./jsons/EduLink/EduLink.Status.json"
                    },
                    ping: {
                        methodName: "Ping",
                        method: "post",
                        isNotPreloader: !0
                    },
                    user_defined_groups: {
                        methodName: "UserDefinedGroups",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.UserDefinedGroups.json"
                    },
                    password_reset_request: {
                        methodName: "PasswordResetRequest",
                        method: "post"
                    },
                    password_reset: {
                        methodName: "PasswordReset",
                        method: "post"
                    },
                    password_email_reset_request: {
                        methodName: "PasswordEmailResetRequest",
                        method: "post"
                    },
                    password_email_reset_enabled: {
                        methodName: "PasswordEmailResetEnabled",
                        method: "post"
                    },
                    third_party_ssourl: {
                        methodName: "ThirdPartySSOURL",
                        method: "post"
                    }
                })
            }
        }]), t
    }(o(t(17)).default);
    exports.default = l
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = o(t(6)),
        i = o(t(1)),
        a = o(t(2)),
        s = o(t(7)),
        r = o(t(8));

    function o(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var l = function(e) {
        function t(e, a) {
            (0, i.default)(this, t);
            var r = (0, s.default)(this, (t.__proto__ || (0, n.default)(t)).call(this, e, a));
            return r.initValues(), r
        }
        return (0, r.default)(t, e), (0, a.default)(t, [{
            key: "initValues",
            value: function(e) {
                this.data && !e || (this.exception = {
                    name: "Class PersonalRequest"
                }, this.data = {
                    personal_data: {
                        methodName: "Personal",
                        method: "post",
                        url: "./jsons/EduLink/PersonalInfo/learner/male/EduLink.Personal.json"
                    }
                })
            }
        }]), t
    }(o(t(17)).default);
    exports.default = l
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = o(t(6)),
        i = o(t(1)),
        a = o(t(2)),
        s = o(t(7)),
        r = o(t(8));

    function o(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var l = function(e) {
        function t(e, a) {
            (0, i.default)(this, t);
            var r = (0, s.default)(this, (t.__proto__ || (0, n.default)(t)).call(this, e, a));
            return r.initValues(), r
        }
        return (0, r.default)(t, e), (0, a.default)(t, [{
            key: "initValues",
            value: function(e) {
                this.data && !e || (this.exception = {
                    name: "Class ProfilesRequest"
                }, this.data = {
                    profiles_sessions: {
                        methodName: "ProfileSessions",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.ProfileSessions.json"
                    },
                    profiles_learners: {
                        methodName: "ProfileLearners",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.ProfileLearners.json"
                    },
                    profiles_session_entry: {
                        methodName: "ProfileSessionEntry",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.ProfileSessionEntry.json"
                    },
                    profiles_session_entry_write: {
                        methodName: "ProfileSessionEntryWrite",
                        method: "post",
                        timeout: 12e4,
                        url: "./jsons/EduLink/EduLink.ProfileSessionEntryWrite.json"
                    }
                })
            }
        }]), t
    }(o(t(17)).default);
    exports.default = l
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = o(t(6)),
        i = o(t(1)),
        a = o(t(2)),
        s = o(t(7)),
        r = o(t(8));

    function o(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var l = function(e) {
        function t(e, a) {
            (0, i.default)(this, t);
            var r = (0, s.default)(this, (t.__proto__ || (0, n.default)(t)).call(this, e, a));
            return r.initValues(), r
        }
        return (0, r.default)(t, e), (0, a.default)(t, [{
            key: "initValues",
            value: function(e) {
                this.data && !e || (this.exception = {
                    name: "Class RegistersRequest"
                }, this.data = {
                    register: {
                        methodName: "Register",
                        method: "post",
                        timeout: 12e4,
                        url: "./jsons/EduLink/EduLink.Register.json"
                    },
                    register_codes: {
                        methodName: "RegisterCodes",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.RegisterCodes.json"
                    },
                    registers: {
                        methodName: "Registers",
                        method: "post",
                        timeout: 12e4,
                        url: "./jsons/EduLink/EduLink.Registers.json"
                    },
                    register_write: {
                        methodName: "RegisterWrite",
                        method: "post",
                        timeout: 12e4,
                        url: "./jsons/EduLink/EduLink.RegisterWrite.json"
                    },
                    register_tag_details: {
                        methodName: "RegisterTagDetails",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.RegisterTagDetails.json"
                    },
                    report_card: {
                        methodName: "ReportCard",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.ReportCard.json"
                    },
                    report_card_update: {
                        methodName: "ReportCardUpdate",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.ReportCardUpdate.json"
                    }
                })
            }
        }]), t
    }(o(t(17)).default);
    exports.default = l
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = o(t(6)),
        i = o(t(1)),
        a = o(t(2)),
        s = o(t(7)),
        r = o(t(8));

    function o(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var l = function(e) {
        function t(e, a) {
            (0, i.default)(this, t);
            var r = (0, s.default)(this, (t.__proto__ || (0, n.default)(t)).call(this, e, a));
            return r.initValues(), r
        }
        return (0, r.default)(t, e), (0, a.default)(t, [{
            key: "initValues",
            value: function(e) {
                this.data && !e || (this.exception = {
                    name: "Class ResourceBookingRequest"
                }, this.data = {
                    resource_timetable: {
                        methodName: "ResourceTimetable",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.ResourceTimetable.json"
                    },
                    resource_categories: {
                        methodName: "ResourceCategories",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.ResourceCategories.json"
                    },
                    resource_book_period: {
                        methodName: "ResourceBookPeriod",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.ResourceBookPeriod.json"
                    },
                    resource_cancel_booking: {
                        methodName: "ResourceCancelBooking",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.ResourceCancelBooking.json"
                    },
                    resource_timetable_cycle_periods: {
                        methodName: "ResourceTimetableCyclePeriods",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.ResourceTimetableCyclePeriods.json"
                    },
                    resource_timetable_cycle_period_add: {
                        methodName: "ResourceTimetableCyclePeriodAdd",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.ResourceTimetableCyclePeriodAdd.json"
                    },
                    resource_timetable_cycle_period_remove: {
                        methodName: "ResourceTimetableCyclePeriodDelete",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.ResourceTimetableCyclePeriodDelete.json"
                    },
                    resource_resources: {
                        methodName: "Resources",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.Resources.json"
                    },
                    resource_resources_add: {
                        methodName: "ResourceAdd",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.ResourceAdd.json"
                    },
                    resource_resources_retire: {
                        methodName: "ResourceRetire",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.ResourceRetire.json"
                    },
                    resource_categories_add: {
                        methodName: "ResourceCategoryCreate",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.ResourceCategoryCreate.json"
                    },
                    resource_categories_remove: {
                        methodName: "ResourceCategoryDelete",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.ResourceCategoryDelete.json"
                    },
                    resource_categories_category_resource_add: {
                        methodName: "ResourceCategoryResourceAdd",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.ResourceCategoryResourceAdd.json"
                    },
                    resource_categories_category_resource_remove: {
                        methodName: "ResourceCategoryResourceRemove",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.ResourceCategoryResourceRemove.json"
                    },
                    resource_booking_manage_room: {
                        methodName: "ResourceUpdate",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.ResourceUpdate.json"
                    },
                    resource_booking_teaching_move: {
                        methodName: "ResourceTeachingGroupMove",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.ResourceTeachingGroupMove.json"
                    },
                    resource_changes: {
                        methodName: "ResourceChanges",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.ResourceChanges.json"
                    },
                    resource_changes_pdf: {
                        methodName: "ResourceChangesPDF",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.ResourceChangesPDF.json"
                    },
                    resource_usage: {
                        methodName: "ResourceUsage",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.ResourceUsage.json"
                    }
                })
            }
        }]), t
    }(o(t(17)).default);
    exports.default = l
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = o(t(6)),
        i = o(t(1)),
        a = o(t(2)),
        s = o(t(7)),
        r = o(t(8));

    function o(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var l = function(e) {
        function t(e, a) {
            (0, i.default)(this, t);
            var r = (0, s.default)(this, (t.__proto__ || (0, n.default)(t)).call(this, e, a));
            return r.initValues(), r
        }
        return (0, r.default)(t, e), (0, a.default)(t, [{
            key: "initValues",
            value: function(e) {
                this.data && !e || (this.exception = {
                    name: "Class SchoolCodeRequest"
                }, this.data = {
                    school_code: {
                        methodName: "FromCode",
                        method: "post"
                    },
                    from_third_party_identifier: {
                        methodName: "FromThirdPartyIdentifier",
                        method: "post"
                    }
                })
            }
        }]), t
    }(o(t(3499)).default);
    exports.default = l
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = r(t(6)),
        i = r(t(1)),
        a = r(t(7)),
        s = r(t(8));

    function r(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var o = function(e) {
        function t(e, s) {
            (0, i.default)(this, t);
            var r = (0, a.default)(this, (t.__proto__ || (0, n.default)(t)).call(this, e, s));
            return r.config.methodName = "School", r.config.url = "https://provisioning.edulinkone.com/", r
        }
        return (0, s.default)(t, e), t
    }(r(t(198)).default);
    exports.default = o
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = o(t(6)),
        i = o(t(1)),
        a = o(t(2)),
        s = o(t(7)),
        r = o(t(8));

    function o(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var l = function(e) {
        function t(e, a) {
            (0, i.default)(this, t);
            var r = (0, s.default)(this, (t.__proto__ || (0, n.default)(t)).call(this, e, a));
            return r.initValues(), r
        }
        return (0, r.default)(t, e), (0, a.default)(t, [{
            key: "initValues",
            value: function(e) {
                this.data && !e || (this.exception = {
                    name: "Class SeatingPlanRequest"
                }, this.data = {
                    seating_plan: {
                        methodName: "SeatingPlan",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.SeatingPlan.json"
                    },
                    seating_plan_update: {
                        methodName: "SeatingPlanUpdate",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.SeatingPlanUpdate.json"
                    }
                })
            }
        }]), t
    }(o(t(17)).default);
    exports.default = l
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = o(t(6)),
        i = o(t(1)),
        a = o(t(2)),
        s = o(t(7)),
        r = o(t(8));

    function o(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var l = function(e) {
        function t(e, a) {
            (0, i.default)(this, t);
            var r = (0, s.default)(this, (t.__proto__ || (0, n.default)(t)).call(this, e, a));
            return r.initValues(), r
        }
        return (0, r.default)(t, e), (0, a.default)(t, [{
            key: "initValues",
            value: function(e) {
                this.data && !e || (this.exception = {
                    name: "Class SenRequest"
                }, this.data = {
                    sen_data: {
                        methodName: "SEN",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.SEN.json"
                    },
                    sen_data_strategy_add: {
                        methodName: "SENStrategyAdd",
                        method: "post"
                    },
                    sen_data_strategy_delete: {
                        methodName: "SENStrategyDelete",
                        method: "post"
                    }
                })
            }
        }]), t
    }(o(t(17)).default);
    exports.default = l
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = o(t(6)),
        i = o(t(1)),
        a = o(t(2)),
        s = o(t(7)),
        r = o(t(8));

    function o(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var l = function(e) {
        function t(e, a) {
            (0, i.default)(this, t);
            var r = (0, s.default)(this, (t.__proto__ || (0, n.default)(t)).call(this, e, a));
            return r.initValues(), r
        }
        return (0, r.default)(t, e), (0, a.default)(t, [{
            key: "initValues",
            value: function(e) {
                this.data && !e || (this.exception = {
                    name: "Class TeachersRequest"
                }, this.data = {
                    employees: {
                        methodName: "Employees",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.Employees.json"
                    },
                    teachers: {
                        methodName: "Teachers",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.Teachers.json"
                    },
                    photo: {
                        methodName: "TeacherPhotos",
                        method: "post",
                        isNotPreloader: !0,
                        url: "./jsons/EduLink/EduLink.TeacherPhotos.json"
                    },
                    groups: {
                        methodName: "EmployeeGroups",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.EmployeeGroups.json"
                    },
                    createGroup: {
                        methodName: "EmployeeGroupCreate",
                        method: "post"
                    },
                    deleteGroup: {
                        methodName: "EmployeeGroupDelete",
                        method: "post"
                    },
                    groupMembers: {
                        methodName: "EmployeeGroupMembers",
                        method: "post"
                    },
                    editGroup: {
                        methodName: "EmployeeGroupUpdate",
                        method: "post"
                    }
                })
            }
        }]), t
    }(o(t(17)).default);
    exports.default = l
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = o(t(6)),
        i = o(t(1)),
        a = o(t(2)),
        s = o(t(7)),
        r = o(t(8));

    function o(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var l = function(e) {
        function t(e, a) {
            (0, i.default)(this, t);
            var r = (0, s.default)(this, (t.__proto__ || (0, n.default)(t)).call(this, e, a));
            return r.initValues(), r
        }
        return (0, r.default)(t, e), (0, a.default)(t, [{
            key: "initValues",
            value: function(e) {
                this.data && !e || (this.exception = {
                    name: "Class TemplatesRequest"
                }, this.data = {
                    templates: {
                        methodName: "Templates",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.Templates.json"
                    },
                    template: {
                        methodName: "Template",
                        method: "post",
                        url: "./jsons/EduLink/Template/sendingType/EduLink.Template.json"
                    },
                    template_create: {
                        methodName: "TemplateCreate",
                        method: "post"
                    },
                    template_update: {
                        methodName: "TemplateUpdate",
                        method: "post"
                    },
                    template_delete: {
                        methodName: "TemplateDelete",
                        method: "post"
                    }
                })
            }
        }]), t
    }(o(t(469)).default);
    exports.default = l
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = o(t(6)),
        i = o(t(1)),
        a = o(t(2)),
        s = o(t(7)),
        r = o(t(8));

    function o(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var l = function(e) {
        function t(e, a) {
            (0, i.default)(this, t);
            var r = (0, s.default)(this, (t.__proto__ || (0, n.default)(t)).call(this, e, a));
            return r.initValues(), r
        }
        return (0, r.default)(t, e), (0, a.default)(t, [{
            key: "initValues",
            value: function(e) {
                this.data && !e || (this.exception = {
                    name: "Class TimetableRequest"
                }, this.data = {
                    timetable_data: {
                        methodName: "Timetable",
                        method: "post",
                        url: "./jsons/EduLink/Timetable/role/EduLink.Timetable.json",
                        demo: {
                            roles: [{
                                condition: "employee_id",
                                role: "employee"
                            }, {
                                condition: "learner_id",
                                role: "learner"
                            }]
                        }
                    }
                })
            }
        }]), t
    }(o(t(17)).default);
    exports.default = l
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(11)),
        i = s(t(1)),
        a = s(t(2));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = function() {
        function e(t, n, a, s, r, o, l) {
            "ngInject";
            (0, i.default)(this, e), this._establishmentService = t, this._attachmentsService = n, this._communicatorDataService = a, this._studentsService = s, this._requestService = r, this._userService = o, this._dateService = l, this.initValues()
        }
        return e.$inject = ["establishmentService", "attachmentsService", "communicatorDataService", "studentsService", "requestService", "userService", "dateService"], (0, a.default)(e, [{
            key: "initValues",
            value: function(e) {
                this.yearGroups = this._establishmentService.establishment.year_groups, this.attendanceData && !e || (this.attendanceData = {
                    yearStatutory: null,
                    currentMonth: null
                }), this.data && !e || (this.data = {
                    selectedDate: null,
                    absences: null,
                    year: [].concat((0, n.default)(this.yearGroups))
                })
            }
        }, {
            key: "sendReport",
            value: function(e) {
                var t = this;
                return this._requestService.getData("absence", "send_report", e).then(function(n) {
                    if (e.has_attachments) return t._communicatorDataService.sendAttachments(n.message_id, t._attachmentsService.documents)
                })
            }
        }, {
            key: "getAbsenceManagement",
            value: function(e) {
                var t = this;
                return this._requestService.getData("absence", "absence_management", e).then(function(e) {
                    return t.associateAbsencesWithStudents(e.absences)
                }).then(function(e) {
                    return t.prepareDate(e)
                })
            }
        }, {
            key: "associateAbsencesWithStudents",
            value: function(e) {
                var t = this,
                    n = this.selectedYear.map(function(e) {
                        return e.id
                    });
                return this._studentsService.getStudents().then(function(i) {
                    return e.map(function(e) {
                        var n = i.find(function(t) {
                            return t.id === e.learner_id
                        });
                        return n && (e.learner = n, e.formGroupName = t._userService.getFormGroupNameFromId(n.form_group_id), e.yearGroupName = t._userService.getYearGroupNameFromId(n.year_group_id)), e
                    }).filter(function(e) {
                        var i = !t.selectedYear.length,
                            a = e.learner && e.learner.year_group_id;
                        return i || a && n.includes(a)
                    })
                })
            }
        }, {
            key: "prepareDate",
            value: function(e) {
                return e.forEach(function(e) {
                    e.log.log = e.log.map(function(e) {
                        return e.time = new Date(e.time.replace(/-/g, "/")), e
                    })
                }), e
            }
        }, {
            key: "getAbsenceManagementLogActivity",
            value: function(e, t) {
                return this._requestService.getData("absence", "absence_management_log_activity", {
                    learner_id: e,
                    notes: t
                })
            }
        }, {
            key: "sendAbsenceManagementContact",
            value: function(e) {
                return this._requestService.getData("absence", "absence_management_contact", e)
            }
        }, {
            key: "getAbsenceRegisterMissing",
            value: function(e) {
                var t = this;
                return this._requestService.getData("absence", "absence_register_missing", e).then(function(e) {
                    return e.missing_registers = e.missing_registers.map(function(e) {
                        return e.date_time = moment(e.date_time).format(t._dateService.getDateFormat("momentDateTime")), e
                    }), e
                })
            }
        }, {
            key: "absences",
            get: function() {
                return this.data.absences
            },
            set: function(e) {
                this.data.absences = e
            }
        }, {
            key: "selectedDate",
            get: function() {
                return this.data.selectedDate
            },
            set: function(e) {
                this.data.selectedDate = e
            }
        }, {
            key: "selectedYear",
            get: function() {
                return this.data.year
            },
            set: function(e) {
                this.data.year.push(e)
            }
        }]), e
    }();
    exports.default = r
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i) {
            "ngInject";
            (0, n.default)(this, e), this._analyticsConstants = t, this._userService = i, this.initValues()
        }
        return e.$inject = ["analyticsConstants", "userService"], (0, i.default)(e, [{
            key: "initValues",
            value: function(e) {
                this.data && !e || (this.data = {
                    reportId: null,
                    menu: null,
                    fullMenu: [{
                        id: this._analyticsConstants.HOMEWORK_OVERVIEW_ID,
                        text: "Homework overview"
                    }, {
                        id: this._analyticsConstants.DOCUMENT_ACCESS_REPORT_ID,
                        text: "Document access report"
                    }, {
                        id: this._analyticsConstants.CALLOUT_OVERVIEW_ID,
                        text: "Employee callout overview"
                    }, {
                        id: this._analyticsConstants.CLUB_ATTENDANCE_OVERVIEW_ID,
                        text: "Club attendance overview"
                    }]
                })
            }
        }, {
            key: "resetValues",
            value: function() {
                this.initValues(!0)
            }
        }, {
            key: "generateMenu",
            value: function() {
                var e = this;
                this.data.menu = this.data.fullMenu.filter(function(t) {
                    return e._userService.user.analyticsEnabled.find(function(e) {
                        return e.id === t.id
                    })
                })
            }
        }, {
            key: "reportId",
            get: function() {
                return this.data.reportId
            },
            set: function(e) {
                this.data.reportId = e
            }
        }, {
            key: "menu",
            get: function() {
                return this.data.menu
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t) {
            "ngInject";
            (0, n.default)(this, e), this._userService = t
        }
        return e.$inject = ["userService"], (0, i.default)(e, [{
            key: "getAdditionalParams",
            value: function() {
                return {
                    analytics: this._userService.user.analyticsEnabled && this._userService.user.analyticsEnabled.length ? this._userService.user.analyticsEnabled[0].id : null
                }
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = o(t(11)),
        i = o(t(43)),
        a = o(t(10)),
        s = o(t(1)),
        r = o(t(2));

    function o(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var l = function() {
        function e(t, n, i, a, r, o, l) {
            "ngInject";
            (0, s.default)(this, e), this._$q = t, this._$state = n, this._$stateParams = i, this._requestService = a, this._establishmentService = r, this._notificationService = o, this._$timeout = l, this.initValues()
        }
        return e.$inject = ["$q", "$state", "$stateParams", "requestService", "establishmentService", "notificationService", "$timeout"], (0, r.default)(e, [{
            key: "initValues",
            value: function(e) {
                this.data && !e || (this.data = {
                    activeGrid: null,
                    selectOptions: [],
                    activeSelect: null,
                    currentTabs: [],
                    currentTab: null,
                    activeTabData: null,
                    isDataInit: !1
                })
            }
        }, {
            key: "getFormattedTablesData",
            value: function(e) {
                var t = this,
                    n = e.resultstable || [],
                    i = e.subgrids || [];
                if (n.length) return {
                    thead: n[0],
                    tbody: n.slice(1).map(function(e) {
                        return {
                            data: e,
                            subTables: t.getFormattedSubTables(e, i)
                        }
                    })
                }
            }
        }, {
            key: "getFormattedSubTables",
            value: function(e, t) {
                var n = e[0];
                return t.map(function(e) {
                    var t = "subject" === e.linkon || "both" === e.linkon ? n.subjectid : null,
                        s = "label" === e.linkon || "both" === e.linkon ? n.label : null,
                        r = null,
                        o = (e.resultstable || []).slice(1).filter(function(n) {
                            var i = t && n[0].subjectid && n[0].subjectid === t,
                                a = s && n[0].label && n[0].label === s;
                            return "subject" === e.linkon ? i : "label" === e.linkon ? a : i && a
                        }).map(function(e) {
                            return {
                                data: e
                            }
                        });
                    return o.length && ((r = (0, a.default)({}, e)).thead = e.resultstable[0], r.tbody = o, (0, i.default)(r, "resultstable")), r
                }).filter(Boolean)
            }
        }, {
            key: "renderTab",
            value: function(e, t) {
                var n = this;
                this.currentTab = t, t ? "current" === this.activeSelect ? this.activeTabData = this.data.activeGrid.assessment.filter(function(e) {
                    return e.name.toLowerCase() === t.toLowerCase()
                }).pop() : this.activeTabData = this.data.activeGrid.assessment.filter(function(e) {
                    return e.name === t
                }).pop() : this.activeTabData = null, this.activeTabData && this.formatDataToMobileView(), this._$stateParams.studentId && this._$timeout(function() {
                    n._$state.transitionTo("student.assessment.list", {
                        studentId: n._$stateParams.studentId,
                        year: n.activeSelect,
                        tab: n.currentTab
                    }, {
                        notify: !1
                    })
                }), this._$timeout(function() {
                    n.isDataInit = !0
                }, 0)
            }
        }, {
            key: "formatDataToMobileView",
            value: function() {
                this.activeTabData.mobileViewData = angular.copy(this.activeTabData.resultstable);
                var e = this.activeTabData.mobileViewData.shift();
                this.activeTabData.mobileViewData.forEach(function(t) {
                    t.map(function(t, n) {
                        t.fullName = e[n].content
                    })
                })
            }
        }, {
            key: "getCurrentTabs",
            value: function(e) {
                var t = this;
                if ("current" === this.activeSelect) this.currentTabs = this.data.activeGrid.assessment.filter(function(e) {
                    return e.applies_this_year
                }).map(function(e) {
                    return e.name
                });
                else {
                    var n = this._establishmentService.establishment.year_groups.filter(function(e) {
                        return e.name.replace("  ", " ").toLowerCase() === t.activeSelect.replace("  ", " ").toLowerCase()
                    }).pop().id;
                    this.currentTabs = this.data.activeGrid.assessment.filter(function(e) {
                        return e.applies_to_year_id === n
                    }).map(function(e) {
                        return e.name
                    })
                }
                this.currentTab = e || this.currentTabs[0], this.renderTab(null, this.currentTab, !0), this._$stateParams.studentId && this._$timeout(function() {
                    t._$state.transitionTo("student.assessment.list", {
                        studentId: t._$stateParams.studentId,
                        year: t.activeSelect,
                        tab: t.currentTab
                    }, {
                        notify: !1
                    })
                })
            }
        }, {
            key: "getSelectOption",
            value: function(e) {
                var t = [],
                    i = e.assessment.map(function(e) {
                        return e.applies_to_year_id
                    });
                e.assessment.every(function(e) {
                    return !e.applies_this_year || (t.push("current"), !1)
                }), this.selectOptions = [].concat(t, (0, n.default)(this._establishmentService.establishment.year_groups.filter(function(e) {
                    return i.indexOf(e.id) >= 0
                }).map(function(e) {
                    return e.name
                })))
            }
        }, {
            key: "getAssessmentGridsFromDb",
            value: function(e) {
                return this._requestService.getData("assessment", "assessment_grids", e)
            }
        }, {
            key: "isDataInit",
            get: function() {
                return this.data.isDataInit
            },
            set: function(e) {
                this.data.isDataInit = e
            }
        }, {
            key: "currentTab",
            set: function(e) {
                this.data.currentTab = e
            },
            get: function() {
                return this.data.currentTab
            }
        }, {
            key: "currentTabs",
            set: function(e) {
                this.data.currentTabs = e
            },
            get: function() {
                return this.data.currentTabs
            }
        }, {
            key: "activeSelect",
            get: function() {
                return this.data.activeSelect
            },
            set: function(e) {
                this.data.activeSelect = e
            }
        }, {
            key: "selectOptions",
            set: function(e) {
                this.data.selectOptions = e
            },
            get: function() {
                return this.data.selectOptions
            }
        }, {
            key: "activeTabData",
            get: function() {
                return this.data.activeTabData
            },
            set: function(e) {
                e.formattedTables = this.getFormattedTablesData(e), this.data.activeTabData = e
            }
        }]), e
    }();
    exports.default = l
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(11)),
        i = s(t(1)),
        a = s(t(2));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = function() {
        function e(t, n, a, s, r, o, l, c) {
            "ngInject";
            (0, i.default)(this, e), this._Upload = l, this._userService = s, this._fileSaver = r, this._blob = o, this._notificationService = a, this._$q = t, this._$window = n, this._$timeout = c, this.initValues()
        }
        return e.$inject = ["$q", "$window", "notificationService", "userService", "FileSaver", "Blob", "Upload", "$timeout"], (0, a.default)(e, [{
            key: "initValues",
            value: function(e) {
                this.data && !e || (this.data = {
                    documents: [],
                    chunkSize: null,
                    base64Marker: ";base64,"
                })
            }
        }, {
            key: "onPicked",
            value: function(e) {
                for (var t = e.documents, n = e.maxFileSize, i = this.formatToMib(n), a = [], s = this.documents.reduce(function(e, t) {
                        return e += t.size
                    }, 0), r = 0; r < t.length; r++)
                    if (t[r].size > n) {
                        var o = "Error: " + t[r].name + " is too large it exceeds the " + i + " MiB attachment limit";
                        this._notificationService.showErrorNotification(o, void 0, o)
                    } else {
                        if ((s += t[r].size) > n) {
                            var l = "Error: The files you are trying to attach exceed the " + i + " MiB attachment limit";
                            this._notificationService.showErrorNotification(l, void 0, l);
                            break
                        }
                        a.push(t[r])
                    }
                this.documents = a
            }
        }, {
            key: "formatToMib",
            value: function(e) {
                return Math.ceil(e / 1024 / 1024)
            }
        }, {
            key: "uploadFileFromLocalDisk",
            value: function(e) {
                return this._Upload.base64DataUrl(e)
            }
        }, {
            key: "deleteDocument",
            value: function(e) {
                var t = this;
                this.data.documents.forEach(function(n, i) {
                    angular.equals(n, e) && t.data.documents.splice(i, 1)
                })
            }
        }, {
            key: "clearDocuments",
            value: function() {
                this.data.documents = []
            }
        }, {
            key: "downloadDocumentCordova",
            value: function(e, t) {
                var n = this,
                    i = this._$q.defer();
                if (t.url) return DocumentHandler.previewFileFromUrlOrPath(function() {
                    i.resolve()
                }, function(e) {
                    53 === (angular.isObject(e) && e.code ? e.code : e) ? n._notificationService.showErrorNotification("No app installed on your device to open this file type", void 0, t.mime_type) : n._notificationService.showErrorNotification("downloadDocument: error2", void 0, e), i.reject()
                }, t.url, e), i.promise;
                var a = cordova.file.externalDataDirectory;
                return "ios" === this._$window.cordova.platformId && (a = cordova.file.documentsDirectory), DocumentHandler.saveAndPreviewBase64File(function() {
                    i.resolve()
                }, function(e) {
                    53 === (angular.isObject(e) && e.code ? e.code : e) ? n._notificationService.showErrorNotification("No app installed on your device to open this file type", void 0, t.mime_type) : n._notificationService.showErrorNotification("downloadDocument: error", void 0, e), i.reject()
                }, t.content, t.mime_type, a, e), i.promise
            }
        }, {
            key: "downloadDocument",
            value: function(e) {
                var t = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1],
                    n = e.filename,
                    i = e.filename.split(".");
                e.mime_type || (e.mime_type = "application/pdf"), "application/pdf" === e.mime_type && i.length > 1 && (n = i.slice(0, -1).join() + ".pdf"), e.document && (e.content = e.document);
                try {
                    if (this._$window.cordova) return this.downloadDocumentCordova(n, e);
                    if (e.url) {
                        var a = document.createElement("a");
                        return a.target = "_blank", a.href = e.url, a.setAttribute("download", n), document.body.appendChild(a), this._$timeout(function() {
                            a.click(), document.body.removeChild(a)
                        }, 0), this._$q.resolve()
                    }
                    var s = null,
                        r = null,
                        o = null;
                    if (t) {
                        r = (s = this._$window.atob(e.content)).length, o = new Uint8Array(new ArrayBuffer(r));
                        for (var l = 0; l < r; l++) o[l] = s.charCodeAt(l)
                    } else o = e.content;
                    var c = new this._blob([o], {
                        type: e.mime_type
                    });
                    return this._fileSaver.saveAs(c, n), this._$q.resolve()
                } catch (e) {
                    return this._notificationService.showErrorNotification(e.message, void 0, e), this._$q.reject(e)
                }
            }
        }, {
            key: "downloadCSV",
            value: function(e, t) {
                var n = this,
                    i = this.convertArrayOfObjectsToCSV(e),
                    a = t + ".csv",
                    s = document.createElement("a");
                if (navigator.msSaveBlob) return navigator.msSaveBlob(new Blob([i], {
                    type: "text/csv"
                }), a), this._$q.resolve();
                if (this._$window.cordova) {
                    var r = cordova.file.externalDataDirectory;
                    "ios" === this._$window.cordova.platformId && (r = cordova.file.documentsDirectory);
                    var o = this._$q.defer();
                    return DocumentHandler.saveAndPreviewBase64File(function() {
                        o.resolve()
                    }, function(e) {
                        53 === (angular.isObject(e) && e.code ? e.code : e) ? n._notificationService.showErrorNotification("No app installed on your device to open this file type", void 0, "text/csv") : n._notificationService.showErrorNotification("downloadCSV: error", void 0, e), o.reject()
                    }, btoa(i), "text/csv", r, a), o.promise
                }
                return URL && "download" in s ? (s.href = URL.createObjectURL(new Blob(["\ufeff", i], {
                    type: "text/csv"
                })), s.setAttribute("download", a), document.body.appendChild(s), s.click(), document.body.removeChild(s), this._$q.resolve()) : (this._$window.open("data:text/csv;charset=utf-8," + encodeURIComponent(i), "_blank"), this._$q.resolve())
            }
        }, {
            key: "convertArrayOfObjectsToCSV",
            value: function(e) {
                var t = "";
                return e.forEach(function(e) {
                    e.forEach(function(t, n) {
                        e[n] = t.replace(/"/g, '""')
                    });
                    var n = e.join('","');
                    t += '"' + n + '"\r\n'
                }), t
            }
        }, {
            key: "separateDocumentOnChunks",
            value: function(e) {
                for (var t = e.length, n = Math.ceil(t / this.chunkSize), i = [], a = 0; a < n; a++) i.push(e.slice(a * this.chunkSize, (a + 1) * this.chunkSize));
                return i
            }
        }, {
            key: "removeLastDocument",
            value: function(e) {
                e.pop()
            }
        }, {
            key: "calcChunkSize",
            value: function() {
                this.chunkSize = 1e3 * this._userService.user.miscellaneous.upload.chunksize
            }
        }, {
            key: "chunkSize",
            get: function() {
                return this.data.chunkSize
            },
            set: function(e) {
                this.data.chunkSize = e
            }
        }, {
            key: "base64Marker",
            get: function() {
                return this.data.base64Marker
            }
        }, {
            key: "documents",
            set: function(e) {
                this.data.documents = [].concat((0, n.default)(this.data.documents), (0, n.default)(e || []))
            },
            get: function() {
                return this.data.documents
            }
        }]), e
    }();
    exports.default = r
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = o(t(10)),
        i = o(t(11)),
        a = o(t(26)),
        s = o(t(1)),
        r = o(t(2));

    function o(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var l = function() {
        function e(t, n, i, a, r, o, l) {
            "ngInject";
            (0, s.default)(this, e), this._$q = t, this._sortDataService = n, this._requestService = i, this._userService = o, this._notificationService = l, this._navigationService = r, this._$stateParams = a, this.initValues()
        }
        return e.$inject = ["$q", "sortDataService", "requestService", "$stateParams", "navigationService", "userService", "notificationService"], (0, r.default)(e, [{
            key: "initValues",
            value: function(e) {
                this.data && !e || (this.data = {
                    menu: [],
                    attendance: null
                }), this.lesson = {
                    name: "Lesson Academic Year",
                    params: {
                        page: "lesson-academic-year"
                    }
                }, this.statutoryMonth = {
                    name: "Statutory Month",
                    params: {
                        page: "statutory-month"
                    }
                }, this.statutoryYear = {
                    name: "Statutory Academic Year",
                    params: {
                        page: "statutory-academic-year"
                    }
                }, this.attendanceToday = {
                    name: "Attendance Today",
                    params: {
                        page: "attendance-today"
                    }
                }
            }
        }, {
            key: "generateMenu",
            value: function() {
                var e = [],
                    t = null;
                return this._userService.user.capabilities.attendance && (t = this._userService.user.capabilities.attendance.today), this.attendance.show_lesson && e.push(this.lesson), this.attendance.show_statutory && e.push(this.statutoryMonth) && e.push(this.statutoryYear), this.attendance.show_today && (t ? e.unshift(this.attendanceToday) : e.push(this.attendanceToday)), e
            }
        }, {
            key: "handleStatutoryAcademicYear",
            value: function(e) {
                var t = {
                    values: {},
                    exceptions: []
                };
                return e.forEach(function(e) {
                    var n;
                    e.values && (0, a.default)(e.values).forEach(function(n) {
                        t.values[n] = angular.isDefined(t.values[n]) ? t.values[n] + e.values[n] : e.values[n]
                    }), e.exceptions && (n = t.exceptions).push.apply(n, (0, i.default)(e.exceptions))
                }), t.exceptions = this._sortDataService.sortBy(t.exceptions, ["date"], {
                    date: !0
                }, this._sortDataService.compareDates), t
            }
        }, {
            key: "handleAttendance",
            value: function(e) {
                var t = {
                    lesson: e.lesson,
                    statutoryMonth: e.statutory,
                    statutoryYear: this.handleStatutoryAcademicYear(e.statutory),
                    attendanceToday: e.today,
                    show_today: e.show_today,
                    show_lesson: e.show_lesson,
                    show_statutory: e.show_statutory
                };
                return t.attendanceToday && (t = (0, n.default)({}, t, {
                    attendanceSessions: e.today.sessions,
                    attendanceLessons: e.today.lessons,
                    attendanceClubs: e.today.clubs
                })), t
            }
        }, {
            key: "getAttendanceDataFromDB",
            value: function(e) {
                var t = this,
                    n = {
                        learner_id: e,
                        format: 3
                    },
                    i = this._navigationService.clickedTab;
                return i === this.lesson.params.page ? n.limit = "lesson" : i === this.statutoryMonth.params.page || i === this.statutoryYear.params.page ? n.limit = "statutory" : i === this.attendanceToday.params.page && (n.limit = "today"), this._requestService.getData("attendance", "attendance", n).then(function(e) {
                    t.attendance = t.handleAttendance(e)
                }).catch(function(e) {
                    return t._notificationService.showErrorNotification(e.message, void 0, e), t._$q.reject(e)
                })
            }
        }, {
            key: "menu",
            get: function() {
                return this.data.menu
            },
            set: function(e) {
                this.data.menu = e
            }
        }, {
            key: "attendance",
            get: function() {
                return this.data.attendance
            },
            set: function(e) {
                this.data.attendance = e
            }
        }]), e
    }();
    exports.default = l
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e() {
            "ngInject";
            (0, n.default)(this, e), this.initValues()
        }
        return (0, i.default)(e, [{
            key: "initValues",
            value: function(e) {
                this.data && !e || (this.data = {
                    searchValues: [],
                    items: [],
                    $selects: []
                })
            }
        }, {
            key: "addSearchValue",
            value: function(e, t) {
                var n = this.data.$selects.indexOf(e);
                this.data.searchValues[n] = t
            }
        }, {
            key: "getSearchValue",
            value: function(e) {
                var t = this.data.$selects.indexOf(e);
                return this.data.searchValues[t]
            }
        }, {
            key: "addItems",
            value: function(e, t) {
                var n = this.data.$selects.indexOf(e);
                this.data.items[n] = t
            }
        }, {
            key: "getItems",
            value: function(e) {
                var t = this.data.$selects.indexOf(e);
                return this.isOpen(e) ? this.data.items[t] : null
            }
        }, {
            key: "addSelect",
            value: function(e) {
                this.data.$selects.push(e)
            }
        }, {
            key: "removeSelect",
            value: function(e) {
                var t = this.data.$selects.indexOf(e);
                t > -1 && (this.data.$selects.splice(t, 1), this.data.items.splice(t, 1), this.data.searchValues.splice(t, 1))
            }
        }, {
            key: "isOpen",
            value: function(e) {
                var t = this.data.$selects.indexOf(e);
                return this.data.$selects[t] && this.data.$selects[t].open || !1
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r, o) {
            "ngInject";
            (0, n.default)(this, e), this._$state = t, this._detectDeviceService = i, this._studentsService = a, this._requestService = s, this._userService = r, this._modalDefaultService = o, this.initValues()
        }
        return e.$inject = ["$state", "detectDeviceService", "studentsService", "requestService", "userService", "modalDefaultService"], (0, i.default)(e, [{
            key: "initValues",
            value: function(e) {
                this.data && !e || (this.data = {
                    behaviourData: {},
                    achievementData: {},
                    currentTypeForNewPage: null,
                    behaviourAchievementLookups: null,
                    moveFromStartBehaviourPage: null
                }, this.dateFilter = {
                    dateSince: null,
                    dateTo: null
                }, this.hiddenFields = {
                    behaviour: null
                })
            }
        }, {
            key: "transitionToPoints",
            value: function(e) {
                var t = this;
                if (this._studentsService.selectedStudents.length > this._userService.user.miscellaneous.student_count_warning) {
                    var n = {
                        cancel: function() {
                            return t._modalDefaultService.pop()
                        },
                        confirm: function() {
                            t._modalDefaultService.pop(), t._$state.transitionTo(e, null, {
                                notify: !1
                            })
                        },
                        message: "You have selected " + this._studentsService.selectedStudents.length + " students, is this correct?"
                    };
                    this._modalDefaultService.showModalWithTemplates("modal-confirm", n, "Confirmation")
                } else this._$state.transitionTo(e, null, {
                    notify: !1
                })
            }
        }, {
            key: "isBehaviourFieldHide",
            value: function(e) {
                return -1 !== this.behaviourAchievementLookups.behaviour_hidden_fields_on_entry.indexOf(e)
            }
        }, {
            key: "addTypesToReportCards",
            value: function(e) {
                var t = this.behaviourAchievementLookups.behaviour_types;
                return e.map(function(e) {
                    var n = t.find(function(t) {
                        return t.id === e.behaviour_incident_type_id
                    });
                    return e.type = n ? n.description : "", e
                })
            }
        }, {
            key: "getBehaviourDataFromDb",
            value: function(e) {
                var t = this;
                return this._requestService.getData("behaviour", "behaviour_data", {
                    learner_id: e,
                    format: 2
                }).then(function(n) {
                    return t.data.behaviourData[e] = n, n
                })
            }
        }, {
            key: "getAchievementDataFromDb",
            value: function(e) {
                var t = this;
                return this._requestService.getData("behaviour", "achievement_data", {
                    learner_id: e
                }).then(function(n) {
                    return t.data.achievementData[e] = n, n
                })
            }
        }, {
            key: "getBehaviourAchievementLookupsFromDb",
            value: function() {
                var e = this;
                return this._requestService.getData("behaviour", "behaviour_input", null).then(function(t) {
                    var n = t;
                    e.hiddenFields.behaviour = t.behaviour_hidden_fields_on_entry || [], e.hiddenFields.achievement = t.achievement_hidden_fields_on_entry || [], e._detectDeviceService.desktop && e.setDefaultValueToFields(n), e.behaviourAchievementLookups = n, e.data.achievementPointsEditable = e.behaviourAchievementLookups.achievement_points_editable, e.data.behaviourPointsEditable = e.behaviourAchievementLookups.behaviour_points_editable
                })
            }
        }, {
            key: "resetBehaviourAchievementLookups",
            value: function() {
                this.behaviourAchievementLookups = null, this.hiddenFields.behaviour = null, this.hiddenFields.achievement = null, this.data.achievementPointsEditable = null, this.data.behaviourPointsEditable = null
            }
        }, {
            key: "sendBehaviourData",
            value: function(e) {
                return this._requestService.getData("behaviour", "behaviour_write", e)
            }
        }, {
            key: "sendAchievementData",
            value: function(e) {
                return this._requestService.getData("behaviour", "achievement_write", e)
            }
        }, {
            key: "addObjWithFieldToArray",
            value: function(e, t, n) {
                var i = {
                    isDefault: !0,
                    id: -1
                };
                i[t] = n, e.unshift(i)
            }
        }, {
            key: "addPreelemToArray",
            value: function(e, t, n) {
                e && this.addObjWithFieldToArray(e, t, n)
            }
        }, {
            key: "setDefaultValueToFields",
            value: function(e) {
                e && (this.addPreelemToArray(e.behaviour_types, "description", "Behaviour Type"), this.addPreelemToArray(e.behaviour_times, "name", "Time"), this.addPreelemToArray(e.behaviour_locations, "name", "Location"), this.addPreelemToArray(e.behaviour_bullying_types, "name", "Bullying Type"), this.addPreelemToArray(e.behaviour_activity_types, "description", "Activity"), this.addPreelemToArray(e.behaviour_actions_taken, "name", "Action Taken"), this.addPreelemToArray(e.achievement_award_types, "name", "Achievement Award"), this.addPreelemToArray(e.achievement_types, "description", "Achievement Type"), this.addPreelemToArray(e.achievement_activity_types, "description", "Activity"))
            }
        }, {
            key: "behaviourAchievementLookups",
            get: function() {
                return this.data.behaviourAchievementLookups
            },
            set: function(e) {
                this.data.behaviourAchievementLookups = e
            }
        }, {
            key: "currentTypeForNewPage",
            get: function() {
                return this.data.currentTypeForNewPage
            },
            set: function(e) {
                this.data.currentTypeForNewPage = e
            }
        }, {
            key: "behaviourData",
            get: function() {
                return this.data.behaviourData
            },
            set: function(e) {
                this.data.behaviourData = e
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t) {
            "ngInject";
            (0, n.default)(this, e), this._modalDefaultService = t, this.initValues()
        }
        return e.$inject = ["modalDefaultService"], (0, i.default)(e, [{
            key: "initValues",
            value: function(e) {
                this.data && !e || (this.data = {
                    link: null,
                    message: null,
                    isTransitionBlocked: !1
                })
            }
        }, {
            key: "_showModal",
            value: function() {
                this._modalDefaultService.modals.data.map(function(e) {
                    return e.id
                }).indexOf("modal-changes-detected") < 0 && this._modalDefaultService.showModalWithTemplates("modal-changes-detected", {
                    link: this.data.link
                }, "Changes Detected")
            }
        }, {
            key: "disableTransition",
            value: function(e) {
                this.transitionLink = e, this.isTransitionBlocked = !0
            }
        }, {
            key: "enableTransition",
            value: function() {
                this.transitionLink = null, this.isTransitionBlocked = !1
            }
        }, {
            key: "isTransitionBlocked",
            get: function() {
                return this.data.isTransitionBlocked
            },
            set: function(e) {
                this.data.isTransitionBlocked = e
            }
        }, {
            key: "message",
            set: function(e) {
                this.data.message = e
            }
        }, {
            key: "transitionLink",
            get: function() {
                return this.data.link
            },
            set: function(e) {
                this.data.link = e
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(11)),
        i = s(t(1)),
        a = s(t(2));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = function() {
        function e(t, n) {
            "ngInject";
            (0, i.default)(this, e), this._requestService = t, this._teachersService = n, this.initValues()
        }
        return e.$inject = ["requestService", "teachersService"], (0, a.default)(e, [{
            key: "initValues",
            value: function(e) {
                this.data && !e || (this.data = {
                    fromDate: null,
                    toDate: null,
                    analytics: null,
                    callers: null,
                    responders: null
                })
            }
        }, {
            key: "resetValues",
            value: function() {
                this.initValues(!0)
            }
        }, {
            key: "setCallersAndResponders",
            value: function(e) {
                var t = this,
                    n = this.getUniqueEmployeeIds([], e.callers);
                return n = this.getUniqueEmployeeIds(n, e.responders), this._teachersService.getEmployeesFromDb({
                    employee_ids: n
                }).then(function(n) {
                    var i = n.employees;
                    t.callers = t.getTeachersWithName(e.callers, i), t.responders = t.getTeachersWithName(e.responders, i)
                })
            }
        }, {
            key: "getUniqueEmployeeIds",
            value: function(e, t) {
                var i = [];
                return t.forEach(function(t) {
                    -1 === e.indexOf(t.employee_id) && i.push(t.employee_id)
                }), [].concat((0, n.default)(e), i)
            }
        }, {
            key: "getTeachersWithName",
            value: function(e, t) {
                return e.map(function(e) {
                    var n = t.find(function(t) {
                        return t.id === e.employee_id
                    });
                    return n && (e.name = n.title + " " + n.forename + " " + n.surname), e
                })
            }
        }, {
            key: "getPreparedAnalytics",
            value: function(e) {
                var t = {
                    data: [
                        [],
                        []
                    ],
                    labels: []
                };
                return e.days.forEach(function(e) {
                    t.data[0].push(e.callouts), t.data[1].push(e.responses), t.labels.push(e.date)
                }), t
            }
        }, {
            key: "getCalloutOverview",
            value: function(e) {
                return this._requestService.getData("callout", "employee_callout_overview", e)
            }
        }, {
            key: "analytics",
            get: function() {
                return this.data.analytics
            },
            set: function(e) {
                this.data.analytics = e
            }
        }, {
            key: "callers",
            get: function() {
                return this.data.callers
            },
            set: function(e) {
                this.data.callers = e
            }
        }, {
            key: "responders",
            get: function() {
                return this.data.responders
            },
            set: function(e) {
                this.data.responders = e
            }
        }]), e
    }();
    exports.default = r
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(10)),
        i = s(t(1)),
        a = s(t(2));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = function() {
        function e(t, n, a) {
            "ngInject";
            (0, i.default)(this, e), this._requestService = n, this._studentsService = a, this._dateService = t, this.initValues()
        }
        return e.$inject = ["dateService", "requestService", "studentsService"], (0, a.default)(e, [{
            key: "initValues",
            value: function(e) {
                this.data && !e || (this.data = {
                    fromDate: null,
                    toDate: null,
                    analytics: null
                })
            }
        }, {
            key: "initDates",
            value: function() {
                this.toDate = moment().format(this._dateService.getDateFormat("apiDate")), this.fromDate = moment(this.toDate).subtract(30, "days").format(this._dateService.getDateFormat("apiDate"))
            }
        }, {
            key: "resetValues",
            value: function() {
                this.initValues(!0)
            }
        }, {
            key: "getFormattedLearners",
            value: function(e) {
                var t = this;
                return e.learners.map(function(e) {
                    return (0, n.default)({}, e, {
                        name: t.getStudentName(e.student_id)
                    })
                })
            }
        }, {
            key: "getStudentName",
            value: function(e) {
                var t = this._studentsService.students.students.find(function(t) {
                    return t.id === "" + e
                });
                return t ? t.forename + " " + t.surname : "unknown"
            }
        }, {
            key: "getAttendanceOverviewReport",
            value: function(e) {
                var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "json";
                return e = (0, n.default)({}, e, {
                    report_format: t
                }), this._requestService.getData("callout", "club_attendance_overview", e)
            }
        }, {
            key: "exportAttendanceOverviewReport",
            value: function(e) {
                return this.getAttendanceOverviewReport(e, "csv")
            }
        }, {
            key: "analytics",
            get: function() {
                return this.data.analytics
            },
            set: function(e) {
                this.data.analytics = (0, n.default)({}, e, {
                    learners: this.getFormattedLearners(e)
                })
            }
        }, {
            key: "fromDate",
            get: function() {
                return this.data.fromDate
            },
            set: function(e) {
                this.data.fromDate = e
            }
        }, {
            key: "toDate",
            get: function() {
                return this.data.toDate
            },
            set: function(e) {
                this.data.toDate = e
            }
        }]), e
    }();
    exports.default = r
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e() {
            "ngInject";
            (0, n.default)(this, e), this.config = {
                schoolEnv: null,
                isCordovaEnv: null,
                isMultiSchoolServer: null,
                isKeyboardActiveInputDevice: null,
                isLocalhost: null,
                isAnimationOut: !1,
                educationalIdStateParam: null,
                educationalCodeStateParam: null,
                state: null,
                currentPageName: null,
                homeState: "home",
                homeStates: ["home", "student"],
                isMenuCenterStates: ["home", "login", "student"],
                isHideMenu: ["communicator"],
                schoolByHelpForm: !1
            }
        }
        return (0, i.default)(e, [{
            key: "schoolByHelpForm",
            get: function() {
                return this.config.schoolByHelpForm
            },
            set: function(e) {
                this.config.schoolByHelpForm = e
            }
        }, {
            key: "isKeyboardActiveInputDevice",
            get: function() {
                return this.config.isKeyboardActiveInputDevice
            },
            set: function(e) {
                this.config.isKeyboardActiveInputDevice = e
            }
        }, {
            key: "educationalIdStateParam",
            get: function() {
                return this.config.educationalIdStateParam
            },
            set: function(e) {
                this.config.educationalIdStateParam = e
            }
        }, {
            key: "educationalCodeStateParam",
            get: function() {
                return this.config.educationalCodeStateParam
            },
            set: function(e) {
                this.config.educationalCodeStateParam = e
            }
        }, {
            key: "isMultiSchoolServer",
            get: function() {
                return this.config.isMultiSchoolServer
            },
            set: function(e) {
                this.config.isMultiSchoolServer = e
            }
        }, {
            key: "schoolEnv",
            set: function(e) {
                this.config.schoolEnv = e
            },
            get: function() {
                return this.config.schoolEnv
            }
        }, {
            key: "isLocalhost",
            set: function(e) {
                this.config.isLocalhost = e
            },
            get: function() {
                return this.config.isLocalhost
            }
        }, {
            key: "isCordovaEnv",
            set: function(e) {
                this.config.isCordovaEnv = e
            },
            get: function() {
                return this.config.isCordovaEnv
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = l(t(11)),
        i = l(t(26)),
        a = l(t(10)),
        s = l(t(192)),
        r = l(t(1)),
        o = l(t(2));

    function l(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var c = function() {
        function e(t, n, i, a, s, o, l, c, d, u, _, f, v, m, h, p) {
            "ngInject";
            (0, r.default)(this, e), this._admissionsService = a, this._attachmentsService = s, this._contactsDataService = o, this._deviceMarginConstants = l, this._studentsService = c, this._teachersService = d, this._requestService = _, this._userService = f, this._modalDefaultService = u, this._windowWidthService = v, this._leaversService = m, this._$q = t, this._$filter = n, this._$state = i, this._dateService = h, this._statusService = p, this.initValues(), this.initRecipientsButtons()
        }
        return e.$inject = ["$q", "$filter", "$state", "admissionsService", "attachmentsService", "contactsDataService", "deviceMarginConstants", "studentsService", "teachersService", "modalDefaultService", "requestService", "userService", "windowWidthService", "leaversService", "dateService", "statusService"], (0, o.default)(e, [{
            key: "initValues",
            value: function(e) {
                this.data && !e || (this.data = {
                    editor: null,
                    selectAll: !1,
                    messages: [],
                    pagination: [],
                    users: [],
                    selectedUser: null,
                    selectedMessage: null,
                    variables: null,
                    archived: !1,
                    viewedMessagesType: "received",
                    paginationSettings: this.initPaginationSettings(),
                    messagesButtons: this.initMessagesButtons(),
                    recipientsButtons: this.initRecipientsButtons(),
                    recipientsData: this.initRecipientsData()
                })
            }
        }, {
            key: "resetValues",
            value: function() {
                this.initValues(!0)
            }
        }, {
            key: "initPaginationSettings",
            value: function() {
                return {
                    MAX_PAGINATION_LENGTH: 4,
                    visiblePages: [],
                    isLoading: !1
                }
            }
        }, {
            key: "resetPaginationSettings",
            value: function() {
                this.paginationSettings = this.initPaginationSettings()
            }
        }, {
            key: "initMessagesButtons",
            value: function() {
                var e = this;
                return {
                    isLoading: !1,
                    buttons: [{
                        name: "Received",
                        type: "received",
                        active: !0,
                        onClick: function(t) {
                            return e.toggleMessagesType(t)
                        }
                    }, {
                        name: "Sent",
                        type: "sent",
                        onClick: function(t) {
                            return e.toggleMessagesType(t)
                        }
                    }]
                }
            }
        }, {
            key: "resetMessagesButtons",
            value: function() {
                this.messagesButtons = this.initMessagesButtons(), this.viewedMessagesType = "received"
            }
        }, {
            key: "initRecipientsData",
            value: function() {
                return {
                    messageType: null,
                    isReply: null,
                    isCustomTabSelected: !1,
                    recordMessage: !1,
                    usersType: "learners",
                    recipients: [],
                    teachers: [],
                    employees: [],
                    parents: [],
                    formTutors: [],
                    hoy: [],
                    hoh: [],
                    editableRecipients: [],
                    customSearches: [{
                        value: null
                    }],
                    learnerIdsWithoutBooking: [],
                    parentIdsWithoutBooking: [],
                    clubLearners: [],
                    maxPriority: null,
                    parentalResponsibility: !1,
                    edited: !1
                }
            }
        }, {
            key: "resetRecipientsData",
            value: function() {
                this.recipientsData = this.initRecipientsData()
            }
        }, {
            key: "initRecipientsButtons",
            value: function() {
                var e, t = this;
                return e = {}, (0, s.default)(e, "learners", {
                    onClick: function(e, n) {
                        return t.toggleStaticButton(e, t._studentsService.selectedStudents, n)
                    },
                    svgName: "learners",
                    recipientType: "Learner",
                    name: "Learners",
                    isClicked: !1,
                    isAddedType: !1,
                    type: "learners"
                }), (0, s.default)(e, "leavers", {
                    onClick: function(e, n) {
                        return t.toggleStaticButton(e, t._leaversService.selectedStudents, n)
                    },
                    svgName: "learners",
                    recipientType: "Leaver",
                    name: "Leavers",
                    isClicked: !1,
                    isAddedType: !1,
                    type: "learners"
                }), (0, s.default)(e, "admissions", {
                    onClick: function(e, n) {
                        return t.toggleStaticButton(e, t._admissionsService.selectedStudents, n)
                    },
                    svgName: "learners",
                    recipientType: "Admission",
                    name: "Admissions",
                    isClicked: !1,
                    isAddedType: !1,
                    type: "learners"
                }), (0, s.default)(e, "teachers", {
                    onClick: function(e, n) {
                        return t.toggleDynamicButton(e, t.teachers, function() {
                            return t.getRelatedEmployees({
                                learner_ids: t.getLearnerIds()
                            }).then(function(e) {
                                return t.teachers = e.employees
                            })
                        }, n)
                    },
                    svgName: "teachers",
                    recipientType: "Teacher",
                    name: "Teachers",
                    isClicked: !1,
                    isAddedType: !1,
                    type: "teachers"
                }), (0, s.default)(e, "formTutors", {
                    onClick: function(e, n) {
                        return t.toggleDynamicButton(e, t.formTutors, function() {
                            var e = t.getGroupsIds("form_group_id");
                            return e.length ? t.getRelatedEmployees({
                                form_group_ids: e
                            }).then(function(e) {
                                return t.formTutors = e.employees
                            }) : t._$q.resolve([])
                        }, n)
                    },
                    svgName: "tutors",
                    recipientType: "Form Tutor",
                    name: "Form Tutors",
                    isClicked: !1,
                    isAddedType: !1,
                    type: "form_tutors"
                }), (0, s.default)(e, "parents", {
                    onClick: function(e, n) {
                        return t.toggleDynamicButton(e, t.parents, function() {
                            return t.getRelatedParents(t.getLearnerIds()).then(function(e) {
                                return t.parents = e.contacts
                            })
                        }, n)
                    },
                    svgName: "parents",
                    recipientType: "Parent",
                    name: "Parents",
                    isClicked: !1,
                    isAddedType: !1,
                    type: "parents"
                }), (0, s.default)(e, "employees", {
                    onClick: function(e, n) {
                        t.toggleStaticButton(e, t._teachersService.selectedTeachers, n)
                    },
                    svgName: "teachers",
                    recipientType: "Employee",
                    name: "Employees",
                    isClicked: !1,
                    isAddedType: !1,
                    type: "teachers"
                }), (0, s.default)(e, "custom", {
                    onClick: function(e, n) {
                        return t.toggleCustomButton(e, n)
                    },
                    svgName: "custom",
                    name: "Custom",
                    isClicked: !1,
                    type: "custom"
                }), (0, s.default)(e, "hoy", {
                    onClick: function(e, n) {
                        return t.toggleDynamicButton(e, t.hoy, function() {
                            var e = t.getGroupsIds("year_group_id");
                            return e.length ? t.getRelatedEmployees({
                                year_group_ids: e
                            }).then(function(e) {
                                return t.hoy = e.employees
                            }) : t._$q.resolve([])
                        }, n)
                    },
                    svgName: "tutors",
                    recipientType: "HOY",
                    name: "Head of Year",
                    isClicked: !1,
                    isAddedType: !1,
                    type: "form_tutors"
                }), (0, s.default)(e, "hoh", {
                    onClick: function(e, n) {
                        return t.toggleDynamicButton(e, t.hoh, function() {
                            var e = {
                                house_group_ids: t.getGroupsIds("community_group_id")
                            };
                            return e.house_group_ids.length ? t.getRelatedEmployees(e).then(function(e) {
                                return t.hoh = e.employees
                            }) : t._$q.resolve([])
                        }, n)
                    },
                    svgName: "tutors",
                    recipientType: "HOH",
                    name: "Head of House",
                    isClicked: !1,
                    isAddedType: !1,
                    type: "form_tutors"
                }), e
            }
        }, {
            key: "resetRecipientsButtons",
            value: function() {
                this.recipientsButtons = this.initRecipientsButtons()
            }
        }, {
            key: "filterRecipientsButtons",
            value: function(e) {
                var t = this,
                    n = this._userService.user.capabilities["communicator.new_message_recipients"];
                e = e.filter(function(e) {
                    return -1 !== n.indexOf(t.recipientsButtons[e].type)
                }), this.recipientsButtons = e.map(function(e) {
                    return t.recipientsButtons[e]
                })
            }
        }, {
            key: "isActiveTab",
            value: function(e) {
                return this.recipientsButtons.find(function(t) {
                    return t.isClicked && t.type === e
                })
            }
        }, {
            key: "getMessages",
            value: function(e) {
                var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                return "received" === e ? this.getInboxFromDb(t) : this.getOutboxFromDb(t)
            }
        }, {
            key: "getUserId",
            value: function() {
                return "parent" === this.selectedUser.role ? {
                    parent_id: this.selectedUser.id
                } : this.selectedUser.roles && "learner" === this.selectedUser.roles[0] ? {
                    learner_id: this.selectedUser.id
                } : {
                    employee_id: this.selectedUser.id
                }
            }
        }, {
            key: "isSelectedAnotherUserInUserSelect",
            value: function() {
                return this._userService.user.capabilities["communicator.switchuser"] && this.selectedUser && this._userService.user.id !== this.selectedUser.id
            }
        }, {
            key: "toggleMessagesType",
            value: function(e) {
                var t = this,
                    n = {};
                return this.isSelectedAnotherUserInUserSelect() && (n = (0, a.default)({}, n, this.getUserId())), this.messagesButtons.isLoading = !0, this.getMessages(e.type, n).then(function() {
                    t.generatePaginationList(), t.messagesButtons.buttons.forEach(function(e) {
                        e.active = !e.active
                    })
                }).finally(function() {
                    t.messagesButtons.isLoading = !1, t.viewedMessagesType = e.type
                })
            }
        }, {
            key: "generatePaginationList",
            value: function() {
                for (var e = [], t = this.pagination.total_pages >= this.paginationSettings.MAX_PAGINATION_LENGTH ? this.paginationSettings.MAX_PAGINATION_LENGTH : this.pagination.total_pages, n = 1; n <= t; n++) e.push(n);
                this.paginationSettings.visiblePages = e
            }
        }, {
            key: "getPage",
            value: function(e) {
                var t = this;
                e.page && !this.paginationSettings.isLoading && e.page !== this.pagination.current_page && (this.paginationSettings.isLoading = !0, this.getMessages(this.viewedMessagesType, e).then(function() {
                    return t.generatePagination(e.page)
                }).finally(function() {
                    return t.paginationSettings.isLoading = !1
                }))
            }
        }, {
            key: "generatePagination",
            value: function(e) {
                var t = this.paginationSettings.visiblePages[0],
                    n = this.paginationSettings.visiblePages[this.paginationSettings.visiblePages.length - 1];
                e === n && e !== this.pagination.total_pages ? (this.paginationSettings.visiblePages.push(n + 1), this.paginationSettings.visiblePages.shift()) : e === t && 1 !== t && (this.paginationSettings.visiblePages.unshift(t - 1), this.paginationSettings.visiblePages.pop())
            }
        }, {
            key: "hideNavigateButtons",
            value: function() {
                return this.pagination.total_pages <= this.paginationSettings.MAX_PAGINATION_LENGTH
            }
        }, {
            key: "sendMessage",
            value: function(e) {
                var t = this,
                    n = this.generateMessageModel(e);
                return this.sendMessageToDB(n).then(function(e) {
                    var i = e.message_id;
                    if (n.has_attachments) return t.sendAttachments(i, t._attachmentsService.documents)
                })
            }
        }, {
            key: "messageReply",
            value: function(e, t, n) {
                var i = this;
                return this.messageReplyToDB(e, t, n).then(function() {
                    return i._$q.resolve()
                })
            }
        }, {
            key: "getInboxMessages",
            value: function(e) {
                var t = this;
                this.messagesButtons.isLoading = !0, this.getInboxFromDb(e).then(function() {
                    return t.generatePaginationList()
                }).finally(function() {
                    return t.messagesButtons.isLoading = !1
                })
            }
        }, {
            key: "sendAttachments",
            value: function(e, t) {
                var n = this,
                    i = t[t.length - 1];
                return !this._attachmentsService.chunkSize && this._attachmentsService.calcChunkSize(), this._attachmentsService.uploadFileFromLocalDisk(i).then(function(a) {
                    var s = a.substring(a.indexOf(n._attachmentsService.base64Marker) + n._attachmentsService.base64Marker.length),
                        r = s.length,
                        o = {
                            message_id: e,
                            filename: i.name,
                            filesize: i.size,
                            mime_type: i.type
                        };
                    return r <= n._attachmentsService.chunkSize ? (o.content = s, n.createAttachment(o).then(function() {
                        return n._attachmentsService.removeLastDocument(t), t.length ? n.sendAttachments(e, t) : n.attachmentsFinished(e)
                    })) : n.createAttachment(o).then(function(a) {
                        var r = a.attachment_id,
                            o = n._attachmentsService.separateDocumentOnChunks(s),
                            l = 100 / o.length,
                            c = o.shift();
                        return i.loaderWidth = 0, n.sendChunks(e, r, c, o, t, l, i)
                    })
                })
            }
        }, {
            key: "sendChunks",
            value: function(e, t, n, i, a, s, r) {
                var o = this;
                return this.sendAttachmentsDataToDB(e, t, n).then(function() {
                    var n = i.shift();
                    return !i.length && n && o._attachmentsService.removeLastDocument(a), n ? (r.loaderWidth += s, o.sendChunks(e, t, n, i, a, s, r)) : a.length ? o.sendAttachments(e, a) : o.attachmentsFinished(e)
                })
            }
        }, {
            key: "generateMessageModel",
            value: function(e) {
                var t = e.subject,
                    n = e.body,
                    i = e.type,
                    a = e.has_attachments,
                    s = e.regarding,
                    r = e.sender_type,
                    o = e.sender_id,
                    l = e.send_on,
                    c = e.reply_to,
                    d = this.getRecipientsIds(),
                    u = d.learners,
                    _ = d.teachers,
                    f = d.form_tutors,
                    v = d.parents,
                    m = {
                        max_priority: this.recipientsData.maxPriority,
                        parental_responsibility: this.recipientsData.parentalResponsibility,
                        enabled: !0
                    },
                    h = {
                        subject: t,
                        body: n,
                        type: i,
                        has_attachments: a,
                        sender_type: r,
                        sender_id: o,
                        regarding: s,
                        recipients: {
                            learners: u,
                            teachers: _,
                            form_tutors: f,
                            parents: v,
                            adhoc: this.customSearches.map(function(e) {
                                return e.value
                            }).filter(function(e) {
                                return e
                            })
                        }
                    };
                return this.recipientsData.edited && (h.parent_criteria = m), l && (h.send_on = l), c && (h.reply_to = c), (this.isUsedVariables(n) || this.isUsedVariables(t)) && (h.using_variables = !0), this.recordMessage && (h.communications_log = !0), h
            }
        }, {
            key: "isUsedVariables",
            value: function(e) {
                var t = this;
                if (this.variables && e)
                    for (var a = (0, i.default)(this.variables).reduce(function(e, a) {
                            return e.push.apply(e, (0, n.default)((0, i.default)(t.variables[a]))), e
                        }, []), s = 0; s < a.length; s++)
                        if (-1 !== e.indexOf(a[s])) return !0
            }
        }, {
            key: "isAlreadyAdded",
            value: function(e, t, n) {
                return !!e.find(function(e) {
                    return -1 !== n[e].indexOf(t)
                })
            }
        }, {
            key: "getDefaultMessageType",
            value: function() {
                return this._userService.user._local.can_create_message_types.includes("email") ? "email" : this._userService.user._local.can_create_message_types[0]
            }
        }, {
            key: "getRecipientsIds",
            value: function() {
                var e = this,
                    t = {
                        learners: [],
                        teachers: [],
                        form_tutors: [],
                        parents: []
                    };
                return this.editableRecipients.reduce(function(n, i) {
                    return "Learner" !== i.role && "Admission" !== i.role && "Leaver" !== i.role || e.isAlreadyAdded(["learners"], i.id, t) ? "Teacher" !== i.role && "Employee" !== i.role || e.isAlreadyAdded(["teachers", "form_tutors"], i.id, t) ? "Form Tutor" !== i.role && "HOY" !== i.role && "HOH" !== i.role || e.isAlreadyAdded(["teachers", "form_tutors"], i.id, t) ? "Parent" !== i.role || e.isAlreadyAdded(["teachers", "form_tutors"], i.id, t) || t.parents.push(i.id) : t.form_tutors.push(i.id) : t.teachers.push(i.id) : t.learners.push(i.id), t
                }, t)
            }
        }, {
            key: "addRoleToRecipients",
            value: function(e, t) {
                e.forEach(function(e) {
                    e.role = t, e.roles = [t], e.ids = [e.id]
                })
            }
        }, {
            key: "getAvailableRecipientsNumber",
            value: function() {
                var e = [];
                return this.editableRecipients.forEach(function(t) {
                    -1 === e.indexOf(t.id) && e.push(t.id)
                }), e.length
            }
        }, {
            key: "setRecipientsAvailability",
            value: function() {
                var e = this;
                this.recipients.forEach(function(t) {
                    t.available = "email" === e.messageType && t.email || "sms" === e.messageType && t.mobile_phone || "push" === e.messageType && t.app_active || "push | sms" === e.messageType && (t.app_active || t.mobile_phone)
                })
            }
        }, {
            key: "getPreparedAvailableRecipients",
            value: function() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [];
                return this.recipients.filter(function(t) {
                    return t.available && -1 === e.indexOf(t)
                })
            }
        }, {
            key: "getRecipientsNumberByType",
            value: function(e) {
                return this.recipients.filter(function(t) {
                    return t.role === e
                }).length
            }
        }, {
            key: "getSelectedRecipientsNumberByType",
            value: function(e) {
                return this.editableRecipients.filter(function(t) {
                    return t.role === e && t.available
                }).length
            }
        }, {
            key: "getRecipientState",
            value: function(e) {
                return e.available ? -1 !== this.editableRecipients.indexOf(e) ? "checked" : "unchecked" : "warning"
            }
        }, {
            key: "getRelatedTeachers",
            value: function(e) {
                var t = e.learner_ids,
                    n = e.form_group_ids,
                    i = e.year_group_ids;
                return this._teachersService.getTeachersFromDb({
                    learner_ids: t,
                    form_group_ids: n,
                    year_group_ids: i
                })
            }
        }, {
            key: "getRelatedEmployees",
            value: function(e) {
                var t = e.learner_ids,
                    n = e.form_group_ids,
                    i = e.year_group_ids,
                    a = e.house_group_ids;
                return this._teachersService.getEmployeesFromDb({
                    learner_ids: t,
                    form_group_ids: n,
                    year_group_ids: i,
                    house_group_ids: a
                })
            }
        }, {
            key: "getRelatedParents",
            value: function(e) {
                var t = {
                    learner_ids: e
                };
                return this.parentIdsWithoutBooking.length ? (t.only_parents = !0, t.parent_ids = this.parentIdsWithoutBooking) : t.communicator = !0, this._contactsDataService.getRelatedParentsFromDb(t)
            }
        }, {
            key: "toggleStaticButton",
            value: function(e, t, n) {
                return n || (e.isClicked = !e.isClicked), e.isClicked ? (e.isAddedType ? this.addRecipients(t) : (this.addRecipients(t, e.recipientType), e.isAddedType = !0), e.isFilled = !0) : (this.removeRecipients(e.recipientType), e.isFilled = !1), this._$q.resolve()
            }
        }, {
            key: "toggleDynamicButton",
            value: function(e, t, n, i) {
                var a = this;
                return i || (e.isClicked = !e.isClicked), e.isClicked && !e.isLoaded ? (e.isLoading = !0, n().then(function(t) {
                    e.isAddedType || (a.addRecipients(t, e.recipientType), e.isAddedType = !0, e.isFilled = !0)
                }).finally(function() {
                    e.isLoading = !1, e.isLoaded = !0
                })) : (e.isClicked ? (this.addRecipients(t), e.isFilled = !0) : (this.removeRecipients(e.recipientType), e.isFilled = !1), this._$q.resolve())
            }
        }, {
            key: "getFormattedRecipientNames",
            value: function(e) {
                var t = "";
                return e.forEach(function(n, i) {
                    t += " " + n.name, e.length !== i + 1 && (t += ",")
                }), t
            }
        }, {
            key: "formatLastVisitDate",
            value: function(e) {
                if (angular.isDefined(e)) {
                    var t = new Date(e),
                        n = new Date,
                        i = (new Date).setDate(n.getDate() - 1);
                    return this._$filter("date")(n, this._dateService.getDateFormat("defaultDate"), "UTC") === this._$filter("date")(t, this._dateService.getDateFormat("defaultDate"), "UTC") ? "TODAY" : this._$filter("date")(i, this._dateService.getDateFormat("defaultDate"), "UTC") === this._$filter("date")(t, this._dateService.getDateFormat("defaultDate"), "UTC") ? "YESTERDAY" : this._$filter("date")(t, this._dateService.getDateFormat("defaultDate"), "UTC")
                }
                return "-"
            }
        }, {
            key: "getRecipientStatus",
            value: function(e) {
                return "sms" !== this.messageType || e.mobile_phone ? "email" !== this.messageType || e.email ? "push" !== this.messageType || e.app_active ? "push | sms" !== this.messageType || e.app_active || e.mobile_phone ? void 0 : "No App login or Mobile Phone Number" : "App isn't active" : "Email Address Missing" : "Mobile Phone Number Missing"
            }
        }, {
            key: "isUserModal",
            value: function() {
                return (this._userService.checkRole("employee") || this._userService.checkRole("parent") && this._userService.user.children.length > 1) && !this.learnerIdsWithoutBooking.length && !this.clubLearners.length
            }
        }, {
            key: "goToPreviousStep",
            value: function() {
                this.isReply || (this.isUserModal() && this._modalDefaultService.showModalWithTemplates("modal-select-users", null, "Select Users"), this.showSelectRecipientsModal()), this._$state.transitionTo("communicator.mailbox")
            }
        }, {
            key: "showSelectRecipientsModal",
            value: function() {
                this.messageType || (this.messageType = this.getDefaultMessageType()), this._modalDefaultService.showModalWithTemplates("modal-select-recipients", null, "Select Recipients")
            }
        }, {
            key: "getGroupsIds",
            value: function(e) {
                var t = [];
                return this._studentsService.selectedStudents.forEach(function(n) {
                    -1 === t.indexOf(n[e]) && n[e] && t.push(n[e])
                }), t
            }
        }, {
            key: "toggleCustomButton",
            value: function(e, t) {
                return t || (e.isClicked = !e.isClicked), this.isCustomTabSelected = !this.isCustomTabSelected, this._$q.resolve()
            }
        }, {
            key: "cleanSearchFields",
            value: function() {
                this.customSearches = [{
                    value: null
                }], this.isCustomTabSelected = !1
            }
        }, {
            key: "getUncheckedRecipients",
            value: function() {
                var e = this;
                return this.recipients.filter(function(t) {
                    return "unchecked" === e.getRecipientState(t)
                })
            }
        }, {
            key: "addRecipients",
            value: function(e, t) {
                var n = this.getUncheckedRecipients();
                t && this.addRoleToRecipients(e, t), this.recipients = this.recipients.concat(e), this.setRecipientsAvailability(), this.selectAll && (this.editableRecipients = this.getPreparedAvailableRecipients(n))
            }
        }, {
            key: "removeRecipients",
            value: function(e) {
                this.editableRecipients = this.editableRecipients.filter(function(t) {
                    return t.role !== e
                }), this.recipients = this.recipients.filter(function(t) {
                    return t.role !== e
                })
            }
        }, {
            key: "replaceCaretSimbols",
            value: function(e) {
                return e.replace(/\n/g, "<br>")
            }
        }, {
            key: "getLearnerIds",
            value: function() {
                return this._admissionsService.selectedStudents.length ? this._admissionsService.selectedStudents.map(function(e) {
                    return e.id
                }) : this._leaversService.selectedStudents.length ? this._leaversService.selectedStudents.map(function(e) {
                    return e.id
                }) : this._studentsService.selectedStudents.map(function(e) {
                    return e.id
                })
            }
        }, {
            key: "formatMessageDate",
            value: function(e, t) {
                e[t] = e[t].replace(/-/g, "/")
            }
        }, {
            key: "openMessage",
            value: function(e) {
                this.data.selectedMessage = this.messages.find(function(t) {
                    return t.id === e
                })
            }
        }, {
            key: "addPhotosToInboxRecipients",
            value: function(e) {
                e.roles = [e.sender.type], e.ids = [e.sender.id]
            }
        }, {
            key: "isRecipientsExist",
            value: function() {
                return this.editableRecipients.length || this.customSearches.map(function(e) {
                    return e.value
                }).filter(function(e) {
                    return e
                }).length
            }
        }, {
            key: "handleNewMessageButton",
            value: function() {
                if (this._userService.checkRole("employee") && this.resetSelectedUsers(), this.resetRecipientsData(), this._userService.checkRole("employee") && this._userService.checkRole("parent")) this._modalDefaultService.showModalWithTemplates("modal-select-users", null, "Select Users");
                else if (this._userService.checkRole("learner") && this._userService.user.canCreateMessages) {
                    this.resetRecipientsButtons(), this.filterRecipientsButtons(["teachers", "formTutors", "hoy", "hoh"]), this._studentsService.selectedStudents = [this._userService.user._local.user], this.showSelectRecipientsModal()
                } else if (this._userService.checkRole("parent") && 1 === this._userService.user.children.length) {
                    this.resetRecipientsButtons(), this.filterRecipientsButtons(["teachers", "formTutors", "hoy", "hoh"]), this._studentsService.selectedStudents = this._userService.user.children, this.showSelectRecipientsModal()
                } else(this._userService.checkRole("employee") || this._userService.checkRole("parent") && this._userService.user.canCreateMessages) && this._modalDefaultService.showModalWithTemplates("modal-select-users", null, "Select Users")
            }
        }, {
            key: "cantCreateNewMessage",
            value: function() {
                return (this._userService.checkRole("employee") || this._userService.checkRole("learner") || this._userService.checkRole("parent")) && !this._userService.user.canCreateMessages
            }
        }, {
            key: "resetSelectedUsers",
            value: function() {
                this._admissionsService.selectedStudents = [], this._studentsService.clearSelectedStudents(), this._teachersService.selectedTeachers = [], this._leaversService.selectedStudents = []
            }
        }, {
            key: "getInboxFromDb",
            value: function() {
                var e = this,
                    t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                return !t.page && (t.page = 1), !t.per_page && (t.per_page = 10), this.archived && (t.archived = this.archived), this._requestService.isDemoMode && (t.currentType = this._userService.user.data.types[0]), this._requestService.getData("messages", "inbox", t).then(function(n) {
                    n.messages.forEach(function(t) {
                        e.addPhotosToInboxRecipients(t), e.formatMessageDate(t, "date"), t.subject && (t.subject = e.replaceCaretSimbols(t.subject)), t.body && (t.body = e.replaceCaretSimbols(t.body))
                    }), e.messages = n.messages, e.pagination = n.pagination, t.newMessageId && "received" !== e.viewedMessagesType && (e.resetMessagesButtons(), e.generatePaginationList()), (!e.isMobile() && n.messages.length || t.newMessageId) && (e.openMessage(t.newMessageId ? t.newMessageId : n.messages[0].id), e.data.selectedMessage.read || e.markMessageAsReaded(e.data.selectedMessage.id))
                })
            }
        }, {
            key: "addPhotosToOutboxRecipients",
            value: function(e) {
                e.ids = e.recipients.map(function(e) {
                    return e.id
                }), e.roles = e.recipients.map(function(e) {
                    return e.type
                }), e.recipients.forEach(function(t) {
                    t.ids = [t.id], e.photos = e.photos || [], t.roles = [t.type]
                })
            }
        }, {
            key: "setViewsCount",
            value: function(e) {
                e.forEach(function(e) {
                    e.views = 0, e.recipients.forEach(function(t) {
                        t.read && e.views++
                    })
                })
            }
        }, {
            key: "isMobile",
            value: function() {
                return this._windowWidthService.windowWidth <= this._deviceMarginConstants.MOBILE_MARGIN
            }
        }, {
            key: "ownMailbox",
            value: function() {
                return !this.selectedUser || this.selectedUser.id === this._userService.user.data.id
            }
        }, {
            key: "getOutboxFromDb",
            value: function(e) {
                var t = this;
                return this._requestService.isDemoMode && (e.currentType = this._userService.user.data.types[0]), this._requestService.getData("messages", "outbox", e).then(function(e) {
                    e.messages.forEach(function(n) {
                        t.addPhotosToOutboxRecipients(n), t.formatMessageDate(n, "created"), t.formatMessageDate(n, "queued_until"), t.setViewsCount(e.messages), n.subject && (n.subject = t.replaceCaretSimbols(n.subject)), n.body && (n.body = t.replaceCaretSimbols(n.body))
                    }), t.messages = e.messages, t.pagination = e.pagination, !t.isMobile() && e.messages.length && t.openMessage(e.messages[0].id)
                })
            }
        }, {
            key: "markMessagesAsRead",
            value: function() {
                var e = this;
                return this._requestService.getData("messages", "messageMarkAllRead").then(function() {
                    e.data.messages.forEach(function(e) {
                        return e.read = !0
                    }), e._statusService.status.new_messages = 0
                })
            }
        }, {
            key: "markMessageAsReaded",
            value: function(e) {
                var t = this;
                return this._requestService.getData("messages", "messageMarkRead", {
                    message_id: e
                }).then(function() {
                    t.data.selectedMessage.read = !0, t._statusService.status.new_messages = t._statusService.status.new_messages > 0 ? t._statusService.status.new_messages - 1 : 0
                })
            }
        }, {
            key: "getAttachmentFromDB",
            value: function(e) {
                var t = e.message_id,
                    n = e.attachment_id;
                return this._requestService.getData("messages", "attachmentFetch", {
                    message_id: t,
                    attachment_id: n,
                    format: 2
                })
            }
        }, {
            key: "sendMessageToDB",
            value: function(e) {
                return this._requestService.getData("messages", "messageCreate", e)
            }
        }, {
            key: "sendMessageLog",
            value: function(e) {
                return this._requestService.getData("messages", "messageLog", e)
            }
        }, {
            key: "createAttachment",
            value: function(e) {
                var t = e.message_id,
                    n = e.filename,
                    i = e.filesize,
                    a = e.mime_type,
                    s = e.content;
                return this._requestService.getData("messages", "attachmentCreate", {
                    message_id: t,
                    filename: n,
                    filesize: i,
                    mime_type: a,
                    content: s
                })
            }
        }, {
            key: "attachmentsFinished",
            value: function(e) {
                return this._requestService.getData("messages", "attachmentsFinished", {
                    message_id: e
                })
            }
        }, {
            key: "sendAttachmentsDataToDB",
            value: function(e, t, n) {
                return this._requestService.getData("messages", "attachmentChunkAdd", {
                    message_id: e,
                    attachment_id: t,
                    content: n
                })
            }
        }, {
            key: "messageReplyToDB",
            value: function(e, t, n) {
                var i = this.recordMessage;
                return this._requestService.getData("messages", "messageReply", {
                    in_reply_to: e,
                    subject: t,
                    body: n,
                    communications_log: i
                })
            }
        }, {
            key: "getSmsDetailsFromDb",
            value: function(e) {
                return this._requestService.getData("messages", "smsDetails", {
                    message: e
                })
            }
        }, {
            key: "messageVariables",
            value: function(e) {
                var t = this;
                return this._requestService.getData("messages", "variables", {
                    recipients: e
                }).then(function(e) {
                    return t.variables = e.variables, e.variables
                })
            }
        }, {
            key: "messageArchive",
            value: function(e) {
                var t = this,
                    n = {
                        message_id: e,
                        archived: !this.archived
                    };
                return this._requestService.getData("messages", "messageArchive", n).then(function() {
                    return t.getInboxFromDb({
                        page: t.pagination.current_page
                    })
                })
            }
        }, {
            key: "messageAbort",
            value: function(e) {
                return this._requestService.getData("messages", "messageAbort", {
                    message_id: e
                })
            }
        }, {
            key: "selectedUser",
            get: function() {
                return this.data.selectedUser
            },
            set: function(e) {
                this.data.selectedUser = e
            }
        }, {
            key: "recipients",
            get: function() {
                return this.data.recipientsData.recipients
            },
            set: function(e) {
                this.data.recipientsData.recipients = e
            }
        }, {
            key: "editableRecipients",
            get: function() {
                return this.data.recipientsData.editableRecipients
            },
            set: function(e) {
                this.data.recipientsData.editableRecipients = e
            }
        }, {
            key: "teachers",
            get: function() {
                return this.data.recipientsData.teachers
            },
            set: function(e) {
                this.data.recipientsData.teachers = e
            }
        }, {
            key: "employees",
            get: function() {
                return this.data.recipientsData.employees
            },
            set: function(e) {
                this.data.recipientsData.employees = e
            }
        }, {
            key: "parents",
            get: function() {
                return this.data.recipientsData.parents
            },
            set: function(e) {
                this.data.recipientsData.parents = e
            }
        }, {
            key: "formTutors",
            get: function() {
                return this.data.recipientsData.formTutors
            },
            set: function(e) {
                this.data.recipientsData.formTutors = e
            }
        }, {
            key: "hoy",
            get: function() {
                return this.data.recipientsData.hoy
            },
            set: function(e) {
                this.data.recipientsData.hoy = e
            }
        }, {
            key: "hoh",
            get: function() {
                return this.data.recipientsData.hoh
            },
            set: function(e) {
                this.data.recipientsData.hoh = e
            }
        }, {
            key: "selectedMessage",
            get: function() {
                return this.data.selectedMessage
            },
            set: function(e) {
                this.data.selectedMessage = e
            }
        }, {
            key: "viewedMessagesType",
            get: function() {
                return this.data.viewedMessagesType
            },
            set: function(e) {
                this.data.viewedMessagesType = e
            }
        }, {
            key: "messageType",
            get: function() {
                return this.data.recipientsData.messageType
            },
            set: function(e) {
                this.data.recipientsData.messageType = e
            }
        }, {
            key: "isCustomTabSelected",
            get: function() {
                return this.data.recipientsData.isCustomTabSelected
            },
            set: function(e) {
                this.data.recipientsData.isCustomTabSelected = e
            }
        }, {
            key: "isReply",
            get: function() {
                return this.data.recipientsData.isReply
            },
            set: function(e) {
                this.data.recipientsData.isReply = e
            }
        }, {
            key: "customSearches",
            get: function() {
                return this.data.recipientsData.customSearches
            },
            set: function(e) {
                this.data.recipientsData.customSearches = e
            }
        }, {
            key: "recordMessage",
            get: function() {
                return this.data.recipientsData.recordMessage
            },
            set: function(e) {
                this.data.recipientsData.recordMessage = e
            }
        }, {
            key: "recipientsButtons",
            get: function() {
                return this.data.recipientsButtons
            },
            set: function(e) {
                this.data.recipientsButtons = e
            }
        }, {
            key: "recipientsData",
            get: function() {
                return this.data.recipientsData
            },
            set: function(e) {
                this.data.recipientsData = e
            }
        }, {
            key: "usersType",
            get: function() {
                return this.data.recipientsData.usersType
            },
            set: function(e) {
                this.data.recipientsData.usersType = e
            }
        }, {
            key: "learnerIdsWithoutBooking",
            get: function() {
                return this.data.recipientsData.learnerIdsWithoutBooking
            },
            set: function(e) {
                this.data.recipientsData.learnerIdsWithoutBooking = e
            }
        }, {
            key: "clubLearners",
            get: function() {
                return this.data.recipientsData.clubLearners
            },
            set: function(e) {
                this.data.recipientsData.clubLearners = e
            }
        }, {
            key: "parentIdsWithoutBooking",
            get: function() {
                return this.data.recipientsData.parentIdsWithoutBooking
            },
            set: function(e) {
                this.data.recipientsData.parentIdsWithoutBooking = e
            }
        }, {
            key: "pagination",
            get: function() {
                return this.data.pagination
            },
            set: function(e) {
                this.data.pagination = e
            }
        }, {
            key: "messages",
            get: function() {
                return this.data.messages
            },
            set: function(e) {
                this.data.messages = e
            }
        }, {
            key: "messagesButtons",
            get: function() {
                return this.data.messagesButtons
            },
            set: function(e) {
                this.data.messagesButtons = e
            }
        }, {
            key: "paginationSettings",
            get: function() {
                return this.data.paginationSettings
            },
            set: function(e) {
                this.data.paginationSettings = e
            }
        }, {
            key: "variables",
            get: function() {
                return this.data.variables
            },
            set: function(e) {
                this.data.variables = e
            }
        }, {
            key: "archived",
            get: function() {
                return this.data.archived
            },
            set: function(e) {
                this.data.archived = e
            }
        }, {
            key: "users",
            get: function() {
                return this.data.users
            },
            set: function(e) {
                this.data.users = e
            }
        }, {
            key: "selectAll",
            get: function() {
                return this.data.selectAll
            },
            set: function(e) {
                this.data.selectAll = e
            }
        }, {
            key: "editor",
            get: function() {
                return this.data.editor
            },
            set: function(e) {
                this.data.editor = e
            }
        }]), e
    }();
    exports.default = c
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i) {
            "ngInject";
            (0, n.default)(this, e), this._requestService = t, this._userService = i, this.initValues()
        }
        return e.$inject = ["requestService", "userService"], (0, i.default)(e, [{
            key: "initValues",
            value: function(e) {
                this.data && !e || (this.data = {
                    relatedParents: null,
                    contacts: null,
                    learner: null
                })
            }
        }, {
            key: "prepareContactsForUserSelect",
            value: function(e) {
                return e.map(function(e) {
                    return e.fullName = e.forename[0] + " " + e.surname, e.resultRow = e.forename + " " + e.surname, e.role = "parent", e
                })
            }
        }, {
            key: "fetchContacts",
            value: function(e) {
                return this._requestService.isDemoMode && (e.currentType = this._userService.user.data.types[0]), this._requestService.getData("contacts", "contacts_data", e)
            }
        }, {
            key: "getContactsDataFromDb",
            value: function(e) {
                var t = this;
                return this.fetchContacts(e).then(function(n) {
                    return t.contacts[e.learner_ids] = n.contacts, t.data.learner = n.learner, n
                })
            }
        }, {
            key: "getRelatedParentsFromDb",
            value: function() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                return this._requestService.isDemoMode && (e.currentType = this._userService.user.data.types[0]), this._requestService.getData("contacts", "contacts_data", e)
            }
        }, {
            key: "learner",
            get: function() {
                return this.data.learner
            }
        }, {
            key: "contacts",
            get: function() {
                return this.data.contacts
            },
            set: function(e) {
                this.data.contacts = e
            }
        }, {
            key: "relatedParents",
            get: function() {
                return this.data.relatedParents
            },
            set: function(e) {
                this.data.relatedParents = e
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = r(t(3520)),
        i = r(t(35)),
        a = r(t(1)),
        s = r(t(2));

    function r(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var o = function() {
        function e(t, n, i, s, r, o, l, c) {
            "ngInject";
            (0, a.default)(this, e), this._attachmentsService = i, this._$filter = t, this._$stateParams = n, this._modalDefaultService = o, this._notificationService = l, this._requestService = s, this._userService = r, this._dateService = c, this.initValues()
        }
        return e.$inject = ["$filter", "$stateParams", "attachmentsService", "requestService", "userService", "modalDefaultService", "notificationService", "dateService"], (0, s.default)(e, [{
            key: "initValues",
            value: function(e) {
                this.data && !e || (this.data = {
                    lookups: null,
                    dataCollectionValues: null,
                    activeUser: null
                })
            }
        }, {
            key: "getLookupItemName",
            value: function(e, t) {
                var n = this.lookups[e].find(function(e) {
                    return e.id === t
                });
                return n ? n.description : ""
            }
        }, {
            key: "getUsers",
            value: function() {
                var e = [],
                    t = angular.copy(this._userService.user.data);
                return this._userService.checkRole("employee") ? (t.param = {
                    employee_id: t.id
                }, t.type = "employee") : this._userService.checkRole("parent") && (t.param = {
                    contact_id: t.id
                }, t.type = "contact"), t.isActive = !0, e.push(t), this._userService.checkRole("parent") && this._userService.user.children.forEach(function(t) {
                    var n = angular.copy(t);
                    n.param = {
                        learner_id: n.id
                    }, n.type = "learner", e.push(n)
                }), e
            }
        }, {
            key: "getActiveUser",
            value: function(e) {
                return e.filter(function(e) {
                    return e.isActive
                }).pop()
            }
        }, {
            key: "manageDataCollection",
            value: function(e, t, n, i) {
                var a = this,
                    s = this.prepNextMethodName(i);
                return e.field = t, e.operation = n, this[s](e).then(function() {
                    return a._notificationService.showSuccessNotification("Success"), a.getDataCollectionSubmissionFromDb(a._$stateParams.learner_id, a._$stateParams.employee_id, a._$stateParams.contact_id)
                })
            }
        }, {
            key: "selectUser",
            value: function(e, t) {
                return e.forEach(function(e) {
                    e.isActive = !1
                }), t.isActive = !0, this.getDataCollectionValuesFromDb(t.param)
            }
        }, {
            key: "isDataChanged",
            value: function(e) {
                return !angular.equals(this.dataCollectionValues.categories, e)
            }
        }, {
            key: "getFreeAddressTypes",
            value: function(e, t) {
                var n = e.map(function(e) {
                    return e.type
                });
                return this.lookups.address_type[t].filter(function(e) {
                    return -1 === n.indexOf(e)
                })
            }
        }, {
            key: "showAddContactModal",
            value: function(e, t, n) {
                var i = {
                    fields: e,
                    firstPropName: t,
                    label: n,
                    fieldType: "address" === t ? "email" : "text"
                };
                this._modalDefaultService.showModalWithTemplates("modal-add-contact", i, "Add new contact")
            }
        }, {
            key: "changeFieldItemLocation",
            value: function(e) {
                var t = e.field,
                    n = e.selectedItem;
                t.data.forEach(function(e) {
                    e.location === n.location && e !== n && e.main && (n.main = !1)
                })
            }
        }, {
            key: "toggleCheckbox",
            value: function(e, t, n, i) {
                e.preventDefault(), n = n.map(function(e) {
                    return t !== e && (e[i] = !1), e
                }), t[i] = !t[i]
            }
        }, {
            key: "togglePrimaryCheckbox",
            value: function(e) {
                var t = e.event,
                    n = e.selectedField,
                    i = e.fields;
                this.toggleCheckbox(t, n, i, "primary")
            }
        }, {
            key: "toggleMainTelephoneCheckbox",
            value: function(e) {
                var t = e.event,
                    n = e.selectedField,
                    i = e.fields;
                this.toggleCheckbox(t, n, i, "main")
            }
        }, {
            key: "toggleMainEmailCheckbox",
            value: function(e) {
                var t = e.event,
                    n = e.selectedField,
                    i = e.fields,
                    a = n.location,
                    s = i.filter(function(e) {
                        return a === e.location
                    });
                this.toggleCheckbox(t, n, s, "main")
            }
        }, {
            key: "getChangedFields",
            value: function(e) {
                var t = {};
                for (var n in e)
                    if (e.hasOwnProperty(n)) {
                        var i = e[n];
                        for (var a in i) i.hasOwnProperty(a) && !angular.equals(this.dataCollectionValues.categories[n][a], i[a]) && ("id-lookup-array" === i[a].type ? t[a] = i[a].data.map(function(e) {
                            return e = {
                                id: e.id
                            }
                        }) : t[a] = i[a].data)
                    }
                return t
            }
        }, {
            key: "saveCollectionChanges",
            value: function(e) {
                var t = this,
                    n = this.getChangedFields(e),
                    a = this.prepNextMethodName(this.dataCollectionValues.next_method);
                return (0, i.default)(n, this.dataCollectionValues.param), this[a](n).then(function() {
                    return t._notificationService.showSuccessNotification("Success"), t.getDataCollectionValuesFromDb(t.dataCollectionValues.param)
                })
            }
        }, {
            key: "getCategories",
            value: function(e) {
                var t = {};
                for (var n in e) e.hasOwnProperty(n) && (t[e[n].category] || (t[e[n].category] = {}), t[e[n].category][n] = e[n]);
                return t
            }
        }, {
            key: "prepNextMethodName",
            value: function(e) {
                return e.replace("EduLink.", "set")
            }
        }, {
            key: "getDataCollectionValuesFromDb",
            value: function() {
                var e = this,
                    t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                    n = t.learner_id,
                    i = t.contact_id,
                    a = t.employee_id,
                    s = {};
                return this._requestService.isDemoMode ? n || i || a || !this._userService.checkRole("employee") ? n || i || a || !this._userService.checkRole("parent") ? n || i || a || !this._userService.checkRole("learner") ? n ? s.userType = "learner" : i ? s.userType = "parent" : a && (s.userType = "employee") : s.userType = "learner" : s.userType = "parent" : s.userType = "employee" : (n && (s.learner_id = n), i && (s.contact_id = "" + i), a && (s.employee_id = a)), this._requestService.getData("dataCollection", "values", s).then(function(t) {
                    var n = {
                        param: t.param,
                        next_method: t.next_method,
                        categories: e.getCategories(t.fields)
                    };
                    return t.category_info && (n.category_info = t.category_info), e.dataCollectionValues = n
                })
            }
        }, {
            key: "exportLog",
            value: function() {
                var e = this,
                    t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                    n = {
                        from_date: t.from_date,
                        until_date: t.until_date
                    };
                return this._requestService.getData("dataCollection", "logExport", n).then(function(t) {
                    var n = t.result;
                    return e._attachmentsService.downloadDocument(n)
                })
            }
        }, {
            key: "getDataCollectionSubmissionsFromDb",
            value: function() {
                var e = this;
                return this._requestService.getData("dataCollection", "submissions").then(function(t) {
                    return t.submissions.map(function(t) {
                        return t.submitted = e._$filter("date")(new Date(t.submitted.replace(/-/g, "/")), e._dateService.getDateFormat("defaultDate")), t
                    })
                })
            }
        }, {
            key: "processSubmissionFields",
            value: function(e) {
                (0, n.default)(e).forEach(function(e) {
                    if ("id-lookup-array" === e.type) {
                        var t = e.new ? e.new.map(function(e) {
                                return e.id
                            }) : [],
                            n = e.original ? e.original.map(function(e) {
                                return e.id
                            }) : [];
                        e.new && e.new.forEach(function(e) {
                            e.id ? e.added = !n.includes(e.id) : e.added = !0
                        }), e.original && e.original.forEach(function(e) {
                            if (!e.id) throw Error("Expected id attribute on field");
                            e.removed = !t.includes(e.id)
                        })
                    }
                })
            }
        }, {
            key: "getDataCollectionSubmissionFromDb",
            value: function(e, t, n) {
                var i = this,
                    a = {};
                return e && (a.learner_id = e), t && (a.employee_id = t), n && (a.contact_id = "" + n), this._requestService.getData("dataCollection", "submission", a).then(function(e) {
                    return i.processSubmissionFields(e.fields), {
                        fields: e.fields,
                        next_method: e.next_method,
                        param: e.param
                    }
                })
            }
        }, {
            key: "getDataCollectionLookupsFromDb",
            value: function() {
                var e = this;
                return this._requestService.getData("dataCollection", "lookups").then(function(t) {
                    return e.lookups = t
                })
            }
        }, {
            key: "setDataCollectionManageLearnerField",
            value: function(e) {
                var t = e.learner_id,
                    n = e.field,
                    i = e.operation,
                    a = {};
                return t && (a.learner_id = t), n && (a.field = n), i && (a.operation = i), this._requestService.getData("dataCollection", "manageLearner", a)
            }
        }, {
            key: "setDataCollectionManageEmployeeField",
            value: function(e) {
                var t = e.employee_id,
                    n = e.field,
                    i = e.operation,
                    a = {};
                return t && (a.employee_id = t), n && (a.field = n), i && (a.operation = i), this._requestService.getData("dataCollection", "manageEmployee", a)
            }
        }, {
            key: "setDataCollectionManageContactField",
            value: function(e) {
                var t = e.contact_id,
                    n = e.field,
                    i = e.operation,
                    a = {};
                return t && (a.contact_id = "" + t), n && (a.field = n), i && (a.operation = i), this._requestService.getData("dataCollection", "manageContact", a)
            }
        }, {
            key: "setDataCollectionSubmitContact",
            value: function(e) {
                return e.contact_id = "" + e.contact_id, this._requestService.getData("dataCollection", "submitContact", e)
            }
        }, {
            key: "setDataCollectionSubmitEmployee",
            value: function(e) {
                return this._requestService.getData("dataCollection", "submitEmployee", e)
            }
        }, {
            key: "setDataCollectionSubmitLearner",
            value: function(e) {
                return this._requestService.getData("dataCollection", "submitLearner", e)
            }
        }, {
            key: "dataCollectionLog",
            value: function(e) {
                var t = this;
                return this._requestService.getData("dataCollection", "log", e).then(function(e) {
                    return e.log.map(function(e) {
                        return e.actioned_temp_field_for_sorting = new Date(e.actioned).getTime(), e.actioned = moment(e.actioned).format(t._dateService.getDateFormat("momentDateTime")), e
                    })
                })
            }
        }, {
            key: "getDataCollectionAddressValidate",
            value: function(e) {
                var t = e.post_code,
                    n = e.country_id,
                    i = e.house_name_number,
                    a = {};
                return t && (a.post_code = t), n && (a.country_id = n), i && (a.house_name_number = i), this._requestService.getData("dataCollection", "addressValidate", a)
            }
        }, {
            key: "getDataCollectionExistingContacts",
            value: function() {
                return this._requestService.getData("dataCollection", "existingContacts")
            }
        }, {
            key: "getDateParams",
            value: function(e) {
                var t = null;
                return {
                    dateFrom: t = e.dateFrom && moment(e.dateFrom).isValid() && !moment(e.dateFrom).isAfter(moment()) ? e.dateFrom : moment().subtract(30, "days").format(this._dateService.getDateFormat("apiDate")),
                    dateTo: e.dateTo && moment(e.dateTo).isValid() && !moment(e.dateTo).isAfter(moment()) && !moment(e.dateTo).isBefore(moment(t)) ? e.dateTo : moment().format(this._dateService.getDateFormat("apiDate"))
                }
            }
        }, {
            key: "activeUser",
            get: function() {
                return this.data.activeUser
            },
            set: function(e) {
                this.data.activeUser = e
            }
        }, {
            key: "lookups",
            get: function() {
                return this.data.lookups
            },
            set: function(e) {
                this.data.lookups = e
            }
        }, {
            key: "dataCollectionValues",
            get: function() {
                return this.data.dataCollectionValues
            },
            set: function(e) {
                this.data.dataCollectionValues = e
            }
        }]), e
    }();
    exports.default = o
}, , , , function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e() {
            "ngInject";
            (0, n.default)(this, e), this.formats = {
                defaultDate: "dd/MM/yyyy",
                defaultDateTime: "dd/MM/yyyy HH:mm",
                defaultDateTimeFull: "dd/MM/yyyy HH:mm",
                apiDate: "YYYY-MM-DD",
                apiDateTime: "YYYY-MM-DD HH:mm",
                apiDateTimeFull: "YYYY-MM-DD HH:mm:ss",
                momentDate: "DD/MM/YYYY",
                momentDateTime: "DD/MM/YYYY HH:mm",
                momentDateTimeFull: "DD/MM/YYYY HH:mm:s"
            }
        }
        return (0, i.default)(e, [{
            key: "getDateFormat",
            value: function(e) {
                return this.formats[e] || this.formats.defaultDate
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e() {
            "ngInject";
            (0, n.default)(this, e)
        }
        return (0, i.default)(e, [{
            key: "desktop",
            get: function() {
                return devicejs.desktop()
            }
        }, {
            key: "tablet",
            get: function() {
                return devicejs.tablet()
            }
        }, {
            key: "mobile",
            get: function() {
                return devicejs.mobile()
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i) {
            "ngInject";
            (0, n.default)(this, e), this._studentsService = t, this._requestService = i, this.initValues()
        }
        return e.$inject = ["studentsService", "requestService"], (0, i.default)(e, [{
            key: "initValues",
            value: function(e) {
                this.data && !e || (this.data = {
                    analytics: null,
                    documentType: null,
                    documentName: null
                })
            }
        }, {
            key: "resetValues",
            value: function() {
                this.initValues(!0)
            }
        }, {
            key: "getPreparedAnalytics",
            value: function(e) {
                var t = this;
                return e.map(function(e) {
                    var n = t._studentsService.students.students.find(function(t) {
                        return t.id === "" + e.id
                    });
                    return n && (e.name = n.forename + " " + n.surname), e
                })
            }
        }, {
            key: "getDocumentAccessReport",
            value: function(e) {
                return this._requestService.getData("documents", "document_access_report", e)
            }
        }, {
            key: "analytics",
            get: function() {
                return this.data.analytics
            },
            set: function(e) {
                this.data.analytics = e
            }
        }, {
            key: "documentType",
            get: function() {
                return this.data.documentType
            },
            set: function(e) {
                this.data.documentType = e
            }
        }, {
            key: "documentName",
            get: function() {
                return this.data.documentName
            },
            set: function(e) {
                this.data.documentName = e
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = r(t(11)),
        i = r(t(43)),
        a = r(t(1)),
        s = r(t(2));

    function r(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var o = function() {
        function e(t, n, i, s, r) {
            "ngInject";
            (0, a.default)(this, e), this._requestService = t, this.storage = n.localStorage, this.sessionStorage = n.sessionStorage, this._configService = i, this._modalDefaultService = s, this._$window = r, this.data = {
                educationals: this.getEducationals(),
                isEducationalsEmpty: null,
                currentEducational: null
            }, this.data.isEducationalsEmpty = 0 === this.educationals.length
        }
        return e.$inject = ["requestService", "$storageService", "configService", "modalDefaultService", "$window"], (0, s.default)(e, [{
            key: "removeEducationalPasswordFromLocalStorage",
            value: function(e, t, n) {
                var a = this.educationals.findIndex(function(i) {
                    return i.serverUrl === n && i.schoolId === t && i.username === e
                }); - 1 !== a && (0, i.default)(this.educationals[a], "password"), this.data.educationals = this.educationals, this.storage.set("educationals", this.educationals)
            }
        }, {
            key: "saveEducationalToLocalStorage",
            value: function(e, t) {
                var i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null,
                    a = arguments[3],
                    s = {
                        username: e,
                        serverUrl: i.school.server,
                        schoolId: i.school.school_id,
                        name: a.establishment.name,
                        logo: a.establishment.logo,
                        user: {
                            title: a.user.title,
                            forename: a.user.forename,
                            surname: a.user.surname
                        }
                    };
                this._configService.isCordovaEnv && a.user.remember_password_permitted && t && (s.password = t), this.educationals = this.educationals.filter(function(e) {
                    return e.serverUrl !== s.serverUrl || e.schoolId !== s.schoolId || e.username !== s.username
                });
                var r = [s].concat((0, n.default)(this.educationals));
                this.data.educationals = r, this.storage.set("educationals", r), this.data.educationals.length && (this.isEducationalsEmpty = !1)
            }
        }, {
            key: "updateEducationalsInLocalStorage",
            value: function() {
                this.storage.set("educationals", this.educationals)
            }
        }, {
            key: "saveSchoolUrlToLocalStorage",
            value: function(e) {
                this.sessionStorage.set("schoolUrl", e)
            }
        }, {
            key: "getEducationalsFromStorage",
            value: function() {
                return this.storage.get("educationals")
            }
        }, {
            key: "getEducationals",
            value: function() {
                var e = this.getEducationalsFromStorage();
                return angular.isUndefined(e) ? [] : e
            }
        }, {
            key: "getSchoolDetails",
            value: function(e) {
                var t = this;
                return e.from_app = this._configService.isCordovaEnv, this._requestService.getData("other", "school_details", e).then(function(e) {
                    t._configService.schoolEnv = e.establishment
                }).catch(function() {
                    t._configService.isMultiSchoolServer = !0
                })
            }
        }, {
            key: "checkSchoolCode",
            value: function(e) {
                var t = this;
                return this._requestService.getData("schoolCode", "school_code", {
                    code: e
                }).then(function(n) {
                    var i = n.school.server.match("^(https://.*?)/")[1];
                    if (!i.endsWith("edulinkone.com") && !t._configService.isCordovaEnv) {
                        var a = i + "/#!/login?code=" + e;
                        t.showConfirmModal(a, i)
                    }
                    return n
                })
            }
        }, {
            key: "showConfirmModal",
            value: function(e, t) {
                var n = this;
                this._modalDefaultService.showModalWithTemplates("modal-confirm", {
                    confirm: function() {
                        return n._$window.location.href = e
                    },
                    cancel: function() {
                        return n._modalDefaultService.pop()
                    },
                    message: "Incorrect server. Load " + t + "?"
                }, "Incorrect Server")
            }
        }, {
            key: "currentEducational",
            set: function(e) {
                this.data.currentEducational = e
            },
            get: function() {
                return this.data.currentEducational
            }
        }, {
            key: "educationals",
            set: function(e) {
                this.data.educationals = e
            },
            get: function() {
                return this.data.educationals
            }
        }, {
            key: "isEducationalsEmpty",
            set: function(e) {
                this.data.isEducationalsEmpty = e
            },
            get: function() {
                return this.data.isEducationalsEmpty
            }
        }, {
            key: "schoolUrl",
            get: function() {
                return this.sessionStorage.get("schoolUrl")
            }
        }]), e
    }();
    exports.default = o
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(192)),
        i = s(t(1)),
        a = s(t(2));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = function() {
        function e(t, n, a, s) {
            "ngInject";
            (0, i.default)(this, e), this._$q = t, this._attachmentsService = n, this._requestService = a, this._notificationService = s, this.initValues()
        }
        return e.$inject = ["$q", "attachmentsService", "requestService", "notificationService"], (0, a.default)(e, [{
            key: "initValues",
            value: function(e) {
                this.data && !e || (this.data = {
                    millisecondsInMinute: 6e4,
                    exams: null,
                    countdown: null,
                    config: {
                        show_countdown: !1,
                        endTime: null
                    },
                    timetable: {
                        name: "Exam timetable",
                        params: {
                            page: "timetable"
                        }
                    },
                    entries: {
                        name: "Exam entries",
                        params: {
                            page: "entries"
                        }
                    },
                    results: {
                        name: "Exam results",
                        params: {
                            page: "results"
                        }
                    },
                    menu: []
                })
            }
        }, {
            key: "prepareTimetableDate",
            value: function(e) {
                e.forEach(function(e) {
                    e.date = moment(e.datetime).format("DD MMM YYYY"), e.hour = moment(e.datetime).format("LT"), e.datetime = moment(e.datetime)
                })
            }
        }, {
            key: "generateMenu",
            value: function(e, t, n) {
                var i = [];
                return e && i.push(this.data.timetable), n && i.push(this.data.entries), t && i.push(this.data.results), i
            }
        }, {
            key: "getExamsDataFromDb",
            value: function(e, t) {
                var i = this;
                return this._requestService.getData("exams", "exams", {
                    learner_id: e
                }).then(function(e) {
                    e.timetable.length && i.prepareTimetableDate(e.timetable), i.data.menu = i.generateMenu(e.show_timetable, e.show_results, e.show_entries), i.data.config.show_countdown = e.show_countdown, !t && (t = i.data.menu[0].params.page), i.data.exams = (0, n.default)({}, t, e[t]), i.data.countdown = e.countdown, i.data.config.endTime = moment() + i.countdown.minutes_to_go * i.data.millisecondsInMinute
                }).catch(function(e) {
                    return i._notificationService.showErrorNotification(e.message, void 0, e), i._$q.reject(e)
                })
            }
        }, {
            key: "downloadExamTimetablePDF",
            value: function(e) {
                var t = this;
                return this.getExamTimetablePDF({
                    learner_id: e
                }).then(function(e) {
                    var n = {
                        filename: "ExamTimetable",
                        content: e,
                        mime_type: "application/pdf"
                    };
                    t._attachmentsService.downloadDocument(n)
                })
            }
        }, {
            key: "getExamTimetablePDF",
            value: function(e) {
                return this._requestService.getData("exams", "exam_timetable_pdf", e).then(function(e) {
                    return e.document
                })
            }
        }, {
            key: "menu",
            get: function() {
                return this.data.menu
            }
        }, {
            key: "config",
            get: function() {
                return this.data.config
            }
        }, {
            key: "exams",
            get: function() {
                return this.data.exams
            }
        }, {
            key: "countdown",
            get: function() {
                return this.data.countdown
            }
        }]), e
    }();
    exports.default = r
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t) {
            "ngInject";
            (0, n.default)(this, e), this._requestService = t, this.initValues()
        }
        return e.$inject = ["requestService"], (0, i.default)(e, [{
            key: "initValues",
            value: function(e) {
                this.data && !e || (this.data = {
                    externalLinks: null
                })
            }
        }, {
            key: "getExternalLinks",
            value: function() {
                return this._requestService.getData("externalLinks", "externalLinks")
            }
        }, {
            key: "getExternalLinkAdd",
            value: function(e) {
                return this._requestService.getData("externalLinks", "externalLinkAdd", e)
            }
        }, {
            key: "getExternalLinkFetch",
            value: function(e) {
                return this._requestService.getData("externalLinks", "externalLinkFetch", e)
            }
        }, {
            key: "getExternalLinkRemove",
            value: function(e) {
                return this._requestService.getData("externalLinks", "externalLinkRemove", e)
            }
        }, {
            key: "externalLinks",
            get: function() {
                return this.data.externalLinks
            },
            set: function(e) {
                this.data.externalLinks = e
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(470)),
        i = s(t(1)),
        a = s(t(2));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = function() {
        function e(t) {
            "ngInject";
            (0, i.default)(this, e), this._$window = t, this.fastClicks = new n.default
        }
        return e.$inject = ["$window"], (0, a.default)(e, [{
            key: "addFastClick",
            value: function(e) {
                this.fastClicks.set(e, this._$window.FastClick.attach(document.body))
            }
        }, {
            key: "removeFastClick",
            value: function(e) {
                var t = this.fastClicks.get(e);
                t && (t.destroy(), this.fastClicks.delete(e))
            }
        }, {
            key: "hasFastClick",
            value: function(e) {
                return this.fastClicks.has(e)
            }
        }]), e
    }();
    exports.default = r
}, , , , , , , , , , , , , , , function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(26)),
        i = s(t(1)),
        a = s(t(2));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = function() {
        function e(t, n, a, s, r, o, l) {
            "ngInject";
            (0, i.default)(this, e), this._$q = t, this._contactsDataService = n, this._requestService = s, this._studentsService = o, this._teachersService = l, this._userService = r, this._establishmentService = a, this.initValues()
        }
        return e.$inject = ["$q", "contactsDataService", "establishmentService", "requestService", "userService", "studentsService", "teachersService"], (0, a.default)(e, [{
            key: "initValues",
            value: function(e) {
                this.data && !e || (this.data = {
                    components: [{
                        name: "Subheading",
                        type: "subheading",
                        required: !1,
                        multiline: !1
                    }, {
                        name: "Paragraph",
                        type: "paragraph",
                        required: !1,
                        multiline: !1
                    }, {
                        name: "Choice",
                        type: "choice",
                        required: !1,
                        multiline: !1,
                        options: []
                    }, {
                        name: "Email",
                        type: "email",
                        required: !1,
                        multiline: !1
                    }, {
                        name: "Text",
                        type: "text",
                        placeholder: null,
                        required: !1,
                        multiline: !1
                    }],
                    tabs: {}
                })
            }
        }, {
            key: "initTabs",
            value: function() {
                var e = this;
                return {
                    parentsOf: {
                        text: "parents of",
                        onClick: function(t) {
                            return e.switchTab(t)
                        }
                    },
                    employees: {
                        text: "employees",
                        onClick: function(t) {
                            return e.switchTab(t)
                        }
                    },
                    learners: {
                        text: "learners",
                        onClick: function(t) {
                            return e.switchTab(t)
                        }
                    }
                }
            }
        }, {
            key: "switchTab",
            value: function(e) {
                var t = this;
                this.clearStudentsData(), this.clearEmployeesData(), (0, n.default)(this.tabs).forEach(function(e) {
                    return t.tabs[e].active = !1
                }), e.active = !e.active
            }
        }, {
            key: "clearStudentsData",
            value: function() {
                this._studentsService.clearSelectedStudents(), this._studentsService.filteredStudents = this._studentsService.students.students
            }
        }, {
            key: "clearEmployeesData",
            value: function() {
                this._teachersService.selectedTeachers = [], this._teachersService.filteredTeachers = this._teachersService.employees
            }
        }, {
            key: "triggerValidationEvent",
            value: function(e) {
                angular.element(e).trigger("validateField")
            }
        }, {
            key: "generateResolvePromise",
            value: function(e) {
                return new this._$q(function(t) {
                    return t(e || !0)
                })
            }
        }, {
            key: "prepFormData",
            value: function(e) {
                var t = {
                    subject: e.formName,
                    due: e.dueDate,
                    available_date: e.available_date,
                    fields: []
                };
                return this._studentsService.selectedStudents && this._studentsService.selectedStudents.length && (t.learner_ids = this._studentsService.selectedStudents.map(function(e) {
                    return e.id
                })), this._teachersService.selectedTeachers && this._teachersService.selectedTeachers.length && (t.employee_ids = this._teachersService.selectedTeachers.map(function(e) {
                    return e.id
                })), e.recipient_type && "none" !== e.recipient_type ? t.recipient_type = e.recipient_type : this.tabs.learners && this.tabs.learners.active ? t.recipient_type = "learner" : this.tabs.parentsOf && this.tabs.parentsOf.active && (t.recipient_type = "parent"), e.form_id && (t.form_id = e.form_id), e.fields.forEach(function(e) {
                    var n = {
                        type: e.type,
                        required: e.required,
                        multiline: e.multiline
                    };
                    e.id && (n.id = e.id), e.label && (n.label = e.label), e.content && (n.content = e.content), e.placeholder && (n.placeholder = e.placeholder), e.options && (n.options = e.options), t.fields.push(n)
                }), this.generateResolvePromise(t)
            }
        }, {
            key: "prepFormFields",
            value: function(e) {
                var t = this;
                return e.map(function(e) {
                    var n = t.components.find(function(t) {
                        return e.type === t.type
                    });
                    return e.name = n.name, e
                })
            }
        }, {
            key: "addChildrenNamesToForms",
            value: function(e) {
                var t = this;
                return e.map(function(e) {
                    return t._userService.user.children.find(function(t) {
                        t.id === e.learner_id && (e.childName = t.forename + " " + t.surname)
                    }), e
                })
            }
        }, {
            key: "handlePeopleData",
            value: function(e) {
                var t = this;
                return this.prepLearnersData(e).then(function(e) {
                    return t.getParentsData(e)
                })
            }
        }, {
            key: "prepLearnersData",
            value: function(e) {
                var t = this,
                    n = e.learners.map(function(e) {
                        return e.learner_id
                    });
                return this._studentsService.getStudents(n, !1, !1).then(function(n) {
                    return e.learners.forEach(function(e) {
                        var i = n.find(function(t) {
                            return e.learner_id === t.id
                        });
                        if (i) {
                            e.known = !0;
                            var a = i.form_group_id,
                                s = i.year_group_id,
                                r = t._establishmentService.establishment.year_groups.find(function(e) {
                                    return e.id === s
                                }),
                                o = r ? r.name : "-",
                                l = t._establishmentService.establishment.form_groups.find(function(e) {
                                    return e.id === a
                                }),
                                c = l ? l.name : "-",
                                d = i.admission_number ? i.admission_number : "-";
                            e.fullName = i.fullName, e.forename = i.forename, e.surname = i.surname, e.learnerStatus = i.status, e.formGroup = c, e.yearGroup = o, e.admissionNumber = d
                        } else e.known = !1
                    }), e
                })
            }
        }, {
            key: "getSubmittedUsers",
            value: function(e) {
                return e.filter(function(e) {
                    return e.submitted
                })
            }
        }, {
            key: "getForm",
            value: function(e) {
                var t = this,
                    n = e.form_id,
                    i = e.learner_id,
                    a = e.employee_id,
                    s = {
                        form_id: n
                    };
                return i && (s.learner_id = i), a && (s.employee_id = a), this.getFormDataFromDb(s).then(function(e) {
                    if (t._userService.checkRole("employee")) {
                        if (e.form.learners) return t.handlePeopleData(e.form).then(function() {
                            var t = e.form.learners;
                            return e.form.learners = angular.copy(t).filter(function(e) {
                                return e.submitted
                            }), e.form.learners_no_submitted = angular.copy(t).filter(function(e) {
                                return !e.submitted
                            }), e.form
                        });
                        if (e.form.employees) {
                            var n = e.form.employees.map(function(e) {
                                return e.employee_id
                            });
                            return t._teachersService.getEmployeesFromDb({
                                employee_ids: n
                            }).then(function(t) {
                                var n = t.employees;
                                return e.form.employees.forEach(function(e) {
                                    var t = n.find(function(t) {
                                        return t.id === e.employee_id
                                    });
                                    t && (e.fullName = t.forename + " " + t.surname)
                                }), e.form
                            }).then(function() {
                                var t = e.form.employees;
                                return e.form.employees = angular.copy(t).filter(function(e) {
                                    return e.submitted
                                }), e.form.employees_no_submitted = angular.copy(t).filter(function(e) {
                                    return !e.submitted
                                }), e.form
                            })
                        }
                    }
                    return e.form
                })
            }
        }, {
            key: "getParentsData",
            value: function(e) {
                var t = e.learners.map(function(e) {
                    return e.learner_id
                });
                return this._contactsDataService.getRelatedParentsFromDb({
                    learner_ids: t,
                    only_parents: !0
                }).then(function(t) {
                    return e.learners.forEach(function(e) {
                        var n = t.contacts.find(function(t) {
                            return t.id === e.parent_id
                        });
                        e.parentName = n ? n.title + " " + n.forename + " " + n.surname : "-"
                    }), e
                })
            }
        }, {
            key: "getFormDataFromDb",
            value: function(e) {
                var t = e.form_id,
                    n = e.learner_id,
                    i = e.employee_id,
                    a = {
                        form_id: t
                    };
                return n && (a.learner_id = n), i && (a.employee_id = i), this._requestService.getData("forms", "form", a)
            }
        }, {
            key: "getFormsDataFromDb",
            value: function(e) {
                var t = this;
                return this._requestService.getData("forms", "forms", e).then(function(n) {
                    var i = n.forms.map(function(e) {
                        return e
                    });
                    return "parent" === e.for && (i = t.addChildrenNamesToForms(i)), i
                })
            }
        }, {
            key: "updateForm",
            value: function(e) {
                var t = e.form_id,
                    n = e.learner_ids,
                    i = e.fields,
                    a = e.archived,
                    s = e.employee_ids,
                    r = e.recipient_type,
                    o = {
                        form_id: t,
                        fields: i,
                        due: e.due,
                        subject: e.subject,
                        available_date: e.available_date
                    };
                return n && (o.learner_ids = n), s && (o.employee_ids = s), a && (o.archived = a), r && n && n.length && (o.recipient_type = r), this._requestService.getData("forms", "form_update", o)
            }
        }, {
            key: "createForm",
            value: function(e) {
                var t = e.subject,
                    n = e.due,
                    i = e.fields,
                    a = e.learner_ids,
                    s = e.employee_ids,
                    r = e.recipient_type,
                    o = {
                        subject: t,
                        due: n,
                        available_date: e.available_date,
                        fields: i
                    };
                return a && (o.learner_ids = a), s && (o.employee_ids = s), r && (o.recipient_type = r), this._requestService.getData("forms", "form_create", o)
            }
        }, {
            key: "submitForm",
            value: function(e) {
                var t = e.form_id,
                    n = e.learner_id,
                    i = e.fields,
                    a = e.employee_id;
                return this._requestService.getData("forms", "form_submit", {
                    form_id: t,
                    learner_id: n,
                    fields: i,
                    employee_id: a
                })
            }
        }, {
            key: "getLearnersStatus",
            value: function(e) {
                return this._requestService.getData("learners", "learners_data", {
                    learner_ids: [e]
                }).then(function(e) {
                    return e.learners[0].status
                })
            }
        }, {
            key: "getStudents",
            value: function(e) {
                var t = this;
                return this._studentsService.getStudents(e, null, null).then(function(e) {
                    if (e.length) {
                        var n = e[0].status;
                        return t._studentsService.getStudents(void 0, void 0, n)
                    }
                    t._studentsService.students = [], t._studentsService.filteredStudents = []
                })
            }
        }, {
            key: "getEmployees",
            value: function() {
                var e = this;
                return this._teachersService.employees ? (this._teachersService.filteredTeachers = this._teachersService.employees, this._$q.resolve(this._teachersService.employees)) : this._teachersService.getEmployeesWithFullNameFromDb().then(function(t) {
                    e._teachersService.employees = t
                })
            }
        }, {
            key: "setSelectedStudents",
            value: function(e) {
                this._studentsService.selectedStudents = this._studentsService.students.students.filter(function(t) {
                    return e.find(function(e) {
                        if (e.learner_id === t.id) return e.submitted && (t.isNotAvailabe = !0), t
                    })
                })
            }
        }, {
            key: "prepSelectedStudents",
            value: function() {
                for (var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 3, t = [], n = 0; n < e && (t.push(this._studentsService.selectedStudents[n].id), this._studentsService.selectedStudents.length - 1 !== n); n++);
                this.setStudentsPhotos(t)
            }
        }, {
            key: "setStudentsPhotos",
            value: function(e) {
                var t = this,
                    n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 3;
                this._studentsService.students.getPhotos(e).then(function(e) {
                    for (var i = function(n) {
                            var i = e.find(function(e) {
                                return e.id === t._studentsService.selectedStudents[n].id
                            });
                            if (i) t._studentsService.selectedStudents[n].photo = "data:image/png;base64," + i.photo;
                            else {
                                var a = t._studentsService.selectedStudents[n].gender;
                                t._studentsService.selectedStudents[n].photo = t._studentsService.getDefaultPhotoUsingGender(a)
                            }
                            if (t._studentsService.selectedStudents.length - 1 === n) return "break"
                        }, a = 0; a < n; a++) {
                        if ("break" === i(a)) break
                    }
                })
            }
        }, {
            key: "setSelectedEmployees",
            value: function(e) {
                var t = e.map(function(e) {
                    return e.employee_id
                });
                this._teachersService.selectedTeachers = this._teachersService.employees.filter(function(e) {
                    return -1 !== t.indexOf(e.id)
                })
            }
        }, {
            key: "components",
            get: function() {
                return this.data.components
            }
        }, {
            key: "tabs",
            get: function() {
                return this.data.tabs
            },
            set: function(e) {
                this.data.tabs = e
            }
        }]), e
    }();
    exports.default = r
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(26)),
        i = s(t(1)),
        a = s(t(2));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = function() {
        function e(t) {
            "ngInject";
            (0, i.default)(this, e), this._colorService = t
        }
        return e.$inject = ["colorService"], (0, a.default)(e, [{
            key: "handleGraphData",
            value: function(e, t) {
                var i = this,
                    a = {
                        data: [],
                        dataToChart: [],
                        labels: [],
                        colors: []
                    },
                    s = (0, n.default)(e),
                    r = s.reduce(function(t, n) {
                        return t += parseFloat(e[n]) || 0
                    }, 0);
                return s.forEach(function(n) {
                    var s = parseFloat((100 * e[n] / r).toFixed(1));
                    if (!isNaN(s)) {
                        var o = i._colorService.getColor(n, t);
                        a.data.push({
                            label: n,
                            value: s,
                            color: o
                        }), a.dataToChart.push(s), a.labels.push(n), a.colors.push(o)
                    }
                }), a
            }
        }]), e
    }();
    exports.default = r
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(11)),
        i = s(t(1)),
        a = s(t(2));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = function() {
        function e(t, n) {
            "ngInject";
            (0, i.default)(this, e), this._requestService = t, this._modalDefaultService = n, this.initValues()
        }
        return e.$inject = ["requestService", "modalDefaultService"], (0, a.default)(e, [{
            key: "initValues",
            value: function(e) {
                this.data && !e || (this.data = {
                    groups: null,
                    employeeGroups: null,
                    selectedMembers: null,
                    groupToEdit: null
                })
            }
        }, {
            key: "isGroupEditModalOpen",
            value: function() {
                return this._modalDefaultService.data.filter(function(e) {
                    return "modal-edit-groups" === e.id
                }).length
            }
        }, {
            key: "isEmployeeGroupEditModalOpen",
            value: function() {
                return this._modalDefaultService.data.filter(function(e) {
                    return "modal-edit-employee-groups" === e.id
                }).length
            }
        }, {
            key: "isCreateGroupModalOpen",
            value: function() {
                return this._modalDefaultService.data.filter(function(e) {
                    return "modal-create-group" === e.id
                }).length
            }
        }, {
            key: "saveGroupInDb",
            value: function(e) {
                return this._requestService.getData("learners", "createGroup", e)
            }
        }, {
            key: "saveEmployeeGroupInDb",
            value: function(e) {
                return this._requestService.getData("teachers", "createGroup", e)
            }
        }, {
            key: "getGroupsDataFromDb",
            value: function() {
                var e = this;
                return this._requestService.getData("learners", "groups").then(function(t) {
                    return e.groups = [{
                        name: "Select All",
                        id: null
                    }].concat((0, n.default)(t.groups)), t
                })
            }
        }, {
            key: "getEmployeeGroupsDataFromDb",
            value: function() {
                var e = this;
                return this._requestService.getData("teachers", "groups").then(function(t) {
                    var n = t.groups,
                        i = void 0 === n ? [] : n;
                    return e.employeeGroups = i, e.employeeGroups
                })
            }
        }, {
            key: "getMembersOfSelectedGroups",
            value: function(e) {
                return this._requestService.getData("learners", "groupMembers", e)
            }
        }, {
            key: "getMembersOfSelectedEmployeeGroups",
            value: function(e) {
                return this._requestService.getData("teachers", "groupMembers", e)
            }
        }, {
            key: "deleteGroup",
            value: function(e) {
                return this._requestService.getData("learners", "deleteGroup", e)
            }
        }, {
            key: "deleteEmployeeGroup",
            value: function(e) {
                return this._requestService.getData("teachers", "deleteGroup", e)
            }
        }, {
            key: "editGroup",
            value: function(e) {
                return this._requestService.getData("learners", "editGroup", e)
            }
        }, {
            key: "editEmployeeGroup",
            value: function(e) {
                return this._requestService.getData("teachers", "editGroup", e)
            }
        }, {
            key: "selectedMembers",
            get: function() {
                return this.data.selectedMembers
            },
            set: function(e) {
                this.data.selectedMembers = e
            }
        }, {
            key: "groupToEdit",
            get: function() {
                return this.data.groupToEdit
            },
            set: function(e) {
                this.data.groupToEdit = e
            }
        }, {
            key: "groups",
            get: function() {
                return this.data.groups
            },
            set: function(e) {
                this.data.groups = e
            }
        }, {
            key: "employeeGroups",
            get: function() {
                return this.data.employeeGroups
            },
            set: function(e) {
                this.data.employeeGroups = e
            }
        }]), e
    }();
    exports.default = r
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i) {
            "ngInject";
            (0, n.default)(this, e), this._requestService = i, this._teachersService = t, this.initValues()
        }
        return e.$inject = ["teachersService", "requestService"], (0, i.default)(e, [{
            key: "initValues",
            value: function(e) {
                this.data && !e || (this.data = {
                    fromDate: null,
                    toDate: null,
                    analytics: null,
                    selectedYear: null,
                    selectedSubject: null,
                    selectedGroup: null
                })
            }
        }, {
            key: "resetValues",
            value: function() {
                this.initValues(!0)
            }
        }, {
            key: "getPreparedYearsHomeworkAnalytics",
            value: function(e) {
                return e.map(function(e) {
                    return e.labels = [], e.data = [], e.subjects.forEach(function(t) {
                        e.labels.push(t.name), e.data.push(t.count)
                    }), e
                })
            }
        }, {
            key: "getPreparedYearAnalytics",
            value: function(e) {
                var t = {
                    data: e,
                    graphLabels: [],
                    graphData: []
                };
                return t.data.forEach(function(e) {
                    t.graphLabels.push(["", e.name, e.main_class_teacher_name]), t.graphData.push(e.count)
                }), t
            }
        }, {
            key: "getEmployeeIds",
            value: function(e) {
                return e.reduce(function(e, t) {
                    return -1 === e.indexOf(t.owner_id) && e.push(t.owner_id), e
                }, [])
            }
        }, {
            key: "getPreparedGroupAnalytics",
            value: function(e) {
                var t = this.getEmployeeIds(e);
                return this._teachersService.getEmployeesFromDb({
                    employee_ids: t
                }).then(function(t) {
                    var n = t.employees;
                    return e.map(function(e) {
                        var t = n.find(function(t) {
                            return t.id === e.owner_id
                        });
                        return t && (e.ownerName = t.title + " " + t.forename + " " + t.surname), e
                    })
                })
            }
        }, {
            key: "getHomeworkOverview",
            value: function(e) {
                return this._requestService.getData("homework", "homeworkOverview", e)
            }
        }, {
            key: "selectedGroup",
            get: function() {
                return this.data.selectedGroup
            },
            set: function(e) {
                this.data.selectedGroup = e
            }
        }, {
            key: "selectedSubject",
            get: function() {
                return this.data.selectedSubject
            },
            set: function(e) {
                this.data.selectedSubject = e
            }
        }, {
            key: "selectedYear",
            get: function() {
                return this.data.selectedYear
            },
            set: function(e) {
                this.data.selectedYear = e
            }
        }, {
            key: "analytics",
            get: function() {
                return this.data.analytics
            },
            set: function(e) {
                this.data.analytics = e
            }
        }, {
            key: "fromDate",
            get: function() {
                return this.data.fromDate
            },
            set: function(e) {
                this.data.fromDate = e
            }
        }, {
            key: "toDate",
            get: function() {
                return this.data.toDate
            },
            set: function(e) {
                this.data.toDate = e
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i) {
            "ngInject";
            (0, n.default)(this, e), this._requestService = t, this._dateService = i, this.initValues()
        }
        return e.$inject = ["requestService", "dateService"], (0, i.default)(e, [{
            key: "initValues",
            value: function(e) {
                this.data && !e || (this.data = {
                    iCalendars: null
                })
            }
        }, {
            key: "getICalendarsData",
            value: function() {
                var e = this;
                return this._requestService.getData("iCalendars", "i_calendars").then(function(t) {
                    return t.imports.forEach(function(t) {
                        return t.fetch_completed = moment(t.fetch_completed).format(e._dateService.getDateFormat("momentDateTime"))
                    }), e.data.iCalendars = t, t
                })
            }
        }, {
            key: "setToEnableICalendar",
            value: function(e) {
                return this._requestService.getData("iCalendars", "i_calendar_enable", e)
            }
        }, {
            key: "removeICalendarOption",
            value: function(e) {
                return this._requestService.getData("iCalendars", "i_calendar_import_remove", {
                    import_id: e
                })
            }
        }, {
            key: "addICalendarOption",
            value: function(e) {
                return this._requestService.getData("iCalendars", "i_calendar_import_add", e)
            }
        }, {
            key: "setToDisableICalendar",
            value: function(e) {
                return this._requestService.getData("iCalendars", "i_calendar_disable", e)
            }
        }, {
            key: "iCalendars",
            get: function() {
                return this.data.iCalendars
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t) {
            "ngInject";
            var i = this;
            (0, n.default)(this, e), this.data = {
                isChangeBackground: !0,
                isDelayForBackground: !0
            }, t.onBefore({}, function(e) {
                var t = e.treeChanges(),
                    n = t.from.length > 1 ? t.from[1].state.name : null,
                    a = t.to[1].state.name;
                i.data.isChangeBackground = !n || n !== a
            })
        }
        return e.$inject = ["$transitions"], (0, i.default)(e, [{
            key: "setDelayForBackgroundListener",
            value: function() {
                this.data.isDelayForBackground = !0
            }
        }, {
            key: "clearDelayForBackgroundListener",
            value: function() {
                this.data.isDelayForBackground = !1
            }
        }, {
            key: "isDelayForBackground",
            get: function() {
                return this.data.isDelayForBackground
            }
        }, {
            key: "isChangeBackground",
            get: function() {
                return this.data.isChangeBackground
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r, o, l, c, d) {
            "ngInject";
            (0, n.default)(this, e), this._$state = t, this._$rootScope = i, this._educationalsService = s, this._configService = a, this._requestService = r, this._userService = o, this._loginService = l, this.storage = c.sessionStorage, this._$window = d
        }
        return e.$inject = ["$state", "$rootScope", "configService", "educationalsService", "requestService", "userService", "loginService", "$storageService", "$window"], (0, i.default)(e, [{
            key: "redirectLogout",
            value: function(e) {
                this._$window.cordova ? this._$window.cordova.InAppBrowser.open(e, "_system") : this._$window.location.href = e
            }
        }, {
            key: "signOut",
            value: function() {
                var e = this;
                return this.sendLogoutQuery().then(function(t) {
                    e.removeAccountData(), t.details && t.details.redirect && e.redirectLogout(t.details.redirect)
                })
            }
        }, {
            key: "sendLogoutQuery",
            value: function() {
                return this._requestService.getData("other", "logout", null)
            }
        }, {
            key: "removeAccountData",
            value: function() {
                this.storage.remove("accountData"), this.storage.remove("schoolUrl"), this._requestService.authtoken = null
            }
        }, {
            key: "logout",
            value: function(e) {
                var t = this;
                return this._$rootScope.$broadcast("logout.success", {
                    type: this._userService.currentType
                }), this._educationalsService.currentEducational = [], this.signOut().then(function() {
                    if (t._requestService.isDemoMode = !1, t._loginService.restoreService(), !e)
                        if (t._configService.educationalIdStateParam || t._configService.educationalCodeStateParam) {
                            var n = {};
                            t._configService.educationalIdStateParam && (n.id = t._configService.educationalIdStateParam), t._configService.educationalCodeStateParam && (n.code = t._configService.educationalCodeStateParam), t._$state.transitionTo("login", n, {
                                notify: !1
                            })
                        } else t._$state.go("login")
                })
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a) {
            "ngInject";
            (0, n.default)(this, e), this._attachmentsService = t, this._documentsService = i, this._requestService = a, this.initValues()
        }
        return e.$inject = ["attachmentsService", "documentsService", "requestService"], (0, i.default)(e, [{
            key: "initValues",
            value: function(e) {
                this.data && !e || (this.data = {
                    medical: {}
                })
            }
        }, {
            key: "downloadDocument",
            value: function(e) {
                var t = this,
                    n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "document";
                this._documentsService.getDocumentDataFromDb(e).then(function(e) {
                    var i = e.result;
                    i.filename = n, t._attachmentsService.downloadDocument(i)
                })
            }
        }, {
            key: "getMedicalDataFromDb",
            value: function(e, t) {
                return this._requestService.getData("medical", "medical_data", {
                    learner_id: e,
                    format: t
                })
            }
        }, {
            key: "medical",
            get: function() {
                return this.data.medical
            },
            set: function(e) {
                this.data.medical = e
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    (function($) {
        Object.defineProperty(exports, "__esModule", {
            value: !0
        });
        var e = r(t(35)),
            n = r(t(1)),
            i = r(t(2)),
            a = r(t(409)),
            s = r(t(410));

        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        var o = void 0;

        function l(e, t) {
            return t && e && e.indexOf(t) !== o.IS_NOT_EXIST
        }

        function c(e, t) {
            return {
                student: {
                    assessment: "student.assessment.list",
                    documents: "student.documents",
                    behaviour: "student.behaviour.summary-behaviour-points",
                    calendar: "student.calendar",
                    catering: "student.catering.info",
                    contact: "student.contact",
                    account: "student.account",
                    medical: "student.medical",
                    timetable: "student.timetable.list",
                    attendance: "student.attendance.list",
                    achievement: "student.behaviour.summary-achievement-points",
                    exams: "student.exams.list",
                    homework: "student.homework.list",
                    parentevent: "student.parentevent.events",
                    clubs: "student.clubs.list",
                    sen: "student.sen",
                    default: "student"
                },
                home: {
                    behaviour: l(e, "employee") ? "behaviour.search" : "behaviour.summary-behaviour-points",
                    communicator: "communicator.mailbox",
                    documents: "documents",
                    timetable: "timetable.list",
                    attendance: "attendance.list",
                    assessment: "assessment.list",
                    achievement: "behaviour.summary-achievement-points",
                    documents_message: "documents-message.select",
                    behaviour_detentionmanagement: "detention.sessions",
                    childprotection: "childprotection.list",
                    employeecallout: "employeecallout.list",
                    parentevent: "parentevent.events",
                    catering: "catering.info",
                    contact: "contact",
                    account: "account",
                    homework: "homework.list",
                    medical: "medical",
                    medicaltest: "medicaltest",
                    calendar: "calendar",
                    profiles: "profiles.sessions",
                    registers: "registers.lobby",
                    resourcebooking: "resourcebooking.list",
                    marksheets: "marksheets.selections",
                    learners: "learners",
                    links: "links.list",
                    exams: "exams.list",
                    attendance_absencereporting: "absence-reporting",
                    sen: "sen",
                    forms: l(e, "employee") ? "forms.employee" : "forms.list",
                    datacollection: "data-collection.update",
                    datacollection_manage: "data-collection.manage",
                    attendance_absencemanagement: a.default.ABSENCES,
                    clubs: l(e, "employee") ? "clubs.employee" : "clubs.list",
                    noticeboard: s.default.states.NOTICEBOARD,
                    analytics: "analytics." + t.analytics,
                    default: "home"
                }
            }
        }
        var d = function() {
            function t(e, i, a, s, r, l, c, d, u, _, f, v, m) {
                "ngInject";
                var h = this;
                (0, n.default)(this, t), o = r, this._$q = v, this._delayConstantsService = _, this._conditionConstants = r, this._$rootScope = c, this._$timeout = u, this._$state = d, this._configService = l, this._routeClassService = f, this._studentsService = s, this._$stateParams = i, this._$transitions = e, this._blockedTransitionService = m, this._$storageService = a, this.config = {
                    toHome: null,
                    noVisibleItems: [],
                    logo: null,
                    isSwipe: !0,
                    menu: null,
                    ELEMENTS_NUMBER: null,
                    MENU_ITEM_ANGLE: 1,
                    MENU_WIDTH: 332,
                    HALF_DIAMETER: 2,
                    FULL_TURNOVER: 360,
                    FULL_TURNOVER_FIX: 360.0001,
                    HALF_TURNOVER: 180,
                    THREE_QUARTER_TURNOVER: 270,
                    QUARTER_TURNOVER: 90,
                    menuAnimation: null,
                    menuOuterPosition: 9999,
                    MENU_FAST_ANIMATION: 7,
                    LOGO_SIZE: 640
                }, this.eventsName = {
                    MENU_INIT: "menuInit",
                    MENU_HIDE: "menuHide",
                    MENU_REANIMATE: "menuReanimate",
                    MENU_DEINIT: "menuDeinit",
                    MENU_IN: "menuIn",
                    MENU_OUT: "menuOut",
                    MENU_ROTATE: "rotateMenu",
                    MENU_TO: "menuTo",
                    MENU_EMPTY: "emptyMenuAction",
                    BOUNCE_ACTIVE_ITEM: "bounceActiveItem"
                };
                var p = c.$watch(function() {
                    return h.menu
                }, function(e) {
                    e && e.length || h.setEvents([h.eventsName.MENU_ROTATE, h.eventsName.MENU_DEINIT], [
                        [h.config.MENU_FAST_ANIMATION, 0],
                        [h.config.MENU_FAST_ANIMATION]
                    ])
                });
                c.$on("$destroy", p), this.initValues()
            }
            return t.$inject = ["$transitions", "$stateParams", "$storageService", "studentsService", "conditionConstants", "configService", "$rootScope", "$state", "$timeout", "delayConstantsService", "routeClassService", "$q", "blockedTransitionService"], (0, i.default)(t, [{
                key: "initValues",
                value: function() {
                    var e = this;
                    this.data = {
                        menu: null,
                        mobileMenu: null,
                        availableMenu: null,
                        typeLinks: "home",
                        logo: {},
                        rolse: null,
                        hiddenMenusForRoles: {
                            employee: ["attendance_absencereporting"]
                        },
                        events: null,
                        eventsId: 1,
                        menuButtons: {
                            back: {
                                id: "back",
                                name: "Main Menu",
                                isButton: !0,
                                onClick: function(t) {
                                    var n = [e.eventsName.MENU_HIDE, e.eventsName.MENU_INIT, e.eventsName.MENU_EMPTY],
                                        i = [null, function() {
                                            e.setActiveMenuToStorage("mainMenu"), "student" === e._routeClassService.firstPartOfCurrentState ? e.menu = e.availableMenu[t].mainMenu.filter(function(t) {
                                                return e.hiddenMenusForRoles.employee.indexOf(t.id) < 0
                                            }) : e.menu = e.availableMenu[t].mainMenu
                                        }, "bindEvents"];
                                    e.setEvents(n, [], i)
                                }
                            },
                            subMenu: {
                                id: "submenu",
                                isButton: !0,
                                onClick: function(t) {
                                    var n = [e.eventsName.MENU_HIDE, e.eventsName.MENU_INIT, e.eventsName.MENU_EMPTY],
                                        i = [null, function() {
                                            e.setActiveMenuToStorage("subMenu"), "student" === e._routeClassService.firstPartOfCurrentState ? e.menu = e.availableMenu[t].subMenu.filter(function(t) {
                                                return e.hiddenMenusForRoles.employee.indexOf(t.id) < 0
                                            }) : e.menu = e.availableMenu[t].subMenu
                                        }, "bindEvents"];
                                    e.setEvents(n, [], i)
                                }
                            }
                        }
                    }
                }
            }, {
                key: "initLinks",
                value: function(e, t) {
                    this.links = c(e, t)
                }
            }, {
                key: "handleMenu",
                value: function(e, t, n, i) {
                    var a = this;
                    t && (this.data.roles = n, this.data.availableMenu = {
                        personal_menu: {
                            mainMenu: t.personal_menu.filter(function(e) {
                                return !e.submenu
                            }),
                            subMenu: t.personal_menu.filter(function(e) {
                                return e.submenu
                            }),
                            fullMenu: t.personal_menu
                        },
                        learner_menu: {
                            mainMenu: t.learner_menu.filter(function(e) {
                                return !e.submenu
                            }),
                            subMenu: t.learner_menu.filter(function(e) {
                                return e.submenu
                            }),
                            fullMenu: t.learner_menu
                        }
                    }, t.sub_menu && t.sub_menu.label && (this.menuButtons.subMenu.name = t.sub_menu.label), this.addSubmenuBtnToMenu(this.data.availableMenu.personal_menu), this.addSubmenuBtnToMenu(this.data.availableMenu.learner_menu), this.addBackBtnToSubmenu(this.data.availableMenu.personal_menu.subMenu), this.addBackBtnToSubmenu(this.data.availableMenu.learner_menu.subMenu), this._$timeout(function() {
                        var t = a._routeClassService.firstPartOfCurrentState || a._$state.current.name.split(".")[0],
                            s = a.getActiveMenuFromStorage();
                        "student" === t ? a._studentsService.getStudents(a._$stateParams.studentId).then(function(e) {
                            a.menu = a.data.availableMenu.learner_menu[s || "mainMenu"].filter(function(e) {
                                return a.hiddenMenusForRoles.employee.indexOf(e.id) < 0
                            }), a.mobileMenu = a.data.availableMenu.learner_menu.fullMenu.filter(function(e) {
                                return a.hiddenMenusForRoles.employee.indexOf(e.id) < 0
                            })
                        }) : (a.logo = e.logo, a.menu = a.data.availableMenu[e.mainMenuName][s || "mainMenu"], a.mobileMenu = a.data.availableMenu[e.mainMenuName].fullMenu), a.initLinks(n, i)
                    }, 0))
                }
            }, {
                key: "addBackBtnToSubmenu",
                value: function(t) {
                    t.unshift((0, e.default)({}, this.menuButtons.back))
                }
            }, {
                key: "addSubmenuBtnToMenu",
                value: function(t) {
                    t.subMenu.length && t.mainMenu.unshift((0, e.default)({}, this.menuButtons.subMenu))
                }
            }, {
                key: "setEvents",
                value: function(e, t, n) {
                    this._blockedTransitionService.isTransitionBlocked || (this.data.eventsId++, this.events = {
                        id: this.eventsId,
                        promises: e,
                        params: t,
                        actions: n
                    })
                }
            }, {
                key: "clearEvents",
                value: function() {
                    this.events = null
                }
            }, {
                key: "setActiveMenuToStorage",
                value: function(e) {
                    this._$storageService.sessionStorage.set("menuType", e)
                }
            }, {
                key: "getActiveMenuFromStorage",
                value: function() {
                    return this._$storageService.sessionStorage.get("menuType")
                }
            }, {
                key: "wrapperEnabled",
                value: function(e) {
                    return function() {
                        return angular.element("html").addClass("_pointerEvents"), e.apply(void 0, arguments).then(function() {
                            angular.element("html").removeClass("_pointerEvents")
                        }).catch(function() {
                            angular.element("html").removeClass("_pointerEvents")
                        })
                    }
                }
            }, {
                key: "wrapperPromise",
                value: function(e, t) {
                    var n = this;
                    return function() {
                        for (var i = arguments.length, a = Array(i), s = 0; s < i; s++) a[s] = arguments[s];
                        return n._$q(function(n) {
                            e.apply(void 0, a).eventCallback(t, function() {
                                n(!0)
                            })
                        })
                    }
                }
            }, {
                key: "goHome",
                value: function() {
                    var e = this;
                    if (!this._blockedTransitionService.isTransitionBlocked) {
                        this._$rootScope.$broadcast("closeMenu", {});
                        var t = "student" === this._routeClassService.config.firstPartOfCurrentState ? "student" : "home";
                        this._$timeout(function() {
                            e._$state.go(t)
                        }, this._delayConstantsService.WAIT_END_OF_STATE_ANIMATION_OUT)
                    }
                }
            }, {
                key: "updateMenuHrefs",
                value: function(e, t, n, i) {
                    if (this.links) {
                        var a = this.links;
                        return n && (a = c(n, i)), e.map(function(e) {
                            return e.sref = a[t][e.id] || a[t].default, e
                        })
                    }
                }
            }, {
                key: "handleInitializeMenu",
                value: function() {
                    var e = this;
                    this._$timeout(function() {
                        var t = [],
                            n = [],
                            i = [null, ["bindEvents", function() {
                                $(".student__back").addClass("_active")
                            }]];
                        e._configService.config.isMenuCenterStates.indexOf(e._routeClassService.fullStateName) !== e._conditionConstants.IS_NOT_EXIST ? t = [e.eventsName.MENU_INIT, e.eventsName.MENU_EMPTY] : (i[1].pop(), t = [e.eventsName.MENU_INIT, e.eventsName.MENU_OUT, e.eventsName.MENU_EMPTY], n = [
                            [e.config.MENU_FAST_ANIMATION, null, {
                                isOut: !0
                            }]
                        ]), e.setEvents(t, n, i)
                    }, 0)
                }
            }, {
                key: "handleDeinitializeMenu",
                value: function() {
                    var e = this;
                    this._$timeout(function() {
                        var t = [e.eventsName.MENU_DEINIT];
                        e.setEvents(t)
                    })
                }
            }, {
                key: "handleMenuTo",
                value: function(e, t, n) {
                    var i = this;
                    this._$timeout(function() {
                        var a = [i.eventsName.MENU_TO],
                            s = [
                                [e, t, n]
                            ];
                        i.setEvents(a, s)
                    })
                }
            }, {
                key: "eventsId",
                get: function() {
                    return this.data.eventsId
                }
            }, {
                key: "events",
                set: function(e) {
                    this.data.events = e
                },
                get: function() {
                    return this.data.events
                }
            }, {
                key: "hiddenMenusForRoles",
                get: function() {
                    return this.data.hiddenMenusForRoles
                }
            }, {
                key: "menu",
                get: function() {
                    return this.data.menu
                },
                set: function(e) {
                    this.data.menu = e, e && (this.config.ELEMENTS_NUMBER = this.menu.length, this.config.MENU_ITEM_ANGLE = this.config.FULL_TURNOVER_FIX / this.config.ELEMENTS_NUMBER)
                }
            }, {
                key: "mobileMenu",
                get: function() {
                    return this.data.mobileMenu
                },
                set: function(e) {
                    this.data.mobileMenu = e
                }
            }, {
                key: "menuButtons",
                get: function() {
                    return this.data.menuButtons
                }
            }, {
                key: "availableMenu",
                get: function() {
                    return this.data.availableMenu
                }
            }, {
                key: "logo",
                get: function() {
                    return this.data.logo
                },
                set: function(e) {
                    this.data.logo = e
                }
            }, {
                key: "toHome",
                get: function() {
                    return this.config.toHome
                },
                set: function(e) {
                    this.config.toHome = e
                }
            }]), t
        }();
        exports.default = d
    }).call(exports, t(22))
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e() {
            "ngInject";
            (0, n.default)(this, e), this.initValues()
        }
        return (0, i.default)(e, [{
            key: "initValues",
            value: function(e) {
                this.data && !e || (this.data = {
                    currentTab: null,
                    clickedTab: null,
                    seatingPlanChanged: null
                })
            }
        }, {
            key: "currentTab",
            get: function() {
                return this.data.currentTab
            },
            set: function(e) {
                this.data.currentTab = e
            }
        }, {
            key: "clickedTab",
            get: function() {
                return this.data.clickedTab
            },
            set: function(e) {
                this.data.clickedTab = e
            }
        }, {
            key: "seatingPlanChanged",
            get: function() {
                return this.data.seatingPlanChanged
            },
            set: function(e) {
                this.data.seatingPlanChanged = e
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = r(t(11)),
        i = r(t(10)),
        a = r(t(1)),
        s = r(t(2));

    function r(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var o = function() {
        function e(t, n, i, s) {
            "ngInject";
            (0, a.default)(this, e), this._requestService = t, this._establishmentService = n, this._attachmentsService = i, this._$q = s, this.years = this._establishmentService.establishment && this._establishmentService.establishment.year_groups, this.initValues()
        }
        return e.$inject = ["requestService", "establishmentService", "attachmentsService", "$q"], (0, s.default)(e, [{
            key: "initValues",
            value: function(e) {
                this.data && !e || (this.data = {
                    documents: [],
                    snippets: [],
                    folders: {
                        folders: [],
                        location: [],
                        documents: []
                    },
                    allSnippets: [],
                    allDocuments: [],
                    parentLearnerStatus: []
                })
            }
        }, {
            key: "resetValues",
            value: function() {
                this.initValues(!0)
            }
        }, {
            key: "addDocument",
            value: function(e) {
                var t = this,
                    n = e.available_from,
                    i = e.available_until,
                    a = e.for_employee,
                    s = e.learner_year_ids,
                    r = e.parent_learner_status,
                    o = e.parent_learner_year_ids,
                    l = e.position,
                    c = e.name,
                    d = {
                        available_from: n,
                        available_until: i,
                        for_employee: a,
                        learner_year_ids: s,
                        parent_learner_status: r,
                        parent_learner_year_ids: o,
                        position: l,
                        filename: e.filename,
                        name: c,
                        filesize: e.filesize,
                        mime_type: e.mime_type
                    };
                return e.id ? this.updateDocument(e) : this.createDocument(d).then(function(t) {
                    return e.id = t.document_id, t
                }).then(function(e) {
                    return t.handleAttachments(e)
                })
            }
        }, {
            key: "updateDocument",
            value: function(e) {
                var t = this,
                    n = this._attachmentsService.documents.filter(function(e) {
                        return !e.id
                    });
                return this._attachmentsService.uploadFileFromLocalDisk(n[n.length - 1]).then(function(n) {
                    return e.content = n && n.substring(n.indexOf(t._attachmentsService.base64Marker) + t._attachmentsService.base64Marker.length), t.updateDocumentRequest(e)
                })
            }
        }, {
            key: "handleAttachments",
            value: function(e) {
                var t = e.document_id,
                    n = this._attachmentsService.documents.filter(function(e) {
                        return !e.id
                    }),
                    i = [];
                return n.length && i.push(this.sendAttachments(t, n)), i.length ? this._$q.all(i).then(function() {
                    return t
                }) : this._$q.resolve(t)
            }
        }, {
            key: "sendAttachments",
            value: function(e, t) {
                var n = this,
                    i = t[t.length - 1];
                return !this._attachmentsService.chunkSize && this._attachmentsService.calcChunkSize(), this._attachmentsService.uploadFileFromLocalDisk(i).then(function(a) {
                    var s = a.substring(a.indexOf(n._attachmentsService.base64Marker) + n._attachmentsService.base64Marker.length),
                        r = n._attachmentsService.separateDocumentOnChunks(s),
                        o = 100 / r.length,
                        l = r.shift();
                    return i.loaderWidth = 0, n.sendChunks(e, l, r, t, o, i)
                })
            }
        }, {
            key: "sendChunks",
            value: function(e, t, n, i, a, s) {
                var r = this;
                return this.documentAttachmentChunkAdd(e, t).then(function() {
                    var t = n.shift();
                    return n.length || r.removeDocument(i), t ? (s.loaderWidth += a, r.sendChunks(e, t, n, i, a, s)) : i.length ? r.sendAttachments(e, i) : r._$q.resolve(e)
                })
            }
        }, {
            key: "removeDocument",
            value: function(e) {
                e.pop(), this._attachmentsService.data.documents.pop()
            }
        }, {
            key: "documentAttachmentChunkAdd",
            value: function(e, t) {
                var n = this,
                    i = {
                        id: e,
                        content: t
                    };
                return this._requestService.getData("noticeboard", "noticeboard_document_chunk_add", i).catch(function(e) {
                    return n._$q.reject(e)
                })
            }
        }, {
            key: "createDocument",
            value: function(e) {
                return this._requestService.getData("noticeboard", "noticeboard_document_add", e)
            }
        }, {
            key: "getFileType",
            value: function(e) {
                var t = e.split(".");
                if (t.length) return t.pop().toLowerCase()
            }
        }, {
            key: "addTypesToDocuments",
            value: function(e) {
                var t = this;
                return e.map(function(e) {
                    return e.type = t.getFileType(e.filename), e
                })
            }
        }, {
            key: "getNoticeboardDocuments",
            value: function() {
                var e = this;
                return this.getNoticeboardFromDb().then(function(t) {
                    e.snippets.length || (e.snippets = t.snippets), e.documents = e.addTypesToDocuments(t.noticeboard)
                })
            }
        }, {
            key: "getNoticeboardFolders",
            value: function(e) {
                var t = this;
                return this.getNoticeboardFromDb(e).then(function(e) {
                    t.snippets.length || (t.snippets = e.snippets), t.folders.folders = e.folders, t.folders.location = e.location, t.folders.documents = t.addTypesToDocuments(e.noticeboard)
                })
            }
        }, {
            key: "getNoticeboardFromDb",
            value: function() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                return this._requestService.getData("noticeboard", "noticeboard", e)
            }
        }, {
            key: "formatSnippets",
            value: function(e) {
                var t = this;
                return e.forEach(function(e) {
                    t.formatSnippet(e)
                }), e
            }
        }, {
            key: "updateSnippet",
            value: function(e) {
                var t = this.data.allSnippets.findIndex(function(t) {
                    return t.id === e.id
                });
                this.data.allSnippets[t] = (0, i.default)({}, this.data.allSnippets[t], e)
            }
        }, {
            key: "updateDocumentView",
            value: function(e) {
                var t = this.data.allDocuments.findIndex(function(t) {
                    return t.id === e.id
                });
                this.data.allDocuments[t] = e
            }
        }, {
            key: "formatSnippet",
            value: function(e) {
                var t = this;
                return !this.years && this._establishmentService.establishment && (this.years = this._establishmentService.establishment.year_groups), e.for_persons = [], e.for_employee && (e.for_persons = ["All employees"].concat((0, n.default)(e.for_persons))), e.parent_learner_status && e.parent_learner_status.length && (e.for_persons = [].concat((0, n.default)(e.for_persons), (0, n.default)(e.parent_learner_status))), e.parent_learner_year_ids && e.parent_learner_year_ids.length && e.parent_learner_year_ids.forEach(function(n) {
                    var i = t._establishmentService.establishment.year_groups.find(function(e) {
                        return Number(e.id) === n
                    });
                    i || (i = {
                        name: "unknown year ID " + n
                    }), e.for_persons.push("Parents of " + i.name)
                }), e.learner_year_ids && e.learner_year_ids.length && e.learner_year_ids.forEach(function(n) {
                    var i = t._establishmentService.establishment.year_groups.find(function(e) {
                        return Number(e.id) === n
                    });
                    i || (i = {
                        name: "unknown year ID " + n
                    }), e.for_persons.push("Learners of " + i.name)
                }), e
            }
        }, {
            key: "getCurrentFolder",
            value: function(e) {
                var t = e[e.length - 1];
                return t.hasParentFolder = 0 === t.parent_folder_id || !!t.parent_folder_id, t
            }
        }, {
            key: "getNoticeboardFileFromDb",
            value: function(e) {
                return this._requestService.getData("noticeboard", "noticeboard_file", {
                    id: e,
                    format: 2
                })
            }
        }, {
            key: "getAllSnippetsFromDb",
            value: function() {
                return this._requestService.getData("noticeboard", "noticeboard_snippets")
            }
        }, {
            key: "getAllDocumentsFromDb",
            value: function() {
                return this._requestService.getData("noticeboard", "noticeboard_documents")
            }
        }, {
            key: "getDocumentFoldersFromDb",
            value: function(e) {
                return this._requestService.getData("noticeboard", "noticeboard_document_folders", {
                    folder_id: e
                })
            }
        }, {
            key: "deleteFolder",
            value: function(e) {
                return this._requestService.getData("noticeboard", "noticeboard_document_folder_delete", {
                    folder_id: e
                })
            }
        }, {
            key: "createFolder",
            value: function(e, t) {
                return this._requestService.getData("noticeboard", "noticeboard_document_folder_create", {
                    name: e,
                    parent_folder_id: t
                })
            }
        }, {
            key: "updateFolder",
            value: function(e) {
                var t = e.folder_id,
                    n = e.name,
                    i = e.parent_folder_id;
                return this._requestService.getData("noticeboard", "noticeboard_document_folder_update", {
                    folder_id: t,
                    name: n,
                    parent_folder_id: i
                })
            }
        }, {
            key: "updateDocumentRequest",
            value: function(e) {
                return this._requestService.getData("noticeboard", "noticeboard_document_update", e)
            }
        }, {
            key: "allDocuments",
            get: function() {
                return this.data.allDocuments
            },
            set: function(e) {
                this.data.allDocuments = e
            }
        }, {
            key: "allSnippets",
            get: function() {
                return this.data.allSnippets
            },
            set: function(e) {
                this.data.allSnippets = e
            }
        }, {
            key: "parentLearnerStatus",
            get: function() {
                return this.data.parentLearnerStatus
            },
            set: function(e) {
                this.data.parentLearnerStatus = e
            }
        }, {
            key: "documents",
            get: function() {
                return this.data.documents
            },
            set: function(e) {
                this.data.documents = e
            }
        }, {
            key: "snippets",
            get: function() {
                return this.data.snippets
            },
            set: function(e) {
                this.data.snippets = e
            }
        }, {
            key: "folders",
            get: function() {
                return this.data.folders
            },
            set: function(e) {
                this.data.folders = e
            }
        }]), e
    }();
    exports.default = o
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r) {
            "ngInject";
            (0, n.default)(this, e), this._toastr = t, this._modalDefaultService = i, this._$filter = a, this._$window = s, this._dateService = r
        }
        return e.$inject = ["toastr", "modalDefaultService", "$filter", "$window", "dateService"], (0, i.default)(e, [{
            key: "showSuccessNotification",
            value: function(e) {
                var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "Success";
                this._toastr.success(e, t)
            }
        }, {
            key: "showWarningNotification",
            value: function(e) {
                var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "Warning";
                this._toastr.warning(e, t)
            }
        }, {
            key: "showErrorNotification",
            value: function() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "Unknown error",
                    t = this,
                    n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "Error",
                    i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null,
                    a = {};
                if (i && -1 === i.status && "School.FromCode" === i.request.method && (e = "Cannot contact https://provisioning.edulinkone.com (port 443)", i.message = e), i) {
                    var s = angular.isUndefined(i.status) ? "Error: " + e : "Error " + i.status + ": " + e;
                    if (a.tapToDismiss = !1, a.onTap = function(e) {
                            t._modalDefaultService.showModalWithTemplates("modal-debug", i, s)
                        }, a.timeOut = 8e3, a.extendedTimeOut = 8e3, i && i.request && i.request.result && i.request.result.metrics && i.request.result.metrics.uniqid) n = "Request ID " + i.request.result.metrics.uniqid
                }(navigator.onLine || "Internet disconnected" === e) && this._toastr.error(e, n, a)
            }
        }, {
            key: "formattedDate",
            value: function(e) {
                return this._$filter("date")(new Date(e.replace(/-/g, "/")), this._dateService.getDateFormat("defaultDateTimeFull"))
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a) {
            "ngInject";
            (0, n.default)(this, e), this._configService = t, this._requestService = i, this._$window = a, this.isLoadingSSOURL = !1
        }
        return e.$inject = ["configService", "requestService", "$window"], (0, i.default)(e, [{
            key: "openSSOURL",
            value: function() {
                var e = this;
                this.isLoadingSSOURL = !0, this.getThirdPartySSOURLFromDb(this._configService.isCordovaEnv).then(function(t) {
                    e._$window.open(t.url, e._configService.isCordovaEnv ? "_system" : "_blank")
                }).finally(function() {
                    e.isLoadingSSOURL = !1
                })
            }
        }, {
            key: "getThirdPartySSOURLFromDb",
            value: function(e) {
                var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "squid";
                return this._requestService.getData("other", "third_party_ssourl", {
                    from_app: e,
                    provider: t
                })
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t) {
            "ngInject";
            (0, n.default)(this, e), this._requestService = t, this.initValues()
        }
        return e.$inject = ["requestService"], (0, i.default)(e, [{
            key: "initValues",
            value: function(e) {
                this.data && !e || (this.data = {
                    personal: null
                })
            }
        }, {
            key: "getPersonalDataFromDb",
            value: function(e) {
                var t = this;
                return this._requestService.getData("personal", "personal_data", e).then(function(n) {
                    return t.personal[e.learner_id || e.employee_id] = n.personal, n
                })
            }
        }, {
            key: "personal",
            get: function() {
                return this.data.personal
            },
            set: function(e) {
                this.data.personal = e
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t) {
            "ngInject";
            (0, n.default)(this, e), this._requestService = t, this.initValues()
        }
        return e.$inject = ["requestService"], (0, i.default)(e, [{
            key: "initValues",
            value: function(e) {
                this.data && !e || (this.data = {
                    sen: {}
                })
            }
        }, {
            key: "getSenDataFromDb",
            value: function(e) {
                return this._requestService.getData("sen", "sen_data", {
                    learner_id: e
                })
            }
        }, {
            key: "addNewSenStrategyFromDb",
            value: function(e, t) {
                var n = this;
                return this._requestService.getData("sen", "sen_data", {
                    learner_id: e
                }).then(function(i) {
                    return n.sen[e].strategies.unshift(i.details.strategies.find(function(e) {
                        return e.id === t
                    })), i
                })
            }
        }, {
            key: "sen",
            get: function() {
                return this.data.sen
            },
            set: function(e) {
                this.data.sen = e
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t) {
            "ngInject";
            (0, n.default)(this, e), this._orderByFilter = t
        }
        return e.$inject = ["orderByFilter"], (0, i.default)(e, [{
            key: "sortBy",
            value: function(e, t, n, i) {
                return e = this._orderByFilter(e, t, n[t[0]], i), n[t[0]] = !n[t[0]], e
            }
        }, {
            key: "compareNumbers",
            value: function(e, t) {
                return parseFloat(e.value) < parseFloat(t.value) ? -1 : 1
            }
        }, {
            key: "compareDates",
            value: function(e, t) {
                var n = this ? moment(e.value, this.format) : moment(e.value),
                    i = this ? moment(t.value, this.format) : moment(t.value);
                return n.isValid() && i.isValid() ? n < i ? -1 : 1 : e.value > t.value ? 1 : e.value < t.value ? -1 : 0
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r, o, l, c, d, u, _, f, v, m, h, p, g, b, S, y, k, M, w, D, T, C, P, L, x, j, I, A, E, O, F, N, R, Y, B, H, q, W, V) {
            "ngInject";
            (0, n.default)(this, e), this.services = {
                AssessmentService: t,
                authService: i,
                attendanceService: a,
                analyticsService: s,
                autocompleteService: r,
                behaviourDataService: o,
                blockedTransitionService: l,
                calendarService: c,
                cateringService: d,
                contactsDataService: u,
                clubsService: _,
                documentAccessReportService: f,
                documentsService: v,
                loginService: m,
                examsService: h,
                externalLinksService: p,
                groupsService: g,
                homeworkOverviewService: b,
                homeworkDataService: S,
                marksheetService: y,
                medicalDataService: k,
                menuService: M,
                noticeboardService: w,
                profilesService: D,
                personalDataService: T,
                registersService: C,
                ResourceBookingService: P,
                requestService: L,
                statusService: x,
                studentsService: j,
                admissionsService: I,
                teachersService: A,
                timetableService: E,
                userService: O,
                prTeacherService: F,
                iCalendarsService: N,
                logoutService: R,
                parentsService: Y,
                formsService: B,
                seatingPlanService: H,
                sortDataService: q,
                navigationService: W,
                graphsService: V
            }
        }
        return e.$inject = ["AssessmentService", "authService", "attendanceService", "analyticsService", "autocompleteService", "behaviourDataService", "blockedTransitionService", "calendarService", "cateringService", "contactsDataService", "clubsService", "documentAccessReportService", "documentsService", "loginService", "examsService", "externalLinksService", "groupsService", "homeworkOverviewService", "homeworkDataService", "marksheetService", "medicalDataService", "menuService", "noticeboardService", "profilesService", "personalDataService", "registersService", "ResourceBookingService", "requestService", "statusService", "studentsService", "admissionsService", "teachersService", "timetableService", "userService", "prTeacherService", "iCalendarsService", "logoutService", "parentsService", "formsService", "seatingPlanService", "sortDataService", "navigationService", "graphsService"], (0, i.default)(e, [{
            key: "restore",
            value: function(e) {
                for (var t in this.services)
                    if (this.services.hasOwnProperty(t) && ("loginService" !== t || !e)) {
                        var n = this.services[t];
                        n.initValues && n.initValues(!0)
                    }
            }
        }, {
            key: "restoreFromName",
            value: function(e) {
                var t = this.services[e];
                t.initValues && t.initValues(!0)
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i) {
            "ngInject";
            (0, n.default)(this, e), this._studentsService = t, this._requestService = i, this.initValues()
        }
        return e.$inject = ["studentsService", "requestService"], (0, i.default)(e, [{
            key: "initValues",
            value: function(e) {
                this.data && !e || (this.data = {
                    seatingPlan: null,
                    showTags: !1
                })
            }
        }, {
            key: "prepareStudents",
            value: function(e) {
                var t = this,
                    n = e.map(function(e) {
                        return e.id
                    });
                return this._studentsService.students.getPhotos(n).then(function(i) {
                    return t._studentsService.getStudents(n).then(function(t) {
                        return t.map(function(t) {
                            var n = e.find(function(e) {
                                    return e.id === t.id
                                }),
                                a = i.find(function(e) {
                                    return e.id === n.id
                                });
                            return n.sen && (t.sen = n.sen), n.gifted_talented && (t.gifted_talented = n.gifted_talented), n.medical_condition && (t.medical_condition = n.medical_condition), n.pupil_premium && (t.pupil_premium = n.pupil_premium), n.eal && (t.eal = n.eal), t.assessment = n.assessment, a && (t.photo = "data:image/png;base64," + a.photo), angular.copy(t)
                        })
                    })
                })
            }
        }, {
            key: "getSeatingPlan",
            value: function(e) {
                var t = this;
                return this._requestService.getData("seatingPlan", "seating_plan", {
                    register_id: e
                }).then(function(e) {
                    return e.room.learners && e.room.learners.length ? t.prepareStudents(e.room.learners).then(function(t) {
                        return {
                            students: t,
                            room: e.room,
                            group: e.group
                        }
                    }) : {
                        students: [],
                        room: e.room,
                        group: e.group
                    }
                }).then(function(e) {
                    return t.seatingPlan = e
                })
            }
        }, {
            key: "updateSeatingPlan",
            value: function(e) {
                return this._requestService.getData("seatingPlan", "seating_plan_update", e)
            }
        }, {
            key: "seatingPlan",
            get: function() {
                return this.data.seatingPlan
            },
            set: function(e) {
                this.data.seatingPlan = e
            }
        }, {
            key: "showTags",
            get: function() {
                return this.data.showTags
            },
            set: function(e) {
                this.data.showTags = e
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(26)),
        i = s(t(1)),
        a = s(t(2));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = function() {
        function e() {
            "ngInject";
            (0, i.default)(this, e)
        }
        return (0, a.default)(e, [{
            key: "getInfiniteScrollSettings",
            value: function() {
                return {
                    defaultItemsCount: arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 12,
                    numToAdd: arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 7,
                    selects: {}
                }
            }
        }, {
            key: "handleSelectToggling",
            value: function(e, t) {
                t.selects[e].currentItems = t.defaultItemsCount
            }
        }, {
            key: "addNewItemsToSelect",
            value: function(e, t) {
                e.currentItems += t
            }
        }, {
            key: "setItemsNumber",
            value: function(e, t) {
                e.selects[t] = {
                    currentItems: e.defaultItemsCount
                }
            }
        }, {
            key: "generateHash",
            value: function(e) {
                var t = (0, n.default)(e),
                    i = null;
                do {
                    i = String(parseInt(1e6 * Math.random(), 10))
                } while (-1 !== t.indexOf(i));
                return i
            }
        }]), e
    }();
    exports.default = r
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s) {
            "ngInject";
            (0, n.default)(this, e), this._logoutService = t, this._requestService = i, this._modalDefaultService = a, this._userService = s, this.initValues()
        }
        return e.$inject = ["logoutService", "requestService", "modalDefaultService", "userService"], (0, i.default)(e, [{
            key: "initValues",
            value: function() {
                this.data = {
                    status: null
                }
            }
        }, {
            key: "isOpenedModal",
            value: function(e) {
                return this._modalDefaultService.modals.data.find(function(t) {
                    return t.id === e
                })
            }
        }, {
            key: "uploadStatus",
            value: function(e) {
                var t = this,
                    n = {
                        last_visible: e
                    };
                this.getStatusFromDb(n).then(function(e) {
                    t.status = e;
                    var n = 120,
                        i = t._userService.user;
                    return i && i.miscellaneous.session_expiry_modal && (n = i.miscellaneous.session_expiry_modal), e.session && e.session.expires < n && !t.isOpenedModal("modal-confirm") && t.showSessionExpiryModal(), e
                })
            }
        }, {
            key: "showSessionExpiryModal",
            value: function() {
                var e = this,
                    t = {
                        message: "Your login appears to be inactive and will logout shortly, would you like to stay logged in?",
                        confirm: function() {
                            return e.confirm()
                        },
                        cancel: function() {
                            return e._logoutService.logout()
                        }
                    };
                this._modalDefaultService.showModalWithTemplates("modal-confirm", t, "Session expiry")
            }
        }, {
            key: "confirm",
            value: function() {
                var e = this;
                this.ping().finally(function() {
                    return e._modalDefaultService.pop()
                })
            }
        }, {
            key: "getStatusFromDb",
            value: function(e) {
                return this._requestService.getData("other", "status", e)
            }
        }, {
            key: "ping",
            value: function() {
                return this._requestService.getData("other", "ping")
            }
        }, {
            key: "status",
            set: function(e) {
                this.data.status = e
            },
            get: function() {
                return this.data.status
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(156)),
        i = s(t(1)),
        a = s(t(2));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }

    function r(e) {
        var t = this.keys.length;
        return this.keys.push(e), t === this.colors.length && this.colors.push("#" + (16777216 * (Math.random() + 2) | 0).toString(16).slice(1)), t
    }
    var o = function() {
        function e() {
            "ngInject";
            (0, i.default)(this, e), this.baseColors = [
                ["#2cc991", "#ee543b", "#fcb942", "#85d1fd"],
                ["#7A2CC9", "#077996", "#2CCBF7", "#555FED", "#F4CC5F", "#45808E", "#94E1F7", "#8990ED", "#F4DEA1", "#3F79F4"]
            ], this.keys = []
        }
        return (0, a.default)(e, [{
            key: "getColor",
            value: function(e, t) {
                var i = this.keys.indexOf(e);
                return -1 === i && (i = (0, n.default)(r, this, [e])), this.colors[t][i]
            }
        }, {
            key: "clear",
            value: function() {
                this.colors = this.baseColors.slice(), this.keys = []
            }
        }]), e
    }();
    exports.default = o
}, , , function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i) {
            "ngInject";
            (0, n.default)(this, e), this._requestService = t, this._communicatorDataService = i, this.initValues()
        }
        return e.$inject = ["requestService", "communicatorDataService"], (0, i.default)(e, [{
            key: "initValues",
            value: function(e) {
                this.data && !e || (this.data = {
                    templates: null
                })
            }
        }, {
            key: "getTemplatesFromDB",
            value: function() {
                var e = this;
                return this._requestService.getData("templates", "templates").then(function(t) {
                    e.templates = t.templates
                })
            }
        }, {
            key: "getTemplateFromDB",
            value: function(e) {
                var t = {
                    template_id: e
                };
                return this._requestService.isDemoMode && (t.sendingType = this._communicatorDataService.messageType), this._requestService.getData("templates", "template", t)
            }
        }, {
            key: "createTemplate",
            value: function(e, t, n) {
                return this._requestService.getData("templates", "template_create", {
                    name: e,
                    global: t,
                    type: n
                })
            }
        }, {
            key: "updateTemplate",
            value: function(e, t, n, i, a) {
                var s = {
                    template_id: e,
                    global: t
                };
                return n && (s.name = n), i && (s.subject = i), a && (s.body = a), this._requestService.getData("templates", "template_update", s)
            }
        }, {
            key: "removeTemplate",
            value: function(e) {
                return this._requestService.getData("templates", "template_delete", {
                    template_id: e
                })
            }
        }, {
            key: "templates",
            get: function() {
                return this.data.templates
            },
            set: function(e) {
                this.data.templates = e
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(10)),
        i = s(t(1)),
        a = s(t(2));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = function() {
        function e(t, n) {
            "ngInject";
            (0, i.default)(this, e), this._requestService = n, this._attachmentsService = t, this.initValues()
        }
        return e.$inject = ["attachmentsService", "requestService"], (0, a.default)(e, [{
            key: "initValues",
            value: function(e) {
                this.data && !e || (this.data = {
                    referrals: [],
                    manageReferrals: [],
                    selectedStudents: [],
                    statusOptions: [],
                    callbacks: []
                })
            }
        }, {
            key: "addReferral",
            value: function(e) {
                this.data.referrals.unshift(e)
            }
        }, {
            key: "updateReferral",
            value: function(e) {
                var t = this,
                    i = this.data.manageReferrals.findIndex(function(t) {
                        return t.id === e.id
                    });
                this.data.manageReferrals[i] = (0, n.default)({}, this.data.manageReferrals[i], e), this.data.manageReferrals[i].status = this.data.statusOptions.filter(function(e) {
                    return !e.deleted
                }).find(function(e) {
                    return e.id === t.data.manageReferrals[i].status_id
                })
            }
        }, {
            key: "addStatus",
            value: function(e, t) {
                this.data.statusOptions.push({
                    id: e,
                    name: t,
                    deleted: !1
                })
            }
        }, {
            key: "deleteStatus",
            value: function(e) {
                this.data.statusOptions.forEach(function(t) {
                    t.id === e && (t.deleted = !0)
                })
            }
        }, {
            key: "updateReferralsStatuses",
            value: function() {
                var e = this;
                this.data.manageReferrals.forEach(function(t) {
                    t.status = e.data.statusOptions.filter(function(e) {
                        return !e.deleted
                    }).find(function(e) {
                        return e.id === t.status_id
                    })
                })
            }
        }, {
            key: "getReferralsFromDB",
            value: function() {
                var e = this;
                return this._requestService.getData("child_protection", "child_protection_referrals_from_me").then(function(t) {
                    e.data.referrals = t.referrals
                })
            }
        }, {
            key: "downloadRefFile",
            value: function(e) {
                var t = this;
                return this._requestService.getData("child_protection", "child_protection_referrals_log", {
                    referral_ids: e
                }).then(function(e) {
                    return t._attachmentsService.downloadDocument(e).then(function() {
                        t.selectedStudents = []
                    })
                })
            }
        }, {
            key: "getManageReferralsFromDB",
            value: function() {
                var e = this;
                return this._requestService.getData("child_protection", "child_protection_referrals").then(function(t) {
                    e.data.manageReferrals = t.referrals, e.data.statusOptions = t.status_options
                })
            }
        }, {
            key: "referrals",
            get: function() {
                return this.data.referrals
            },
            set: function(e) {
                this.data.referrals = e
            }
        }, {
            key: "callBacks",
            set: function(e) {
                this.data.callbacks = e
            },
            get: function() {
                return this.data.callbacks
            }
        }, {
            key: "selectedStudents",
            get: function() {
                return this.data.selectedStudents
            },
            set: function(e) {
                e.length !== this.data.selectedStudents.length && (this.data.selectedStudents = e.map(function(e) {
                    return e.id
                }))
            }
        }, {
            key: "manageReferrals",
            get: function() {
                return this.data.manageReferrals
            },
            set: function(e) {
                this.data.manageReferrals = e
            }
        }, {
            key: "statusOptions",
            get: function() {
                return this.data.statusOptions
            },
            set: function(e) {
                this.data.statusOptions = e
            }
        }]), e
    }();
    exports.default = r
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i) {
            "ngInject";
            (0, n.default)(this, e), this._requestService = t, this._teachersService = i, this.initValues()
        }
        return e.$inject = ["requestService", "teachersService"], (0, i.default)(e, [{
            key: "initValues",
            value: function(e) {
                this.data && !e || (this.data = {
                    sent: null,
                    received: null
                })
            }
        }, {
            key: "getCalloutsFromDB",
            value: function() {
                return this._requestService.getData("callout", "employee_callouts")
            }
        }, {
            key: "setCallouts",
            value: function(e) {
                this.received = e.received ? e.received : null, this.sent = e.sent
            }
        }, {
            key: "format",
            value: function(e) {
                var t = this;
                e.forEach(function(e) {
                    t.formatItem(e)
                })
            }
        }, {
            key: "formatItem",
            value: function(e) {
                e.created = moment(e.created).format("HH:mm"), e.sent_by = this._teachersService.employees.find(function(t) {
                    return t.id === e.from_employee_id
                }), e.employee = this._teachersService.employees.find(function(t) {
                    return t.id === e.attending_employee_id
                }), e.message && (e.message = e.message.split(/\r\n|\n\r|\n|\r/).filter(Boolean))
            }
        }, {
            key: "addNewSentCallouts",
            value: function() {
                var e = this;
                return this.getCalloutsFromDB().then(function(t) {
                    var n = t.sent.reduce(function(e, t) {
                        return e.id > t.id ? e : t
                    }, 1);
                    e.formatItem(n), e.data.sent.unshift(n)
                })
            }
        }, {
            key: "addNewReceivedCallout",
            value: function(e) {
                var t = this;
                return this.getCalloutsFromDB().then(function(n) {
                    var i = n.received.find(function(t) {
                        return t.id === e
                    }, 1);
                    t.formatItem(i), t.data.received.unshift(i)
                })
            }
        }, {
            key: "updateReceivedCallouts",
            value: function(e) {
                var t = this;
                return this.getCalloutsFromDB().then(function(n) {
                    var i = n.received.find(function(t) {
                            return t.id === e
                        }),
                        a = t.data.received.findIndex(function(t) {
                            return t.id === e
                        });
                    t.formatItem(i), t.data.received[a] = i
                })
            }
        }, {
            key: "sent",
            get: function() {
                return this.data.sent
            },
            set: function(e) {
                this.data.sent = e
            }
        }, {
            key: "received",
            get: function() {
                return this.data.received
            },
            set: function(e) {
                this.data.received = e
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a) {
            "ngInject";
            (0, n.default)(this, e), this._requestService = a, this.initValues()
        }
        return e.$inject = ["attachmentsService", "documentsService", "requestService"], (0, i.default)(e, [{
            key: "initValues",
            value: function(e) {
                this.data && !e || (this.data = {
                    medicaltest: {},
                    type: {
                        employees: [],
                        learners: []
                    }
                })
            }
        }, {
            key: "getMedicalTestDataFromDb",
            value: function() {
                var e = this;
                return this._requestService.getData("medicaltest", "medical_test_data", {}).then(function(t) {
                    return e.medicaltest = t.participants, t
                })
            }
        }, {
            key: "getMedicalTestDataDashboard",
            value: function(e) {
                var t = this;
                return this._requestService.getData("medicaltest", "medical_test_dashboard", {
                    type: e
                }).then(function(n) {
                    return "employee" === e && (t.data.type.employees = n.employees), "learner" === e && (t.data.type.learners = n.learners), n
                })
            }
        }, {
            key: "submitMedicalTestData",
            value: function(e) {
                var t = e.request_id,
                    n = e.result;
                return this._requestService.getData("medicaltest", "medical_test_submit", {
                    request_id: t,
                    result: n
                })
            }
        }, {
            key: "submitAddMedicalTestData",
            value: function(e) {
                var t = e.require_parent_submission,
                    n = e.test_kit_count,
                    i = e.learner_ids,
                    a = e.employee_ids,
                    s = e.times;
                return this._requestService.getData("medicaltest", "medical_test_submit_add", {
                    require_parent_submission: t,
                    test_kit_count: n,
                    learner_ids: i,
                    employee_ids: a,
                    times: s
                })
            }
        }, {
            key: "medicaltest",
            get: function() {
                return this.data.medical
            },
            set: function(e) {
                this.data.medical = e
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = r(t(0)),
        i = r(t(3572)),
        a = r(t(3573)),
        s = r(t(3574));

    function r(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var o = n.default.module("app.services.account", []).service({
        authService: i.default
    }).service({
        establishmentService: a.default
    }).service({
        userService: s.default
    }).name;
    exports.default = o
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = r(t(195)),
        i = r(t(10)),
        a = r(t(1)),
        s = r(t(2));

    function r(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var o = function() {
        function e(t, n, i, s, r, o, l, c, d, u, _, f, v, m, h) {
            "ngInject";
            var p = this;
            (0, a.default)(this, e), this._$rootScope = n, this._$fcmService = i, this._$window = t, this._additionalMenuParamsService = s, this._admissionsService = r, this._configService = o, this._userService = l, this._studentsService = c, this._groupsService = d, this._menuService = u, this._statusService = _, this._requestService = f, this._educationalsService = v, this._templatesService = h, this.storage = m.sessionStorage, this.initValues();
            var g = n.$on("setFirstAuthInFalse", function() {
                p.isNotFirstAuth = !1
            });
            n.$on("$destroy", g)
        }
        return e.$inject = ["$window", "$rootScope", "$fcmService", "additionalMenuParamsService", "admissionsService", "configService", "userService", "studentsService", "groupsService", "menuService", "statusService", "requestService", "educationalsService", "$storageService", "templatesService"], (0, s.default)(e, [{
            key: "initValues",
            value: function(e) {
                this.data && !e || (this.data = {
                    isNotFirstAuth: !1,
                    showUpdateVersionNotice: !1,
                    showSchoolCode: !0,
                    schoolCode: null,
                    educational: null
                }, this.handlers = {
                    404: function() {
                        return "Internet connection is lost"
                    }
                }), e && this.removeAccountData()
            }
        }, {
            key: "goToSchoolCodeStep",
            value: function() {
                this.showSchoolCode = !0
            }
        }, {
            key: "getRoles",
            value: function() {
                return this.account && this.account.user && this.account.user.types
            }
        }, {
            key: "loadAsyncUserData",
            value: function() {
                return this._userService.loadAsyncUserData()
            }
        }, {
            key: "updateAccountData",
            value: function() {
                var e = this.storage.get("accountData"),
                    t = this._educationalsService.schoolUrl;
                if (this._requestService.isDemoMode && e && (this._userService.setUser(e), this._userService.checkRole("employee") && this._studentsService.setToTopEmployeeClass(e.establishment), this._studentsService.setFilterData(e.establishment), this._admissionsService.setFilterData(e.establishment)), !e || !this._requestService.isDemoMode && !t) return !1;
                this._requestService.setUrlForMainApi(t), this._requestService.authtoken = e.authtoken, this._userService.setUser(e);
                var n = this._userService.checkRole("employee"),
                    i = this._userService.checkRole("parent");
                n && this._studentsService.setToTopEmployeeClass(e.establishment), this._studentsService.setFilterData(e.establishment), this._admissionsService.setFilterData(e.establishment), (n || n && i) && this._groupsService.getGroupsDataFromDb(), n && this._groupsService.getEmployeeGroupsDataFromDb(), n && this._userService.isAuthorized() && this._templatesService.getTemplatesFromDB(), this._statusService.uploadStatus(0)
            }
        }, {
            key: "handleMenu",
            value: function() {
                var e = this._additionalMenuParamsService.getAdditionalParams();
                this._menuService.handleMenu(this._userService.user, this.account, this._userService.data.roles, e)
            }
        }, {
            key: "initLinks",
            value: function(e) {
                var t = this._additionalMenuParamsService.getAdditionalParams();
                this._menuService.initLinks(e, t)
            }
        }, {
            key: "removeAccountData",
            value: function() {
                this.storage.remove("accountData"), this.storage.remove("schoolUrl"), this._requestService.authtoken = null
            }
        }, {
            key: "handleSuccess",
            value: function(e, t, n) {
                e.capabilities.fcm && e.capabilities.fcm.remove_old_token ? this._$fcmService.saveFcmToken() : this._$fcmService.updateToken(), e.user.username = n, e.user.schoolServerUrl = t, this.account = e, this._educationalsService.saveSchoolUrlToLocalStorage(t), this.updateAccountData(e)
            }
        }, {
            key: "handleFailed",
            value: function() {
                this.removeAccountData()
            }
        }, {
            key: "buildLoginParams",
            value: function() {
                var e = {};
                e.from_app = this._configService.isCordovaEnv, e.ui_info = {
                    format: 2,
                    version: "4.0.33",
                    git_sha: "6c84445aed55f7486b92c2595083fb35b35878c6"
                }, this._$fcmService.fcm_token && (e.fcm_token = this._$fcmService.fcm_token), e.fcm_token_old = this._$fcmService.fcm_token_old || "none";
                var t = {};
                return this._$window.cordova && this._$window.device && this._$window.device.available && (this._$window.device.uuid && (t.uuid = this._$window.device.uuid), this._$window.device.platform && (t.platform = this._$window.device.platform), this._$window.device.version && (t.platform_version = this._$window.device.version), this._$window.device.manufacturer && (t.manufacturer = this._$window.device.manufacturer), this._$window.device.model && (t.model = this._$window.device.model), e.device = t), e
            }
        }, {
            key: "signIn",
            value: function(e, t, n, i, a) {
                var s = this,
                    r = this.buildLoginParams();
                return r.username = e, r.password = t, r.establishment_id = n, angular.isDefined(a) && (r.link_account = a), this.getLoginDataFromDb(r).then(function(t) {
                    return s.handleSuccess(t, i, e), t.notice && (s.showUpdateVersionNotice = !0), t
                }).catch(function(e) {
                    return s.handleFailed(), s._requestService.generateRejectResponse(e)
                })
            }
        }, {
            key: "getLoginDataFromDb",
            value: function(e) {
                var t = this,
                    n = void 0;
                return this._$window.cordova && this._$window.cordova.plugins && this._$window.cordova.plugins.PinCheck && (n = this.getPinCheckPromise()), n ? n.then(function(n) {
                    return t.login((0, i.default)({}, e, {
                        device_passcode_enabled: n
                    }))
                }) : this.login(e)
            }
        }, {
            key: "getPinCheckPromise",
            value: function() {
                var e = this;
                return new n.default(function(t, n) {
                    e._$window.cordova.plugins.PinCheck.isPinSetup(function(e) {
                        return t(!0)
                    }, function(e) {
                        return t(!1)
                    })
                })
            }
        }, {
            key: "login",
            value: function(e) {
                var t = this;
                return this._requestService.getData("other", "login", e).then(function(e) {
                    return t.prepareData(e)
                })
            }
        }, {
            key: "getLoginToken",
            value: function(e) {
                return this._requestService.getData("other", "login_token", {
                    authtoken: e
                })
            }
        }, {
            key: "loginFromIDP",
            value: function(e, t) {
                var n = this;
                return this._requestService.getData("other", t, e).then(function(e) {
                    return e.capabilities.fcm && e.capabilities.fcm.remove_old_token ? n._$fcmService.saveFcmToken() : n._$fcmService.updateToken(), n.prepareData(e)
                })
            }
        }, {
            key: "enablePasswordRequest",
            value: function(e) {
                return this._requestService.getData("other", "password_email_reset_enabled", {
                    establishment_id: e
                })
            }
        }, {
            key: "resetEmailPasswordRequest",
            value: function(e, t) {
                return this._requestService.getData("other", "password_email_reset_request", {
                    establishment_id: e,
                    email: t
                })
            }
        }, {
            key: "resetPasswordRequest",
            value: function(e, t) {
                return this._requestService.getData("other", "password_reset_request", {
                    username: e,
                    establishment_id: t
                })
            }
        }, {
            key: "resetPassword",
            value: function(e, t, n, i) {
                var a = this;
                return this._requestService.getData("other", "password_reset", {
                    token: e,
                    password: t,
                    ui_info: n
                }).then(function(e) {
                    var n = a._$window.location.origin + "/api/";
                    a._configService.isLocalhost && (n = "https://demo.edulinkone.com/api/");
                    var s = e.user.username;
                    if (i) {
                        var r = {
                            school: {
                                server: n,
                                school_id: e.user.establishment_id
                            }
                        };
                        a._educationalsService.saveEducationalToLocalStorage(e.user.username, t, r, e)
                    }
                    a.handleSuccess(e, n, s)
                })
            }
        }, {
            key: "prepareData",
            value: function(e) {
                return this.removeLinksInLearnerMenu(e), e
            }
        }, {
            key: "removeLinksInLearnerMenu",
            value: function(e) {
                e.user.types.indexOf("employee") >= 0 && (e.learner_menu = e.learner_menu.filter(function(e) {
                    return "links" !== e.id
                }))
            }
        }, {
            key: "getHandlerResponse",
            value: function(e) {
                var t = this.handlers[e];
                return t || !1
            }
        }, {
            key: "handleErrorResponse",
            value: function(e) {
                var t = void 0;
                return e.status && (t = this.getHandlerResponse(e.status)()), t || (t = "Username or password is wrong"), t
            }
        }, {
            key: "educational",
            get: function() {
                return this.data.educational
            },
            set: function(e) {
                this.data.educational = e
            }
        }, {
            key: "schoolCode",
            get: function() {
                return this.data.schoolCode
            },
            set: function(e) {
                this.data.schoolCode = e
            }
        }, {
            key: "showSchoolCode",
            get: function() {
                return this.data.showSchoolCode
            },
            set: function(e) {
                this.data.showSchoolCode = e
            }
        }, {
            key: "showUpdateVersionNotice",
            get: function() {
                return this.data.showUpdateVersionNotice
            },
            set: function(e) {
                this.data.showUpdateVersionNotice = e
            }
        }, {
            key: "isNotFirstAuth",
            get: function() {
                return this.data.isNotFirstAuth
            },
            set: function(e) {
                this.data.isNotFirstAuth = e
            }
        }, {
            key: "isDemoMode",
            get: function() {
                return this.data.isDemo
            }
        }, {
            key: "isAuthorized",
            get: function() {
                return !!this.storage.get("accountData")
            }
        }, {
            key: "account",
            set: function(e) {
                this.storage.set("accountData", e)
            },
            get: function() {
                return this.storage.get("accountData")
            }
        }, {
            key: "currentId",
            get: function() {
                return this.account.user.id
            }
        }]), e
    }();
    exports.default = o
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e() {
            "ngInject";
            (0, n.default)(this, e), this.initValues()
        }
        return (0, i.default)(e, [{
            key: "initValues",
            value: function(e) {
                this.data && !e || (this.data = {
                    establishment: null
                })
            }
        }, {
            key: "establishment",
            set: function(e) {
                this.data.establishment = e
            },
            get: function() {
                return this.data.establishment
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = void 0,
        r = void 0,
        o = void 0,
        l = void 0,
        c = void 0,
        d = new(a(t(3575)).default);

    function u(e, t) {
        return t && e && e.indexOf(t) !== s.IS_NOT_EXIST
    }
    var _ = function() {
        function e(t, i, a, d, u, _) {
            "ngInject";
            (0, n.default)(this, e), c = t, s = i, a, o = u, r = d, l = _, this.initValues()
        }
        return e.$inject = ["requestService", "conditionConstants", "$timeout", "menuService", "studentsService", "establishmentService"], (0, i.default)(e, [{
            key: "initValues",
            value: function(e) {
                this.data && !e || (this.data = {
                    user: null,
                    roles: null
                })
            }
        }, {
            key: "isAuthorized",
            value: function() {
                return !!this.data.user
            }
        }, {
            key: "setUser",
            value: function(e) {
                if (e) {
                    this.data.roles = e.user.types;
                    var t = d.createUser(this.data.roles, e);
                    this.data.user = t, this.data.user.data.fullName = t.forename + " " + t.surname, l.data.establishment = e.establishment
                }
            }
        }, {
            key: "loadAsyncUserData",
            value: function(e) {
                var t = this.data.user,
                    n = e || t.activeChild;
                return this.checkRole("parent") && !this.checkRole("employee") ? this.getAsyncParentMenuLogo(n.id, r.config.LOGO_SIZE).then(function(e) {
                    return t.logo = e || {}, t.logo.path = e && e.photo ? "data:image/gif;base64," + e.photo : o.getDefaultPhotoUsingGender(n.gender), n.logo = t.logo, !0
                }) : c.generateResolveResponse(!0)
            }
        }, {
            key: "getAsyncParentMenuLogo",
            value: function(e, t) {
                return o.students.getPhotos([e], t).then(function(t) {
                    return t.filter(function(t) {
                        if (t.id === e) return !0
                    })[0]
                })
            }
        }, {
            key: "fetchNewPassword",
            value: function(e, t) {
                return c.getData("other", "change_password", {
                    current_password: e,
                    new_password: t
                })
            }
        }, {
            key: "checkRole",
            value: function(e) {
                return u(this.data.roles, e)
            }
        }, {
            key: "getItemNameInArrayFromId",
            value: function(e, t) {
                for (var n = 0; n < e.length; n++) {
                    var i = e[n];
                    if (i.id === t) return i.name
                }
                return ""
            }
        }, {
            key: "getCommunityGroupNameFromId",
            value: function(e) {
                var t = this.user.establishment.community_groups;
                return this.getItemNameInArrayFromId(t, e)
            }
        }, {
            key: "getFormGroupNameFromId",
            value: function(e) {
                var t = this.user.establishment.form_groups;
                return this.getItemNameInArrayFromId(t, e)
            }
        }, {
            key: "getYearGroupNameFromId",
            value: function(e) {
                var t = this.user.establishment.year_groups;
                return this.getItemNameInArrayFromId(t, e)
            }
        }, {
            key: "checkRoleInRoleArray",
            value: function(e, t) {
                return u(t, e)
            }
        }, {
            key: "user",
            get: function() {
                return this.data && this.data.user
            }
        }, {
            key: "currentType",
            get: function() {
                return this.data && this.data.roles
            }
        }]), e
    }();
    exports.default = _
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = o(t(1)),
        i = o(t(2)),
        a = o(t(3576)),
        s = o(t(3579)),
        r = o(t(473));

    function o(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var l = -1,
        c = {
            combineRoles: [{
                roles: ["parent", "employee"],
                Factory: o(t(3581)).default
            }],
            singleRoles: {
                parent: r.default,
                employee: a.default,
                learner: s.default
            }
        };

    function d(e, t) {
        return t.roles.filter(function(t) {
            return e.indexOf(t) !== l
        }).length === e.length
    }
    var u = function() {
        function e() {
            (0, n.default)(this, e)
        }
        return (0, i.default)(e, [{
            key: "createUser",
            value: function(e, t) {
                return e.length > 1 ? function(e, t) {
                    for (var n = c.combineRoles, i = 0; i < n.length; i++)
                        if (d(e, n[i])) return new n[i].Factory(t)
                }(e, t) : function(e, t) {
                    return new c.singleRoles[e](t)
                }(e[0], t)
            }
        }]), e
    }();
    exports.default = u
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = l(t(6)),
        i = l(t(1)),
        a = l(t(2)),
        s = l(t(7)),
        r = l(t(91)),
        o = l(t(8));

    function l(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var c = function(e) {
        function t(e) {
            return (0, i.default)(this, t), (0, s.default)(this, (t.__proto__ || (0, n.default)(t)).call(this, e))
        }
        return (0, o.default)(t, e), (0, a.default)(t, [{
            key: "initValues",
            value: function(e) {
                (0, r.default)(t.prototype.__proto__ || (0, n.default)(t.prototype), "initValues", this).call(this, e), (0, r.default)(t.prototype.__proto__ || (0, n.default)(t.prototype), "updateIdFromLastAction", this).call(this, e.user), (0, r.default)(t.prototype.__proto__ || (0, n.default)(t.prototype), "updateRoleFromLastAction", this).call(this, "employee"), this.data.mainMenuName = "personal_menu", this.data.logo = {
                    path: "data:image/gif;base64," + e.establishment.logo
                }, this.data.activeStudent = null, this.data.activeProfile = null
            }
        }, {
            key: "activeStudent",
            get: function() {
                return this.data.activeStudent
            },
            set: function(e) {
                this.lastActiveProfile = e, (0, r.default)(t.prototype.__proto__ || (0, n.default)(t.prototype), "updateIdFromLastAction", this).call(this, e), (0, r.default)(t.prototype.__proto__ || (0, n.default)(t.prototype), "updateRoleFromLastAction", this).call(this, e ? "learner" : "employee"), this.data.activeStudent = e
            }
        }, {
            key: "activeStudentId",
            get: function() {
                return this.data.activeStudent.id
            }
        }, {
            key: "lastActiveProfile",
            set: function(e) {
                this.data.activeProfile = e
            },
            get: function() {
                return this.data.activeProfile
            }
        }, {
            key: "document",
            get: function() {
                return this._local.document
            }
        }]), t
    }(l(t(294)).default);
    exports.default = c
}, , , function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = l(t(6)),
        i = l(t(1)),
        a = l(t(2)),
        s = l(t(7)),
        r = l(t(91)),
        o = l(t(8));

    function l(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var c = function(e) {
        function t(e) {
            return (0, i.default)(this, t), (0, s.default)(this, (t.__proto__ || (0, n.default)(t)).call(this, e))
        }
        return (0, o.default)(t, e), (0, a.default)(t, [{
            key: "initValues",
            value: function(e) {
                (0, r.default)(t.prototype.__proto__ || (0, n.default)(t.prototype), "initValues", this).call(this, e), (0, r.default)(t.prototype.__proto__ || (0, n.default)(t.prototype), "updateIdFromLastAction", this).call(this, e.user), (0, r.default)(t.prototype.__proto__ || (0, n.default)(t.prototype), "updateRoleFromLastAction", this).call(this, "learner"), this.data.mainMenuName = "personal_menu", this.data.logo = {
                    path: "data:image/gif;base64," + e.establishment.logo
                }
            }
        }]), t
    }(l(t(294)).default);
    exports.default = c
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t) {
            (0, n.default)(this, e), this.initValues(t)
        }
        return (0, i.default)(e, [{
            key: "initValues",
            value: function(e) {
                ! function(e) {
                    e && e.forEach(function(e) {
                        e.fullName = e.forename + " " + e.surname
                    })
                }(e), this.data = {
                    children: e,
                    activeChild: e[0]
                }
            }
        }, {
            key: "all",
            get: function() {
                return this.data.children
            }
        }, {
            key: "activeChild",
            set: function(e) {
                null === e && (this.data.activeChild = null), -1 !== this.data.children.indexOf(e) && (this.data.activeChild = e)
            },
            get: function() {
                return this.data.activeChild
            }
        }, {
            key: "activeChildIndex",
            get: function() {
                return this.data.children.indexOf(this.data.activeChild)
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = c(t(6)),
        i = c(t(1)),
        a = c(t(2)),
        s = c(t(7)),
        r = c(t(3582)),
        o = c(t(91)),
        l = c(t(8));

    function c(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var d = function(e) {
        function t(e) {
            return (0, i.default)(this, t), (0, s.default)(this, (t.__proto__ || (0, n.default)(t)).call(this, e))
        }
        return (0, l.default)(t, e), (0, a.default)(t, [{
            key: "initValues",
            value: function(e, i) {
                var a = !1;
                localStorage.getItem("child_id") || (a = !0), (0, o.default)(t.prototype.__proto__ || (0, n.default)(t.prototype), "initValues", this).call(this, e), (0, o.default)(t.prototype.__proto__ || (0, n.default)(t.prototype), "updateIdFromLastAction", this).call(this, e.user), (0, o.default)(t.prototype.__proto__ || (0, n.default)(t.prototype), "updateRoleFromLastAction", this).call(this, "employee"), this.data.mainMenuName = "personal_menu", this.data.logo = {
                    path: "data:image/gif;base64," + e.establishment.logo
                }, this.data.activeStudent = null, this.activeChild = null, a && localStorage.removeItem("child_id"), this.data.activeProfile = null
            }
        }, {
            key: "activeStudent",
            get: function() {
                return this.data.activeStudent
            },
            set: function(e) {
                (0, o.default)(t.prototype.__proto__ || (0, n.default)(t.prototype), "updateIdFromLastAction", this).call(this, e), (0, o.default)(t.prototype.__proto__ || (0, n.default)(t.prototype), "updateRoleFromLastAction", this).call(this, e ? "learner" : "employee"), this.lastActiveProfile = e, this.data.activeStudent = e
            }
        }, {
            key: "activeChild",
            set: function(e) {
                (0, r.default)(t.prototype.__proto__ || (0, n.default)(t.prototype), "activeChild", e, this), (0, o.default)(t.prototype.__proto__ || (0, n.default)(t.prototype), "updateRoleFromLastAction", this).call(this, e ? "learner" : "employee")
            },
            get: function() {
                return (0, o.default)(t.prototype.__proto__ || (0, n.default)(t.prototype), "activeChild", this)
            }
        }, {
            key: "activeStudentId",
            get: function() {
                return this.data.activeStudent.id
            }
        }, {
            key: "lastActiveProfile",
            set: function(e) {
                this.data.activeProfile = e
            },
            get: function() {
                return this.data.activeProfile
            }
        }, {
            key: "document",
            get: function() {
                return this._local.document
            }
        }]), t
    }(c(t(473)).default);
    exports.default = d
}, , function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = h(t(0)),
        i = h(t(3584)),
        a = h(t(3586)),
        s = h(t(3587)),
        r = h(t(3588)),
        o = h(t(3589)),
        l = h(t(3590)),
        c = h(t(3591)),
        d = h(t(3592)),
        u = h(t(3593)),
        _ = h(t(3594)),
        f = h(t(3595)),
        v = h(t(3596)),
        m = h(t(3597));

    function h(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var p = n.default.module("app.services.pages", []).service({
        parentsEveningService: i.default
    }).service({
        calendarService: a.default
    }).service({
        cateringService: s.default
    }).service({
        clubsService: r.default
    }).service({
        detentionsService: o.default
    }).service({
        documentsService: l.default
    }).service({
        documentsMessageService: c.default
    }).service({
        homeworkDataService: d.default
    }).service({
        marksheetService: u.default
    }).service({
        profilesService: _.default
    }).service({
        registersService: f.default
    }).service({
        ResourceBookingService: v.default
    }).service({
        timetableService: m.default
    }).name;
    exports.default = p
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = u(t(194)),
        i = u(t(195)),
        a = u(t(11)),
        s = u(t(156)),
        r = u(t(35)),
        o = u(t(10)),
        l = u(t(1)),
        c = u(t(2)),
        d = u(t(3585));

    function u(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }

    function _(e) {
        return new Date(e.replace(" ", "T") + "Z")
    }
    var f = function() {
        function e(t, n, i, a, s, r, o, c, d, u, _, f, v, m) {
            "ngInject";
            (0, l.default)(this, e), this._$q = t, this._$window = n, this._attachmentsService = a, this._requestService = s, this._studentsService = r, this._contactsDataService = c, this._userService = d, this._teachersService = o, this._imagesConstants = u, this._notificationService = _, this._modalDefaultService = f, this._$filter = i, this._dateService = v, this._authService = m, this.initValues()
        }
        return e.$inject = ["$q", "$window", "$filter", "attachmentsService", "requestService", "studentsService", "teachersService", "contactsDataService", "userService", "imagesConstants", "notificationService", "modalDefaultService", "dateService", "authService"], (0, c.default)(e, [{
            key: "initValues",
            value: function() {
                this._requestService.register("parents-evening", d.default), this._teachersEvents = {}, this._slots = null, this._students = [], this._events = null, this._eventDetails = null, this.appointments = null, this.room = null
            }
        }, {
            key: "clearStudents",
            value: function() {
                this._students = []
            }
        }, {
            key: "clearEventDetails",
            value: function() {
                this._eventDetails = null
            }
        }, {
            key: "prepTeachers",
            value: function(e) {
                this.eventDetails.teachers = this.eventDetails.teachers.map(function(t) {
                    var n = e.find(function(e) {
                        return e.id === t.teacher_id
                    });
                    return n ? (0, o.default)({}, n, {
                        id: t.teacher_id,
                        learner_count: t.learner_count,
                        slots_booked: t.slots_booked,
                        slots_blocked: t.slots_blocked,
                        teacher_location: t.location
                    }) : (t.id = t.teacher_id, t)
                })
            }
        }, {
            key: "create",
            value: function(e, t) {
                return this._requestService.getData("parents-evening", "create", (0, r.default)({}, e, {
                    preview: t
                }))
            }
        }, {
            key: "fetchAll",
            value: function(e) {
                var t = this;
                return this._requestService.isDemoMode && (e = {
                    role: this._userService.checkRole("employee") ? "employee" : "parent"
                }), this._requestService.getData("parents-evening", "events", e || null).then(function(e) {
                    return e.events
                }).then(this.formatEvents).then(function(e) {
                    return t._events = e, t._events
                })
            }
        }, {
            key: "fetchEvent",
            value: function(e) {
                return this._requestService.isDemoMode && (e = this._userService.user.activeStudent ? {
                    role: "student"
                } : {
                    role: this._userService.checkRole("employee") ? "employee" : "parent"
                }), this._requestService.getData("parents-evening", "event", e)
            }
        }, {
            key: "getStatus",
            value: function(e) {
                return e.teacher_available ? e.parent_id ? e.attended ? "Attended" : "Booked" : "Block" : "Blocked"
            }
        }, {
            key: "formatDataForExporting",
            value: function(e) {
                var t = this,
                    n = [];
                return e.forEach(function(e) {
                    var i = t._$filter("date")(new Date(e.date), t._dateService.getDateFormat("defaultDate"));
                    n.push([i]), e.slots.forEach(function(e) {
                        var i = [t.getStatus(e), t._$filter("date")(new Date(e.start_time), "HH:mm", "UTC"), (e.learner ? e.learner : "-") + " / " + (e.parent ? e.parent : "-"), e.notes_to_teacher ? e.notes_to_teacher : "-"];
                        n.push(i)
                    })
                }), [
                    ["Bookings"],
                    ["Status", "Slots", "Learner/Parent", "Notes"]
                ].concat(n)
            }
        }, {
            key: "prepLearnersForGettingPhotos",
            value: function(e) {
                return e.forEach(function(e) {
                    e.slots = e.slots.map(function(e) {
                        return e.id = "" + e.learner_id, e.ids = ["" + e.learner_id], e
                    })
                }), e
            }
        }, {
            key: "addPhotosToLearners",
            value: function(e) {
                var t = this;
                e.forEach(function(e) {
                    e.slots.forEach(function(e) {
                        e.learner_id && t._studentsService.students.getPhotos([e.learner_id]).then(function(n) {
                            e.learnerPhoto = n.length && n[0].photo ? "data:image/gif;base64," + n[0].photo : t._imagesConstants.DEFAULT_IMAGE
                        })
                    })
                })
            }
        }, {
            key: "fetchPrepEvent",
            value: function(e) {
                var t = this,
                    n = void 0,
                    i = void 0;
                return this.fetchEvent(e).then(function(e) {
                    return n = e.event_learner_ids, i = e.event, t.fetchPeopleData(e.personal_slots)
                }).then(this.formatTeacherSlots).then(function(i) {
                    var a = e.employee_id ? e.employee_id : t._userService.user.id;
                    return t.teachersEvents[a] = {
                        slots: i,
                        learnerIds: n
                    }, t.addPhotosToLearners(i), {
                        slots: i,
                        learnerIds: n
                    }
                }).then(function(e) {
                    return e.event = i, n.length ? t._studentsService.getStudents(n).then(function(n) {
                        return t.students = n, e.slots = t.prepLearnersForGettingPhotos(e.slots), e
                    }) : (t.students = [], e)
                })
            }
        }, {
            key: "book",
            value: function(e) {
                return this._requestService.getData("parents-evening", "book", e)
            }
        }, {
            key: "getParentEventAppointments",
            value: function(e) {
                var t = this;
                return this._requestService.getData("parents-evening", "parent_event_appointments", {
                    event_id: e
                }).then(function(e) {
                    t.appointments = {
                        appointments: e.appointments,
                        event: e.event,
                        now: e.now
                    }
                })
            }
        }, {
            key: "openVideoCallsPage",
            value: function(e) {
                var t = this;
                return this._$window.cordova ? this._authService.getLoginToken().then(function(n) {
                    var i = "https://login.edulinkone.com/#!/login?idp_token=" + n.details.token + "&server_url=" + t._requestService.classes.initial.url + "&route_to=parenteventcall.event&route_to_params=" + encodeURI(angular.toJson({
                        event_id: e
                    }));
                    t._$window.cordova.InAppBrowser.open(i, "_system")
                }) : (this._$window.open(this._$window.location.origin + "/#!/parents-evening-call/" + e), this._$q.resolve())
            }
        }, {
            key: "getParentEventVideoCredentials",
            value: function(e, t, n) {
                return this._requestService.getData("parents-evening", "parent_event_video_credentials", {
                    event_id: e,
                    teacher_slot_id: t,
                    desktop: n
                })
            }
        }, {
            key: "unbook",
            value: function(e) {
                return this._requestService.getData("parents-evening", "unbook", e)
            }
        }, {
            key: "toggleSlot",
            value: function(e) {
                return this._requestService.getData("parents-evening", "toggleSlot", e).then(function(e) {
                    return e.slot
                })
            }
        }, {
            key: "markVisit",
            value: function(e) {
                return this._requestService.getData("parents-evening", "mark_visit", e).then(function(e) {
                    return e.attended
                })
            }
        }, {
            key: "getEventDetails",
            value: function(e) {
                var t = this;
                return this._requestService.getData("parents-evening", "event_details", e).then(function(e) {
                    return t._eventDetails = e, e
                })
            }
        }, {
            key: "getEventEmployeeLearners",
            value: function(e) {
                return this._requestService.getData("parents-evening", "employee_learners", e)
            }
        }, {
            key: "removeTeacher",
            value: function(e) {
                return this._requestService.getData("parents-evening", "employee_remove", e)
            }
        }, {
            key: "sendEmailMeRequest",
            value: function(e) {
                return this._requestService.getData("parents-evening", "parent_event_email_me", {
                    event_id: e
                })
            }
        }, {
            key: "exportEvent",
            value: function(e) {
                return this._requestService.getData("parents-evening", "parent_event_export", {
                    event_id: e
                })
            }
        }, {
            key: "removeEvent",
            value: function(e) {
                return this._requestService.getData("parents-evening", "event_delete", e)
            }
        }, {
            key: "updateEmployeeLearners",
            value: function(e) {
                return this._requestService.getData("parents-evening", "employee_learners_update", e)
            }
        }, {
            key: "updateEventLearners",
            value: function(e) {
                return this._requestService.getData("parents-evening", "parent_event_learner_update", e)
            }
        }, {
            key: "removeEventLearners",
            value: function(e) {
                return this._requestService.getData("parents-evening", "parent_event_learner_remove", e)
            }
        }, {
            key: "addEmployees",
            value: function(e) {
                return this._requestService.getData("parents-evening", "employees_add", e)
            }
        }, {
            key: "cancelBookedSlot",
            value: function(e) {
                return this._requestService.getData("parents-evening", "parent_event_cancel_booked_slot", e)
            }
        }, {
            key: "employeeSwap",
            value: function(e) {
                return this._requestService.getData("parents-evening", "parent_event_employee_swap", e)
            }
        }, {
            key: "updateParentEventDetails",
            value: function(e) {
                return this._requestService.getData("parents-evening", "update_event_details", e)
            }
        }, {
            key: "getParentEventSlotAttendance",
            value: function(e) {
                return this._requestService.getData("parents-evening", "parent_event_slot_attendance", e)
            }
        }, {
            key: "downloadPDF",
            value: function(e, t) {
                var n = this;
                return this.getParentEventPDF({
                    event_id: e,
                    parent_id: t
                }).then(function(e) {
                    var t = {
                        filename: "parents-evening",
                        content: e,
                        mime_type: "application/pdf"
                    };
                    n._attachmentsService.downloadDocument(t)
                })
            }
        }, {
            key: "downloadEmployeePDF",
            value: function(e) {
                var t = this;
                return this.getParentEmployeeEventPDF(e).then(function(e) {
                    var n = {
                        filename: "parents-evening.pdf",
                        content: e,
                        mime_type: "application/pdf"
                    };
                    t._attachmentsService.downloadDocument(n)
                })
            }
        }, {
            key: "getParentEventPDF",
            value: function(e) {
                return this._requestService.getData("parents-evening", "parent_event_pdf", e).then(function(e) {
                    return e.document
                })
            }
        }, {
            key: "getParentEmployeeEventPDF",
            value: function(e) {
                return this._requestService.getData("parents-evening", "parent_event_employee_pdf", e).then(function(e) {
                    return e.document
                })
            }
        }, {
            key: "getIds",
            value: function(e, t, n) {
                return e.filter(function(e, n, i) {
                    return i.findIndex(function(n) {
                        return t(n, e)
                    }) === n
                }).map(n)
            }
        }, {
            key: "fetchWithEmployees",
            value: function(e) {
                var t = this;
                return this.fetchEvent(e).then(function(e) {
                    var n = e.parent_options.map(function(e) {
                        return e.teacher_id
                    }).filter(function(e, t, n) {
                        return n.indexOf(e) === t
                    });
                    return t._teachersService.getEmployeesWithFullNameFromDb(n).then(function(t) {
                        return e.parent_options.forEach(function(e) {
                            var n = t.find(function(t) {
                                return t.id === e.teacher_id
                            });
                            n && (e.teacher = n.fullName)
                        }), e
                    })
                })
            }
        }, {
            key: "getIdsFromParentOptions",
            value: function(e) {
                var t = this.getIds(e, function(e, t) {
                    return e.learner_id === t.learner_id
                }, function(e) {
                    return e.learner_id
                });
                return {
                    parent_ids: this.getIds(e, function(e, t) {
                        return e.parent_id === t.parent_id
                    }, function(e) {
                        return e.parent_id
                    }),
                    learner_ids: t
                }
            }
        }, {
            key: "associateLearnersForSlots",
            value: function(e, t) {
                var n = t || this._userService.user.children;
                return e.map(function(e) {
                    var t = e.learner_id,
                        i = n.find(function(e) {
                            return e.id === t
                        });
                    return e.learnerName = i && i.fullName, e
                })
            }
        }, {
            key: "associateParentsForSlots",
            value: function(e, t) {
                return e.map(function(e) {
                    var n = e.parent_id,
                        i = e.slots.find(function(e) {
                            return e.booked
                        });
                    return e.parent = t.find(function(e) {
                        return e.id === n
                    }), i && (i.parent = e.parent), e
                })
            }
        }, {
            key: "createLearner",
            value: function(e) {
                return {
                    id: e.learner_id,
                    name: e.learnerName
                }
            }
        }, {
            key: "prepareParentSlotsFromTeacher",
            value: function(e) {
                return e.reduce(function(e, t) {
                    var n = e.find(function(e) {
                        return e.teacher_id === t.teacher_id && e.learner_id === t.learner_id
                    });
                    return n ? (n.parents.push(t.parent), n.slots.forEach(function(e, n) {
                        var i = t.slots[n];
                        e.available = e.available || i.available, e.booked = e.booked || i.booked, e.parent = e.parent || i.parent
                    })) : (t.parents = [t.parent], e.push(t)), e
                }, [])
            }
        }, {
            key: "getBookedSlot",
            value: function(e) {
                return e.find(function(e) {
                    return e.booked
                })
            }
        }, {
            key: "prepareParentSlots",
            value: function(e, t) {
                var n = this,
                    i = this.getIds(e, function(e, t) {
                        return e.learner_id === t.learner_id
                    }, function(e) {
                        return e.learner_id
                    }).map(function(t) {
                        return e.filter(function(e) {
                            return e.learner_id === t
                        })
                    }).map(function(e) {
                        return e.sort(function(e, t) {
                            return e.teacher_id <= t.teacher_id ? -1 : 1
                        })
                    }),
                    r = (e = (0, s.default)(Array.prototype.concat, [], i)).map(function(e) {
                        var t = n.getBookedSlot(e.slots),
                            i = {
                                learner_id: e.learner_id,
                                teacher_id: e.teacher_id,
                                subject: e.subjects,
                                learner: e.learnerName,
                                teacher: e.teacher,
                                teacher_location: e.teacher_location
                            };
                        return e.parent_id && !n._userService.user.activeChild && (i.parent_id = e.parent_id), t && (i.start_time = t.start_time.slice(-8)), i
                    }),
                    o = this._dateService.getDateFormat("momentDate");
                return {
                    body: new Array(e[0] && e[0].slots.length || 0).fill(null).map(function(n, i) {
                        return e.map(function(e) {
                            var n = e.slots;
                            if (n.length) {
                                var s = n[i];
                                return {
                                    subject: e.subjects,
                                    available: s.available && !s.booked,
                                    mobileText: e.subjects + ", " + e.learnerName,
                                    teacher_id: e.teacher_id,
                                    teacherName: e.teacher,
                                    slot: s,
                                    parents: [].concat((0, a.default)(e.parents || [])),
                                    parent_id: e.parent_id,
                                    date: s.start_time,
                                    time: s.start_time.split(" ")[1].slice(0, 5),
                                    learner: {
                                        id: e.learner_id,
                                        name: e.learnerName
                                    },
                                    event_id: t,
                                    notes_to_teacher: e.notes_to_teacher
                                }
                            }
                        })
                    }).reduce(function(e, t) {
                        var n = e[e.length - 1],
                            i = _(t[0].date);
                        if (n) {
                            var a = n.date;
                            if (moment(a).utc().format(o) === moment(i).utc().format(o)) return n.slots.push(t), e
                        }
                        return e.push({
                            date: i,
                            slots: [t]
                        }), e
                    }, []),
                    header: r
                }
            }
        }, {
            key: "formatEvents",
            value: function(e) {
                return e.map(function(e) {
                    return e.sessions = e.sessions.map(function(e) {
                        return {
                            start_time: _(e.start_time),
                            end_time: _(e.end_time),
                            id: e.id
                        }
                    }), e.date = e.sessions[0] && e.sessions[0].start_time, e
                })
            }
        }, {
            key: "fetchPeopleData",
            value: function(e) {
                var t = this,
                    a = e.filter(function(e) {
                        return !!e.parent_id
                    });
                if (!a.length) return e;
                var s = a.map(function(e) {
                        return e.parent_id
                    }),
                    r = a.map(function(e) {
                        return e.learner_id
                    });
                return i.default.all([this._studentsService.getStudents(r), this._contactsDataService.fetchContacts({
                    contact_ids: s
                }).then(function(e) {
                    return e.contacts
                })]).then(function(i) {
                    var a = (0, n.default)(i, 2),
                        s = a[0],
                        r = a[1];
                    return e.map(function(e) {
                        var n = r.find(function(t) {
                                return t.id === e.parent_id
                            }),
                            i = s.find(function(t) {
                                return t.id === e.learner_id
                            });
                        return n && (e.phone = n.phone, e.mobile_phone = n.mobile_phone), e.parent = t.formatPerson(n), e.learner = t.formatPerson(i), e
                    })
                })
            }
        }, {
            key: "formatPerson",
            value: function(e) {
                return e ? e.forename + " " + e.surname : null
            }
        }, {
            key: "formatTeacherSlots",
            value: function(e) {
                return e.map(function(e) {
                    return e.start_time = _(e.start_time), e.attended = e.parent_attended, e
                }).reduce(function(e, t) {
                    var n = e[e.length - 1],
                        i = t.start_time;
                    if (n) {
                        var a = n.date;
                        a.getDate() !== i.getDate() || a.getMonth() !== i.getMonth() || a.getFullYear() !== i.getFullYear() ? e.push({
                            date: i,
                            slots: [t]
                        }) : n.slots.push(t)
                    } else e.push({
                        date: i,
                        slots: [t]
                    });
                    return e
                }, [])
            }
        }, {
            key: "updateField",
            value: function(e, t) {
                var n = (0, o.default)({
                    event_id: e
                }, t);
                return this.updateParentEventDetails(n)
            }
        }, {
            key: "createAttendedRequest",
            value: function(e, t, n) {
                return {
                    event_id: e,
                    teacher_id: t,
                    learner_id: n.learner_id,
                    parent_id: n.parent_id,
                    attended: n.attended
                }
            }
        }, {
            key: "createBlockSlotRequest",
            value: function(e, t, n) {
                return {
                    event_id: e,
                    teacher_id: t,
                    slot_id: n.slot_id,
                    available: !n.teacher_available
                }
            }
        }, {
            key: "createEventRequest",
            value: function(e, t) {
                var n = e.video,
                    i = e.bookable_slots_per_learner,
                    a = e.information,
                    s = e.name,
                    r = e.slot_duration,
                    o = e.buffer_duration,
                    l = e.include_form_teachers,
                    c = e.prevent_consecutive_bookings,
                    d = e.availabilityDate,
                    u = e.closedDate,
                    _ = d,
                    f = t.map(function(e) {
                        return e.id
                    }),
                    v = {
                        information: a,
                        name: s,
                        slot_duration: r,
                        buffer_duration: o,
                        include_form_teachers: l,
                        video: n,
                        sessions: e.sessions,
                        learner_ids: f,
                        available_to_parents: _,
                        prevent_consecutive_bookings: c,
                        format: 2,
                        bookable_slots_per_learner: i || null
                    };
                return u && (v.closed_to_parents = u), v
            }
        }, {
            key: "parsePreview",
            value: function(e) {
                return e.sessions = e.sessions.map(function(e) {
                    var t = e.start_time.split(" ")[0];
                    return e.start_time = new Date(t), e.slots = e.slots.map(function(e) {
                        return e.split(" ")[1].slice(0, 5)
                    }), e
                }), e.teaching_groups = e.teaching_groups.reduce(function(e, t) {
                    return e.hasOwnProperty(t.subject) || (e[t.subject] = []), e[t.subject].push(t), e
                }, {}), e
            }
        }, {
            key: "formatTeachers",
            value: function(e, t) {
                return e.map(function(e) {
                    var n = t.find(function(t) {
                        return t.id === e.id
                    });
                    return e.allocatedValue = n ? n.value : 0, e
                })
            }
        }, {
            key: "handleTeacherLearnerState",
            value: function(e, t) {
                var i = this;
                return this.fetchWithEmployees({
                    event_id: e,
                    learner_id: t
                }).then(function(e) {
                    return (0, r.default)({}, e, i.getIdsFromParentOptions(e.parent_options))
                }).then(function(t) {
                    var a = {
                        options: {
                            body: [],
                            header: []
                        }
                    };
                    return t.learner_ids.length ? i._$q.all([i._studentsService.getStudents(t.learner_ids), i._contactsDataService.fetchContacts({
                        contact_ids: t.parent_ids
                    })]).then(function(e) {
                        var i = (0, n.default)(e, 2),
                            a = i[0],
                            s = i[1];
                        return (0, r.default)({}, t, {
                            students: a,
                            parents: s.contacts
                        })
                    }).then(function(t) {
                        return i.associateLearnersForSlots(t.parent_options, t.students), i.associateParentsForSlots(t.parent_options, t.parents), t.parent_options = i.prepareParentSlotsFromTeacher(t.parent_options), t.parent_options = i.prepareParentSlots(t.parent_options, e), a.options = t.parent_options, a.emailme = t.emailme, a
                    }) : a
                })
            }
        }, {
            key: "attend",
            value: function(e, t, n) {
                var i = this,
                    a = this.createAttendedRequest(t, n, e);
                return e.isLoading = !0, this.markVisit(a).then(function(t) {
                    e.attended = t, i._notificationService.showSuccessNotification("Success")
                }).finally(function() {
                    e.isLoading = !1
                })
            }
        }, {
            key: "block",
            value: function(e, t, n) {
                var i = this,
                    a = this.createBlockSlotRequest(t, n, e);
                return this.toggleSlot(a).then(function(t) {
                    e.teacher_available = t.available, i._notificationService.showSuccessNotification("Success")
                })
            }
        }, {
            key: "unbookSlot",
            value: function(e, t, n) {
                var i = this,
                    a = {
                        event_id: t,
                        learner_id: e.learner_id,
                        parent_id: e.parent_id,
                        teacher_id: n
                    };
                return this.cancelBookedSlot(a).then(function() {
                    return i.fetchPrepEvent({
                        event_id: t,
                        employee_id: n
                    })
                })
            }
        }, {
            key: "isAdmin",
            get: function() {
                return this._userService.user.capabilities && this._userService.user.capabilities["parentevent.administrator"]
            }
        }, {
            key: "students",
            get: function() {
                return this._students
            },
            set: function(e) {
                this._students = e
            }
        }, {
            key: "events",
            get: function() {
                return this._events
            }
        }, {
            key: "slots",
            get: function() {
                return this._slots
            },
            set: function(e) {
                this._slots = e
            }
        }, {
            key: "teachersEvents",
            get: function() {
                return this._teachersEvents
            },
            set: function(e) {
                this._teachersEvents = e
            }
        }, {
            key: "eventDetails",
            get: function() {
                return this._eventDetails
            },
            set: function(e) {
                this._eventDetails = e
            }
        }]), e
    }();
    exports.default = f
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = o(t(6)),
        i = o(t(1)),
        a = o(t(2)),
        s = o(t(7)),
        r = o(t(8));

    function o(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var l = function(e) {
        function t(e, a) {
            (0, i.default)(this, t);
            var r = (0, s.default)(this, (t.__proto__ || (0, n.default)(t)).call(this, e, a));
            return r.initValues(), r
        }
        return (0, r.default)(t, e), (0, a.default)(t, [{
            key: "initValues",
            value: function(e) {
                this.data && !e || (this.exception = {
                    name: "Class ParentsEveningRequest"
                }, this.data = {
                    create: {
                        methodName: "ParentEventCreate",
                        method: "post",
                        timeout: 12e4,
                        url: "./jsons/EduLink/EduLink.ParentEventCreate.json"
                    },
                    update: {
                        methodName: "ParentEventUpdate",
                        method: "post"
                    },
                    event: {
                        methodName: "ParentEvent",
                        method: "post",
                        url: "./jsons/EduLink/ParentEvent/role/EduLink.ParentEvent.json"
                    },
                    events: {
                        methodName: "ParentEvents",
                        method: "post",
                        url: "./jsons/EduLink/ParentEvents/role/EduLink.ParentEvents.json"
                    },
                    toggleSlot: {
                        methodName: "ParentEventAvailableForSlot",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.ParentEventAvailableForSlot.json"
                    },
                    book: {
                        methodName: "ParentEventBookSlot",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.ParentEventBookSlot.json"
                    },
                    unbook: {
                        methodName: "ParentEventCancelBookedSlot",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.ParentEventCancelBookedSlot.json"
                    },
                    mark_visit: {
                        methodName: "ParentEventParentAttended",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.ParentEventParentAttended.json"
                    },
                    event_details: {
                        methodName: "ParentEventDetails",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.ParentEventDetails.json"
                    },
                    update_event_details: {
                        methodName: "ParentEventUpdate",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.ParentEventUpdate.json"
                    },
                    employees_add: {
                        methodName: "ParentEventEmployeesAdd",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.ParentEventEmployeesAdd.json"
                    },
                    employee_learners: {
                        methodName: "ParentEventEmployeeLearners",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.ParentEventEmployeeLearners.json"
                    },
                    employee_learners_update: {
                        methodName: "ParentEventEmployeeLearnersUpdate",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.ParentEventEmployeeLearnersUpdate.json"
                    },
                    employee_remove: {
                        methodName: "ParentEventEmployeeRemove",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.ParentEventEmployeeRemove.json"
                    },
                    event_delete: {
                        methodName: "ParentEventDelete",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.ParentEventDelete.json"
                    },
                    parent_event_cancel_booked_slot: {
                        methodName: "ParentEventCancelBookedSlot",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.ParentEventCancelBookedSlot.json"
                    },
                    parent_event_email_me: {
                        methodName: "ParentEventEmailMe",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.ParentEventEmailMe.json"
                    },
                    parent_event_export: {
                        methodName: "ParentEventExport",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.ParentEventExport.json"
                    },
                    parent_event_pdf: {
                        methodName: "ParentEventPDF",
                        method: "post"
                    },
                    parent_event_employee_pdf: {
                        methodName: "ParentEventEmployeePDF",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.ParentEventEmployeePDF.json"
                    },
                    parent_event_employee_swap: {
                        methodName: "ParentEventEmployeeSwap",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.ParentEventEmployeeSwap.json"
                    },
                    parent_event_learner_update: {
                        methodName: "ParentEventLearnerUpdate",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.ParentEventLearnerUpdate.json"
                    },
                    parent_event_learner_remove: {
                        methodName: "ParentEventLearnerRemove",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.ParentEventLearnerRemove.json"
                    },
                    parent_event_slot_attendance: {
                        methodName: "ParentEventSlotAttendance",
                        method: "post",
                        url: "./jsons/EduLink/EduLink.ParentEventSlotAttendance.json"
                    },
                    parent_event_appointments: {
                        methodName: "ParentEventAppointments",
                        method: "post"
                    },
                    parent_event_video_credentials: {
                        methodName: "ParentEventVideoCredentials",
                        method: "post"
                    }
                })
            }
        }]), t
    }(o(t(17)).default);
    exports.default = l
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = r(t(35)),
        i = r(t(11)),
        a = r(t(1)),
        s = r(t(2));

    function r(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var o = function() {
        function e(t, n, i, s, r, o, l) {
            "ngInject";
            (0, a.default)(this, e), this._$filter = o, this._bCalendarService = s, this._calendarConfig = i, this._requestService = n, this._userService = r, this._$rootScope = t, this._modalDefaultService = l, this.initValues(), this._isLoadingFirstTime = !0, this._currentDate = this.config.viewDate, this._calendarConfig.allDateFormats.angular.date.weekDay = "EEE"
        }
        return e.$inject = ["$rootScope", "requestService", "calendarConfig", "bCalendarService", "userService", "$filter", "modalDefaultService"], (0, s.default)(e, [{
            key: "initValues",
            value: function() {
                this.data = {
                    currentEvents: [],
                    calerndars: {}
                }, this.config = {
                    calendarView: "month",
                    viewDate: new Date,
                    templateName: "calendar"
                }
            }
        }, {
            key: "getFormattedText",
            value: function(e) {
                return e.replace(/\n/g, "<br>")
            }
        }, {
            key: "getEventsFromDB",
            value: function(e) {
                var t = this;
                return this._requestService.getData("calendar", "calendarGet", e).then(function(e) {
                    return e.calendar.map(function(e) {
                        return e.start_date = e.start_date.replace(/-/g, "/"), e.end_date = e.end_date.replace(/-/g, "/"), e.startsAt = new Date(e.start_date), e.endsAt = new Date(e.end_date), e.notes && (e.notes = t.getFormattedText(e.notes)), e
                    })
                }).then(function(e) {
                    return t.currentEvents = e, e
                })
            }
        }, {
            key: "createEvent",
            value: function(e) {
                var t = this;
                return this._requestService.getData("calendar", "calendarEventCreate", e).then(function(a) {
                    return t.currentEvents = [].concat((0, i.default)(t.data.currentEvents), [(0, n.default)(e, {
                        startsAt: new Date(e.start_date),
                        endsAt: new Date(e.end_date),
                        source: "EduLink",
                        event_id: a.event_id
                    })]), a
                })
            }
        }, {
            key: "deleteEvent",
            value: function(e) {
                var t = this;
                return this._requestService.getData("calendar", "calendarEventDelete", {
                    event_id: e
                }).then(function(n) {
                    var a = t.currentEvents.find(function(t) {
                        return t.event_id === e
                    });
                    if (a) {
                        var s = t.currentEvents.indexOf(a);
                        t.currentEvents = [].concat((0, i.default)(t.currentEvents.slice(0, s)), (0, i.default)(t.currentEvents.slice(s + 1)))
                    }
                    return n
                })
            }
        }, {
            key: "handleClick",
            value: function(e, t, n) {
                var i = t.date._d,
                    a = n && n.handleClick,
                    s = n && n.setDate,
                    r = void 0;
                e.view.forEach(function(e) {
                    e !== t ? e.selected = !1 : (e.selected = !0, r = e.events)
                }), s && s(i), a && a({
                    data: t,
                    date: i,
                    events: r
                })
            }
        }, {
            key: "handleModifier",
            value: function(e, t) {
                var n = t && t.getDate().setHours(0, 0, 0, 0),
                    i = e.date.toDate().getTime(),
                    a = t && t.handleCurrentDay;
                i === n ? (e.selected = !0, a && a({
                    day: e,
                    events: e.events,
                    date: n
                })) : e.selected = !1
            }
        }, {
            key: "addEventsToEventsArray",
            value: function(e, t) {
                var n = this;
                this.config.events[t] = this.config.events[t] || [], e.map(function(e) {
                    e.startsAt = new Date(e.start_date), e.endsAt = new Date(e.end_date), n.config.events[t].push(e)
                })
            }
        }, {
            key: "resetCalendar",
            value: function() {
                this.config.viewDate = new Date
            }
        }, {
            key: "currentEvents",
            set: function(e) {
                this.data.currentEvents = e.sort(function(e, t) {
                    return e.startsAt - t.startsAt
                })
            },
            get: function() {
                return this.data.currentEvents
            }
        }, {
            key: "configconfig",
            get: function() {
                return this.config
            }
        }]), e
    }();
    exports.default = o
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t) {
            "ngInject";
            (0, n.default)(this, e), this._requestService = t, this.initValues()
        }
        return e.$inject = ["requestService"], (0, i.default)(e, [{
            key: "initValues",
            value: function(e) {
                this.data && !e || (this.data = {
                    catering: null
                })
            }
        }, {
            key: "getCateringDataFromDb",
            value: function(e) {
                var t = {};
                return e && (t.learner_id = e), this._requestService.getData("catering", "catering", t)
            }
        }, {
            key: "catering",
            get: function() {
                return this.data.catering
            },
            set: function(e) {
                this.data.catering = e
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(10)),
        i = s(t(1)),
        a = s(t(2));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = function() {
        function e(t, n, a, s, r, o, l, c, d, u, _) {
            "ngInject";
            (0, i.default)(this, e), this._$q = t, this._$state = n, this._$stateParams = a, this._studentsService = s, this._requestService = r, this._teachersService = o, this._modalDefaultService = l, this._notificationService = c, this._userService = d, this._attachmentsService = u, this._dateService = _, this.initValues()
        }
        return e.$inject = ["$q", "$state", "$stateParams", "studentsService", "requestService", "teachersService", "modalDefaultService", "notificationService", "userService", "attachmentsService", "dateService"], (0, a.default)(e, [{
            key: "initValues",
            value: function(e) {
                this.data && !e || (this.data = {
                    menu: [{
                        name: "My Clubs",
                        params: {
                            page: "my_clubs"
                        }
                    }, {
                        name: "All Clubs",
                        params: {
                            page: "available_clubs"
                        }
                    }],
                    clubs: [],
                    editableClub: null
                })
            }
        }, {
            key: "formatDate",
            value: function(e, t) {
                return moment(e).format(t)
            }
        }, {
            key: "getActiveLearnerId",
            value: function() {
                return this._userService.checkRole("parent") && this._userService.user.activeChild ? this._userService.user.activeChild.id : this._userService.checkRole("learner") ? this._userService.user.id : this._userService.checkRole("employee") && this._userService.user.activeStudent ? this._userService.user.activeStudent : void 0
            }
        }, {
            key: "getStudents",
            value: function(e, t) {
                var n = this;
                return this._studentsService.getStudents(e).then(function(e) {
                    return {
                        learners: n.prepClubLearners(e, t)
                    }
                })
            }
        }, {
            key: "getTeachers",
            value: function(e) {
                var t = this;
                return this._teachersService.getTeachersFromDb({
                    employee_ids: e
                }).then(function(n) {
                    var i = n.teachers;
                    return t._requestService.isDemoMode ? {
                        teachers: i.filter(function(t) {
                            return e.includes(t.id)
                        })
                    } : {
                        teachers: i
                    }
                })
            }
        }, {
            key: "exportClubAttendance",
            value: function(e) {
                var t = this,
                    n = {
                        club_id: e
                    };
                return this._requestService.getData("clubs", "clubAttendanceExport", n).then(function(e) {
                    var n = t.formatDataForExporting({
                            learners: e.learners,
                            sessions: e.sessions
                        }),
                        i = e.club.name + " attendance";
                    t._attachmentsService.downloadCSV(n, i)
                })
            }
        }, {
            key: "formatDataForExporting",
            value: function(e) {
                var t = e.learners,
                    n = e.sessions,
                    i = ["Learner", "AdmissionNumber", "Form Group", "Year", "Medical", "PP", "EAL", "SEN"],
                    a = [],
                    s = "";
                return n.forEach(function(e, t) {
                    s = "" + e.start_time, i.push(s)
                }), t.forEach(function(e) {
                    var t = e.id,
                        i = e.forename + " " + e.surname,
                        s = "" + e.form_group,
                        r = "" + e.year_group,
                        o = "" + e.medical_condition,
                        l = "" + e.pupil_premium,
                        c = e.eal ? "" + e.eal : "FALSE",
                        d = "" + e.sen,
                        u = [i, "" + e.admission_number, s, r, o, l, c, d];
                    n.forEach(function(e) {
                        var n = "-",
                            i = e.attendance.find(function(e) {
                                return e.learner_id === t
                            });
                        if (i) {
                            var a = i.attended;
                            a ? n = "/" : a || (n = "X")
                        }
                        u.push(n)
                    }), a.push(u)
                }), [i].concat(a)
            }
        }, {
            key: "showClubDetails",
            value: function(e) {
                var t = this,
                    i = {
                        club_id: e.id
                    };
                return this._userService.user.activeChild && (i.learner_id = this._userService.user.activeChild.id), this.getClub(i).then(function(e) {
                    var i = e.club,
                        a = t._userService.checkRole("employee") && !t._userService.user.activeStudent ? i.learners.map(function(e) {
                            return e.id
                        }) : [],
                        s = i.leaders.map(function(e) {
                            return e.id
                        }),
                        r = [];
                    return a.length && r.push(t.getStudents(a, i.learners)), s.length && t._userService.checkRole("employee") && r.push(t.getTeachers(s)), t._$q.all(r).then(function(e) {
                        var a = (0, n.default)({}, e[0]);
                        e[1] && (a = (0, n.default)({}, a, e[1])), t.openClubDetailsModal(i, a.learners, a.teachers)
                    })
                })
            }
        }, {
            key: "prepClubLearners",
            value: function(e, t) {
                var i = this._dateService.getDateFormat("momentDate");
                return e.map(function(e) {
                    var a = t.find(function(t) {
                        return t.id === e.id
                    }) || {};
                    return a.attendance && a.attendance.last_attended && (a.attendance.last_attended = moment(a.attendance.last_attended).format(i)), (0, n.default)({}, e, a)
                })
            }
        }, {
            key: "handleLearners",
            value: function(e, t) {
                var i = e.map(function(e) {
                    return e.id
                });
                return this._studentsService.getStudents(i).then(function(i) {
                    return t.map(function(t) {
                        var a = i.find(function(e) {
                                return e.id === t.learner_id
                            }) || {},
                            s = e.find(function(e) {
                                return e.id === a.id
                            }) || {};
                        return t.attended = !!t.attended, (0, n.default)({}, s, a, t)
                    })
                })
            }
        }, {
            key: "openClubDetailsModal",
            value: function(e, t, n) {
                var i = this,
                    a = this.getActiveLearnerId(),
                    s = {
                        club: e
                    };
                a && (s.learnerId = a), n && (s.employees = n), t && (s.learners = t), (this._userService.checkRole("learner") || this._userService.user.activeChild) && (s.attendClub = function(e) {
                    return i.attendClub(e.club_id, a, e.attending).then(function() {
                        i._notificationService.showSuccessNotification("Success");
                        var t = e.attending ? i.menu[0].params : i.menu[1].params;
                        i._$state.transitionTo(i._$state.current, t, {
                            notify: !1,
                            inherit: !1,
                            reload: i._$state.current.name
                        })
                    })
                }), this._modalDefaultService.showModalWithTemplates("modal-club-details", s, "Club Details")
            }
        }, {
            key: "handleClubsDates",
            value: function(e) {
                var t = this,
                    n = this._dateService.getDateFormat("momentDateTime");
                return e.map(function(e) {
                    return e.time = t.formatDate(e.time, n), e
                })
            }
        }, {
            key: "getClubs",
            value: function(e) {
                var t = this;
                return this._requestService.getData("clubs", "clubs", e).then(function(e) {
                    var n = e.clubs;
                    t.data.clubs = t.handleClubsDates(n)
                }).catch(function(e) {
                    return t._notificationService.showErrorNotification(e.message, void 0, e), t._$q.reject(e)
                })
            }
        }, {
            key: "getClub",
            value: function(e) {
                var t = this;
                return this._requestService.getData("clubs", "club", e).catch(function(e) {
                    return t._notificationService.showErrorNotification(e.message, void 0, e), t._$q.reject(e)
                })
            }
        }, {
            key: "deleteClub",
            value: function(e) {
                var t = this;
                return this._requestService.getData("clubs", "clubDelete", {
                    club_id: e
                }).catch(function(e) {
                    return t._notificationService.showErrorNotification(e.message, void 0, e), t._$q.reject(e)
                })
            }
        }, {
            key: "createClub",
            value: function(e) {
                var t = this;
                return this._requestService.getData("clubs", "clubCreate", e).catch(function(e) {
                    return t._notificationService.showErrorNotification(e.message, void 0, e), t._$q.reject(e)
                })
            }
        }, {
            key: "updateClub",
            value: function(e) {
                var t = this;
                return this._requestService.getData("clubs", "clubUpdate", e).catch(function(e) {
                    return t._notificationService.showErrorNotification(e.message, void 0, e), t._$q.reject(e)
                })
            }
        }, {
            key: "attendClub",
            value: function(e, t, n) {
                var i = this,
                    a = {
                        club_id: e,
                        learner_id: t,
                        attending: n
                    };
                return this._requestService.getData("clubs", "clubAttending", a).catch(function(e) {
                    return i._notificationService.showErrorNotification(e.message, void 0, e), i._$q.reject(e)
                })
            }
        }, {
            key: "getClubSessionAttendance",
            value: function(e) {
                var t = this;
                return this._requestService.getData("clubs", "clubSessionAttendance", {
                    session_id: e
                }).catch(function(e) {
                    return t._notificationService.showErrorNotification(e.message, void 0, e), t._$q.reject(e)
                })
            }
        }, {
            key: "clubSessionAttendanceUpdate",
            value: function(e, t) {
                var n = this,
                    i = {
                        session_id: e,
                        learners: t
                    };
                return this._requestService.getData("clubs", "clubSessionAttendanceUpdate", i).catch(function(e) {
                    return n._notificationService.showErrorNotification(e.message, void 0, e), n._$q.reject(e)
                })
            }
        }, {
            key: "editableClub",
            get: function() {
                return this.data.editableClub
            },
            set: function(e) {
                this.data.editableClub = e
            }
        }, {
            key: "menu",
            get: function() {
                return this.data.menu
            }
        }, {
            key: "clubs",
            get: function() {
                return this.data.clubs
            }
        }]), e
    }();
    exports.default = r
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = o(t(43)),
        i = o(t(35)),
        a = o(t(11)),
        s = o(t(1)),
        r = o(t(2));

    function o(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var l = function() {
        function e(t, n, i, a) {
            "ngInject";
            (0, s.default)(this, e), this._$filter = t, this._requestService = n, this._studentsService = i, this._dateService = a, this._attendTypes = [{
                value: "NOR",
                name: "Not Recorded"
            }, {
                value: "ATT",
                name: "Attended"
            }, {
                value: "NAT",
                name: "Not Attended"
            }], this.initValues()
        }
        return e.$inject = ["$filter", "requestService", "studentsService", "dateService"], (0, r.default)(e, [{
            key: "initValues",
            value: function() {
                this._session = null, this._sessions = null, this.behaviourTypes = []
            }
        }, {
            key: "resetValues",
            value: function() {
                this.initValues()
            }
        }, {
            key: "fetchSessions",
            value: function(e) {
                var t = this,
                    n = e.from_date,
                    i = e.until_date,
                    s = {},
                    r = this._dateService.getDateFormat("defaultDate");
                return n && (s.from_date = n), i && (s.until_date = i), this._requestService.getData("detentions", "sessions", s).then(function(e) {
                    return e.sessions.forEach(function(e) {
                        var n = e.date.split("-").map(function(e) {
                                return parseInt(e, 10)
                            }),
                            i = e.start_time.split(":").map(function(e) {
                                return parseInt(e, 10)
                            });
                        n[1] -= 1, e.date = new(Function.prototype.bind.apply(Date, [null].concat((0, a.default)(n), (0, a.default)(i)))), e.sessionData = (e.description ? e.description : "") + " " + (e.date ? t._$filter("date")(e.date, r) : "") + " " + (e.start_time ? e.start_time : "") + " " + (e.end_time ? e.end_time : "")
                    }), t._sessions = e.sessions, t.sessions
                })
            }
        }, {
            key: "addFormGroupToStudents",
            value: function(e) {
                var t = this;
                return e.students.forEach(function(e) {
                    var n = t._studentsService.students.students.find(function(t) {
                        return t.id === e.id
                    });
                    n && (e.formGroup = n.form_group)
                }), e
            }
        }, {
            key: "fetchSession",
            value: function(e) {
                var t = this;
                return this._requestService.getData("detentions", "session", {
                    id: e
                }).then(function(e) {
                    return e.session
                }).then(function(e) {
                    return t.addFormGroupToStudents(e)
                }).then(function(e) {
                    return e.students = t.formatLearners(e.students), t._session = e, e
                })
            }
        }, {
            key: "createSession",
            value: function(e) {
                return this._requestService.getData("detentions", "create", e)
            }
        }, {
            key: "addLearner",
            value: function(e) {
                return this._requestService.getData("detentions", "add_learner", e)
            }
        }, {
            key: "removeLearners",
            value: function(e) {
                return this._requestService.getData("detentions", "remove_learner", e)
            }
        }, {
            key: "updateLearner",
            value: function(e) {
                return this._requestService.getData("detentions", "update_learner", e)
            }
        }, {
            key: "getAchievementBehaviourLookups",
            value: function() {
                return this._requestService.getData("behaviour", "behaviour_input")
            }
        }, {
            key: "getActiveItems",
            value: function(e) {
                return e.filter(function(e) {
                    return e.active
                })
            }
        }, {
            key: "updateAttendedForLearner",
            value: function(e, t) {
                var n = this.createSessionAttended(e, t);
                return this.updateLearner(n)
            }
        }, {
            key: "removeLearner",
            value: function(e, t) {
                var n = this.createDeletedLearners(e, [t]);
                return this.removeLearners(n)
            }
        }, {
            key: "formatLearners",
            value: function(e) {
                var t = this,
                    n = this._studentsService.students.students;
                return e.map(function(e) {
                    var a = t.findLearner(n, e.id);
                    if (!a) return e;
                    var s = a.forename,
                        r = a.surname,
                        o = t.findAttendedType(e.attended);
                    return (0, i.default)({}, e, {
                        fullName: s + " " + r,
                        date: new Date(e.incident_date),
                        attended: o && o.value
                    })
                })
            }
        }, {
            key: "findAttendedType",
            value: function(e) {
                return this.attendTypes.find(function(t) {
                    return t.name === e
                })
            }
        }, {
            key: "findLearner",
            value: function(e, t) {
                return e.find(function(e) {
                    return e.id === t
                })
            }
        }, {
            key: "createSessionAttended",
            value: function(e, t) {
                return {
                    detention_session_id: e.id,
                    learners: [{
                        id: t.id,
                        attended_code: t.attended
                    }]
                }
            }
        }, {
            key: "createLearnerData",
            value: function(e) {
                return "NAT" !== e.attended_code && ((0, n.default)(e, "reason_for_non_attendance"), (0, n.default)(e, "attend_next_session")), e.staff_comments || (0, n.default)(e, "staff_comments"), e.reason_for_detention_id || (0, n.default)(e, "reason_for_detention_id"), (0, i.default)({}, e)
            }
        }, {
            key: "createAddLearnersRequest",
            value: function(e, t) {
                var n = this.session,
                    a = (t || this._studentsService.selectedStudents).map(function(t) {
                        return (0, i.default)({}, {
                            id: t.id
                        }, e)
                    });
                return {
                    detention_session_id: n.id,
                    learners: a
                }
            }
        }, {
            key: "createDeletedLearners",
            value: function(e, t) {
                var n = t.map(function(e) {
                    return e.id
                });
                return {
                    detention_session_id: e.id,
                    learner_ids: n
                }
            }
        }, {
            key: "session",
            get: function() {
                return this._session
            }
        }, {
            key: "sessions",
            set: function(e) {
                this._sessions = e
            },
            get: function() {
                return this._sessions
            }
        }, {
            key: "attendTypes",
            get: function() {
                return this._attendTypes
            }
        }]), e
    }();
    exports.default = l
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t) {
            "ngInject";
            (0, n.default)(this, e), this._requestService = t, this.initValues()
        }
        return e.$inject = ["requestService"], (0, i.default)(e, [{
            key: "initValues",
            value: function(e) {
                this.data && !e || (this.data = {
                    documents: {}
                })
            }
        }, {
            key: "getDocumentsDataFromDb",
            value: function(e) {
                var t = this;
                return this._requestService.getData("documents", "documents_data", {
                    learner_id: e
                }).then(function(n) {
                    return t.documents[e] = n.documents, n
                })
            }
        }, {
            key: "getDocumentDataFromDb",
            value: function(e) {
                return this._requestService.getData("documents", "single_document", {
                    document_id: e,
                    format: 2
                })
            }
        }, {
            key: "documentAccessLog",
            value: function(e) {
                return this._requestService.getData("documents", "access_log", {
                    document_id: e
                })
            }
        }, {
            key: "documents",
            set: function(e) {
                this.data.documents = e
            },
            get: function() {
                return this.data.documents
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = r(t(10)),
        i = r(t(43)),
        a = r(t(1)),
        s = r(t(2));

    function r(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var o = function() {
        function e(t, n) {
            "ngInject";
            (0, a.default)(this, e), this._userService = n, this._requestService = t, this._learners = [], this._model = {}, this.initValues()
        }
        return e.$inject = ["requestService", "userService"], (0, s.default)(e, [{
            key: "initValues",
            value: function(e) {}
        }, {
            key: "formatLearnersToSend",
            value: function() {
                return this.learners.filter(function(e) {
                    return e.matches > 0
                }).map(function(e) {
                    return {
                        learner_id: e.id,
                        document_id: e.document.id
                    }
                })
            }
        }, {
            key: "formatLearnersToPreview",
            value: function() {
                return this.learners.filter(function(e) {
                    return e.matches > 0
                }).map(function(e) {
                    var t = "";
                    return e.cansend || (t = "Can't send to any recipients"), {
                        error: t,
                        id: e.id,
                        ids: e.ids,
                        photo: e.photo,
                        photos: e.photos,
                        surname: e.surname,
                        forename: e.forename
                    }
                })
            }
        }, {
            key: "associateParents",
            value: function(e) {
                var t = this;
                this.learners.forEach(function(n) {
                    var i = t.findLearner(e, n.id);
                    n.cansend = i.cansend, n.parents = i.parents || []
                })
            }
        }, {
            key: "findLearner",
            value: function(e, t) {
                return e.find(function(e) {
                    return e.id === t
                }) || {}
            }
        }, {
            key: "associateSearchResultsAndLearners",
            value: function(e) {
                var t = this;
                this.learners.forEach(function(n) {
                    var i = t.findDocumentInResults(e, n.id);
                    n.matches = i.matches || 0, n.document = i.document || null
                })
            }
        }, {
            key: "findDocumentInResults",
            value: function(e, t) {
                return e.find(function(e) {
                    return e.learner_id === t
                }) || {}
            }
        }, {
            key: "fetchDocuments",
            value: function(e) {
                var t = e.learner_ids,
                    n = e.document_type,
                    a = e.summary,
                    s = {
                        learner_ids: t,
                        document_type: n,
                        summary: a
                    };
                return t || (0, i.default)(s, "learner_ids"), n || (0, i.default)(s, "document_type"), a || (0, i.default)(s, "summary"), this._requestService.getData("documents_message", "documents", s)
            }
        }, {
            key: "previewDocuments",
            value: function(e) {
                var t = e.learners;
                return this._fetchPreviewOrSend((0, n.default)({
                    learners: t
                }, this.model, {
                    preview: !0
                }))
            }
        }, {
            key: "sendDocuments",
            value: function(e) {
                return this._fetchPreviewOrSend((0, n.default)({}, e, this.model, {
                    preview: !1
                }))
            }
        }, {
            key: "_fetchPreviewOrSend",
            value: function(e) {
                var t = (0, n.default)({
                    subject: this.document.report.subject,
                    body: this.document.report.body
                }, e, this.model);
                return this._requestService.getData("documents_message", "document_parents", t)
            }
        }, {
            key: "model",
            set: function(e) {
                this._model = (0, n.default)({}, this._model, e)
            },
            get: function() {
                return this._model
            }
        }, {
            key: "learners",
            set: function(e) {
                this._learners = e
            },
            get: function() {
                return this._learners
            }
        }, {
            key: "document",
            get: function() {
                return this._userService.user.document
            }
        }]), e
    }();
    exports.default = o
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = o(t(26)),
        i = o(t(195)),
        a = o(t(10)),
        s = o(t(1)),
        r = o(t(2));

    function o(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var l = function() {
        function e(t, n, i, a, r, o, l, c, d, u, _, f, v, m, h, p) {
            "ngInject";
            (0, s.default)(this, e), this._attachmentsService = t, this._userService = a, this._requestService = n, this._notificationService = i, this._teachersService = r, this._studentsService = o, this._modalDefaultService = l, this._orderByFilter = c, this._$q = d, this._$state = u, this._$stateParams = _, this._$rootScope = f, this._$timeout = v, this._establishmentService = m, this._homeworkConstants = h, this._dateService = p, this.initValues()
        }
        return e.$inject = ["attachmentsService", "requestService", "notificationService", "userService", "teachersService", "studentsService", "modalDefaultService", "orderByFilter", "$q", "$state", "$stateParams", "$rootScope", "$timeout", "establishmentService", "homeworkConstants", "dateService"], (0, r.default)(e, [{
            key: "initValues",
            value: function(e) {
                this.data && !e || (this.data = {
                    homework: {},
                    hiddenFields: null,
                    intermediateError: !1
                })
            }
        }, {
            key: "clearHomework",
            value: function() {
                this.initValues(!0)
            }
        }, {
            key: "homeworkStatus",
            value: function(e) {
                var t = new Date,
                    n = new Date(e.due_date);
                return e.completed || "tick" === e.icon ? "green" : this.isDateToday(t, n) ? "red" : !!this.isDateTomorrow(t, n) && "orange"
            }
        }, {
            key: "isDateToday",
            value: function(e, t) {
                return e.getFullYear() === t.getFullYear() && e.getMonth() === t.getMonth() && e.getDate() === t.getDate()
            }
        }, {
            key: "isDateTomorrow",
            value: function(e, t) {
                return e.getFullYear() === t.getFullYear() && e.getMonth() === t.getMonth() && e.getDate() + 1 === t.getDate()
            }
        }, {
            key: "compareDates",
            value: function(e, t) {
                return moment(e.value) < moment(t.value) ? -1 : 1
            }
        }, {
            key: "isHiddenField",
            value: function(e) {
                return -1 !== this.hiddenFields.indexOf(e)
            }
        }, {
            key: "closeAllModals",
            value: function() {
                this._$rootScope.$emit("hideModal", {
                    closeAllModals: !0
                })
            }
        }, {
            key: "closeModal",
            value: function() {
                this._modalDefaultService.pop()
            }
        }, {
            key: "removeDocument",
            value: function(e) {
                e.pop(), this._attachmentsService.data.documents.pop()
            }
        }, {
            key: "openHomeworkDetailsModal",
            value: function(e) {
                var t = this,
                    n = {
                        homework: e,
                        remove: function(e) {
                            var n = e.homework;
                            return t.removeHomeworkWithReloading({
                                homework: n
                            }).then(function() {
                                return t.closeModal()
                            })
                        }
                    };
                this._modalDefaultService.showModalWithTemplates("modal-homework-detail", n, "Homework Detail")
            }
        }, {
            key: "openHomeworkDetails",
            value: function(e) {
                var t = this;
                if (this._homeworkConstants.MISSED_HOMEWORK_DETAILS_VALUE.includes(e.source)) {
                    var n = {
                        homework_id: e.id,
                        source: e.source
                    };
                    return this._userService.user.activeChild && (n.learner_id = this._userService.user.activeChild.id), this.getHomeworkDetailsFromDb(n).then(function(n) {
                        t.openHomeworkDetailsModal((0, a.default)({}, e, n.homework, {
                            subject: e.subject
                        }))
                    })
                }
                return this.openHomeworkDetailsModal(e), i.default.resolve()
            }
        }, {
            key: "openAddHomeworkModal",
            value: function() {
                var e = this,
                    t = {
                        homework_id: null
                    },
                    n = {
                        onSubmit: function(n) {
                            var i = n.valid,
                                a = n.model;
                            return e.addHomework(i, a, t).then(function() {
                                i && (e.reloadHomework(), e.closeAllModals())
                            })
                        },
                        onRemove: function(t) {
                            var n = t.attachment;
                            n.attachment_id ? e.homeworkAttachmentDelete(n.homework_id, n.attachment_id).then(function() {
                                return e._attachmentsService.deleteDocument(n)
                            }) : e._attachmentsService.deleteDocument(n)
                        },
                        buttonText: "Add homework"
                    };
                this._modalDefaultService.showModalWithTemplates("modal-add-homework", n, "Add homework")
            }
        }, {
            key: "addHomeworkWithReload",
            value: function(e, t, n) {
                var i = this;
                return this.addHomework(e, t, n).then(function() {
                    e && !i.intermediateError && (i.reloadHomework(), i.closeAllModals())
                }).finally(function() {
                    i.intermediateError && (i.intermediateError = !1)
                })
            }
        }, {
            key: "openLearnerSelectModal",
            value: function(e, t) {
                var n = this,
                    i = {
                        gradient: {
                            from: "#4889ec",
                            to: "#4ba8e7"
                        }
                    };
                e && (i.onSubmit = function() {
                    if (!(n._studentsService.selectedStudents.length > n._userService.user.miscellaneous.student_count_warning)) return n._studentsService.selectedStudents.length ? n.addHomeworkWithReload(!0, e, t) : (n._notificationService.showErrorNotification("Please select at least one student"), n._$q.reject(!1));
                    var i = {
                        cancel: function() {
                            return n._modalDefaultService.pop()
                        },
                        confirm: function() {
                            n._$timeout(function() {
                                return n.addHomeworkWithReload(!0, e, t)
                            }, 0)
                        },
                        message: "You have selected " + n._studentsService.selectedStudents.length + " students, is this correct?"
                    };
                    n._modalDefaultService.showModalWithTemplates("modal-confirm", i, "Confirmation")
                }, i.buttonText = "Add homework"), this._modalDefaultService.showModalWithTemplates("modal-select-learners", i, "Select learners")
            }
        }, {
            key: "reloadHomework",
            value: function() {
                this._$state.transitionTo(this._$state.current, this._$stateParams, {
                    notify: !1,
                    inherit: !1,
                    reload: this._$state.current.name
                })
            }
        }, {
            key: "addHomework",
            value: function(e, t) {
                var n = this,
                    i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};
                if (!e) return this._notificationService.showErrorNotification("Please fill all fields"), this._$q.reject(!1);
                var a = t.activity,
                    s = t.description,
                    r = t.subject_id,
                    o = t.due_date,
                    l = t.available_date,
                    c = t.duration,
                    d = t.due_reminder,
                    u = {
                        activity: a,
                        description: s,
                        subject: r,
                        due_date: o,
                        format: 1,
                        teaching_group_id: t.teaching_group_id
                    };
                return c && (u.duration = c), d && (u.due_reminder = d), this._userService.checkRole("learner") || (u.learner_ids = this.getSelectedStudents()), i.homework_id ? (t.homework_id = i.homework_id, this.updateHomework(t)) : this.createHomework(u).then(function(e) {
                    return i.homework_id = e.homework_id, e
                }).then(function(e) {
                    return n.handleAttachments(e)
                }).then(function(e) {
                    return n.handleHomeworkData(e, l)
                })
            }
        }, {
            key: "handleAttachments",
            value: function(e) {
                var t = e.homework_id,
                    n = this._attachmentsService.documents.filter(function(e) {
                        return !e.id
                    }),
                    i = this._attachmentsService.documents.filter(function(e) {
                        return e.id
                    }),
                    a = [];
                return n.length && a.push(this.sendAttachments(t, n)), i.length && a.push(this.sendClonedAttachments(t, i)), a.length ? this._$q.all(a).then(function() {
                    return t
                }) : this._$q.resolve(t)
            }
        }, {
            key: "handleHomeworkData",
            value: function(e, t) {
                var n = this._teachersService.selectedTeacher && this._teachersService.selectedTeacher.id !== this._userService.user.id;
                return this._userService.checkRole("employee") && n && this.clearSelectedTeacher(), this.sendAvailabilityDate(e, t)
            }
        }, {
            key: "getSelectedStudents",
            value: function() {
                return this._studentsService.selectedStudents.map(function(e) {
                    return e.id
                })
            }
        }, {
            key: "clearSelectedTeacher",
            value: function() {
                this._teachersService.selectedTeacher = null
            }
        }, {
            key: "sendAvailabilityDate",
            value: function(e, t) {
                var n = this,
                    i = {
                        homework_id: e
                    };
                return t && (i.available_date = t), this.homeworkRelease(i).then(function() {
                    return n._notificationService.showSuccessNotification("The homework was successfully sent!")
                })
            }
        }, {
            key: "sendClonedAttachments",
            value: function(e, t) {
                var n = this,
                    i = t.pop();
                return this.homeworkAttachmentsClone(e, i.id).then(function() {
                    if (t.length) return n.sendClonedAttachments(e, t)
                })
            }
        }, {
            key: "getTeachingGroupById",
            value: function(e) {
                var t = this._establishmentService.establishment.teaching_groups.find(function(t) {
                    return t.id === "" + e
                });
                return t ? t.name : ""
            }
        }, {
            key: "sendAttachments",
            value: function(e, t) {
                var n = this,
                    i = t[t.length - 1];
                return !this._attachmentsService.chunkSize && this._attachmentsService.calcChunkSize(), this._attachmentsService.uploadFileFromLocalDisk(i).then(function(a) {
                    var s = a.substring(a.indexOf(n._attachmentsService.base64Marker) + n._attachmentsService.base64Marker.length),
                        r = s.length,
                        o = {
                            homework_id: e,
                            filename: i.name,
                            filesize: i.size,
                            mime_type: i.type
                        };
                    return r <= n._attachmentsService.chunkSize ? (o.content = s, n.homeworkAttachmentCreate(o).then(function() {
                        return n.removeDocument(t), t.length ? n.sendAttachments(e, t) : n._$q.resolve(e)
                    })) : n.homeworkAttachmentCreate(o).then(function(a) {
                        var r = a.attachment_id,
                            o = n._attachmentsService.separateDocumentOnChunks(s),
                            l = 100 / o.length,
                            c = o.shift();
                        return i.loaderWidth = 0, n.sendChunks(e, r, c, o, t, l, i)
                    })
                })
            }
        }, {
            key: "sendChunks",
            value: function(e, t, n, i, a, s, r) {
                var o = this;
                return this.homeworkAttachmentChunkAdd(e, t, n, r).then(function() {
                    var n = i.shift();
                    return !i.length && n && o.removeDocument(a), n ? (r.loaderWidth += s, o.sendChunks(e, t, n, i, a, s, r)) : a.length ? o.sendAttachments(e, a) : o._$q.resolve(e)
                })
            }
        }, {
            key: "getHomework",
            value: function() {
                var e = this,
                    t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                    i = t.learner_id,
                    a = t.employee_id,
                    s = t.page,
                    r = {
                        format: 2
                    };
                return i && (r.learner_id = i), a && (r.employee_id = a), this.getHomeworkFromDb(r).then(function(t) {
                    var i = e._dateService.getDateFormat("momentDateTime");
                    if (e.hiddenFields = t.hidden_fields, (0, n.default)(t.homework).forEach(function(e) {
                            t.homework[e].forEach(function(e) {
                                e.available_date && (e.available_date = moment(e.available_date).format(i))
                            })
                        }), e._userService.checkRole("employee") && !e._userService.user.activeChild) {
                        if ("report" === s && t.homework.report && t.homework.report.length) return e.prepHomeworkStudents(t.homework.report).then(function() {
                            return t.homework
                        });
                        if (!e._userService.user.activeStudent) {
                            var a = "past" === s ? "past" : "current",
                                r = t.homework[a];
                            if (r && r.length) {
                                var o = e.getStudentsIdsFromHomework(r);
                                return o.length ? e.prepHomeworkStudents(r, o).then(function() {
                                    return t.homework
                                }) : t.homework
                            }
                        }
                    }
                    return t.homework
                }).then(function(t) {
                    "current" === s ? t[s] = e._orderByFilter(t[s], "due_date", !1, e.compareDates) : "past" === s && (t[s] = e._orderByFilter(t[s], "due_date", !0, e.compareDates)), e.homework = t
                })
            }
        }, {
            key: "prepHomeworkStudents",
            value: function(e, t) {
                return this._studentsService.getStudents(t).then(function(t) {
                    e.forEach(function(e) {
                        e.learners && e.learners.forEach(function(e) {
                            e.learner = t.find(function(t) {
                                return t.id === e.learner_id
                            })
                        })
                    })
                })
            }
        }, {
            key: "getStudentsIdsFromHomework",
            value: function(e) {
                return e.reduce(function(e, t) {
                    return t.learners && t.learners.forEach(function(t) {
                        -1 === e.indexOf(t.id) && e.push(t.id)
                    }), e
                }, [])
            }
        }, {
            key: "removeHomeworkWithReloading",
            value: function(e) {
                var t = this,
                    n = e.e,
                    i = e.homework;
                return n && n.stopPropagation(), i.isLoading = !0, this.homeworkDelete({
                    homework_id: i.id
                }).then(function() {
                    return t.reloadHomework()
                }).catch(function() {
                    return i.isLoading = !1
                })
            }
        }, {
            key: "updateHomework",
            value: function(e) {
                var t = this,
                    n = e.activity,
                    i = e.description,
                    a = e.due_date,
                    s = e.available_date,
                    r = e.duration,
                    o = e.due_reminder,
                    l = e.teaching_group_id,
                    c = e.format,
                    d = e.subject_id,
                    u = {
                        homework_id: e.homework_id || this._modalDefaultService.data[0].scope.homework.id,
                        activity: n,
                        description: i,
                        subject: d,
                        due_date: a
                    };
                return l && (u.teaching_group_id = l), r && (u.duration = r), c && (u.format = c), o && (u.due_reminder = o), this._requestService.getData("homework", "homeworkUpdate", u).then(function(e) {
                    var n = t._attachmentsService.documents.filter(function(e) {
                        return !e.id
                    });
                    return n.length ? t.sendAttachments(e.homework_id, n) : e.homework_id
                }).then(function(e) {
                    return t.sendAvailabilityDate(e, s)
                })
            }
        }, {
            key: "createHomework",
            value: function(e) {
                return this._requestService.getData("homework", "homeworkCreate", e)
            }
        }, {
            key: "homeworkRelease",
            value: function(e) {
                var t = this;
                return this._requestService.getData("homework", "homeworkRelease", e).catch(function(e) {
                    return t.intermediateError = !0, t._$q.reject(e)
                })
            }
        }, {
            key: "homeworkAttachmentChunkAdd",
            value: function(e, t, n, i) {
                var a = this,
                    s = {
                        homework_id: e,
                        attachment_id: t,
                        content: n
                    };
                return this._requestService.getData("homework", "homeworkAttachmentChunkAdd", s).catch(function(n) {
                    return i.attachment_id = t, i.homework_id = e, a.intermediateError = !0, a.reloadHomework(), a._$q.reject(n)
                })
            }
        }, {
            key: "homeworkAttachmentCreate",
            value: function(e) {
                var t = this;
                return this._requestService.getData("homework", "homeworkAttachmentCreate", e).catch(function(e) {
                    return t.intermediateError = !0, t._$q.reject(e)
                })
            }
        }, {
            key: "homeworkAttachmentDelete",
            value: function(e, t) {
                var n = this;
                return this._requestService.getData("homework", "homeworkAttachmentDelete", {
                    homework_id: e,
                    attachment_id: t
                }).then(function() {
                    return n.reloadHomework()
                })
            }
        }, {
            key: "homeworkAttachmentFetch",
            value: function(e) {
                return this._requestService.getData("homework", "homeworkAttachmentFetch", e)
            }
        }, {
            key: "homeworkCompleted",
            value: function(e) {
                return this._requestService.getData("homework", "homeworkCompleted", e)
            }
        }, {
            key: "homeworkNotCompleted",
            value: function(e) {
                return this._requestService.getData("homework", "homeworkCompleted", e)
            }
        }, {
            key: "homeworkDelete",
            value: function(e) {
                return this._requestService.getData("homework", "homeworkDelete", e)
            }
        }, {
            key: "homeworkAttachmentsClone",
            value: function(e, t) {
                var n = this;
                return this._requestService.getData("homework", "homeworkAttachmentClone", {
                    homework_id: e,
                    attachment_id: t
                }).catch(function(e) {
                    return n.intermediateError = !0, n._$q.reject(e)
                })
            }
        }, {
            key: "homeworkIssue",
            value: function(e, t, n) {
                var i = {
                    homework_id: e,
                    learner_id: t,
                    has_issue: n
                };
                return this._requestService.getData("homework", "homeworkIssue", i)
            }
        }, {
            key: "homeworkReceived",
            value: function(e, t, n) {
                var i = {
                    homework_id: e,
                    learner_id: t,
                    received: n
                };
                return this._requestService.getData("homework", "homeworkReceived", i)
            }
        }, {
            key: "getHomeworkFromDb",
            value: function(e) {
                return this._requestService.getData("homework", "homework", e)
            }
        }, {
            key: "getHomeworkDetailsFromDb",
            value: function(e) {
                return this._requestService.getData("homework", "homeworkDetails", e)
            }
        }, {
            key: "homework",
            get: function() {
                return this.data.homework
            },
            set: function(e) {
                this.data.homework = e
            }
        }, {
            key: "hiddenFields",
            get: function() {
                return this.data.hiddenFields
            },
            set: function(e) {
                this.data.hiddenFields = e
            }
        }, {
            key: "intermediateError",
            get: function() {
                return this.data.intermediateError
            },
            set: function(e) {
                this.data.intermediateError = e
            }
        }]), e
    }();
    exports.default = l
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = o(t(43)),
        i = o(t(35)),
        a = o(t(1)),
        s = o(t(2)),
        r = o(t(474));

    function o(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var l = function() {
        function e(t, n, i, s) {
            "ngInject";
            (0, a.default)(this, e), this._requestService = t, this._studentsService = n, this._configService = i, this._modalDefaultService = s, this.initValues()
        }
        return e.$inject = ["requestService", "studentsService", "configService", "modalDefaultService"], (0, s.default)(e, [{
            key: "initValues",
            value: function(e) {
                this.data && !e || (this.data = {
                    filters: this.initFilters(),
                    filtersResults: this.initFilterResults(),
                    preloader: !1,
                    marksheets: null,
                    marksheetId: null,
                    learnerId: null,
                    learners: new r.default,
                    is_completed: !1,
                    dataToSend: [],
                    marksheetData: null,
                    currentMarksheet: null,
                    currentLearner: null,
                    currentLearnerIndex: null,
                    excludeCompleted: null,
                    isKeyboardActiveInputDevice: this._configService.isKeyboardActiveInputDevice,
                    regExps: {
                        float: /^-?[0-9]+(\.[0-9]+)?$/,
                        integer: /^-?[0-9]+$/,
                        age: /^-?([0-9]|[1-9][0-9])\/([0-9]|1[011])$/
                    }
                })
            }
        }, {
            key: "initFilters",
            value: function() {
                return {
                    year: null,
                    subject: null,
                    area: null
                }
            }
        }, {
            key: "resetFilters",
            value: function() {
                this.initFilters()
            }
        }, {
            key: "initFilterResults",
            value: function() {
                return {
                    yearGroups: [],
                    subjects: [],
                    areas: [],
                    comments: []
                }
            }
        }, {
            key: "resetFilterResults",
            value: function() {
                this.initFilterResults()
            }
        }, {
            key: "toggleCurrentInputDevice",
            value: function(e) {
                this.isKeyboardActiveInputDevice = "touch" !== e
            }
        }, {
            key: "generateDataToSend",
            value: function() {
                return {
                    is_completed: this.data.is_completed,
                    marksheet_id: this.data.marksheetId,
                    learners: this.data.dataToSend
                }
            }
        }, {
            key: "clearMarksheetData",
            value: function() {
                this.marksheets = null, this.data.is_completed = !1, this.data.marksheetId = null, this.data.dataToSend = []
            }
        }, {
            key: "generateMarksheets",
            value: function(e, t) {
                var n = this;
                return e.forEach(function(e) {
                    for (var a = [], s = 0; s < t.length; s++) {
                        var r = (0, i.default)({}, t[s]);
                        r.value = null, r.column_id = r.id, "G" === r.type && (r.gradeset = n.getGradeset(r.gradeset_id, n.marksheetGradesets)), n.setColumnValue(r, e.column_values), a.push(r)
                    }
                    e.column_values = a
                }), e
            }
        }, {
            key: "getGradeset",
            value: function(e, t) {
                if (!t) return [];
                for (var n = 0; n < t.length; n++) {
                    var i = t[n];
                    if (i.id === e) return i.grades || []
                }
                return []
            }
        }, {
            key: "setColumnValue",
            value: function(e, t) {
                e.selected = null;
                for (var n = 0; n < t.length; n++) {
                    var i = t[n];
                    if (e.id === i.column_id) return void(e.value = i.value)
                }
            }
        }, {
            key: "findLearnerIndexInArrayObj",
            value: function(e, t) {
                for (var n = 0; n < t.length; n++)
                    if (t[n].id === e) return n;
                return -1
            }
        }, {
            key: "addOrGetDataToSendForLearner",
            value: function(e, t) {
                if (!e) return null;
                var n = this.findLearnerIndexInArrayObj(e, t);
                if (-1 === n) {
                    var i = {
                        id: e,
                        column_values: []
                    };
                    return t.push(i), i
                }
                return t[n]
            }
        }, {
            key: "removeDataToSendForLearner",
            value: function(e, t) {
                var n = this.findLearnerIndexInArrayObj(e, t); - 1 !== n && t.splice(n, 1)
            }
        }, {
            key: "requestToRemoveDataToSend",
            value: function(e) {
                this.removeDataToSendForLearner(e, this.data.dataToSend)
            }
        }, {
            key: "removeDataToSend",
            value: function() {
                this.data.dataToSend = []
            }
        }, {
            key: "removeWasFloodFilledProp",
            value: function(e) {
                return e.forEach(function(e) {
                    e.column_values.map(function(e) {
                        return (0, n.default)(e, "wasFloodFilled"), e
                    })
                }), e
            }
        }, {
            key: "getDataToSendForLearners",
            value: function() {
                var e = this;
                return this.data.dataToSend.length ? this.data.dataToSend : (this._studentsService.selectedStudents.forEach(function(t) {
                    e.data.dataToSend.push({
                        id: t.id,
                        column_values: []
                    })
                }), this.data.dataToSend)
            }
        }, {
            key: "setActiveLearnerFromId",
            value: function(e) {
                return this.learnersObject.setActiveItemFromField("id", e)
            }
        }, {
            key: "showGradeSet",
            value: function(e) {
                if (!(!e.value || e.gradeset.find(function(t) {
                        return t.value === e.value
                    }))) {
                    var t = {
                        grades: e.gradeset
                    };
                    this._modalDefaultService.data.filter(function(e) {
                        return "modal-available-grades" === e.id
                    }).length || this._modalDefaultService.showModalWithTemplates("modal-available-grades", t, "Available grades")
                }
            }
        }, {
            key: "setMarksheetToDb",
            value: function(e, t, n) {
                var i = {
                    marksheet_id: e,
                    learners: t,
                    is_completed: n
                };
                return this._requestService.getData("marksheets", "marksheet_write", i)
            }
        }, {
            key: "getMarksheetsFromDb",
            value: function(e) {
                return this._requestService.getData("marksheets", "marksheets", e).then(function(e) {
                    return e.marksheets
                })
            }
        }, {
            key: "getMarksheetDataFromDb",
            value: function(e) {
                var t = this;
                return this._requestService.getData("marksheets", "marksheet", e).then(function(n) {
                    angular.isObject(n.marksheet) && (t.is_completed = !!n.marksheet.is_complete);
                    var i = n.marksheet;
                    return i.learners && i.learners.length && (i.learners = t.convertStringValuesToNumbers(n.marksheet.learners, n.marksheet.columns)), e.export_as || i.learners.forEach(function(e) {
                        e.ids = [e.id], e.genders = [e.gender]
                    }), i
                })
            }
        }, {
            key: "convertStringValuesToNumbers",
            value: function(e, t) {
                return e.map(function(e) {
                    return e.column_values.forEach(function(e) {
                        var n = t.find(function(t) {
                            return t.id === e.column_id
                        });
                        n && (!e.value || "I" !== n.type && "A" !== n.type || (e.value = parseInt(e.value, 10)), !e.value || "F" !== n.type && "D" !== n.type || (e.value = parseFloat(e.value)))
                    }), e
                })
            }
        }, {
            key: "getMarksheetDataWithFullNameFromDb",
            value: function() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null;
                return this.getMarksheetDataFromDb({
                    marksheet_id: e
                }).then(function(e) {
                    return e.learners.forEach(function(e) {
                        e.fullName = e.forename + " " + e.surname
                    }), e
                })
            }
        }, {
            key: "getMarksheetCommentBanksFromDb",
            value: function(e) {
                return this._requestService.getData("marksheets", "marksheet_comment_bank", e)
            }
        }, {
            key: "getMarksheetCommentBankCommentAreasFromDb",
            value: function(e) {
                return this._requestService.getData("marksheets", "marksheet_comment_bank_comment_areas", e)
            }
        }, {
            key: "addCommentArea",
            value: function(e) {
                return this._requestService.getData("marksheets", "marksheet_comment_area_add", e)
            }
        }, {
            key: "updateCommentArea",
            value: function(e) {
                return this._requestService.getData("marksheets", "marksheet_comment_area_update", e)
            }
        }, {
            key: "deleteCommentArea",
            value: function(e) {
                return this._requestService.getData("marksheets", "marksheet_comment_area_delete", e)
            }
        }, {
            key: "addComment",
            value: function(e) {
                return this._requestService.getData("marksheets", "marksheet_comment_add", e)
            }
        }, {
            key: "removeComment",
            value: function(e) {
                return this._requestService.getData("marksheets", "marksheet_comment_delete", e)
            }
        }, {
            key: "updateComment",
            value: function(e) {
                return this._requestService.getData("marksheets", "marksheet_comment_update", e)
            }
        }, {
            key: "isKeyboardActiveInputDevice",
            get: function() {
                return this.data.isKeyboardActiveInputDevice
            },
            set: function(e) {
                this.data.isKeyboardActiveInputDevice = e
            }
        }, {
            key: "is_completed",
            get: function() {
                return this.data.is_completed
            },
            set: function(e) {
                this.data.is_completed = e
            }
        }, {
            key: "regExps",
            get: function() {
                return this.data.regExps
            }
        }, {
            key: "filters",
            get: function() {
                return this.data.filters
            }
        }, {
            key: "filtersResults",
            get: function() {
                return this.data.filtersResults
            }
        }, {
            key: "isCanSendData",
            get: function() {
                return this.data.dataToSend.length && this.data.dataToSend.map(function(e) {
                    return e.column_values
                }).filter(function(e) {
                    return e.length
                }).length > 0
            }
        }, {
            key: "dataToSendForCurrentLearner",
            get: function() {
                return this.addOrGetDataToSendForLearner(this.currentLearner.id, this.data.dataToSend).column_values
            }
        }, {
            key: "columnsForLearners",
            get: function() {
                return this.marksheetData.columns
            }
        }, {
            key: "marksheetId",
            get: function() {
                return this.data.marksheetId
            },
            set: function(e) {
                this.data.marksheetId = e
            }
        }, {
            key: "marksheetData",
            get: function() {
                return this.data.marksheetData
            },
            set: function(e) {
                this.learners = e.learners, this.data.marksheetData = e
            }
        }, {
            key: "marksheetColumns",
            get: function() {
                return this.marksheetData.columns
            }
        }, {
            key: "marksheetGradesets",
            get: function() {
                return this.marksheetData.gradesets
            }
        }, {
            key: "currentMarksheet",
            get: function() {
                return this.data.currentMarksheet
            },
            set: function(e) {
                this.data.currentMarksheet = e
            }
        }, {
            key: "marksheets",
            get: function() {
                return this.data.marksheets
            },
            set: function(e) {
                this.data.marksheets = e
            }
        }, {
            key: "preloader",
            get: function() {
                return this.data.preloader
            },
            set: function(e) {
                this.data.preloader = e
            }
        }, {
            key: "learnersObject",
            get: function() {
                return this.data.learners
            }
        }, {
            key: "learners",
            get: function() {
                return this.learnersObject.items
            },
            set: function(e) {
                this.learnersObject.items = e
            }
        }, {
            key: "currentLearner",
            get: function() {
                return this.learnersObject.activeItem
            },
            set: function(e) {
                this.data.currentLearner = e
            }
        }, {
            key: "currentLearnerIndex",
            get: function() {
                return this.learnersObject.currentIndex
            }
        }, {
            key: "prevLearnerId",
            get: function() {
                return this.learnersObject.prevItemFromActiveItem && this.learnersObject.prevItemFromActiveItem.id
            }
        }, {
            key: "nextLearnerId",
            get: function() {
                return this.learnersObject.nextItemFromActiveItem && this.learnersObject.nextItemFromActiveItem.id
            }
        }]), e
    }();
    exports.default = l
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = r(t(26)),
        i = r(t(1)),
        a = r(t(2)),
        s = r(t(474));

    function r(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var o = function() {
        function e(t) {
            "ngInject";
            (0, i.default)(this, e), this._requestService = t, this.initValues()
        }
        return e.$inject = ["requestService"], (0, a.default)(e, [{
            key: "initValues",
            value: function(e) {
                this.data && !e || (this.data = {
                    sessions: null,
                    groups: null,
                    typeOfViewComments: "Entry",
                    sessionIndex: -1,
                    groupIndex: -1,
                    learners: new s.default,
                    areas: null
                }, this._cache = {})
            }
        }, {
            key: "getAllCache",
            value: function() {
                return this._cache
            }
        }, {
            key: "getCache",
            value: function(e) {
                return this._cache[e]
            }
        }, {
            key: "setCache",
            value: function(e, t) {
                this._cache[e] = t
            }
        }, {
            key: "clearCache",
            value: function() {
                this._cache = {}
            }
        }, {
            key: "findArrayIndexFromId",
            value: function(e, t) {
                t = parseInt(t, 10);
                for (var n = 0; n < e.length; n++)
                    if (e[n].id = parseInt(e[n].id, 10), e[n].id === t) return n;
                return -1
            }
        }, {
            key: "changeCommentTextToSelectedComments",
            value: function(e) {
                var t = this;
                return e.map(function(e) {
                    return e.sections.forEach(function(e) {
                        e.comment_text = "", e.comment_bank.forEach(function(n) {
                            n.is_selected && (e.comment_text += t.getTextWithVariableValues(n.text))
                        })
                    }), e
                })
            }
        }, {
            key: "getTextWithVariableValues",
            value: function(e) {
                var t = this;
                return (0, n.default)(this.areas.variables).forEach(function(n) {
                    var i = "<" + n + ">";
                    if (-1 !== e.indexOf(i)) {
                        var a = new RegExp(i, "g");
                        e = e.replace(a, t.areas.variables[n])
                    }
                }), e.trim()
            }
        }, {
            key: "setActiveLearnerFromId",
            value: function(e) {
                return this.data.learners.setActiveItemFromField("id", e)
            }
        }, {
            key: "getProfileSessionsFromDb",
            value: function(e) {
                return this._requestService.getData("profiles", "profiles_sessions", {
                    employee_id: e
                }).then(function(e) {
                    return e.profile_sessions
                })
            }
        }, {
            key: "getGroupLearnersFromDb",
            value: function(e, t) {
                return this._requestService.getData("profiles", "profiles_learners", {
                    session_id: e,
                    group_id: t
                }).then(function(e) {
                    return e.learners.forEach(function(e) {
                        e.ids = [e.id]
                    }), e.learners
                })
            }
        }, {
            key: "getSessionEntryFromDb",
            value: function() {
                var e = {
                    employee_id: arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null,
                    session_id: arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null,
                    group_id: arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null,
                    learner_id: arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : null
                };
                return this._requestService.getData("profiles", "profiles_session_entry", e)
            }
        }, {
            key: "profilesSessionsWrite",
            value: function(e) {
                return this._requestService.getData("profiles", "profiles_session_entry_write", e)
            }
        }, {
            key: "typeOfViewComments",
            get: function() {
                return this.data.typeOfViewComments
            },
            set: function(e) {
                this.data.typeOfViewComments = e
            }
        }, {
            key: "areas",
            get: function() {
                return this.data.areas
            },
            set: function(e) {
                this.data.areas = e
            }
        }, {
            key: "learners",
            set: function(e) {
                this.data.learners.items = e
            },
            get: function() {
                return this.data.learners.items
            }
        }, {
            key: "currentLearner",
            get: function() {
                return this.data.learners.activeItem
            }
        }, {
            key: "currentLearnerIndex",
            get: function() {
                return this.data.learners.currentIndex
            }
        }, {
            key: "currentLearnerId",
            get: function() {
                return this.data.learners.activeItem && this.data.learners.activeItem.id
            }
        }, {
            key: "nextLearnerId",
            get: function() {
                return this.data.learners.nextItemFromActiveItem && this.data.learners.nextItemFromActiveItem.id
            }
        }, {
            key: "prevLearnerId",
            get: function() {
                return this.data.learners.prevItemFromActiveItem && this.data.learners.prevItemFromActiveItem.id
            }
        }, {
            key: "groups",
            get: function() {
                var e = this.sessions,
                    t = this.sessionIndex;
                return e && e[t] && e[t].groups || null
            }
        }, {
            key: "groupIndex",
            get: function() {
                return this.data.groupIndex
            },
            set: function(e) {
                this.data.groupIndex = e
            }
        }, {
            key: "currentGroup",
            get: function() {
                return this.data.groupIndex >= 0 && this.groups[this.data.groupIndex]
            }
        }, {
            key: "currentGroupId",
            get: function() {
                return this.data.groupIndex >= 0 && this.currentGroup.id
            }
        }, {
            key: "currentGroupName",
            get: function() {
                return this.data.groupIndex >= 0 && this.currentGroup.name
            }
        }, {
            key: "sessions",
            get: function() {
                return this.data.sessions
            },
            set: function(e) {
                this.data.sessions = e
            }
        }, {
            key: "sessionIndex",
            get: function() {
                return this.data.sessionIndex
            },
            set: function(e) {
                this.data.sessionIndex = e
            }
        }, {
            key: "currentSessionId",
            get: function() {
                return this.data.sessionIndex >= 0 && this.data.sessions[this.sessionIndex].id
            }
        }, {
            key: "currentSessionName",
            get: function() {
                return this.data.sessionIndex >= 0 && this.data.sessions[this.data.sessionIndex].name
            }
        }]), e
    }();
    exports.default = o
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(26)),
        i = s(t(1)),
        a = s(t(2));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = function() {
        function e(t, n, a, s, r, o, l, c) {
            "ngInject";
            (0, i.default)(this, e), this._$q = t, this._requestService = n, this._behaviourDataService = l, this._prTeacherService = a, this._userService = s, this._$filter = r, this._configService = o, this._teachersService = c, this.initValues()
        }
        return e.$inject = ["$q", "requestService", "prTeacherService", "userService", "$filter", "configService", "behaviourDataService", "teachersService"], (0, a.default)(e, [{
            key: "initValues",
            value: function(e) {
                if (!this.data || e) {
                    var t = new Date;
                    this.local = {
                        currentRegisterType: null
                    }, this.data = {
                        details: null,
                        registers: null,
                        marks: null,
                        protectedMarksCodes: null,
                        promptMarksCodes: null,
                        register: null,
                        currentStudent: null,
                        selectedStudentForComment: null,
                        currentPeriodId: null,
                        activeMarksCodes: null,
                        isKeyboardActiveInputDevice: this._configService.isKeyboardActiveInputDevice,
                        defaultMarks: {
                            defaultMark: null,
                            defaultMarkAM: null,
                            defaultMarkPM: null
                        },
                        tagsAutohide: !1,
                        date: {
                            filtered: this._$filter("date")(t, "MMM d, yyyy"),
                            value: t
                        }
                    }
                }
            }
        }, {
            key: "setDate",
            value: function(e) {
                this.data.date.filtered = this._$filter("date")(e, "MMM d, yyyy"), this.data.date.value = e
            }
        }, {
            key: "updateData",
            value: function(e) {
                var t = this;
                this.getRegistersFromDb({
                    date: this._requestService.getDateToRequest(e),
                    employee_id: this._prTeacherService.currentTeacher && this._prTeacherService.currentTeacher.id || this._userService.user.idFromLastAction
                }).then(function(e) {
                    t.registers = e
                })
            }
        }, {
            key: "toggleCurrentInputDevice",
            value: function(e) {
                var t = this;
                this.isKeyboardActiveInputDevice = "touch" !== e, this.register.learners.forEach(function(e) {
                    for (var n in e.marks) e.marks.hasOwnProperty(n) && (e.marks[n] = t.changeDefaultMarkForKeyboard(e.marks[n]))
                })
            }
        }, {
            key: "changeDefaultMarkForKeyboard",
            value: function(e) {
                return "-" === e.mark && e.period_id === this.currentPeriodId && ("SessionAM" === this.currentRegisterType && e.name.indexOf("AM") >= 0 || "SessionPM" === this.currentRegisterType && e.name.indexOf("PM") >= 0 ? (e.mark = this.defaultMarks.defaultMarkAM, e.reassignedMark = !0) : "Lesson" === this.currentRegisterType && (e.mark = this.defaultMarks.defaultMark, e.reassignedMark = !0)), e
            }
        }, {
            key: "prepDetailsData",
            value: function(e) {
                return e.behaviour && e.behaviour.achievements && e.behaviour.achievements.length && (e.behaviour.achievements && this.setTeacherNames(e.behaviour.achievements), e.behaviour.achievements = this.prepareTypes(e.behaviour.achievements, "type", "achievement_types"), e.behaviour.achievements = this.preparePoints(e.behaviour.achievements)), e.behaviour && e.behaviour.incidents && e.behaviour.incidents.length && (e.behaviour.incidents && this.setTeacherNames(e.behaviour.incidents), e.behaviour.incidents = this.prepareTypes(e.behaviour.incidents, "type_id", "behaviour_types"), e.behaviour.incidents = this.preparePoints(e.behaviour.incidents), e.behaviour.incidents = this.prepareLocations(e.behaviour.incidents, "behaviour_locations")), e.sen_current_needs && e.sen_current_needs.length && (e.sen_current_needs = this.prepareSenNeedTypes(e.sen_current_needs)), e.medical_conditions && e.medical_conditions.length && (e.medical_conditions = this.prepareMedicalDescriptions(e.medical_conditions)), e
            }
        }, {
            key: "setTeacherNames",
            value: function(e) {
                var t = this;
                e.forEach(function(e) {
                    var n = t._teachersService.teachers.find(function(t) {
                        return t.id === String(e.recorded_by_id)
                    });
                    n && (e.teacherName = n.fullName)
                })
            }
        }, {
            key: "handleNewLearnersData",
            value: function(e, t) {
                return e.map(function(e) {
                    return e.newStudent = !0, e.marks = {}, (0, n.default)(t).forEach(function(n) {
                        e.marks[n] = {
                            period_id: t[n].id,
                            name: t[n].name,
                            mark: "-"
                        }
                    }), e
                })
            }
        }, {
            key: "handleLearnersData",
            value: function(e, t) {
                var n = this;
                return e.map(function(e) {
                    var i = {};
                    return e.ids = e.id, e.genders = e.gender, e.marks.forEach(function(e) {
                        for (var n in i[e.period_id] = e, t)
                            if (n) {
                                var a = t[n];
                                a.id === e.period_id && (i[e.period_id].name = a.name)
                            }
                    }), e.marks.forEach(function(e) {
                        var t = n.getMarkCodeFromMark(e.mark);
                        e.registerType = t && t.type, e = n.changeDefaultMarkForKeyboard(e)
                    }), e.marks = i, e
                })
            }
        }, {
            key: "getTeacherIds",
            value: function(e) {
                var t = [];
                return e.achievements.forEach(function(e) {
                    -1 === t.indexOf(e.recorded_by_id) && t.push(e.recorded_by_id)
                }), e.incidents.forEach(function(e) {
                    -1 === t.indexOf(e.recorded_by_id) && t.push(e.recorded_by_id)
                }), t
            }
        }, {
            key: "prepareTypes",
            value: function(e, t, n) {
                var i = this;
                return e.map(function(e) {
                    return e.types = [], i.addType(e.types, e[t], n), e.additional_types.forEach(function(t) {
                        i.addType(e.types, t.id, n)
                    }), e
                })
            }
        }, {
            key: "addType",
            value: function(e, t, n) {
                var i = this._behaviourDataService.behaviourAchievementLookups[n].find(function(e) {
                    return e.id === t
                });
                i && e.push(i.description)
            }
        }, {
            key: "preparePoints",
            value: function(e) {
                return e.map(function(e) {
                    return e.students.length && (e.points = e.students[0].points), e
                })
            }
        }, {
            key: "prepareLocations",
            value: function(e, t) {
                var n = this;
                return e.map(function(e) {
                    var i = n._behaviourDataService.behaviourAchievementLookups[t].find(function(t) {
                        return t.id === e.location_id
                    });
                    return i && (e.location = i.name), e
                })
            }
        }, {
            key: "prepareSenNeedTypes",
            value: function(e) {
                return e.map(function(e) {
                    return e.need_type && (e.needType = e.need_type.description), e
                })
            }
        }, {
            key: "prepareMedicalDescriptions",
            value: function(e) {
                return e.map(function(e) {
                    return e.condition && (e.description = e.condition.description), e
                })
            }
        }, {
            key: "getRegisterCodes",
            value: function(e) {
                var t = this;
                return this.getRegisterCodesFromDb().then(function(n) {
                    var i = "SessionAM" === e || "SessionPM" === e ? "statutory_codes" : "lesson_codes";
                    t.activeMarksCodes = n[i].filter(function(e) {
                        return e.active
                    }).map(function(e) {
                        return e.code
                    }), t.protectedMarksCodes = n.codes_protect_from_flood_fill, t.promptMarksCodes = n.codes_to_prompt_change, t.marks = n, t.defaultMarks.defaultMark = n.lesson_registers_default_mark, t.defaultMarks.defaultMarkAM = n.statutory_registers_default_mark_am, t.defaultMarks.defaultMarkPM = n.statutory_registers_default_mark_pm, t.tagsAutohide = n.tags_autohide, t.commentHide = n.hide_comments
                })
            }
        }, {
            key: "getRegisterCodesFromDb",
            value: function() {
                return this._requestService.getData("registers", "register_codes")
            }
        }, {
            key: "getRegister",
            value: function(e) {
                var t = this;
                return this.getRegisterFromDb(e).then(function(e) {
                    return t.handleRegister(e)
                })
            }
        }, {
            key: "getRegisterWithCodes",
            value: function(e) {
                var t = this;
                return this.getRegisterFromDb(e).then(function(e) {
                    return t.getRegisterCodes(e.type).then(function() {
                        return e
                    })
                }).then(function(e) {
                    return t.handleRegister(e)
                })
            }
        }, {
            key: "handleRegister",
            value: function(e) {
                var t = this;
                return this.register = e, this.currentRegisterType = e.type, (0, n.default)(e.periods).find(function(n) {
                    var i = e.periods[n];
                    i.is_requested && (t.currentPeriodId = i.id)
                }), this.handleLearnersData(e.learners, e.periods), e
            }
        }, {
            key: "getRegisterFromDb",
            value: function(e) {
                return this._requestService.getData("registers", "register", {
                    register_id: e
                }).then(function(e) {
                    return e
                })
            }
        }, {
            key: "getRegistersFromDb",
            value: function(e) {
                return this._requestService.getData("registers", "registers", e).then(function(e) {
                    return e.registers
                })
            }
        }, {
            key: "getReportCardFromDb",
            value: function(e) {
                return this._requestService.getData("registers", "report_card", {
                    report_card_id: e
                })
            }
        }, {
            key: "sendRegisterDataToDb",
            value: function(e) {
                return this._requestService.getData("registers", "register_write", e)
            }
        }, {
            key: "updateReportCard",
            value: function(e) {
                return this._requestService.getData("registers", "report_card_update", e)
            }
        }, {
            key: "getRegisterTagDetailsFromDb",
            value: function(e, t) {
                var n = this;
                return this._requestService.getData("registers", "register_tag_details", {
                    learner_id: e,
                    date: t
                }).then(function(e) {
                    var t = n.getTeacherIds(e.details.behaviour);
                    return t.length ? n._teachersService.getTeachersWithFullNameFromDb(t).then(function() {
                        return n.data.details = n.prepDetailsData(e.details)
                    }) : (n.data.details = n.prepDetailsData(e.details), n._$q.resolve())
                })
            }
        }, {
            key: "getMarkCodeFromMark",
            value: function(e) {
                for (var t = 0; t < this.marks.lesson_codes.length; t++) {
                    var n = this.marks.lesson_codes[t];
                    if (e === n.code) return n
                }
            }
        }, {
            key: "getMarkCodeFromType",
            value: function(e) {
                for (var t = 0; t < this.marks.lesson_codes.length; t++) {
                    var n = this.marks.lesson_codes[t];
                    if (e === n.type) return n
                }
            }
        }, {
            key: "details",
            get: function() {
                return this.data.details
            },
            set: function(e) {
                this.data.details = e
            }
        }, {
            key: "tagsAutohide",
            get: function() {
                return this.data.tagsAutohide
            },
            set: function(e) {
                this.data.tagsAutohide = e
            }
        }, {
            key: "commentHide",
            get: function() {
                return this.data.commentHide
            },
            set: function(e) {
                this.data.commentHide = e
            }
        }, {
            key: "defaultMarks",
            get: function() {
                return this.data.defaultMarks
            }
        }, {
            key: "currentRegisterType",
            get: function() {
                return this.local.currentRegisterType
            },
            set: function(e) {
                this.local.currentRegisterType = e
            }
        }, {
            key: "date",
            get: function() {
                return this.data.date
            }
        }, {
            key: "isKeyboardActiveInputDevice",
            get: function() {
                return this.data.isKeyboardActiveInputDevice
            },
            set: function(e) {
                this.data.isKeyboardActiveInputDevice = e
            }
        }, {
            key: "activeMarksCodes",
            get: function() {
                return this.data.activeMarksCodes
            },
            set: function(e) {
                this.data.activeMarksCodes = e
            }
        }, {
            key: "selectedStudentForComment",
            get: function() {
                return this.data.selectedStudentForComment
            },
            set: function(e) {
                this.data.selectedStudentForComment = e
            }
        }, {
            key: "currentPeriodId",
            set: function(e) {
                this.data.currentPeriodId = e
            },
            get: function() {
                return this.data.currentPeriodId
            }
        }, {
            key: "currentStudent",
            get: function() {
                return this.data.currentStudent
            },
            set: function(e) {
                this.data.currentStudent = e
            }
        }, {
            key: "marks",
            get: function() {
                return this.data.marks
            },
            set: function(e) {
                this.data.marks = e
            }
        }, {
            key: "promptMarksCodes",
            get: function() {
                return this.data.promptMarksCodes
            },
            set: function(e) {
                this.data.promptMarksCodes = e
            }
        }, {
            key: "protectedMarksCodes",
            get: function() {
                return this.data.protectedMarksCodes
            },
            set: function(e) {
                this.data.protectedMarksCodes = e
            }
        }, {
            key: "registers",
            get: function() {
                return this.data.registers
            },
            set: function(e) {
                this.data.registers = e
            }
        }, {
            key: "register",
            get: function() {
                return this.data.register
            },
            set: function(e) {
                this.data.register = e
            }
        }]), e
    }();
    exports.default = r
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r) {
            "ngInject";
            (0, n.default)(this, e), this._requestService = t, this._userService = i, this._teachersService = a, this._notificationService = s, this._studentsService = r, this.initValues()
        }
        return e.$inject = ["requestService", "userService", "teachersService", "notificationService", "studentsService"], (0, i.default)(e, [{
            key: "initValues",
            value: function(e) {
                this.data && !e || (this.data = {
                    selectedEmployee: null,
                    currentDay: null,
                    categories: null,
                    availablePeriods: null,
                    rooms: null,
                    selectedRoom: null,
                    daysPeriods: null,
                    selectedDay: null,
                    selectedCategory: null,
                    selectedEventToMove: {
                        resource_id: null,
                        teaching_group_id: null,
                        cycle_period_id: null,
                        cycle_day_id: null
                    },
                    dates: {
                        from_date: null,
                        until_date: null
                    },
                    resources: null,
                    changes: null,
                    report: null,
                    filter: {
                        date: null,
                        description: "",
                        categories: [],
                        period: null
                    }
                })
            }
        }, {
            key: "isAdmin",
            value: function() {
                return this._userService.user.capabilities["resourcebooking.manager"]
            }
        }, {
            key: "isRoomAvailable",
            value: function(e, t) {
                return e.available.indexOf(t.id) >= 0
            }
        }, {
            key: "isRoomBooked",
            value: function(e, t) {
                return e.bookings.map(function(e) {
                    return e.resource_id
                }).indexOf(t.id) >= 0
            }
        }, {
            key: "getEmployee",
            value: function(e) {
                if (!e) throw new Error("Teacher is undefined");
                var t = this._teachersService.filteredTeachers.filter(function(t) {
                    return t.id === e.toString()
                });
                if (0 === t.length) throw new Error("Teacher not find");
                return t.pop()
            }
        }, {
            key: "getEmployeeId",
            value: function(e, t) {
                return this.getBookedEvent(e, t).employee_id
            }
        }, {
            key: "getClassInfo",
            value: function(e, t) {
                var n = this,
                    i = this._studentsService.data.filter.teaching.filter(function(i) {
                        var a = n.getBookedEvent(e, t);
                        return !!a.teaching_group_id && i.id === a.teaching_group_id.toString()
                    });
                if (0 === i.length) throw new Error("Teaching group isn't find");
                return i.pop()
            }
        }, {
            key: "isUserEvent",
            value: function(e, t) {
                var n = this.getBookedEvent(e, t);
                return !!n.employee_id && Number(n.employee_id) === Number(this._userService.user.id)
            }
        }, {
            key: "getBookedEvent",
            value: function(e, t) {
                return e.bookings.filter(function(e) {
                    return e.resource_id === t.id
                }).pop()
            }
        }, {
            key: "_saveAvailablePeriods",
            value: function(e) {
                this.data.currentDay = e, this.availablePeriods = e.periods
            }
        }, {
            key: "_reInitSelectedPeriod",
            value: function() {
                var e = this,
                    t = this.availablePeriods.filter(function(t) {
                        return t.id === e.filter.period.id
                    });
                this.filter.period = t.length > 0 ? t.pop() : null
            }
        }, {
            key: "deleteSelectedPeriod",
            value: function(e, t) {
                var n = this;
                return this._requestService.getData("resourceBooking", "resource_cancel_booking", {
                    resource_id: t.id,
                    date: this.filter.date ? this.filter.date.response : this._requestService.getDateToRequest(),
                    cycle_period_id: e.id
                }).then(function(e) {
                    return n.getResourceTimetable(), n._notificationService.showSuccessNotification("Period was unbooked"), e
                })
            }
        }, {
            key: "bookSelectedPeriod",
            value: function(e, t, n) {
                var i = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : "",
                    a = this,
                    s = arguments[4],
                    r = arguments[5],
                    o = {
                        resource_id: t.id,
                        date: this.filter.date ? this.filter.date.response : this._requestService.getDateToRequest(),
                        cycle_period_id: e.id,
                        employee_id: n
                    };
                return i && (o.information = i), s && (o.times = s), r && (o.until = r), this._requestService.getData("resourceBooking", "resource_book_period", o).then(function(e) {
                    return a.getResourceTimetable(), a._notificationService.showSuccessNotification("Period was booked"), e
                })
            }
        }, {
            key: "getResourceCategories",
            value: function() {
                var e = this;
                return this._requestService.getData("resourceBooking", "resource_categories", {}).then(function(t) {
                    return e.categories = t.categories, t
                })
            }
        }, {
            key: "getResourceTimetable",
            value: function() {
                var e = this,
                    t = {
                        date: this.filter.date ? this.filter.date.response : this._requestService.getDateToRequest(),
                        filter: this.filter.description,
                        category_ids: this.filter.categories.length > 0 ? this.filter.categories.map(function(e) {
                            return e.id
                        }) : [],
                        available_period_id: this.filter.period && this.filter.period.id
                    };
                return this._requestService.getData("resourceBooking", "resource_timetable", t).then(function(t) {
                    return e._saveAvailablePeriods(t.day), e.data.filter.period && e._reInitSelectedPeriod(), e.rooms = t.resources, t
                })
            }
        }, {
            key: "getTimetableCyclePeriods",
            value: function() {
                var e = this;
                return this._requestService.getData("resourceBooking", "resource_timetable_cycle_periods", {}).then(function(t) {
                    return e.data.daysPeriods = t.days, e.data.selectedDay ? e.data.selectedDay = e.data.daysPeriods.length ? e.data.daysPeriods.find(function(t) {
                        return t.id === e.data.selectedDay.id
                    }) : null : e.data.selectedDay = e.data.daysPeriods.length ? e.data.daysPeriods[0] : null, t
                })
            }
        }, {
            key: "saveTimetableCyclePeriod",
            value: function(e, t, n) {
                var i = this,
                    a = this.data.selectedDay.id;
                return this._requestService.getData("resourceBooking", "resource_timetable_cycle_period_add", {
                    cycle_day_id: a,
                    description: e,
                    start_time: t,
                    end_time: n
                }).then(function(e) {
                    return i._notificationService.showSuccessNotification("Period was saved"), i.getTimetableCyclePeriods(), i.getResourceTimetable(), e
                })
            }
        }, {
            key: "removeTimetableCyclePeriod",
            value: function(e) {
                var t = this;
                return this._requestService.getData("resourceBooking", "resource_timetable_cycle_period_remove", {
                    cycle_day_id: this.data.selectedDay.id,
                    cycle_period_id: e.id
                }).then(function(e) {
                    return t._notificationService.showSuccessNotification("Period was removed"), t.getTimetableCyclePeriods(), t.getResourceTimetable(), e
                })
            }
        }, {
            key: "getResources",
            value: function() {
                var e = this;
                return this._requestService.getData("resourceBooking", "resource_resources", {}).then(function(t) {
                    return e.data.resources = t.resources, t
                })
            }
        }, {
            key: "saveResource",
            value: function(e, t) {
                var n = this;
                return this._requestService.getData("resourceBooking", "resource_resources_add", {
                    description: e,
                    is_room: t
                }).then(function(e) {
                    return n._notificationService.showSuccessNotification("Resource was saved"), n.getResources(), n.getResourceTimetable(), e
                })
            }
        }, {
            key: "removeResource",
            value: function(e) {
                var t = this;
                return this._requestService.getData("resourceBooking", "resource_resources_retire", {
                    resource_id: e.id
                }).then(function(e) {
                    return t._notificationService.showSuccessNotification("Resource was removed"), t.getResources(), t.getResourceTimetable(), e
                })
            }
        }, {
            key: "saveCategory",
            value: function(e) {
                var t = this;
                return this._requestService.getData("resourceBooking", "resource_categories_add", {
                    description: e
                }).then(function(e) {
                    return t._notificationService.showSuccessNotification("Category was saved"), t.getResourceCategories(), e
                })
            }
        }, {
            key: "removeCategory",
            value: function(e) {
                var t = this;
                return this._requestService.getData("resourceBooking", "resource_categories_remove", {
                    category_id: e.id
                }).then(function(e) {
                    return t._notificationService.showSuccessNotification("Category was removed"), t.getResourceCategories(), e
                })
            }
        }, {
            key: "addResourceToCategory",
            value: function(e) {
                var t = this;
                return this._requestService.getData("resourceBooking", "resource_categories_category_resource_add", {
                    category_id: this.data.selectedCategory.id,
                    resource_ids: [e.id]
                }).then(function(e) {
                    return t._notificationService.showSuccessNotification("Resource was added to category"), t.getResources(), e
                })
            }
        }, {
            key: "removeResourceFromCategory",
            value: function(e) {
                var t = this;
                return this._requestService.getData("resourceBooking", "resource_categories_category_resource_remove", {
                    category_id: this.data.selectedCategory.id,
                    resource_ids: [e.id]
                }).then(function(e) {
                    return t._notificationService.showSuccessNotification("Resource was removed from category"), t.getResources(), e
                })
            }
        }, {
            key: "saveRoom",
            value: function(e, t, n) {
                var i = this;
                return this._requestService.getData("resourceBooking", "resource_booking_manage_room", {
                    resource_id: this.data.selectedRoom.id,
                    owner_id: e,
                    description: t,
                    information: n
                }).then(function(e) {
                    return i._notificationService.showSuccessNotification("Resource was updated"), i.getResources(), i.getResourceTimetable(), e
                })
            }
        }, {
            key: "saveTeachingGroup",
            value: function(e) {
                var t = this;
                return this._requestService.getData("resourceBooking", "resource_booking_teaching_move", {
                    date: this.filter.date ? this.filter.date.response : this._requestService.getDateToRequest(),
                    teaching_group_id: this.data.selectedEventToMove.teaching_group_id,
                    cycle_period_id: this.data.selectedEventToMove.cycle_period_id,
                    new_resource_id: e
                }).then(function(e) {
                    return t._notificationService.showSuccessNotification("Resource was updated"), t.getResourceTimetable(), e
                })
            }
        }, {
            key: "getResourceChanges",
            value: function(e) {
                var t = this;
                return this._requestService.getData("resourceBooking", "resource_changes", {
                    date: e
                }).then(function(e) {
                    var n = e.closures,
                        i = e.periods,
                        a = e.date;
                    t.changes = {
                        closures: n,
                        periods: i,
                        date: a
                    }
                })
            }
        }, {
            key: "getResourceChangesPDF",
            value: function(e) {
                return this._requestService.getData("resourceBooking", "resource_changes_pdf", {
                    date: e
                }).then(function(e) {
                    return e.document
                })
            }
        }, {
            key: "getResourceUsage",
            value: function(e) {
                var t = this,
                    n = e.from_date,
                    i = e.until_date;
                return this._requestService.getData("resourceBooking", "resource_usage", {
                    from_date: n,
                    until_date: i
                }).then(function(e) {
                    var n = e.resources;
                    t.report = n
                })
            }
        }, {
            key: "rooms",
            set: function(e) {
                this.data.rooms = e
            },
            get: function() {
                return this.data.rooms
            }
        }, {
            key: "categories",
            set: function(e) {
                this.data.categories = e
            },
            get: function() {
                return this.data.categories
            }
        }, {
            key: "availablePeriods",
            set: function(e) {
                this.data.availablePeriods = e
            },
            get: function() {
                return this.data.availablePeriods
            }
        }, {
            key: "filter",
            get: function() {
                return this.data.filter
            }
        }, {
            key: "changes",
            get: function() {
                return this.data.changes
            },
            set: function(e) {
                this.data.changes = e
            }
        }, {
            key: "report",
            get: function() {
                return this.data.report
            },
            set: function(e) {
                this.data.report = e
            }
        }, {
            key: "dates",
            get: function() {
                return this.data.dates
            },
            set: function(e) {
                this.data.dates = e
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r) {
            "ngInject";
            (0, n.default)(this, e), this._requestService = t, this._notificationService = i, this._$timeout = a, this._windowWidthService = s, this._deviceMarginConstants = r, this.periodsByDay = {}, this.initValues()
        }
        return e.$inject = ["requestService", "notificationService", "$timeout", "windowWidthService", "deviceMarginConstants"], (0, i.default)(e, [{
            key: "initValues",
            value: function(e) {
                this.data && !e || (this.data = {
                    timetables: [],
                    weeks: [],
                    currentWeek: null,
                    currentDay: null,
                    periods: [],
                    timetableUsers: [],
                    colorsToFullfill: ["#9370db", "#e6765c", "#ff4747", "#329a31", "#267d75", "#364b88"],
                    isDataInit: !1
                })
            }
        }, {
            key: "updateListOfTeachers",
            value: function(e) {
                var t = this._requestService.getDateToRequest();
                this.data.timetableUsers.map(function(e) {
                    return e.id
                }).indexOf(e.id) < 0 ? (e.color = this._getColor(), this.data.timetableUsers.push(e), this.getTimetableDataFromDb({
                    date: t,
                    employee_id: e.id
                })) : this._notificationService.showErrorNotification("Selected teacher already exist in the list")
            }
        }, {
            key: "removeTeacher",
            value: function(e) {
                if (this.data.timetables = this.data.timetables.filter(function(t) {
                        return t.userId !== e.id
                    }), 1 === this.data.timetables.length) {
                    var t = this.data.timetables[0];
                    this.data.timetables = [], this.data.weeks = [], this._updateWeeks(t.timetable.weeks), this._setCurrentWeek(), this.currentWeek && (this._setCurrentDay(null, this.getCurrentDayIndex()), this._setPeriodsForDay()), this.data.timetables.push(t)
                }
                this.data.timetableUsers = this.data.timetableUsers.filter(function(t) {
                    return t.id !== e.id
                }), this.data.colorsToFullfill.push(e.color)
            }
        }, {
            key: "updateCurrentWeek",
            value: function(e) {
                var t = this;
                this._setCurrentWeek(e), this._setCurrentDay(), this._setPeriodsForDay(), this._$timeout(function() {
                    t.isDataInit = !0
                }, 0)
            }
        }, {
            key: "updateCurrentDay",
            value: function(e) {
                this._setCurrentDay(e), this._setPeriodsForDay(e)
            }
        }, {
            key: "_ifItemNotExist",
            value: function(e, t, n) {
                return e.map(function(e) {
                    return e[n]
                }).indexOf(t[n]) < 0
            }
        }, {
            key: "_updateWeeks",
            value: function(e) {
                var t = this;
                this.weeks = [], e.forEach(function(e) {
                    t._ifItemNotExist(t.data.weeks, e, "name") && t.weeks.push(e), !t._ifItemNotExist(t.data.weeks, e, "name") && t.isEmptyWeekByName(t.data.weeks, e) >= 0 && !t.isEmptyWeek(e) && t.weeks.splice(t.isEmptyWeekByName(t.data.weeks, e), 1, e)
                })
            }
        }, {
            key: "_updateWeeksMobile",
            value: function(e) {
                var t = this;
                e.forEach(function(e) {
                    t._ifItemNotExist(t.data.weeks, e, "name") && t.weeks.push(e)
                })
            }
        }, {
            key: "isEmptyWeekByName",
            value: function(e, t) {
                var n = e.findIndex(function(e) {
                    return e.name === t.name
                });
                return this.isEmptyWeek(e[n]) ? n : -1
            }
        }, {
            key: "isEmptyWeek",
            value: function(e) {
                var t = !0;
                return e.days.forEach(function(e) {
                    e.periods.length && (t = !1)
                }), t
            }
        }, {
            key: "getAtLeastOneLesson",
            value: function(e) {
                var t = this.getAvailableLessonsForPeriod(e);
                return t.length, t[0]
            }
        }, {
            key: "getAvailableLessonsForPeriod",
            value: function(e) {
                var t = this;
                return this.data.timetables.map(function(n) {
                    return t._getLessonsForCurrentDay(n.timetable).filter(function(t) {
                        return e.includes(t.period_id)
                    }).pop()
                })
            }
        }, {
            key: "getPeriods",
            value: function() {
                return this.currentDay ? this.periods.map(function(e) {
                    return e.ids
                }).filter(function(e) {
                    return !!e
                }) : []
            }
        }, {
            key: "_getLessonsForCurrentDay",
            value: function(e) {
                return this._getCurrentDay(e).lessons
            }
        }, {
            key: "_getCurrentDay",
            value: function(e) {
                var t = this;
                return e.weeks.filter(function(e) {
                    return e.name === t.currentWeek.name
                }).map(function(e) {
                    return e.days
                }).pop().filter(function(e) {
                    return e.name === t.currentDay.name
                }).pop()
            }
        }, {
            key: "_getCurrentDayByName",
            value: function(e) {
                return this.currentWeek.days.filter(function(t) {
                    return t.name === e
                }).pop()
            }
        }, {
            key: "_getWeekWithIndex",
            value: function(e) {
                return this.data.weeks[e || 0]
            }
        }, {
            key: "_getDayWithIndex",
            value: function(e) {
                return this.data.currentWeek.days[e || 0]
            }
        }, {
            key: "_setCurrentWeek",
            value: function(e) {
                this.currentWeek = e || this._getWeekWithIndex()
            }
        }, {
            key: "_setCurrentDay",
            value: function(e, t) {
                this.currentDay = e || this._getDayWithIndex(t)
            }
        }, {
            key: "_setPeriodsForDay",
            value: function(e) {
                var t = e || this.currentDay;
                this.periodsByDay[t.cycle_day_id] = this.periodsByDay[t.cycle_day_id] ? this.periodsByDay[t.cycle_day_id] : [], this.periodsByDay[t.cycle_day_id].forEach(function(e) {
                    e.ids = [e.id];
                    var n = t.periods.find(function(t) {
                        return t.end_time === e.end_time && t.start_time === e.start_time
                    });
                    n && (e.ids.push(n.id), t.periods = t.periods.filter(function(e) {
                        return n.id !== e.id
                    }))
                }), t.periods = t.periods.map(function(e) {
                    return e.ids = [e.id], e
                }), this.periodsByDay[t.cycle_day_id] = this.periodsByDay[t.cycle_day_id].concat(t.periods), this.periods = this.periodsByDay[t.cycle_day_id]
            }
        }, {
            key: "_getColor",
            value: function() {
                var e = this.data.colorsToFullfill[0];
                return this.data.colorsToFullfill.shift(), e
            }
        }, {
            key: "getCurrentDayIndex",
            value: function() {
                var e = void 0;
                return this.currentWeek.days.forEach(function(t, n) {
                    t.is_current && (e = n)
                }), e
            }
        }, {
            key: "getTimetableDataFromDb",
            value: function(e, t) {
                var n = this;
                return this._requestService.getData("timetable", "timetable_data", e).then(function(i) {
                    return n._windowWidthService.windowWidth < n._deviceMarginConstants.MOBILE_MARGIN ? n._updateWeeksMobile(i.weeks) : n._updateWeeks(i.weeks), n._setCurrentWeek(), n.currentWeek && (n._setCurrentDay(null, n.getCurrentDayIndex()), n._setPeriodsForDay()), t && (n.data.timetables = []), e.learner_id ? n.data.timetables.push({
                        userId: e.learner_id,
                        timetable: i
                    }) : n.data.timetables.push({
                        userId: e.employee_id,
                        timetable: i,
                        color: n.data.timetableUsers.length ? n.data.timetableUsers[n.data.timetableUsers.length - 1].color : ""
                    }), n.isDataInit = !0, i
                }).catch(function() {})
            }
        }, {
            key: "compare",
            value: function(e, t) {
                var n = parseFloat(e.start_time.replace(":", ".").replace(/[^\d.-]/g, "")),
                    i = parseFloat(t.start_time.replace(":", ".").replace(/[^\d.-]/g, ""));
                return n < i ? -1 : n > i ? 1 : 0
            }
        }, {
            key: "timetableUsers",
            get: function() {
                return this.data.timetableUsers
            }
        }, {
            key: "timetable",
            get: function() {
                return this.data.timetable
            }
        }, {
            key: "timetables",
            get: function() {
                return this.data.timetables
            },
            set: function(e) {
                this.data.timetables = e
            }
        }, {
            key: "currentWeek",
            get: function() {
                return this.data.currentWeek
            },
            set: function(e) {
                this.data.currentWeek = e
            }
        }, {
            key: "currentDay",
            get: function() {
                return this.data.currentDay
            },
            set: function(e) {
                this.data.currentDay = e
            }
        }, {
            key: "weeks",
            get: function() {
                return this.data.weeks
            },
            set: function(e) {
                this.data.weeks = e
            }
        }, {
            key: "lessons",
            get: function() {
                return this.currentDay.lessons
            }
        }, {
            key: "periods",
            set: function(e) {
                this.data.periods = e.sort(this.compare)
            },
            get: function() {
                return this.data.periods
            }
        }, {
            key: "isDataInit",
            get: function() {
                return this.data.isDataInit
            },
            set: function(e) {
                this.data.isDataInit = e
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = r(t(0)),
        i = r(t(3599)),
        a = r(t(3600)),
        s = r(t(3601));

    function r(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var o = n.default.module("app.services.storage", []).factory({
        SessionStorageFactory: i.default
    }).factory({
        LocalStorageFactory: a.default
    }).service({
        $storageService: s.default
    }).name;
    exports.default = o
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(43),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    exports.default = ["$sessionStorage", function(e) {
        "ngInject";

        function t(t, n) {
            e[t] = n
        }

        function n(t) {
            return e[t]
        }

        function i(t) {
            (0, a.default)(e, t)
        }
        return function() {
            return {
                set: t,
                get: n,
                remove: i
            }
        }
    }]
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(43),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    exports.default = ["$localStorage", function(e) {
        "ngInject";

        function t(t, n) {
            e[t] = n
        }

        function n(t) {
            return e[t]
        }

        function i(t) {
            (0, a.default)(e, t)
        }
        return function() {
            return {
                set: t,
                get: n,
                remove: i
            }
        }
    }]
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(43)),
        i = s(t(1)),
        a = s(t(2));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = function() {
        function e(t, n) {
            "ngInject";
            (0, i.default)(this, e), this.initValues(t, n)
        }
        return e.$inject = ["SessionStorageFactory", "LocalStorageFactory"], (0, a.default)(e, [{
            key: "initValues",
            value: function(e, t) {
                this.storages = {
                    localStorage: new t,
                    sessionStorage: new e
                }
            }
        }, {
            key: "set",
            value: function(e, t) {
                this.localStorage[e] = t
            }
        }, {
            key: "get",
            value: function(e) {
                return this.localStorage[e]
            }
        }, {
            key: "remove",
            value: function(e) {
                (0, n.default)(this.localStorage, "name")
            }
        }, {
            key: "localStorage",
            get: function() {
                return this.storages.localStorage
            }
        }, {
            key: "sessionStorage",
            get: function() {
                return this.storages.sessionStorage
            }
        }]), e
    }();
    exports.default = r
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = l(t(0)),
        i = l(t(3603)),
        a = l(t(3607)),
        s = l(t(3608)),
        r = l(t(3609)),
        o = l(t(3610));

    function l(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var c = n.default.module("app.services.users", []).service({
        studentsService: i.default
    }).service({
        admissionsService: a.default
    }).service({
        leaversService: s.default
    }).service({
        parentsService: r.default
    }).service({
        teachersService: o.default
    }).name;
    exports.default = c
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = c(t(11)),
        i = c(t(6)),
        a = c(t(1)),
        s = c(t(2)),
        r = c(t(7)),
        o = c(t(91)),
        l = c(t(8));

    function c(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var d = function(e) {
        function t(e, n, s) {
            "ngInject";
            return (0, a.default)(this, t), (0, r.default)(this, (t.__proto__ || (0, i.default)(t)).call(this, e, n, s))
        }
        return t.$inject = ["requestService", "imagesConstants", "$q"], (0, l.default)(t, e), (0, s.default)(t, [{
            key: "getStudents",
            value: function(e, n) {
                var a = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "Current";
                return (0, o.default)(t.prototype.__proto__ || (0, i.default)(t.prototype), "getStudents", this).call(this, e, n, a)
            }
        }, {
            key: "getUserDefinedGroups",
            value: function() {
                return (0, o.default)(t.prototype.__proto__ || (0, i.default)(t.prototype), "getUserDefinedGroups", this).call(this)
            }
        }, {
            key: "addCommunityAndFormGroupsInfo",
            value: function(e, t) {
                return e.map(function(e) {
                    var n = t.communityGroups && t.communityGroups.find(function(t) {
                            return t.id === e.community_group_id
                        }),
                        i = t.formGroups && t.formGroups.find(function(t) {
                            return t.id === e.form_group_id
                        });
                    return n && (e.community_group = n.name), i && (e.form_group = i.name), e
                })
            }
        }, {
            key: "setToTopEmployeeClass",
            value: function(e) {
                var t = e.teaching_groups.filter(function(e) {
                        return e.my_group
                    }),
                    i = e.teaching_groups.filter(function(e) {
                        return !e.my_group
                    });
                this.teaching = [{
                    name: "My classes:",
                    custom: !0
                }].concat((0, n.default)(t), [{
                    name: "-----",
                    custom: !0
                }], (0, n.default)(i))
            }
        }]), t
    }(c(t(295)).default);
    exports.default = d
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = l(t(6)),
        i = l(t(1)),
        a = l(t(2)),
        s = l(t(7)),
        r = l(t(91)),
        o = l(t(8));

    function l(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var c = void 0;
    var d = function(e) {
        function t(e, a) {
            (0, i.default)(this, t);
            var r = (0, s.default)(this, (t.__proto__ || (0, n.default)(t)).call(this, e, a));
            return c = e, r
        }
        return (0, o.default)(t, e), (0, a.default)(t, [{
            key: "initValues",
            value: function() {
                (0, r.default)(t.prototype.__proto__ || (0, n.default)(t.prototype), "initValues", this).call(this), this.data.filteredStudents = []
            }
        }, {
            key: "addStudents",
            value: function(e) {
                (0, r.default)(t.prototype.__proto__ || (0, n.default)(t.prototype), "addUsers", this).call(this, e)
            }
        }, {
            key: "findStudentFromId",
            value: function(e) {
                return (0, r.default)(t.prototype.__proto__ || (0, n.default)(t.prototype), "findUserFromId", this).call(this, e)
            }
        }, {
            key: "getFilteredStudents",
            value: function(e, i) {
                var a = this;
                return c.getFilteredStudentsFromDb(e, i).then(function(e) {
                    return (0, r.default)(t.prototype.__proto__ || (0, n.default)(t.prototype), "insertUsersInMemory", a).call(a, e),
                        function(e) {
                            return e.map(function(e) {
                                return e.id
                            })
                        }(e)
                }).then(function(e) {
                    return e.length ? a.getStudents(e) : []
                }).then(function(e) {
                    return a.data.filteredStudents = e, e
                })
            }
        }, {
            key: "getStudents",
            value: function(e, i, a) {
                return i ? this.getFilteredStudents(i, a) : (0, r.default)(t.prototype.__proto__ || (0, n.default)(t.prototype), "getUsers", this).call(this, e, a)
            }
        }, {
            key: "students",
            get: function() {
                return (0, r.default)(t.prototype.__proto__ || (0, n.default)(t.prototype), "users", this)
            }
        }, {
            key: "filteredStudents",
            get: function() {
                return this.data.filteredStudents
            },
            set: function(e) {
                this.data.filteredStudents = e
            }
        }]), t
    }(l(t(3605)).default);
    exports.default = d
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = r(t(470)),
        i = r(t(1)),
        a = r(t(2)),
        s = r(t(11));

    function r(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var o = -1;

    function l(e, t) {
        var n = [];
        if (!t || !t.length) return new(Function.prototype.bind.apply(Array, [null].concat((0, s.default)(e.values()))));
        for (var i = 0; i < t.length; i++) {
            var a = t[i];
            e.has(a) && n.push(e.get(a))
        }
        return n
    }
    var c = function() {
        function e(t, n) {
            (0, i.default)(this, e), this._usersLoader = t, this._$q = n, this.initValues()
        }
        return (0, a.default)(e, [{
            key: "initValues",
            value: function() {
                this.data = {
                    users: new n.default,
                    usersBuffer: [],
                    userIds: [],
                    isLoadAll: !1
                }
            }
        }, {
            key: "addUsers",
            value: function(e) {
                e && (! function(e, t) {
                    var n = e;
                    if (angular.isArray(t)) t.forEach(function(e) {
                        var t = e.id;
                        n.set(t, e)
                    });
                    else if (angular.isObject(t)) {
                        var i = user.id;
                        n.set(i, t)
                    }
                }(this.data.users, e), this.data.usersBuffer = new(Function.prototype.bind.apply(Array, [null].concat((0, s.default)(this.data.users.values())))), this.data.userIds = new(Function.prototype.bind.apply(Array, [null].concat((0, s.default)(this.data.users.keys())))), this.data.filteredStudents = this.users)
            }
        }, {
            key: "findUserFromId",
            value: function(e) {
                return e && this.data.users.get(e)
            }
        }, {
            key: "getUsers",
            value: function(e, t) {
                var n = this;
                if (angular.isUndefined(e)) return this.data.isLoadAll ? this._$q(function(e) {
                    e(n.data.usersBuffer)
                }) : (this.data.isLoadAll = !0, this._usersLoader.getUsersFromDb({
                    status: t
                }).then(function(e) {
                    return n.addUsers(e), e
                }));
                e = angular.isArray(e) ? e : [e];
                var i = function(e) {
                    return (arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : []).filter(function(t) {
                        return e.indexOf(t) === o
                    })
                }(this.data.userIds, e);
                return i.length ? this._usersLoader.getUsersFromDb({
                    learner_ids: i,
                    status: t
                }).then(function(t) {
                    return n.addUsers(t), l(n.data.users, e)
                }) : this._$q(function(t) {
                    t(l(n.data.users, e))
                })
            }
        }, {
            key: "getPhotos",
            value: function() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null,
                    t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null;
                if (angular.isArray(e)) return this._usersLoader.getUsersPhotoFromDb(e, t);
                var n = this.data.users.get(e);
                return n && n.photo ? this._$q(function(e) {
                    e([n])
                }) : this._usersLoader.getUsersPhotoFromDb([e], t)
            }
        }, {
            key: "insertUsersInMemory",
            value: function(e) {
                ! function(e, t) {
                    t.forEach(function(t) {
                        e.has(t.id) || e.set(t.id, t)
                    })
                }(this.data.users, e)
            }
        }, {
            key: "users",
            get: function() {
                return this.data.usersBuffer
            }
        }]), e
    }();
    exports.default = c
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(43)),
        i = s(t(1)),
        a = s(t(2));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }

    function r(e) {
        e.ids = [e.id], e.resultRow = e.fullName = e.forename + " " + e.surname, e.genders = [e.gender], e.roles = ["learner"], e.behaviour_points = angular.isDefined(e.behaviour_points) ? e.behaviour_points : 0, e.achievement_points = angular.isDefined(e.achievement_points) ? e.achievement_points : 0
    }
    var o = function() {
        function e(t, n, a) {
            (0, i.default)(this, e), this._requestService = t, this._imagesConstants = n, this._$q = a
        }
        return (0, a.default)(e, [{
            key: "getFilteredStudentsFromDb",
            value: function(e, t) {
                return e.form_id || (0, n.default)(e, "form_id"), e.filter || (0, n.default)(e, "filter"), e.year_id || (0, n.default)(e, "year_id"), e.teaching_group_id || (0, n.default)(e, "teaching_group_id"), t && (e.status = t), this._requestService.getData("learners", "learners_data", e).then(function(e) {
                    return e.learners
                })
            }
        }, {
            key: "getUsersFromDb",
            value: function(e) {
                var t = e.learner_ids,
                    n = e.status,
                    i = {
                        learner_ids: t
                    };
                return n && (i.status = n), this._requestService.getData("learners", "learners_data", i).then(function(e) {
                    var t = e.learners;
                    return t.forEach(r), t
                })
            }
        }, {
            key: "getUsersPhotoFromDb",
            value: function() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null,
                    t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null,
                    n = {
                        learner_ids: e,
                        size: t || this._imagesConstants.DEFAULT_SIZE
                    };
                return this._requestService.getData("learners", "learner_photos", n).then(function(e) {
                    return e.learner_photos
                })
            }
        }]), e
    }();
    exports.default = o
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = l(t(6)),
        i = l(t(1)),
        a = l(t(2)),
        s = l(t(7)),
        r = l(t(91)),
        o = l(t(8));

    function l(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var c = function(e) {
        function t(e, a, r) {
            "ngInject";
            return (0, i.default)(this, t), (0, s.default)(this, (t.__proto__ || (0, n.default)(t)).call(this, e, a, r))
        }
        return t.$inject = ["requestService", "imagesConstants", "$q"], (0, o.default)(t, e), (0, a.default)(t, [{
            key: "getStudents",
            value: function(e, i) {
                return (0, r.default)(t.prototype.__proto__ || (0, n.default)(t.prototype), "getStudents", this).call(this, e, i, "Applicant")
            }
        }]), t
    }(l(t(295)).default);
    exports.default = c
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = l(t(6)),
        i = l(t(1)),
        a = l(t(2)),
        s = l(t(7)),
        r = l(t(91)),
        o = l(t(8));

    function l(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var c = function(e) {
        function t(e, a, r) {
            "ngInject";
            return (0, i.default)(this, t), (0, s.default)(this, (t.__proto__ || (0, n.default)(t)).call(this, e, a, r))
        }
        return t.$inject = ["requestService", "imagesConstants", "$q"], (0, o.default)(t, e), (0, a.default)(t, [{
            key: "getStudents",
            value: function(e, i) {
                return (0, r.default)(t.prototype.__proto__ || (0, n.default)(t.prototype), "getStudents", this).call(this, e, i, "Leaver")
            }
        }]), t
    }(l(t(295)).default);
    exports.default = c
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i) {
            "ngInject";
            (0, n.default)(this, e), this._imagesConstants = i, this._requestService = t, this.initValues()
        }
        return e.$inject = ["requestService", "imagesConstants"], (0, i.default)(e, [{
            key: "initValues",
            value: function(e) {
                this.data && !e || (this.data = {
                    relatedParents: null,
                    images: {
                        male: this._imagesConstants.MALE_PARENT_DEFAULT_IMAGE,
                        female: this._imagesConstants.FEMALE_PARENT_DEFAULT_IMAGE,
                        defaultPhoto: this._imagesConstants.DEFAULT_IMAGE
                    }
                })
            }
        }, {
            key: "getDefaultPhoto",
            value: function(e) {
                return this.getDefaultPhotoUsingGender(e.gender)
            }
        }, {
            key: "getDefaultPhotoUsingGender",
            value: function(e) {
                e = e && e.toLowerCase();
                var t = this.data.images;
                return t[e] || t.defaultPhoto
            }
        }, {
            key: "relatedParents",
            get: function() {
                return this.data.relatedParents
            },
            set: function(e) {
                this.data.relatedParents = e
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(194)),
        i = s(t(1)),
        a = s(t(2));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = function() {
        function e(t, n, a) {
            "ngInject";
            (0, i.default)(this, e), this._requestService = t, this._imagesConstants = n, this._$q = a, this.initValues()
        }
        return e.$inject = ["requestService", "imagesConstants", "$q"], (0, a.default)(e, [{
            key: "initValues",
            value: function(e) {
                this.data && !e || (this.data = {
                    selectedTeacher: null,
                    selectedTeachers: [],
                    teachers: null,
                    employees: null,
                    filteredTeachers: null,
                    relatedTeachers: null,
                    relatedTeachersInGroup: null,
                    teachersFullNameSubString: "",
                    images: {
                        male: this._imagesConstants.MALE_EMPLOYEE_DEFAULT_IMAGE,
                        female: this._imagesConstants.FEMALE_EMPLOYEE_DEFAULT_IMAGE,
                        defaultPhoto: this._imagesConstants.DEFAULT_IMAGE
                    }
                })
            }
        }, {
            key: "getDefaultPhoto",
            value: function(e) {
                return this.getDefaultPhotoUsingGender(e.gender)
            }
        }, {
            key: "getDefaultPhotoUsingGender",
            value: function(e) {
                var t = this.data.images;
                return t[e && e.toLowerCase()] || t.defaultPhoto
            }
        }, {
            key: "getTeacherPhoto",
            value: function(e) {
                var t = e.photosId;
                return this.getTeacherPhotosFromDb(t).catch(function() {
                    return null
                })
            }
        }, {
            key: "getTeacherDefaultPhoto",
            value: function(e) {
                var t = e.gender;
                return this.getDefaultPhotoUsingGender(t)
            }
        }, {
            key: "getTeachersFromDb",
            value: function(e) {
                var t = e.employee_ids,
                    n = e.learner_ids,
                    i = e.form_group_ids,
                    a = e.year_group_ids,
                    s = {};
                return t && (s.employee_ids = t), n && (s.learner_ids = n), i && (s.form_group_ids = i), a && (s.year_group_ids = a), this._requestService.getData("teachers", "teachers", s)
            }
        }, {
            key: "getEmployeesFromDb",
            value: function(e) {
                var t = e.employee_ids,
                    n = e.learner_ids,
                    i = e.form_group_ids,
                    a = e.year_group_ids,
                    s = e.house_group_ids,
                    r = {};
                return t && (r.employee_ids = t), n && (r.learner_ids = n), i && i.length && (r.form_group_ids = i), a && (r.year_group_ids = a), s && (r.house_group_ids = s), this._requestService.getData("teachers", "employees", r)
            }
        }, {
            key: "getTeacherPhotosFromDb",
            value: function(e, t) {
                var n = {
                    employee_ids: e,
                    size: 160
                };
                return this._requestService.getData("teachers", "photo", n).then(function(e) {
                    return e.employee_photos
                })
            }
        }, {
            key: "getEmployeesWithFullNameFromDb",
            value: function(e, t, n) {
                var i = this,
                    a = {};
                return e && (a.employee_ids = e), t && (a.learner_ids = t), n && (a.from_group_ids = n), this._requestService.getData("teachers", "employees", a).then(function(e) {
                    return e.employees.forEach(function(e) {
                        e.ids = [e.id], e.genders = [e.gender], e.resultRow = e.fullName = e.forename + " " + e.surname
                    }), i.filteredTeachers = e.employees, e.employees
                })
            }
        }, {
            key: "getTeachersWithFullNameFromDb",
            value: function(e, t, n) {
                var i = this;
                return this.getTeachersFromDb({
                    employee_ids: e,
                    learner_ids: t,
                    from_group_ids: n
                }).then(function(e) {
                    return e.teachers.forEach(function(e) {
                        e.ids = [e.id], e.genders = [e.gender], e.resultRow = e.fullName = e.forename + " " + e.surname
                    }), i.filteredTeachers = e.teachers, e.teachers
                })
            }
        }, {
            key: "getAllTeachersWithFullNameFromDb",
            value: function() {
                var e = this;
                return this.data.teachers && this.data.teachers.length ? this._$q(function(t) {
                    t(e.data.teachers)
                }) : this.getTeachersWithFullNameFromDb()
            }
        }, {
            key: "fetchWithPhoto",
            value: function(e) {
                var t = this;
                return this._$q.all([this.getTeachersFromDb({
                    employee_ids: e
                }), this.getTeacherPhotosFromDb(e)]).then(function(e) {
                    var i = (0, n.default)(e, 2),
                        a = i[0],
                        s = i[1];
                    return t.addPhotosToTeachers(a.teachers, s)
                })
            }
        }, {
            key: "fetchEmployeesWithPhoto",
            value: function() {
                var e = this;
                return this.getEmployeesWithFullNameFromDb().then(function(t) {
                    var n = t.map(function(e) {
                        return e.id
                    });
                    return e.getTeacherPhotosFromDb(n).then(function(n) {
                        return e.addPhotosToTeachers(t, n)
                    })
                })
            }
        }, {
            key: "addPhotosToTeachers",
            value: function(e, t) {
                var n = this;
                return e.map(function(e) {
                    var i = t.find(function(t) {
                        return t.id === e.id
                    });
                    return e.photo = i ? "data:image/png;base64," + i.photo : n.getDefaultPhoto(e), e
                })
            }
        }, {
            key: "selectedTeacher",
            get: function() {
                return this.data.selectedTeacher
            },
            set: function(e) {
                this.data.selectedTeacher = e
            }
        }, {
            key: "teachers",
            get: function() {
                return this.data.teachers
            },
            set: function(e) {
                this.data.teachers = e
            }
        }, {
            key: "employees",
            get: function() {
                return this.data.employees
            },
            set: function(e) {
                this.data.employees = e
            }
        }, {
            key: "filteredTeachers",
            get: function() {
                return this.data.filteredTeachers
            },
            set: function(e) {
                this.data.filteredTeachers = e
            }
        }, {
            key: "selectedTeachers",
            get: function() {
                return this.data.selectedTeachers
            },
            set: function(e) {
                this.data.selectedTeachers = e
            }
        }, {
            key: "relatedTeachers",
            get: function() {
                return this.data.relatedTeachers
            },
            set: function(e) {
                this.data.relatedTeachers = e
            }
        }, {
            key: "relatedTeachersInGroup",
            get: function() {
                return this.data.relatedTeachersInGroup
            },
            set: function(e) {
                this.data.relatedTeachersInGroup = e
            }
        }]), e
    }();
    exports.default = r
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = f(t(0)),
        i = f(t(3612)),
        a = f(t(3613)),
        s = f(t(3614)),
        r = f(t(3615)),
        o = f(t(3616)),
        l = f(t(3617)),
        c = f(t(3618)),
        d = f(t(3619)),
        u = f(t(3620)),
        _ = f(t(3621));

    function f(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var v = n.default.module("app.services.$fcm", []).service({
        $fcmActionsService: i.default
    }).service({
        $fcmService: a.default
    }).provider({
        $fcm: s.default
    }).factory({
        CommunicatorHandlerFactory: r.default
    }).factory({
        CommunicatorNewMessageHandlerFactory: o.default
    }).factory({
        CalloutNewHandlerFactory: l.default
    }).factory({
        CalloutSoundHandlerFactory: c.default
    }).factory({
        CalloutAttendingHandlerFactory: d.default
    }).factory({
        CalloutHandlerFactory: u.default
    }).factory({
        LogoutHandlerFactory: _.default
    }).name;
    exports.default = v
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i, a, s, r) {
            "ngInject";
            (0, n.default)(this, e), this._modalDefaultService = s, this._userService = r, this.handlers = {
                communicator: new t,
                employeecallout: new a,
                logoutHandler: new i
            }
        }
        return e.$inject = ["CommunicatorHandlerFactory", "LogoutHandlerFactory", "CalloutHandlerFactory", "modalDefaultService", "userService"], (0, i.default)(e, [{
            key: "isOtherUser",
            value: function(e) {
                return this._userService.user.username !== e.recipient_username || parseInt(this._userService.user.establishmentId, 10) !== parseInt(e.establishment_id, 10) || -1 === this._userService.user.schoolServerUrl.indexOf(e.api_hostname)
            }
        }, {
            key: "isLogoutHandler",
            value: function(e) {
                return !this._userService.isAuthorized() || this.isOtherUser(e)
            }
        }, {
            key: "getHandlerForUser",
            value: function(e) {
                return this.getHandler(e.data.notification_type.split(".")[0])
            }
        }, {
            key: "handleAction",
            value: function(e, t) {
                if (e.data.notification_type) {
                    var n = void 0;
                    (n = this.isLogoutHandler(e.data) ? this.handlers.logoutHandler : this.getHandlerForUser(e)) ? n.handleEvent(e, t): this._modalDefaultService.showModalWithTemplates("modal-debug", e.data, "No handler for payload")
                }
            }
        }, {
            key: "getHandler",
            value: function(e) {
                return this.handlers[e] || null
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(280)),
        i = s(t(1)),
        a = s(t(2));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = function() {
        function e(t, n, a, s, r, o, l, c, d, u, _, f) {
            "ngInject";
            (0, i.default)(this, e), this.storage = l.localStorage, this._$q = f, this._$timeout = a, this._$fcm = o, this._$log = r, this._$fcmActionsService = s, this._requestService = c, this._$rootScope = n, this._routeClassService = t, this._notificationService = d, this._configService = u, this._userService = _, this._updateTimer = null, this._token = null, this._initialPromise = null, this.notificationsPush()
        }
        return e.$inject = ["routeClassService", "$rootScope", "$timeout", "$fcmActionsService", "$log", "$fcm", "$storageService", "requestService", "notificationService", "configService", "userService", "$q"], (0, a.default)(e, [{
            key: "saveFcmToken",
            value: function() {
                this._token && this.storage.set("fcm_token", this._token)
            }
        }, {
            key: "removeFcmToken",
            value: function() {
                this.storage.remove("fcm_token")
            }
        }, {
            key: "tryNotification",
            value: function() {
                return this._requestService.getData("other", "push_test", {})
            }
        }, {
            key: "setToken",
            value: function(e) {
                var t = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1];
                this._token = e, this._$log.log("setToken to: " + e), t && this.updateToken()
            }
        }, {
            key: "updateToken",
            value: function() {
                var e = this,
                    t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
                    n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0;
                this._token ? 5 !== t ? (this._$log.log("updateToken in: " + n + " seconds. API failures: " + t), this._$timeout.cancel(this._updateTimer), this._updateTimer = this._$timeout(function() {
                    var i = e.fcm_token_old || "none";
                    e._userService.user ? e.updateTokenInDb(i, e._token).then(function() {
                        e._$log.log("updateTokenInDb - success. Write storage"), e.saveFcmToken()
                    }).catch(function(i) {
                        t += 1, e._$log.error(i);
                        var a = n + 15 * t;
                        e.updateToken(t, a)
                    }) : e.updateToken(t, 5)
                }, 1e3 * n)) : this._$log.log("abort updateToken after " + t + " API failures") : this._$log.log("updateToken. But no token set")
            }
        }, {
            key: "updateTokenInDb",
            value: function(e, t) {
                var n = this._configService.isCordovaEnv;
                return this._requestService.getData("other", "fcm_token_update", {
                    old_token: e,
                    new_token: t,
                    from_app: n
                })
            }
        }, {
            key: "postMessageToForegroundHandler",
            value: function(e) {
                var t = this;
                e && e.data && !e.data.isBackground && this._$timeout(function() {
                    return t._$fcmActionsService.handleAction(e, !1)
                }, 0)
            }
        }, {
            key: "postMessageToBackgroundHandler",
            value: function(e) {
                var t = this;
                e && e.data && e.data.isBackground && this._$timeout(function() {
                    return t._$fcmActionsService.handleAction(e, !0)
                }, 0)
            }
        }, {
            key: "notificationsPush",
            value: function() {
                if (this._initialPromise) return this._initialPromise;
                try {
                    window.isCordovaApp ? this._initialPromise = this.onCordovaDeviceReady() : this._initialPromise = this.firebaseNotificationsInit()
                } catch (e) {
                    return this._$log.error("Error: connect notification"), this._$q.reject()
                }
                return this._initialPromise
            }
        }, {
            key: "onCordovaDeviceReady",
            value: function() {
                var e = this;
                return FCMPlugin.onNotification(function(t) {
                    if (t.wasTapped) {
                        var n = e.handleCordovaMessage(t, !0);
                        e.postMessageToBackgroundHandler(n)
                    } else {
                        var i = e.handleCordovaMessage(t, !1);
                        e.postMessageToForegroundHandler(i)
                    }
                }, function(t) {
                    return e._$log.log("onNotification callback successfully registered: " + t)
                }, function(t) {
                    return e._$log.error("Error registering onNotification callback: " + t)
                }), FCMPlugin.onTokenRefresh(function(t) {
                    e._$log.log("MWC onTokenRefresh token is " + t), t ? e._userService.user ? e.setToken(t, !0) : e.setToken(t, !1) : e._$log.error("No Instance ID token available. Request permission to generate one.")
                }), this._$q(function(t, n) {
                    return e.getFCMToken(1, t, n)
                })
            }
        }, {
            key: "getFCMToken",
            value: function(e, t, n) {
                var i = this;
                FCMPlugin.getToken(function(a) {
                    if (null === a && i._$log.log("getToken token is null"), i._$log.log("MWC getToken attempt " + e + " token is " + a), a) i.setToken(a, !1), t();
                    else {
                        if (i._$log.error("No Instance ID token available. Request permission to generate one."), ++e > 10) return void n();
                        i._$log.log("getToken !token retry in 1s"), i._$timeout(function() {
                            return i.getFCMToken(e, t, n)
                        }, 1e3)
                    }
                }, function(e) {
                    i._$log.error("An error occurred while retrieving token. ", e), n()
                })
            }
        }, {
            key: "handleCordovaMessage",
            value: function(e, t) {
                var n = {
                    data: e
                };
                return e && (e.isBackground = t), n
            }
        }, {
            key: "firebaseNotificationsInit",
            value: function() {
                var e = this,
                    t = this.removeServiceWorker(),
                    n = this.initFirebaseApp();
                return t ? t.then(function() {
                    return e._$log.log("Registering service worker..."), e.registerServiceWorker(n)
                }) : this.registerServiceWorker(n)
            }
        }, {
            key: "removeServiceWorker",
            value: function() {
                var e = this;
                return "serviceWorker" in navigator && "getRegistrations" in navigator.serviceWorker && navigator.serviceWorker.getRegistrations().then(function(t) {
                    var i = [],
                        a = !0,
                        s = !1,
                        r = void 0;
                    try {
                        for (var o, l = (0, n.default)(t); !(a = (o = l.next()).done); a = !0) {
                            var c = o.value;
                            i.push(c.unregister().then(function(t) {
                                e._$log.log("ServiceWorker unregister success: ", t)
                            }))
                        }
                    } catch (e) {
                        s = !0, r = e
                    } finally {
                        try {
                            !a && l.return && l.return()
                        } finally {
                            if (s) throw r
                        }
                    }
                    return e._$q.all(i)
                })
            }
        }, {
            key: "initFirebaseApp",
            value: function() {
                var e = this._$fcm.getFirebase();
                if (!e) throw new Exception("Firebase don't init");
                return e.initializeApp(this._$fcm.getConfig()), e
            }
        }, {
            key: "registerServiceWorker",
            value: function(e) {
                var t = this,
                    n = location.origin;
                return navigator.serviceWorker.register(n + "/firebase-messaging-sw.js").then(function(n) {
                    t._$log.log("ServiceWorker registration successful with scope: ", n.scope);
                    var i = e.messaging();
                    return t.bindFirebaseEvents(i), i.useServiceWorker(n), t.generateToken(i)
                }).catch(function(e) {
                    return t._$log.error(e)
                })
            }
        }, {
            key: "generateToken",
            value: function(e) {
                var t = this;
                return e.requestPermission().then(function() {
                    return t._$log.log("Notification permission granted."), e.getToken().then(function(e) {
                        e ? t.setToken(e, !1) : t._$log.error("No Instance ID token available. Request permission to generate one.")
                    }).catch(function(e) {
                        return t._$log.error("An error occurred while retrieving token. ", e)
                    })
                }).catch(function(e) {
                    t._$log.error("Unable to get permission to notify.", e), t._notificationService.showWarningNotification("Notifications are disabled for this website")
                })
            }
        }, {
            key: "bindFirebaseEvents",
            value: function(e) {
                var t = this;
                e.onTokenRefresh(function() {
                    e.getToken().then(function(e) {
                        e ? t.setToken(e, !0) : t._$log.error("Token not refreshed ")
                    }).catch(function(e) {
                        return t._$log.error("Unable to retrieve refreshed token ", e)
                    })
                }), e.onMessage(function(e) {
                    t.postMessageToForegroundHandler(e)
                }), angular.element(navigator.serviceWorker).on("message", function(e) {
                    t.postMessageToBackgroundHandler(e.originalEvent)
                });
                var n = this._$rootScope.$on("$destroy", function() {
                    t.removeServiceWorker(), n()
                })
            }
        }, {
            key: "fcm_token_old",
            get: function() {
                return this.storage.get("fcm_token")
            }
        }, {
            key: "fcm_token",
            get: function() {
                return this._token
            }
        }]), e
    }();
    exports.default = r
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), exports.default = function() {
        var e = null,
            t = null;
        this.setFirebase = function(e) {
            t = e
        }, this.setConfig = function(t) {
            e = t
        }, this.$get = function() {
            return {
                getConfig: function() {
                    return e
                },
                getFirebase: function() {
                    return t
                }
            }
        }
    }
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), exports.default = ["CommunicatorNewMessageHandlerFactory", "modalDefaultService", function(e, t) {
        "ngInject";
        return function() {
            var n = {
                "communicator.new.message": new e
            };
            return {
                handleEvent: function(e, i) {
                    var a, s = (a = e.data.notification_type, n[a]);
                    s ? s.handleEvent(e, i) : t.showModalWithTemplates("modal-debug", e.data, "No handler for communicator payload")
                }
            }
        }
    }]
}, function(e, exports, t) {
    "use strict";
    (function($) {
        Object.defineProperty(exports, "__esModule", {
            value: !0
        }), exports.default = ["deviceMarginConstants", "$rootScope", "userService", "modalDefaultService", "configService", "windowWidthService", "menuService", "$state", "$log", "routeClassService", "$stateParams", "communicatorDataService", function(e, t, n, i, a, s, r, o, l, c, d, u) {
            "ngInject";
            var _ = -1;
            return function() {
                var f = {
                    title: "Cancel",
                    classes: "_gray _fill _small _half-width",
                    action: function() {
                        t.$emit("hideModal")
                    }
                };

                function v() {
                    t.$emit("hideModal", {
                        closeAllModals: !0
                    })
                }

                function m() {
                    return "communicator.mailbox" === c.fullStateName
                }

                function h() {
                    return "Sent" === d.messages
                }

                function p(e) {
                    m() ? function(e) {
                        h() ? S() : b(e)
                    }(e) : g(e)
                }

                function g(i) {
                    if (v(), s.windowWidth >= e.MOBILE_MARGIN) {
                        var l = [r.eventsName.MENU_IN, r.eventsName.MENU_HIDE, r.eventsName.MENU_EMPTY],
                            d = [function() {
                                c.isMenuIn = !0
                            }, function() {
                                $(".student__back").removeClass("_active")
                            }, function() {
                                o.transitionTo("communicator.mailbox", {}, {
                                    notify: !1
                                }), t.$emit("setFirstAuthInFalse"), r.menu = null
                            }];
                        a.config.isMenuCenterStates.indexOf(c.fullStateName) !== _ && (l.shift(), d.shift()), r.setEvents(l, [], d)
                    } else r.logo = n.user.logo, r.menu = r.availableMenu.personal_menu.mainMenu, o.transitionTo("communicator.mailbox", {}, {
                        notify: !1
                    })
                }

                function b(e) {
                    v();
                    var t, n = (t = e.data.specifics) ? t.message_id : (l.error("Specifics data not define"), null);
                    u.getInboxFromDb({
                        newMessageId: n
                    })
                }

                function S() {
                    o.transitionTo("communicator.mailbox", {}, {
                        notify: !1
                    }), v()
                }

                function y(e) {
                    return e ? {
                        title: "Refresh Mailbox",
                        classes: "_green _fill _small _half-width",
                        action: h() ? S : b
                    } : {
                        title: "Go To Mailbox",
                        classes: "_green _fill _small _half-width",
                        action: g
                    }
                }

                function k(e) {
                    e = function(e) {
                        var t = [f],
                            n = m();
                        return t.push(y(n)), {
                            event: e,
                            body: function(e) {
                                return e && e.data && e.data.title && e.data.body && e.data.specifics && e.data.specifics.sender_name ? e.data.title + " " + e.data.body + ", sender " + e.data.specifics.sender_name : null
                            }(e),
                            buttons: t
                        }
                    }(e), i.showModalWithTemplates("modal-new-message", e, "New Message")
                }
                return {
                    handleEvent: function(e, t) {
                        ! function(e) {
                            e && e.data && e.data.specifics && (e.data.specifics = angular.fromJson(e.data.specifics))
                        }(e), t ? p(e) : k(e)
                    }
                }
            }
        }]
    }).call(exports, t(22))
}, function(e, exports, t) {
    "use strict";
    (function($) {
        Object.defineProperty(exports, "__esModule", {
            value: !0
        });
        var e, n = t(10),
            i = (e = n) && e.__esModule ? e : {
                default: e
            };
        exports.default = ["deviceMarginConstants", "$rootScope", "userService", "modalDefaultService", "configService", "calloutService", "windowWidthService", "menuService", "$state", "$log", "routeClassService", "$stateParams", "navigationService", function(e, t, n, a, s, r, o, l, c, d, u, _, f) {
            "ngInject";
            var v = -1,
                m = new Audio("/sound/notification_sound.mp3");
            return function() {
                var h = {
                    title: "Cancel",
                    classes: "_gray _fill _small _half-width",
                    action: function() {
                        t.$emit("hideModal")
                    }
                };

                function p() {
                    t.$emit("hideModal", {
                        closeAllModals: !0
                    })
                }

                function g() {
                    return "employeecallout.list" === u.fullStateName
                }

                function b() {
                    return "sent" === f.currentTab
                }

                function S(e) {
                    g() ? function(e) {
                        b() ? M() : k(e)
                    }(e) : y(e)
                }

                function y(i) {
                    if (p(), o.windowWidth >= e.MOBILE_MARGIN) {
                        var a = [l.eventsName.MENU_IN, l.eventsName.MENU_HIDE, l.eventsName.MENU_EMPTY],
                            r = [function() {
                                u.isMenuIn = !0
                            }, function() {
                                $(".student__back").removeClass("_active")
                            }, function() {
                                c.transitionTo("employeecallout.list", {}, {
                                    notify: !1
                                }), t.$emit("setFirstAuthInFalse"), l.menu = null
                            }];
                        s.config.isMenuCenterStates.indexOf(u.fullStateName) !== v && (a.shift(), r.shift()), l.setEvents(a, [], r)
                    } else l.logo = n.user.logo, l.menu = l.availableMenu.personal_menu.mainMenu, c.transitionTo("employeecallout.list", {}, {
                        notify: !1
                    })
                }

                function k(e) {
                    p();
                    var t, n = (t = e.data.specifics) ? t.callout_id : (d.error("Specifics data not define"), null);
                    r.addNewReceivedCallout(n)
                }

                function M() {
                    c.transitionTo(c.$current, (0, i.default)({}, _, {
                        page: "received"
                    }), {
                        notify: !1
                    }).then(function() {
                        f.currentTab = "received"
                    }), p()
                }

                function w(e) {
                    return e ? {
                        title: b() ? "Go to callout tab" : "Refresh Callout",
                        classes: "_green _fill _small _half-width",
                        action: b() ? M : k
                    } : {
                        title: "Go To Callouts",
                        classes: "_green _fill _small _half-width",
                        action: y
                    }
                }

                function D(e) {
                    e = function(e) {
                        var t = [h],
                            n = g();
                        return t.push(w(n)), {
                            event: e,
                            body: function(e) {
                                return e && e.data && e.data.title && e.data.body && e.data.specifics && e.data.specifics.sender_name ? e.data.title + " " + e.data.body + ", sender " + e.data.specifics.sender_name : null
                            }(e),
                            buttons: t
                        }
                    }(e), a.showModalWithTemplates("modal-new-message", e, "New Callout")
                }
                return {
                    handleEvent: function(e, t) {
                        ! function(e) {
                            e && e.data && e.data.specifics && (e.data.specifics = angular.fromJson(e.data.specifics))
                        }(e), e.data.specifics.sound && !t && m && m.play(), t ? S(e) : D(e)
                    }
                }
            }
        }]
    }).call(exports, t(22))
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), exports.default = function() {
        "ngInject";
        var e = new Audio("/sound/notification_sound.mp3");
        return function() {
            return {
                handleEvent: function(t, n) {
                    e && e.play()
                }
            }
        }
    }
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), exports.default = ["$rootScope", "modalDefaultService", function(e, t) {
        "ngInject";
        return function() {
            var n = {
                title: "OK",
                classes: "_gray _fill _small _half-width",
                action: function() {
                    e.$emit("hideModal")
                }
            };
            return {
                handleEvent: function(e, i) {
                    ! function(e) {
                        e && e.data && e.data.specifics && (e.data.specifics = angular.fromJson(e.data.specifics))
                    }(e), e = function(e) {
                        var t = [n];
                        return {
                            event: e,
                            body: function(e) {
                                return e && e.data && e.data.body ? e.data.body : null
                            }(e),
                            buttons: t
                        }
                    }(e), t.showModalWithTemplates("modal-new-message", e, "Employee Attending")
                }
            }
        }
    }]
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), exports.default = ["CalloutNewHandlerFactory", "CalloutAttendingHandlerFactory", "CalloutSoundHandlerFactory", "modalDefaultService", function(e, t, n, i) {
        "ngInject";
        return function() {
            var a = {
                "employeecallout.new": new e,
                "employeecallout.attending": new t,
                "employeecallout.sound": new n
            };
            return {
                handleEvent: function(e, t) {
                    var n, s = (n = e.data.notification_type, a[n]);
                    s ? s.handleEvent(e, t) : i.showModalWithTemplates("modal-debug", e.data, "No handler for callout payload")
                }
            }
        }
    }]
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), exports.default = ["$state", "$rootScope", "modalDefaultService", "educationalsService", "loginService", "userService", function(e, t, n, i, a, s) {
        "ngInject";
        var r = -1;
        return function() {
            var o = {
                title: "Cancel",
                classes: "_gray _fill _small _half-width",
                action: function() {
                    t.$emit("hideModal")
                }
            };

            function l() {
                t.$emit("hideModal", {
                    closeAllModals: !0
                })
            }

            function c(e) {
                return e && e.title && e.body ? e.title + " " + e.body : null
            }

            function d(e) {
                a.loginToCurrentSchool(e)
            }

            function u(e, t) {
                return e.username === t.recipient_username && parseInt(e.schoolId, 10) === parseInt(t.establishment_id, 10) && e.serverUrl.indexOf(t.api_hostname) !== r
            }

            function _(e) {
                for (var t = i.educationals, n = 0; n < t.length; n++) {
                    var a = t[n];
                    if (u(a, e)) return a
                }
                return null
            }

            function f(t) {
                var n = _(t.data);
                n && (a.skipRestoreService = !0, d(n)), l(), e.transitionTo("login")
            }

            function v(e) {
                var t = [o, {
                    title: "Logout",
                    classes: "_red _fill _small _half-width",
                    action: f
                }];
                return {
                    event: e,
                    body: c(e.data),
                    buttons: t
                }
            }

            function m(e) {
                var t = _(e.data);
                t && d(t), l()
            }

            function h(e) {
                var t = [o, {
                    title: "Login",
                    classes: "_green _fill _small _half-width",
                    action: m
                }];
                return {
                    event: e,
                    body: c(e.data),
                    buttons: t
                }
            }

            function p(e) {
                e = function(e) {
                    return s.isAuthorized() ? v(e) : h(e)
                }(e), n.showModalWithTemplates("modal-default-dialog", e, "New Message")
            }
            return {
                handleEvent: function(e, t) {
                    return t ? function(e) {
                        s.isAuthorized() ? f(e) : m(e)
                    }(e) : p(e)
                }
            }
        }
    }]
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = R(t(0)),
        i = R(t(3623)),
        a = R(t(3625)),
        s = R(t(3627)),
        r = R(t(3629)),
        o = R(t(3631)),
        l = R(t(3633)),
        c = R(t(3635)),
        d = R(t(3637)),
        u = R(t(3639)),
        _ = R(t(3641)),
        f = R(t(3643)),
        v = R(t(3645)),
        m = R(t(3647)),
        h = R(t(3649)),
        p = R(t(3651)),
        g = R(t(3654)),
        b = R(t(3656)),
        S = R(t(3658)),
        y = R(t(3660)),
        k = R(t(3663)),
        M = R(t(3665)),
        w = R(t(3667)),
        D = R(t(3670)),
        T = R(t(3672)),
        C = R(t(3674)),
        P = R(t(3676)),
        L = R(t(3678)),
        x = R(t(3680)),
        j = R(t(3682)),
        I = R(t(3684)),
        A = R(t(3688)),
        E = R(t(3690)),
        O = R(t(3693)),
        F = R(t(3695)),
        N = R(t(3697));

    function R(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var Y = n.default.module("app.shared", [i.default, a.default, s.default, r.default, o.default, l.default, c.default, d.default, u.default, _.default, f.default, v.default, m.default, h.default, p.default, g.default, b.default, S.default, y.default, k.default, M.default, w.default, D.default, T.default, C.default, P.default, L.default, x.default, j.default, I.default, A.default, E.default, O.default, F.default, N.default]).name;
    exports.default = Y
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3624));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("angular-click-outside", []).directive({
        clickOutside: i.default
    }).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), exports.default = ["$document", "$parse", "$timeout", function(e, t, n) {
        "ngInject";
        return function(i, a, s) {
            n(function() {
                var n = angular.isDefined(s.outsideIfNot) ? s.outsideIfNot.split(/[ ,]+/) : [];

                function r(e) {
                    var r = void 0,
                        o = void 0,
                        l = void 0,
                        c = void 0,
                        d = void 0,
                        u = void 0;
                    if (!angular.element(a).hasClass("ng-hide") && e && e.target) {
                        for (o = e.target; o; o = o.parentNode)
                            if (c = o.id, d = o.className, u = n.length, d && angular.isDefined(d.baseVal) && (d = d.baseVal), d || c)
                                for (r = 0; r < u; r++)
                                    if (l = new RegExp("\\b" + n[r] + "\\b"), angular.isDefined(c) && c === n[r] || d && l.test(d)) return;
                        i.$apply(function() {
                            t(s.clickOutside)(i)
                        })
                    }
                }
                angular.isDefined(s.id) && n.push(s.id);
                var o = function() {
                    return "ontouchstart" in window || navigator.maxTouchPoints
                };
                o() && e.on("touchstart", r), e.on("click", r), i.$on("$destroy", function() {
                    o() && e.off("touchstart", r), e.off("click", r)
                })
            })
        }
    }]
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3626));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("assessment-subtable", []).directive({
        assessmentSubtable: i.default
    }).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    (function($) {
        Object.defineProperty(exports, "__esModule", {
            value: !0
        }), exports.default = function() {
            "ngInject";
            return {
                restrict: "A",
                link: function(e, t) {
                    $(t).on("click.openSubtable", function() {
                        var e = angular.element(t).closest(".b-tabs__tbody");
                        t.html("+" === t.html() ? "-" : "+"), e.find(".b-tabs__subtable").toggleClass("_open")
                    }), e.$on("$destroy", function() {
                        $(t).off("click.openSubtable")
                    })
                }
            }
        }
    }).call(exports, t(22))
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3628));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("binded-photo", []).directive({
        bindedPhoto: i.default
    }).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    (function($) {
        Object.defineProperty(exports, "__esModule", {
            value: !0
        }), exports.default = ["$timeout", function(e) {
            "ngInject";
            return {
                link: function(t, n, i) {
                    var a = t.$watch(function() {
                        return t.photoUrl
                    }, function(i) {
                        i && (e(function() {
                            $(n).css({
                                backgroundImage: "url(" + (i || "") + ")"
                            })
                        }, 0), t.photoRepeat || ($(n).removeAttr("binded-photo"), e(function() {
                            return t.$destroy()
                        }, 0, !1), a()))
                    });
                    t.$on("$destroy", function() {
                        t.photoUrl = null, a()
                    })
                },
                scope: {
                    photoRepeat: "<",
                    photoUrl: "@"
                },
                restrict: "A"
            }
        }]
    }).call(exports, t(22))
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3630));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("blank-link", []).directive({
        blankLink: i.default
    }).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), exports.default = ["$timeout", function(e) {
        "ngInject";
        return {
            link: function(t, n) {
                e(function() {
                    var e = n.find(".note-insert .btn");
                    e.on("click.openLinkModal", function() {
                        document.querySelector(".note-editor .link-dialog .checkbox input").checked = !0
                    }), t.$on("$destroy", function() {
                        return e.off("click.openLinkModal")
                    })
                }, 0)
            },
            restrict: "A"
        }
    }]
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3632));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("change-limit-on-scroll", []).directive({
        changeLimitOnScroll: i.default
    }).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(156),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    exports.default = ["$rootScope", "$window", "$timeout", "deviceMarginConstants", function(e, t, n, i) {
        "ngInject";
        return {
            link: function(s, r) {
                var o = !0,
                    l = 200,
                    c = parseInt(1e4 * Math.random(), 10),
                    d = s.config,
                    u = d.increaseBy;

                function _(e) {
                    var t = angular.element(this);
                    o && (e ? this.scrollHeight : document.body.scrollHeight) - l < t.scrollTop() + t.innerHeight() && s.counter < s.limit ? (o = !1, n(function() {
                        t = null, o = !0, s.counter += u, n(s.recalculateItems, 0)
                    }, 300)) : t = null
                }

                function f() {
                    r.find("[scrollable-block]").off("scroll.limitIncrease").on("scroll.limitIncrease", function(e) {
                        (d.elementScroll || t.innerWidth > i.MOBILE_MARGIN || d.isMobile) && (0, a.default)(_, this, [!0])
                    }), angular.element(t).off("scroll.limitIncrease" + c).on("scroll.limitIncrease" + c, function() {
                        !d.elementScroll && t.innerWidth <= i.MOBILE_MARGIN && !d.isMobile && (0, a.default)(_, this, [!1])
                    })
                }
                s.counter = d.startCount;
                var v = e.$on("initScrollArea", function() {
                    f()
                });
                f(), s.$on("$destroy", function() {
                    angular.element(t).off("scroll.limitIncrease" + c), r.find("[scrollable-block]").off("scroll.limitIncrease"), r.remove(), v()
                })
            },
            scope: {
                config: "<",
                counter: "=",
                recalculateItems: "&",
                limit: "<"
            }
        }
    }]
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3634));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("change-viewport", []).directive({
        changeViewport: i.default
    }).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), exports.default = function() {
        "ngInject";
        return {
            restrict: "A",
            link: function(e) {
                var t = document.querySelector("meta[name=viewport]");
                t.setAttribute("content", "viewport-fit=cover, width=device-width, minimal-ui"), e.$on("$destroy", function() {
                    return t.setAttribute("content", "viewport-fit=cover, width=device-width, initial-scale=1, minimal-ui, user-scalable=no")
                })
            }
        }
    }
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3636));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("click-outside", []).directive({
        clickOutside: i.default
    }).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    (function($) {
        Object.defineProperty(exports, "__esModule", {
            value: !0
        }), exports.default = function() {
            "ngInject";
            return {
                link: function(e, t) {
                    e.isPopupVisible = !1, e.toggle = function() {
                        e.isPopupVisible = !e.isPopupVisible
                    }, $(document).bind("click", function(n) {
                        t.find(n.target).length > 0 || e.$apply(function() {
                            e.isPopupVisible = !1
                        })
                    })
                },
                restrict: "A"
            }
        }
    }).call(exports, t(22))
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3638));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("custom-fixed-column", []).directive({
        customFixedColumn: i.default
    }).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), exports.default = ["$timeout", "$rootScope", "$window", function(e, t, n) {
        "ngInject";
        var i = function() {
                e(function() {
                    var e = angular.element(".l-marksheet__table").find("tr"),
                        t = angular.element(".l-marksheet__fixed-col");
                    t.html(""), e.each(function(e, n) {
                        var i = angular.element(document.createElement("div")),
                            a = angular.element(n).find("td:first").clone();
                        i.height(n.offsetHeight), t.append(i.html(a.html()))
                    })
                })
            },
            a = function(e) {
                var t = angular.element(e).find("tr"),
                    n = angular.element(".l-marksheet__fixed-col div");
                t.each(function(e, t) {
                    var i = angular.element(t).find("td:first").get(0);
                    n[e].style.height = t.getBoundingClientRect().height + "px", n[e].style.width = i.offsetWidth + "px"
                })
            };
        return {
            scope: {
                refreshColumn: "="
            },
            link: function(s, r) {
                angular.element(document).ready(function() {
                    s.refreshColumn = i;
                    var o = angular.element(r),
                        l = angular.element(".l-marksheet__content"),
                        c = o.find("tr"),
                        d = angular.element(document.createElement("div"));
                    d.addClass("l-marksheet__fixed-col"), d.width(angular.element(c[0]).find("td:first").outerWidth()), l.on("scroll.detectHorizontalScroll", function() {
                        var e = l.scrollLeft();
                        e > 0 ? (d.addClass("_show"), d.css({
                            left: e + "px"
                        })) : (d.css({
                            left: "0"
                        }), d.removeClass("_show"))
                    }), c.each(function(e, t) {
                        var n = angular.element(document.createElement("div")),
                            i = angular.element(t).find("td:first").clone();
                        n.height(t.offsetHeight), d.append(n.html(i.html()))
                    }), l.append(d), angular.element(n).on("resize", function() {
                        e(function() {
                            return a(r)
                        })
                    });
                    var u = t.$on("changeColumnSizes", function() {
                        return e(function() {
                            return requestAnimationFrame(function() {
                                return a(r)
                            })
                        })
                    });
                    s.$on("$destroy", function() {
                        l.off("scroll.detectHorizontalScroll"), u()
                    })
                })
            }
        }
    }]
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3640));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("custom-fixed-header", []).directive({
        customFixedHeader: i.default
    }).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    (function($) {
        Object.defineProperty(exports, "__esModule", {
            value: !0
        }), exports.default = ["$compile", "$timeout", "$rootScope", function(e, t, n) {
            "ngInject";
            var i = function(t, n, i) {
                t.each(function(t, a) {
                    var s = angular.element(document.createElement("div")),
                        r = angular.element(a);
                    s.attr("ng-click", r.attr("ng-click") && r.attr("ng-click").replace("$index", t - 1)), s.css({
                        width: r.outerWidth(),
                        minWidth: r.outerWidth()
                    }), s = e(s)(i._$scope), angular.element(s).on("click.toggleSorting", function() {
                        $(s).toggleClass("_reverse")
                    }), n.append(angular.element(s).html(r.html()))
                })
            };
            return {
                require: "^lMarksheet",
                link: function(e, a, s, r) {
                    angular.element(document).ready(function() {
                        var s = $(a),
                            o = angular.element(".l-marksheet__content"),
                            l = s.find("tr:first"),
                            c = angular.element(l.find("td")),
                            d = angular.element(document.createElement("div")),
                            u = angular.element(s.find("textarea"));
                        d.addClass("l-marksheet__fixed-row"), d.height(l.offsetHeight), u.on("mouseup.resizeFixedHeader", function() {
                            d.html(""), i(c, d, r)
                        }), o.on("scroll.detectVerticalScroll", function() {
                            var e = o.scrollTop();
                            e > 0 ? (d.addClass("_show"), d.css({
                                top: e + "px"
                            })) : (d.css({
                                top: "0"
                            }), d.removeClass("_show"))
                        }), i(c, d, r), o.append(d);
                        var _ = n.$on("changeHeaderSizes", function() {
                            t(function() {
                                return requestAnimationFrame(function() {
                                    return function(e, t) {
                                        var n = t.find("div");
                                        e.each(function(e, t) {
                                            n[e].style.height = t.offsetHeight + "px", n[e].style.width = t.offsetWidth + "px", n[e].style.minWidth = t.offsetWidth + "px"
                                        })
                                    }(c, d)
                                })
                            })
                        });
                        e.$on("$destroy", function() {
                            o.off("scroll.detectVerticalScroll"), u.off("mouseup.resizeFixedHeader"), d.each(function(e, t) {
                                angular.element(t).off("click.toggleSorting")
                            }), _()
                        })
                    })
                }
            }
        }]
    }).call(exports, t(22))
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3642));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("custom-simple-fixed-column", []).directive({
        customSimpleFixedColumn: i.default
    }).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), exports.default = ["$timeout", "$window", function(e, t) {
        "ngInject";
        var n = this,
            i = function(n) {
                e(function() {
                    var e = n.find("._table"),
                        i = n.find("._table-wrapper"),
                        a = e.find("tr"),
                        s = n.find("._fixed-col");
                    s.html(""), s.width(angular.element(a[0]).find("th:first").outerWidth()), a.each(function(e, t) {
                        var a = angular.element(document.createElement("div")),
                            r = null;
                        r = angular.element(t).find("td:first").length ? angular.element(t).find("td:first").clone() : angular.element(t).find("th:first").clone(), a.html(r.html());
                        var o = angular.element(document.createElement("div")).addClass("_fixed-col-item").height(t.offsetHeight).append(a);
                        s.append(o), i.on("scroll.detectHorizontalScroll", function() {
                            var e = i.scrollLeft();
                            s = n.find("._fixed-col-v2"), e > 0 ? s.each(function(t) {
                                this.style.left = e + "px", this.style.height = this.parentElement.offsetHeight + "px", this.style.width = "100px", this.style.position = "relative", this.style.background = "#ebf7ff", this.style.boxShadow = "5px 5px 30px 0 rgba(0,0,0,0.3)", this.parentElement.style.position = "relative"
                            }) : s.each(function(e) {
                                this.style.left = "0", this.style.height = "auto", this.style.position = "static", this.parentElement.style.position = "static", this.style.boxShadow = "none", this.style.width = "auto"
                            })
                        })
                    }), i.append(s), angular.element(t).on("resize.recalcFixedCol", function() {
                        var e = angular.element("._fixed-col-item");
                        s.width(angular.element(a[0]).find("th:first").outerWidth() + 1), a.each(function(t, n) {
                            e.eq(t).height(n.offsetHeight)
                        })
                    })
                })
            };
        return {
            scope: {
                regenerateColumn: "="
            },
            link: function(e, a) {
                angular.element(document).ready(function() {
                    var s = angular.element(document.querySelector("._table-wrapper")),
                        r = angular.element(document.createElement("div"));
                    r.addClass("_fixed-col"), s.append(r), e.regenerateColumn = i.bind(n, a), s.on("scroll.detectHorizontalScroll", function(e) {
                        var t = e.find("._table-wrapper").scrollLeft(),
                            n = e.find("._fixed-row-const"),
                            i = e.find("._fixed-col");
                        t > 0 ? (i.addClass("_show"), i.css({
                            left: t + "px"
                        }), n.length && (n.addClass("_show"), n.css({
                            left: t + "px"
                        }))) : (i.css({
                            left: "0"
                        }), i.removeClass("_show"), n.length && (n.css({
                            left: "0"
                        }), e.find("._fixed-row").hasClass("_show") || n.removeClass("_show")))
                    }.bind(n, a)), angular.element(t).on("resize.recalcFixedCol", function(e) {
                        var t = e.find("._fixed-col-item"),
                            n = e.find("._fixed-col"),
                            i = e.find("._table").find("tr");
                        n.width(angular.element(i[0]).find("th:first").outerWidth() + 1), i.each(function(e, n) {
                            t.eq(e).height(n.offsetHeight)
                        })
                    }.bind(n, a)), i(a), e.$on("$destroy", function() {
                        s.off("scroll.detectHorizontalScroll"), angular.element(t).off("resize.recalcFixedCol")
                    })
                })
            }
        }
    }]
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3644));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("custom-simple-fixed-header", []).directive({
        customSimpleFixedHeader: i.default
    }).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    (function($) {
        Object.defineProperty(exports, "__esModule", {
            value: !0
        }), exports.default = ["$timeout", "$window", function(e, t) {
            "ngInject";
            var n = this,
                i = function(t) {
                    e(function() {
                        var e = t.parent("._table-wrapper"),
                            n = t.find("tr:first"),
                            i = angular.element(n.find("th")),
                            a = angular.element(document.createElement("div")),
                            s = angular.element(document.createElement("div")),
                            r = 0;
                        e.find("._fixed-row").remove(), e.find("._fixed-row-const").remove(), a.addClass("_fixed-row"), a.height(n.offsetHeight), i.each(function(e, t) {
                            var n = angular.element(document.createElement("div")),
                                o = angular.element(t);
                            if (r += i.eq(e).outerWidth(), n.css({
                                    width: o.outerWidth(),
                                    minWidth: o.outerWidth()
                                }).html(o.html()), 0 === e) {
                                var l = n.clone();
                                l.css({
                                    width: o.outerWidth() + 1,
                                    minWidth: o.outerWidth() + 1
                                }), s.addClass("_fixed-row-const").css({
                                    width: o.outerWidth() + 1
                                }).append(l)
                            }
                            a.css({
                                minWidth: r
                            }), a.append(n)
                        }), e.append(a), s.find("div").css({
                            height: a.outerHeight()
                        }), e.append(s)
                    })
                };
            return {
                scope: {
                    regenerateHeader: "="
                },
                link: function(e, a) {
                    angular.element(document).ready(function() {
                        var s = $(a),
                            r = s.parent("._table-wrapper");
                        r.on("scroll.detectVerticalScroll", function(e) {
                            var t = e.parent("._table-wrapper"),
                                n = t.scrollTop(),
                                i = t.find("._fixed-row"),
                                a = t.find("._fixed-row-const");
                            n > 0 ? (i.addClass("_show"), i.css({
                                top: n + "px"
                            }), a.addClass("_show"), a.css({
                                top: n + "px"
                            })) : (i.css({
                                top: "0"
                            }), i.removeClass("_show"), a.css({
                                top: "0"
                            }), a.removeClass("_show"))
                        }.bind(n, s)), angular.element(t).on("resize.recalcFixedRow", function(e) {
                            var t = e.parent("._table-wrapper"),
                                n = e.find("tr:first"),
                                i = angular.element(n.find("th")),
                                a = t.find("._fixed-row"),
                                s = angular.element(a.children("div")),
                                r = t.find("._fixed-row-const"),
                                o = 0;
                            s.each(function(e, t) {
                                var n = angular.element(t),
                                    a = i.eq(e);
                                o += a.outerWidth(), n.css({
                                    width: a.outerWidth(),
                                    minWidth: a.outerWidth()
                                }), 0 === e && (r.children().css({
                                    width: a.outerWidth() + 1,
                                    minWidth: a.outerWidth() + 1
                                }), r.css({
                                    width: a.outerWidth() + 1
                                }))
                            }), a.css({
                                minWidth: o
                            })
                        }.bind(n, s)), i(s), e.regenerateHeader = i.bind(n, s), e.$on("$destroy", function() {
                            r.off("scroll.detectVerticalScroll"), angular.element(t).off("resize.recalcFixedRow"), r.find("._fixed-row").each(function(e, t) {
                                angular.element(t).off("click.toggleSorting")
                            })
                        })
                    })
                }
            }
        }]
    }).call(exports, t(22))
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3646));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("draggable", []).directive({
        draggable: i.default
    }).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), exports.default = ["windowWidthService", "deviceMarginConstants", "$timeout", function(e, t, n) {
        "ngInject";
        return {
            scope: {
                draggableConfig: "<"
            },
            link: function(i, a) {
                var s = !1,
                    r = a,
                    o = r.find(i.draggableConfig.leftBlock),
                    l = angular.element(i.draggableConfig.buttonBlock),
                    c = r.outerWidth(),
                    d = .666666666 * c,
                    u = c + d,
                    _ = e,
                    f = t.MOBILE_MARGIN,
                    v = _.windowWidth > t.MOBILE_MARGIN;

                function m() {
                    TweenMax.to(r, .5, {
                        x: -1 * d
                    }, "start_tweek"), _.windowWidth > t.TABLET_MARGIN ? TweenMax.to(o, .5, {
                        x: c / i.draggableConfig.leftBounce
                    }, "start_tweek") : TweenMax.to(o, .5, {
                        x: c / i.draggableConfig.leftBounceTablet
                    }, "start_tweek"), s = !0, n(function() {
                        l && l.removeClass("_events-none")
                    }, .5)
                }

                function h() {
                    TweenMax.to(r, .5, {
                        x: 0,
                        ease: Power1.easeOut
                    }), TweenMax.to(o, .5, {
                        x: 0
                    }, "start_tweek"), s = !1, l && l.addClass("_events-none")
                }
                Draggable.create(r, {
                    edgeResistance: 1,
                    bounds: {
                        left: -1 * d,
                        right: 0,
                        width: u
                    },
                    type: "x",
                    throwProps: !0,
                    onClick: function() {
                        !s && n(function() {
                            s ? h() : m()
                        }, 0)
                    },
                    onPress: function() {
                        c = r.outerWidth(), d = _.windowWidth > t.TABLET_MARGIN ? c * i.draggableConfig.leftShiftDesktop : c * i.draggableConfig.leftShiftTablet, u = c + d, this.applyBounds({
                            left: -1 * d,
                            right: 0,
                            width: u
                        })
                    },
                    onRelease: function() {
                        i.$watch(function() {
                            return _.windowWidth
                        }, function() {
                            h()
                        })
                    },
                    onDrag: function() {
                        TweenLite.set(r, {
                            "z-index": 2
                        }), this.x < 0 ? _.windowWidth > t.TABLET_MARGIN ? TweenLite.set(o, {
                            x: -this.x * i.draggableConfig.leftBlockResistance
                        }) : TweenLite.set(o, {
                            x: -this.x * i.draggableConfig.leftBlockResistanceTablet
                        }) : TweenLite.set(o, {
                            x: 0
                        })
                    },
                    onDragEnd: function() {
                        TweenLite.set(r, {
                            "z-index": 2
                        }), this.x < -100 && !s ? m() : h()
                    }
                }), TweenLite.set(r, {
                    x: 0
                });
                var p = i.$watch(function() {
                    return _.windowWidth
                }, function(e) {
                    e <= f ? (Draggable.get(r).kill(), v = !1) : e > f && !v && (Draggable.get(r).enable(), v = !0)
                });
                i.$on("$destroy", function() {
                    p(), Draggable.get(r) && Draggable.get(r).disable()
                })
            }
        }
    }]
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3648));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("exam-timeout", []).directive({
        examTimeout: i.default
    }).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), exports.default = function() {
        "ngInject";
        return {
            link: function(e, t, n) {
                var i = angular.fromJson(n.nextExam),
                    a = new Date,
                    s = new Date(i.date),
                    r = ((new Date(s.getFullYear() + " " + (s.getMonth() + 1) + " " + s.getDate() + " " + i.time) - a) / 6e4).toFixed(0),
                    o = {};
                o.days = r / 1440, o.hours = o.days % o.days.toFixed(0) * 24
            }
        }
    }
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3650));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("float-label", []).directive({
        floatLabel: i.default
    }).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), exports.default = function() {
        "ngInject";
        return {
            link: function(e, t, n, i) {
                i && !n.noFloat && (i.label = t, e.$on("$destroy", function() {
                    i.label = null
                }))
            },
            restrict: "A",
            require: "^?bInputContainer"
        }
    }
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(0)),
        i = s(t(3652)),
        a = s(t(3653));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = n.default.module("input-parser", []).directive({
        integer: i.default
    }).directive({
        float: a.default
    }).name;
    exports.default = r
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), exports.default = function() {
        "ngInject";
        return {
            require: "ngModel",
            restrict: "A",
            link: function(e, t, n, i) {
                t.on("blur", function(e) {
                    ! function(e) {
                        if (e) {
                            var t = void 0;
                            return (t = "-" === e[0] ? "-" + e.replace(/\D/g, "") : e.replace(/\D/g, "")) === e && function(e, t, n) {
                                if (t && n) return n >= e && e >= t;
                                if (t) return e >= t;
                                if (n) return e <= n;
                                return !0
                            }(parseInt(e, 10), parseInt(n.minValue, 10), parseInt(n.maxValue, 10)) || (i.$setViewValue(""), i.$render()), "" === t ? "" : parseInt(t, 10)
                        }
                    }(e.target.value)
                })
            }
        }
    }
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), exports.default = function() {
        "ngInject";
        return {
            require: "ngModel",
            restrict: "A",
            link: function(e, t, n, i) {
                t.on("blur", function(e) {
                    ! function(e) {
                        if (e) {
                            var t = e.replace(/,/g, ".").match(/\d+\.?(\d+)?/, ""),
                                a = t ? t[0] : "";
                            return a === e && function(e, t, n) {
                                if (t && n) return n >= e && e >= t;
                                if (t) return e >= t;
                                if (n) return e <= n;
                                return !0
                            }(parseFloat(e), parseFloat(n.minValue), parseFloat(n.maxValue)) || (i.$setViewValue(""), i.$render()), "" === a ? "" : parseFloat(a)
                        }
                    }(e.target.value)
                })
            }
        }
    }
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3655));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("keyboard-detect", []).directive({
        keyboardDetect: i.default
    }).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), exports.default = ["$window", "deviceMarginConstants", "DOMElementsService", "windowWidthService", function(e, t, n, i) {
        "ngInject";
        return function(a) {
            a.$on("$viewContentLoaded", function() {
                var s = n.HTML,
                    r = angular.element("input"),
                    o = null;
                devicejs && devicejs.desktop && !devicejs.desktop() && (o = a.$watch(function() {
                    return e.orientation
                }, function(e) {
                    i.windowWidth < t.TABLET_MARGIN && (90 === e || -90 === e ? (s.removeClass("_keyboard-showing"), r.blur(), s.removeClass("_portrait").addClass("_landscape")) : s.removeClass("_landscape").addClass("_portrait"), r.focus(function() {
                        s.addClass("_keyboard-showing"), s.removeClass("_landscape").addClass("_portrait")
                    }), r.blur(function() {
                        s.removeClass("_keyboard-showing")
                    }))
                })), a.$on("$destroy", o)
            })
        }
    }]
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3657));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("lazy-photo", []).directive({
        lazyPhoto: i.default
    }).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(11)),
        i = a(t(156));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    exports.default = ["$window", "$timeout", "deviceMarginConstants", "$q", function(e, t, a, s) {
        "ngInject";
        var r = angular.element(e),
            o = {
                getPhotoCallback: null,
                getDefaultPhotoCallback: null,
                limit: 1,
                prefix: "",
                reserveScroll: 0,
                checkRole: !1,
                isLoadAll: !1,
                timeoutOnStart: 500,
                loadTimeout: 500,
                changeObjectTimeout: 0,
                hashPrefix: "hashPhoto"
            };

        function l() {
            return t(function() {
                return !0
            }, 0)
        }

        function c(e) {
            return e.isCanDownload = !0, !0
        }

        function d(e) {
            return t(function() {
                return c(e)
            }, e.config.loadTimeout, !1)
        }

        function u(e, n) {
            return t(h, n.config.timeout, !1, e, n)
        }

        function _(e, t) {
            var n, o, l = (n = t.$element, o = t.config.reserveScroll, r.width() <= a.MOBILE_MARGIN ? r.height() + r.scrollTop() + o : n.offset().top + n.height() + o);
            if (!1 === document.documentElement.contains(t.$element[0])) return e = null, t = null, s.reject();
            t.config.reserveScroll;
            var d = function(e, t) {
                return (0, i.default)(Array.prototype.filter, e, [function(e) {
                    return (e = angular.element(e)).offset().top < t
                }])
            }(t.$list, l);
            return function(e) {
                if (!e || 1 === e.length || !e.length) return !1;
                var t = angular.element(e[0]).offset().top,
                    n = angular.element(e[0]).offset().left;
                return e.filter(function(e) {
                    var i = (e = angular.element(e)).offset();
                    return t === i.top && n === i.left
                }).length === e.length
            }(d) ? (c(t), u(e, t).then(s.reject)) : {
                visibleElements: d,
                self: t
            }
        }

        function f(e) {
            var t = e.self,
                n = e.visibleElements;
            return {
                self: t,
                elements: function(e) {
                    return e && e.filter(function(e) {
                        return e && (!e.photos || !e.photos.length)
                    })
                }(function(e, t) {
                    return t.map(function(t) {
                        var n = angular.element(t).attr("data-hash"),
                            i = n.split(":")[0];
                        return function(e, t, n) {
                            for (var i = 0; i < e.length; i++) {
                                var a = e[i];
                                if (a[t] === n) return a
                            }
                        }(e, i, n)
                    })
                }(t.elements, n))
            }
        }

        function v(e) {
            var t = e.self,
                n = e.elements,
                i = t.config.limit;
            return n.length ? {
                elements: n,
                self: t,
                roles: function(e, t, n) {
                    if (!e) return {
                        ids: p(t)
                    };
                    for (var i = {}, a = 0; a < t.length; a++) {
                        var s = t[a];
                        if (s.roles)
                            for (var r = s.roles.length > n ? n : s.roles.length, o = 0; o < r; o++) {
                                var l = s.roles[o],
                                    c = s.ids[o];
                                c && (i[l] = i[l] || [], i[l].push(c))
                            }
                    }
                    return i
                }(t.config.checkRole, n, i)
            } : s.reject()
        }

        function m(e) {
            var t = e.self,
                n = e.elements,
                i = e.roles;
            return t.config.checkRole ? function(e, t, n) {
                var i = s.resolve(),
                    a = function(a) {
                        n.hasOwnProperty(a) && (i = i.then(function() {
                            return P(e, t, n[a], a)
                        }))
                    };
                for (var r in n) a(r);
                return i
            }(t, n, i) : P(t, n, i.ids)
        }

        function h(e, t) {
            return function(e) {
                return function(e) {
                    var t = e.config;
                    return e.elements || t.getPhotoCallback && t.getDefaultPhotoCallback
                }(e)
            }(t) ? function(e) {
                return e.isCanDownload
            }(t) ? (function(e) {
                e.isCanDownload = !1
            }(t), s.resolve().then(function() {
                return _(e, t)
            }).then(f).then(v).then(m).then(l).then(function() {
                return d(t)
            }).then(function() {
                return h(e, t)
            }).catch(function() {
                return d(t)
            })) : void 0 : u(e, t)
        }

        function p(e) {
            if (!e) return [];
            var t = [];
            return e.forEach(function(e) {
                if (e) return angular.isString(e.ids) ? t.push(e.ids) : t.push.apply(t, (0, n.default)(e.ids))
            }), t
        }

        function g(e, t, n, i) {
            t && t.forEach(function(t) {
                t.photos = t.photos || [], t.photos.length < e && ! function(e, t) {
                    return e && e.filter(function(e) {
                        return e && e.id === t
                    }).length
                }(t.photos, i) && (t.photo = n, t.photos.push({
                    photo: n,
                    id: i
                }))
            })
        }

        function b(e, t, n) {
            if (t) {
                var i = n.photo,
                    a = n.id;
                g(e.config.limit, t, i, a)
            }
        }

        function S(e, t) {
            return e && e.filter(function(e) {
                return e && e.ids.indexOf(t) >= 0
            })
        }

        function y(e, t) {
            for (var n = 0; n < e.length; n++) {
                var i = e[n];
                if (i && i.ids.indexOf(t) >= 0) return [i]
            }
            return null
        }

        function k(e, t) {
            var n = t.self,
                i = t.photos || [],
                a = t.elements,
                s = t.role,
                r = n.config.prefix;
            return i.forEach(function(t) {
                var i = t.id,
                    s = e(a, i);
                ! function(e, t, n, i) {
                    if (t) {
                        var a = n.photo,
                            s = n.id;
                        g(e.config.limit, t, "" + i + a, s)
                    }
                }(n, s, t, r)
            }), {
                self: n,
                photos: i,
                elements: a,
                role: s
            }
        }

        function M(e, t) {
            return e && e.filter(function(e) {
                return function(e, t) {
                    if (!e) return !1;
                    if (angular.isString(e)) return t.indexOf(e) >= 0;
                    for (var n = 0; n < e.length; n++)
                        if (t.indexOf(e[n]) >= 0) return !0;
                    return !1
                }(e && e.ids, t)
            })
        }

        function w(e, t, n, i) {
            return s.resolve().then(function() {
                return (a = {
                    self: t,
                    photos: e,
                    elements: n,
                    role: i
                }).self.config.isUniqueElements ? k(y, a) : k(S, a);
                var a
            }, 0)
        }

        function D(e) {
            var t = e.self,
                n = e.role,
                i = e.elements,
                a = e.photos,
                s = e.roleIds,
                r = p(i),
                o = a.map(function(e) {
                    return e.id
                }, 10);
            return {
                self: t,
                role: n,
                elements: i,
                ids: r.filter(function(e) {
                    return -1 === o.indexOf(e) && s.indexOf(e) >= 0
                })
            }
        }

        function T(e) {
            var t = e.elements,
                n = e.ids,
                i = e.self,
                a = e.role;
            if (n) return {
                self: i,
                role: a,
                neededPhotoElements: M(t, n),
                ids: n
            }
        }

        function C(e) {
            var t = e.self.config,
                n = e.neededPhotoElements;
            return t.isSingleElements ? function(e, t) {
                var n = t.self,
                    i = n.config.getDefaultPhotoCallback,
                    a = n.config.checkRole;
                return i && e.forEach(function(e) {
                    if (e) {
                        var t = a && e.roles[0],
                            s = e.genders && e.genders[0],
                            r = e.ids[0],
                            o = i(n.$ctrl, s, t);
                        b(n, [e], {
                            photo: o,
                            id: r
                        })
                    }
                }), !0
            }(n, e) : function(e, t) {
                var n = t.ids,
                    i = t.self,
                    a = i.config.getDefaultPhotoCallback,
                    s = i.config.checkRole;
                return a && e.forEach(function(e) {
                    e && function(e, t) {
                        if (e && t) {
                            for (var n = [], i = 0; i < t.length; i++) e.indexOf(t[i]) >= 0 && n.push(i);
                            return n
                        }
                    }(n, e.ids).forEach(function(t) {
                        var n = s && e.roles[t],
                            r = e.genders && e.genders[t],
                            o = e.ids[t],
                            l = a(i.$ctrl, r, n);
                        b(i, [e], {
                            photo: l,
                            id: o
                        })
                    })
                }), !0
            }(n, e)
        }

        function P(e, t, n, i) {
            var a = function(e) {
                    var t = [];
                    return e.forEach(function(e) {
                        -1 === t.indexOf(e) && t.push(e)
                    }), t
                }(n),
                r = M(t, a);
            return function(e, t, n) {
                var i = e.config.getPhotoCallback;
                return i ? i(e.$ctrl, t, n) : s.resolve([])
            }(e, a, i).then(function(t) {
                return w(t, e, r, i)
            }).then(function(e) {
                return (e = e || {}).roleIds = a, e
            }).then(D).then(T).then(C)
        }
        return {
            link: function(n, i) {
                var a = {
                    elements: null,
                    config: {},
                    $element: i,
                    $list: null,
                    $ctrl: n.$parent.$ctrl,
                    $scope: n,
                    isCanDownload: !0
                };
                angular.copy(o, a.config),
                    function(e, t) {
                        var n = e.$watch(function() {
                            return e.config
                        }, function(i) {
                            i && (t.config = angular.extend({}, o, i), e.$on("$destroy", n))
                        })
                    }(n, a),
                    function(e, n) {
                        var i = e.$watch(function() {
                            return e.elements
                        }, function(e) {
                            e && t(function() {
                                if (!angular.isArray(e)) {
                                    if (!e.ids) return;
                                    e = [e]
                                }
                                e = function(e, t) {
                                    return t.map(function(t, n) {
                                        return t[e] = e + ":" + n, t
                                    })
                                }(n.config.hashPrefix, e), n.elements = function(e) {
                                    return e.map(function(e) {
                                        return !e.ids && e.id && (e.ids = e.id), e
                                    })
                                }(e)
                            }, 0)
                        });
                        e.$on("$destroy", i)
                    }(n, a),
                    function(e, n, i) {
                        var a = e.$watch(function() {
                            return e.updater
                        }, function(e) {
                            e && t(function() {
                                n.$list = i.find("[photo-element]")
                            }, 0, !1)
                        });
                        e.$on("$destroy", a)
                    }(n, a, i),
                    function(n, i, a) {
                        var s = n.$watch(function() {
                            return i.elements
                        }, function(s) {
                            s ? t(function() {
                                i.$list = a.find("[photo-element]");
                                var t = h.bind(null, n, i);
                                angular.element(e).off("scroll.scrollOnElement").on("scroll.scrollOnElement", t), a.off("scroll.scrollOnElement").on("scroll.scrollOnElement", t), t(), t = null
                            }, i.config.changeObjectTimeout, !1) : (angular.element(e).off("scroll.scrollOnElement"), a.off("scroll.scrollOnElement"))
                        });
                        n.$on("$destroy", s), n.$on("$destroy", function() {
                            angular.element(e).off("scroll.scrollOnElement"), a.off("scroll.scrollOnElement")
                        })
                    }(n, a, i)
            },
            scope: {
                elements: "<",
                config: "<",
                updater: "<"
            }
        }
    }]
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3659));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("line-template", []).directive({
        lineTemplate: i.default
    }).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), exports.default = function() {
        var e = {
                keywordExpression: /<(\w+)\>/g,
                variables: null,
                source: null
            },
            t = function(e, t) {
                return e.match(t)
            },
            n = function(e, t) {
                for (var n in e = e.slice(1, -1), t)
                    if (n === e) return t[n];
                for (var i in e = e.toLowerCase(), t)
                    if (i.toLowerCase() === e) return t[i];
                return !1
            },
            i = function(e, t, i) {
                for (var a = t, s = 0; s < e.length; s++) {
                    var r = e[s],
                        o = n(r, i);
                    o && (a = a.replace(r, o))
                }
                return a
            };

        function a(e, n, a) {
            return e && n && a ? angular.isArray(n) ? function(e, n, a) {
                for (var s = [], r = 0; r < n.length; r++) {
                    var o = n[r],
                        l = t(o, e);
                    s.push(i(l, o, a))
                }
                return s
            }(e, n, a) : angular.isString(n) ? function(e, n, a) {
                var s = t(n, e);
                return [i(s, n, a)]
            }(e, n, a) : [] : []
        }
        return {
            link: function(t) {
                t.expressions = [];
                var n = t.$watch(function() {
                        return t.expression
                    }, function(n) {
                        var i;
                        n && (i = n, e.keywordExpression = i, t.expressions = a(e.keywordExpression, e.source, e.variables))
                    }),
                    i = t.$watch(function() {
                        return t.variables
                    }, function(n) {
                        var i;
                        n && (i = n, e.variables = i, t.expressions = a(e.keywordExpression, e.source, e.variables))
                    }),
                    s = t.$watch(function() {
                        return t.source
                    }, function(n) {
                        (n || angular.isString(n)) && (! function(t) {
                            e.source = t
                        }(n), t.expressions = a(e.keywordExpression, e.source, e.variables))
                    });
                t.$on("$destroy", n), t.$on("$destroy", i), t.$on("$destroy", s)
            },
            template: '<textarea placeholder="Some example text" class="l-profiles-entry__label-textarea"\n      ng-model="expressions"\n      disabled\n      ng-change="$ctrl.changeArea(area)"></textarea>',
            scope: {
                expression: "<",
                variables: "<",
                source: "<"
            },
            restrict: "E"
        }
    }
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3661));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("noindex-svg", []).component("noindexSvg", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(3662);
    var a = {
        restrict: "E",
        template: ((n = i) && n.__esModule ? n : {
            default: n
        }).default
    };
    exports.default = a
}, function(e, exports) {
    e.exports = '<noindex style="overflow: hidden; position: absolute; width: 100%; height: 0; pointer-events: none;">\n  <svg style="position: absolute;">\n\n    <symbol id="svg-check" viewBox="0 0 19.09 14.73">\n      <path d="M18.8.29c-.39-.39-1.02-.39-1.41 0L5.36 12.31 1.71 8.66c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41l4.36 4.36c.39.39 1.02.39 1.41 0L18.8 1.71c.39-.39.39-1.03 0-1.42z"/>\n    </symbol>\n\n    <symbol id="svg-home" viewBox="0 0 44 59.82">\n      <path d="M39.78 59.82h-8.89c-1.11 0-2-.9-2-2.01V36.94c0-.12-.1-.22-.22-.22H15.33c-.12 0-.22.1-.22.22v20.87c0 1.11-.9 2.01-2 2.01H4.22c-2.33 0-4.22-1.9-4.22-4.24v-34.6C0 19.93 0 18.85 20.68.5c.76-.67 1.89-.67 2.65 0C44 18.85 44 19.93 44 20.98v34.6c0 2.34-1.89 4.24-4.22 4.24zm-6.89-4.01h6.89c.12 0 .22-.11.22-.22V21.54c-1.61-1.95-9.96-9.68-18-16.85-8.05 7.17-16.39 14.9-18 16.85v34.04c0 .12.1.22.22.22h6.89V36.94c0-2.34 1.89-4.24 4.22-4.24h13.33c2.33 0 4.22 1.9 4.22 4.24v18.87z"/>\n    </symbol>\n\n    <symbol id="svg-arrow" viewBox="0 0 39.75 31.29">\n      <path d="M37.75 14.03H6.52L17.21 3.34c.76-.76.76-2 0-2.77-.76-.76-2-.76-2.77 0L1.32 13.7c-.1.1-.19.21-.26.33-.17.09-.33.2-.48.34-.78.78-.78 2.05 0 2.83l13.51 13.5c.78.78 2.05.78 2.83 0 .78-.78.78-2.05 0-2.83l-9.84-9.84h30.67c1.1 0 2-.9 2-2s-.89-2-2-2z"/>\n    </symbol>\n\n    <symbol id="svg-two-arrow" viewBox="0 0 45.363 45.363">\n      <path d="M1.788 16.945c.388.385.913.6 1.46.6l27.492-.034v3.832c.003.836.556 1.586 1.33 1.904.77.314 1.657.135 2.245-.46l9.09-9.18c1.063-1.07 1.06-2.8-.008-3.867L34.26.604c-.59-.59-1.48-.768-2.25-.446-.77.318-1.27 1.073-1.27 1.907V5.9l-27.52.037c-1.14.003-2.06.927-2.057 2.067l.018 7.483c.002.547.22 1.073.608 1.458zM42.146 27.9l-27.522-.034v-3.834c0-.835-.5-1.587-1.27-1.907-.772-.32-1.66-.146-2.25.445l-9.137 9.135C.9 32.77.897 34.5 1.957 35.57l9.09 9.182c.59.596 1.476.772 2.248.458.772-.316 1.326-1.066 1.33-1.904v-3.83l27.492.035c.547 0 1.072-.215 1.46-.6s.604-.91.606-1.457l.017-7.483c.003-1.14-.916-2.067-2.054-2.07z"/>\n    </symbol>\n\n\n    <symbol id="svg-single-user" viewBox="0 0 60 60">\n      <path d="M48.014 42.89l-9.553-4.777c-.9-.45-1.46-1.357-1.46-2.365v-3.38c.23-.28.47-.6.72-.952 1.238-1.75 2.23-3.698 2.953-5.8C42.083 24.97 43 23.577 43 22v-4c0-.963-.36-1.896-1-2.625v-5.32c.056-.55.276-3.823-2.092-6.524C37.854 1.19 34.52 0 30 0s-7.854 1.188-9.908 3.53c-2.368 2.7-2.148 5.976-2.092 6.526v5.32c-.64.728-1 1.66-1 2.624v4c0 1.217.553 2.352 1.497 3.11.916 3.626 2.833 6.36 3.503 7.236v3.31c0 .967-.528 1.855-1.377 2.32l-8.92 4.865C8.8 44.425 7 47.46 7 50.763V54c0 4.746 15.045 6 23 6s23-1.254 23-6v-3.043c0-3.438-1.91-6.53-4.986-8.068zM51 54c0 1.357-7.412 4-21 4S9 55.357 9 54v-3.238c0-2.57 1.402-4.934 3.66-6.164l8.92-4.866c1.493-.815 2.42-2.378 2.42-4.077v-4.02l-.233-.277c-.024-.03-2.475-2.994-3.41-7.065l-.09-.396-.342-.22c-.58-.374-.925-1-.925-1.677v-4c0-.56.238-1.084.67-1.475l.33-.297V10l-.01-.13c-.002-.028-.342-2.8 1.606-5.022C23.253 2.958 26.08 2 30 2c3.905 0 6.727.95 8.386 2.828 1.947 2.2 1.625 5.017 1.623 5.04L40 16.23l.33.298c.432.39.67.913.67 1.474v4c0 .873-.572 1.637-1.422 1.9l-.498.152-.16.495c-.67 2.08-1.622 4.003-2.834 5.713-.297.42-.586.794-.837 1.08l-.25.283v4.125c0 1.77.983 3.36 2.566 4.153l9.553 4.777c2.393 1.197 3.88 3.603 3.88 6.28V54z"/>\n    </symbol>\n\n    <symbol id="svg-several-users" viewBox="0 0 60 60">\n      <path d="M55.014 45.39l-9.553-4.777c-.9-.45-1.46-1.357-1.46-2.365v-3.38c.23-.28.47-.6.72-.952 1.238-1.75 2.23-3.698 2.953-5.8C49.083 27.47 50 26.077 50 24.5v-4c0-.963-.36-1.896-1-2.625v-5.32c.056-.55.276-3.823-2.092-6.524C44.854 3.69 41.52 2.5 37 2.5s-7.854 1.188-9.908 3.53c-1.435 1.637-1.918 3.48-2.064 4.805C23.314 9.95 21.294 9.5 19 9.5c-10.39 0-10.994 8.855-11 9v4.58c-.648.705-1 1.52-1 2.33v3.453c0 1.08.483 2.085 1.31 2.765.826 3.11 2.855 5.46 3.645 6.285v2.743c0 .787-.428 1.51-1.17 1.915L4.13 46.745C1.584 48.134 0 50.8 0 53.704V57.5h60v-4.043c0-3.438-1.91-6.53-4.986-8.068zM14 53.26V55.5H2v-1.797c0-2.17 1.184-4.164 3.14-5.233l6.653-4.173c1.333-.727 2.16-2.12 2.16-3.64v-3.592l-.317-.297c-.026-.024-2.683-2.534-3.468-5.955l-.09-.396-.343-.22C9.275 29.9 9 29.4 9 28.863V25.41c0-.36.245-.79.67-1.175l.33-.297-.002-5.38c.018-.287.54-7.058 9.002-7.058 2.393 0 4.408.553 6 1.644v4.73c-.64.73-1 1.663-1 2.626v4c0 .304.035.603.1.893.028.116.082.222.12.334.054.168.098.34.175.5 0 .002.002.003.003.005.256.528.63 1 1.1 1.377.004.018.01.035.015.053.06.23.123.457.19.68l.082.26c.014.047.03.094.046.14.036.108.07.215.106.32.06.176.123.357.196.554.03.082.065.156.097.237.08.21.163.41.25.61.02.05.038.1.06.148l.055.126c.026.058.053.11.08.167.097.214.193.42.293.62.016.033.03.068.047.1.063.125.126.243.19.363.107.206.213.4.32.588.05.092.102.182.153.27.144.245.28.47.414.68.03.046.057.093.085.136.242.375.452.68.626.916l.125.17c.022.03.052.07.07.097v3.31c0 .967-.527 1.855-1.376 2.32l-2.646 1.442-.46-.04-.19.394-5.625 3.07c-2.9 1.584-4.7 4.618-4.7 7.922zM58 55.5H16v-2.238c0-2.57 1.402-4.934 3.66-6.164l8.92-4.866c1.493-.815 2.42-2.378 2.42-4.077v-4.018l-.194-.233-.038-.045-.165-.21c-.006-.01-.012-.017-.02-.025-.052-.07-.114-.152-.185-.25 0-.003-.002-.004-.003-.006-.15-.208-.336-.477-.544-.8l-.013-.023c-.098-.153-.202-.32-.308-.497-.01-.013-.017-.026-.025-.04-.226-.38-.466-.808-.705-1.283v-.002c-.128-.255-.255-.523-.38-.802-.016-.04-.034-.077-.05-.116-.056-.125-.11-.256-.167-.39l-.06-.15c-.052-.132-.105-.264-.16-.415-.103-.272-.2-.556-.29-.85l-.056-.177-.02-.06c-.093-.317-.183-.64-.26-.972l-.09-.396-.34-.22c-.58-.374-.927-1-.927-1.677v-4c0-.56.238-1.084.67-1.475l.33-.297v-6.582l-.027-.02c-.034-.723.01-2.936 1.623-4.777C30.253 5.457 33.08 4.5 37 4.5c3.905 0 6.727.95 8.386 2.828 1.947 2.2 1.625 5.017 1.623 5.04L47 18.73l.33.298c.432.39.67.913.67 1.474v4c0 .873-.572 1.637-1.422 1.9l-.498.152-.16.495c-.67 2.08-1.622 4.003-2.834 5.713-.297.42-.586.794-.837 1.08l-.25.283v4.125c0 1.77.983 3.36 2.566 4.153l9.553 4.777c2.393 1.197 3.88 3.603 3.88 6.28V55.5z"/>\n    </symbol>\n\n    <symbol id="svg-magnifier" viewBox="0 0 47.05 46.05">\n      <path d="M46.47 42.65L32.45 28.62c5.18-7.03 4.61-17-1.75-23.36-7.01-7.01-18.42-7.01-25.44 0-7.01 7.01-7.01 18.42 0 25.44 3.51 3.51 8.11 5.26 12.72 5.26 4.2 0 8.39-1.48 11.76-4.39l13.91 13.91c.78.78 2.05.78 2.83 0 .77-.79.77-2.06-.01-2.83zm-18.6-14.78c-5.45 5.45-14.33 5.45-19.78 0-5.45-5.45-5.45-14.33 0-19.78C10.82 5.36 14.4 4 17.98 4c3.58 0 7.16 1.36 9.89 4.09 5.45 5.45 5.45 14.33 0 19.78z"/>\n    </symbol>\n\n    <symbol id="svg-bin" viewBox="0 0 450 450">\n      <path d="M417.689,75.654c-1.711-1.709-3.901-2.568-6.563-2.568h-88.224L302.917,25.41c-2.854-7.044-7.994-13.04-15.413-17.989\n\t\t\tC280.078,2.473,272.556,0,264.945,0h-91.363c-7.611,0-15.131,2.473-22.554,7.421c-7.424,4.949-12.563,10.944-15.419,17.989\n\t\t\tl-19.985,47.676h-88.22c-2.667,0-4.853,0.859-6.567,2.568c-1.709,1.713-2.568,3.903-2.568,6.567v18.274\n\t\t\tc0,2.664,0.855,4.854,2.568,6.564c1.714,1.712,3.904,2.568,6.567,2.568h27.406v271.8c0,15.803,4.473,29.266,13.418,40.398\n\t\t\tc8.947,11.139,19.701,16.703,32.264,16.703h237.542c12.566,0,23.319-5.756,32.265-17.268c8.945-11.52,13.415-25.174,13.415-40.971\n\t\t\tV109.627h27.411c2.662,0,4.853-0.856,6.563-2.568c1.708-1.709,2.57-3.9,2.57-6.564V82.221\n\t\t\tC420.26,79.557,419.397,77.367,417.689,75.654z M169.301,39.678c1.331-1.712,2.95-2.762,4.853-3.14h90.504\n\t\t\tc1.903,0.381,3.525,1.43,4.854,3.14l13.709,33.404H155.311L169.301,39.678z M347.173,380.291c0,4.186-0.664,8.042-1.999,11.561\n\t\t\tc-1.334,3.518-2.717,6.088-4.141,7.706c-1.431,1.622-2.423,2.427-2.998,2.427H100.493c-0.571,0-1.565-0.805-2.996-2.427\n\t\t\tc-1.429-1.618-2.81-4.188-4.143-7.706c-1.331-3.519-1.997-7.379-1.997-11.561V109.627h255.815V380.291z"/>\n\t\t<path d="M137.04,347.172h18.271c2.667,0,4.858-0.855,6.567-2.567c1.709-1.718,2.568-3.901,2.568-6.57V173.581\n\t\t\tc0-2.663-0.859-4.853-2.568-6.567c-1.714-1.709-3.899-2.565-6.567-2.565H137.04c-2.667,0-4.854,0.855-6.567,2.565\n\t\t\tc-1.711,1.714-2.568,3.904-2.568,6.567v164.454c0,2.669,0.854,4.853,2.568,6.57C132.186,346.316,134.373,347.172,137.04,347.172z"\n\t\t\t/>\n\t\t<path d="M210.129,347.172h18.271c2.666,0,4.856-0.855,6.564-2.567c1.718-1.718,2.569-3.901,2.569-6.57V173.581\n\t\t\tc0-2.663-0.852-4.853-2.569-6.567c-1.708-1.709-3.898-2.565-6.564-2.565h-18.271c-2.664,0-4.854,0.855-6.567,2.565\n\t\t\tc-1.714,1.714-2.568,3.904-2.568,6.567v164.454c0,2.669,0.854,4.853,2.568,6.57C205.274,346.316,207.465,347.172,210.129,347.172z\n\t\t\t"/>\n\t\t<path d="M283.22,347.172h18.268c2.669,0,4.859-0.855,6.57-2.567c1.711-1.718,2.562-3.901,2.562-6.57V173.581\n\t\t\tc0-2.663-0.852-4.853-2.562-6.567c-1.711-1.709-3.901-2.565-6.57-2.565H283.22c-2.67,0-4.853,0.855-6.571,2.565\n\t\t\tc-1.711,1.714-2.566,3.904-2.566,6.567v164.454c0,2.669,0.855,4.853,2.566,6.57C278.367,346.316,280.55,347.172,283.22,347.172z"\n\t\t\t/>\n    </symbol>\n\n    <svg id="svg-cross" viewBox="0 0 53.9 53.9">\n      <path d="M28.228,23.986L47.092,5.122c1.172-1.171,1.172-3.071,0-4.242c-1.172-1.172-3.07-1.172-4.242,0L23.986,19.744L5.121,0.88\n\t\tc-1.172-1.172-3.07-1.172-4.242,0c-1.172,1.171-1.172,3.071,0,4.242l18.865,18.864L0.879,42.85c-1.172,1.171-1.172,3.071,0,4.242\n\t\tC1.465,47.677,2.233,47.97,3,47.97s1.535-0.293,2.121-0.879l18.865-18.864L42.85,47.091c0.586,0.586,1.354,0.879,2.121,0.879\n\t\ts1.535-0.293,2.121-0.879c1.172-1.171,1.172-3.071,0-4.242L28.228,23.986z"/>\n    </svg>\n\n    <svg id="svg-tick" viewBox="100 50 300 400">\n      <path d="M504.502,75.496c-9.997-9.998-26.205-9.998-36.204,0L161.594,382.203L43.702,264.311c-9.997-9.998-26.205-9.997-36.204,0\n\t\t\tc-9.998,9.997-9.998,26.205,0,36.203l135.994,135.992c9.994,9.997,26.214,9.99,36.204,0L504.502,111.7\n\t\t\tC514.5,101.703,514.499,85.494,504.502,75.496z"/>\n    </svg>\n\n    <svg id="svg-pencil" viewBox="0 0 303.9 303.9">\n      <path d="M1.562 276.063C-1.59 283.58.116 292.256 5.88 298.02c5.764 5.764 14.44 7.47 21.957 4.317l73.467-30.805-68.937-68.936-30.805 73.467zM298.02 55.56L248.34 5.88c-7.84-7.84-20.55-7.84-28.39 0L50.774 175.06c-.043.042-.08.09-.12.132l78.056 78.057c.042-.043.09-.08.13-.12L298.02 83.95c7.84-7.84 7.84-20.55 0-28.39z"/>\n    </svg>\n\n    <symbol id="svg-employeecallout" viewBox="0 0 550 550">\n      <g><g><path d="M467.069,212.578L267.381,12.861c-11.777-11.748-30.828-11.609-42.451-0.015c-11.689,11.719-11.689,30.747,0,42.451\n        L424.647,255c11.7,11.7,30.721,11.7,42.422,0C478.801,243.268,478.801,224.308,467.069,212.578z"/></g></g><g><g><path d="M210.115,82.905l-1.503,7.534c-10.587,52.958-36.317,103.269-71.118,144.046l108.647,108.647\n        c40.772-34.794,90.39-61.215,143.35-71.815l7.548-1.503L210.115,82.905z"/></g></g><g><g><path d="M117.575,256.989l-74.253,74.238c-17.545,17.545-17.618,46.029,0,63.647l42.422,42.422\n        c17.545,17.545,46.029,17.617,63.647,0l74.246-74.246L117.575,256.989z M128.181,373.664c-5.859,5.859-15.352,5.859-21.211,0\n        c-5.859-5.859-5.859-15.352,0-21.211l21.211-21.211c5.859-5.859,15.352-5.859,21.211,0c5.859,5.859,5.859,15.352,0,21.211\n        L128.181,373.664z"/></g></g><g><g><path d="M286.266,445.278l20.405-20.405c17.619-17.616,17.561-46.1,0.001-63.631l-15.156-15.167\n        c-8.377,5.627-16.377,11.741-24.155,18.265l18.1,18.127c5.845,5.815,5.886,15.279,0,21.196l-20.742,20.742l-30.482-29.533\n        l-42.424,42.424l68.057,65.947c11.614,11.644,30.683,11.71,42.407-0.015c11.704-11.704,11.704-30.732,0-42.437L286.266,445.278z"\n        /></g></g><g><g><path d="M346.864,0c-8.291,0-15,6.709-15,15v30c0,8.291,6.709,15,15,15c8.291,0,15-6.709,15-15V15\n        C361.864,6.709,355.155,0,346.864,0z"/></g></g><g><g><path d="M466.864,120h-30c-8.291,0-15,6.709-15,15s6.709,15,15,15h30c8.291,0,15-6.709,15-15S475.155,120,466.864,120z"/></g></g><g><g><path d="M447.469,34.394c-5.859-5.859-15.352-5.859-21.211,0l-30,30c-5.859,5.859-5.859,15.352,0,21.211s15.352,5.86,21.211,0\n        l30-30C453.328,49.746,453.328,40.253,447.469,34.394z"/></g></g>\n    </symbol>\n\n    <symbol id="svg-comment" viewBox="0 0 26.5 23">\n      <path d="M25.2 17.9c-.3-.5-.8-1.3-.9-1.7.7-1.5 1.1-3.1 1.1-4.7C25.4 5.2 19.7 0 12.7 0 5.7 0 0 5.2 0 11.5S5.7 23 12.7 23c2.5 0 5-.7 7.1-1.9.4 0 1.5.3 2.2.5 1.9.6 3.4 1 4.2.1.8-.9 0-2.1-1-3.8zm-2.6 1.8c-1.8-.5-3-.9-3.8-.3-1.8 1-3.9 1.6-6.1 1.6C6.8 21 2 16.7 2 11.5S6.8 2 12.7 2c5.9 0 10.7 4.3 10.7 9.5 0 1.4-.3 2.8-1 4-.4.8.2 1.9 1.1 3.4.2.3.5.8.7 1.1-.5 0-1.2-.2-1.6-.3zM17.3 9c0 .5-.5 1-1 1H8.1c-.6 0-1-.4-1-1s.5-1 1-1h8.1c.6 0 1.1.5 1.1 1zm-3.1 4c0 .5-.5 1-1 1H8.1c-.6 0-1-.5-1-1 0-.6.5-1 1-1h5.1c.6 0 1 .4 1 1z"/>\n    </symbol>\n\n    <symbol id="svg-plus" viewBox="0 0 31.444 31.444">\n    <path d="M1.12 16.84c-.62 0-1.112-.507-1.112-1.126 0-.62.492-1.11 1.11-1.11h13.476V1.126c0-.62.51-1.127 1.128-1.127.62 0 1.11.508 1.11 1.127v13.476H30.31c.62 0 1.127.492 1.127 1.11 0 .62-.508 1.128-1.127 1.128H16.833v13.477c0 .62-.492 1.127-1.11 1.127-.62 0-1.128-.508-1.128-1.127V16.84H1.12z" />\n    </symbol>\n\n    <symbol id="svg-calendar-small" viewBox="0 0 15 14">\n      <path d="M13 2h-2V0H9v2H6V0H4v2H2C.9 2 0 2.9 0 4v8c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 10H2V4h11v8zM6 7H4V5h2v2zm5 0H9V5h2v2zm-5 4H4V9h2v2zm5 0H9V9h2v2z"/>\n    </symbol>\n\n    <symbol id="svg-calendar-medium" viewBox="0 0 60 59">\n      <path d="M54 7h-8V2c0-1.1-.9-2-2-2s-2 .9-2 2v5H18V2c0-1.1-.9-2-2-2s-2 .9-2 2v5H6c-3.31 0-6 2.69-6 6v40c0 3.31 2.69 6 6 6h48c3.31 0 6-2.69 6-6V13c0-3.31-2.69-6-6-6zm2 46c0 1.1-.9 2-2 2H6c-1.1 0-2-.9-2-2V13c0-1.1.9-2 2-2h8v4c0 1.1.9 2 2 2s2-.9 2-2v-4h24v4c0 1.1.9 2 2 2s2-.9 2-2v-4h8c1.1 0 2 .9 2 2v40zM12 26h8v8h-8v-8zm0 15h8v8h-8v-8zm14-15h8v8h-8v-8zm0 15h8v8h-8v-8zm14-15h8v8h-8v-8zm0 15h8v8h-8v-8z"/>\n    </symbol>\n\n    <symbol id="svg-touch" viewBox="0 0 499.42 499.42">\n      <path d="M277.087 180.337c12.604-13.077 19.558-30.285 19.558-48.467 0-38.5-31.31-69.81-69.81-69.81-38.495 0-69.808 31.31-69.808 69.81 0 18.176 6.945 35.39 19.564 48.467 2.227 2.313 2.17 5.998-.142 8.23-1.13 1.086-2.582 1.634-4.034 1.634-1.528 0-3.042-.6-4.183-1.783-14.723-15.256-22.833-35.342-22.833-56.547 0-44.914 36.532-81.452 81.452-81.452 44.916 0 81.45 36.538 81.45 81.452 0 21.205-8.103 41.29-22.827 56.547-2.223 2.32-5.9 2.375-8.227.15-2.327-2.24-2.4-5.917-.16-8.23zm-136.284 43.848c2.292-2.247 2.338-5.93.09-8.232-22.115-22.597-34.3-52.458-34.3-84.082 0-66.295 53.94-120.235 120.237-120.235 66.295 0 120.234 53.94 120.234 120.236 0 31.63-12.18 61.492-34.3 84.09-2.248 2.295-2.21 5.978.09 8.226 1.134 1.108 2.607 1.662 4.068 1.662 1.504 0 3.014-.584 4.16-1.744 24.264-24.786 37.617-57.546 37.617-92.232C358.7 59.152 299.542 0 226.83 0 154.114 0 94.96 59.153 94.96 131.87c0 34.687 13.363 67.44 37.616 92.227 2.247 2.292 5.937 2.332 8.227.088zm242.85 249.625l-6.68 21.495c-.755 2.447-3.032 4.115-5.596 4.115h-.006l-124.413-.182c-2.45 0-4.628-1.522-5.486-3.807-.86-2.282-.212-4.857 1.633-6.466-.018 0 .993-1.113.91-3.11-.084-1.962-1.314-6.188-8.573-12.404-2.268-2.15-51.055-48.445-71.843-84.657-5.742-8.08-48.24-69.216-38.06-96.1 2.408-6.37 7.42-10.644 14.53-12.38 3.205-1.138 6.478-1.716 9.732-1.716 18.668 0 32.515 18.328 42.623 31.706 2.226 2.96 5.033 6.667 7.134 8.976.91-4.075 1.888-13.21 1.79-33.687 0-.207.006-.426.03-.646.037-.305 3.105-30.957 3.285-128.828-1.184-.245-2.338-.762-3.203-1.736-5.515-6.21-8.55-14.203-8.55-22.52 0-18.713 15.22-33.94 33.932-33.94s33.932 15.227 33.932 33.94c0 7.388-2.502 14.427-6.9 20.282.123 1.184.248 2.415.386 3.742 1.142 11.305 2.368 26.1 3.66 41.763 1.69 20.585 3.896 47.247 5.613 59.543 5.078-2.594 12.306-5.352 20.137-5.352 8.616 0 20.222 3.35 28.832 18.372 4.007-1.53 9.768-3.18 16.1-3.18 10.218 0 23.748 4.184 31.664 23.48 7.185 1.28 23.047 5.39 33.38 17.756 7.247 8.665 10.364 19.547 9.293 32.37.898 8.046 8.12 80.33-19.286 133.172zm-179.12-341.94c0 2.362.437 4.664 1.16 6.872 3.573-21.062 12.606-25.815 19.965-25.815 9.93 0 19.13 9.252 23.352 17.747-.643-11.73-10.29-21.103-22.18-21.103-12.303-.005-22.298 10.003-22.298 22.3zm186.67 209.568c-.048-.42-.048-.84-.01-1.26.92-9.84-1.268-18.024-6.517-24.333-10.235-12.33-29.015-14.157-29.21-14.176-2.302-.214-4.286-1.748-5.035-3.928-4.4-12.78-11.55-18.986-21.853-18.986-8.378 0-15.795 4.158-15.868 4.2-1.426.817-3.16 1-4.726.482-1.57-.512-2.862-1.656-3.532-3.167-5.042-11.24-11.85-16.707-20.807-16.707-10.382 0-20.21 7.33-20.308 7.41-1.49 1.145-3.446 1.504-5.236.968-5.412-1.606-5.984-1.776-11.885-73.327-1.34-16.146-2.887-34.924-4.196-46.83-.077-.386-.138-.748-.132-1.135-.53-4.683-1.017-8.205-1.428-9.82-.38-.586-.648-1.247-.804-1.95-1.212-5.624-8.948-14.237-14.018-14.237-3.318 0-7.72 5.914-9.28 22.56-.006 101.367-2.947 134.85-3.32 138.648.13 31.943-2.13 40.51-6.087 44.487-1.676 1.687-3.765 2.575-6.048 2.575-6.13 0-10.8-6.18-17.87-15.533-8.624-11.423-20.428-27.048-33.264-27.048-1.985 0-4.022.377-6.038 1.12-.225.08-.46.145-.697.206-4.472 1.035-5.85 3.312-6.567 5.188-6.092 16.1 19.342 60.916 36.81 85.376.118.152.215.322.316.5 19.848 34.726 69.182 81.55 69.672 82.014 8.162 6.99 12.415 14.213 12.452 21.275 0 .523-.024 1.022-.06 1.51l111.385.164 5.56-17.865c.105-.336.23-.665.397-.98 27.048-51.58 18.31-126.648 18.207-127.402z"/>\n    </symbol>\n\n    <symbol id="svg-keyboard" viewBox="0 0 512 512">\n      <path d="M490.6 197.6H266.4v-68.5c0-7 5.7-12.8 12.8-12.8H322c7 0 12.8 5.7 12.8 12.8 0 18.5 15.1 33.6 33.6 33.6H416c18.5 0 33.6-15.1 33.6-33.6V79.6c0-5.8-4.7-10.4-10.4-10.4-5.8 0-10.4 4.7-10.4 10.4v49.5c0 7-5.7 12.8-12.8 12.8h-47.6c-7 0-12.8-5.7-12.8-12.8 0-18.5-15.1-33.6-33.6-33.6h-42.8c-18.5 0-33.6 15.1-33.6 33.6v68.5H21.4c-5.8 0-10.4 4.7-10.4 10.4v224.3c0 5.8 4.7 10.4 10.4 10.4h469.1c5.8 0 10.4-4.7 10.4-10.4V208.1c.1-5.8-4.6-10.5-10.3-10.5zm-10.5 224.3H31.9V218.5h448.3v203.4z"/>\n      <path d="M67.5 264.1h21.6c5.8 0 10.4-4.7 10.4-10.4 0-5.8-4.7-10.4-10.4-10.4H67.5c-5.8 0-10.4 4.7-10.4 10.4s4.7 10.4 10.4 10.4zM156.4 264.1H178c5.8 0 10.4-4.7 10.4-10.4 0-5.8-4.7-10.4-10.4-10.4h-21.6c-5.8 0-10.4 4.7-10.4 10.4-.1 5.7 4.6 10.4 10.4 10.4zM245.2 264.1h21.6c5.8 0 10.4-4.7 10.4-10.4 0-5.8-4.7-10.4-10.4-10.4h-21.6c-5.8 0-10.4 4.7-10.4 10.4s4.6 10.4 10.4 10.4zM334 264.1h21.6c5.8 0 10.4-4.7 10.4-10.4 0-5.8-4.7-10.4-10.4-10.4H334c-5.8 0-10.4 4.7-10.4 10.4s4.7 10.4 10.4 10.4zM422.9 264.1h21.6c5.8 0 10.4-4.7 10.4-10.4 0-5.8-4.7-10.4-10.4-10.4h-21.6c-5.8 0-10.4 4.7-10.4 10.4s4.6 10.4 10.4 10.4zM67.5 330.6h21.6c5.8 0 10.4-4.7 10.4-10.4 0-5.8-4.7-10.4-10.4-10.4H67.5c-5.8 0-10.4 4.7-10.4 10.4 0 5.8 4.7 10.4 10.4 10.4zM156.4 330.6H178c5.8 0 10.4-4.7 10.4-10.4 0-5.8-4.7-10.4-10.4-10.4h-21.6c-5.8 0-10.4 4.7-10.4 10.4-.1 5.8 4.6 10.4 10.4 10.4zM245.2 330.6h21.6c5.8 0 10.4-4.7 10.4-10.4 0-5.8-4.7-10.4-10.4-10.4h-21.6c-5.8 0-10.4 4.7-10.4 10.4 0 5.8 4.6 10.4 10.4 10.4zM334 330.6h21.6c5.8 0 10.4-4.7 10.4-10.4 0-5.8-4.7-10.4-10.4-10.4H334c-5.8 0-10.4 4.7-10.4 10.4 0 5.8 4.7 10.4 10.4 10.4zM422.9 330.6h21.6c5.8 0 10.4-4.7 10.4-10.4 0-5.8-4.7-10.4-10.4-10.4h-21.6c-5.8 0-10.4 4.7-10.4 10.4 0 5.8 4.6 10.4 10.4 10.4zM67.5 397.2h21.6c5.8 0 10.4-4.7 10.4-10.4 0-5.8-4.7-10.4-10.4-10.4H67.5c-5.8 0-10.4 4.7-10.4 10.4s4.7 10.4 10.4 10.4zM156.4 397.2h199.3c5.8 0 10.4-4.7 10.4-10.4 0-5.8-4.7-10.4-10.4-10.4H156.4c-5.8 0-10.4 4.7-10.4 10.4-.1 5.7 4.6 10.4 10.4 10.4zM422.9 397.2h21.6c5.8 0 10.4-4.7 10.4-10.4 0-5.8-4.7-10.4-10.4-10.4h-21.6c-5.8 0-10.4 4.7-10.4 10.4s4.6 10.4 10.4 10.4z"/>\n    </symbol>\n\n    <symbol id="svg-settings" viewBox="0 0 16 16">\n      <path d="M16 7v2h-2.1c-.1.9-.5 1.7-1 2.4l2.1 1.8-1.4 1.8-2.3-2c-.7.4-1.4.8-2.3.9V16H7v-2.1c-.8-.1-1.6-.5-2.3-.9l-2.3 2L1 13.2l2.1-1.8c-.5-.7-.8-1.5-1-2.4H0V7h2.1c.1-.9.5-1.7 1-2.4L1 2.8 2.4 1l2.3 2c.7-.4 1.5-.8 2.3-.9V0h2v2.1c.8.1 1.6.5 2.3.9l2.3-2L15 2.8l-2.1 1.8c.5.7.8 1.5 1 2.4H16zM8 5C6.3 5 5 6.3 5 8s1.3 3 3 3 3-1.3 3-3-1.3-3-3-3z"/>\n    </symbol>\n\n    <symbol id="svg-settings-detailed" viewBox="0 0 56 56">\n      <path d="M55.9 25.4c-.2-1.5-1.2-2.8-2.6-3.4l-3.6-1.3c-.3-1-.8-2-1.2-3l1.6-3.4c.7-1.4.5-3.1-.5-4.3-1.1-1.3-2.3-2.5-3.6-3.6-.7-.6-1.6-.9-2.6-.9-.6 0-1.2.1-1.7.4l-3.4 1.6c-.9-.5-1.9-.9-3-1.2L34 2.8C33.5 1.3 32.2.3 30.6.2 29.7 0 28.8 0 28 0s-1.7 0-2.6.1c-1.5.2-2.8 1.2-3.4 2.6l-1.3 3.6c-1 .3-2 .8-3 1.2L14.4 6c-.5-.3-1.1-.4-1.7-.4-.9 0-1.8.3-2.6.9-1.3 1.1-2.5 2.3-3.6 3.6-1 1.2-1.2 2.9-.5 4.3l1.6 3.4c-.5.9-.9 1.9-1.2 3L2.8 22c-1.5.5-2.5 1.8-2.6 3.4-.2.9-.2 1.8-.2 2.6s0 1.7.1 2.6c.2 1.5 1.2 2.8 2.6 3.4l3.6 1.3c.3 1 .8 2 1.2 3L6 41.6c-.7 1.4-.5 3.1.5 4.3 1.1 1.3 2.3 2.5 3.6 3.6.7.6 1.6.9 2.6.9.6 0 1.2-.1 1.7-.4l3.4-1.6c.9.5 1.9.9 3 1.2l1.3 3.6c.5 1.5 1.8 2.5 3.4 2.6.8.2 1.7.2 2.5.2s1.7 0 2.6-.1c1.5-.2 2.8-1.2 3.4-2.6l1.3-3.6c1-.3 2-.8 3-1.2l3.4 1.6c.5.3 1.1.4 1.7.4.9 0 1.8-.3 2.6-.9 1.3-1.1 2.5-2.3 3.6-3.6 1-1.2 1.2-2.9.5-4.3l-1.6-3.4c.5-.9.9-1.9 1.2-3l3.6-1.3c1.5-.5 2.5-1.8 2.6-3.4.1-.9.1-1.8.1-2.6s0-1.7-.1-2.6zm-4 4.8l-4.3 1.5c-.7.3-1.3.9-1.5 1.6-.4 1.3-.9 2.5-1.5 3.6-.4.7-.4 1.5-.1 2.3l1.9 4.1c-.9 1.1-2 2.2-3.1 3.1l-4.1-1.9c-.7-.3-1.6-.3-2.3.1-1.1.6-2.3 1.1-3.6 1.5-.8.2-1.4.8-1.6 1.5l-1.5 4.3c-1.6.2-2.8.2-4.4 0l-1.5-4.3c-.3-.7-.9-1.3-1.6-1.5-1.3-.4-2.5-.9-3.6-1.5-.7-.4-1.5-.4-2.3-.1l-4.1 1.9c-1.1-.9-2.2-2-3.1-3.1l1.9-4.1c.3-.7.3-1.6-.1-2.3-.6-1.1-1.1-2.3-1.5-3.6-.2-.8-.8-1.4-1.5-1.6l-4.3-1.5C4 29.4 4 28.7 4 28s0-1.4.1-2.2l4.3-1.5c.7-.3 1.3-.9 1.5-1.6.4-1.3.9-2.5 1.5-3.6.4-.7.4-1.5.1-2.3l-1.9-4.1c.9-1.1 2-2.2 3.1-3.1l4.1 1.9c.7.3 1.6.3 2.3-.1 1.1-.6 2.3-1.1 3.6-1.5.8-.2 1.4-.8 1.6-1.5l1.5-4.3c1.5-.2 2.8-.2 4.4 0l1.5 4.3c.3.7.9 1.3 1.6 1.5 1.3.4 2.5.9 3.6 1.5.7.4 1.5.4 2.3.1l4.1-1.9c1.1.9 2.2 2 3.1 3.1l-1.9 4.1c-.3.7-.3 1.6.1 2.3.6 1.1 1.1 2.4 1.5 3.6.2.8.8 1.4 1.5 1.6l4.3 1.5c.1.8.1 1.5.1 2.2s0 1.4-.1 2.2zM28 17c-6.1 0-11 4.9-11 11s4.9 11 11 11 11-4.9 11-11-4.9-11-11-11zm0 18c-3.9 0-7-3.1-7-7s3.1-7 7-7 7 3.1 7 7-3.1 7-7 7z"/>\n    </symbol>\n\n    <symbol id="svg-google-drive" viewBox="0 0 291.136 291.136">\n      <path d="M206.2 180.832l.81 1.384h1.62l77.708-.337 4.798-.037-2.412-4.142-91.956-158.286-.8-1.384h-1.62l-77.73.32-4.797.017 2.423 4.142L206.2 180.83z" fill="#EFC75E"/><path d="M138.413 100.62l-.82-1.394-40.01-68.433-2.422-4.133-2.393 4.142L.82 189.682 0 191.054l.82 1.384 40.01 68.46 2.422 4.123 2.403-4.142 91.966-158.877.793-1.384z" fill="#3DB39E"/><path d="M103.51 199.922h-1.603l-.8 1.366-39.438 67.66-2.386 4.16h189.212l.8-1.403 39.447-67.66 2.385-4.123h-187.62z" fill="#26A6D1"/>\n    </symbol>\n\n    <symbol id="svg-attached-file" viewBox="0 0 512 512">\n      <path d="M312 471.7L67.7 225.8C19 176.8 19 96.6 67.7 47.6c58.4-58.8 138.1-38.2 176 0L459 264.3l-14.5 14.6L230.2 62.2c-29.6-31.4-97.8-49.5-149.1 0-40.4 40.6-40.4 108.4 0 149l244.3 245.9c31.1 31.3 80.8 31.3 110.8 0 31.1-31.3 31.1-81.3 0-111.5l-208-210.5c-19.7-19.8-52.8-19.8-72.5 0s-19.7 53.1 0 72.9l181.2 182.4-14.5 14.6-181.2-182.3c-28-28.1-28-74 0-102.1s73.5-28.1 101.5 0L451.8 331c51.8 52.1 24.3 117.5 0 141.7-32.7 34.4-100 40.8-139.8-1z"/>\n    </symbol>\n\n    <symbol id="svg-clip-desktop" viewBox="0 0 70.88 64.09">\n      <path d="M65.51 5.344c-7.148-7.117-18.74-7.117-25.89 0L4.022 40.788c-5.364 5.34-5.364 13.995 0 19.335 4.422 4.402 11.09 5.113 16.302 2.256.545-.03 1.08-.234 1.497-.644l35.6-35.444c3.573-3.56 3.573-9.328 0-12.886-3.576-3.56-9.37-3.56-12.944 0l-29.126 29c-.893.89-.893 2.334 0 3.22.892.89 2.343.89 3.236 0l29.125-29c1.79-1.78 4.688-1.78 6.473 0 1.79 1.783 1.79 4.668 0 6.445L20.2 56.907c-3.574 3.558-9.367 3.558-12.942 0-3.575-3.56-3.575-9.328 0-12.887L42.855 8.566c5.365-5.34 14.055-5.34 19.42 0 5.364 5.34 5.364 13.993 0 19.334L29.91 60.124c-.892.89-.892 2.333 0 3.222.894.888 2.344.888 3.237 0l32.36-32.222c7.15-7.118 7.15-18.66 0-25.78z"/>\n    </symbol>\n\n    <symbol id="svg-dropbox" viewbox="0 0 512 512">\n      <path d="M100.57 383.086v-41.143l69.487 40.228L256 301.715V484.57"></path>\n      <path d="M17.37 274.286L107.887 192 256 283.43l-85.943 80.456M107.886 192L0 109.714 155.43 27.43l109.713 73.14M411.43 384L256 484.57V301.715l88.686 76.8 66.743-42.057"></path>\n      <path d="M344.686 360.23L256 283.43l149.03-95.087 89.6 76.8M405.03 188.343L265.142 100.57l109.714-73.14L512 109.713"></path>\n    </symbol>\n\n    <symbol id="svg-next" viewBox="0 0 20.963 21.917">\n      <path d="M8.985 7.02v5.96h5.99v-1.99h-3.993V7.02H8.985zM20.672 3.8L17.142.29c-.387-.386-1.023-.386-1.41 0-.39.386-.39 1.018 0 1.405l2.822 2.81-2.822 2.808c-.39.387-.39 1.018 0 1.404.388.386 1.023.386 1.41 0l3.53-3.51c.388-.388.388-1.02 0-1.406zm-1.706 7.193c-.55 0-.997.444-.997.993 0 4.38-3.587 7.945-7.99 7.945-5.3 0-9.418-5.17-7.51-10.71.464-1.354 1.384-2.53 2.54-3.384 2.215-1.647 4.3-1.99 6.176-1.693.413.067.787-.25.787-.67 0-.717-.547-1.332-1.265-1.385-1.03-.074-2.1.008-3.19.273C3.755 3.273.82 6.41.154 10.21c-1.1 6.255 3.735 11.71 9.825 11.71 5.505 0 9.983-4.456 9.983-9.932 0-.55-.446-.993-1-.993z"/>\n    </symbol>\n\n    <symbol id="svg-envelope" viewBox="0 0 20.001 16">\n      <path d="M18 0H2C.898 0 0 .898 0 2v12c0 1.102.897 2 2 2h16c1.104 0 2-.898 2-2V2c0-1.102-.896-2-2-2zm-.002 14H2V2h16l-.002 12zM8.242 9.124c.583.582 1.346.874 2.113.874.775 0 1.552-.297 2.15-.895l3.223-3.417c.38-.402.362-1.035-.04-1.414-.403-.378-1.036-.36-1.414.04L11.07 7.71c-.39.39-1.025.39-1.468-.05L5.655 4.245c-.418-.364-1.05-.315-1.41.1-.362.418-.316 1.05.1 1.41l3.897 3.37z"/>\n    </symbol>\n\n    <symbol id="svg-current" viewBox="0 0 20 20">\n      <path class="st0" d="M10 0C4.486 0 0 4.486 0 10s4.486 10 10 10 10-4.486 10-10S15.514 0 10 0zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.588 8 8-3.59 8-8 8zm1-13H9v6h6V9h-4V5z"/>\n    </symbol>\n\n    <symbol id="svg-members" viewBox="0 0 80.13 80.13">\n      <path d="M48.355 17.922c3.705 2.323 6.303 6.254 6.776 10.817 1.512.705 3.19 1.11 4.967 1.11 6.49 0 11.752-5.26 11.752-11.75S66.587 6.348 60.096 6.348c-6.43.002-11.644 5.17-11.742 11.574zm-7.7 24.062c6.492 0 11.753-5.262 11.753-11.752s-5.262-11.75-11.752-11.75c-6.49 0-11.754 5.26-11.754 11.75s5.264 11.752 11.754 11.752zm4.986.8h-9.97c-8.298 0-15.048 6.752-15.048 15.05v12.194l.03.19.84.264c7.92 2.474 14.798 3.3 20.46 3.3 11.06 0 17.47-3.154 17.864-3.355l.785-.397h.085V57.833c.003-8.297-6.747-15.048-15.044-15.048zm19.444-12.13H55.19c-.108 3.958-1.798 7.523-4.47 10.087 7.374 2.194 12.77 9.033 12.77 17.11v3.76c9.77-.36 15.4-3.128 15.77-3.314l.786-.398h.084v-12.2c0-8.295-6.75-15.045-15.046-15.045zm-45.05-.8c2.3 0 4.44-.672 6.25-1.815.577-3.758 2.59-7.04 5.468-9.277.012-.22.033-.438.033-.66 0-6.49-5.262-11.752-11.75-11.752-6.492 0-11.752 5.262-11.752 11.753 0 6.488 5.26 11.75 11.752 11.75zM30.59 40.74c-2.66-2.55-4.345-6.096-4.468-10.03-.367-.028-.73-.057-1.104-.057h-9.97C6.75 30.653 0 37.403 0 45.7v12.196l.03.188.84.265c6.353 1.982 12.022 2.896 16.946 3.184V57.85c.002-8.077 5.396-14.914 12.773-17.11z"/>\n    </symbol>\n\n    <symbol id="svg-trash" viewBox="0 0 268.476 268.476">\n      <path d="M63.12 250.254s3.998 18.222 24.582 18.222h93.072c20.583 0 24.582-18.222 24.582-18.222l18.374-178.66H44.746l18.373 178.66zM170.034 98.442c0-4.943 4.006-8.95 8.95-8.95 4.942 0 8.95 4.007 8.95 8.95l-8.95 134.238c0 4.943-4.008 8.95-8.95 8.95-4.942 0-8.95-4.008-8.95-8.95l8.95-134.238zm-44.746 0c0-4.943 4.006-8.95 8.948-8.95 4.943 0 8.95 4.007 8.95 8.95V232.68c0 4.943-4.007 8.95-8.95 8.95s-8.95-4.008-8.95-8.95V98.442zm-35.798-8.95c4.943 0 8.95 4.006 8.95 8.95l8.95 134.237c0 4.942-4.008 8.948-8.95 8.948-4.943 0-8.95-4.007-8.95-8.95l-8.95-134.236c0-4.943 4.008-8.95 8.95-8.95zm128.868-53.68h-39.376V17.898c0-13.578-4.39-17.9-17.898-17.9H107.39C95 0 89.492 6 89.492 17.9V35.81H50.116c-7.914 0-14.32 6.007-14.32 13.43 0 7.424 6.406 13.43 14.32 13.43H218.36c7.914 0 14.32-6.006 14.32-13.43 0-7.423-6.406-13.43-14.32-13.43zm-57.274 0H107.39l.002-17.914h53.695V35.81z" fill-rule="evenodd" clip-rule="evenodd"/>\n    </symbol>\n\n    <symbol id="svg-more" viewBox="0 0 16 3">\n      <path d="M14.4 0c.9 0 1.6.7 1.6 1.5S15.3 3 14.4 3c-.9 0-1.6-.7-1.6-1.5S13.5 0 14.4 0zM8 0c.9 0 1.6.7 1.6 1.5S8.9 3 8 3s-1.6-.7-1.6-1.5S7.1 0 8 0zM1.6 0c.9 0 1.6.7 1.6 1.5S2.5 3 1.6 3C.7 3 0 2.3 0 1.5S.7 0 1.6 0z"/>\n    </symbol>\n\n    <symbol id="svg-logout" viewBox="0 0 471.2 471.2">\n      <path d="M227.62 444.2h-122.9c-33.4 0-60.5-27.2-60.5-60.5V87.5c0-33.4 27.2-60.5 60.5-60.5h124.9c7.5 0 13.5-6 13.5-13.5s-6-13.5-13.5-13.5h-124.9c-48.3 0-87.5 39.3-87.5 87.5v296.2c0 48.3 39.3 87.5 87.5 87.5h122.9c7.5 0 13.5-6 13.5-13.5s-6.1-13.5-13.5-13.5z"/>\n      <path d="M450.02 226.1l-85.8-85.8c-5.3-5.3-13.8-5.3-19.1 0-5.3 5.3-5.3 13.8 0 19.1l62.8 62.8h-273.9c-7.5 0-13.5 6-13.5 13.5s6 13.5 13.5 13.5h273.9l-62.8 62.8c-5.3 5.3-5.3 13.8 0 19.1 2.6 2.6 6.1 4 9.5 4s6.9-1.3 9.5-4l85.8-85.8c5.4-5.4 5.4-14 .1-19.2z"/>\n    </symbol>\n\n    <symbol id="svg-message" viewBox="0 0 75.9 54.4">\n      <path d="M60 13c1-.5 2.2-.2 2.7.7.6 1 .2 2.2-.7 2.7L37.6 32.2c-.3.2-.7.3-1 .3-.4 0-.8 0-1.2-.3L11 16.2c-1-.5-1.3-1.8-.7-2.7.6-1 1.8-1.3 2.7-.7l23.5 15.5L60 13zm11.5 2.4c-.5 0-1 0-1.5-.1v33.1c0 1.1-.9 2-2 2H6c-1.1 0-2-.9-2-2v-40c0-1.1.9-2 2-2h54.3c-.2-.8-.3-1.6-.3-2.5 0-.5 0-1 .1-1.5H6c-3.3 0-6 2.7-6 6v40c0 3.3 2.7 6 6 6h62c3.3 0 6-2.7 6-6V15.1c-.8.2-1.6.3-2.5.3z"/>\n    </symbol>\n\n    <symbol id="svg-assessment" viewBox="0 0 32 32">\n      <path d="M29 0H3C1.3 0 0 1.3 0 3v26c0 1.7 1.3 3 3 3h26c1.7 0 3-1.3 3-3V3c0-1.7-1.3-3-3-3zM6 2h13v8l3-2 3 2V2h3c1.1 0 2 .9 2 2v15H6V2zM2 4c0-1.1.9-2 2-2v17c-.7 0-1.4.1-2 .3V4zm28 19v5c0 1-1 2-2 2H4c-1.1 0-2-.9-2-2v-5c0-1.1.9-2 2-2h26v2zm-3 3H5c-.6 0-1 .4-1 1s.4 1 1 1h22c.6 0 1-.4 1-1s-.4-1-1-1zm0-3H5c-.6 0-1 .4-1 1s.4 1 1 1h22c.6 0 1-.4 1-1s-.4-1-1-1z"/>\n    </symbol>\n\n    <symbol id="svg-cross" viewBox="0 0 21 20">\n      <path d="M1 20c-.3 0-.5-.1-.7-.3-.4-.4-.4-1 0-1.4l19-18c.4-.4 1.1-.4 1.5 0 .4.4.4 1 0 1.4l-19 18c-.2.2-.5.3-.8.3zm19 0c-.3 0-.5-.1-.7-.3l-19-18C-.1 1.3-.1.7.3.3c.4-.4 1.1-.4 1.5 0l19 18c.4.4.4 1 0 1.4-.3.2-.6.3-.8.3z"/>\n    </symbol>\n\n    <symbol id="svg-pdf" viewBox="0 0 18 22">\n      <path d="M12.41 0H2C.9 0 0 .9 0 2v18c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5.59L12.41 0zM12 2.41L15.59 6H12V2.41zM16 20H2V2h8v4c0 1.1.9 2 2 2h4v12z"/><path d="M5.46 10.93c-.42 0-.75.04-1 .08V15h.52v-1.62c.12.03.26.04.42.04.51 0 .96-.15 1.23-.44.2-.21.31-.5.31-.86s-.13-.65-.35-.84c-.24-.23-.62-.35-1.13-.35zM5.41 13c-.17 0-.32-.01-.43-.04v-1.57c.09-.02.26-.04.49-.04.58 0 .95.26.95.79 0 .55-.38.86-1.01.86zm3.35-2.07c-.41 0-.79.04-1.11.08v3.98c.26.03.58.05.95.05.79 0 1.41-.2 1.79-.58.38-.37.58-.91.58-1.57 0-.65-.21-1.12-.57-1.45-.36-.34-.89-.51-1.64-.51zm-.06 3.69c-.2 0-.4-.01-.53-.03V11.4c.14-.03.34-.06.61-.06 1.1 0 1.64.61 1.64 1.56 0 1.09-.61 1.72-1.72 1.72zm3.47-3.22v1.34h1.53v.43h-1.53V15h-.52v-4.04h2.18v.44h-1.66z"/>\n    </symbol>\n\n    <symbol id="svg-doc" viewBox="0 0 18 22">\n      <path d="M12.41 0H2C.9 0 0 .9 0 2v18c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5.59L12.41 0zM12 2.41L15.59 6H12V2.41zM16 20H2V2h8v4c0 1.1.9 2 2 2h4v12z"/><path d="M5.41 10.93c-.35 0-.68.04-.95.08v3.92c.23.03.49.05.81.05.67 0 1.21-.2 1.53-.57.32-.37.5-.9.5-1.55 0-.64-.18-1.11-.49-1.43-.31-.33-.76-.5-1.4-.5zm-.06 3.63c-.17 0-.34-.01-.45-.03v-3.14c.12-.03.29-.05.52-.05.94 0 1.41.6 1.4 1.54.01 1.07-.51 1.68-1.47 1.68zm3.92-3.67c-.92 0-1.61.83-1.61 2.09 0 1.21.64 2.02 1.55 2.02.88 0 1.61-.73 1.61-2.1 0-1.17-.61-2.01-1.55-2.01zm-.03 3.7c-.7 0-1.1-.76-1.1-1.61 0-.87.37-1.66 1.11-1.66.74 0 1.1.83 1.1 1.62 0 .9-.4 1.65-1.11 1.65zm4.48-.19l.09.41c-.16.1-.49.19-.91.19-.97 0-1.71-.71-1.71-2.02 0-1.25.73-2.09 1.81-2.09.43 0 .7.11.82.18l-.11.42c-.17-.09-.41-.17-.7-.17-.81 0-1.35.6-1.35 1.64 0 .98.49 1.6 1.33 1.6.28.01.55-.06.73-.16z"/>\n    </symbol>\n\n    <symbol id="svg-download" viewBox="0 0 18 19.03">\n      <path d="M18 17.68c0 .06-.02.12-.04.18.01.06.04.11.04.18 0 .55-.45 1-1 1H1c-.55 0-1-.45-1-1 0-.06.02-.12.04-.18-.02-.07-.04-.12-.04-.18v-3c0-.55.45-1 1-1s1 .45 1 1v2.36h14v-2.36c0-.55.45-1 1-1s1 .45 1 1v3zm-9.76-5.94c.06.06.14.1.23.12.16.1.33.17.53.17.07 0 .13-.03.2-.04.14-.01.27-.04.36-.13l.07-.07c.05-.04.09-.08.13-.13l4.51-4.51c.26-.26.16-.79-.24-1.18-.39-.39-.92-.5-1.18-.24L10 8.59V1c0-.55-.45-1-1-1S8 .45 8 1v7.86L5.15 6.02c-.25-.24-.74-.14-1.1.22-.37.37-.47.86-.23 1.1l4.42 4.4z"/>\n    </symbol>\n\n    \x3c!--main menu icons--\x3e\n    <symbol id="svg-learners" viewbox="0 0 32.883 31.979">\n      <path d="M16.46 31.98c-1.89-.014-3.918-.267-6.41-.8-1.234-.265-2.298-.564-3.25-.912-.884-.323-2.38-.868-2.31-3.008.042-1.244.184-2.563.422-3.92l.03-.18c.303-1.746.717-4.136 2.458-5.453.732-.554 1.523-.816 2.223-1.047.24-.08.466-.153.68-.24.308-.123.586-.242.846-.375.43-.222.955-.097 1.245.296 1.02 1.38 2.382 2.08 4.052 2.08 1.67 0 3.033-.7 4.052-2.08.288-.39.812-.516 1.245-.295.26.133.54.252.847.375.214.086.44.16.676.238.702.233 1.494.494 2.226 1.05 1.738 1.315 2.153 3.705 2.457 5.45l.033.183c.237 1.356.378 2.675.42 3.92.073 2.14-1.424 2.686-2.228 2.98-1.032.376-2.095.674-3.33.94-2.493.532-4.522.786-6.386.8zm-5.143-13.797c-.093.04-.188.078-.286.116-.247.098-.508.187-.784.28-.61.2-1.183.39-1.654.744-1.106.837-1.44 2.77-1.685 4.183l-.033.183c-.22 1.266-.353 2.49-.39 3.64-.023.645.14.726.91 1.006.947.347 1.924.62 3.07.865 2.355.506 4.257.746 5.985.758 1.722-.013 3.624-.253 5.982-.757 1.143-.245 2.12-.518 2.985-.834.853-.31 1.015-.392.994-1.038-.038-1.15-.17-2.374-.39-3.636v-.003l-.033-.184c-.245-1.41-.58-3.345-1.685-4.182-.47-.355-1.042-.543-1.648-.744-.282-.093-.544-.182-.792-.28l-.286-.117c-1.344 1.48-3.102 2.257-5.13 2.257-2.027 0-3.784-.777-5.13-2.257zm5.18-1.463c-3.58 0-5.96-2.894-6.53-7.94-.278-2.458.247-4.52 1.516-5.965C12.648 1.49 14.38.79 16.498.79c2.115 0 3.847.7 5.012 2.025 1.27 1.443 1.796 3.505 1.518 5.962-.57 5.05-2.95 7.943-6.53 7.943zm0-13.908c-1.553 0-2.74.455-3.526 1.348-.868.988-1.23 2.546-1.023 4.388.26 2.297 1.195 6.15 4.55 6.15 3.354 0 4.29-3.854 4.55-6.15.208-1.843-.157-3.402-1.025-4.39-.786-.893-1.97-1.346-3.524-1.346zm14.076 22.153c-.41 0-.792-.257-.938-.67-.186-.525.084-1.103.602-1.292.634-.232.665-.263.65-.68-.032-.954-.14-1.968-.324-3.01l-.027-.157c-.2-1.15-.473-2.726-1.343-3.385-.368-.277-.833-.43-1.325-.596-.265-.088-.473-.157-.67-.237-.317-.126-.6-.248-.862-.383-.492-.25-.69-.86-.44-1.358.247-.497.847-.698 1.338-.446.214.11.442.207.694.31.162.063.336.12.52.18.635.21 1.307.435 1.94.91 1.503 1.14 1.87 3.256 2.114 4.657l.027.154c.197 1.136.316 2.244.352 3.295.063 1.91-1.31 2.41-1.97 2.65-.113.04-.227.06-.34.06zM24.23 13.37c-.4 0-.777-.246-.93-.646-.198-.52.057-1.105.57-1.306 1.89-.74 2.408-3.6 2.542-4.794.17-1.49-.12-2.744-.814-3.533-.624-.71-1.573-1.068-2.82-1.068-.55 0-.997-.452-.997-1.01C21.78.45 22.23 0 22.78 0c1.815 0 3.303.604 4.308 1.745 1.093 1.242 1.545 3.008 1.307 5.108-.22 1.937-1.003 5.35-3.803 6.448-.12.047-.24.07-.36.07zM2.31 24.965c-.11 0-.225-.02-.336-.06-.66-.24-2.035-.74-1.97-2.65.034-1.046.154-2.156.353-3.295l.025-.15c.244-1.402.61-3.518 2.115-4.656.63-.478 1.304-.703 1.9-.898.224-.075.397-.132.563-.2.247-.098.476-.196.69-.305.49-.25 1.09-.05 1.338.447.248.498.052 1.107-.44 1.358-.265.135-.546.258-.86.383-.2.08-.41.15-.628.222-.537.18-1.002.333-1.37.61-.87.66-1.144 2.237-1.344 3.39l-.026.15c-.184 1.05-.293 2.063-.325 3.015-.015.416.016.447.65.68.518.187.788.766.603 1.29-.146.413-.53.67-.938.67zM8.653 13.37c-.12 0-.24-.023-.36-.068-2.8-1.098-3.584-4.512-3.803-6.448-.236-2.1.215-3.868 1.308-5.11C6.802.605 8.292 0 10.105 0c.55 0 .996.453.996 1.01 0 .56-.445 1.012-.995 1.012-1.247 0-2.196.36-2.82 1.07-.693.787-.983 2.042-.814 3.532.136 1.195.653 4.052 2.543 4.793.513.2.768.787.57 1.306-.154.4-.53.647-.93.647z"></path>\n    </symbol>\n    <symbol id="svg-calendar" viewbox="0 0 32.102 30.001">\n      <path d="M29.092 2H25.08V.94c0-.516-.423-.938-.94-.938h-.126c-.517 0-.94.422-.94.938V2H9.028V.94C9.03.422 8.604 0 8.088 0H7.96c-.515 0-.94.422-.94.938V2H3.01C1.35 2 0 3.348 0 5v22c0 1.655 1.35 3 3.01 3h26.08c1.66 0 3.01-1.345 3.01-3V5c0-1.653-1.35-3-3.01-3zm1.004 25c0 .552-.45 1-1.004 1H3.01c-.554 0-1.003-.448-1.003-1V9h28.09v18zm0-20H2.006V5c0-.55.45-1 1.003-1h4.01v1.063c0 .515.42.937.94.937h.12c.51 0 .94-.422.94-.937V4h14.05v1.063c0 .515.42.937.94.937h.12c.52 0 .94-.422.94-.937V4h4.012c.552 0 1.003.45 1.003 1v2z"></path>\n      <path d="M11.315 14.877c.822 0 1.8.432 1.8 1.297 0 1.22-1.078 2.25-5.09 5.258V23h7.02v-2H11.09c2.586-2 3.99-3.24 3.99-4.94 0-1.98-1.687-3.115-3.81-3.115-1.39 0-2.87.533-3.84 1.65l1.21 1.415c.673-.7 1.54-1.133 2.676-1.133zm8.755 6.51c-.97 0-2.06-.417-2.75-1.132l-1.104 1.414c.732.89 2.092 1.59 3.932 1.59 2.39 0 3.93-1.21 3.93-2.92 0-1.49-1.317-2.28-2.333-2.39 1.106-.198 2.182-1.017 2.182-2.268 0-1.653-1.435-2.697-3.766-2.697-1.74 0-3 .67-3.81 1.58l1.07 1.324c.7-.67 1.57-1.03 2.53-1.03 1.047 0 1.855.39 1.855 1.18 0 .73-.56 1.055-1.665 1.055-.374 0-1.067 0-1.067-.016V19c0-.015.65-.03 1.067-.03 1.39 0 1.913.357 1.913 1.146 0 .748-.76 1.27-1.97 1.27z"></path>\n    </symbol>\n    <symbol id="svg-timetable" viewbox="0 0 32 32">\n      <path d="M16 0C7.178 0 0 7.178 0 16c0 8.823 7.178 16 16 16s16-7.177 16-16c0-8.82-7.178-16-16-16zm0 30C8.28 30 2 23.72 2 16S8.28 2 16 2s14 6.28 14 14-6.28 14-14 14z"></path>\n      <path d="M25 15h-8V7c0-.55-.45-1-1-1s-1 .45-1 1v9c0 .55.45 1 1 1h9c.55 0 1-.45 1-1s-.45-1-1-1z"></path>\n    </symbol>\n    <symbol id="svg-registers" viewBox="0 0 32 32">\n      <path d="M16 0C7.2 0 0 7.2 0 16s7.2 16 16 16 16-7.2 16-16S24.8 0 16 0zm0 30C8.3 30 2 23.7 2 16S8.3 2 16 2s14 6.3 14 14-6.3 14-14 14zm7.6-19.2c.4.4.4 1 0 1.4L13.2 22.6c-.4.4-1 .4-1.4 0l-4.4-4.4c-.4-.4-.4-1 0-1.4.4-.4 1-.4 1.4 0l3.7 3.7 9.7-9.7c.3-.4 1-.4 1.4 0z"/>\n    </symbol>\n    <symbol id="svg-behaviour" viewBox="0 0 32 32">\n      <path d="M16 0C7.2 0 0 7.2 0 16s7.2 16 16 16 16-7.2 16-16S24.8 0 16 0zm0 30C8.3 30 2 23.7 2 16S8.3 2 16 2s14 6.3 14 14-6.3 14-14 14zm0-11c-.5 0-1-.4-1-1V7c0-.6.5-1 1-1 .6 0 1 .4 1 1v11c0 .6-.4 1-1 1zm0 5c-.5 0-1-.5-1-1v-1c0-.6.5-1 1-1 .6 0 1 .4 1 1v1c0 .5-.4 1-1 1z"/>\n    </symbol>\n    <symbol id="svg-profiles" viewBox="0 0 82 102">\n      <path d="M16 51h49c1.7 0 3 1.3 3 3s-1.3 3-3 3H16c-1.7 0-3-1.3-3-3s1.3-3 3-3zm49 12H16c-1.7 0-3 1.3-3 3s1.3 3 3 3h49c1.7 0 3-1.3 3-3s-1.3-3-3-3zm0 12H16c-1.7 0-3 1.3-3 3s1.3 3 3 3h49c1.7 0 3-1.3 3-3s-1.3-3-3-3zm17-45.2V95c0 3.9-3.1 7-7 7H7c-3.9 0-7-3.1-7-7V7c0-3.9 3.1-7 7-7h45.2L82 29.8zM53 28h18.8L53 9.2V28zm23 6H50c-1.7 0-3-1.3-3-3V6H7c-.5 0-1 .5-1 1v88c0 .5.5 1 1 1h68c.5 0 1-.5 1-1V34zm-63-5c0-7.7 6.3-14 14-14s14 6.3 14 14-6.3 14-14 14-14-6.3-14-14zm6 0c0 4.4 3.6 8 8 8s8-3.6 8-8-3.6-8-8-8-8 3.6-8 8z"/>\n    </symbol>\n    <symbol id="svg-marksheets" viewBox="0 0 119 75">\n      <path d="M30 0L0 75h10.8l6.7-17H55l6.7 17h10.8L42 0H30zM20 50L36.2 9.1 53 50H20zm99-13.5c0 1.9-1.6 3.5-3.5 3.5H99v16.5c0 1.9-1.6 3.5-3.5 3.5S92 58.4 92 56.5V40H75.5c-1.9 0-3.5-1.6-3.5-3.5s1.6-3.5 3.5-3.5H92V16.5c0-1.9 1.6-3.5 3.5-3.5s3.5 1.6 3.5 3.5V33h16.5c1.9 0 3.5 1.6 3.5 3.5z"/>\n    </symbol>\n    <symbol id="svg-documents" viewBox="0 0 82 102">\n      <path d="M52.2 0H7C3.1 0 0 3.1 0 7v88c0 3.9 3.1 7 7 7h68c3.9 0 7-3.1 7-7V29.8L52.2 0zm.8 9.2L71.8 28H53V9.2zM76 95c0 .5-.5 1-1 1H7c-.5 0-1-.5-1-1V7c0-.5.5-1 1-1h40v24c0 .2 0 .3.1.5 0 .2-.1.3-.1.5 0 1.7 1.3 3 3 3h26v61zM13 30c0-1.7 1.3-3 3-3h21c1.7 0 3 1.3 3 3s-1.3 3-3 3H16c-1.7 0-3-1.3-3-3zm0 12c0-1.7 1.3-3 3-3h15c1.7 0 3 1.3 3 3s-1.3 3-3 3H16c-1.7 0-3-1.3-3-3zm3 9h49c1.7 0 3 1.3 3 3s-1.3 3-3 3H16c-1.7 0-3-1.3-3-3s1.3-3 3-3zm52 15c0 1.7-1.3 3-3 3H16c-1.7 0-3-1.3-3-3s1.3-3 3-3h49c1.7 0 3 1.3 3 3zm0 12c0 1.7-1.3 3-3 3H16c-1.7 0-3-1.3-3-3s1.3-3 3-3h49c1.7 0 3 1.3 3 3z"/>\n    </symbol>\n    <symbol id="svg-catering" viewBox="0 0 512 512">\n      <path d="M324.8 6c-25.1 4.3-47.1 22.3-62.1 51l-4.4 8.5-1.7-5c-5.5-15.7-16.8-28.7-30.6-35.3-10.7-5.1-20.2-7.2-35.7-7.9l-12.2-.6-3.6 3.6c-4.8 4.8-4.9 9.5-.2 14.1 3.1 3.2 3.5 3.3 14.2 3.9 6.1.3 13.5 1.1 16.5 1.8 21.7 4.5 32.4 19.8 37.5 53.4 1.6 10.7 3.2 39.5 2.2 39.5-.4 0-3.6-1.1-7.2-2.5-7.5-2.8-15.4-7.7-30.8-19.2-25.9-19.2-41.3-24.4-66.2-22.2C69.2 95.3 10 178 10 271.6c0 26 3.7 48.4 12.1 73.9 18.2 54.8 58.4 108.3 110.4 146.9 10.4 7.7 16.6 10.9 25 13.1 17.8 4.5 36.6-.4 73.3-19.1 27.2-13.9 23.6-14 55.2 1.6 31.1 15.3 40.4 18.4 55.5 18.5 17.4 0 25-3.4 48-21.9 78.2-62.8 120.5-152.1 111.4-235.4-9.3-86-64.7-154.5-129.4-160.1-24.9-2.2-40.3 3-66.2 22.2-15.5 11.5-23.3 16.4-30.9 19.3-3.7 1.4-6.8 2.3-6.9 2.2-.1-.2-.8-8.3-1.4-18.1-.6-9.7-1.4-18.3-1.7-19-.3-.9 2.5-1.7 9.5-2.9 28.9-5 63.2-21.4 81.1-38.8 14.4-13.9 22.3-32 17.4-39.5-4.2-6.4-31.2-11.2-47.6-8.5zm23.5 22c.5.4-2.2 4-5.9 8-7.6 8.1-22.1 18.1-34 23.6-10 4.7-26.8 10.5-27.2 9.4-.5-1.4 8-14.8 13.3-21.1 9.8-11.5 23.5-19.5 35.5-20.8 7.3-.7 17.1-.3 18.3.9zm-184.9 83.5c8 2.1 17.2 7.1 28.6 15.6 30.4 22.6 42.7 28 64 28 20.3 0 32.7-5.2 59-24.6 24-17.7 32.9-21.1 51.5-20.2 13.4.7 20 2.4 33 8.6 24.3 11.6 45.2 33.6 60 63.1 14.3 28.5 20.5 56 20.5 90.5 0 35.3-6.5 62.4-23 96-8.6 17.5-19.5 34.7-32.1 50.7-16.7 21.1-55 56.2-68.9 63.1-3.8 1.9-6.1 2.2-14.5 2.1-12.5-.1-20.2-2.7-46-15.6-28.7-14.4-35.7-16.4-47.2-13.5-3.4.9-15.8 6.4-27.5 12.1-25 12.4-36.9 16.6-48.4 17.4-10.8.6-16-1.2-27.1-9.5C98.4 440.4 63 394.8 44.6 345.6 24.9 293 27.2 233.5 51 184.5c18.6-38.6 49.4-66 81.5-72.9 9.3-1.9 23.6-2 30.9-.1z"/>\n    </symbol>\n    <symbol id="svg-homework" viewBox="0 0 512 512">\n      <path d="M204.5 37.2c-15.4 2.9-31.4 15.4-38.5 30.2-4.6 9.7-6 16.6-6 30.2v10.3l-65.2.3-65.3.3-6.5 3.1c-8.3 3.9-15.5 11.1-19.4 19.4l-3.1 6.5v197l3.3 6.7c1.8 3.7 5.3 8.7 7.7 11.1l4.4 4.4.3 44.9.3 44.9 3.1 6.5c3.9 8.3 11.1 15.5 19.4 19.4l6.5 3.1h421l6.5-3.1c8.3-3.9 15.5-11.1 19.4-19.4l3.1-6.5.3-45 .3-44.9 4.4-4.4c2.5-2.4 5.9-7.3 7.7-11l3.3-6.7v-197l-3.1-6.5c-3.9-8.3-11.1-15.5-19.4-19.4l-6.5-3.1-65.2-.3-65.3-.3V97.2c0-19.9-4.9-33-16.8-44.8-7-7.1-18.6-13.4-28-15.3-6.6-1.4-95.4-1.3-102.7.1zm108.7 19c9.1 4.5 14.8 10.4 19.1 19.6 2.9 6.2 3.2 7.7 3.5 19.4l.4 12.8H175.8l.4-12.8c.3-11.7.6-13.2 3.5-19.4 1.7-3.7 5-8.7 7.2-11.1 4.4-4.8 13.5-10.1 19.7-11.6 2.2-.5 24.7-.9 51.5-.8l47.5.2 7.6 3.7zm169.3 70.2c6 2.8 8.7 5.6 11.4 11.6 2 4.4 2.1 6 2.1 98s-.1 93.6-2.1 98c-2.7 6-5.4 8.8-11.4 11.6l-5 2.4H300v-13.6c0-7.8-.5-15.4-1.2-17.8-1.6-5.5-9.9-13.8-15.4-15.4-5.7-1.7-49.1-1.7-54.8 0-2.6.8-6 3.1-9.1 6.3-6.6 6.5-7.5 9.9-7.5 26.9V348H34.5l-5-2.4c-6-2.8-8.7-5.6-11.4-11.6-2-4.4-2.1-6-2.1-98s.1-93.6 2.1-98c2.7-6 5.4-8.8 11.4-11.6l5-2.4h443l5 2.4zm-201 192.1l2.5 2.4v70.2l-2.5 2.4-2.4 2.5h-46.2l-2.4-2.5-2.5-2.4v-70.2l2.5-2.4 2.4-2.5h46.2l2.4 2.5zM212 377.6c0 7.8.5 15.4 1.2 17.8 1.6 5.5 9.9 13.8 15.4 15.4 5.7 1.7 49.1 1.7 54.8 0 5.5-1.6 13.8-9.9 15.4-15.4.7-2.4 1.2-10 1.2-17.8V364l90-.2 90-.3v39c0 37.1-.1 39.2-2.1 43.5-2.7 6-5.4 8.8-11.4 11.6l-5 2.4h-411l-5-2.4c-6-2.8-8.7-5.6-11.4-11.6-2-4.3-2.1-6.4-2.1-43.5v-39l90 .3 90 .2v13.6z"/>\n    </symbol>\n    <symbol id="svg-medical" viewBox="0 0 112 99">\n      <path d="M101.9 10.3C85-6.8 67.8.9 56.4 10.4c-.3.2-.6.2-.9 0C39-3.4 23.7-3.5 10.1 10.3-3.4 24-3.4 46.1 10.1 59.6l.1.1c26.3 24 36.9 33.6 41.2 37.5 1.3 1.2 2.9 1.7 4.5 1.7s3.2-.6 4.4-1.7c4.2-3.8 14.9-13.4 41.4-37.6l.1-.1c13.6-13.4 13.6-35.5.1-49.2zm-4.2 45C71.2 79.4 60.6 89 56.3 92.8c-.3.2-.6.2-.9 0-4.3-3.9-14.9-13.5-41.1-37.5-11.1-11.2-11.1-29.4.1-40.8 11.3-11.4 23.2-11.3 37.3.6 2.5 2.1 6.1 2.1 8.6 0 14.1-11.8 26-12 37.3-.5 11.2 11.3 11.2 29.5.1 40.7z"/>\n    </symbol>\n    <symbol id="svg-attendance" viewBox="0 0 106 102">\n      <path d="M103 74.8h-3V6h3c1.6 0 3-1.3 3-3 0-1.6-1.4-3-3-3H3C1.3 0 0 1.3 0 3c0 1.6 1.3 3 3 3h3v68.9H3c-1.7 0-3 1.3-3 3 0 1.6 1.3 3 3 3h29l-16.1 16c-1.2 1.2-1.2 3.1 0 4.2 1.2 1.2 3.1 1.2 4.2 0l20.3-20.3H50V90c0 1.6 1.3 3 3 3s3-1.3 3-3v-9.2h9.6l20.3 20.3c1.2 1.2 3.1 1.2 4.2 0 1.2-1.2 1.2-3.1 0-4.2L74 80.8h29c1.6 0 3-1.3 3-3 0-1.6-1.4-3-3-3zM12 6h82v68.9H12V6zm32 35.1L33.2 51.9c-1.2 1.2-3.1 1.2-4.2 0-1.2-1.2-1.2-3.1 0-4.2l12.8-12.8c.6-.6 1.4-.9 2.1-.9.8 0 1.5.3 2.1.9l11.3 11.3 15.4-15.4c1.2-1.2 3.1-1.2 4.2 0 1.2 1.2 1.2 3.1 0 4.2L61.2 50.9c-2.7 2.6-5.1 2.2-6.2 1"/>\n    </symbol>\n    <symbol id="svg-links" viewBox="0 0 454.3 391">\n      <path d="M354 186.4h-78.4c-.1 1.6-.2 3.1-.3 4.7-.3 3.7-.6 7.3-.9 11-.2 2.6-.4 5.1-.7 7.7-.4 3-.7 5.9-1.2 8.9-1 5.5-2.1 11-3.3 16.5-.5 2.3-1.2 4.7-2.2 6.8-1.7 3.5-4.9 4.8-8.6 5.2-2.4.2-4.7-.1-6.8-1.2-2.7-1.5-4.7-3.5-5.7-6.5-.3-1.1-.3-3.4 0-4.5l.2-1c4.4-17.1 4.4-30 5.4-47.4h-36.8v52.9c0 5.3-3.8 10.1-9 11.3-7 1.5-13-2.1-14.8-8.9-.1-.5-.2-1.3-.2-1.8V188v-1.5h-39.1c-.2 18.5 2.5 36 7.3 53.8.1.4 0 1 0 1.3l-.1.5c-1.4 5.2-6.1 9-11.5 9-3.5 0-6.6-.9-8.8-3.5-1.3-1.5-2.2-3.4-2.7-5.3-1.4-4.8-2.6-9.6-3.6-14.5-.9-4.1-1.5-8.2-2.2-12.4-.4-2.8-.7-5.6-1-8.4-.4-3.7-.8-7.4-1.2-11.2l-.3-4.5-.3-4.8H44.9c.2 3 .3 6 .5 9 .1 1.3.2 3.3.4 4.6.3 3 .6 6.1 1.1 9.1.6 3.4 1.3 6.7 2.1 10 1.7 6.9 4 13.6 6.8 20.2 4.7 11 10.7 21.3 18 30.8 2.1 2.7 4.4 5.3 6.8 7.9 3.3 3.5 6.8 7 10.2 10.4 1 1 2.2 2 3.3 2.9 3.5 2.9 4.4 6.7 3.9 11-.3 2.7-1.1 5.2-3.1 7.1-3.2 3.1-6.9 4.2-11.2 2.8-2.8-.9-5.3-2.2-7.4-4.3-3-2.9-6.1-5.7-9.1-8.7-5.9-5.9-10.8-12.6-15.6-19.4-10.2-14.3-18.5-29.6-23.6-46.4-1.7-5.5-3.2-11.1-4.3-16.8-1.1-5.8-1.8-11.7-2.2-17.5-.4-6.3-.6-12.6-.5-18.8.1-6.5.9-12.9 2.2-19.2 1.3-6.3 2.3-12.6 4.1-18.8 4.7-16.6 12.3-31.9 22-46.1 3.1-4.6 6.5-9 10.1-13.2 3.9-4.6 7.9-9.1 12.3-13.3 4.8-4.6 10.1-8.7 15.2-12.9 6.1-5 12.8-9.2 19.6-13.1 9-5.2 18.4-9.4 28.1-13 11.1-4.1 22.5-6.9 34.2-8.8 3.6-.6 7.2-1.1 10.8-1.4 3.2-.3 6.4-.5 9.6-.7 4.9-.3 9.8-.7 14.7-.7 3.1 0 6.3.6 9.4.9 1.9.2 3.9.3 5.8.5 3.4.4 6.7.7 10.1 1.2 3.6.6 7.2 1.2 10.7 2 5.4 1.3 10.7 2.8 16 4.5 6.4 2.1 12.9 4.2 19.1 6.9 5.5 2.3 10.8 5.2 16.1 8.1 4.1 2.2 10.6 6.2 14.4 8.9 4.1 2.9 8.2 5.9 12.1 9.2 4.9 4.2 9.6 8.5 14.2 13 3.2 3.2 6 6.7 9 10.1 4.5 5.1 8.4 10.6 12 16.3 2.2 3.5 4.3 7 6.3 10.6 8.4 15.2 13.4 31.6 16.5 48.6 1.9 10.2 2.9 20.5 2.5 30.9-.2 4.6-.6 9.2-.9 13.9-.6 8.3-2.8 16.2-4.6 24.2-.7 2.9-1.9 5.7-2.7 8.6-1.4 4.9-4.4 8.2-9.5 9.4-4 1-9.6-1.1-12-4.4-3-4.2-3-8.6-1.4-13.2 2.6-7.5 4.7-15.1 5.6-22.9.3-2.6.6-5.2.8-7.8.3-3.8.5-7.6.7-11.4 0-.3-.1-.6-.1-.9zm-221.4-73.5h-1.5c-12.9.2-25.8.3-38.7.5-8.2.1-16.5.3-24.7.4-.5 0-1.2.2-1.4.6-3.9 6.2-7.4 12.7-10.2 19.4-2.6 6.1-4.9 12.4-6.6 18.8-.9 3.1-1.4 6.3-2.2 9.6h79.9c-.2-16.6 3.1-32.8 5.4-49.3zm137.1-2.2c3.7 17.3 5.5 34.3 6.1 51.5H352c-1.2-5.1-2.2-10.1-3.6-14.9-3.9-13.1-10.4-25-17.8-36.3-.5-.7-1-1-1.8-1l-19.5.3c-10.4.1-20.7.3-31.1.4-2.8.1-5.6 0-8.5 0zm-79.1 1.5h-1.4c-7.2.1-14.5.1-21.7.2-3 0-6.1.2-9.1.2-.8 0-1 .4-1.2 1.1-.9 5-1.9 10-2.9 15-1.4 7.8-2.3 15.6-2.7 23.6-.2 3.3-.3 6.6-.4 10h39.4v-50.1zm61 50.1c-.4-17.3-2.9-34.2-6.6-51.1-10.3.2-20.3.3-30.4.5v50.6h37zm-169-68.9H89l47.4-.6c.9 0 1.3-.3 1.5-1.2 1.1-3.5 2.3-6.9 3.5-10.3 2.7-7.8 5.9-15.3 9.9-22.6 1.7-3.2 3.6-6.3 5.5-9.6-1.1.3-2 .6-2.9.9-6.6 2.3-13.2 4.3-19.6 7-12.5 5.2-24 12.1-34.8 20.3-6.2 4.6-12 9.8-16.9 16.1zm230.8-3.3c-18.8-19-41.1-31.6-66.3-39.4 7.5 12.7 13.5 26 17.5 40.1 16.2-.2 32.4-.4 48.8-.7zM190.6 47.6c-3.2 2.1-5.9 4.4-8.2 7.3-6.6 8.3-11.4 17.6-15.5 27.3-1.4 3.2-2.5 6.6-3.8 10.1 9.4-.1 18.5-.3 27.5-.4V47.6zm24 43.8H237.4c1.9 0 1.9 0 1.4-1.8-3.8-11.6-9.4-22.4-16.6-32.3-1.9-2.6-4.4-4.8-6.6-7.1-.2-.2-.6-.4-1-.6v41.8zM303.2 346.7H386.8c9.1 0 17.1-3 23.6-9.5 4.4-4.4 7-9.9 8.2-16 1-5.4 1.3-10.7-.7-15.9-4.3-11.5-12.8-18-24.5-20.7-4.6-1-9.4-.8-14.1-.8l-75.9.3h-.9c1.1-1.5 2-2.9 3-4.2.9-1.1 1.9-2.1 2.8-3.1 4.9-5.3 10.7-9.4 17.3-12.4 4.3-2 8.8-3.4 13.5-4.1 1-.1 2-.2 3.1-.2 13 0 26.1-.1 39.1 0 8.9.1 17.6 1.2 26.1 3.8 5.5 1.7 10.5 4.5 15 8.1 10.6 8.4 16.7 19.5 19.7 32.5 1.2 5.1 1.4 10.3 1 15.4-.8 10.7-4.5 20.4-11.1 28.9-2.3 3-4.8 5.8-7.6 8.3-5.8 5.2-12.5 8.9-20 11.2-2.9.9-5.9 1.5-9 1.5-17-.1-33.9-.1-50.9 0-4.7 0-9.2-.8-13.6-2.3-6-2-11.4-4.8-16.4-8.7-4.1-3.4-8-7.4-11.3-12.1z"/>\n      <path d="M273.3 284h-55.1c-7.5 0-15-.4-22.4-.4-6.2 0-12.2 1-17.8 3.7-8.9 4.3-14.2 11.5-16.6 21-1.5 6.3-1.7 12.5 1 18.6 2.5 5.6 6.3 10.2 11.2 13.8 5.7 4.2 12.3 6.2 19.3 6.2 6.7.1 13.4-.2 20.2-.2h58.8c.3 0 .6 0 1.2.1-1.4 1.7-2.5 3.4-3.9 4.9-7.4 8.2-16.4 13.8-27.1 16.8-3.1.9-6.3 1.4-9.6 1.4-13.6-.1-27.2 0-40.8-.1-7 0-14-.8-20.7-3.1-5.1-1.7-9.6-4.5-13.8-7.9-11.3-9.1-17.5-21.1-20-35.1-1.8-10.2-.7-20.1 3.3-29.7 2.2-5.2 5.1-10.1 8.8-14.4 7.8-9.1 17.5-15.1 29.2-18.1 4.1-1 8.4-1.5 12.7-1.5 11 .1 21.9-.1 32.9.1 9 .2 17.9 1.3 26.5 4.5 4.2 1.6 8 4 11.4 6.8 2.4 2 4.7 4.2 6.9 6.4 1.7 1.8 3.2 3.9 4.7 5.9-.2.1-.2.2-.3.3z"/>\n      <path d="M295.7 327.9h-61.8c-3.9 0-6.8-1.6-9-4.8-3.2-4.6-3.4-11.7-.5-16.1 2.3-3.5 5.5-5.3 9.8-5.3 40.8 0 81.7 0 122.5.1 2.6 0 5.2.5 7.8 1 4.5.9 7 4 8 8.3 1.1 4.5.6 8.8-2.5 12.5-1.7 2-4.1 3.1-6.6 3.6-2.1.4-4.3.7-6.4.7-20.4.1-40.8 0-61.3 0z"/>\n    </symbol>\n    <symbol id="svg-communicator" viewBox="0 0 96 68">\n      <path d="M89 0H7C3.1 0 0 3.1 0 7v54c0 3.9 3.1 7 7 7h82c3.9 0 7-3.1 7-7V7c0-3.9-3.1-7-7-7zm1 61c0 .5-.5 1-1 1H7c-.5 0-1-.5-1-1V7c0-.5.5-1 1-1h82c.5 0 1 .5 1 1v54zm-7.7-9.9c1 1 1 2.6 0 3.5-1 1-2.6 1-3.5 0l-9.9-9.9c-1-1-1-2.6 0-3.5 1-1 2.6-1 3.5 0l9.9 9.9zm-55-9.4c1 1 1 2.6 0 3.5l-9.9 9.9c-1 1-2.6 1-3.5 0-1-1-1-2.6 0-3.5l9.9-9.9c.9-.9 2.5-.9 3.5 0zm50.6-24.8L50.6 44.3c-.1.2-.2.4-.4.5-.2.2-.4.3-.6.4-1 .9-2.5.9-3.4-.1-.4-.4-.6-.9-.7-1.5L18.7 16.9c-1-1-1-2.6 0-3.5 1-1 2.6-1 3.5 0l26.1 26.1 26.1-26.1c1-1 2.6-1 3.5 0 1 1 1 2.6 0 3.5z"/>\n    </symbol>\n    <symbol id="svg-change-log" viewBox="0 0 82 108">\n      <path d="M75 6H65V3c0-1.7-1.3-3-3-3-1.6 0-3 1.4-3 3v3H23V3c0-1.7-1.4-3-3-3-1.7 0-3 1.4-3 3v3H7c-3.9 0-7 3.1-7 7v88c0 3.9 3.1 7 7 7h68c3.9 0 7-3.1 7-7V13c0-3.9-3.1-7-7-7zm1 95c0 .5-.5 1-1 1H7c-.5 0-1-.5-1-1V13c0-.5.5-1 1-1h10v3c0 1.7 1.3 3 3 3 1.6 0 3-1.4 3-3v-3h36v3c0 1.7 1.4 3 3 3 1.7 0 3-1.4 3-3v-3h10c.5 0 1 .5 1 1v88zM60 38c0 1.7-1.4 3-3 3H25c-1.6 0-3-1.4-3-3s1.4-3 3-3h32c1.7 0 3 1.4 3 3zm0 13c0 1.7-1.4 3-3 3H25c-1.6 0-3-1.4-3-3 0-1.7 1.4-3 3-3h32c1.7 0 3 1.3 3 3zm0 13c0 1.6-1.4 3-3 3H25c-1.6 0-3-1.4-3-3 0-1.7 1.4-3 3-3h32c1.7 0 3 1.4 3 3zm0 13c0 1.7-1.4 3-3 3H25c-1.6 0-3-1.4-3-3 0-1.7 1.4-3 3-3h32c1.7 0 3 1.3 3 3z"/>\n    </symbol>\n    <symbol id="svg-assessment-grid" viewBox="0 0 82 108">\n      <path d="M18 39c0 5-4 9-9 9s-9-4-9-9 4-9 9-9 9 4 9 9zm23 9c5 0 9-4 9-9s-4-9-9-9-9 4-9 9 4 9 9 9zm32-18c-5 0-9 4-9 9s4 9 9 9 9-4 9-9-4-9-9-9zM9 60c-5 0-9 4-9 9s4 9 9 9 9-4 9-9-4-9-9-9zm43 9c0 6.1-4.9 11-11 11s-11-4.9-11-11 4.9-11 11-11 11 4.9 11 11zm-6 0c0-2.8-2.2-5-5-5s-5 2.2-5 5 2.2 5 5 5 5-2.2 5-5zm27-9c-5 0-9 4-9 9s4 9 9 9 9-4 9-9-4-9-9-9zM41 90c-5 0-9 4-9 9s4 9 9 9 9-4 9-9-4-9-9-9zM9 0C4 0 0 4 0 9s4 9 9 9 9-4 9-9-4-9-9-9zm32 18c5 0 9-4 9-9s-4-9-9-9-9 4-9 9 4 9 9 9zm32 0c5 0 9-4 9-9s-4-9-9-9-9 4-9 9 4 9 9 9z"/>\n    </symbol>\n    <symbol id="svg-employee" viewBox="0 0 159 96">\n      <path d="M157 25.8L81.1.2c-.6-.2-1.3-.2-1.9 0L2.1 25.8C.8 26.2 0 27.3 0 28.6c0 1.3.8 2.4 2.1 2.9l33 10.9v27c0 4.3 4.3 7.5 13 9.9V93c0 1.7 1.3 3 3 3 .9 0 1.7-.4 2.2-1 .1-.1.1-.1.2-.1l5.8-5.1 5.8 5.1c.4.3.8.5 1.3.6.5.3 1.1.5 1.7.5 1.7 0 3-1.4 3-3V82.7c2.9.2 6 .2 9 .2 15.8 0 41.8-2.5 44.7-11.8.2-.4.3-.8.3-1.2V42.8c0-.2 0-.4-.1-.5l32-10.8c1.2-.4 2-1.6 2-2.8 0-1.3-.8-2.5-2-2.9zM48 47.9v25.2c-5.2-1.6-6.9-3.2-7-3.7v-25l7.2 2.4c-.1.3-.2.7-.2 1.1zm17 5v33.9l-3.6-3.1c-.6-.6-1.4-.8-2.2-.7-.8-.1-1.6.2-2.2.7l-3 2.7V48.7l11 3.7v.5zm54 16.5c-.9 2.7-15 7.6-39 7.6-3 0-6-.1-9-.3V54.4l8.2 2.7c.3.1.6.2.9.2.3 0 .6-.1 1-.2L119 44.3v25.1zM80.2 51.1L12.5 28.6 80.2 6.2l66.4 22.4-66.4 22.5z"/>\n    </symbol>\n\n    <symbol id="svg-resourcebooking" viewBox="0 0 402 402">\n      <path d="M85.63 93.03V55.4c0-5.2 4.2-9.4 9.4-9.4s9.4 4.2 9.4 9.4v37.63c0 5.2-4.2 9.4-9.4 9.4s-9.4-4.2-9.4-9.4zm159.9 9.4c5.2 0 9.4-4.2 9.4-9.4V55.4c0-5.2-4.2-9.4-9.4-9.4s-9.4 4.2-9.4 9.4v37.63c0 5.2 4.2 9.4 9.4 9.4zM349 271.76c0 41.56-33.7 75.25-75.25 75.25s-75.25-33.7-75.25-75.25 33.7-75.25 75.25-75.25S349 230.2 349 271.75zm-18.8 0c0-31.12-25.33-56.44-56.45-56.44s-56.44 25.33-56.44 56.45 25.33 56.44 56.45 56.44 56.44-25.33 56.44-56.45zM123.24 158.87H85.62v37.63h37.63v-37.63zm-37.63 94.07h37.63V215.3H85.62v37.64zm56.44-56.44h37.63v-37.63h-37.64v37.63zm0 56.44h37.63V215.3h-37.64v37.64zM66.8 269.88V140.06h206.95v37.63h18.8v-73.4c0-11.42-9.1-20.68-20.36-20.68h-7.86v9.4c0 10.37-8.43 18.82-18.8 18.82s-18.82-8.45-18.82-18.8V83.6H113.84v9.4c0 10.37-8.43 18.82-18.8 18.82S76.2 103.4 76.2 93.04V83.6h-7.84c-11.26 0-20.38 9.26-20.38 20.7v165.56c0 11.4 9.12 20.68 20.38 20.68h111.3v-18.8H68.4c-.85 0-1.57-.9-1.57-1.88zm169.33-73.38v-37.63H198.5v37.63h37.63zm65.84 75.25h-28.22v-28.22c0-5.2-4.2-9.4-9.4-9.4s-9.4 4.2-9.4 9.4v37.63c0 5.2 4.2 9.4 9.4 9.4h37.62c5.2 0 9.4-4.2 9.4-9.4s-4.2-9.4-9.4-9.4z"/>\n    </symbol>\n\n    <svg id="svg-documents_message" viewBox="0 0 500 500">\n      <path d="M390.533 215.38l-39.025-34.06v-18.475c0-6.662-5.42-12.082-12.082-12.082h-22.93l-56.483-49.3c-4.77-4.007-11.957-4.01-16.763.03l-57.827 49.27H160.65c-6.66 0-12.08 5.42-12.08 12.082v19.318l-38.925 33.164c-3.458 2.128-5.79 5.915-5.79 10.265v164.466c0 6.66 5.42 12.082 12.082 12.082H384.14c6.66 0 12.082-5.42 12.082-12.082V225.59c0-4.308-2.285-8.07-5.69-10.21zm-39.025 12.627v-27.445l14.832 12.946 9.81 8.56-7.057 5.936-17.586 14.79v-14.79zm-99.872-114.613l42.813 37.368h-86.673l43.86-37.368zm-88.568 114.613V165.26H337.01v89.732l-86.97 73.15-86.97-73.15v-26.986zm-28.935-14.498l14.437-12.3v41.587l-17.586-14.79-6.978-5.87 10.127-8.628zm-15.78 22.816l91.664 77.1-91.663 67.164V236.326zm14.91 151.314l88.174-64.61 20.236 17.022c2.386 2.007 5.375 3.01 8.365 3.01s5.98-1.003 8.363-3.01l20.24-17.02 88.174 64.608h-233.55zm248.46-7.05l-91.662-67.165 91.664-77.1V380.59z"/><path d="M188.02 196.732h124.04c2.657 0 4.832-2.175 4.832-4.833v-4.834c0-2.658-2.175-4.833-4.833-4.833H188.02c-2.66 0-4.834 2.174-4.834 4.833v4.833c0 2.657 2.175 4.832 4.833 4.832zM188.02 227.57h124.04c2.657 0 4.832-2.176 4.832-4.834v-4.833c0-2.658-2.175-4.833-4.833-4.833H188.02c-2.66 0-4.834 2.175-4.834 4.833v4.833c0 2.658 2.175 4.833 4.833 4.833zM316.89 253.575v-4.833c0-2.658-2.174-4.833-4.832-4.833h-124.04c-2.658 0-4.833 2.174-4.833 4.832v4.833c0 2.658 2.175 4.833 4.833 4.833h124.04c2.66 0 4.833-2.175 4.833-4.833z"/>\n    </svg>\n\n    \x3c!--analytics section--\x3e\n    <symbol id="svg-analytics" viewbox="0 0 512 512">\n      <path fill="#FFF" d="M488.4 492h-21.9V173.5c0-14.8-12.1-26.9-26.9-26.9h-49c-14.8 0-26.9 12.1-26.9 26.9V492H308V317.8c0-14.8-12.1-26.9-26.9-26.9h-49c-14.8 0-26.9 12.1-26.9 26.9V492h-55.7v-90.2c0-14.8-12.1-26.9-26.9-26.9h-49c-14.8 0-26.9 12.1-26.9 26.9V492H23.6c-5.5 0-10 4.5-10 10s4.5 10 10 10h464.8c5.5 0 10-4.5 10-10s-4.5-10-10-10zm-358.9 0H66.7v-90.2c0-3.8 3.1-6.9 6.9-6.9h49c3.8 0 6.9 3.1 6.9 6.9V492zm158.5 0h-62.8V317.8c0-3.8 3.1-6.9 6.9-6.9h49c3.8 0 6.9 3.1 6.9 6.9V492zm158.5 0h-62.8V173.5c0-3.8 3.1-6.9 6.9-6.9h49c3.8 0 6.9 3.1 6.9 6.9V492zM102.3 275.5c-3.9-3.9-3.9-10.2 0-14.1L282 81.6c1.9-1.9 4.4-2.9 7.1-2.9 2.7 0 5.2 1.1 7.1 2.9l37.3 37.3L432.3 20H395c-5.5 0-10-4.5-10-10s4.5-10 10-10h61c2.7-.1 5.5.8 7.6 2.9 2.1 2.1 3 4.9 2.9 7.6V68c0 5.5-4.5 10-10 10s-10-4.5-10-10V34.1l-106 106c-3.9 3.9-10.2 3.9-14.1 0l-37.3-37.3-172.7 172.7c-2 2-4.5 2.9-7.1 2.9-2.5 0-5.1-1-7-2.9zm-36.7 27.8c0-5.5 4.5-10 10-10s10 4.5 10 10-4.5 10-10 10-10-4.5-10-10z"></path>\n    </symbol>\n\n    \x3c!--account info student--\x3e\n    <symbol id="svg-account" viewbox="211.368 297.999 22.979 31.001">\n      <path fill="#FFF" d="M233.942 320.83l-.03-.172c-.29-1.646-.69-3.9-2.37-5.15-.707-.524-1.47-.77-2.142-.99-.227-.073-.442-.143-.646-.223-.293-.115-.56-.226-.807-.35-.436-.218-.964-.095-1.255.294-.965 1.27-2.255 1.93-3.835 1.93s-2.87-.66-3.835-1.93c-.29-.39-.82-.52-1.255-.3-.247.12-.513.23-.806.35-.2.08-.42.15-.64.22-.67.21-1.43.46-2.14.99-1.68 1.24-2.09 3.59-2.37 5.15l-.03.17c-.23 1.27-.36 2.51-.4 3.68-.07 2.05 1.44 2.58 2.25 2.87.91.32 1.93.6 3.12.85 2.39.5 4.33.74 6.14.75 1.79-.01 3.74-.253 6.12-.753 1.19-.25 2.21-.53 3.19-.885.73-.26 2.24-.798 2.17-2.846-.04-1.17-.17-2.41-.4-3.685zm-2.523 4.68c-.83.295-1.76.55-2.85.78-2.25.473-4.07.698-5.71.71-1.65-.01-3.47-.237-5.72-.71-1.09-.23-2.03-.485-2.93-.81-.75-.268-.86-.343-.84-.896.03-1.077.16-2.222.37-3.406l.03-.173c.23-1.317.55-3.12 1.59-3.893.44-.328.98-.506 1.56-.692.26-.086.52-.17.76-.263l.24-.096c1.29 1.39 2.98 2.11 4.92 2.11s3.63-.72 4.92-2.11l.24.1c.24.1.49.18.75.26.57.19 1.12.37 1.56.7 1.04.78 1.36 2.58 1.59 3.9l.03.17c.21 1.18.336 2.33.373 3.41.02.56-.09.63-.916.93zm-8.52-12.456c3.45 0 5.75-2.734 6.3-7.502.26-2.32-.24-4.27-1.47-5.637-1.12-1.255-2.79-1.915-4.83-1.915s-3.71.66-4.84 1.914c-1.23 1.366-1.73 3.315-1.47 5.636.55 4.768 2.84 7.5 6.29 7.5zm-3.34-11.806c.74-.828 1.86-1.248 3.33-1.248s2.59.42 3.33 1.248c.82.915 1.16 2.363.97 4.077-.25 2.14-1.14 5.727-4.3 5.73-3.17 0-4.06-3.59-4.3-5.73-.2-1.714.14-3.162.96-4.077z"></path>\n    </symbol>\n    \x3c!--achievement student--\x3e\n    <symbol id="svg-achievement" viewbox="0 0 29.958 30">\n      <path d="M25.964 3.1V0H3.994v3.1C1.717 3.567 0 5.587 0 8c0 2.415 1.717 4.434 3.994 4.9V14c0 5.728 4.396 10.442 9.986 10.95V28H8.987c-.55 0-.998.45-.998 1s.448 1 .997 1H20.97c.55 0 1-.45 1-1s-.45-1-1-1H15.98v-3.05c5.59-.51 9.986-5.223 9.986-10.95v-1.1c2.276-.466 3.994-2.486 3.994-4.9s-1.718-4.434-3.994-4.9zm-21.97 7.716C2.834 10.4 1.997 9.302 1.997 8c0-1.302.837-2.402 1.997-2.816v5.632zM23.967 14c0 4.963-4.033 9-8.988 9-4.956 0-8.988-4.037-8.988-9V2h17.976v12zm1.997-3.184V5.184c1.16.414 1.997 1.514 1.997 2.816 0 1.302-.837 2.4-1.996 2.816z"></path>\n    </symbol>\n    \x3c!--contact student--\x3e\n    <symbol id="svg-contact" viewbox="0 0 27.598 28">\n      <path d="M25.986 19.82l-5.11-2.666c-.6-.31-1.295-.118-1.67.23l-.597.557c-1.17 1.08-3.02 1.34-4.42.61-2.11-1.1-3.8-2.81-4.89-4.95-.75-1.46-.51-3.26.59-4.48l.542-.6c.252-.273.39-.633.39-1.01 0-.233-.055-.47-.16-.68L8.05 1.638C7.54.623 6.53 0 5.418 0c-.654 0-1.272.21-1.79.612L2.075 1.815C.3 3.188-.432 5.56.255 7.715c2.96 9.266 10.137 16.738 19.193 19.988.555.2 1.14.297 1.723.297 1.4 0 2.8-.557 3.8-1.58l1.78-1.826c.55-.567.86-1.316.86-2.105 0-1.13-.62-2.16-1.61-2.67zm-.647 3.37l-1.78 1.825c-.87.893-2.29 1.222-3.46.804C11.62 22.77 4.9 15.77 2.13 7.1c-.43-1.35.026-2.837 1.137-3.697L4.82 2.2c.176-.133.376-.2.597-.2.37 0 .707.21.878.546l2.467 4.868-.312.345c-1.654 1.82-2.013 4.54-.89 6.75 1.273 2.5 3.255 4.51 5.73 5.81 2.145 1.12 4.88.74 6.655-.91l.343-.32 4.8 2.5c.333.17.54.51.54.89 0 .26-.103.51-.287.7z"></path>\n    </symbol>\n    \x3c!--attainment student--\x3e\n    <symbol id="svg-attainment" viewbox="0 0 30.024 27.019">\n      <path d="M27.98.246c-.028 0-2.774-.013-4.2-.013-3.89 0-7.122 1.374-8.71 2.74C13.485 1.606 10.253.134 6.364.134 4.933.135 2.188.002 2.117 0 .95 0 0 .924 0 2.08v19.575c0 1.12.895 2.04 2.015 2.093.343.05 1.27.12 4.067.12 4.113 0 7.187 2.818 7.24 2.865l.287.256h.403c.387 0 .745-.094 1.058-.274.314.18.67.3 1.06.3l.4.004.29-.27c.03-.028 3.11-2.88 7.24-2.88 2.798 0 3.664-.07 4.008-.12 1.12-.054 1.957-.973 1.957-2.094V2.08c0-1.156-.834-1.834-2.044-1.834zm-13.968 24.5c-1.27-.98-4.184-2.858-7.93-2.858-2.837 0-3.598-.076-3.666-.076-.006 0-.006 0-.003.002l-.296-.044c-.062 0-.116-.053-.116-.114V2.08c0-.062.054-.115.073-.116.114.005 2.817.12 4.288.12 4.12 0 6.908 1.775 7.65 2.52v20.14zm14.01-3.09c0 .06.004.113-.058.113l-.03-.025-.13.045c-.024.004-.673.097-3.812.097-3.745 0-6.98 1.88-7.98 2.857V4.604c1-.746 3.588-2.52 7.708-2.52 1.47 0 4.144-.116 4.215-.12.06 0 .086.053.086.114v19.577z"></path>\n    </symbol>\n\n    <symbol id="svg-exams" viewBox="0 0 48 48">\n      <path d="M47.5 44.5H.5v-41h47v41zm-45-2h43v-37h-43v37z"/><path d="M9 9.5h30v2H9zM13 15.5h22v2H13zM7.5 36.5h12v2h-12zM7.5 31.5h12v2h-12zM35.5 33.5c-3.3 0-6-2.7-6-6s2.7-6 6-6 6 2.7 6 6-2.7 6-6 6zm0-10c-2.2 0-4 1.8-4 4s1.8 4 4 4 4-1.8 4-4-1.8-4-4-4z"/><path d="M39.5 41.4l-4-2.7-4 2.7V29.5l1.6 1.2c1.4 1.1 3.4 1.1 4.8 0l1.6-1.2v11.9zm-4-5.1l2 1.3v-4.5c-1.3.5-2.7.5-4 0v4.5l2-1.3z"/>\n    </symbol>\n\n    <symbol id="svg-attendance_absencereporting" viewBox="0 0 48 48">\n      <path d="M18.8 47.5c-.2 0-.4-.1-.6-.2-3.3-2.3-6.5-5-9.5-8S3 33.1.7 29.8c-.2-.3-.2-.6-.1-.9.1-.3.3-.5.6-.6 8.3-3.4 14-8.4 18.1-12.1l.1-.1.1-.1c.8-.5 1.8-.8 2.8-.8 2.4 0 5 1.2 7.1 3.3 3.1 3.1 4.2 7.3 2.6 10l-.1.1-.1.1c-3.7 4.1-8.7 9.8-12.1 18.1-.1.3-.3.5-.6.6-.1.1-.2.1-.3.1zM3 29.6c2.1 2.9 4.4 5.6 7.1 8.3 2.6 2.6 5.4 5 8.3 7.1 3.5-8 8.4-13.5 12-17.5l.1-.1c1.1-1.8 0-5-2.3-7.4-1.7-1.7-3.9-2.8-5.7-2.8-.7 0-1.2.1-1.7.4l-.1.1c-4.2 3.6-9.6 8.4-17.7 11.9z" /><path d="M30.8 22.9h-.2c-.3-.1-.5-.2-.6-.5-.5-.9-1.1-1.7-1.8-2.4s-1.6-1.4-2.4-1.8c-.3-.1-.4-.4-.5-.6s0-.6.2-.8c1.1-1.6 2.7-3.9 4.6-7.2 2.9-4.9 8.5-9 12.5-9C43.8.5 45 1 46 1.9V2h.1c1.1 1.1 1.6 2.7 1.3 4.5-.5 4-4.4 8.9-8.9 11.6-3.3 1.9-5.6 3.5-7.2 4.6-.1.1-.3.2-.5.2zm-3.3-6c.7.5 1.4 1 2 1.6.6.6 1.1 1.3 1.6 2 1.6-1.1 3.7-2.5 6.4-4.1 4-2.3 7.5-6.8 7.9-10.1.2-1.2-.1-2.2-.8-2.8l-.1-.1c-.6-.6-1.3-.9-2.2-.9-3.3 0-8.3 3.7-10.8 8-1.5 2.8-2.9 4.8-4 6.4zM11.1 46.2c-1.6 0-3.1-.6-4.2-1.7-2.3-2.3-2.3-6 0-8.3l.1-.1c.4-.4 1-.3 1.3.1.5.6 1.1 1.2 1.7 1.7 1.6 1.6 3.5 3.3 5.4 4.8.2.2.3.4.4.7 0 .3-.1.5-.2.7-.1.2-.2.3-.3.4-1.1 1.1-2.6 1.7-4.2 1.7zm-3.3-7.8c-.9 1.5-.7 3.4.6 4.7 1.3 1.3 3.5 1.5 5 .5-1.6-1.4-3.2-2.8-4.6-4.2l-1-1z"/>\n    </symbol>\n\n    \x3c!--attandance student--\x3e\n    <symbol id="svg-attendance-info" viewbox="0 0 612 612">\n      <path d="M306 153c-21.114 0-38.25 17.136-38.25 38.25S284.886 229.5 306 229.5s38.25-17.117 38.25-38.25S327.133 153 306 153zm0 114.75c-21.114 0-38.25 17.117-38.25 38.25v114.75c0 21.114 17.136 38.25 38.25 38.25s38.25-17.136 38.25-38.25V306c0-21.114-17.117-38.25-38.25-38.25zM306 0C137.28 0 0 137.28 0 306s137.28 306 306 306 306-137.28 306-306S474.72 0 306 0zm0 554.625C168.893 554.625 57.375 443.088 57.375 306S168.893 57.375 306 57.375c137.088 0 248.625 111.537 248.625 248.625S443.088 554.625 306 554.625z"></path>\n    </symbol>\n\n    \x3c!--communicator--\x3e\n    <symbol id="svg-parents" viewbox="0 0 22.875 31">\n      <path d="M20.71 29.363c-.983.354-1.997.635-3.175.884-2.372.5-4.307.74-6.086.753-1.804-.013-3.738-.252-6.11-.753-1.18-.25-2.193-.53-3.1-.857-.798-.286-2.303-.827-2.232-2.873.04-1.17.174-2.41.4-3.688l.03-.172c.273-1.552.686-3.9 2.36-5.148.702-.526 1.46-.772 2.13-.99.225-.075.44-.144.643-.224.292-.116.556-.226.803-.35.433-.22.96-.093 1.25.294.96 1.28 2.242 1.93 3.814 1.93 1.57 0 2.856-.65 3.816-1.93.29-.39.814-.513 1.248-.295.248.125.512.235.805.35.202.08.416.15.643.223.67.22 1.426.466 2.13.992 1.67 1.248 2.068 3.503 2.357 5.148l.03.17c.227 1.274.362 2.515.402 3.69.07 2.045-1.434 2.586-2.156 2.845zm-.214-6.184v-.002l-.03-.172c-.232-1.317-.55-3.12-1.584-3.894-.44-.328-.982-.504-1.555-.693-.264-.086-.515-.17-.754-.263l-.24-.096c-1.286 1.384-2.964 2.11-4.896 2.11s-3.61-.726-4.896-2.11c-.077.033-.156.065-.237.097-.24.094-.49.177-.757.264-.572.188-1.112.364-1.554.693-1.036.773-1.352 2.576-1.583 3.893l-.032.173c-.21 1.182-.335 2.328-.372 3.405-.02.553.088.627.833.895.9.326 1.826.58 2.912.81 2.24.474 4.045.7 5.687.71 1.637-.01 3.444-.236 5.682-.71 1.086-.23 2.013-.484 2.834-.78.825-.298.93-.372.912-.925-.037-1.08-.16-2.226-.372-3.406zm-9.01-8.126c-3.436 0-5.72-2.734-6.267-7.5-.267-2.32.236-4.27 1.455-5.636C7.795.663 9.457 0 11.485 0c2.028 0 3.69.663 4.81 1.917 1.22 1.365 1.722 3.314 1.457 5.635-.547 4.767-2.83 7.5-6.266 7.502zm3.316-11.806C14.064 2.42 12.947 2 11.485 2c-1.462 0-2.58.42-3.318 1.248-.815.915-1.157 2.363-.96 4.077.245 2.14 1.126 5.728 4.278 5.728 3.152 0 4.035-3.588 4.28-5.728.196-1.714-.146-3.162-.963-4.077z"></path>\n    </symbol>\n\n    <symbol id="svg-teachers" viewbox="0 0 159 96">\n      <path d="M157 25.8L81.1.2c-.6-.2-1.3-.2-1.9 0L2.1 25.8C.8 26.2 0 27.3 0 28.6c0 1.3.8 2.4 2.1 2.9l33 10.9v27c0 4.3 4.3 7.5 13 9.9V93c0 1.7 1.3 3 3 3 .9 0 1.7-.4 2.2-1 .1-.1.1-.1.2-.1l5.8-5.1 5.8 5.1c.4.3.8.5 1.3.6.5.3 1.1.5 1.7.5 1.7 0 3-1.4 3-3V82.7c2.9.2 6 .2 9 .2 15.8 0 41.8-2.5 44.7-11.8.2-.4.3-.8.3-1.2V42.8c0-.2 0-.4-.1-.5l32-10.8c1.2-.4 2-1.6 2-2.8 0-1.3-.8-2.5-2-2.9zM48 47.9v25.2c-5.2-1.6-6.9-3.2-7-3.7v-25l7.2 2.4c-.1.3-.2.7-.2 1.1zm17 5v33.9l-3.6-3.1c-.6-.6-1.4-.8-2.2-.7-.8-.1-1.6.2-2.2.7l-3 2.7V48.7l11 3.7v.5zm54 16.5c-.9 2.7-15 7.6-39 7.6-3 0-6-.1-9-.3V54.4l8.2 2.7c.3.1.6.2.9.2.3 0 .6-.1 1-.2L119 44.3v25.1zM80.2 51.1L12.5 28.6 80.2 6.2l66.4 22.4-66.4 22.5z"></path>\n    </symbol>\n\n    <symbol id="svg-tutors" viewbox="0 0 27 32">\n      <path d="M23.917 32h-21C1.26 32 0 30.654 0 29V3c0-1.654 1.262-3 2.916-3H17.33L27 9.586V29c0 1.654-1.43 3-3.083 3zM18 3.497V9h5.503L18 3.497zM25 11h-9V2H2.916C2.366 2 2 2.448 2 3v26c0 .552.365 1 .916 1h21C24.47 30 25 29.552 25 29V11zm-4.083 16h-15c-.55 0-1-.45-1-1s.45-1 1-1h15c.55 0 1 .45 1 1s-.45 1-1 1zm0-4h-15c-.55 0-1-.45-1-1s.45-1 1-1h15c.55 0 1 .45 1 1s-.45 1-1 1zm0-4h-15c-.55 0-1-.45-1-1s.45-1 1-1h15c.55 0 1 .45 1 1s-.45 1-1 1zM9 14c-2.757 0-5-2.243-5-5s2.243-5 5-5 5 2.243 5 5-2.243 5-5 5zm0-8C7.346 6 6 7.345 6 9c0 1.655 1.346 3 3 3s3-1.345 3-3c0-1.654-1.346-3-3-3z"></path>\n    </symbol>\n\n    <symbol id="svg-custom" viewBox="0 0 31.357 31.357">\n      <path d="M15.26 0c5.42 0 10.76 2.5 10.76 8.47 0 5.5-6.32 7.63-7.67 9.62-1.02 1.47-.68 3.55-3.48 3.55-1.82 0-2.7-1.48-2.7-2.83 0-5.05 7.4-6.2 7.4-10.35 0-2.28-1.52-3.64-4.06-3.64-5.4 0-3.3 5.6-7.4 5.6-1.5 0-2.76-.9-2.76-2.6C5.34 3.7 10.08 0 15.26 0zm-.22 24.4c1.9 0 3.48 1.57 3.48 3.48 0 1.9-1.57 3.48-3.48 3.48-1.9 0-3.47-1.57-3.47-3.48 0-1.9 1.57-3.47 3.47-3.47z"/>\n    </symbol>\n\n    <symbol id="svg-warning" viewbox="0 0 367.011 367.01">\n      <path d="M365.22 329.64L190.944 27.79c-1.542-2.674-4.395-4.318-7.48-4.318-3.083 0-5.937 1.645-7.48 4.318L1.158 330.584c-1.543 2.674-1.543 5.965 0 8.64 1.542 2.673 4.395 4.317 7.48 4.317h349.736c4.77 0 8.638-3.862 8.638-8.638 0-1.982-.668-3.802-1.79-5.26zM23.6 326.267L183.463 49.38l159.864 276.886H23.598z"></path>\n      <path d="M174.826 136.8v123.894c0 4.773 3.867 8.638 8.638 8.638 4.77 0 8.637-3.863 8.637-8.638V136.8c0-4.765-3.866-8.636-8.636-8.636s-8.638 3.872-8.638 8.637zM183.464 279.393c-5.922 0-10.725 4.8-10.725 10.722s4.802 10.73 10.724 10.73c5.92 0 10.725-4.81 10.725-10.73 0-5.922-4.804-10.722-10.726-10.722z"></path>\n    </symbol>\n\n    <symbol id="svg-new-message" viewbox="0 0 65.81 74.81">\n      <path d="M65.22 10.917c-.15.15-.323.263-.503.355-.092.18-.205.354-.355.505L28.152 48c-.122.123-.26.22-.402.303-.348.588-.983.99-1.712.99h-7.655c-.575 0-1.09-.25-1.456-.644-.393-.366-.643-.882-.643-1.457v-7.658c0-.772.448-1.437 1.092-1.768.092-.18.204-.35.353-.5L53.94 1.04c.285-.285.637-.464 1.007-.54.78-.706 1.993-.69 2.745.062l7.53 7.53c.774.778.774 2.047 0 2.823zm-44.67 29.17c-.086.086-.18.16-.277.226v4.99h4.958c.036-.04.063-.086.1-.124l27.2-27.21-4.937-4.937L20.55 40.088zM56.054 4.57l-5.64 5.642 4.935 4.937 5.64-5.644-4.935-4.937zm-50.08 8.384c-1.1 0-1.996.894-1.996 1.995v53.865c0 1.1.894 1.996 1.994 1.996h43.874c1.1 0 1.995-.895 1.995-1.995v-38.87l3.988-3.99v42.86c0 3.3-2.683 5.986-5.982 5.986H5.974c-3.3 0-5.983-2.684-5.983-5.985V14.95c0-3.302 2.684-5.986 5.984-5.986H40.38l-3.988 3.99H5.974z"></path>\n    </symbol>\n\n    <symbol id="svg-circle-check" viewbox="0 0 74 74">\n      <path d="M37 74C16.598 74 0 57.402 0 37S16.598 0 37 0c20.403 0 37 16.598 37 37S57.403 74 37 74zm0-68C19.906 6 6 19.906 6 37s13.906 31 31 31 31-13.906 31-31S54.094 6 37 6zm-5.028 43.27c-.146.375-.366.726-.667 1.028-1.167 1.167-3.076 1.167-4.242 0l-.145-.145c-.013-.012-.027-.02-.04-.032-.01-.01-.02-.025-.03-.038l-9.79-9.788c-1.166-1.166-1.166-3.076 0-4.242 1.168-1.167 3.077-1.167 4.244 0l7.702 7.702 21.878-21.88c1.167-1.166 3.077-1.166 4.243 0 1.167 1.168 1.167 3.077 0 4.244L31.972 49.27z"></path>\n    </symbol>\n\n    <symbol id="svg-eyes" viewbox="-277 369.7 55.3 55.3">\n      <path d="M-222.1 396.7c-8.1-11.3-17-17.1-26.5-17.1-16 0-27.5 16.4-28 17.1-.6.9-.5 2 .1 2.8 8.8 10.4 18.1 15.6 27.5 15.6 16.1 0 26.4-15.2 26.9-15.8.6-.8.5-1.9 0-2.6zm-26.9 13.8c-7.6 0-15.2-4.2-22.7-12.6 3-3.8 12-13.7 23-13.7 7.5 0 14.8 4.6 21.7 13.8-2.7 3.4-10.9 12.5-22 12.5zm-.3-24.4c-6.2 0-11.2 5-11.2 11.2 0 6.2 5 11.2 11.2 11.2 6.2 0 11.2-5 11.2-11.2 0-6.2-5-11.2-11.2-11.2zm4 11.4c-2.5 0-4.5-2-4.5-4.5s2-4.5 4.5-4.5 4.5 2 4.5 4.5-2 4.5-4.5 4.5z"></path>\n    </symbol>\n\n    <symbol id="svg-separated-eye" viewbox="-60 152 490 490">\n      <path d="M375.7 206.3c-7-7.1-18.4-7-25.5 0l-64 64c-79.3-36-163.9-27.2-244.6 25.5-60.1 39.2-96.6 88.5-98.1 90.6-4.8 6.6-4.6 15.6.5 22 34.2 42 70 74.7 106.6 97.5l-56.3 56.3c-7 7-7 18.4 0 25.5 3.5 3.5 8.1 5.3 12.7 5.3s9.2-1.8 12.7-5.3l356-355.9c7-7 7-18.4 0-25.5zM140.5 416c-2.6-5.9-3.9-12.3-3.9-19 0-12.9 5-25.1 14.2-34.3 14.4-14.4 35.7-17.8 53.3-10.3L140.5 416zm90.2-90.1c-32.7-21-76.8-17.2-105.3 11.3-16 16-24.7 37.2-24.7 59.7 0 16.4 4.7 32.1 13.4 45.6L77 479.6c-32.5-18.8-64.5-46.6-95.6-82.9 13.3-15.6 41.4-45.7 79.9-70.8 66.6-43.4 132.9-52.8 197.5-28.1l-28.1 28.1zm195.9 81.7c-1.3 1.7-31.4 42.4-81.8 79.3-29.9 21.8-60.8 37.8-91.9 47.5-23.7 7.4-47.5 11.1-71.1 11.1-15.7 0-31.3-1.6-46.8-4.9-9.7-2-16-11.6-13.9-21.3 2-9.7 11.6-16 21.3-13.9 59.5 12.6 120.2-3.2 180.3-46.9 31.2-22.7 54.2-47.5 66-61.3-20-23.4-40.6-43.4-61.2-59.5-7.8-6.2-9.2-17.5-3.1-25.3 6.2-7.8 17.5-9.2 25.4-3.1 26 20.3 51.6 45.9 76.3 76.3 5.1 6.4 5.3 15.4.5 22z"></path>\n    </symbol>\n\n    <symbol id="svg-replied" viewbox="0 0 26.676 26.676">\n      <path d="M26.105,21.891c-0.229,0-0.439-0.131-0.529-0.346l0,0c-0.066-0.156-1.716-3.857-7.885-4.59 c-1.285-0.156-2.824-0.236-4.693-0.25v4.613c0,0.213-0.115,0.406-0.304,0.508c-0.188,0.098-0.413,0.084-0.588-0.033L0.254,13.815 C0.094,13.708,0,13.528,0,13.339c0-0.191,0.094-0.365,0.254-0.477l11.857-7.979c0.175-0.121,0.398-0.129,0.588-0.029 c0.19,0.102,0.303,0.295,0.303,0.502v4.293c2.578,0.336,13.674,2.33,13.674,11.674c0,0.271-0.191,0.508-0.459,0.562 C26.18,21.891,26.141,21.891,26.105,21.891z"></path>\n    </symbol>\n\n    <symbol id="svg-preview" viewBox="0 0 32 32">\n      <path fill="none" d="M0 0h32v32H0z"/><path d="M16 6C6 6 0 15.938 0 15.938S6 26 16 26s16-10 16-10S26 6 16 6zm0 18c-8.75 0-13.5-8-13.5-8S7.25 8 16 8s13.5 8 13.5 8-4.75 8-13.5 8zm6-8c0 3.314-2.686 6-6 6s-6-2.686-6-6 2.686-6 6-6 6 2.686 6 6z"/>\n    </symbol>\n\n    <symbol id="svg-behaviour_detentionmanagement" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48">\n      <path style="stroke: #fff; stroke-width: 0.5" d="M39.5 38.2H27.2v-2h12.3c2.4 0 4.3-1.8 4.5-4.2l1-13.7c.1-1.8 0-5.1 0-5.2l2-.1c0 .1.1 3.5 0 5.4l-1 13.7c-.2 3.4-3.1 6.1-6.5 6.1zM20.4 47l-1.9-.5L22 33.6c.4-1.4 1.7-2.4 3.1-2.4h9.8c2.4 0 4.3-1.8 4.5-4.2l.6-9c.1-.8-.2-1.6-.8-2.2-1-1-2.7-1.2-3.8-.4L27.9 21c-.2.1-.4.2-.6.2h-7.9v-2H27l7.2-5.3c.8-.6 1.8-.9 2.9-.9 1.3 0 2.6.6 3.6 1.5.9 1 1.4 2.3 1.3 3.7l-.6 9c-.2 3.4-3.1 6.1-6.5 6.1h-9.8c-.5 0-1 .4-1.2.9L20.4 47zM36 10.8c-2.8 0-5-2.2-5-5s2.2-5 5-5 5 2.2 5 5c0 2.7-2.3 5-5 5zm0-8c-1.7 0-3 1.3-3 3s1.3 3 3 3 3-1.3 3-3-1.4-3-3-3zM1 23.2h26.3v2H1v-2zm32.6 14h2v10h-2v-10z"/>\n    </symbol>\n\n    <symbol id="svg-parentevent" viewBox="0 0 48 48">\n      <path d="M41.1 9.7c-2.5 0-4.6-2.1-4.6-4.6S38.6.5 41.1.5s4.6 2.1 4.6 4.6c0 2.5-2.1 4.6-4.6 4.6zm0-7.2c-1.4 0-2.6 1.2-2.6 2.6s1.2 2.6 2.6 2.6 2.6-1.2 2.6-2.6c0-1.4-1.2-2.6-2.6-2.6zM10.5 39.3H3.3c-.6 0-1-.4-1-1V28.2L.6 25.3c-.1-.2-.1-.3-.1-.5v-8.1c0-1.7.7-3.3 1.9-4.5.5-.5 1-.9 1.6-1.2.4-.2.8-.1 1.1.1l1.8 1.5 1.8-1.5c.3-.3.7-.3 1.1-.1.6.3 1.1.7 1.6 1.2 1.2 1.2 1.9 2.8 1.9 4.5v8.1c0 .2 0 .3-.1.5l-1.7 2.9v10.1c0 .6-.4 1-1 1zm-6.2-2h5.2V28c0-.2 0-.3.1-.5l1.7-2.9v-7.9c0-1.2-.5-2.3-1.3-3.1-.2-.2-.4-.3-.6-.5l-1.9 1.6c-.4.3-.9.3-1.3 0l-1.9-1.6c-.2.1-.4.3-.6.5-.8.8-1.3 1.9-1.3 3.1v7.9l1.7 2.9c.1.2.1.3.1.5v9.3h.1zM6.9 9.7c-2.5 0-4.6-2.1-4.6-4.6S4.4.5 6.9.5s4.6 2.1 4.6 4.6-2 4.6-4.6 4.6zm0-7.2c-1.4 0-2.6 1.2-2.6 2.6s1.2 2.6 2.6 2.6 2.6-1.2 2.6-2.6-1.1-2.6-2.6-2.6zm21.1 45h-8c-.6 0-1-.4-1-1V35.3L17.1 32c-.1-.2-.1-.3-.1-.5v-9c0-1.9.7-3.6 2.1-4.9.5-.5 1.1-.9 1.7-1.3.4-.2.8-.1 1.1.1l2.1 1.7 2.1-1.7c.3-.3.7-.3 1.1-.1.7.3 1.2.8 1.7 1.3 1.3 1.3 2 3.1 2 5v9c0 .2 0 .3-.1.5L29 35.3v11.2c0 .6-.4 1-1 1zm-7-2h6V35c0-.2 0-.3.1-.5l1.9-3.3v-8.7c0-1.3-.5-2.6-1.5-3.5-.2-.2-.4-.4-.7-.6l-2.2 1.8c-.4.3-.9.3-1.3 0l-2.2-1.8c-.3.2-.5.4-.7.6-.9.9-1.5 2.2-1.5 3.5v8.7l1.9 3.3c.2.2.2.3.2.5v10.5zm3-30.8c-2.8 0-5-2.2-5-5s2.2-5 5-5 5 2.2 5 5c0 2.7-2.2 5-5 5zm0-8c-1.7 0-3 1.3-3 3s1.3 3 3 3 3-1.3 3-3-1.3-3-3-3zm20.7 32.6h-7.2c-.6 0-1-.4-1-1V28.2l-1.7-2.9c-.1-.2-.1-.3-.1-.5v-8.1c0-1.7.7-3.3 1.9-4.5.5-.5 1-.9 1.6-1.2.4-.2.8-.1 1.1.1l1.8 1.5 1.8-1.5c.3-.3.7-.3 1.1-.1.6.3 1.1.7 1.6 1.2 1.2 1.2 1.9 2.8 1.9 4.5v8.1c0 .2 0 .3-.1.5l-1.7 2.9v10.1c0 .6-.5 1-1 1zm-6.2-2h5.2V28c0-.2 0-.3.1-.5l1.7-2.9v-7.9c0-1.2-.5-2.3-1.3-3.1-.2-.2-.4-.3-.6-.5l-1.9 1.6c-.4.3-.9.3-1.3 0l-1.9-1.6c-.2.1-.4.3-.6.5-.8.8-1.3 1.9-1.3 3.1v7.9l1.7 2.9c.1.2.1.3.1.5l.1 9.3z"/>\n    </symbol>\n\n    <symbol id="svg-lock" viewBox="0 0 486.733 486.733">\n      <path d="M403.88 196.563h-9.484v-44.388c0-82.1-65.15-150.68-146.582-152.145-2.225-.04-6.67-.04-8.895 0C157.485 1.494 92.335 70.076 92.335 152.175v44.388H82.85c-14.615 0-26.537 15.082-26.537 33.71v222.63c0 18.607 11.922 33.83 26.54 33.83H403.88c14.616 0 26.54-15.223 26.54-33.83v-222.63c0-18.627-11.923-33.71-26.54-33.71zm-130.438 144.8v67.27c0 7.703-6.45 14.222-14.158 14.222H227.45c-7.71 0-14.16-6.52-14.16-14.222v-67.27c-7.476-7.36-11.83-17.538-11.83-28.796 0-21.334 16.492-39.666 37.46-40.513 2.222-.09 6.673-.09 8.895 0 20.968.847 37.46 19.18 37.46 40.513-.003 11.258-4.356 21.435-11.833 28.795zm58.444-144.8h-177.04v-44.388c0-48.905 39.744-89.342 88.52-89.342 48.774 0 88.52 40.437 88.52 89.342v44.388z"/>\n    </symbol>\n\n    <symbol id="svg-info" viewBox="0 0 488.9 488.9">\n      <path d="M239.15 0c31.9 0 57.7 25.8 57.7 57.7s-25.8 57.7-57.7 57.7-57.7-25.8-57.7-57.7S207.25 0 239.15 0zm52.5 151.6h-97.7c-19 0-34.3 15.4-34.3 34.3 0 19 15.4 34.3 34.3 34.3h3.4v200h-37.7v68.7h169.6v-68.7h-37.5V151.6h-.1z"/>\n    </symbol>\n\n    <symbol id="svg-sen" viewBox="0 0 32 32">\n      <path d="M24 14.1V5.6L18.4 0H0v32h24v-.1c4.5-.5 8-4.3 8-8.9 0-4.6-3.5-8.4-8-8.9zM18 2.4L21.6 6H18V2.4zM2 30V2h14v6h6v6.1c-1.8.2-3.4.9-4.7 1.9H4v2h11.5c-.4.6-.7 1.3-1 2H4v2h10.1c0 .3-.1.7-.1 1 0 2.8 1.3 5.4 3.3 7H2zm21-.1c-3.8 0-6.9-3.1-6.9-6.9 0-3.8 3.1-6.9 6.9-6.9 3.8 0 6.9 3.1 6.9 6.9 0 3.8-3.1 6.9-6.9 6.9zM20 14H4v-2h16v2zm8 8v2h-4v4h-2v-4h-4v-2h4v-4h2v4h4z"/>\n    </symbol>\n\n    <symbol id="svg-copy" viewBox="0 0 64 64">\n      <path d="M60.1 3.9c-5.2-5.2-13.5-5.2-18.7 0L29.9 15.5c-.8.8-.8 2.1 0 2.9.8.8 2.1.8 2.9 0L44.3 6.7c3.6-3.6 9.4-3.6 13 0 3.6 3.6 3.6 9.4 0 13L42 35.1c-1.7 1.7-4 2.7-6.5 2.7s-4.8-1-6.5-2.7c-.8-.8-2.1-.8-2.9 0-.8.8-.8 2.1 0 2.9 2.5 2.5 5.8 3.9 9.4 3.9 3.5 0 6.8-1.4 9.3-3.9l15.3-15.3c5.2-5.2 5.2-13.7 0-18.8z"/><path class="st0" d="M31 45.9L19.7 57.2c-1.7 1.7-4 2.7-6.5 2.7s-4.8-1-6.5-2.7c-3.6-3.6-3.6-9.4 0-13L22 28.9c3.6-3.6 9.4-3.6 13 0 .8.8 2.1.8 2.9 0 .8-.8.8-2.1 0-2.9-5.2-5.2-13.5-5.2-18.7 0L3.9 41.4c-5.2 5.2-5.2 13.6 0 18.8 2.5 2.5 5.8 3.9 9.3 3.9 3.5 0 6.9-1.4 9.3-3.9l11.3-11.3c.8-.8.8-2.1 0-2.9-.7-.9-2-.9-2.8-.1z"/>\n    </symbol>\n\n    <symbol id="svg-time" viewBox="0 0 97.2 97.2">\n      <path d="M48.6 0C21.8 0 0 21.8 0 48.6s21.8 48.6 48.6 48.6 48.6-21.8 48.6-48.6S75.4 0 48.6 0zm0 86.8c-21.1 0-38.2-17.2-38.2-38.2s17.2-38.2 38.2-38.2c21.1 0 38.2 17.2 38.2 38.2S69.7 86.8 48.6 86.8zm29.3-35.7c0 2.2-1.8 4-4 4H48.1c-2.2 0-4-1.8-4-4V20.8c0-2.2 1.8-4 4-4s4 1.8 4 4V47h21.8c2.2.1 4 1.9 4 4.1z"/>\n    </symbol>\n\n    <symbol id="svg-forms" viewBox="0 0 508 508">\n      <path d="M73.7 414.6h241.6c7.8 0 14.1 6.3 14.1 14.1s-6.3 14.1-14.1 14.1H73.7c-7.8 0-14.1-6.3-14.1-14.1s6.3-14.1 14.1-14.1zm0-59.1H181c7.8 0 14.1-6.3 14.1-14.1s-6.3-14.1-14.1-14.1H73.7c-7.8 0-14.1 6.3-14.1 14.1 0 7.7 6.3 14.1 14.1 14.1zm0-87.4H181c7.8 0 14.1-6.3 14.1-14.1s-6.3-14.1-14.1-14.1H73.7c-7.8 0-14.1 6.3-14.1 14.1s6.3 14.1 14.1 14.1zm0-87.3h201.4c7.8 0 14.1-6.3 14.1-14.1s-6.3-14.1-14.1-14.1H73.7c-7.8 0-14.1 6.3-14.1 14.1 0 7.7 6.3 14.1 14.1 14.1zm86.2-87.4h155.4c7.8 0 14.1-6.3 14.1-14.1s-6.3-14.1-14.1-14.1H159.9c-7.8 0-14.1 6.3-14.1 14.1s6.3 14.1 14.1 14.1zm334.3 43.7L389 242.3v224.9c0 22.5-18.3 40.8-40.8 40.8H40.8C18.3 508 0 489.7 0 467.2V114.6c0-10.8 4.2-21.1 11.9-28.8l74-73.9C93.6 4.2 103.8 0 114.7 0h233.4c22.5 0 40.8 18.3 40.8 40.8v67.4L427 70.1c16.9-17 49.3-17.8 67.1 0 18.5 18.5 18.5 48.6.1 67zm-446-47.6h41.3V48.2L48.2 89.5zm312.6 181.1l-81.6 81.6c-2.7 2.6-6.3 4.1-10 4.1H222c-7.8 0-14.1-6.3-14.1-14.1v-47.1c0-3.8 1.5-7.4 4.1-10l148.8-148.8V40.7c0-6.9-5.6-12.5-12.5-12.5H117.8v75.4c0 7.8-6.3 14.1-14.1 14.1H28.3v349.5c0 6.9 5.6 12.5 12.5 12.5h307.4c6.9 0 12.5-5.6 12.5-12.5h.1V270.6zM474.2 90c-7.3-7.3-19.9-7.3-27.2 0L236.1 300.8V328h27.2l210.9-210.8c7.5-7.5 7.5-19.7 0-27.2z"/>\n    </symbol>\n\n    <symbol id="svg-submenu" viewBox="0 0 56 56">\n      <path d="M28 0C12.6 0 0 12.6 0 28s12.6 28 28 28 28-12.6 28-28S43.4 0 28 0zm0 54C13.7 54 2 42.3 2 28S13.7 2 28 2s26 11.7 26 26-11.7 26-26 26zm13-37c0 .6-.4 1-1 1H16c-.6 0-1-.4-1-1s.4-1 1-1h24c.6 0 1 .4 1 1zm0 11c0 .6-.4 1-1 1H16c-.6 0-1-.4-1-1s.4-1 1-1h24c.6 0 1 .4 1 1zm0 11c0 .6-.4 1-1 1H16c-.6 0-1-.4-1-1s.4-1 1-1h24c.6 0 1 .4 1 1z"/>\n    </symbol>\n\n    <symbol id="svg-datacollection" viewBox="0 0 275.8 275.8">\n      <path d="M94.6 118.8l-8.2 31.5c-.5 2.1.1 4.2 1.6 5.8 1.1 1.1 2.7 1.8 4.2 1.8.5 0 1-.1 1.5-.2l31.5-8.2c1-.3 2-.8 2.7-1.6l95.2-95.2 19.2-19.2c2.3-2.3 2.3-6.1 0-8.5L219 1.8C217.9.7 216.3 0 214.8 0c-1.6 0-3.1.6-4.2 1.8L191.4 21l-95.2 95.2c-.8.6-1.3 1.6-1.6 2.6zM214.8 14.5l14.8 14.8L218.9 40l-14.8-14.8 10.7-10.7zm-109 108.9l89.8-89.8 14.8 14.8-89.8 89.8-20 5.2 5.2-20zM244 71v198.8c0 3.3-2.7 6-6 6H37.8c-3.3 0-6-2.7-6-6V28.4c0-3.3 2.7-6 6-6h117.1c3.3 0 6 2.7 6 6s-2.7 6-6 6H43.8v229.4H232V71c0-3.3 2.7-6 6-6 3.4 0 6 2.7 6 6z"/>\n    </symbol>\n\n    <symbol id="svg-datacollection_manage" viewBox="0 0 55 55">\n      <path d="M52.354 8.51C51.196 4.22 42.577 0 27.5 0S3.803 4.22 2.646 8.51A.98.98 0 0 0 2.5 9v37a.94.94 0 0 0 .117.451C3.798 51.346 14.364 55 27.5 55c13.106 0 23.655-3.639 24.875-8.516A.988.988 0 0 0 52.5 46V9a.98.98 0 0 0-.146-.49zm-1.933 25.475a2.46 2.46 0 0 1-.259.66 3.39 3.39 0 0 1-.45.646 5.42 5.42 0 0 1-.363.392c-.081.079-.17.157-.26.236a8.234 8.234 0 0 1-.526.426c-.082.061-.17.12-.257.18-.226.156-.462.311-.721.463-.068.041-.141.08-.212.12a16.52 16.52 0 0 1-.945.497c-.043.021-.088.041-.132.061-.375.177-.767.351-1.186.519l-.036.014c-2.271.907-5.176 1.67-8.561 2.17l-.051.007a55.03 55.03 0 0 1-2.026.259c-.113.012-.232.02-.346.032-.605.063-1.217.121-1.847.167-.288.021-.59.031-.883.049-.474.028-.943.059-1.429.076a69.019 69.019 0 0 1-4.863-.003c-.486-.017-.955-.049-1.429-.076-.293-.017-.595-.028-.883-.049a59.764 59.764 0 0 1-1.847-.167c-.114-.012-.233-.02-.346-.032a57.277 57.277 0 0 1-2.026-.259l-.051-.007c-3.385-.5-6.29-1.263-8.561-2.17a21.248 21.248 0 0 1-1.222-.533c-.043-.021-.089-.041-.132-.061a15.908 15.908 0 0 1-.945-.497c-.07-.04-.144-.079-.212-.12a11.544 11.544 0 0 1-.721-.463c-.086-.06-.175-.119-.257-.18a8.234 8.234 0 0 1-.526-.426c-.089-.078-.179-.156-.26-.236a5.22 5.22 0 0 1-.363-.392 3.729 3.729 0 0 1-.45-.646 2.423 2.423 0 0 1-.259-.66c-.037-.159-.078-.321-.078-.482 0-.113.013-.226.031-.338a.997.997 0 0 0-.031-.445v-7.424c.028.026.063.051.092.077.218.192.44.383.69.567C9.049 28.786 16.582 31 27.5 31c10.872 0 18.386-2.196 22.169-5.028.302-.22.574-.447.83-.678l.001-.001v7.424a.997.997 0 0 0-.031.445c.019.112.031.225.031.338 0 .161-.041.323-.079.485zm.079-20.692v7.424a.997.997 0 0 0-.031.445c.019.112.031.225.031.338 0 .161-.041.323-.079.485a2.46 2.46 0 0 1-.259.66 3.39 3.39 0 0 1-.45.646 5.42 5.42 0 0 1-.363.392c-.081.079-.17.157-.26.236a8.234 8.234 0 0 1-.526.426c-.082.061-.17.12-.257.18-.226.156-.462.311-.721.463-.068.041-.141.08-.212.12a16.52 16.52 0 0 1-.945.497c-.043.021-.088.041-.132.061-.375.177-.767.351-1.186.519l-.036.014c-2.271.907-5.176 1.67-8.561 2.17l-.051.007a55.03 55.03 0 0 1-2.026.259c-.113.012-.232.02-.346.032-.605.063-1.217.121-1.847.167-.288.021-.59.031-.883.049-.474.028-.943.059-1.429.076a69.019 69.019 0 0 1-4.863-.003c-.486-.017-.955-.049-1.429-.076-.293-.017-.595-.028-.883-.049a59.764 59.764 0 0 1-1.847-.167c-.114-.012-.233-.02-.346-.032a57.277 57.277 0 0 1-2.026-.259l-.051-.007c-3.385-.5-6.29-1.263-8.561-2.17a21.248 21.248 0 0 1-1.222-.533c-.043-.021-.089-.041-.132-.061a15.908 15.908 0 0 1-.945-.497c-.07-.04-.144-.079-.212-.12a11.544 11.544 0 0 1-.721-.463c-.086-.06-.175-.119-.257-.18a8.234 8.234 0 0 1-.526-.426c-.089-.078-.179-.156-.26-.236a5.22 5.22 0 0 1-.363-.392 3.729 3.729 0 0 1-.45-.646 2.423 2.423 0 0 1-.259-.66c-.037-.159-.078-.321-.078-.482 0-.113.013-.226.031-.338a.997.997 0 0 0-.031-.445v-7.424c.12.109.257.216.387.324.072.06.139.12.215.18.3.236.624.469.975.696.073.047.155.093.231.14a17.11 17.11 0 0 0 1.299.731c.365.186.748.367 1.151.542.066.029.126.059.193.087.469.199.967.389 1.485.573.143.051.293.099.44.149.412.139.838.272 1.279.401.159.046.315.094.478.138.585.162 1.189.316 1.823.458.087.02.181.036.269.055a45.634 45.634 0 0 0 2.348.445c.567.093 1.151.178 1.75.256.154.02.301.043.457.062.744.09 1.514.167 2.305.233.195.016.398.028.596.042.633.046 1.28.084 1.942.114.241.011.481.022.727.031.862.029 1.74.05 2.65.05s1.788-.021 2.65-.05c.245-.009.485-.02.727-.031.662-.03 1.309-.068 1.942-.114.198-.015.4-.026.596-.042a60.436 60.436 0 0 0 2.305-.233c.156-.019.303-.042.457-.062a53.94 53.94 0 0 0 2.363-.36 45.634 45.634 0 0 0 1.735-.341c.088-.019.182-.036.269-.055a38.777 38.777 0 0 0 1.823-.458c.163-.045.319-.092.478-.138a32.87 32.87 0 0 0 1.279-.401c.147-.05.297-.098.44-.149a26.392 26.392 0 0 0 1.485-.573c.067-.028.127-.058.193-.087a21.377 21.377 0 0 0 1.518-.735c.327-.175.638-.354.932-.538.076-.047.158-.093.231-.14.351-.227.675-.459.975-.696.075-.06.142-.12.215-.18.13-.108.267-.215.387-.324zM27.5 2c13.555 0 23 3.952 23 7.5s-9.445 7.5-23 7.5-23-3.952-23-7.5S13.945 2 27.5 2zm23 43.703a1.02 1.02 0 0 0-.032.135C49.901 49.297 40.536 53 27.5 53S5.099 49.297 4.532 45.838a1.09 1.09 0 0 0-.032-.131v-8.414c.028.026.063.051.092.077.218.192.44.383.69.567C9.049 40.786 16.582 43 27.5 43c10.872 0 18.386-2.196 22.169-5.028.302-.22.574-.447.83-.678l.001-.001v8.41z"/>\n    </symbol>\n\n    <symbol id="svg-back" viewBox="0 0 132.6 240.8">\n      <path d="M3.5 129l108.3 108.3c4.8 4.7 12.5 4.7 17.2 0 4.8-4.7 4.8-12.4 0-17.2l-99.7-99.7L129 20.7c4.8-4.7 4.8-12.4 0-17.2-4.8-4.7-12.5-4.7-17.2 0L3.5 111.8c-4.7 4.7-4.7 12.5 0 17.2z"/>\n    </symbol>\n\n    <symbol id="svg-attendance_absencemanagement" viewBox="0 0 391 391">\n      <path d="M391 349.2H0V41.8h391v307.4zM11.7 337.4h367.5V53.5H11.7v283.9zm118.1-51.7H45.1V201h84.7v84.7zm-73-11.7H118v-61.3H56.8V274zm30.6-96.1c-23.3 0-42.3-19-42.3-42.3 0-23.4 19-42.3 42.3-42.3 23.4 0 42.3 19 42.3 42.3.1 23.3-18.9 42.3-42.3 42.3zm0-73c-16.9 0-30.6 13.7-30.6 30.6s13.7 30.6 30.6 30.6c16.9 0 30.6-13.7 30.6-30.6s-13.7-30.6-30.6-30.6zm115.7-11.7h140.5v11.7H203.1V93.2zm0 58.6h140.5v11.7H203.1v-11.7zm0 58.5h140.5V222H203.1v-11.7zm0 58.6h140.5v11.7H203.1v-11.7z"/>\n    </symbol>\n\n    <symbol id="svg-childprotection" viewBox="0 0 50 50">\n      <path d="M34.453,18.85v-7.892C34.453,4.915,29.539,0,23.497,0c-6.04,0-10.953,4.915-10.953,10.958v7.892H7.47V47h32.06V18.85\n\t\t\tH34.453z M18.026,10.958c0-3.022,2.455-5.482,5.471-5.482c3.017,0,5.471,2.459,5.471,5.482v7.892H18.026V10.958z M29.492,35.117\n\t\t\tc-0.066,0.011-0.134,0.016-0.199,0.016c-0.58,0-1.09-0.418-1.189-1.008l-0.846-5.07c-0.113-0.035-0.241-0.072-0.377-0.111v8.199\n\t\t\tl0.953,7.078c0.105,0.793-0.451,1.522-1.242,1.629c-0.065,0.01-0.131,0.014-0.195,0.014c-0.714,0-1.335-0.528-1.434-1.256\n\t\t\tl-0.94-6.985c-0.162,0.063-0.336,0.101-0.521,0.101s-0.359-0.037-0.521-0.101l-0.94,6.985c-0.098,0.728-0.72,1.256-1.434,1.256\n\t\t\tc-0.064,0-0.13-0.004-0.195-0.014c-0.792-0.106-1.349-0.836-1.242-1.629l0.953-7.078v-8.199c-0.136,0.039-0.264,0.076-0.378,0.111\n\t\t\tl-0.845,5.07c-0.099,0.59-0.61,1.008-1.189,1.008c-0.066,0-0.133-0.005-0.2-0.016c-0.657-0.109-1.102-0.731-0.992-1.389\n\t\t\tl0.965-5.793c0.009-0.055,0.04-0.096,0.056-0.146c0.024-0.08,0.048-0.157,0.088-0.23c0.038-0.069,0.086-0.127,0.137-0.188\n\t\t\tc0.048-0.057,0.094-0.113,0.153-0.162c0.067-0.057,0.142-0.094,0.221-0.134c0.044-0.023,0.078-0.06,0.125-0.077\n\t\t\tc0.092-0.033,1.815-0.65,3.686-0.916c-0.895-0.707-1.5-1.928-1.5-3.043c0-1.685,1.367-3.052,3.053-3.052\n\t\t\tc1.684,0,3.051,1.367,3.051,3.052c0,1.116-0.604,2.336-1.499,3.043c1.871,0.266,3.595,0.883,3.688,0.916\n\t\t\tc0.047,0.018,0.08,0.054,0.125,0.076c0.077,0.04,0.151,0.078,0.219,0.134c0.061,0.049,0.106,0.104,0.156,0.164\n\t\t\tc0.049,0.06,0.098,0.117,0.135,0.187c0.041,0.073,0.063,0.15,0.088,0.231c0.016,0.05,0.047,0.092,0.056,0.146l0.965,5.793\n\t\t\tC30.593,34.385,30.149,35.007,29.492,35.117z"/>\n    </symbol>\n\n    <symbol id="svg-noticeboard" viewBox="0 0 60 60">\n      <path d="M38 23c0 .6-.4 1-1 1H12c-.6 0-1-.4-1-1s.4-1 1-1h25c.6 0 1 .4 1 1zm-26-7h10c.6 0 1-.4 1-1s-.4-1-1-1H12c-.6 0-1 .4-1 1s.4 1 1 1zm26 15c0-.6-.4-1-1-1H12c-.6 0-1 .4-1 1s.4 1 1 1h25c.6 0 1-.4 1-1zm-8 8c0-.6-.4-1-1-1H12c-.6 0-1 .4-1 1s.4 1 1 1h17c.6 0 1-.4 1-1zm-18 7c-.6 0-1 .4-1 1s.4 1 1 1h14c.6 0 1-.4 1-1s-.4-1-1-1H12zM3 58h29v2H1V0h32.4L48 14.6V33h-2V16H32V2H3v56zm31-44h10.6L34 3.4V14zm25 22v24H35V36h24zm-2 2h-9v12.6l4.3-4.3 1.4 1.4-6.7 6.7-6.7-6.7 1.4-1.4 4.3 4.3V38h-9v20h20V38z"/>\n    </symbol>\n\n    <symbol id="svg-rotate-right" viewBox="0 0 1792 1792">\n      <path d="M1664 256v448q0 26-19 45t-45 19h-448q-42 0-59-40-17-39 14-69l138-138q-148-137-349-137-104 0-198.5 40.5T534 534 424.5 697.5 384 896t40.5 198.5T534 1258t163.5 109.5T896 1408q119 0 225-52t179-147q7-10 23-12 14 0 25 9l137 138q9 8 9.5 20.5t-7.5 22.5q-109 132-264 204.5T896 1664q-156 0-298-61t-245-164-164-245-61-298 61-298 164-245 245-164 298-61q147 0 284.5 55.5T1425 340l130-129q29-31 70-14 39 17 39 59z"/>\n    </symbol>\n\n    <symbol id="svg-rotate-left" viewBox="0 0 1792 1792">\n      <path d="M1664 896q0 156-61 298t-164 245-245 164-298 61q-172 0-327-72.5T305 1387q-7-10-6.5-22.5t8.5-20.5l137-138q10-9 25-9 16 2 23 12 73 95 179 147t225 52q104 0 198.5-40.5T1258 1258t109.5-163.5T1408 896t-40.5-198.5T1258 534t-163.5-109.5T896 384q-98 0-188 35.5T548 521l137 138q31 30 14 69-17 40-59 40H192q-26 0-45-19t-19-45V256q0-42 40-59 39-17 69 14l130 129q107-101 244.5-156.5T896 128q156 0 298 61t245 164 164 245 61 298z"/>\n    </symbol>\n\n    <symbol id="svg-clone" viewBox="0 0 470.3 470.3">\n      <path d="M434.4 94.3L345.7 5.1C342.5 1.7 338 0 333.5 0H138.8c-9.3 0-17 7.7-17 17v73.7H48.2c-9.3 0-17 7.7-17 17v345.7c0 9.3 7.7 17 17 17h286.2c9.4 0 17-7.7 17-17v-76.5h70.8c9.4 0 17-7.7 17-17V106.2c0-4.5-1.7-8.7-4.8-11.9zm-117.1 342H65.2V124.7h56.7v235.2c0 9.4 7.7 17 17 17h178.5v59.4zm87.9-93.5H155.8V34h147.3v96.3c0 9.3 7.6 17 17 17h85v195.5zm-68-229.5V44.8l68 68.6h-68z"/>\n    </symbol>\n\n    <symbol id="svg-search" viewBox="0 0 30.2 30.2">\n      <path d="M29.5 26l-6.7-6.7c-.4-.4-.8-.6-1.3-.7 3.2-4.6 2.8-11-1.3-15.1-4.6-4.6-12.1-4.6-16.7 0s-4.6 12.1 0 16.7c4.1 4.1 10.5 4.5 15.1 1.3.1.5.3.9.7 1.3l6.7 6.7c1 1 2.6 1 3.5 0 1-1 1-2.6 0-3.5zm-11.4-7.9c-3.4 3.4-9 3.4-12.5 0-3.4-3.4-3.4-9 0-12.5 3.4-3.4 9-3.4 12.5 0 3.4 3.4 3.4 9 0 12.5z"/>\n    </symbol>\n\n    <symbol id="svg-clubs" viewBox="0 0 494.5 494.5">\n      <path d="M242.4 40.4c0-22.3 18.1-40.4 40.4-40.4 22.3 0 40.4 18.1 40.4 40.4 0 22.3-18.1 40.4-40.4 40.4-22.3 0-40.4-18.1-40.4-40.4zm178.1 168.5c0 11.2-9.1 20.3-20.3 20.3h-79.3c-6.6 0-12.8-3.2-16.6-8.6L284.9 193l-12 91.3 32.2 44.8c2.7 3.8 4.3 8.2 4.6 12.9l7.1 126.7c.7 13.5-9.5 25-23 25.7h-1.4c-12.8 0-23.6-10-24.3-23l-6.7-119.6-26.4-36.6-22 77.1c-1.8 6.2-6 11.5-11.6 14.6-3.7 2-7.7 3.1-11.8 3.1-2.3 0-4.5-.3-6.7-.9L91.6 383c-13-3.7-20.5-17.2-16.8-30.2 3.7-13 17.2-20.4 30.2-16.7l67.8 19.4 18.7-65.6 6.4-49-59-58c-4.4-4.3-6.6-10.4-6-16.5.6-6.1 4-11.7 9.2-15 0 0 83.5-54 85-54.9 8.6-5.5 20.3-10.1 31.2-8.6 10.5 1.4 20.1 6.9 26.5 15.3 6.5 8.4 9.3 19 7.9 29.6l-.1.9 38.8 55h68.7c11.3-.2 20.4 8.9 20.4 20.2zm-211.4-52.5l-23.5 15.2 19 18.7 4.5-33.9z"/>\n    </symbol>\n\n\t\t<symbol id="svg-swap" viewBox="0 0 506 506">\n\t\t\t<path d="M125.1 0C56.6 0 1 55.6 1 124.1s55.6 124.1 124.1 124.1 124.1-55.6 124.1-124.1C249.1 55.6 193.6.1 125.1 0zM47.3 201.9v-1.1-.7c-.9-9.3 2.1-18.5 8.3-25.4s15.1-10.9 24.5-10.9h5.8l12.6 39.4c.8 2.5 2.9 4.3 5.4 4.8 2.6.5 5.1-.5 6.7-2.6l12.6-15.8h2.6l13.9 16.1c1.6 1.9 4.2 2.8 6.6 2.3s4.5-2.2 5.3-4.6l13.8-39.5h4.7c9.3 0 18.2 3.9 24.5 10.9 6.2 6.9 9.3 16.2 8.3 25.4v1.8c-20.6 20.7-48.6 32.3-77.8 32.3s-57.2-11.8-77.8-32.4zm74.4-36.9h5.5l-2.8 8.8-2.7-8.8zm94.2 21.2c-4.9-21.3-23.9-36.4-45.7-36.4h-9.7c-3 0-5.6 1.9-6.6 4.7l-11.4 32.8-5.5-6.3 6.5-20.9c.7-2.1.3-4.4-1-6.2-1.3-1.8-3.4-2.9-5.6-2.9h-24.6c-2.2 0-4.3 1.1-5.6 2.9-1.3 1.8-1.7 4.1-1 6.2l6.6 21-4.3 5.4-10.2-31.8c-.9-2.9-3.6-4.9-6.7-4.9H80c-21.9 0-40.9 15.1-45.8 36.4-31.3-45.8-23.7-107.9 18-144.7C93.8 4.7 156.3 4.7 198 41.5c41.6 36.8 49.3 98.9 17.9 144.7zM133.7 30.1H92.6c-7.9 0-14.4 6.4-14.4 14.4v57c0 25.1 20.4 45.5 45.5 45.5s45.5-20.4 45.5-45.5V65.6c0-19.6-15.9-35.5-35.5-35.5zM154.9 62c-25.2 10.7-43.6-7.1-51.9-17.9h30.8c10.4 0 19.3 7.6 21.1 17.9zm-50.7 3.5c-3 4.4-7.1 8-11.9 10.4V53.1c3.5 4.5 7.5 8.6 11.9 12.4zm19.5 67.5c-17.4 0-31.4-14.1-31.5-31.5V90.8c11.8-3.5 19.3-11.5 23.4-17.5 7.3 3.9 15.4 6 23.6 6.1 5.4 0 10.7-.9 15.8-2.6v24.7c.2 17.4-13.9 31.4-31.3 31.5zm257.8 124.9c-68.5 0-124.1 55.5-124.1 124.1S313 506 381.5 506s124.1-55.5 124.1-124.1c-.1-68.5-55.6-124-124.1-124zm-73.4 205.9v-17-.7c-.9-8.7 2-17.4 7.8-23.8s14.2-10.2 22.9-10.2h5.3l11.8 36.6c.8 2.4 2.9 4.3 5.4 4.7 2.5.5 5.1-.5 6.7-2.5l11.9-14.4h2.2l13 14.7c1.6 1.9 4.2 2.7 6.6 2.2 2.4-.5 4.4-2.2 5.3-4.5l13-36.8h4.3c8.7 0 17.1 3.7 22.9 10.2s8.7 15.1 7.8 23.8v17.7c-41.8 37.6-105.2 37.6-146.9 0zm70.7-50.6h4.2l-2 6.8-2.2-6.8zm90.2 35.5v-1.5c1.2-12.6-3-25.1-11.5-34.4-8.5-9.3-20.6-14.7-33.2-14.7H415c-3 0-5.6 1.9-6.6 4.7L397.8 433l-4.6-5.2 6.1-19.5c.7-2.1.3-4.4-1-6.2-1.3-1.8-3.4-2.9-5.6-2.9h-23.3c-2.2 0-4.3 1.1-5.6 2.9-1.3 1.8-1.7 4.1-1 6.2L369 428l-3.5 4.2-9.5-29.3c-.9-2.9-3.6-4.8-6.7-4.8h-10.4c-12.6 0-24.7 5.3-33.2 14.7s-12.7 21.8-11.5 34.4v1.5c-34.6-45.3-28.9-109.6 13.1-148s106.6-38.5 148.6 0c42 38.4 47.7 102.7 13.1 148zm-243.3-12H88.9c-3.7 0-7.3-1.6-9.8-4.3-2.5-2.7-3.8-6.3-3.7-10v-.1l.2-105.3L99 340.5c2.7 2.7 7.2 2.7 9.9 0s2.7-7.2 0-9.9l-35.4-35.4c-.1-.1-.3-.3-.5-.4-.1-.1-.3-.2-.4-.3 0 0-.1 0-.1-.1-.1-.1-.3-.2-.5-.3l-.1-.1c-.1-.1-.3-.1-.5-.2-.1 0-.1-.1-.2-.1-.1-.1-.3-.1-.4-.2-.1 0-.1-.1-.2-.1-.2 0-.3-.1-.5-.1-.1 0-.1 0-.2-.1-.2 0-.4-.1-.6-.1h-1.5-.1c-.2 0-.4.1-.6.1-.1 0-.1 0-.2.1-.2 0-.3.1-.5.1-.1 0-.1.1-.2.1-.1.1-.3.1-.4.2-.1 0-.1.1-.2.1-.1.1-.3.1-.4.2-.1 0-.1.1-.2.1-.1.1-.3.2-.4.2-.1 0-.1.1-.2.1-.1.1-.3.2-.4.3l-.2.2-.3.3-35.3 35.4c-2.7 2.7-2.7 7.2 0 9.9s7.2 2.7 9.9 0l23.4-23.4-.2 105.1c-.2 7.3 2.5 14.4 7.4 19.8 5.1 5.5 12.3 8.6 19.8 8.7h137.1c3.9 0 7-3.1 7-7s-3-7-6.9-7zm57.6-367.4h136.8c3.7 0 7.2 1.6 9.8 4.3s3.9 6.3 3.7 10v.1l-.2 105.3-23.4-23.4c-2.7-2.7-7.2-2.7-9.9 0s-2.7 7.2 0 9.9l35.3 35.4c.3.3.6.6 1 .8 0 0 .1 0 .1.1.1.1.3.2.4.2.1 0 .1.1.2.1.1.1.2.1.4.2.1 0 .2.1.2.1.1 0 .2.1.4.1.1 0 .2.1.3.1.1 0 .3.1.4.1.1 0 .2 0 .2.1.2 0 .4.1.6.1h.1c.7.1 1.4 0 2.1-.1.1 0 .2 0 .3-.1.1 0 .3-.1.4-.1.1 0 .2-.1.4-.1.1 0 .2-.1.3-.1.1-.1.2-.1.3-.2.1 0 .2-.1.3-.1.1-.1.2-.1.3-.2.1-.1.2-.1.3-.2.1 0 .1-.1.2-.1.3-.2.6-.5.9-.7l35.4-35.4c2.7-2.7 2.7-7.2 0-9.9s-7.2-2.7-9.9 0L447.6 189l.2-105.1c.2-7.4-2.5-14.6-7.6-20s-12.2-8.4-19.6-8.6H283.3c-3.9 0-7 3.1-7 7s3.1 7 7 7zm96.9 215.2c-24 0-43.5 19.5-43.5 43.5v14.6c0 24 19.5 43.5 43.5 43.5s43.5-19.5 43.5-43.5V328c0-24-19.5-43.5-43.5-43.5zm29.5 58.1c0 16.3-13.2 29.5-29.5 29.5s-29.5-13.2-29.5-29.5V328c0-16.3 13.2-29.5 29.5-29.5s29.5 13.2 29.5 29.5v14.6z"/>\n\t\t</symbol>\n\n\t\t<symbol id="svg-medicaltest" viewBox="0 0 512 512">\n\t\t\t<path d="M320.834,0h-129.67c-19.428,0-35.234,15.807-35.234,35.234c0,17.097,12.242,31.384,28.42,34.567v133.851v236.698 C184.351,479.858,216.492,512,256,512s71.649-32.142,71.649-71.649V203.654V69.801c16.177-3.183,28.42-17.47,28.42-34.567 C356.069,15.807,340.263,0,320.834,0z M307.251,440.351c0,28.26-22.991,51.251-51.251,51.251s-51.251-22.991-51.251-51.251 V213.853h102.502V440.351z M307.251,193.454H204.749V70.469h102.502V193.454z M320.834,50.071h-3.384h-122.9h-3.385 c-8.181,0-14.836-6.655-14.836-14.836s6.655-14.837,14.836-14.837h129.67c8.181,0,14.837,6.655,14.837,14.836 C335.671,43.415,329.016,50.071,320.834,50.071z"/>\n\t\t</symbol>\n\n\t\t<symbol id="svg-payments_squid" viewBox="0 0 178 63">\n\t\t\t<path d="M81 27c0 14.5-11.7 26.2-26 26.1l8.6 9.3H52.7l-15-15.8 14.7-14.4h11L50.8 44.6h4.1c9.8 0 17.7-7.9 17.7-17.7 0-9.8-7.9-17.7-17.7-17.7s-17.8 7.9-17.7 17.7c.1 4.2 1.5 8.2 4.1 11.2l-6.2 6c-4-4.6-6.4-10.5-6.4-17.1C28.7 12.6 40.4.9 54.9.9 69.3.9 81 12.6 81 27zm38.2-11.8h-9.9v21c0 1-.2 1.9-.5 2.6-1 2.4-3.5 5-7.3 5-4.9 0-7-3.6-7-9.6v-19h-9.9V36c0 12.1 6.6 15.9 13.3 15.9 7.2 0 10.8-4.1 12.3-6.6h.2l.4 5.7h8.7c-.2-2.9-.3-6.5-.3-11V15.2zm57.5 35.9h-8.9l-.4-5.9h-.1c-2.4 4.4-7.1 6.8-12.6 6.8-8.9 0-16.5-7.1-16.5-18.3-.1-11.8 8-19.2 17.3-19.2 5.2 0 9.1 2 10.8 4.7h.1V1.6h10v39.2c0 4 .1 8 .3 10.3zm-10.1-20.5h-.2c0-.7 0-1.6-.2-2.3-.9-3.5-4-6.4-8.3-6.4-6.1 0-9.6 4.9-9.6 11.3 0 6.3 3.5 10.8 9.6 10.8 4.1 0 7.5-2.9 8.4-6.7.2-.8.3-1.7.3-2.7v-4zM17.5 29.5c-4.7-1.5-6.6-2.5-6.6-4.7s1.9-3.6 5.1-3.6c3.4 0 6.7 1.3 8.3 2.2l1.9-6.8c-2.2-1.2-6-2.2-10.3-2.2-8.9 0-14.5 5.1-14.5 11.5-.1 4.4 3.1 8.3 10.6 10.5 4.6 1.4 6.1 2.5 6.1 4.8 0 2.1-1.7 3.7-5.8 3.7-3.4 0-7.8-1.5-10-2.8l-2 7.1c2.9 1.5 7.1 2.6 11.9 2.6 10.4 0 15.5-5 15.5-11.4-.1-5.4-3.2-8.7-10.2-10.9zM124.4 51h9.9V15.2h-9.9V51zm0-41.5h9.9V1.6h-9.9v7.9z"/>\n\t\t</symbol>\n\n\t\t<symbol id="svg-mute-crossed" viewBox="0 0 512 512">\n\t\t\t<path d="M256 369.8c55.1 0 100-45.1 100-100.6v-88.8L467 69.5c6.8-6.8 6.8-17.7 0-24.5-6.8-6.8-17.7-6.8-24.5 0L356 131.5V100C356 44.8 311.1 0 256 0S156 44.8 156 100v169.9c0 17.7 4.6 34.4 12.8 48.8l-21 21c-13-20.1-20.6-44.1-20.6-69.9v-68.2c0-9.6-7.8-17.3-17.3-17.3s-17.3 7.8-17.3 17.3v68.2c0 35.3 11.3 68 30.4 94.8l-78 77.9c-6.8 6.8-6.8 17.7 0 24.5 3.4 3.4 7.8 5.1 12.3 5.1 4.4 0 8.9-1.7 12.3-5.1l76.4-76.4c25.1 22.9 57.3 38.1 92.8 41.8v44.8h-54.3c-9.6 0-17.3 7.8-17.3 17.3s7.8 17.3 17.3 17.3h143.3c9.6 0 17.3-7.8 17.3-17.3 0-9.6-7.8-17.3-17.3-17.3h-54.3v-44.8c82.1-8.7 146.2-78.3 146.2-162.6v-68.2c0-9.6-7.8-17.3-17.3-17.3-9.6 0-17.3 7.8-17.3 17.3v68.2c0 71.1-57.8 128.9-128.9 128.9-32.8 0-62.8-12.3-85.6-32.6l20.5-20.5c17.3 15.1 40 24.2 64.9 24.2zm65.3-100.5c0 36.3-29.3 65.9-65.3 65.9-15.3 0-29.4-5.3-40.5-14.1l105.8-105.8v54zm-130.6.6V100c0-36 29.3-65.3 65.3-65.3S321.3 64 321.3 100v66.2L194.8 292.7c-2.6-7.1-4.1-14.8-4.1-22.8z"/>\n\t\t</symbol>\n\n\t\t<symbol id="svg-mute" viewBox="0 0 512 512">\n\t\t\t<path d="M256 369.8c55.1 0 100-45.1 100-100.6V100C356 44.8 311.1 0 256 0S156 44.8 156 100v169.9c0 55.1 44.9 99.9 100 99.9zM190.7 100c0-36 29.3-65.3 65.3-65.3S321.3 64 321.3 100v169.3c0 36.3-29.3 65.9-65.3 65.9s-65.3-29.3-65.3-65.3V100zm228.8 101.7v68.2c0 84.3-64.1 153.9-146.2 162.6v44.8h54.3c9.6 0 17.3 7.8 17.3 17.3 0 9.6-7.8 17.3-17.3 17.3H184.3c-9.6 0-17.3-7.8-17.3-17.3s7.8-17.3 17.3-17.3h54.3v-44.8c-82.1-8.7-146.2-78.3-146.2-162.6v-68.2c0-9.6 7.8-17.3 17.3-17.3s17.3 7.8 17.3 17.3v68.2c0 71.1 57.8 128.9 128.9 128.9S384.8 341 384.8 269.9v-68.2c0-9.6 7.8-17.3 17.3-17.3 9.7-.1 17.4 7.7 17.4 17.3z"/>\n\t\t</symbol>\n\n\t\t<symbol id="svg-camera" viewBox="0 0 472 297.4">\n\t\t\t<path d="M467.1 26.5c-3-1.8-6.8-1.9-9.9-.2L348.9 85.5V50c0-27.6-22.4-50-50-50H50C22.4 0 0 22.4 0 50v197.4c0 27.6 22.4 50 50 50h248.9c27.6 0 50-22.4 50-50v-34.8l108.3 59.1c3.1 1.7 6.9 1.6 9.9-.2s4.9-5.1 4.9-8.6V35.1c0-3.5-1.9-6.8-4.9-8.6zM328.9 247.4c0 16.6-13.4 30-30 30H50c-16.6 0-30-13.4-30-30V50c0-16.6 13.4-30 30-30h248.9c16.6 0 30 13.4 30 30v197.4zm123.1-1.3l-103.1-56.3v-81.5L452 52v194.1z"/>\n\t\t</symbol>\n\n\t\t<symbol id="svg-camera-crossed" viewBox="0 0 512 512">\n\t\t\t<path d="M195.9 128l-32-32H336c26.5 0 48 21.5 48 48v22.9l87.8-52.7c5-3 11.1-3 16.1-.2 5 2.8 8.1 8.2 8.1 13.9v256c0 5.8-3.1 11.1-8.1 13.9-5 2.9-11.2 2.7-16.1-.2l-15.4-9.3-87.5-87.3c2.6.1 5.1.7 7.4 2.1l87.8 52.7V156.3L376.3 209c-4.9 3-11.1 3-16.1.2-5-2.8-8.1-8.2-8.1-13.9V144c0-8.8-7.2-16-16-16H195.9zM512 489.4L489.4 512 374.1 396.7c-8.7 11.6-22.5 19.3-38.1 19.3H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h25.4L0 22.6 22.6 0 512 489.4zM350.9 373.5L105.4 128H48c-8.8 0-16 7.2-16 16v224c0 8.8 7.2 16 16 16h288c6.9 0 12.6-4.4 14.9-10.5z"/>\n\t\t</symbol>\n\n    <symbol id="svg-call-end" viewBox="0 0 24 24">\n      <path fill="none" d="M0 0h24v24H0V0z"/>\n      <path d="M18.59 10.52c1.05.51 2.04 1.15 2.96 1.91l-1.07 1.07c-.58-.47-1.21-.89-1.88-1.27v-1.71m-13.2 0v1.7c-.65.37-1.28.79-1.87 1.27l-1.07-1.07c.91-.75 1.9-1.38 2.94-1.9M12 7C7.46 7 3.34 8.78.29 11.67c-.18.18-.29.43-.29.71s.11.53.29.7l2.48 2.48c.18.18.43.29.71.29.27 0 .52-.1.7-.28.79-.73 1.68-1.36 2.66-1.85.33-.16.56-.51.56-.9v-3.1C8.85 9.25 10.4 9 12 9s3.15.25 4.59.73v3.1c0 .4.23.74.56.9.98.49 1.88 1.11 2.67 1.85.18.17.43.28.7.28.28 0 .53-.11.71-.29l2.48-2.48c.18-.18.29-.43.29-.71s-.11-.53-.29-.71A16.971 16.971 0 0 0 12 7z"/>\n    </symbol>\n\n    <symbol id="svg-learner" viewBox="0 0 24 24">\n      <path d="M12 9a6 6 0 0 0-5.91 5H2v2h2v6h2v-6h12v6h2v-6h2v-2h-4.09A6 6 0 0 0 12 9Z"/>\n      <circle cx="12" cy="5" r="3"/>\n    </symbol>\n\n    <symbol id="svg-teacher" viewBox="0 0 96 96">\n      <path d="M87.8 19h-64c-2.2 0-4 1.8-4 4v14.5c1.1-.3 2.4-.5 3.6-.5.8 0 1.6.1 2.4.2V25h60v38H51.9l-5.7 6h41.6c2.2 0 4-1.8 4-4V23c0-2.2-1.8-4-4-4"/>\n      <path d="M23.5 58c4.7 0 8.5-3.8 8.5-8.5S28.2 41 23.5 41 15 44.8 15 49.5c-.1 4.7 3.8 8.5 8.5 8.5"/>\n      <path d="M56.2 48.1c-1.3-2-3.9-2.5-5.9-1.3-.4.2-.6.6-.8.8L34.9 62.8c-1.4-.7-2.9-1.3-4.4-1.8-2.3-.4-4.7-.9-7-.9s-4.7.4-7 1.1c-3.4.9-6.4 2.6-8.9 4.7-.6.6-1.1 1.5-1.3 2.3L4.2 77h29.9v-.1l8.5-9.9 13.1-13.8c1.2-1.2 1.6-3.5.5-5.1"/>\n    </symbol>\n\n  </svg>\n</noindex>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3664));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("register-input-cursor", []).directive({
        registerInputCursor: i.default
    }).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), exports.default = ["$timeout", "registersService", function(e, t) {
        "ngInject";

        function n(e) {
            var t = e.closest(".l-register__item").next(),
                n = t.find(".l-add-marks__input");
            n.length && (e.blur(), function(e) {
                var t = e.parent(),
                    n = e.next().position() && e.next().position().top;
                if (n && n >= t.height() && e.next().position()) {
                    var i = t.scrollTop() + e.next().position().top - t.height();
                    t.animate({
                        scrollTop: i
                    }, 150)
                }
            }(t), n.focus())
        }
        return {
            scope: {
                mark: "=",
                index: "<",
                showConfirmModal: "&"
            },
            link: function(i, a) {
                var s = angular.element(a),
                    r = i.mark,
                    o = null;
                0 === i.index && e(function() {
                    return s.focus()
                });
                var l = i.$on("goToNextElem", function() {
                    n(s)
                });
                s.on("keyup.validateInput", function(e) {
                    if (40 === e.keyCode) return n(s), !1;
                    if (38 === e.keyCode) return l = (a = s).closest(".l-register__item").prev(), (c = l.find(".l-add-marks__input")).length && (a.blur(), function(e) {
                        var t = e.parent();
                        if (e.position() && e.position().top <= 0) {
                            var n = t.scrollTop() + e.position().top;
                            t.animate({
                                scrollTop: n
                            }, 150)
                        }
                    }(l), c.focus()), !1;
                    var a, l, c;
                    if (17 !== e.keyCode && 16 !== e.keyCode && 18 !== e.keyCode && 91 !== e.keyCode && 93 !== e.keyCode) {
                        var d = void 0,
                            u = e.currentTarget.value;
                        if (d = 191 === e.keyCode ? "/" : 220 === e.keyCode ? "\\" : e.key.toUpperCase(), -1 === t.promptMarksCodes.indexOf(r.prevMark) || -1 === t.activeMarksCodes.indexOf(d) && u)
                            if (-1 === t.activeMarksCodes.indexOf(d)) {
                                var _ = t.marks.lesson_codes.filter(function(e) {
                                    return "-" === e.code
                                }).pop();
                                r.mark = _.code, r.prevMark = _.code, r.registerType = _.type
                            } else o = t.marks.lesson_codes.filter(function(e) {
                                return e.code === d
                            }).pop(), r.mark = d, r.prevMark = d, r.registerType = o.type, n(s);
                        else u || (r.mark = "-"), i.showConfirmModal({
                            mark: r,
                            inputLetter: d
                        });
                        i.$apply()
                    }
                }), i.$on("$destroy", function() {
                    s.off("keyup.validateInput"), s.off("click.setRange"), l()
                })
            }
        }
    }]
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3666));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("request", []).directive({
        request: i.default
    }).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(156),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    exports.default = ["statusService", "$rootScope", "routeClassService", function(e, t, n) {
        "ngInject";
        var i = {
            stopStates: [],
            hashArray: []
        };

        function s(e, s, r, o, l) {
            if (!l || -1 === i.hashArray.indexOf(l)) {
                l && i.hashArray.push(l);
                var c = o ? o.split(" ") : i.stopStates,
                    d = t.$on("state.changeState", function() {
                        e[s] || -1 !== c.indexOf(n.fullStateName) || (0, a.default)(r, e, [])
                    });
                t.$on("$destroy", function() {
                    d()
                })
            }
        }
        return {
            link: function(e, n, a) {
                i.stopStates = a.requestStop && a.requestStop.split(" ") || [], i.$scope = e, t.registrationLoadEvent = s
            }
        }
    }]
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(0)),
        i = s(t(3668)),
        a = s(t(3669));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = n.default.module("route-class", []).directive({
        routeClass: i.default
    }).service({
        routeClassService: a.default
    }).name;
    exports.default = r
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(280),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    exports.default = ["$timeout", "$window", "$rootScope", "$state", "configService", "routeClassService", "$transitions", "userService", function(e, t, n, i, s, r, o, l) {
        "ngInject";
        var c = {};
        c._routeClassService = r, c._scope = null, c._state = i, c._transitions = o, c._configService = s, c._userService = l, c._isUserTypeClassAdd = !0;
        return function(e, n) {
            c._scope = e, o.onSuccess({}, function() {
                    ! function(e) {
                        var n = i.current.name,
                            a = r.prevState,
                            s = r.prevStateName,
                            o = i.current.data ? i.current.data.pageClass : "",
                            l = n.split(".").pop(),
                            d = l ? "_" + l : "_" + n;
                        d = d || "", c._configService.isCordovaEnv && (e.addClass("_cordova"), "android" === t.cordova.platformId && e.addClass("_cordova-android")), s !== d && (e.removeClass(a), e.removeClass(s), e.addClass(o), e.addClass(d), r.prevState = o, r.prevStateName = d, c._configService.currentPageName = i.current.data.pageTitle)
                    }(n), c._scope.$emit("state.changeState", {
                        state: i.current.name
                    })
                }),
                function(e) {
                    var t = c._scope.$on("state.changeState", function(t, n) {
                            if (c._routeClassService.stateName = n.state, c._routeClassService.isMenuIn = -1 !== c._configService.config.isMenuCenterStates.indexOf(c._routeClassService.fullStateName), c._userService.currentType && c._isUserTypeClassAdd) {
                                var i = !0,
                                    s = !1,
                                    r = void 0;
                                try {
                                    for (var o, l = (0, a.default)(c._userService.currentType); !(i = (o = l.next()).done); i = !0) {
                                        var d = o.value;
                                        e.addClass("_" + d)
                                    }
                                } catch (e) {
                                    s = !0, r = e
                                } finally {
                                    try {
                                        !i && l.return && l.return()
                                    } finally {
                                        if (s) throw r
                                    }
                                }
                            } else c._isUserTypeClassAdd = !0
                        }),
                        n = c._scope.$on("logout.success", function(t, n) {
                            var i = !0,
                                s = !1,
                                r = void 0;
                            try {
                                for (var o, l = (0, a.default)(n.type); !(i = (o = l.next()).done); i = !0) {
                                    var d = o.value;
                                    c._isUserTypeClassAdd = !1, e.removeClass("_" + d)
                                }
                            } catch (e) {
                                s = !0, r = e
                            } finally {
                                try {
                                    !i && l.return && l.return()
                                } finally {
                                    if (s) throw r
                                }
                            }
                        });
                    c._scope.$on("$destroy", n), c._scope.$on("$destroy", t)
                }(n)
        }
    }]
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t, i) {
            "ngInject";
            (0, n.default)(this, e), this._$state = t, this._$stateParams = i, this.config = {
                prevState: null,
                prevStateName: null,
                rootStateName: null,
                firstPartOfCurrentState: null,
                secondPartOfCurrentState: null,
                fullStateName: null,
                isMenuIn: !1,
                stateParam: null,
                prevStateParam: null
            }
        }
        return e.$inject = ["$state", "$stateParams"], (0, i.default)(e, [{
            key: "prevStateParam",
            get: function() {
                return this.config.prevStateParam
            },
            set: function(e) {
                this.config.prevStateParam = e
            }
        }, {
            key: "stateParam",
            get: function() {
                return this.config.stateParam
            },
            set: function(e) {
                this.config.stateParam = e
            }
        }, {
            key: "configuration",
            get: function() {
                return this.config
            }
        }, {
            key: "prevState",
            get: function() {
                return this.config.prevState
            },
            set: function(e) {
                this.config.prevState = e
            }
        }, {
            key: "isMenuIn",
            get: function() {
                return this.config.isMenuIn
            },
            set: function(e) {
                this.config.isMenuIn = e
            }
        }, {
            key: "stateName",
            set: function(e) {
                this.fullStateName = e, this.config.firstPartOfCurrentState = e.split(".")[0] ? e.split(".")[0] : e, this.config.secondPartOfCurrentState = e.split(".")[1] ? e.split(".")[1] : e, this.config.rootStateName = e.split(".")[0]
            }
        }, {
            key: "fullStateName",
            set: function(e) {
                this.config.fullStateName = e
            },
            get: function() {
                return this.config.fullStateName
            }
        }, {
            key: "rootStateName",
            get: function() {
                return this.config.rootStateName
            }
        }, {
            key: "firstPartOfCurrentState",
            get: function() {
                return this.config.firstPartOfCurrentState
            }
        }, {
            key: "secondPartOfCurrentState",
            get: function() {
                return this.config.secondPartOfCurrentState
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3671));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("save-scroll-position", []).directive({
        saveScrollPosition: i.default
    }).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    (function($) {
        Object.defineProperty(exports, "__esModule", {
            value: !0
        }), exports.default = ["$timeout", function(e) {
            "ngInject";
            return function(t) {
                angular.element(document).ready(function() {
                    var n = 0,
                        i = $(document);
                    i.on("mousedown.saveScroll touchstart.saveScroll", ".sl-users__button", function() {
                        n = angular.element(".l-marksheets__list").scrollTop()
                    }), i.on("mouseup.saveScroll touchend.saveScroll", ".sl-users__button", function() {
                        e(function() {
                            angular.element(".l-marksheets__list").scrollTop(n)
                        }, 0)
                    }), t.$on("$destroy", function() {
                        i.off("mousedown.saveScroll touchstart.saveScroll"), i.off("mouseup.saveScroll touchend.saveScroll")
                    })
                })
            }
        }]
    }).call(exports, t(22))
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3673));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("scrollElement", []).directive({
        scrollElement: i.default
    }).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), exports.default = function() {
        "ngInject";
        return {
            link: function(e, t) {
                e.callback = function() {
                    angular.element(t).animate({
                        scrollTop: t[0].scrollHeight
                    }, 300)
                }
            },
            scope: {
                callback: "="
            },
            restrict: "A"
        }
    }
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3675));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("scroll-top", []).directive({
        scrollTop: i.default
    }).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), exports.default = ["$window", "deviceMarginConstants", "windowWidthService", function(e, t, n) {
        "ngInject";
        return {
            link: function() {
                n.windowWidth <= t.MOBILE_MARGIN && e.scrollTo(0, 0)
            },
            restrict: "A"
        }
    }]
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3677));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("slide-toggle-buttons", []).directive({
        slideToggleButtons: i.default
    }).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), exports.default = ["windowWidthService", "deviceMarginConstants", function(e, t) {
        "ngInject";
        return function(n, i) {
            var a = angular.element(i);
            i.on("click.toggleButtonWrap", function() {
                var n = a.closest(".l-student-search__item"),
                    i = n.siblings();
                e.windowWidth > t.MOBILE_MARGIN || (i.removeClass("_opened"), n.toggleClass("_opened"))
            }), n.$on("$destroy", function() {
                i.off("click.toggleButtonWrap")
            })
        }
    }]
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3679));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("toggle-more-filter", []).directive({
        toggleMoreFilter: i.default
    }).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), exports.default = ["windowWidthService", "deviceMarginConstants", function(e, t) {
        "ngInject";
        return function(n, i) {
            angular.element(document).ready(function() {
                var a = angular.element(".toggle-form"),
                    s = angular.element(i).find(".btn-show-more"),
                    r = t.MOBILE_MARGIN,
                    o = n.$watch(function() {
                        return e.windowWidth
                    }, function(e) {
                        e > r ? a.removeClass("_uncovered") : s.on("click.showMoreFilter", function() {
                            s.toggleClass("_revert"), a.toggleClass("_uncovered"), i.toggleClass("_visible")
                        }), o()
                    });
                n.$on("$destroy", function() {
                    s.off("click.showMoreFilter")
                })
            })
        }
    }]
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3681));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("touchstart", []).directive({
        touchstart: i.default
    }).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), exports.default = ["$timeout", function(e) {
        "ngInject";
        return {
            restrict: "A",
            scope: {
                onTouchStart: "&",
                student: "<",
                index: "<"
            },
            link: function(t, n) {
                var i = void 0,
                    a = void 0,
                    s = void 0;
                n.on("touchstart.startDragging", function(r) {
                    s || (i = e(function() {
                        s = r, n.trigger("touchstart.startDragging")
                    }, 300)), !a && s && t.onTouchStart({
                        event: s,
                        student: t.student,
                        index: t.index
                    }), n.on("touchmove.dragging", function() {
                        a = !0
                    })
                }), n.on("touchend", function() {
                    n.off("touchmove.dragging"), e.cancel(i), a = !1, s = null
                }), t.$on("$destroy", function() {
                    return n.off("touchstart.startDragging")
                })
            }
        }
    }]
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3683));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("update-status", []).directive({
        updateStatus: i.default
    }).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    (function($) {
        Object.defineProperty(exports, "__esModule", {
            value: !0
        }), exports.default = ["statusService", "$timeout", "routeClassService", "requestService", "userService", function(e, t, n, i, a) {
            "ngInject";
            return function(s, r, o) {
                function l(e) {
                    return Math.ceil((Number(new Date) - Number(e)) / 1e3)
                }
                var c = void 0;
                o.$observe("timeout", function(r) {
                    var d = o.requestStop && o.requestStop.split(" ") || [],
                        u = parseInt(r, 10),
                        _ = null,
                        f = null;

                    function v() {
                        if (function(e) {
                                return -1 === e.indexOf(n.firstPartOfCurrentState) && !i.isDemoMode
                            }(d))
                            if (f) {
                                var t = !1;
                                if (window.isCordovaApp || (t = a.user.miscellaneous.status_in_background), t) {
                                    var s = l(f);
                                    _ = Number(new Date), e.uploadStatus(s)
                                }
                            } else _ = Number(new Date), e.uploadStatus(0);
                        m()
                    }

                    function m() {
                        if (a.user) {
                            var e = a.user.miscellaneous.status_interval;
                            e && e !== u && (u = e)
                        }
                        c = t(v, 1e3 * u)
                    }

                    function h() {
                        if (f = null, _) {
                            var e = l(_);
                            a.user && e > u && t.cancel(c) && v()
                        }
                    }
                    s.$watch(function() {
                        return a.user
                    }, function(e) {
                        e && (t.cancel(c), m())
                    }), window.isCordovaApp ? ($(document).on("resume", h), $(document).on("pause", function() {
                        f = Number(new Date)
                    })) : ($(window).on("focus", h), $(window).on("blur", function() {
                        f = Number(new Date)
                    })), m()
                })
            }
        }]
    }).call(exports, t(22))
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3685));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("svg-use", []).component("svgUse", i.default).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = i(t(3686));

    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var a = {
        restrict: "E",
        bindings: {
            name: "@"
        },
        template: i(t(3687)).default,
        controller: n.default
    };
    exports.default = a
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(1),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    var s = function e(t, n) {
        "ngInject";
        var i = this;
        (0, a.default)(this, e), this.baseUrl = t.location.href.replace(t.location.hash, ""), n.$watch(function() {
            return t.location.href
        }, function(e) {
            e && (i.baseUrl = e.replace(t.location.hash, ""))
        })
    };
    s.$inject = ["$window", "$scope"], exports.default = s
}, function(e, exports) {
    e.exports = '<svg version="1.1"\n     ng-class="::&quot;svg-&quot; + $ctrl.name"\n     focusable="false">\n  <use ng-attr-xlink:href="{{$ctrl.baseUrl + \'#svg-\' + $ctrl.name}}" xlink:href=""></use>\n</svg>\n'
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3689));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("user-image-loader", []).service({
        userImageLoaderService: i.default
    }).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(1)),
        i = a(t(2));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e() {
            "ngInject";
            (0, n.default)(this, e)
        }
        return (0, i.default)(e, [{
            key: "getPhotoFromId",
            value: function(e, t) {
                if (!e || !t) return !1;
                for (var n = e.id, i = 0; i < t.length; i++) {
                    var a = t[i];
                    if (n === a.id) return e.photo = a.photo, !0
                }
                return !1
            }
        }, {
            key: "checkPhoto",
            value: function(e, t) {
                if (e)
                    for (var n = 0; n < e.length; n++) {
                        var i = e[n];
                        if (i.id === t) return !i.photo
                    }
                return !1
            }
        }, {
            key: "findPhotoFromId",
            value: function(e, t) {
                var n = e.filter(function(e) {
                    if (e.id === t) return !0
                })[0];
                return n && n.photo || null
            }
        }, {
            key: "setImageToUsers",
            value: function(e) {
                arguments.length > 1 && void 0 !== arguments[1] && arguments[1], arguments[2], arguments[3], arguments[4]
            }
        }, {
            key: "getElementFromId",
            value: function(e, t) {
                for (var n = 0; n < e.length; n++) {
                    var i = e[n];
                    if (i.id === t) return i
                }
                return null
            }
        }, {
            key: "getRequiringPhotoElements",
            value: function(e, t) {
                for (var n = [], i = 0; i < t.length; i++) {
                    var a = t[i]; - 1 !== e.indexOf(a.id.toString()) && n.push(a)
                }
                return n
            }
        }]), e
    }();
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = s(t(0)),
        i = s(t(3691)),
        a = s(t(3692));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = n.default.module("window-width", []).directive({
        windowWidth: i.default
    }).service({
        windowWidthService: a.default
    }).name;
    exports.default = r
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), exports.default = ["windowWidthService", "$window", function(e, t) {
        "ngInject";
        return function(n) {
            angular.element(t).on("resize.setWindowSize", function() {
                e.windowWidth = t.innerWidth, e.windowHeight = t.innerHeight, n.$digest(), n.$emit("resize.getWindowSize", {
                    innerWidth: e.windowWidth,
                    innerHeight: e.windowHeight
                })
            })
        }
    }]
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n, i = t(1),
        a = (n = i) && n.__esModule ? n : {
            default: n
        };
    var s = function e(t) {
        "ngInject";
        (0, a.default)(this, e), this.windowWidth = t.innerWidth, this.windowHeight = t.innerHeight
    };
    s.$inject = ["$window"], exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3694));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("with-float-label", []).directive({
        withFloatLabel: i.default
    }).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";

    function n(e) {
        "ngInject";
        return {
            link: function(n, i, a, s) {
                var r = s[0],
                    o = !!s[1],
                    l = s[1] || {
                        $fake: !0,
                        $setTouched: angular.noop,
                        $setViewValue: function(e) {
                            this.$viewValue = e, this.$render(e), this.$viewChangeListeners.forEach(function(e) {
                                return e()
                            })
                        },
                        $isEmpty: function(e) {
                            return 0 === ("" + e).length
                        },
                        $parsers: [],
                        $formatters: [],
                        $viewChangeListeners: [],
                        $render: angular.noop
                    },
                    c = angular.isDefined(a.readonly),
                    d = t(a.noAsterisk),
                    u = i[0].tagName.toLowerCase();
                if (r)
                    if ("hidden" !== a.type) {
                        if (r.input) {
                            if (r.input[0].contains(i[0])) return;
                            throw new Error("<b-input-container> can only have *one* <input> child element!")
                        }
                        r.input = i,
                            function() {
                                if (r.label) f();
                                else var e = n.$watch(function() {
                                    return r.label
                                }, function(t) {
                                    t && (f(), e())
                                })
                            }(), i.attr("id") || i.attr("id", "input_" + uuid()), "input" === u && "number" === a.type && a.min && a.max && !a.step && i.attr("step", "any"), o || _(), a.ngValue && a.$observe("value", _), l.$parsers.push(v), l.$formatters.push(v), a.placeholder && a.$observe("placeholder", function(e) {
                                r.setHasPlaceholder(t(e))
                            }), i.on("input", _), c || i.on("focus", function() {
                                e(function() {
                                    r.setFocused(!0)
                                })
                            }).on("blur", function() {
                                e(function() {
                                    r.setFocused(!1), _()
                                })
                            }), n.$on("$destroy", function() {
                                r.setFocused(!1), r.setHasValue(!1), r.input = null
                            })
                    } else i.attr("aria-hidden", "true");
                function _() {
                    r.setHasValue(i.val().length > 0 || (i[0].validity || {}).badInput)
                }

                function f() {
                    a.$observe("required", function(e) {
                        r.label.toggleClass("_required", e && !d)
                    })
                }

                function v(e) {
                    return r.setHasValue(!l.$isEmpty(e)), e
                }
            },
            restrict: "A",
            require: ["^?bInputContainer", "?ngModel"]
        };

        function t(e) {
            return "false" !== e && "undefined" !== e && "null" !== e && "0" !== e && !!e
        }
    }
    n.$inject = ["$timeout"], Object.defineProperty(exports, "__esModule", {
        value: !0
    }), exports.default = n
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3696));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("word-counter", []).directive({
        wordCounter: i.default
    }).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), exports.default = function() {
        function e(e) {
            return e.split(" ").filter(function(e) {
                return e
            }).length
        }

        function t(e, t, n, i) {
            e > t ? function(e, t) {
                e.addClass("_warning"), t.addClass("_warning")
            }(n, i) : function(e, t) {
                e.removeClass("_warning"), t.removeClass("_warning")
            }(n, i)
        }
        return {
            link: function(n, i) {
                angular.element(document).ready(function() {
                    if (n.wordLimit) {
                        var a = angular.element(i).find(".l-profiles-entry__label-textarea"),
                            s = angular.element(i).find(".l-profiles-entry__words"),
                            r = angular.element(i).find(".l-profiles-entry__bottom-stat");
                        t(e(a.val()), n.wordLimit, r, a), s.text("Words: " + e(a.val()) + "; "), a[0].oninput = function() {
                            var i = e(a.val());
                            s.text("Words: " + i + "; "), t(i, n.wordLimit, r, a)
                        }
                    }
                })
            },
            scope: {
                wordLimit: "<"
            },
            restrict: "A"
        }
    }
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var n = a(t(0)),
        i = a(t(3698));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = n.default.module("fixed-column", []).directive({
        fixedColumn: i.default
    }).name;
    exports.default = s
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), exports.default = ["$timeout", function(e) {
        "ngInject";
        var t = void 0,
            n = function(n) {
                var i = n.find("[fixed-base]").map(function() {
                    var e = angular.element(this),
                        n = e.find("[fixed-item]"),
                        i = n.outerHeight(),
                        a = e.attr("fixed-class");
                    t = n.map(function() {
                        return angular.copy(this)
                    });
                    var s = n.outerWidth();
                    t.each(function() {
                        angular.element(this).addClass("fixed-element").css({
                            height: i
                        })
                    });
                    var r = angular.element("<div></div>").css({
                        width: s,
                        top: 0,
                        left: 0,
                        position: "absolute"
                    });
                    return r.addClass(a).append(t), e.parent().append(r), r
                });
                i = angular.element(i);
                var a = n.find(".t-parent-event__wrapper"),
                    s = null,
                    r = !0,
                    o = function e() {
                        var t = a.scrollLeft(),
                            n = !t;
                        i.each(function() {
                            angular.element(this).toggleClass("_scrolled", !n).css({
                                transform: "translateX(" + (this.hasClass("_header") ? "-" : "") + t + "px)"
                            })
                        }), s = requestAnimationFrame(e)
                    };
                a.on("scroll.tableScroll", function(t) {
                    r && (r = !1, s = requestAnimationFrame(o), e(function() {
                        s = s && cancelAnimationFrame(s) || null, r = !0
                    }, 500, !1))
                })
            };
        return {
            replace: !0,
            link: function(e, t) {
                angular.element(document).ready(function() {
                    n(t), e.$on("regenerateTable", function() {
                        ! function(e) {
                            var t = e.find(".t-parent-event__wrapper");
                            e.find(".t-parent-event__fixed").remove(), t.off("scroll.tableScroll"), n(e), t.trigger("scroll")
                        }(t)
                    })
                })
            }
        }
    }]
}, function(e, exports, t) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), exports.default = ["$window", "$rootScope", "$timeout", "userService", "authService", "deviceMarginConstants", "menuService", "$state", "$transitions", "windowWidthService", "configService", "requestService", "$storageService", function(e, t, n, i, a, s, r, o, l, c, d, u, _) {
        "ngInject";
        u.updateIsDemoModeFromStorage(), d.isCordovaEnv = !!e.cordova, d.isKeyboardActiveInputDevice = !d.isCordovaEnv, d.isLocalhost = "localhost" === e.location.hostname || /(\d{1,3}\.){3}\d{1,3}/.test(e.location.hostname), d.isLocalhost || d.isCordovaEnv ? u.setUrlForMainApi("https://demo.edulinkone.com/api/") : u.setUrlForMainApi(e.location.origin + "/api/");
        var f = !1;

        function v() {
            f = !1
        }!a.isNotFirstAuth && a.updateAccountData(), l.onEnter({}, function(e, t) {
            var n = t.data && t.data.authorize;
            if (n && n.length) {
                if (!a.isAuthorized) return v(), o.target("login");
                if (! function(e) {
                        for (var t = 0; t < e.length; t++)
                            if (i.checkRole(e[t])) return !0;
                        return !1
                    }(n)) return a.removeAccountData(), v(), o.target("login");
                f = !0
            } else v()
        }), l.onSuccess({}, function(e) {
            var t = e.router.stateService.current.name.split(".")[0],
                n = -1 === d.config.isHideMenu.indexOf(t);
            f && !a.isNotFirstAuth && i.checkRole("employee") && localStorage.getItem("child_id") && (localStorage.removeItem("child_id"), o.transitionTo("home")), f && !a.isNotFirstAuth && n && (a.loadAsyncUserData().then(function() {
                i.checkRole("employee") || (r.logo = i.user.logo)
            }).then(function() {
                return a.handleMenu()
            }), a.isNotFirstAuth = !0), f && !a.isNotFirstAuth && a.initLinks(a.getRoles()), i.user && !i.user.activeChild && _.localStorage.remove("child_id")
        })
    }]
}, , , function(e, exports, t) {
    "use strict";
    (function(n) {
        var i, a = t(144),
            s = (i = a) && i.__esModule ? i : {
                default: i
            };
        /*!
         * VERSION: 0.11.1
         * DATE: 2018-02-15
         * UPDATES AND DOCS AT: http://greensock.com
         *
         * @license Copyright (c) 2008-2018, GreenSock. All rights reserved.
         * ThrowPropsPlugin is a Club GreenSock membership benefit; You must have a valid membership to use
         * this code without violating the terms of use. Visit http://greensock.com/club/ to sign up or get more details.
         * This work is subject to the software agreement that was issued with your membership.
         *
         * @author: Jack Doyle, jack@greensock.com
         */
        var r = void 0 !== e && e.exports && void 0 !== n ? n : window;
        (r._gsQueue || (r._gsQueue = [])).push(function() {
            r._gsDefine("plugins.ThrowPropsPlugin", ["plugins.TweenPlugin", "TweenLite", "easing.Ease", "utils.VelocityTracker"], function(e, t, n, i) {
                var a, o, l, c, d = function(t, n) {
                        e.call(this, "throwProps"), this._overwriteProps.length = 0
                    },
                    u = 999999999999999,
                    _ = r._gsDefine.globals,
                    f = !1,
                    v = {
                        x: 1,
                        y: 1,
                        z: 2,
                        scale: 1,
                        scaleX: 1,
                        scaleY: 1,
                        rotation: 1,
                        rotationZ: 1,
                        rotationX: 2,
                        rotationY: 2,
                        skewX: 1,
                        skewY: 1,
                        xPercent: 1,
                        yPercent: 1
                    },
                    m = function(e, t, n, i, a) {
                        var r, o, l, c, d = t.length,
                            _ = 0,
                            f = u;
                        if ("object" === (void 0 === e ? "undefined" : (0, s.default)(e))) {
                            for (; --d > -1;) {
                                for (l in r = t[d], o = 0, e) o += (c = r[l] - e[l]) * c;
                                o < f && (_ = d, f = o)
                            }
                            if ((a || u) < u && a < Math.sqrt(f)) return e
                        } else
                            for (; --d > -1;)(o = (r = t[d]) - e) < 0 && (o = -o), o < f && r >= i && r <= n && (_ = d, f = o);
                        return t[_]
                    },
                    h = function(e, t, n, i, a, r) {
                        if ("auto" === e.end) return e;
                        var o, l, c = e.end;
                        if (n = isNaN(n) ? u : n, i = isNaN(i) ? -u : i, "object" === (void 0 === t ? "undefined" : (0, s.default)(t))) {
                            if (o = t.calculated ? t : ("function" == typeof c ? c(t) : m(t, c, n, i, r)) || t, !t.calculated) {
                                for (l in o) t[l] = o[l];
                                t.calculated = !0
                            }
                            o = o[a]
                        } else o = "function" == typeof c ? c(t) : c instanceof Array ? m(t, c, n, i, r) : Number(c);
                        return o > n ? o = n : o < i && (o = i), {
                            max: o,
                            min: o,
                            unitFactor: e.unitFactor
                        }
                    },
                    p = function(e, t, n) {
                        for (var i in t) void 0 === e[i] && i !== n && (e[i] = t[i]);
                        return e
                    },
                    g = d.calculateChange = function(e, i, a, s) {
                        return null == s && (s = .05), a * s * e / (i instanceof n ? i : i ? new n(i) : t.defaultEase).getRatio(s)
                    },
                    b = d.calculateDuration = function(e, i, a, s, r) {
                        r = r || .05;
                        var o = s instanceof n ? s : s ? new n(s) : t.defaultEase;
                        return Math.abs((i - e) * o.getRatio(r) / a / r)
                    },
                    S = d.calculateTweenDuration = function(e, a, r, o, l, c) {
                        if ("string" == typeof e && (e = t.selector(e)), !e) return 0;
                        null == r && (r = 10), null == o && (o = .2), null == l && (l = 1), e.length && (e = e[0] || e);
                        var u, _, v, m, S, y, k, M, w, D, T, C, P, L = 0,
                            x = 9999999999,
                            j = a.throwProps || a,
                            I = a.ease instanceof n ? a.ease : a.ease ? new n(a.ease) : t.defaultEase,
                            A = isNaN(j.checkpoint) ? .05 : Number(j.checkpoint),
                            E = isNaN(j.resistance) ? d.defaultResistance : Number(j.resistance);
                        if (j.linkedProps)
                            for (C = j.linkedProps.split(","), T = {}, P = 0; P < C.length; P++)(_ = j[u = C[P]]) && (v = (m = void 0 !== _.velocity && "number" == typeof _.velocity ? Number(_.velocity) || 0 : (w = w || i.getByTarget(e)) && w.isTrackingProp(u) ? w.getVelocity(u) : 0) * (S = isNaN(_.resistance) ? E : Number(_.resistance)) > 0 ? m / S : m / -S, y = "function" == typeof e[u] ? e[u.indexOf("set") || "function" != typeof e["get" + u.substr(3)] ? u : "get" + u.substr(3)]() : e[u] || 0, T[u] = y + g(m, I, v, A));
                        for (u in j) "resistance" !== u && "checkpoint" !== u && "preventOvershoot" !== u && "linkedProps" !== u && "radius" !== u && ("object" !== (void 0 === (_ = j[u]) ? "undefined" : (0, s.default)(_)) && ((w = w || i.getByTarget(e)) && w.isTrackingProp(u) ? _ = "number" == typeof _ ? {
                            velocity: _
                        } : {
                            velocity: w.getVelocity(u)
                        } : v = (m = Number(_) || 0) * E > 0 ? m / E : m / -E), "object" === (void 0 === _ ? "undefined" : (0, s.default)(_)) && (v = (m = void 0 !== _.velocity && "number" == typeof _.velocity ? Number(_.velocity) || 0 : (w = w || i.getByTarget(e)) && w.isTrackingProp(u) ? w.getVelocity(u) : 0) * (S = isNaN(_.resistance) ? E : Number(_.resistance)) > 0 ? m / S : m / -S, k = (y = "function" == typeof e[u] ? e[u.indexOf("set") || "function" != typeof e["get" + u.substr(3)] ? u : "get" + u.substr(3)]() : e[u] || 0) + g(m, I, v, A), void 0 !== _.end && (_ = h(_, T && u in T ? T : k, _.max, _.min, u, j.radius), (c || f) && (j[u] = p(_, j[u], "end"))), void 0 !== _.max && k > Number(_.max) + 1e-10 ? (D = _.unitFactor || d.defaultUnitFactors[u] || 1, (M = y > _.max && _.min !== _.max || m * D > -15 && m * D < 45 ? o + .1 * (r - o) : b(y, _.max, m, I, A)) + l < x && (x = M + l)) : void 0 !== _.min && k < Number(_.min) - 1e-10 && (D = _.unitFactor || d.defaultUnitFactors[u] || 1, (M = y < _.min && _.min !== _.max || m * D > -45 && m * D < 15 ? o + .1 * (r - o) : b(y, _.min, m, I, A)) + l < x && (x = M + l)), M > L && (L = M)), v > L && (L = v));
                        return L > x && (L = x), L > r ? r : L < o ? o : L
                    },
                    y = d.prototype = new e("throwProps");
                return y.constructor = d, d.version = "0.11.1", d.API = 2, d._autoCSS = !0, d.defaultResistance = 100, d.defaultUnitFactors = {
                    time: 1e3,
                    totalTime: 1e3
                }, d.track = function(e, t, n) {
                    return i.track(e, t, n)
                }, d.untrack = function(e, t) {
                    i.untrack(e, t)
                }, d.isTracking = function(e, t) {
                    return i.isTracking(e, t)
                }, d.getVelocity = function(e, t) {
                    var n = i.getByTarget(e);
                    return n ? n.getVelocity(t) : NaN
                }, d._cssRegister = function() {
                    var e = _.com.greensock.plugins.CSSPlugin;
                    if (e) {
                        var t = e._internals,
                            n = t._parseToProxy,
                            r = t._setPluginRatio,
                            l = t.CSSPropTween;
                        t._registerComplexSpecialProp("throwProps", {
                            parser: function(e, t, c, u, _, f) {
                                f = new d;
                                var m, h, p, g, b = {},
                                    S = {},
                                    y = {},
                                    k = {},
                                    M = {},
                                    w = {};
                                for (h in o = {}, t) "resistance" !== h && "preventOvershoot" !== h && "linkedProps" !== h && "radius" !== h && ("object" === (void 0 === (m = t[h]) ? "undefined" : (0, s.default)(m)) ? (void 0 !== m.velocity && "number" == typeof m.velocity ? b[h] = Number(m.velocity) || 0 : (g = g || i.getByTarget(e), b[h] = g && g.isTrackingProp(h) ? g.getVelocity(h) : 0), void 0 !== m.end && (k[h] = m.end), void 0 !== m.min && (S[h] = m.min), void 0 !== m.max && (y[h] = m.max), m.preventOvershoot && (w[h] = !0), void 0 !== m.resistance && (!0, M[h] = m.resistance)) : "number" == typeof m ? b[h] = m : (g = g || i.getByTarget(e)) && g.isTrackingProp(h) ? b[h] = g.getVelocity(h) : b[h] = m || 0, v[h] && u._enableTransforms(2 === v[h]));
                                for (h in p = n(e, b, u, _, f), a = p.proxy, b = p.end, a) o[h] = {
                                    velocity: b[h],
                                    min: S[h],
                                    max: y[h],
                                    end: k[h],
                                    resistance: M[h],
                                    preventOvershoot: w[h]
                                };
                                return null != t.resistance && (o.resistance = t.resistance), null != t.linkedProps && (o.linkedProps = t.linkedProps), null != t.radius && (o.radius = t.radius), t.preventOvershoot && (o.preventOvershoot = !0), _ = new l(e, "throwProps", 0, 0, p.pt, 2), u._overwriteProps.pop(), _.plugin = f, _.setRatio = r, _.data = p, f._onInitTween(a, o, u._tween), _
                            }
                        })
                    }
                }, d.to = function(e, n, i, s, r) {
                    n.throwProps || (n = {
                        throwProps: n
                    }), 0 === r && (n.throwProps.preventOvershoot = !0), f = !0;
                    var d = new t(e, s || 1, n);
                    return d.render(0, !0, !0), d.vars.css ? (d.duration(S(a, {
                        throwProps: o,
                        ease: n.ease
                    }, i, s, r)), d._delay && !d.vars.immediateRender ? d.invalidate() : l._onInitTween(a, c, d), f = !1, d) : (d.kill(), d = new t(e, S(e, n, i, s, r), n), f = !1, d)
                }, y._onInitTween = function(e, t, n, a) {
                    this.target = e, this._props = [], l = this, c = t;
                    var r, o, d, u, _, v, m, b, S, y, k, M, w = n._ease,
                        D = isNaN(t.checkpoint) ? .05 : Number(t.checkpoint),
                        T = n._duration,
                        C = t.preventOvershoot,
                        P = 0;
                    if (t.linkedProps)
                        for (k = t.linkedProps.split(","), y = {}, M = 0; M < k.length; M++)(o = t[r = k[M]]) && (_ = void 0 !== o.velocity && "number" == typeof o.velocity ? Number(o.velocity) || 0 : (S = S || i.getByTarget(e)) && S.isTrackingProp(r) ? S.getVelocity(r) : 0, d = "function" == typeof e[r] ? e[r.indexOf("set") || "function" != typeof e["get" + r.substr(3)] ? r : "get" + r.substr(3)]() : e[r] || 0, y[r] = d + g(_, w, T, D));
                    for (r in t)
                        if ("resistance" !== r && "checkpoint" !== r && "preventOvershoot" !== r && "linkedProps" !== r && "radius" !== r) {
                            if ("function" == typeof(o = t[r]) && (o = o(a, e)), "number" == typeof o) _ = Number(o) || 0;
                            else if ("object" !== (void 0 === o ? "undefined" : (0, s.default)(o)) || isNaN(o.velocity)) {
                                if (!(S = S || i.getByTarget(e)) || !S.isTrackingProp(r)) throw "ERROR: No velocity was defined in the throwProps tween of " + e + " property: " + r;
                                _ = S.getVelocity(r)
                            } else _ = Number(o.velocity);
                            v = g(_, w, T, D), b = 0, d = (u = "function" == typeof e[r]) ? e[r.indexOf("set") || "function" != typeof e["get" + r.substr(3)] ? r : "get" + r.substr(3)]() : e[r], "object" === (void 0 === o ? "undefined" : (0, s.default)(o)) && (m = d + v, void 0 !== o.end && (o = h(o, y && r in y ? y : m, o.max, o.min, r, t.radius), f && (t[r] = p(o, t[r], "end"))), void 0 !== o.max && Number(o.max) < m ? C || o.preventOvershoot ? v = o.max - d : b = o.max - d - v : void 0 !== o.min && Number(o.min) > m && (C || o.preventOvershoot ? v = o.min - d : b = o.min - d - v)), this._overwriteProps[P] = r, this._props[P++] = {
                                p: r,
                                s: d,
                                c1: v,
                                c2: b,
                                f: u,
                                r: !1
                            }
                        }
                    return !0
                }, y._kill = function(t) {
                    for (var n = this._props.length; --n > -1;) null != t[this._props[n].p] && this._props.splice(n, 1);
                    return e.prototype._kill.call(this, t)
                }, y._mod = function(e) {
                    for (var t, n = this._props, i = n.length; --i > -1;) "function" == typeof(t = e[n[i].p] || e.throwProps) && (n[i].m = t)
                }, y.setRatio = function(e) {
                    for (var t, n, i = this._props.length; --i > -1;) n = (t = this._props[i]).s + t.c1 * e + t.c2 * e * e, t.m ? n = t.m(n, this.target) : 1 === e && (n = (1e4 * n + (n < 0 ? -.5 : .5) | 0) / 1e4), t.f ? this.target[t.p](n) : this.target[t.p] = n
                }, e.activate([d]), d
            }, !0), r._gsDefine("utils.VelocityTracker", ["TweenLite"], function(e) {
                var t, n, i, a = /([A-Z])/g,
                    s = {},
                    o = r.document,
                    l = {
                        x: 1,
                        y: 1,
                        z: 2,
                        scale: 1,
                        scaleX: 1,
                        scaleY: 1,
                        rotation: 1,
                        rotationZ: 1,
                        rotationX: 2,
                        rotationY: 2,
                        skewX: 1,
                        skewY: 1,
                        xPercent: 1,
                        yPercent: 1
                    },
                    c = o.defaultView ? o.defaultView.getComputedStyle : function() {},
                    d = function(e, t, n) {
                        var i = (e._gsTransform || s)[t];
                        return i || 0 === i ? i : (e.style[t] ? i = e.style[t] : (n = n || c(e, null)) ? i = n[t] || n.getPropertyValue(t) || n.getPropertyValue(t.replace(a, "-$1").toLowerCase()) : e.currentStyle && (i = e.currentStyle[t]), parseFloat(i) || 0)
                    },
                    u = e.ticker,
                    _ = function(e, t, n) {
                        this.p = e, this.f = t, this.v1 = this.v2 = 0, this.t1 = this.t2 = u.time, this.css = !1, this.type = "", this._prev = null, n && (this._next = n, n._prev = this)
                    },
                    f = function() {
                        var e, n, a = t,
                            s = u.time;
                        if (s - i >= .03)
                            for (i, i = s; a;) {
                                for (n = a._firstVP; n;)((e = n.css ? d(a.target, n.p) : n.f ? a.target[n.p]() : a.target[n.p]) !== n.v1 || s - n.t1 > .15) && (n.v2 = n.v1, n.v1 = e, n.t2 = n.t1, n.t1 = s), n = n._next;
                                a = a._next
                            }
                    },
                    v = function(e) {
                        this._lookup = {}, this.target = e, this.elem = !(!e.style || !e.nodeType), n || (u.addEventListener("tick", f, null, !1, -100), i = u.time, n = !0), t && (this._next = t, t._prev = this), t = this
                    },
                    m = v.getByTarget = function(e) {
                        for (var n = t; n;) {
                            if (n.target === e) return n;
                            n = n._next
                        }
                    },
                    h = v.prototype;
                return h.addProp = function(t, n) {
                    if (!this._lookup[t]) {
                        var i = this.target,
                            a = "function" == typeof i[t],
                            s = a ? this._altProp(t) : t,
                            r = this._firstVP;
                        this._firstVP = this._lookup[t] = this._lookup[s] = r = new _(s !== t && 0 === t.indexOf("set") ? s : t, a, r), r.css = this.elem && (void 0 !== this.target.style[r.p] || l[r.p]), r.css && l[r.p] && !i._gsTransform && e.set(i, {
                            x: "+=0",
                            overwrite: !1
                        }), r.type = n || r.css && 0 === t.indexOf("rotation") ? "deg" : "", r.v1 = r.v2 = r.css ? d(i, r.p) : a ? i[r.p]() : i[r.p]
                    }
                }, h.removeProp = function(e) {
                    var t = this._lookup[e];
                    t && (t._prev ? t._prev._next = t._next : t === this._firstVP && (this._firstVP = t._next), t._next && (t._next._prev = t._prev), this._lookup[e] = 0, t.f && (this._lookup[this._altProp(e)] = 0))
                }, h.isTrackingProp = function(e) {
                    return this._lookup[e] instanceof _
                }, h.getVelocity = function(e) {
                    var t, n, i = this._lookup[e],
                        a = this.target;
                    if (!i) throw "The velocity of " + e + " is not being tracked.";
                    return t = (i.css ? d(a, i.p) : i.f ? a[i.p]() : a[i.p]) - i.v2, "rad" !== i.type && "deg" !== i.type || (t %= n = "rad" === i.type ? 2 * Math.PI : 360) !== t % (n / 2) && (t = t < 0 ? t + n : t - n), t / (u.time - i.t2)
                }, h._altProp = function(e) {
                    var t = e.substr(0, 3),
                        n = ("get" === t ? "set" : "set" === t ? "get" : t) + e.substr(3);
                    return "function" == typeof this.target[n] ? n : e
                }, v.getByTarget = function(n) {
                    var i = t;
                    for ("string" == typeof n && (n = e.selector(n)), n.length && n !== window && n[0] && n[0].style && !n.nodeType && (n = n[0]); i;) {
                        if (i.target === n) return i;
                        i = i._next
                    }
                }, v.track = function(e, t, n) {
                    var i = m(e),
                        a = t.split(","),
                        s = a.length;
                    for (n = (n || "").split(","), i || (i = new v(e)); --s > -1;) i.addProp(a[s], n[s] || n[0]);
                    return i
                }, v.untrack = function(e, n) {
                    var i = m(e),
                        a = (n || "").split(","),
                        s = a.length;
                    if (i) {
                        for (; --s > -1;) i.removeProp(a[s]);
                        i._firstVP && n || (i._prev ? i._prev._next = i._next : i === t && (t = i._next), i._next && (i._next._prev = i._prev))
                    }
                }, v.isTracking = function(e, t) {
                    var n = m(e);
                    return !!n && (!(t || !n._firstVP) || n.isTrackingProp(t))
                }, v
            }, !0)
        }), r._gsDefine && r._gsQueue.pop()()
    }).call(exports, t(23))
}, , function(e, exports, t) {
    "use strict";
    (function(e) {
        var n, i, a, s, r = t(144),
            o = (a = r) && a.__esModule ? a : {
                default: a
            };
        s = function() {
            var t;

            function n() {
                return t.apply(null, arguments)
            }

            function i(e) {
                return "[object Array]" === Object.prototype.toString.call(e)
            }

            function a(e) {
                return e instanceof Date || "[object Date]" === Object.prototype.toString.call(e)
            }

            function s(e, t) {
                return Object.prototype.hasOwnProperty.call(e, t)
            }

            function r(e, t) {
                for (var n in t) s(t, n) && (e[n] = t[n]);
                return s(t, "toString") && (e.toString = t.toString), s(t, "valueOf") && (e.valueOf = t.valueOf), e
            }

            function l(e, t, n, i) {
                return Be(e, t, n, i, !0).utc()
            }

            function c(e) {
                return null == e._pf && (e._pf = {
                    empty: !1,
                    unusedTokens: [],
                    unusedInput: [],
                    overflow: -2,
                    charsLeftOver: 0,
                    nullInput: !1,
                    invalidMonth: null,
                    invalidFormat: !1,
                    userInvalidated: !1,
                    iso: !1
                }), e._pf
            }

            function d(e) {
                if (null == e._isValid) {
                    var t = c(e);
                    e._isValid = !(isNaN(e._d.getTime()) || !(t.overflow < 0) || t.empty || t.invalidMonth || t.invalidWeekday || t.nullInput || t.invalidFormat || t.userInvalidated), e._strict && (e._isValid = e._isValid && 0 === t.charsLeftOver && 0 === t.unusedTokens.length && void 0 === t.bigHour)
                }
                return e._isValid
            }

            function u(e) {
                var t = l(NaN);
                return null != e ? r(c(t), e) : c(t).userInvalidated = !0, t
            }
            var _ = n.momentProperties = [];

            function f(e, t) {
                var n, i, a;
                if (void 0 !== t._isAMomentObject && (e._isAMomentObject = t._isAMomentObject), void 0 !== t._i && (e._i = t._i), void 0 !== t._f && (e._f = t._f), void 0 !== t._l && (e._l = t._l), void 0 !== t._strict && (e._strict = t._strict), void 0 !== t._tzm && (e._tzm = t._tzm), void 0 !== t._isUTC && (e._isUTC = t._isUTC), void 0 !== t._offset && (e._offset = t._offset), void 0 !== t._pf && (e._pf = c(t)), void 0 !== t._locale && (e._locale = t._locale), _.length > 0)
                    for (n in _) void 0 !== (a = t[i = _[n]]) && (e[i] = a);
                return e
            }
            var v = !1;

            function m(e) {
                f(this, e), this._d = new Date(null != e._d ? e._d.getTime() : NaN), !1 === v && (v = !0, n.updateOffset(this), v = !1)
            }

            function h(e) {
                return e instanceof m || null != e && null != e._isAMomentObject
            }

            function p(e) {
                return e < 0 ? Math.ceil(e) : Math.floor(e)
            }

            function g(e) {
                var t = +e,
                    n = 0;
                return 0 !== t && isFinite(t) && (n = p(t)), n
            }

            function b(e, t, n) {
                var i, a = Math.min(e.length, t.length),
                    s = Math.abs(e.length - t.length),
                    r = 0;
                for (i = 0; i < a; i++)(n && e[i] !== t[i] || !n && g(e[i]) !== g(t[i])) && r++;
                return r + s
            }

            function S() {}
            var y, k = {};

            function M(e) {
                return e ? e.toLowerCase().replace("_", "-") : e
            }

            function w(t) {
                var n = null;
                if (!k[t] && void 0 !== e && e && e.exports) try {
                    n = y._abbr,
                        function() {
                            var e = new Error('Cannot find module "./locale"');
                            throw e.code = "MODULE_NOT_FOUND", e
                        }(), D(n)
                } catch (e) {}
                return k[t]
            }

            function D(e, t) {
                var n;
                return e && (n = void 0 === t ? C(e) : T(e, t)) && (y = n), y._abbr
            }

            function T(e, t) {
                return null !== t ? (t.abbr = e, k[e] = k[e] || new S, k[e].set(t), D(e), k[e]) : (delete k[e], null)
            }

            function C(e) {
                var t;
                if (e && e._locale && e._locale._abbr && (e = e._locale._abbr), !e) return y;
                if (!i(e)) {
                    if (t = w(e)) return t;
                    e = [e]
                }
                return function(e) {
                    for (var t, n, i, a, s = 0; s < e.length;) {
                        for (t = (a = M(e[s]).split("-")).length, n = (n = M(e[s + 1])) ? n.split("-") : null; t > 0;) {
                            if (i = w(a.slice(0, t).join("-"))) return i;
                            if (n && n.length >= t && b(a, n, !0) >= t - 1) break;
                            t--
                        }
                        s++
                    }
                    return null
                }(e)
            }
            var P = {};

            function L(e, t) {
                var n = e.toLowerCase();
                P[n] = P[n + "s"] = P[t] = e
            }

            function x(e) {
                return "string" == typeof e ? P[e] || P[e.toLowerCase()] : void 0
            }

            function j(e) {
                var t, n, i = {};
                for (n in e) s(e, n) && (t = x(n)) && (i[t] = e[n]);
                return i
            }

            function I(e, t) {
                return function(i) {
                    return null != i ? (E(this, e, i), n.updateOffset(this, t), this) : A(this, e)
                }
            }

            function A(e, t) {
                return e._d["get" + (e._isUTC ? "UTC" : "") + t]()
            }

            function E(e, t, n) {
                return e._d["set" + (e._isUTC ? "UTC" : "") + t](n)
            }

            function O(e, t) {
                var n;
                if ("object" === (void 0 === e ? "undefined" : (0, o.default)(e)))
                    for (n in e) this.set(n, e[n]);
                else if ("function" == typeof this[e = x(e)]) return this[e](t);
                return this
            }

            function F(e, t, n) {
                var i = "" + Math.abs(e),
                    a = t - i.length;
                return (e >= 0 ? n ? "+" : "" : "-") + Math.pow(10, Math.max(0, a)).toString().substr(1) + i
            }
            var N = /(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,
                R = /(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,
                Y = {},
                B = {};

            function H(e, t, n, i) {
                var a = i;
                "string" == typeof i && (a = function() {
                    return this[i]()
                }), e && (B[e] = a), t && (B[t[0]] = function() {
                    return F(a.apply(this, arguments), t[1], t[2])
                }), n && (B[n] = function() {
                    return this.localeData().ordinal(a.apply(this, arguments), e)
                })
            }

            function q(e, t) {
                return e.isValid() ? (t = W(t, e.localeData()), Y[t] = Y[t] || function(e) {
                    var t, n, i, a = e.match(N);
                    for (t = 0, n = a.length; t < n; t++) B[a[t]] ? a[t] = B[a[t]] : a[t] = (i = a[t]).match(/\[[\s\S]/) ? i.replace(/^\[|\]$/g, "") : i.replace(/\\/g, "");
                    return function(i) {
                        var s = "";
                        for (t = 0; t < n; t++) s += a[t] instanceof Function ? a[t].call(i, e) : a[t];
                        return s
                    }
                }(t), Y[t](e)) : e.localeData().invalidDate()
            }

            function W(e, t) {
                var n = 5;

                function i(e) {
                    return t.longDateFormat(e) || e
                }
                for (R.lastIndex = 0; n >= 0 && R.test(e);) e = e.replace(R, i), R.lastIndex = 0, n -= 1;
                return e
            }
            var V = /\d/,
                z = /\d\d/,
                G = /\d{3}/,
                U = /\d{4}/,
                J = /[+-]?\d{6}/,
                Q = /\d\d?/,
                K = /\d{1,3}/,
                Z = /\d{1,4}/,
                X = /[+-]?\d{1,6}/,
                ee = /\d+/,
                te = /[+-]?\d+/,
                ne = /Z|[+-]\d\d:?\d\d/gi,
                ie = /[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,
                ae = {};

            function se(e, t, n) {
                var i;
                ae[e] = "function" == typeof(i = t) && "[object Function]" === Object.prototype.toString.call(i) ? t : function(e) {
                    return e && n ? n : t
                }
            }

            function re(e, t) {
                return s(ae, e) ? ae[e](t._strict, t._locale) : new RegExp(e.replace("\\", "").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g, function(e, t, n, i, a) {
                    return t || n || i || a
                }).replace(/[-\/\\^$*+?.()|[\]{}]/g, "\\$&"))
            }
            var oe = {};

            function le(e, t) {
                var n, i = t;
                for ("string" == typeof e && (e = [e]), "number" == typeof t && (i = function(e, n) {
                        n[t] = g(e)
                    }), n = 0; n < e.length; n++) oe[e[n]] = i
            }

            function ce(e, t) {
                le(e, function(e, n, i, a) {
                    i._w = i._w || {}, t(e, i._w, i, a)
                })
            }

            function de(e, t, n) {
                null != t && s(oe, e) && oe[e](t, n._a, n, e)
            }
            var ue = 0,
                _e = 1,
                fe = 2,
                ve = 3,
                me = 4,
                he = 5,
                pe = 6;

            function ge(e, t) {
                return new Date(Date.UTC(e, t + 1, 0)).getUTCDate()
            }
            H("M", ["MM", 2], "Mo", function() {
                return this.month() + 1
            }), H("MMM", 0, 0, function(e) {
                return this.localeData().monthsShort(this, e)
            }), H("MMMM", 0, 0, function(e) {
                return this.localeData().months(this, e)
            }), L("month", "M"), se("M", Q), se("MM", Q, z), se("MMM", ie), se("MMMM", ie), le(["M", "MM"], function(e, t) {
                t[_e] = g(e) - 1
            }), le(["MMM", "MMMM"], function(e, t, n, i) {
                var a = n._locale.monthsParse(e, i, n._strict);
                null != a ? t[_e] = a : c(n).invalidMonth = e
            });
            var be = "January_February_March_April_May_June_July_August_September_October_November_December".split("_");
            var Se = "Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");

            function ye(e, t) {
                var n;
                return "string" == typeof t && "number" != typeof(t = e.localeData().monthsParse(t)) ? e : (n = Math.min(e.date(), ge(e.year(), t)), e._d["set" + (e._isUTC ? "UTC" : "") + "Month"](t, n), e)
            }

            function ke(e) {
                return null != e ? (ye(this, e), n.updateOffset(this, !0), this) : A(this, "Month")
            }

            function $e(e) {
                var t, n = e._a;
                return n && -2 === c(e).overflow && (t = n[_e] < 0 || n[_e] > 11 ? _e : n[fe] < 1 || n[fe] > ge(n[ue], n[_e]) ? fe : n[ve] < 0 || n[ve] > 24 || 24 === n[ve] && (0 !== n[me] || 0 !== n[he] || 0 !== n[pe]) ? ve : n[me] < 0 || n[me] > 59 ? me : n[he] < 0 || n[he] > 59 ? he : n[pe] < 0 || n[pe] > 999 ? pe : -1, c(e)._overflowDayOfYear && (t < ue || t > fe) && (t = fe), c(e).overflow = t), e
            }

            function Me(e) {
                !1 === n.suppressDeprecationWarnings && "undefined" != typeof console && console.warn && console.warn("Deprecation warning: " + e)
            }

            function we(e, t) {
                var n = !0;
                return r(function() {
                    return n && (Me(e + "\n" + (new Error).stack), n = !1), t.apply(this, arguments)
                }, t)
            }
            var De = {};
            n.suppressDeprecationWarnings = !1;
            var Te = /^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,
                Ce = [
                    ["YYYYYY-MM-DD", /[+-]\d{6}-\d{2}-\d{2}/],
                    ["YYYY-MM-DD", /\d{4}-\d{2}-\d{2}/],
                    ["GGGG-[W]WW-E", /\d{4}-W\d{2}-\d/],
                    ["GGGG-[W]WW", /\d{4}-W\d{2}/],
                    ["YYYY-DDD", /\d{4}-\d{3}/]
                ],
                Pe = [
                    ["HH:mm:ss.SSSS", /(T| )\d\d:\d\d:\d\d\.\d+/],
                    ["HH:mm:ss", /(T| )\d\d:\d\d:\d\d/],
                    ["HH:mm", /(T| )\d\d:\d\d/],
                    ["HH", /(T| )\d\d/]
                ],
                Le = /^\/?Date\((\-?\d+)/i;

            function xe(e) {
                var t, n, i = e._i,
                    a = Te.exec(i);
                if (a) {
                    for (c(e).iso = !0, t = 0, n = Ce.length; t < n; t++)
                        if (Ce[t][1].exec(i)) {
                            e._f = Ce[t][0];
                            break
                        }
                    for (t = 0, n = Pe.length; t < n; t++)
                        if (Pe[t][1].exec(i)) {
                            e._f += (a[6] || " ") + Pe[t][0];
                            break
                        }
                    i.match(ne) && (e._f += "Z"), Re(e)
                } else e._isValid = !1
            }

            function je(e) {
                var t = new Date(Date.UTC.apply(null, arguments));
                return e < 1970 && t.setUTCFullYear(e), t
            }

            function Ie(e) {
                return Ae(e) ? 366 : 365
            }

            function Ae(e) {
                return e % 4 == 0 && e % 100 != 0 || e % 400 == 0
            }
            n.createFromInputFallback = we("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.", function(e) {
                e._d = new Date(e._i + (e._useUTC ? " UTC" : ""))
            }), H(0, ["YY", 2], 0, function() {
                return this.year() % 100
            }), H(0, ["YYYY", 4], 0, "year"), H(0, ["YYYYY", 5], 0, "year"), H(0, ["YYYYYY", 6, !0], 0, "year"), L("year", "y"), se("Y", te), se("YY", Q, z), se("YYYY", Z, U), se("YYYYY", X, J), se("YYYYYY", X, J), le(["YYYYY", "YYYYYY"], ue), le("YYYY", function(e, t) {
                t[ue] = 2 === e.length ? n.parseTwoDigitYear(e) : g(e)
            }), le("YY", function(e, t) {
                t[ue] = n.parseTwoDigitYear(e)
            }), n.parseTwoDigitYear = function(e) {
                return g(e) + (g(e) > 68 ? 1900 : 2e3)
            };
            var Ee = I("FullYear", !1);

            function Oe(e, t, n) {
                var i, a = n - t,
                    s = n - e.day();
                return s > a && (s -= 7), s < a - 7 && (s += 7), i = He(e).add(s, "d"), {
                    week: Math.ceil(i.dayOfYear() / 7),
                    year: i.year()
                }
            }
            H("w", ["ww", 2], "wo", "week"), H("W", ["WW", 2], "Wo", "isoWeek"), L("week", "w"), L("isoWeek", "W"), se("w", Q), se("ww", Q, z), se("W", Q), se("WW", Q, z), ce(["w", "ww", "W", "WW"], function(e, t, n, i) {
                t[i.substr(0, 1)] = g(e)
            });

            function Fe(e, t, n) {
                return null != e ? e : null != t ? t : n
            }

            function Ne(e) {
                var t, n, i, a, s = [];
                if (!e._d) {
                    for (i = function(e) {
                            var t = new Date;
                            return e._useUTC ? [t.getUTCFullYear(), t.getUTCMonth(), t.getUTCDate()] : [t.getFullYear(), t.getMonth(), t.getDate()]
                        }(e), e._w && null == e._a[fe] && null == e._a[_e] && function(e) {
                            var t, n, i, a, s, r, o;
                            null != (t = e._w).GG || null != t.W || null != t.E ? (s = 1, r = 4, n = Fe(t.GG, e._a[ue], Oe(He(), 1, 4).year), i = Fe(t.W, 1), a = Fe(t.E, 1)) : (s = e._locale._week.dow, r = e._locale._week.doy, n = Fe(t.gg, e._a[ue], Oe(He(), s, r).year), i = Fe(t.w, 1), null != t.d ? (a = t.d) < s && ++i : a = null != t.e ? t.e + s : s);
                            o = function(e, t, n, i, a) {
                                var s, r = 6 + a - i,
                                    o = je(e, 0, 1 + r).getUTCDay();
                                return o < a && (o += 7), {
                                    year: (s = 1 + r + 7 * (t - 1) - o + (n = null != n ? 1 * n : a)) > 0 ? e : e - 1,
                                    dayOfYear: s > 0 ? s : Ie(e - 1) + s
                                }
                            }(n, i, a, r, s), e._a[ue] = o.year, e._dayOfYear = o.dayOfYear
                        }(e), e._dayOfYear && (a = Fe(e._a[ue], i[ue]), e._dayOfYear > Ie(a) && (c(e)._overflowDayOfYear = !0), n = je(a, 0, e._dayOfYear), e._a[_e] = n.getUTCMonth(), e._a[fe] = n.getUTCDate()), t = 0; t < 3 && null == e._a[t]; ++t) e._a[t] = s[t] = i[t];
                    for (; t < 7; t++) e._a[t] = s[t] = null == e._a[t] ? 2 === t ? 1 : 0 : e._a[t];
                    24 === e._a[ve] && 0 === e._a[me] && 0 === e._a[he] && 0 === e._a[pe] && (e._nextDay = !0, e._a[ve] = 0), e._d = (e._useUTC ? je : function(e, t, n, i, a, s, r) {
                        var o = new Date(e, t, n, i, a, s, r);
                        return e < 1970 && o.setFullYear(e), o
                    }).apply(null, s), null != e._tzm && e._d.setUTCMinutes(e._d.getUTCMinutes() - e._tzm), e._nextDay && (e._a[ve] = 24)
                }
            }

            function Re(e) {
                if (e._f !== n.ISO_8601) {
                    e._a = [], c(e).empty = !0;
                    var t, i, a, s, r, o = "" + e._i,
                        l = o.length,
                        d = 0;
                    for (a = W(e._f, e._locale).match(N) || [], t = 0; t < a.length; t++) s = a[t], (i = (o.match(re(s, e)) || [])[0]) && ((r = o.substr(0, o.indexOf(i))).length > 0 && c(e).unusedInput.push(r), o = o.slice(o.indexOf(i) + i.length), d += i.length), B[s] ? (i ? c(e).empty = !1 : c(e).unusedTokens.push(s), de(s, i, e)) : e._strict && !i && c(e).unusedTokens.push(s);
                    c(e).charsLeftOver = l - d, o.length > 0 && c(e).unusedInput.push(o), !0 === c(e).bigHour && e._a[ve] <= 12 && e._a[ve] > 0 && (c(e).bigHour = void 0), e._a[ve] = function(e, t, n) {
                        var i;
                        if (null == n) return t;
                        return null != e.meridiemHour ? e.meridiemHour(t, n) : null != e.isPM ? ((i = e.isPM(n)) && t < 12 && (t += 12), i || 12 !== t || (t = 0), t) : t
                    }(e._locale, e._a[ve], e._meridiem), Ne(e), $e(e)
                } else xe(e)
            }

            function Ye(e) {
                var t = e._i,
                    s = e._f;
                return e._locale = e._locale || C(e._l), null === t || void 0 === s && "" === t ? u({
                    nullInput: !0
                }) : ("string" == typeof t && (e._i = t = e._locale.preparse(t)), h(t) ? new m($e(t)) : (i(s) ? function(e) {
                    var t, n, i, a, s;
                    if (0 === e._f.length) return c(e).invalidFormat = !0, void(e._d = new Date(NaN));
                    for (a = 0; a < e._f.length; a++) s = 0, t = f({}, e), null != e._useUTC && (t._useUTC = e._useUTC), t._f = e._f[a], Re(t), d(t) && (s += c(t).charsLeftOver, s += 10 * c(t).unusedTokens.length, c(t).score = s, (null == i || s < i) && (i = s, n = t));
                    r(e, n || t)
                }(e) : s ? Re(e) : a(t) ? e._d = t : function(e) {
                    var t = e._i;
                    void 0 === t ? e._d = new Date : a(t) ? e._d = new Date(+t) : "string" == typeof t ? function(e) {
                        var t = Le.exec(e._i);
                        null === t ? (xe(e), !1 === e._isValid && (delete e._isValid, n.createFromInputFallback(e))) : e._d = new Date(+t[1])
                    }(e) : i(t) ? (e._a = function(e, t) {
                        var n, i = [];
                        for (n = 0; n < e.length; ++n) i.push(t(e[n], n));
                        return i
                    }(t.slice(0), function(e) {
                        return parseInt(e, 10)
                    }), Ne(e)) : "object" === (void 0 === t ? "undefined" : (0, o.default)(t)) ? function(e) {
                        if (!e._d) {
                            var t = j(e._i);
                            e._a = [t.year, t.month, t.day || t.date, t.hour, t.minute, t.second, t.millisecond], Ne(e)
                        }
                    }(e) : "number" == typeof t ? e._d = new Date(t) : n.createFromInputFallback(e)
                }(e), e))
            }

            function Be(e, t, n, i, a) {
                var s, r = {};
                return "boolean" == typeof n && (i = n, n = void 0), r._isAMomentObject = !0, r._useUTC = r._isUTC = a, r._l = n, r._i = e, r._f = t, r._strict = i, (s = new m($e(Ye(r))))._nextDay && (s.add(1, "d"), s._nextDay = void 0), s
            }

            function He(e, t, n, i) {
                return Be(e, t, n, i, !1)
            }
            H("DDD", ["DDDD", 3], "DDDo", "dayOfYear"), L("dayOfYear", "DDD"), se("DDD", K), se("DDDD", G), le(["DDD", "DDDD"], function(e, t, n) {
                n._dayOfYear = g(e)
            }), n.ISO_8601 = function() {};
            var qe = we("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548", function() {
                    var e = He.apply(null, arguments);
                    return e < this ? this : e
                }),
                We = we("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548", function() {
                    var e = He.apply(null, arguments);
                    return e > this ? this : e
                });

            function Ve(e, t) {
                var n, a;
                if (1 === t.length && i(t[0]) && (t = t[0]), !t.length) return He();
                for (n = t[0], a = 1; a < t.length; ++a) t[a].isValid() && !t[a][e](n) || (n = t[a]);
                return n
            }

            function ze(e) {
                var t = j(e),
                    n = t.year || 0,
                    i = t.quarter || 0,
                    a = t.month || 0,
                    s = t.week || 0,
                    r = t.day || 0,
                    o = t.hour || 0,
                    l = t.minute || 0,
                    c = t.second || 0,
                    d = t.millisecond || 0;
                this._milliseconds = +d + 1e3 * c + 6e4 * l + 36e5 * o, this._days = +r + 7 * s, this._months = +a + 3 * i + 12 * n, this._data = {}, this._locale = C(), this._bubble()
            }

            function Ge(e) {
                return e instanceof ze
            }

            function Ue(e, t) {
                H(e, 0, 0, function() {
                    var e = this.utcOffset(),
                        n = "+";
                    return e < 0 && (e = -e, n = "-"), n + F(~~(e / 60), 2) + t + F(~~e % 60, 2)
                })
            }
            Ue("Z", ":"), Ue("ZZ", ""), se("Z", ne), se("ZZ", ne), le(["Z", "ZZ"], function(e, t, n) {
                n._useUTC = !0, n._tzm = Qe(e)
            });
            var Je = /([\+\-]|\d\d)/gi;

            function Qe(e) {
                var t = (e || "").match(ne) || [],
                    n = ((t[t.length - 1] || []) + "").match(Je) || ["-", 0, 0],
                    i = 60 * n[1] + g(n[2]);
                return "+" === n[0] ? i : -i
            }

            function Ke(e, t) {
                var i, s;
                return t._isUTC ? (i = t.clone(), s = (h(e) || a(e) ? +e : +He(e)) - +i, i._d.setTime(+i._d + s), n.updateOffset(i, !1), i) : He(e).local()
            }

            function Ze(e) {
                return 15 * -Math.round(e._d.getTimezoneOffset() / 15)
            }

            function Xe() {
                return this._isUTC && 0 === this._offset
            }
            n.updateOffset = function() {};
            var et = /(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,
                tt = /^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;

            function nt(e, t) {
                var n, i, a, r = e,
                    l = null;
                return Ge(e) ? r = {
                    ms: e._milliseconds,
                    d: e._days,
                    M: e._months
                } : "number" == typeof e ? (r = {}, t ? r[t] = e : r.milliseconds = e) : (l = et.exec(e)) ? (n = "-" === l[1] ? -1 : 1, r = {
                    y: 0,
                    d: g(l[fe]) * n,
                    h: g(l[ve]) * n,
                    m: g(l[me]) * n,
                    s: g(l[he]) * n,
                    ms: g(l[pe]) * n
                }) : (l = tt.exec(e)) ? (n = "-" === l[1] ? -1 : 1, r = {
                    y: it(l[2], n),
                    M: it(l[3], n),
                    d: it(l[4], n),
                    h: it(l[5], n),
                    m: it(l[6], n),
                    s: it(l[7], n),
                    w: it(l[8], n)
                }) : null == r ? r = {} : "object" === (void 0 === r ? "undefined" : (0, o.default)(r)) && ("from" in r || "to" in r) && (a = function(e, t) {
                    var n;
                    t = Ke(t, e), e.isBefore(t) ? n = at(e, t) : ((n = at(t, e)).milliseconds = -n.milliseconds, n.months = -n.months);
                    return n
                }(He(r.from), He(r.to)), (r = {}).ms = a.milliseconds, r.M = a.months), i = new ze(r), Ge(e) && s(e, "_locale") && (i._locale = e._locale), i
            }

            function it(e, t) {
                var n = e && parseFloat(e.replace(",", "."));
                return (isNaN(n) ? 0 : n) * t
            }

            function at(e, t) {
                var n = {
                    milliseconds: 0,
                    months: 0
                };
                return n.months = t.month() - e.month() + 12 * (t.year() - e.year()), e.clone().add(n.months, "M").isAfter(t) && --n.months, n.milliseconds = +t - +e.clone().add(n.months, "M"), n
            }

            function st(e, t) {
                return function(n, i) {
                    var a;
                    return null === i || isNaN(+i) || (! function(e, t) {
                        De[e] || (Me(t), De[e] = !0)
                    }(t, "moment()." + t + "(period, number) is deprecated. Please use moment()." + t + "(number, period)."), a = n, n = i, i = a), rt(this, nt(n = "string" == typeof n ? +n : n, i), e), this
                }
            }

            function rt(e, t, i, a) {
                var s = t._milliseconds,
                    r = t._days,
                    o = t._months;
                a = null == a || a, s && e._d.setTime(+e._d + s * i), r && E(e, "Date", A(e, "Date") + r * i), o && ye(e, A(e, "Month") + o * i), a && n.updateOffset(e, r || o)
            }
            nt.fn = ze.prototype;
            var ot = st(1, "add"),
                lt = st(-1, "subtract");

            function ct() {
                var e = this.clone().utc();
                return 0 < e.year() && e.year() <= 9999 ? "function" == typeof Date.prototype.toISOString ? this.toDate().toISOString() : q(e, "YYYY-MM-DD[T]HH:mm:ss.SSS[Z]") : q(e, "YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")
            }

            function dt(e) {
                var t;
                return void 0 === e ? this._locale._abbr : (null != (t = C(e)) && (this._locale = t), this)
            }
            n.defaultFormat = "YYYY-MM-DDTHH:mm:ssZ";
            var ut = we("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.", function(e) {
                return void 0 === e ? this.localeData() : this.locale(e)
            });

            function _t() {
                return this._locale
            }

            function ft(e, t) {
                H(0, [e, e.length], 0, t)
            }

            function vt(e, t, n) {
                return Oe(He([e, 11, 31 + t - n]), t, n).week
            }
            H(0, ["gg", 2], 0, function() {
                return this.weekYear() % 100
            }), H(0, ["GG", 2], 0, function() {
                return this.isoWeekYear() % 100
            }), ft("gggg", "weekYear"), ft("ggggg", "weekYear"), ft("GGGG", "isoWeekYear"), ft("GGGGG", "isoWeekYear"), L("weekYear", "gg"), L("isoWeekYear", "GG"), se("G", te), se("g", te), se("GG", Q, z), se("gg", Q, z), se("GGGG", Z, U), se("gggg", Z, U), se("GGGGG", X, J), se("ggggg", X, J), ce(["gggg", "ggggg", "GGGG", "GGGGG"], function(e, t, n, i) {
                t[i.substr(0, 2)] = g(e)
            }), ce(["gg", "GG"], function(e, t, i, a) {
                t[a] = n.parseTwoDigitYear(e)
            }), H("Q", 0, 0, "quarter"), L("quarter", "Q"), se("Q", V), le("Q", function(e, t) {
                t[_e] = 3 * (g(e) - 1)
            }), H("D", ["DD", 2], "Do", "date"), L("date", "D"), se("D", Q), se("DD", Q, z), se("Do", function(e, t) {
                return e ? t._ordinalParse : t._ordinalParseLenient
            }), le(["D", "DD"], fe), le("Do", function(e, t) {
                t[fe] = g(e.match(Q)[0])
            });
            var mt = I("Date", !0);
            H("d", 0, "do", "day"), H("dd", 0, 0, function(e) {
                return this.localeData().weekdaysMin(this, e)
            }), H("ddd", 0, 0, function(e) {
                return this.localeData().weekdaysShort(this, e)
            }), H("dddd", 0, 0, function(e) {
                return this.localeData().weekdays(this, e)
            }), H("e", 0, 0, "weekday"), H("E", 0, 0, "isoWeekday"), L("day", "d"), L("weekday", "e"), L("isoWeekday", "E"), se("d", Q), se("e", Q), se("E", Q), se("dd", ie), se("ddd", ie), se("dddd", ie), ce(["dd", "ddd", "dddd"], function(e, t, n) {
                var i = n._locale.weekdaysParse(e);
                null != i ? t.d = i : c(n).invalidWeekday = e
            }), ce(["d", "e", "E"], function(e, t, n, i) {
                t[i] = g(e)
            });
            var ht = "Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_");
            var pt = "Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_");
            var gt = "Su_Mo_Tu_We_Th_Fr_Sa".split("_");

            function bt(e, t) {
                H(e, 0, 0, function() {
                    return this.localeData().meridiem(this.hours(), this.minutes(), t)
                })
            }

            function St(e, t) {
                return t._meridiemParse
            }
            H("H", ["HH", 2], 0, "hour"), H("h", ["hh", 2], 0, function() {
                return this.hours() % 12 || 12
            }), bt("a", !0), bt("A", !1), L("hour", "h"), se("a", St), se("A", St), se("H", Q), se("h", Q), se("HH", Q, z), se("hh", Q, z), le(["H", "HH"], ve), le(["a", "A"], function(e, t, n) {
                n._isPm = n._locale.isPM(e), n._meridiem = e
            }), le(["h", "hh"], function(e, t, n) {
                t[ve] = g(e), c(n).bigHour = !0
            });
            var yt = I("Hours", !0);
            H("m", ["mm", 2], 0, "minute"), L("minute", "m"), se("m", Q), se("mm", Q, z), le(["m", "mm"], me);
            var kt = I("Minutes", !1);
            H("s", ["ss", 2], 0, "second"), L("second", "s"), se("s", Q), se("ss", Q, z), le(["s", "ss"], he);
            var $t, Mt = I("Seconds", !1);
            for (H("S", 0, 0, function() {
                    return ~~(this.millisecond() / 100)
                }), H(0, ["SS", 2], 0, function() {
                    return ~~(this.millisecond() / 10)
                }), H(0, ["SSS", 3], 0, "millisecond"), H(0, ["SSSS", 4], 0, function() {
                    return 10 * this.millisecond()
                }), H(0, ["SSSSS", 5], 0, function() {
                    return 100 * this.millisecond()
                }), H(0, ["SSSSSS", 6], 0, function() {
                    return 1e3 * this.millisecond()
                }), H(0, ["SSSSSSS", 7], 0, function() {
                    return 1e4 * this.millisecond()
                }), H(0, ["SSSSSSSS", 8], 0, function() {
                    return 1e5 * this.millisecond()
                }), H(0, ["SSSSSSSSS", 9], 0, function() {
                    return 1e6 * this.millisecond()
                }), L("millisecond", "ms"), se("S", K, V), se("SS", K, z), se("SSS", K, G), $t = "SSSS"; $t.length <= 9; $t += "S") se($t, ee);

            function wt(e, t) {
                t[pe] = g(1e3 * ("0." + e))
            }
            for ($t = "S"; $t.length <= 9; $t += "S") le($t, wt);
            var Dt = I("Milliseconds", !1);
            H("z", 0, 0, "zoneAbbr"), H("zz", 0, 0, "zoneName");
            var Tt = m.prototype;
            Tt.add = ot, Tt.calendar = function(e, t) {
                var n = e || He(),
                    i = Ke(n, this).startOf("day"),
                    a = this.diff(i, "days", !0),
                    s = a < -6 ? "sameElse" : a < -1 ? "lastWeek" : a < 0 ? "lastDay" : a < 1 ? "sameDay" : a < 2 ? "nextDay" : a < 7 ? "nextWeek" : "sameElse";
                return this.format(t && t[s] || this.localeData().calendar(s, this, He(n)))
            }, Tt.clone = function() {
                return new m(this)
            }, Tt.diff = function(e, t, n) {
                var i, a, s = Ke(e, this),
                    r = 6e4 * (s.utcOffset() - this.utcOffset());
                return "year" === (t = x(t)) || "month" === t || "quarter" === t ? (o = this, l = s, u = 12 * (l.year() - o.year()) + (l.month() - o.month()), _ = o.clone().add(u, "months"), l - _ < 0 ? (c = o.clone().add(u - 1, "months"), d = (l - _) / (_ - c)) : (c = o.clone().add(u + 1, "months"), d = (l - _) / (c - _)), a = -(u + d), "quarter" === t ? a /= 3 : "year" === t && (a /= 12)) : (i = this - s, a = "second" === t ? i / 1e3 : "minute" === t ? i / 6e4 : "hour" === t ? i / 36e5 : "day" === t ? (i - r) / 864e5 : "week" === t ? (i - r) / 6048e5 : i), n ? a : p(a);
                var o, l, c, d, u, _
            }, Tt.endOf = function(e) {
                return void 0 === (e = x(e)) || "millisecond" === e ? this : this.startOf(e).add(1, "isoWeek" === e ? "week" : e).subtract(1, "ms")
            }, Tt.format = function(e) {
                var t = q(this, e || n.defaultFormat);
                return this.localeData().postformat(t)
            }, Tt.from = function(e, t) {
                return this.isValid() ? nt({
                    to: this,
                    from: e
                }).locale(this.locale()).humanize(!t) : this.localeData().invalidDate()
            }, Tt.fromNow = function(e) {
                return this.from(He(), e)
            }, Tt.to = function(e, t) {
                return this.isValid() ? nt({
                    from: this,
                    to: e
                }).locale(this.locale()).humanize(!t) : this.localeData().invalidDate()
            }, Tt.toNow = function(e) {
                return this.to(He(), e)
            }, Tt.get = O, Tt.invalidAt = function() {
                return c(this).overflow
            }, Tt.isAfter = function(e, t) {
                return "millisecond" === (t = x(void 0 !== t ? t : "millisecond")) ? +this > +(e = h(e) ? e : He(e)) : (h(e) ? +e : +He(e)) < +this.clone().startOf(t)
            }, Tt.isBefore = function(e, t) {
                var n;
                return "millisecond" === (t = x(void 0 !== t ? t : "millisecond")) ? +this < +(e = h(e) ? e : He(e)) : (n = h(e) ? +e : +He(e), +this.clone().endOf(t) < n)
            }, Tt.isBetween = function(e, t, n) {
                return this.isAfter(e, n) && this.isBefore(t, n)
            }, Tt.isSame = function(e, t) {
                var n;
                return "millisecond" === (t = x(t || "millisecond")) ? +this == +(e = h(e) ? e : He(e)) : (n = +He(e), +this.clone().startOf(t) <= n && n <= +this.clone().endOf(t))
            }, Tt.isValid = function() {
                return d(this)
            }, Tt.lang = ut, Tt.locale = dt, Tt.localeData = _t, Tt.max = We, Tt.min = qe, Tt.parsingFlags = function() {
                return r({}, c(this))
            }, Tt.set = O, Tt.startOf = function(e) {
                switch (e = x(e)) {
                    case "year":
                        this.month(0);
                    case "quarter":
                    case "month":
                        this.date(1);
                    case "week":
                    case "isoWeek":
                    case "day":
                        this.hours(0);
                    case "hour":
                        this.minutes(0);
                    case "minute":
                        this.seconds(0);
                    case "second":
                        this.milliseconds(0)
                }
                return "week" === e && this.weekday(0), "isoWeek" === e && this.isoWeekday(1), "quarter" === e && this.month(3 * Math.floor(this.month() / 3)), this
            }, Tt.subtract = lt, Tt.toArray = function() {
                var e = this;
                return [e.year(), e.month(), e.date(), e.hour(), e.minute(), e.second(), e.millisecond()]
            }, Tt.toObject = function() {
                var e = this;
                return {
                    years: e.year(),
                    months: e.month(),
                    date: e.date(),
                    hours: e.hours(),
                    minutes: e.minutes(),
                    seconds: e.seconds(),
                    milliseconds: e.milliseconds()
                }
            }, Tt.toDate = function() {
                return this._offset ? new Date(+this) : this._d
            }, Tt.toISOString = ct, Tt.toJSON = ct, Tt.toString = function() {
                return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")
            }, Tt.unix = function() {
                return Math.floor(+this / 1e3)
            }, Tt.valueOf = function() {
                return +this._d - 6e4 * (this._offset || 0)
            }, Tt.year = Ee, Tt.isLeapYear = function() {
                return Ae(this.year())
            }, Tt.weekYear = function(e) {
                var t = Oe(this, this.localeData()._week.dow, this.localeData()._week.doy).year;
                return null == e ? t : this.add(e - t, "y")
            }, Tt.isoWeekYear = function(e) {
                var t = Oe(this, 1, 4).year;
                return null == e ? t : this.add(e - t, "y")
            }, Tt.quarter = Tt.quarters = function(e) {
                return null == e ? Math.ceil((this.month() + 1) / 3) : this.month(3 * (e - 1) + this.month() % 3)
            }, Tt.month = ke, Tt.daysInMonth = function() {
                return ge(this.year(), this.month())
            }, Tt.week = Tt.weeks = function(e) {
                var t = this.localeData().week(this);
                return null == e ? t : this.add(7 * (e - t), "d")
            }, Tt.isoWeek = Tt.isoWeeks = function(e) {
                var t = Oe(this, 1, 4).week;
                return null == e ? t : this.add(7 * (e - t), "d")
            }, Tt.weeksInYear = function() {
                var e = this.localeData()._week;
                return vt(this.year(), e.dow, e.doy)
            }, Tt.isoWeeksInYear = function() {
                return vt(this.year(), 1, 4)
            }, Tt.date = mt, Tt.day = Tt.days = function(e) {
                var t = this._isUTC ? this._d.getUTCDay() : this._d.getDay();
                return null != e ? (e = function(e, t) {
                    return "string" != typeof e ? e : isNaN(e) ? "number" == typeof(e = t.weekdaysParse(e)) ? e : null : parseInt(e, 10)
                }(e, this.localeData()), this.add(e - t, "d")) : t
            }, Tt.weekday = function(e) {
                var t = (this.day() + 7 - this.localeData()._week.dow) % 7;
                return null == e ? t : this.add(e - t, "d")
            }, Tt.isoWeekday = function(e) {
                return null == e ? this.day() || 7 : this.day(this.day() % 7 ? e : e - 7)
            }, Tt.dayOfYear = function(e) {
                var t = Math.round((this.clone().startOf("day") - this.clone().startOf("year")) / 864e5) + 1;
                return null == e ? t : this.add(e - t, "d")
            }, Tt.hour = Tt.hours = yt, Tt.minute = Tt.minutes = kt, Tt.second = Tt.seconds = Mt, Tt.millisecond = Tt.milliseconds = Dt, Tt.utcOffset = function(e, t) {
                var i, a = this._offset || 0;
                return null != e ? ("string" == typeof e && (e = Qe(e)), Math.abs(e) < 16 && (e *= 60), !this._isUTC && t && (i = Ze(this)), this._offset = e, this._isUTC = !0, null != i && this.add(i, "m"), a !== e && (!t || this._changeInProgress ? rt(this, nt(e - a, "m"), 1, !1) : this._changeInProgress || (this._changeInProgress = !0, n.updateOffset(this, !0), this._changeInProgress = null)), this) : this._isUTC ? a : Ze(this)
            }, Tt.utc = function(e) {
                return this.utcOffset(0, e)
            }, Tt.local = function(e) {
                return this._isUTC && (this.utcOffset(0, e), this._isUTC = !1, e && this.subtract(Ze(this), "m")), this
            }, Tt.parseZone = function() {
                return this._tzm ? this.utcOffset(this._tzm) : "string" == typeof this._i && this.utcOffset(Qe(this._i)), this
            }, Tt.hasAlignedHourOffset = function(e) {
                return e = e ? He(e).utcOffset() : 0, (this.utcOffset() - e) % 60 == 0
            }, Tt.isDST = function() {
                return this.utcOffset() > this.clone().month(0).utcOffset() || this.utcOffset() > this.clone().month(5).utcOffset()
            }, Tt.isDSTShifted = function() {
                if (void 0 !== this._isDSTShifted) return this._isDSTShifted;
                var e = {};
                if (f(e, this), (e = Ye(e))._a) {
                    var t = e._isUTC ? l(e._a) : He(e._a);
                    this._isDSTShifted = this.isValid() && b(e._a, t.toArray()) > 0
                } else this._isDSTShifted = !1;
                return this._isDSTShifted
            }, Tt.isLocal = function() {
                return !this._isUTC
            }, Tt.isUtcOffset = function() {
                return this._isUTC
            }, Tt.isUtc = Xe, Tt.isUTC = Xe, Tt.zoneAbbr = function() {
                return this._isUTC ? "UTC" : ""
            }, Tt.zoneName = function() {
                return this._isUTC ? "Coordinated Universal Time" : ""
            }, Tt.dates = we("dates accessor is deprecated. Use date instead.", mt), Tt.months = we("months accessor is deprecated. Use month instead", ke), Tt.years = we("years accessor is deprecated. Use year instead", Ee), Tt.zone = we("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779", function(e, t) {
                return null != e ? ("string" != typeof e && (e = -e), this.utcOffset(e, t), this) : -this.utcOffset()
            });
            var Ct = Tt;

            function Pt(e) {
                return e
            }
            var Lt = S.prototype;

            function xt(e, t, n, i) {
                var a = C(),
                    s = l().set(i, t);
                return a[n](s, e)
            }

            function jt(e, t, n, i, a) {
                if ("number" == typeof e && (t = e, e = void 0), e = e || "", null != t) return xt(e, t, n, a);
                var s, r = [];
                for (s = 0; s < i; s++) r[s] = xt(e, s, n, a);
                return r
            }
            Lt._calendar = {
                sameDay: "[Today at] LT",
                nextDay: "[Tomorrow at] LT",
                nextWeek: "dddd [at] LT",
                lastDay: "[Yesterday at] LT",
                lastWeek: "[Last] dddd [at] LT",
                sameElse: "L"
            }, Lt.calendar = function(e, t, n) {
                var i = this._calendar[e];
                return "function" == typeof i ? i.call(t, n) : i
            }, Lt._longDateFormat = {
                LTS: "h:mm:ss A",
                LT: "h:mm A",
                L: "MM/DD/YYYY",
                LL: "MMMM D, YYYY",
                LLL: "MMMM D, YYYY h:mm A",
                LLLL: "dddd, MMMM D, YYYY h:mm A"
            }, Lt.longDateFormat = function(e) {
                var t = this._longDateFormat[e],
                    n = this._longDateFormat[e.toUpperCase()];
                return t || !n ? t : (this._longDateFormat[e] = n.replace(/MMMM|MM|DD|dddd/g, function(e) {
                    return e.slice(1)
                }), this._longDateFormat[e])
            }, Lt._invalidDate = "Invalid date", Lt.invalidDate = function() {
                return this._invalidDate
            }, Lt._ordinal = "%d", Lt.ordinal = function(e) {
                return this._ordinal.replace("%d", e)
            }, Lt._ordinalParse = /\d{1,2}/, Lt.preparse = Pt, Lt.postformat = Pt, Lt._relativeTime = {
                future: "in %s",
                past: "%s ago",
                s: "a few seconds",
                m: "a minute",
                mm: "%d minutes",
                h: "an hour",
                hh: "%d hours",
                d: "a day",
                dd: "%d days",
                M: "a month",
                MM: "%d months",
                y: "a year",
                yy: "%d years"
            }, Lt.relativeTime = function(e, t, n, i) {
                var a = this._relativeTime[n];
                return "function" == typeof a ? a(e, t, n, i) : a.replace(/%d/i, e)
            }, Lt.pastFuture = function(e, t) {
                var n = this._relativeTime[e > 0 ? "future" : "past"];
                return "function" == typeof n ? n(t) : n.replace(/%s/i, t)
            }, Lt.set = function(e) {
                var t, n;
                for (n in e) "function" == typeof(t = e[n]) ? this[n] = t : this["_" + n] = t;
                this._ordinalParseLenient = new RegExp(this._ordinalParse.source + "|" + /\d{1,2}/.source)
            }, Lt.months = function(e) {
                return this._months[e.month()]
            }, Lt._months = be, Lt.monthsShort = function(e) {
                return this._monthsShort[e.month()]
            }, Lt._monthsShort = Se, Lt.monthsParse = function(e, t, n) {
                var i, a, s;
                for (this._monthsParse || (this._monthsParse = [], this._longMonthsParse = [], this._shortMonthsParse = []), i = 0; i < 12; i++) {
                    if (a = l([2e3, i]), n && !this._longMonthsParse[i] && (this._longMonthsParse[i] = new RegExp("^" + this.months(a, "").replace(".", "") + "$", "i"), this._shortMonthsParse[i] = new RegExp("^" + this.monthsShort(a, "").replace(".", "") + "$", "i")), n || this._monthsParse[i] || (s = "^" + this.months(a, "") + "|^" + this.monthsShort(a, ""), this._monthsParse[i] = new RegExp(s.replace(".", ""), "i")), n && "MMMM" === t && this._longMonthsParse[i].test(e)) return i;
                    if (n && "MMM" === t && this._shortMonthsParse[i].test(e)) return i;
                    if (!n && this._monthsParse[i].test(e)) return i
                }
            }, Lt.week = function(e) {
                return Oe(e, this._week.dow, this._week.doy).week
            }, Lt._week = {
                dow: 0,
                doy: 6
            }, Lt.firstDayOfYear = function() {
                return this._week.doy
            }, Lt.firstDayOfWeek = function() {
                return this._week.dow
            }, Lt.weekdays = function(e) {
                return this._weekdays[e.day()]
            }, Lt._weekdays = ht, Lt.weekdaysMin = function(e) {
                return this._weekdaysMin[e.day()]
            }, Lt._weekdaysMin = gt, Lt.weekdaysShort = function(e) {
                return this._weekdaysShort[e.day()]
            }, Lt._weekdaysShort = pt, Lt.weekdaysParse = function(e) {
                var t, n, i;
                for (this._weekdaysParse = this._weekdaysParse || [], t = 0; t < 7; t++)
                    if (this._weekdaysParse[t] || (n = He([2e3, 1]).day(t), i = "^" + this.weekdays(n, "") + "|^" + this.weekdaysShort(n, "") + "|^" + this.weekdaysMin(n, ""), this._weekdaysParse[t] = new RegExp(i.replace(".", ""), "i")), this._weekdaysParse[t].test(e)) return t
            }, Lt.isPM = function(e) {
                return "p" === (e + "").toLowerCase().charAt(0)
            }, Lt._meridiemParse = /[ap]\.?m?\.?/i, Lt.meridiem = function(e, t, n) {
                return e > 11 ? n ? "pm" : "PM" : n ? "am" : "AM"
            }, D("en", {
                ordinalParse: /\d{1,2}(th|st|nd|rd)/,
                ordinal: function(e) {
                    var t = e % 10;
                    return e + (1 === g(e % 100 / 10) ? "th" : 1 === t ? "st" : 2 === t ? "nd" : 3 === t ? "rd" : "th")
                }
            }), n.lang = we("moment.lang is deprecated. Use moment.locale instead.", D), n.langData = we("moment.langData is deprecated. Use moment.localeData instead.", C);
            var It = Math.abs;

            function At(e, t, n, i) {
                var a = nt(t, n);
                return e._milliseconds += i * a._milliseconds, e._days += i * a._days, e._months += i * a._months, e._bubble()
            }

            function Et(e) {
                return e < 0 ? Math.floor(e) : Math.ceil(e)
            }

            function Ot(e) {
                return 4800 * e / 146097
            }

            function Ft(e) {
                return 146097 * e / 4800
            }

            function Nt(e) {
                return function() {
                    return this.as(e)
                }
            }
            var Rt = Nt("ms"),
                Yt = Nt("s"),
                Bt = Nt("m"),
                Ht = Nt("h"),
                qt = Nt("d"),
                Wt = Nt("w"),
                Vt = Nt("M"),
                zt = Nt("y");

            function Gt(e) {
                return function() {
                    return this._data[e]
                }
            }
            var Ut = Gt("milliseconds"),
                Jt = Gt("seconds"),
                Qt = Gt("minutes"),
                Kt = Gt("hours"),
                Zt = Gt("days"),
                Xt = Gt("months"),
                en = Gt("years");
            var tn = Math.round,
                nn = {
                    s: 45,
                    m: 45,
                    h: 22,
                    d: 26,
                    M: 11
                };
            var an = Math.abs;

            function sn() {
                var e, t, n = an(this._milliseconds) / 1e3,
                    i = an(this._days),
                    a = an(this._months);
                t = p((e = p(n / 60)) / 60), n %= 60, e %= 60;
                var s = p(a / 12),
                    r = a %= 12,
                    o = i,
                    l = t,
                    c = e,
                    d = n,
                    u = this.asSeconds();
                return u ? (u < 0 ? "-" : "") + "P" + (s ? s + "Y" : "") + (r ? r + "M" : "") + (o ? o + "D" : "") + (l || c || d ? "T" : "") + (l ? l + "H" : "") + (c ? c + "M" : "") + (d ? d + "S" : "") : "P0D"
            }
            var rn = ze.prototype;
            rn.abs = function() {
                    var e = this._data;
                    return this._milliseconds = It(this._milliseconds), this._days = It(this._days), this._months = It(this._months), e.milliseconds = It(e.milliseconds), e.seconds = It(e.seconds), e.minutes = It(e.minutes), e.hours = It(e.hours), e.months = It(e.months), e.years = It(e.years), this
                }, rn.add = function(e, t) {
                    return At(this, e, t, 1)
                }, rn.subtract = function(e, t) {
                    return At(this, e, t, -1)
                }, rn.as = function(e) {
                    var t, n, i = this._milliseconds;
                    if ("month" === (e = x(e)) || "year" === e) return t = this._days + i / 864e5, n = this._months + Ot(t), "month" === e ? n : n / 12;
                    switch (t = this._days + Math.round(Ft(this._months)), e) {
                        case "week":
                            return t / 7 + i / 6048e5;
                        case "day":
                            return t + i / 864e5;
                        case "hour":
                            return 24 * t + i / 36e5;
                        case "minute":
                            return 1440 * t + i / 6e4;
                        case "second":
                            return 86400 * t + i / 1e3;
                        case "millisecond":
                            return Math.floor(864e5 * t) + i;
                        default:
                            throw new Error("Unknown unit " + e)
                    }
                }, rn.asMilliseconds = Rt, rn.asSeconds = Yt, rn.asMinutes = Bt, rn.asHours = Ht, rn.asDays = qt, rn.asWeeks = Wt, rn.asMonths = Vt, rn.asYears = zt, rn.valueOf = function() {
                    return this._milliseconds + 864e5 * this._days + this._months % 12 * 2592e6 + 31536e6 * g(this._months / 12)
                }, rn._bubble = function() {
                    var e, t, n, i, a, s = this._milliseconds,
                        r = this._days,
                        o = this._months,
                        l = this._data;
                    return s >= 0 && r >= 0 && o >= 0 || s <= 0 && r <= 0 && o <= 0 || (s += 864e5 * Et(Ft(o) + r), r = 0, o = 0), l.milliseconds = s % 1e3, e = p(s / 1e3), l.seconds = e % 60, t = p(e / 60), l.minutes = t % 60, n = p(t / 60), l.hours = n % 24, o += a = p(Ot(r += p(n / 24))), r -= Et(Ft(a)), i = p(o / 12), o %= 12, l.days = r, l.months = o, l.years = i, this
                }, rn.get = function(e) {
                    return this[(e = x(e)) + "s"]()
                }, rn.milliseconds = Ut, rn.seconds = Jt, rn.minutes = Qt, rn.hours = Kt, rn.days = Zt, rn.weeks = function() {
                    return p(this.days() / 7)
                }, rn.months = Xt, rn.years = en, rn.humanize = function(e) {
                    var t = this.localeData(),
                        n = function(e, t, n) {
                            var i = nt(e).abs(),
                                a = tn(i.as("s")),
                                s = tn(i.as("m")),
                                r = tn(i.as("h")),
                                o = tn(i.as("d")),
                                l = tn(i.as("M")),
                                c = tn(i.as("y")),
                                d = a < nn.s && ["s", a] || 1 === s && ["m"] || s < nn.m && ["mm", s] || 1 === r && ["h"] || r < nn.h && ["hh", r] || 1 === o && ["d"] || o < nn.d && ["dd", o] || 1 === l && ["M"] || l < nn.M && ["MM", l] || 1 === c && ["y"] || ["yy", c];
                            return d[2] = t, d[3] = +e > 0, d[4] = n,
                                function(e, t, n, i, a) {
                                    return a.relativeTime(t || 1, !!n, e, i)
                                }.apply(null, d)
                        }(this, !e, t);
                    return e && (n = t.pastFuture(+this, n)), t.postformat(n)
                }, rn.toISOString = sn, rn.toString = sn, rn.toJSON = sn, rn.locale = dt, rn.localeData = _t, rn.toIsoString = we("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)", sn), rn.lang = ut, H("X", 0, 0, "unix"), H("x", 0, 0, "valueOf"), se("x", te), se("X", /[+-]?\d+(\.\d{1,3})?/), le("X", function(e, t, n) {
                    n._d = new Date(1e3 * parseFloat(e, 10))
                }), le("x", function(e, t, n) {
                    n._d = new Date(g(e))
                }),
                //! moment.js
                //! version : 2.10.6
                //! authors : Tim Wood, Iskren Chernev, Moment.js contributors
                //! license : MIT
                //! momentjs.com
                n.version = "2.10.6", t = He, n.fn = Ct, n.min = function() {
                    return Ve("isBefore", [].slice.call(arguments, 0))
                }, n.max = function() {
                    return Ve("isAfter", [].slice.call(arguments, 0))
                }, n.utc = l, n.unix = function(e) {
                    return He(1e3 * e)
                }, n.months = function(e, t) {
                    return jt(e, t, "months", 12, "month")
                }, n.isDate = a, n.locale = D, n.invalid = u, n.duration = nt, n.isMoment = h, n.weekdays = function(e, t) {
                    return jt(e, t, "weekdays", 7, "day")
                }, n.parseZone = function() {
                    return He.apply(null, arguments).parseZone()
                }, n.localeData = C, n.isDuration = Ge, n.monthsShort = function(e, t) {
                    return jt(e, t, "monthsShort", 12, "month")
                }, n.weekdaysMin = function(e, t) {
                    return jt(e, t, "weekdaysMin", 7, "day")
                }, n.defineLocale = T, n.weekdaysShort = function(e, t) {
                    return jt(e, t, "weekdaysShort", 7, "day")
                }, n.normalizeUnits = x, n.relativeTimeThreshold = function(e, t) {
                    return void 0 !== nn[e] && (void 0 === t ? nn[e] : (nn[e] = t, !0))
                };
            var on = n,
                ln = (on.defineLocale("af", {
                    months: "Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),
                    monthsShort: "Jan_Feb_Mar_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),
                    weekdays: "Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),
                    weekdaysShort: "Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),
                    weekdaysMin: "So_Ma_Di_Wo_Do_Vr_Sa".split("_"),
                    meridiemParse: /vm|nm/i,
                    isPM: function(e) {
                        return /^nm$/i.test(e)
                    },
                    meridiem: function(e, t, n) {
                        return e < 12 ? n ? "vm" : "VM" : n ? "nm" : "NM"
                    },
                    longDateFormat: {
                        LT: "HH:mm",
                        LTS: "HH:mm:ss",
                        L: "DD/MM/YYYY",
                        LL: "D MMMM YYYY",
                        LLL: "D MMMM YYYY HH:mm",
                        LLLL: "dddd, D MMMM YYYY HH:mm"
                    },
                    calendar: {
                        sameDay: "[Vandag om] LT",
                        nextDay: "[MÃ´re om] LT",
                        nextWeek: "dddd [om] LT",
                        lastDay: "[Gister om] LT",
                        lastWeek: "[Laas] dddd [om] LT",
                        sameElse: "L"
                    },
                    relativeTime: {
                        future: "oor %s",
                        past: "%s gelede",
                        s: "'n paar sekondes",
                        m: "'n minuut",
                        mm: "%d minute",
                        h: "'n uur",
                        hh: "%d ure",
                        d: "'n dag",
                        dd: "%d dae",
                        M: "'n maand",
                        MM: "%d maande",
                        y: "'n jaar",
                        yy: "%d jaar"
                    },
                    ordinalParse: /\d{1,2}(ste|de)/,
                    ordinal: function(e) {
                        return e + (1 === e || 8 === e || e >= 20 ? "ste" : "de")
                    },
                    week: {
                        dow: 1,
                        doy: 4
                    }
                }), on.defineLocale("ar-ma", {
                    months: "ÙŠÙ†Ø§ÙŠØ±_ÙØ¨Ø±Ø§ÙŠØ±_Ù…Ø§Ø±Ø³_Ø£Ø¨Ø±ÙŠÙ„_Ù…Ø§ÙŠ_ÙŠÙˆÙ†ÙŠÙˆ_ÙŠÙˆÙ„ÙŠÙˆØ²_ØºØ´Øª_Ø´ØªÙ†Ø¨Ø±_Ø£ÙƒØªÙˆØ¨Ø±_Ù†ÙˆÙ†Ø¨Ø±_Ø¯Ø¬Ù†Ø¨Ø±".split("_"),
                    monthsShort: "ÙŠÙ†Ø§ÙŠØ±_ÙØ¨Ø±Ø§ÙŠØ±_Ù…Ø§Ø±Ø³_Ø£Ø¨Ø±ÙŠÙ„_Ù…Ø§ÙŠ_ÙŠÙˆÙ†ÙŠÙˆ_ÙŠÙˆÙ„ÙŠÙˆØ²_ØºØ´Øª_Ø´ØªÙ†Ø¨Ø±_Ø£ÙƒØªÙˆØ¨Ø±_Ù†ÙˆÙ†Ø¨Ø±_Ø¯Ø¬Ù†Ø¨Ø±".split("_"),
                    weekdays: "Ø§Ù„Ø£Ø­Ø¯_Ø§Ù„Ø¥ØªÙ†ÙŠÙ†_Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡_Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡_Ø§Ù„Ø®Ù…ÙŠØ³_Ø§Ù„Ø¬Ù…Ø¹Ø©_Ø§Ù„Ø³Ø¨Øª".split("_"),
                    weekdaysShort: "Ø§Ø­Ø¯_Ø§ØªÙ†ÙŠÙ†_Ø«Ù„Ø§Ø«Ø§Ø¡_Ø§Ø±Ø¨Ø¹Ø§Ø¡_Ø®Ù…ÙŠØ³_Ø¬Ù…Ø¹Ø©_Ø³Ø¨Øª".split("_"),
                    weekdaysMin: "Ø­_Ù†_Ø«_Ø±_Ø®_Ø¬_Ø³".split("_"),
                    longDateFormat: {
                        LT: "HH:mm",
                        LTS: "HH:mm:ss",
                        L: "DD/MM/YYYY",
                        LL: "D MMMM YYYY",
                        LLL: "D MMMM YYYY HH:mm",
                        LLLL: "dddd D MMMM YYYY HH:mm"
                    },
                    calendar: {
                        sameDay: "[Ø§Ù„ÙŠÙˆÙ… Ø¹Ù„Ù‰ Ø§Ù„Ø³Ø§Ø¹Ø©] LT",
                        nextDay: "[ØºØ¯Ø§ Ø¹Ù„Ù‰ Ø§Ù„Ø³Ø§Ø¹Ø©] LT",
                        nextWeek: "dddd [Ø¹Ù„Ù‰ Ø§Ù„Ø³Ø§Ø¹Ø©] LT",
                        lastDay: "[Ø£Ù…Ø³ Ø¹Ù„Ù‰ Ø§Ù„Ø³Ø§Ø¹Ø©] LT",
                        lastWeek: "dddd [Ø¹Ù„Ù‰ Ø§Ù„Ø³Ø§Ø¹Ø©] LT",
                        sameElse: "L"
                    },
                    relativeTime: {
                        future: "ÙÙŠ %s",
                        past: "Ù…Ù†Ø° %s",
                        s: "Ø«ÙˆØ§Ù†",
                        m: "Ø¯Ù‚ÙŠÙ‚Ø©",
                        mm: "%d Ø¯Ù‚Ø§Ø¦Ù‚",
                        h: "Ø³Ø§Ø¹Ø©",
                        hh: "%d Ø³Ø§Ø¹Ø§Øª",
                        d: "ÙŠÙˆÙ…",
                        dd: "%d Ø£ÙŠØ§Ù…",
                        M: "Ø´Ù‡Ø±",
                        MM: "%d Ø£Ø´Ù‡Ø±",
                        y: "Ø³Ù†Ø©",
                        yy: "%d Ø³Ù†ÙˆØ§Øª"
                    },
                    week: {
                        dow: 6,
                        doy: 12
                    }
                }), {
                    1: "Ù¡",
                    2: "Ù¢",
                    3: "Ù£",
                    4: "Ù¤",
                    5: "Ù¥",
                    6: "Ù¦",
                    7: "Ù§",
                    8: "Ù¨",
                    9: "Ù©",
                    0: "Ù "
                }),
                cn = {
                    "Ù¡": "1",
                    "Ù¢": "2",
                    "Ù£": "3",
                    "Ù¤": "4",
                    "Ù¥": "5",
                    "Ù¦": "6",
                    "Ù§": "7",
                    "Ù¨": "8",
                    "Ù©": "9",
                    "Ù ": "0"
                },
                dn = (on.defineLocale("ar-sa", {
                    months: "ÙŠÙ†Ø§ÙŠØ±_ÙØ¨Ø±Ø§ÙŠØ±_Ù…Ø§Ø±Ø³_Ø£Ø¨Ø±ÙŠÙ„_Ù…Ø§ÙŠÙˆ_ÙŠÙˆÙ†ÙŠÙˆ_ÙŠÙˆÙ„ÙŠÙˆ_Ø£ØºØ³Ø·Ø³_Ø³Ø¨ØªÙ…Ø¨Ø±_Ø£ÙƒØªÙˆØ¨Ø±_Ù†ÙˆÙÙ…Ø¨Ø±_Ø¯ÙŠØ³Ù…Ø¨Ø±".split("_"),
                    monthsShort: "ÙŠÙ†Ø§ÙŠØ±_ÙØ¨Ø±Ø§ÙŠØ±_Ù…Ø§Ø±Ø³_Ø£Ø¨Ø±ÙŠÙ„_Ù…Ø§ÙŠÙˆ_ÙŠÙˆÙ†ÙŠÙˆ_ÙŠÙˆÙ„ÙŠÙˆ_Ø£ØºØ³Ø·Ø³_Ø³Ø¨ØªÙ…Ø¨Ø±_Ø£ÙƒØªÙˆØ¨Ø±_Ù†ÙˆÙÙ…Ø¨Ø±_Ø¯ÙŠØ³Ù…Ø¨Ø±".split("_"),
                    weekdays: "Ø§Ù„Ø£Ø­Ø¯_Ø§Ù„Ø¥Ø«Ù†ÙŠÙ†_Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡_Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡_Ø§Ù„Ø®Ù…ÙŠØ³_Ø§Ù„Ø¬Ù…Ø¹Ø©_Ø§Ù„Ø³Ø¨Øª".split("_"),
                    weekdaysShort: "Ø£Ø­Ø¯_Ø¥Ø«Ù†ÙŠÙ†_Ø«Ù„Ø§Ø«Ø§Ø¡_Ø£Ø±Ø¨Ø¹Ø§Ø¡_Ø®Ù…ÙŠØ³_Ø¬Ù…Ø¹Ø©_Ø³Ø¨Øª".split("_"),
                    weekdaysMin: "Ø­_Ù†_Ø«_Ø±_Ø®_Ø¬_Ø³".split("_"),
                    longDateFormat: {
                        LT: "HH:mm",
                        LTS: "HH:mm:ss",
                        L: "DD/MM/YYYY",
                        LL: "D MMMM YYYY",
                        LLL: "D MMMM YYYY HH:mm",
                        LLLL: "dddd D MMMM YYYY HH:mm"
                    },
                    meridiemParse: /Øµ|Ù…/,
                    isPM: function(e) {
                        return "Ù…" === e
                    },
                    meridiem: function(e, t, n) {
                        return e < 12 ? "Øµ" : "Ù…"
                    },
                    calendar: {
                        sameDay: "[Ø§Ù„ÙŠÙˆÙ… Ø¹Ù„Ù‰ Ø§Ù„Ø³Ø§Ø¹Ø©] LT",
                        nextDay: "[ØºØ¯Ø§ Ø¹Ù„Ù‰ Ø§Ù„Ø³Ø§Ø¹Ø©] LT",
                        nextWeek: "dddd [Ø¹Ù„Ù‰ Ø§Ù„Ø³Ø§Ø¹Ø©] LT",
                        lastDay: "[Ø£Ù…Ø³ Ø¹Ù„Ù‰ Ø§Ù„Ø³Ø§Ø¹Ø©] LT",
                        lastWeek: "dddd [Ø¹Ù„Ù‰ Ø§Ù„Ø³Ø§Ø¹Ø©] LT",
                        sameElse: "L"
                    },
                    relativeTime: {
                        future: "ÙÙŠ %s",
                        past: "Ù…Ù†Ø° %s",
                        s: "Ø«ÙˆØ§Ù†",
                        m: "Ø¯Ù‚ÙŠÙ‚Ø©",
                        mm: "%d Ø¯Ù‚Ø§Ø¦Ù‚",
                        h: "Ø³Ø§Ø¹Ø©",
                        hh: "%d Ø³Ø§Ø¹Ø§Øª",
                        d: "ÙŠÙˆÙ…",
                        dd: "%d Ø£ÙŠØ§Ù…",
                        M: "Ø´Ù‡Ø±",
                        MM: "%d Ø£Ø´Ù‡Ø±",
                        y: "Ø³Ù†Ø©",
                        yy: "%d Ø³Ù†ÙˆØ§Øª"
                    },
                    preparse: function(e) {
                        return e.replace(/[Ù¡Ù¢Ù£Ù¤Ù¥Ù¦Ù§Ù¨Ù©Ù ]/g, function(e) {
                            return cn[e]
                        }).replace(/ØŒ/g, ",")
                    },
                    postformat: function(e) {
                        return e.replace(/\d/g, function(e) {
                            return ln[e]
                        }).replace(/,/g, "ØŒ")
                    },
                    week: {
                        dow: 6,
                        doy: 12
                    }
                }), on.defineLocale("ar-tn", {
                    months: "Ø¬Ø§Ù†ÙÙŠ_ÙÙŠÙØ±ÙŠ_Ù…Ø§Ø±Ø³_Ø£ÙØ±ÙŠÙ„_Ù…Ø§ÙŠ_Ø¬ÙˆØ§Ù†_Ø¬ÙˆÙŠÙ„ÙŠØ©_Ø£ÙˆØª_Ø³Ø¨ØªÙ…Ø¨Ø±_Ø£ÙƒØªÙˆØ¨Ø±_Ù†ÙˆÙÙ…Ø¨Ø±_Ø¯ÙŠØ³Ù…Ø¨Ø±".split("_"),
                    monthsShort: "Ø¬Ø§Ù†ÙÙŠ_ÙÙŠÙØ±ÙŠ_Ù…Ø§Ø±Ø³_Ø£ÙØ±ÙŠÙ„_Ù…Ø§ÙŠ_Ø¬ÙˆØ§Ù†_Ø¬ÙˆÙŠÙ„ÙŠØ©_Ø£ÙˆØª_Ø³Ø¨ØªÙ…Ø¨Ø±_Ø£ÙƒØªÙˆØ¨Ø±_Ù†ÙˆÙÙ…Ø¨Ø±_Ø¯ÙŠØ³Ù…Ø¨Ø±".split("_"),
                    weekdays: "Ø§Ù„Ø£Ø­Ø¯_Ø§Ù„Ø¥Ø«Ù†ÙŠÙ†_Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡_Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡_Ø§Ù„Ø®Ù…ÙŠØ³_Ø§Ù„Ø¬Ù…Ø¹Ø©_Ø§Ù„Ø³Ø¨Øª".split("_"),
                    weekdaysShort: "Ø£Ø­Ø¯_Ø¥Ø«Ù†ÙŠÙ†_Ø«Ù„Ø§Ø«Ø§Ø¡_Ø£Ø±Ø¨Ø¹Ø§Ø¡_Ø®Ù…ÙŠØ³_Ø¬Ù…Ø¹Ø©_Ø³Ø¨Øª".split("_"),
                    weekdaysMin: "Ø­_Ù†_Ø«_Ø±_Ø®_Ø¬_Ø³".split("_"),
                    longDateFormat: {
                        LT: "HH:mm",
                        LTS: "HH:mm:ss",
                        L: "DD/MM/YYYY",
                        LL: "D MMMM YYYY",
                        LLL: "D MMMM YYYY HH:mm",
                        LLLL: "dddd D MMMM YYYY HH:mm"
                    },
                    calendar: {
                        sameDay: "[Ø§Ù„ÙŠÙˆÙ… Ø¹Ù„Ù‰ Ø§Ù„Ø³Ø§Ø¹Ø©] LT",
                        nextDay: "[ØºØ¯Ø§ Ø¹Ù„Ù‰ Ø§Ù„Ø³Ø§Ø¹Ø©] LT",
                        nextWeek: "dddd [Ø¹Ù„Ù‰ Ø§Ù„Ø³Ø§Ø¹Ø©] LT",
                        lastDay: "[Ø£Ù…Ø³ Ø¹Ù„Ù‰ Ø§Ù„Ø³Ø§Ø¹Ø©] LT",
                        lastWeek: "dddd [Ø¹Ù„Ù‰ Ø§Ù„Ø³Ø§Ø¹Ø©] LT",
                        sameElse: "L"
                    },
                    relativeTime: {
                        future: "ÙÙŠ %s",
                        past: "Ù…Ù†Ø° %s",
                        s: "Ø«ÙˆØ§Ù†",
                        m: "Ø¯Ù‚ÙŠÙ‚Ø©",
                        mm: "%d Ø¯Ù‚Ø§Ø¦Ù‚",
                        h: "Ø³Ø§Ø¹Ø©",
                        hh: "%d Ø³Ø§Ø¹Ø§Øª",
                        d: "ÙŠÙˆÙ…",
                        dd: "%d Ø£ÙŠØ§Ù…",
                        M: "Ø´Ù‡Ø±",
                        MM: "%d Ø£Ø´Ù‡Ø±",
                        y: "Ø³Ù†Ø©",
                        yy: "%d Ø³Ù†ÙˆØ§Øª"
                    },
                    week: {
                        dow: 1,
                        doy: 4
                    }
                }), {
                    1: "Ù¡",
                    2: "Ù¢",
                    3: "Ù£",
                    4: "Ù¤",
                    5: "Ù¥",
                    6: "Ù¦",
                    7: "Ù§",
                    8: "Ù¨",
                    9: "Ù©",
                    0: "Ù "
                }),
                un = {
                    "Ù¡": "1",
                    "Ù¢": "2",
                    "Ù£": "3",
                    "Ù¤": "4",
                    "Ù¥": "5",
                    "Ù¦": "6",
                    "Ù§": "7",
                    "Ù¨": "8",
                    "Ù©": "9",
                    "Ù ": "0"
                },
                _n = function(e) {
                    return 0 === e ? 0 : 1 === e ? 1 : 2 === e ? 2 : e % 100 >= 3 && e % 100 <= 10 ? 3 : e % 100 >= 11 ? 4 : 5
                },
                fn = {
                    s: ["Ø£Ù‚Ù„ Ù…Ù† Ø«Ø§Ù†ÙŠØ©", "Ø«Ø§Ù†ÙŠØ© ÙˆØ§Ø­Ø¯Ø©", ["Ø«Ø§Ù†ÙŠØªØ§Ù†", "Ø«Ø§Ù†ÙŠØªÙŠÙ†"], "%d Ø«ÙˆØ§Ù†", "%d Ø«Ø§Ù†ÙŠØ©", "%d Ø«Ø§Ù†ÙŠØ©"],
                    m: ["Ø£Ù‚Ù„ Ù…Ù† Ø¯Ù‚ÙŠÙ‚Ø©", "Ø¯Ù‚ÙŠÙ‚Ø© ÙˆØ§Ø­Ø¯Ø©", ["Ø¯Ù‚ÙŠÙ‚ØªØ§Ù†", "Ø¯Ù‚ÙŠÙ‚ØªÙŠÙ†"], "%d Ø¯Ù‚Ø§Ø¦Ù‚", "%d Ø¯Ù‚ÙŠÙ‚Ø©", "%d Ø¯Ù‚ÙŠÙ‚Ø©"],
                    h: ["Ø£Ù‚Ù„ Ù…Ù† Ø³Ø§Ø¹Ø©", "Ø³Ø§Ø¹Ø© ÙˆØ§Ø­Ø¯Ø©", ["Ø³Ø§Ø¹ØªØ§Ù†", "Ø³Ø§Ø¹ØªÙŠÙ†"], "%d Ø³Ø§Ø¹Ø§Øª", "%d Ø³Ø§Ø¹Ø©", "%d Ø³Ø§Ø¹Ø©"],
                    d: ["Ø£Ù‚Ù„ Ù…Ù† ÙŠÙˆÙ…", "ÙŠÙˆÙ… ÙˆØ§Ø­Ø¯", ["ÙŠÙˆÙ…Ø§Ù†", "ÙŠÙˆÙ…ÙŠÙ†"], "%d Ø£ÙŠØ§Ù…", "%d ÙŠÙˆÙ…Ù‹Ø§", "%d ÙŠÙˆÙ…"],
                    M: ["Ø£Ù‚Ù„ Ù…Ù† Ø´Ù‡Ø±", "Ø´Ù‡Ø± ÙˆØ§Ø­Ø¯", ["Ø´Ù‡Ø±Ø§Ù†", "Ø´Ù‡Ø±ÙŠÙ†"], "%d Ø£Ø´Ù‡Ø±", "%d Ø´Ù‡Ø±Ø§", "%d Ø´Ù‡Ø±"],
                    y: ["Ø£Ù‚Ù„ Ù…Ù† Ø¹Ø§Ù…", "Ø¹Ø§Ù… ÙˆØ§Ø­Ø¯", ["Ø¹Ø§Ù…Ø§Ù†", "Ø¹Ø§Ù…ÙŠÙ†"], "%d Ø£Ø¹ÙˆØ§Ù…", "%d Ø¹Ø§Ù…Ù‹Ø§", "%d Ø¹Ø§Ù…"]
                },
                vn = function(e) {
                    return function(t, n, i, a) {
                        var s = _n(t),
                            r = fn[e][_n(t)];
                        return 2 === s && (r = r[n ? 0 : 1]), r.replace(/%d/i, t)
                    }
                },
                mn = ["ÙƒØ§Ù†ÙˆÙ† Ø§Ù„Ø«Ø§Ù†ÙŠ ÙŠÙ†Ø§ÙŠØ±", "Ø´Ø¨Ø§Ø· ÙØ¨Ø±Ø§ÙŠØ±", "Ø¢Ø°Ø§Ø± Ù…Ø§Ø±Ø³", "Ù†ÙŠØ³Ø§Ù† Ø£Ø¨Ø±ÙŠÙ„", "Ø£ÙŠØ§Ø± Ù…Ø§ÙŠÙˆ", "Ø­Ø²ÙŠØ±Ø§Ù† ÙŠÙˆÙ†ÙŠÙˆ", "ØªÙ…ÙˆØ² ÙŠÙˆÙ„ÙŠÙˆ", "Ø¢Ø¨ Ø£ØºØ³Ø·Ø³", "Ø£ÙŠÙ„ÙˆÙ„ Ø³Ø¨ØªÙ…Ø¨Ø±", "ØªØ´Ø±ÙŠÙ† Ø§Ù„Ø£ÙˆÙ„ Ø£ÙƒØªÙˆØ¨Ø±", "ØªØ´Ø±ÙŠÙ† Ø§Ù„Ø«Ø§Ù†ÙŠ Ù†ÙˆÙÙ…Ø¨Ø±", "ÙƒØ§Ù†ÙˆÙ† Ø§Ù„Ø£ÙˆÙ„ Ø¯ÙŠØ³Ù…Ø¨Ø±"],
                hn = (on.defineLocale("ar", {
                    months: mn,
                    monthsShort: mn,
                    weekdays: "Ø§Ù„Ø£Ø­Ø¯_Ø§Ù„Ø¥Ø«Ù†ÙŠÙ†_Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡_Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡_Ø§Ù„Ø®Ù…ÙŠØ³_Ø§Ù„Ø¬Ù…Ø¹Ø©_Ø§Ù„Ø³Ø¨Øª".split("_"),
                    weekdaysShort: "Ø£Ø­Ø¯_Ø¥Ø«Ù†ÙŠÙ†_Ø«Ù„Ø§Ø«Ø§Ø¡_Ø£Ø±Ø¨Ø¹Ø§Ø¡_Ø®Ù…ÙŠØ³_Ø¬Ù…Ø¹Ø©_Ø³Ø¨Øª".split("_"),
                    weekdaysMin: "Ø­_Ù†_Ø«_Ø±_Ø®_Ø¬_Ø³".split("_"),
                    longDateFormat: {
                        LT: "HH:mm",
                        LTS: "HH:mm:ss",
                        L: "D/â€M/â€YYYY",
                        LL: "D MMMM YYYY",
                        LLL: "D MMMM YYYY HH:mm",
                        LLLL: "dddd D MMMM YYYY HH:mm"
                    },
                    meridiemParse: /Øµ|Ù…/,
                    isPM: function(e) {
                        return "Ù…" === e
                    },
                    meridiem: function(e, t, n) {
                        return e < 12 ? "Øµ" : "Ù…"
                    },
                    calendar: {
                        sameDay: "[Ø§Ù„ÙŠÙˆÙ… Ø¹Ù†Ø¯ Ø§Ù„Ø³Ø§Ø¹Ø©] LT",
                        nextDay: "[ØºØ¯Ù‹Ø§ Ø¹Ù†Ø¯ Ø§Ù„Ø³Ø§Ø¹Ø©] LT",
                        nextWeek: "dddd [Ø¹Ù†Ø¯ Ø§Ù„Ø³Ø§Ø¹Ø©] LT",
                        lastDay: "[Ø£Ù…Ø³ Ø¹Ù†Ø¯ Ø§Ù„Ø³Ø§Ø¹Ø©] LT",
                        lastWeek: "dddd [Ø¹Ù†Ø¯ Ø§Ù„Ø³Ø§Ø¹Ø©] LT",
                        sameElse: "L"
                    },
                    relativeTime: {
                        future: "Ø¨Ø¹Ø¯ %s",
                        past: "Ù…Ù†Ø° %s",
                        s: vn("s"),
                        m: vn("m"),
                        mm: vn("m"),
                        h: vn("h"),
                        hh: vn("h"),
                        d: vn("d"),
                        dd: vn("d"),
                        M: vn("M"),
                        MM: vn("M"),
                        y: vn("y"),
                        yy: vn("y")
                    },
                    preparse: function(e) {
                        return e.replace(/\u200f/g, "").replace(/[Ù¡Ù¢Ù£Ù¤Ù¥Ù¦Ù§Ù¨Ù©Ù ]/g, function(e) {
                            return un[e]
                        }).replace(/ØŒ/g, ",")
                    },
                    postformat: function(e) {
                        return e.replace(/\d/g, function(e) {
                            return dn[e]
                        }).replace(/,/g, "ØŒ")
                    },
                    week: {
                        dow: 6,
                        doy: 12
                    }
                }), {
                    1: "-inci",
                    5: "-inci",
                    8: "-inci",
                    70: "-inci",
                    80: "-inci",
                    2: "-nci",
                    7: "-nci",
                    20: "-nci",
                    50: "-nci",
                    3: "-Ã¼ncÃ¼",
                    4: "-Ã¼ncÃ¼",
                    100: "-Ã¼ncÃ¼",
                    6: "-ncÄ±",
                    9: "-uncu",
                    10: "-uncu",
                    30: "-uncu",
                    60: "-Ä±ncÄ±",
                    90: "-Ä±ncÄ±"
                });
            //! moment.js locale configuration
            //! locale : afrikaans (af)
            //! author : Werner Mollentze : https://github.com/wernerm
            on.defineLocale("az", {
                months: "yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),
                monthsShort: "yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),
                weekdays: "Bazar_Bazar ertÉ™si_Ã‡É™rÅŸÉ™nbÉ™ axÅŸamÄ±_Ã‡É™rÅŸÉ™nbÉ™_CÃ¼mÉ™ axÅŸamÄ±_CÃ¼mÉ™_ÅžÉ™nbÉ™".split("_"),
                weekdaysShort: "Baz_BzE_Ã‡Ax_Ã‡É™r_CAx_CÃ¼m_ÅžÉ™n".split("_"),
                weekdaysMin: "Bz_BE_Ã‡A_Ã‡É™_CA_CÃ¼_ÅžÉ™".split("_"),
                longDateFormat: {
                    LT: "HH:mm",
                    LTS: "HH:mm:ss",
                    L: "DD.MM.YYYY",
                    LL: "D MMMM YYYY",
                    LLL: "D MMMM YYYY HH:mm",
                    LLLL: "dddd, D MMMM YYYY HH:mm"
                },
                calendar: {
                    sameDay: "[bugÃ¼n saat] LT",
                    nextDay: "[sabah saat] LT",
                    nextWeek: "[gÉ™lÉ™n hÉ™ftÉ™] dddd [saat] LT",
                    lastDay: "[dÃ¼nÉ™n] LT",
                    lastWeek: "[keÃ§É™n hÉ™ftÉ™] dddd [saat] LT",
                    sameElse: "L"
                },
                relativeTime: {
                    future: "%s sonra",
                    past: "%s É™vvÉ™l",
                    s: "birneÃ§É™ saniyyÉ™",
                    m: "bir dÉ™qiqÉ™",
                    mm: "%d dÉ™qiqÉ™",
                    h: "bir saat",
                    hh: "%d saat",
                    d: "bir gÃ¼n",
                    dd: "%d gÃ¼n",
                    M: "bir ay",
                    MM: "%d ay",
                    y: "bir il",
                    yy: "%d il"
                },
                meridiemParse: /gecÉ™|sÉ™hÉ™r|gÃ¼ndÃ¼z|axÅŸam/,
                isPM: function(e) {
                    return /^(gÃ¼ndÃ¼z|axÅŸam)$/.test(e)
                },
                meridiem: function(e, t, n) {
                    return e < 4 ? "gecÉ™" : e < 12 ? "sÉ™hÉ™r" : e < 17 ? "gÃ¼ndÃ¼z" : "axÅŸam"
                },
                ordinalParse: /\d{1,2}-(Ä±ncÄ±|inci|nci|Ã¼ncÃ¼|ncÄ±|uncu)/,
                ordinal: function(e) {
                    if (0 === e) return e + "-Ä±ncÄ±";
                    var t = e % 10;
                    return e + (hn[t] || hn[e % 100 - t] || hn[e >= 100 ? 100 : null])
                },
                week: {
                    dow: 1,
                    doy: 7
                }
            });

            function pn(e, t, n) {
                var i, a;
                return "m" === n ? t ? "Ñ…Ð²Ñ–Ð»Ñ–Ð½Ð°" : "Ñ…Ð²Ñ–Ð»Ñ–Ð½Ñƒ" : "h" === n ? t ? "Ð³Ð°Ð´Ð·Ñ–Ð½Ð°" : "Ð³Ð°Ð´Ð·Ñ–Ð½Ñƒ" : e + " " + (i = +e, a = {
                    mm: t ? "Ñ…Ð²Ñ–Ð»Ñ–Ð½Ð°_Ñ…Ð²Ñ–Ð»Ñ–Ð½Ñ‹_Ñ…Ð²Ñ–Ð»Ñ–Ð½" : "Ñ…Ð²Ñ–Ð»Ñ–Ð½Ñƒ_Ñ…Ð²Ñ–Ð»Ñ–Ð½Ñ‹_Ñ…Ð²Ñ–Ð»Ñ–Ð½",
                    hh: t ? "Ð³Ð°Ð´Ð·Ñ–Ð½Ð°_Ð³Ð°Ð´Ð·Ñ–Ð½Ñ‹_Ð³Ð°Ð´Ð·Ñ–Ð½" : "Ð³Ð°Ð´Ð·Ñ–Ð½Ñƒ_Ð³Ð°Ð´Ð·Ñ–Ð½Ñ‹_Ð³Ð°Ð´Ð·Ñ–Ð½",
                    dd: "Ð´Ð·ÐµÐ½ÑŒ_Ð´Ð½Ñ–_Ð´Ð·Ñ‘Ð½",
                    MM: "Ð¼ÐµÑÑÑ†_Ð¼ÐµÑÑÑ†Ñ‹_Ð¼ÐµÑÑÑ†Ð°Ñž",
                    yy: "Ð³Ð¾Ð´_Ð³Ð°Ð´Ñ‹_Ð³Ð°Ð´Ð¾Ñž"
                }[n].split("_"), i % 10 == 1 && i % 100 != 11 ? a[0] : i % 10 >= 2 && i % 10 <= 4 && (i % 100 < 10 || i % 100 >= 20) ? a[1] : a[2])
            }
            on.defineLocale("be", {
                months: function(e, t) {
                    return {
                        nominative: "ÑÑ‚ÑƒÐ´Ð·ÐµÐ½ÑŒ_Ð»ÑŽÑ‚Ñ‹_ÑÐ°ÐºÐ°Ð²Ñ–Ðº_ÐºÑ€Ð°ÑÐ°Ð²Ñ–Ðº_Ñ‚Ñ€Ð°Ð²ÐµÐ½ÑŒ_Ñ‡ÑÑ€Ð²ÐµÐ½ÑŒ_Ð»Ñ–Ð¿ÐµÐ½ÑŒ_Ð¶Ð½Ñ–Ð²ÐµÐ½ÑŒ_Ð²ÐµÑ€Ð°ÑÐµÐ½ÑŒ_ÐºÐ°ÑÑ‚Ñ€Ñ‹Ñ‡Ð½Ñ–Ðº_Ð»Ñ–ÑÑ‚Ð°Ð¿Ð°Ð´_ÑÐ½ÐµÐ¶Ð°Ð½ÑŒ".split("_"),
                        accusative: "ÑÑ‚ÑƒÐ´Ð·ÐµÐ½Ñ_Ð»ÑŽÑ‚Ð°Ð³Ð°_ÑÐ°ÐºÐ°Ð²Ñ–ÐºÐ°_ÐºÑ€Ð°ÑÐ°Ð²Ñ–ÐºÐ°_Ñ‚Ñ€Ð°ÑžÐ½Ñ_Ñ‡ÑÑ€Ð²ÐµÐ½Ñ_Ð»Ñ–Ð¿ÐµÐ½Ñ_Ð¶Ð½Ñ–ÑžÐ½Ñ_Ð²ÐµÑ€Ð°ÑÐ½Ñ_ÐºÐ°ÑÑ‚Ñ€Ñ‹Ñ‡Ð½Ñ–ÐºÐ°_Ð»Ñ–ÑÑ‚Ð°Ð¿Ð°Ð´Ð°_ÑÐ½ÐµÐ¶Ð½Ñ".split("_")
                    }[/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(t) ? "accusative" : "nominative"][e.month()]
                },
                monthsShort: "ÑÑ‚ÑƒÐ´_Ð»ÑŽÑ‚_ÑÐ°Ðº_ÐºÑ€Ð°Ñ_Ñ‚Ñ€Ð°Ð²_Ñ‡ÑÑ€Ð²_Ð»Ñ–Ð¿_Ð¶Ð½Ñ–Ð²_Ð²ÐµÑ€_ÐºÐ°ÑÑ‚_Ð»Ñ–ÑÑ‚_ÑÐ½ÐµÐ¶".split("_"),
                weekdays: function(e, t) {
                    return {
                        nominative: "Ð½ÑÐ´Ð·ÐµÐ»Ñ_Ð¿Ð°Ð½ÑÐ´Ð·ÐµÐ»Ð°Ðº_Ð°ÑžÑ‚Ð¾Ñ€Ð°Ðº_ÑÐµÑ€Ð°Ð´Ð°_Ñ‡Ð°Ñ†Ð²ÐµÑ€_Ð¿ÑÑ‚Ð½Ñ–Ñ†Ð°_ÑÑƒÐ±Ð¾Ñ‚Ð°".split("_"),
                        accusative: "Ð½ÑÐ´Ð·ÐµÐ»ÑŽ_Ð¿Ð°Ð½ÑÐ´Ð·ÐµÐ»Ð°Ðº_Ð°ÑžÑ‚Ð¾Ñ€Ð°Ðº_ÑÐµÑ€Ð°Ð´Ñƒ_Ñ‡Ð°Ñ†Ð²ÐµÑ€_Ð¿ÑÑ‚Ð½Ñ–Ñ†Ñƒ_ÑÑƒÐ±Ð¾Ñ‚Ñƒ".split("_")
                    }[/\[ ?[Ð’Ð²] ?(?:Ð¼Ñ–Ð½ÑƒÐ»ÑƒÑŽ|Ð½Ð°ÑÑ‚ÑƒÐ¿Ð½ÑƒÑŽ)? ?\] ?dddd/.test(t) ? "accusative" : "nominative"][e.day()]
                },
                weekdaysShort: "Ð½Ð´_Ð¿Ð½_Ð°Ñ‚_ÑÑ€_Ñ‡Ñ†_Ð¿Ñ‚_ÑÐ±".split("_"),
                weekdaysMin: "Ð½Ð´_Ð¿Ð½_Ð°Ñ‚_ÑÑ€_Ñ‡Ñ†_Ð¿Ñ‚_ÑÐ±".split("_"),
                longDateFormat: {
                    LT: "HH:mm",
                    LTS: "HH:mm:ss",
                    L: "DD.MM.YYYY",
                    LL: "D MMMM YYYY Ð³.",
                    LLL: "D MMMM YYYY Ð³., HH:mm",
                    LLLL: "dddd, D MMMM YYYY Ð³., HH:mm"
                },
                calendar: {
                    sameDay: "[Ð¡Ñ‘Ð½Ð½Ñ Ñž] LT",
                    nextDay: "[Ð—Ð°ÑžÑ‚Ñ€Ð° Ñž] LT",
                    lastDay: "[Ð£Ñ‡Ð¾Ñ€Ð° Ñž] LT",
                    nextWeek: function() {
                        return "[Ð£] dddd [Ñž] LT"
                    },
                    lastWeek: function() {
                        switch (this.day()) {
                            case 0:
                            case 3:
                            case 5:
                            case 6:
                                return "[Ð£ Ð¼Ñ–Ð½ÑƒÐ»ÑƒÑŽ] dddd [Ñž] LT";
                            case 1:
                            case 2:
                            case 4:
                                return "[Ð£ Ð¼Ñ–Ð½ÑƒÐ»Ñ‹] dddd [Ñž] LT"
                        }
                    },
                    sameElse: "L"
                },
                relativeTime: {
                    future: "Ð¿Ñ€Ð°Ð· %s",
                    past: "%s Ñ‚Ð°Ð¼Ñƒ",
                    s: "Ð½ÐµÐºÐ°Ð»ÑŒÐºÑ– ÑÐµÐºÑƒÐ½Ð´",
                    m: pn,
                    mm: pn,
                    h: pn,
                    hh: pn,
                    d: "Ð´Ð·ÐµÐ½ÑŒ",
                    dd: pn,
                    M: "Ð¼ÐµÑÑÑ†",
                    MM: pn,
                    y: "Ð³Ð¾Ð´",
                    yy: pn
                },
                meridiemParse: /Ð½Ð¾Ñ‡Ñ‹|Ñ€Ð°Ð½Ñ–Ñ†Ñ‹|Ð´Ð½Ñ|Ð²ÐµÑ‡Ð°Ñ€Ð°/,
                isPM: function(e) {
                    return /^(Ð´Ð½Ñ|Ð²ÐµÑ‡Ð°Ñ€Ð°)$/.test(e)
                },
                meridiem: function(e, t, n) {
                    return e < 4 ? "Ð½Ð¾Ñ‡Ñ‹" : e < 12 ? "Ñ€Ð°Ð½Ñ–Ñ†Ñ‹" : e < 17 ? "Ð´Ð½Ñ" : "Ð²ÐµÑ‡Ð°Ñ€Ð°"
                },
                ordinalParse: /\d{1,2}-(Ñ–|Ñ‹|Ð³Ð°)/,
                ordinal: function(e, t) {
                    switch (t) {
                        case "M":
                        case "d":
                        case "DDD":
                        case "w":
                        case "W":
                            return e % 10 != 2 && e % 10 != 3 || e % 100 == 12 || e % 100 == 13 ? e + "-Ñ‹" : e + "-Ñ–";
                        case "D":
                            return e + "-Ð³Ð°";
                        default:
                            return e
                    }
                },
                week: {
                    dow: 1,
                    doy: 7
                }
            }), on.defineLocale("bg", {
                months: "ÑÐ½ÑƒÐ°Ñ€Ð¸_Ñ„ÐµÐ²Ñ€ÑƒÐ°Ñ€Ð¸_Ð¼Ð°Ñ€Ñ‚_Ð°Ð¿Ñ€Ð¸Ð»_Ð¼Ð°Ð¹_ÑŽÐ½Ð¸_ÑŽÐ»Ð¸_Ð°Ð²Ð³ÑƒÑÑ‚_ÑÐµÐ¿Ñ‚ÐµÐ¼Ð²Ñ€Ð¸_Ð¾ÐºÑ‚Ð¾Ð¼Ð²Ñ€Ð¸_Ð½Ð¾ÐµÐ¼Ð²Ñ€Ð¸_Ð´ÐµÐºÐµÐ¼Ð²Ñ€Ð¸".split("_"),
                monthsShort: "ÑÐ½Ñ€_Ñ„ÐµÐ²_Ð¼Ð°Ñ€_Ð°Ð¿Ñ€_Ð¼Ð°Ð¹_ÑŽÐ½Ð¸_ÑŽÐ»Ð¸_Ð°Ð²Ð³_ÑÐµÐ¿_Ð¾ÐºÑ‚_Ð½Ð¾Ðµ_Ð´ÐµÐº".split("_"),
                weekdays: "Ð½ÐµÐ´ÐµÐ»Ñ_Ð¿Ð¾Ð½ÐµÐ´ÐµÐ»Ð½Ð¸Ðº_Ð²Ñ‚Ð¾Ñ€Ð½Ð¸Ðº_ÑÑ€ÑÐ´Ð°_Ñ‡ÐµÑ‚Ð²ÑŠÑ€Ñ‚ÑŠÐº_Ð¿ÐµÑ‚ÑŠÐº_ÑÑŠÐ±Ð¾Ñ‚Ð°".split("_"),
                weekdaysShort: "Ð½ÐµÐ´_Ð¿Ð¾Ð½_Ð²Ñ‚Ð¾_ÑÑ€Ñ_Ñ‡ÐµÑ‚_Ð¿ÐµÑ‚_ÑÑŠÐ±".split("_"),
                weekdaysMin: "Ð½Ð´_Ð¿Ð½_Ð²Ñ‚_ÑÑ€_Ñ‡Ñ‚_Ð¿Ñ‚_ÑÐ±".split("_"),
                longDateFormat: {
                    LT: "H:mm",
                    LTS: "H:mm:ss",
                    L: "D.MM.YYYY",
                    LL: "D MMMM YYYY",
                    LLL: "D MMMM YYYY H:mm",
                    LLLL: "dddd, D MMMM YYYY H:mm"
                },
                calendar: {
                    sameDay: "[Ð”Ð½ÐµÑ Ð²] LT",
                    nextDay: "[Ð£Ñ‚Ñ€Ðµ Ð²] LT",
                    nextWeek: "dddd [Ð²] LT",
                    lastDay: "[Ð’Ñ‡ÐµÑ€Ð° Ð²] LT",
                    lastWeek: function() {
                        switch (this.day()) {
                            case 0:
                            case 3:
                            case 6:
                                return "[Ð’ Ð¸Ð·Ð¼Ð¸Ð½Ð°Ð»Ð°Ñ‚Ð°] dddd [Ð²] LT";
                            case 1:
                            case 2:
                            case 4:
                            case 5:
                                return "[Ð’ Ð¸Ð·Ð¼Ð¸Ð½Ð°Ð»Ð¸Ñ] dddd [Ð²] LT"
                        }
                    },
                    sameElse: "L"
                },
                relativeTime: {
                    future: "ÑÐ»ÐµÐ´ %s",
                    past: "Ð¿Ñ€ÐµÐ´Ð¸ %s",
                    s: "Ð½ÑÐºÐ¾Ð»ÐºÐ¾ ÑÐµÐºÑƒÐ½Ð´Ð¸",
                    m: "Ð¼Ð¸Ð½ÑƒÑ‚Ð°",
                    mm: "%d Ð¼Ð¸Ð½ÑƒÑ‚Ð¸",
                    h: "Ñ‡Ð°Ñ",
                    hh: "%d Ñ‡Ð°ÑÐ°",
                    d: "Ð´ÐµÐ½",
                    dd: "%d Ð´Ð½Ð¸",
                    M: "Ð¼ÐµÑÐµÑ†",
                    MM: "%d Ð¼ÐµÑÐµÑ†Ð°",
                    y: "Ð³Ð¾Ð´Ð¸Ð½Ð°",
                    yy: "%d Ð³Ð¾Ð´Ð¸Ð½Ð¸"
                },
                ordinalParse: /\d{1,2}-(ÐµÐ²|ÐµÐ½|Ñ‚Ð¸|Ð²Ð¸|Ñ€Ð¸|Ð¼Ð¸)/,
                ordinal: function(e) {
                    var t = e % 10,
                        n = e % 100;
                    return 0 === e ? e + "-ÐµÐ²" : 0 === n ? e + "-ÐµÐ½" : n > 10 && n < 20 ? e + "-Ñ‚Ð¸" : 1 === t ? e + "-Ð²Ð¸" : 2 === t ? e + "-Ñ€Ð¸" : 7 === t || 8 === t ? e + "-Ð¼Ð¸" : e + "-Ñ‚Ð¸"
                },
                week: {
                    dow: 1,
                    doy: 7
                }
            });
            //! moment.js locale configuration
            //! locale : bulgarian (bg)
            //! author : Krasen Borisov : https://github.com/kraz
            var gn = {
                    1: "à§§",
                    2: "à§¨",
                    3: "à§©",
                    4: "à§ª",
                    5: "à§«",
                    6: "à§¬",
                    7: "à§­",
                    8: "à§®",
                    9: "à§¯",
                    0: "à§¦"
                },
                bn = {
                    "à§§": "1",
                    "à§¨": "2",
                    "à§©": "3",
                    "à§ª": "4",
                    "à§«": "5",
                    "à§¬": "6",
                    "à§­": "7",
                    "à§®": "8",
                    "à§¯": "9",
                    "à§¦": "0"
                },
                Sn = (on.defineLocale("bn", {
                    months: "à¦œà¦¾à¦¨à§à§Ÿà¦¾à¦°à§€_à¦«à§‡à¦¬à§à§Ÿà¦¾à¦°à§€_à¦®à¦¾à¦°à§à¦š_à¦à¦ªà§à¦°à¦¿à¦²_à¦®à§‡_à¦œà§à¦¨_à¦œà§à¦²à¦¾à¦‡_à¦…à¦—à¦¾à¦¸à§à¦Ÿ_à¦¸à§‡à¦ªà§à¦Ÿà§‡à¦®à§à¦¬à¦°_à¦…à¦•à§à¦Ÿà§‹à¦¬à¦°_à¦¨à¦­à§‡à¦®à§à¦¬à¦°_à¦¡à¦¿à¦¸à§‡à¦®à§à¦¬à¦°".split("_"),
                    monthsShort: "à¦œà¦¾à¦¨à§_à¦«à§‡à¦¬_à¦®à¦¾à¦°à§à¦š_à¦à¦ªà¦°_à¦®à§‡_à¦œà§à¦¨_à¦œà§à¦²_à¦…à¦—_à¦¸à§‡à¦ªà§à¦Ÿ_à¦…à¦•à§à¦Ÿà§‹_à¦¨à¦­_à¦¡à¦¿à¦¸à§‡à¦®à§".split("_"),
                    weekdays: "à¦°à¦¬à¦¿à¦¬à¦¾à¦°_à¦¸à§‹à¦®à¦¬à¦¾à¦°_à¦®à¦™à§à¦—à¦²à¦¬à¦¾à¦°_à¦¬à§à¦§à¦¬à¦¾à¦°_à¦¬à§ƒà¦¹à¦¸à§à¦ªà¦¤à§à¦¤à¦¿à¦¬à¦¾à¦°_à¦¶à§à¦•à§à¦°à§à¦¬à¦¾à¦°_à¦¶à¦¨à¦¿à¦¬à¦¾à¦°".split("_"),
                    weekdaysShort: "à¦°à¦¬à¦¿_à¦¸à§‹à¦®_à¦®à¦™à§à¦—à¦²_à¦¬à§à¦§_à¦¬à§ƒà¦¹à¦¸à§à¦ªà¦¤à§à¦¤à¦¿_à¦¶à§à¦•à§à¦°à§_à¦¶à¦¨à¦¿".split("_"),
                    weekdaysMin: "à¦°à¦¬_à¦¸à¦®_à¦®à¦™à§à¦—_à¦¬à§_à¦¬à§à¦°à¦¿à¦¹_à¦¶à§_à¦¶à¦¨à¦¿".split("_"),
                    longDateFormat: {
                        LT: "A h:mm à¦¸à¦®à§Ÿ",
                        LTS: "A h:mm:ss à¦¸à¦®à§Ÿ",
                        L: "DD/MM/YYYY",
                        LL: "D MMMM YYYY",
                        LLL: "D MMMM YYYY, A h:mm à¦¸à¦®à§Ÿ",
                        LLLL: "dddd, D MMMM YYYY, A h:mm à¦¸à¦®à§Ÿ"
                    },
                    calendar: {
                        sameDay: "[à¦†à¦œ] LT",
                        nextDay: "[à¦†à¦—à¦¾à¦®à§€à¦•à¦¾à¦²] LT",
                        nextWeek: "dddd, LT",
                        lastDay: "[à¦—à¦¤à¦•à¦¾à¦²] LT",
                        lastWeek: "[à¦—à¦¤] dddd, LT",
                        sameElse: "L"
                    },
                    relativeTime: {
                        future: "%s à¦ªà¦°à§‡",
                        past: "%s à¦†à¦—à§‡",
                        s: "à¦•à¦à¦• à¦¸à§‡à¦•à§‡à¦¨à§à¦¡",
                        m: "à¦à¦• à¦®à¦¿à¦¨à¦¿à¦Ÿ",
                        mm: "%d à¦®à¦¿à¦¨à¦¿à¦Ÿ",
                        h: "à¦à¦• à¦˜à¦¨à§à¦Ÿà¦¾",
                        hh: "%d à¦˜à¦¨à§à¦Ÿà¦¾",
                        d: "à¦à¦• à¦¦à¦¿à¦¨",
                        dd: "%d à¦¦à¦¿à¦¨",
                        M: "à¦à¦• à¦®à¦¾à¦¸",
                        MM: "%d à¦®à¦¾à¦¸",
                        y: "à¦à¦• à¦¬à¦›à¦°",
                        yy: "%d à¦¬à¦›à¦°"
                    },
                    preparse: function(e) {
                        return e.replace(/[à§§à§¨à§©à§ªà§«à§¬à§­à§®à§¯à§¦]/g, function(e) {
                            return bn[e]
                        })
                    },
                    postformat: function(e) {
                        return e.replace(/\d/g, function(e) {
                            return gn[e]
                        })
                    },
                    meridiemParse: /à¦°à¦¾à¦¤|à¦¸à¦•à¦¾à¦²|à¦¦à§à¦ªà§à¦°|à¦¬à¦¿à¦•à§‡à¦²|à¦°à¦¾à¦¤/,
                    isPM: function(e) {
                        return /^(à¦¦à§à¦ªà§à¦°|à¦¬à¦¿à¦•à§‡à¦²|à¦°à¦¾à¦¤)$/.test(e)
                    },
                    meridiem: function(e, t, n) {
                        return e < 4 ? "à¦°à¦¾à¦¤" : e < 10 ? "à¦¸à¦•à¦¾à¦²" : e < 17 ? "à¦¦à§à¦ªà§à¦°" : e < 20 ? "à¦¬à¦¿à¦•à§‡à¦²" : "à¦°à¦¾à¦¤"
                    },
                    week: {
                        dow: 0,
                        doy: 6
                    }
                }), {
                    1: "à¼¡",
                    2: "à¼¢",
                    3: "à¼£",
                    4: "à¼¤",
                    5: "à¼¥",
                    6: "à¼¦",
                    7: "à¼§",
                    8: "à¼¨",
                    9: "à¼©",
                    0: "à¼ "
                }),
                yn = {
                    "à¼¡": "1",
                    "à¼¢": "2",
                    "à¼£": "3",
                    "à¼¤": "4",
                    "à¼¥": "5",
                    "à¼¦": "6",
                    "à¼§": "7",
                    "à¼¨": "8",
                    "à¼©": "9",
                    "à¼ ": "0"
                };
            on.defineLocale("bo", {
                months: "à½Ÿà¾³à¼‹à½–à¼‹à½‘à½„à¼‹à½”à½¼_à½Ÿà¾³à¼‹à½–à¼‹à½‚à½‰à½²à½¦à¼‹à½”_à½Ÿà¾³à¼‹à½–à¼‹à½‚à½¦à½´à½˜à¼‹à½”_à½Ÿà¾³à¼‹à½–à¼‹à½–à½žà½²à¼‹à½”_à½Ÿà¾³à¼‹à½–à¼‹à½£à¾”à¼‹à½”_à½Ÿà¾³à¼‹à½–à¼‹à½‘à¾²à½´à½‚à¼‹à½”_à½Ÿà¾³à¼‹à½–à¼‹à½–à½‘à½´à½“à¼‹à½”_à½Ÿà¾³à¼‹à½–à¼‹à½–à½¢à¾’à¾±à½‘à¼‹à½”_à½Ÿà¾³à¼‹à½–à¼‹à½‘à½‚à½´à¼‹à½”_à½Ÿà¾³à¼‹à½–à¼‹à½–à½…à½´à¼‹à½”_à½Ÿà¾³à¼‹à½–à¼‹à½–à½…à½´à¼‹à½‚à½…à½²à½‚à¼‹à½”_à½Ÿà¾³à¼‹à½–à¼‹à½–à½…à½´à¼‹à½‚à½‰à½²à½¦à¼‹à½”".split("_"),
                monthsShort: "à½Ÿà¾³à¼‹à½–à¼‹à½‘à½„à¼‹à½”à½¼_à½Ÿà¾³à¼‹à½–à¼‹à½‚à½‰à½²à½¦à¼‹à½”_à½Ÿà¾³à¼‹à½–à¼‹à½‚à½¦à½´à½˜à¼‹à½”_à½Ÿà¾³à¼‹à½–à¼‹à½–à½žà½²à¼‹à½”_à½Ÿà¾³à¼‹à½–à¼‹à½£à¾”à¼‹à½”_à½Ÿà¾³à¼‹à½–à¼‹à½‘à¾²à½´à½‚à¼‹à½”_à½Ÿà¾³à¼‹à½–à¼‹à½–à½‘à½´à½“à¼‹à½”_à½Ÿà¾³à¼‹à½–à¼‹à½–à½¢à¾’à¾±à½‘à¼‹à½”_à½Ÿà¾³à¼‹à½–à¼‹à½‘à½‚à½´à¼‹à½”_à½Ÿà¾³à¼‹à½–à¼‹à½–à½…à½´à¼‹à½”_à½Ÿà¾³à¼‹à½–à¼‹à½–à½…à½´à¼‹à½‚à½…à½²à½‚à¼‹à½”_à½Ÿà¾³à¼‹à½–à¼‹à½–à½…à½´à¼‹à½‚à½‰à½²à½¦à¼‹à½”".split("_"),
                weekdays: "à½‚à½Ÿà½ à¼‹à½‰à½²à¼‹à½˜à¼‹_à½‚à½Ÿà½ à¼‹à½Ÿà¾³à¼‹à½–à¼‹_à½‚à½Ÿà½ à¼‹à½˜à½²à½‚à¼‹à½‘à½˜à½¢à¼‹_à½‚à½Ÿà½ à¼‹à½£à¾·à½‚à¼‹à½”à¼‹_à½‚à½Ÿà½ à¼‹à½•à½´à½¢à¼‹à½–à½´_à½‚à½Ÿà½ à¼‹à½”à¼‹à½¦à½„à½¦à¼‹_à½‚à½Ÿà½ à¼‹à½¦à¾¤à½ºà½“à¼‹à½”à¼‹".split("_"),
                weekdaysShort: "à½‰à½²à¼‹à½˜à¼‹_à½Ÿà¾³à¼‹à½–à¼‹_à½˜à½²à½‚à¼‹à½‘à½˜à½¢à¼‹_à½£à¾·à½‚à¼‹à½”à¼‹_à½•à½´à½¢à¼‹à½–à½´_à½”à¼‹à½¦à½„à½¦à¼‹_à½¦à¾¤à½ºà½“à¼‹à½”à¼‹".split("_"),
                weekdaysMin: "à½‰à½²à¼‹à½˜à¼‹_à½Ÿà¾³à¼‹à½–à¼‹_à½˜à½²à½‚à¼‹à½‘à½˜à½¢à¼‹_à½£à¾·à½‚à¼‹à½”à¼‹_à½•à½´à½¢à¼‹à½–à½´_à½”à¼‹à½¦à½„à½¦à¼‹_à½¦à¾¤à½ºà½“à¼‹à½”à¼‹".split("_"),
                longDateFormat: {
                    LT: "A h:mm",
                    LTS: "A h:mm:ss",
                    L: "DD/MM/YYYY",
                    LL: "D MMMM YYYY",
                    LLL: "D MMMM YYYY, A h:mm",
                    LLLL: "dddd, D MMMM YYYY, A h:mm"
                },
                calendar: {
                    sameDay: "[à½‘à½²à¼‹à½¢à½²à½„] LT",
                    nextDay: "[à½¦à½„à¼‹à½‰à½²à½“] LT",
                    nextWeek: "[à½–à½‘à½´à½“à¼‹à½•à¾²à½‚à¼‹à½¢à¾—à½ºà½¦à¼‹à½˜], LT",
                    lastDay: "[à½à¼‹à½¦à½„] LT",
                    lastWeek: "[à½–à½‘à½´à½“à¼‹à½•à¾²à½‚à¼‹à½˜à½à½ à¼‹à½˜] dddd, LT",
                    sameElse: "L"
                },
                relativeTime: {
                    future: "%s à½£à¼‹",
                    past: "%s à½¦à¾”à½“à¼‹à½£",
                    s: "à½£à½˜à¼‹à½¦à½„",
                    m: "à½¦à¾à½¢à¼‹à½˜à¼‹à½‚à½…à½²à½‚",
                    mm: "%d à½¦à¾à½¢à¼‹à½˜",
                    h: "à½†à½´à¼‹à½šà½¼à½‘à¼‹à½‚à½…à½²à½‚",
                    hh: "%d à½†à½´à¼‹à½šà½¼à½‘",
                    d: "à½‰à½²à½“à¼‹à½‚à½…à½²à½‚",
                    dd: "%d à½‰à½²à½“à¼‹",
                    M: "à½Ÿà¾³à¼‹à½–à¼‹à½‚à½…à½²à½‚",
                    MM: "%d à½Ÿà¾³à¼‹à½–",
                    y: "à½£à½¼à¼‹à½‚à½…à½²à½‚",
                    yy: "%d à½£à½¼"
                },
                preparse: function(e) {
                    return e.replace(/[à¼¡à¼¢à¼£à¼¤à¼¥à¼¦à¼§à¼¨à¼©à¼ ]/g, function(e) {
                        return yn[e]
                    })
                },
                postformat: function(e) {
                    return e.replace(/\d/g, function(e) {
                        return Sn[e]
                    })
                },
                meridiemParse: /à½˜à½šà½“à¼‹à½˜à½¼|à½žà½¼à½‚à½¦à¼‹à½€à½¦|à½‰à½²à½“à¼‹à½‚à½´à½„|à½‘à½‚à½¼à½„à¼‹à½‘à½‚|à½˜à½šà½“à¼‹à½˜à½¼/,
                isPM: function(e) {
                    return /^(à½‰à½²à½“à¼‹à½‚à½´à½„|à½‘à½‚à½¼à½„à¼‹à½‘à½‚|à½˜à½šà½“à¼‹à½˜à½¼)$/.test(e)
                },
                meridiem: function(e, t, n) {
                    return e < 4 ? "à½˜à½šà½“à¼‹à½˜à½¼" : e < 10 ? "à½žà½¼à½‚à½¦à¼‹à½€à½¦" : e < 17 ? "à½‰à½²à½“à¼‹à½‚à½´à½„" : e < 20 ? "à½‘à½‚à½¼à½„à¼‹à½‘à½‚" : "à½˜à½šà½“à¼‹à½˜à½¼"
                },
                week: {
                    dow: 0,
                    doy: 6
                }
            });
            //! moment.js locale configuration
            //! locale : breton (br)
            //! author : Jean-Baptiste Le Duigou : https://github.com/jbleduigou
            function kn(e, t, n) {
                return e + " " + function(e, t) {
                    if (2 === t) return function(e) {
                        var t = {
                            m: "v",
                            b: "v",
                            d: "z"
                        };
                        if (void 0 === t[e.charAt(0)]) return e;
                        return t[e.charAt(0)] + e.substring(1)
                    }(e);
                    return e
                }({
                    mm: "munutenn",
                    MM: "miz",
                    dd: "devezh"
                }[n], e)
            }
            on.defineLocale("br", {
                months: "Genver_C'hwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),
                monthsShort: "Gen_C'hwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),
                weekdays: "Sul_Lun_Meurzh_Merc'her_Yaou_Gwener_Sadorn".split("_"),
                weekdaysShort: "Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),
                weekdaysMin: "Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),
                longDateFormat: {
                    LT: "h[e]mm A",
                    LTS: "h[e]mm:ss A",
                    L: "DD/MM/YYYY",
                    LL: "D [a viz] MMMM YYYY",
                    LLL: "D [a viz] MMMM YYYY h[e]mm A",
                    LLLL: "dddd, D [a viz] MMMM YYYY h[e]mm A"
                },
                calendar: {
                    sameDay: "[Hiziv da] LT",
                    nextDay: "[Warc'hoazh da] LT",
                    nextWeek: "dddd [da] LT",
                    lastDay: "[Dec'h da] LT",
                    lastWeek: "dddd [paset da] LT",
                    sameElse: "L"
                },
                relativeTime: {
                    future: "a-benn %s",
                    past: "%s 'zo",
                    s: "un nebeud segondennoÃ¹",
                    m: "ur vunutenn",
                    mm: kn,
                    h: "un eur",
                    hh: "%d eur",
                    d: "un devezh",
                    dd: kn,
                    M: "ur miz",
                    MM: kn,
                    y: "ur bloaz",
                    yy: function(e) {
                        switch (function e(t) {
                            return t > 9 ? e(t % 10) : t
                        }(e)) {
                            case 1:
                            case 3:
                            case 4:
                            case 5:
                            case 9:
                                return e + " bloaz";
                            default:
                                return e + " vloaz"
                        }
                    }
                },
                ordinalParse: /\d{1,2}(aÃ±|vet)/,
                ordinal: function(e) {
                    return e + (1 === e ? "aÃ±" : "vet")
                },
                week: {
                    dow: 1,
                    doy: 4
                }
            });
            //! moment.js locale configuration
            //! locale : bosnian (bs)
            //! author : Nedim Cholich : https://github.com/frontyard
            //! based on (hr) translation by Bojan MarkoviÄ‡
            function $n(e, t, n) {
                var i = e + " ";
                switch (n) {
                    case "m":
                        return t ? "jedna minuta" : "jedne minute";
                    case "mm":
                        return i += 1 === e ? "minuta" : 2 === e || 3 === e || 4 === e ? "minute" : "minuta";
                    case "h":
                        return t ? "jedan sat" : "jednog sata";
                    case "hh":
                        return i += 1 === e ? "sat" : 2 === e || 3 === e || 4 === e ? "sata" : "sati";
                    case "dd":
                        return i += 1 === e ? "dan" : "dana";
                    case "MM":
                        return i += 1 === e ? "mjesec" : 2 === e || 3 === e || 4 === e ? "mjeseca" : "mjeseci";
                    case "yy":
                        return i += 1 === e ? "godina" : 2 === e || 3 === e || 4 === e ? "godine" : "godina"
                }
            }
            on.defineLocale("bs", {
                months: "januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),
                monthsShort: "jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),
                weekdays: "nedjelja_ponedjeljak_utorak_srijeda_Äetvrtak_petak_subota".split("_"),
                weekdaysShort: "ned._pon._uto._sri._Äet._pet._sub.".split("_"),
                weekdaysMin: "ne_po_ut_sr_Äe_pe_su".split("_"),
                longDateFormat: {
                    LT: "H:mm",
                    LTS: "H:mm:ss",
                    L: "DD. MM. YYYY",
                    LL: "D. MMMM YYYY",
                    LLL: "D. MMMM YYYY H:mm",
                    LLLL: "dddd, D. MMMM YYYY H:mm"
                },
                calendar: {
                    sameDay: "[danas u] LT",
                    nextDay: "[sutra u] LT",
                    nextWeek: function() {
                        switch (this.day()) {
                            case 0:
                                return "[u] [nedjelju] [u] LT";
                            case 3:
                                return "[u] [srijedu] [u] LT";
                            case 6:
                                return "[u] [subotu] [u] LT";
                            case 1:
                            case 2:
                            case 4:
                            case 5:
                                return "[u] dddd [u] LT"
                        }
                    },
                    lastDay: "[juÄer u] LT",
                    lastWeek: function() {
                        switch (this.day()) {
                            case 0:
                            case 3:
                                return "[proÅ¡lu] dddd [u] LT";
                            case 6:
                                return "[proÅ¡le] [subote] [u] LT";
                            case 1:
                            case 2:
                            case 4:
                            case 5:
                                return "[proÅ¡li] dddd [u] LT"
                        }
                    },
                    sameElse: "L"
                },
                relativeTime: {
                    future: "za %s",
                    past: "prije %s",
                    s: "par sekundi",
                    m: $n,
                    mm: $n,
                    h: $n,
                    hh: $n,
                    d: "dan",
                    dd: $n,
                    M: "mjesec",
                    MM: $n,
                    y: "godinu",
                    yy: $n
                },
                ordinalParse: /\d{1,2}\./,
                ordinal: "%d.",
                week: {
                    dow: 1,
                    doy: 7
                }
            }), on.defineLocale("ca", {
                months: "gener_febrer_marÃ§_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),
                monthsShort: "gen._febr._mar._abr._mai._jun._jul._ag._set._oct._nov._des.".split("_"),
                weekdays: "diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),
                weekdaysShort: "dg._dl._dt._dc._dj._dv._ds.".split("_"),
                weekdaysMin: "Dg_Dl_Dt_Dc_Dj_Dv_Ds".split("_"),
                longDateFormat: {
                    LT: "H:mm",
                    LTS: "LT:ss",
                    L: "DD/MM/YYYY",
                    LL: "D MMMM YYYY",
                    LLL: "D MMMM YYYY H:mm",
                    LLLL: "dddd D MMMM YYYY H:mm"
                },
                calendar: {
                    sameDay: function() {
                        return "[avui a " + (1 !== this.hours() ? "les" : "la") + "] LT"
                    },
                    nextDay: function() {
                        return "[demÃ  a " + (1 !== this.hours() ? "les" : "la") + "] LT"
                    },
                    nextWeek: function() {
                        return "dddd [a " + (1 !== this.hours() ? "les" : "la") + "] LT"
                    },
                    lastDay: function() {
                        return "[ahir a " + (1 !== this.hours() ? "les" : "la") + "] LT"
                    },
                    lastWeek: function() {
                        return "[el] dddd [passat a " + (1 !== this.hours() ? "les" : "la") + "] LT"
                    },
                    sameElse: "L"
                },
                relativeTime: {
                    future: "en %s",
                    past: "fa %s",
                    s: "uns segons",
                    m: "un minut",
                    mm: "%d minuts",
                    h: "una hora",
                    hh: "%d hores",
                    d: "un dia",
                    dd: "%d dies",
                    M: "un mes",
                    MM: "%d mesos",
                    y: "un any",
                    yy: "%d anys"
                },
                ordinalParse: /\d{1,2}(r|n|t|Ã¨|a)/,
                ordinal: function(e, t) {
                    var n = 1 === e ? "r" : 2 === e ? "n" : 3 === e ? "r" : 4 === e ? "t" : "Ã¨";
                    return "w" !== t && "W" !== t || (n = "a"), e + n
                },
                week: {
                    dow: 1,
                    doy: 4
                }
            });
            //! moment.js locale configuration
            //! locale : catalan (ca)
            //! author : Juan G. Hurtado : https://github.com/juanghurtado
            var Mn = "leden_Ãºnor_bÅ™ezen_duben_kvÄ›ten_Äerven_Äervenec_srpen_zÃ¡Å™Ã­_Å™Ã­jen_listopad_prosinec".split("_"),
                wn = "led_Ãºno_bÅ™e_dub_kvÄ›_Ävn_Ävc_srp_zÃ¡Å™_Å™Ã­j_lis_pro".split("_");

            function Dn(e) {
                return e > 1 && e < 5 && 1 != ~~(e / 10)
            }

            function Tn(e, t, n, i) {
                var a = e + " ";
                switch (n) {
                    case "s":
                        return t || i ? "pÃ¡r sekund" : "pÃ¡r sekundami";
                    case "m":
                        return t ? "minuta" : i ? "minutu" : "minutou";
                    case "mm":
                        return t || i ? a + (Dn(e) ? "minuty" : "minut") : a + "minutami";
                    case "h":
                        return t ? "hodina" : i ? "hodinu" : "hodinou";
                    case "hh":
                        return t || i ? a + (Dn(e) ? "hodiny" : "hodin") : a + "hodinami";
                    case "d":
                        return t || i ? "den" : "dnem";
                    case "dd":
                        return t || i ? a + (Dn(e) ? "dny" : "dnÃ­") : a + "dny";
                    case "M":
                        return t || i ? "mÄ›sÃ­c" : "mÄ›sÃ­cem";
                    case "MM":
                        return t || i ? a + (Dn(e) ? "mÄ›sÃ­ce" : "mÄ›sÃ­cÅ¯") : a + "mÄ›sÃ­ci";
                    case "y":
                        return t || i ? "rok" : "rokem";
                    case "yy":
                        return t || i ? a + (Dn(e) ? "roky" : "let") : a + "lety"
                }
            }
            on.defineLocale("cs", {
                months: Mn,
                monthsShort: wn,
                monthsParse: function(e, t) {
                    var n, i = [];
                    for (n = 0; n < 12; n++) i[n] = new RegExp("^" + e[n] + "$|^" + t[n] + "$", "i");
                    return i
                }(Mn, wn),
                weekdays: "nedÄ›le_pondÄ›lÃ­_ÃºterÃ½_stÅ™eda_Ätvrtek_pÃ¡tek_sobota".split("_"),
                weekdaysShort: "ne_po_Ãºt_st_Ät_pÃ¡_so".split("_"),
                weekdaysMin: "ne_po_Ãºt_st_Ät_pÃ¡_so".split("_"),
                longDateFormat: {
                    LT: "H:mm",
                    LTS: "H:mm:ss",
                    L: "DD.MM.YYYY",
                    LL: "D. MMMM YYYY",
                    LLL: "D. MMMM YYYY H:mm",
                    LLLL: "dddd D. MMMM YYYY H:mm"
                },
                calendar: {
                    sameDay: "[dnes v] LT",
                    nextDay: "[zÃ­tra v] LT",
                    nextWeek: function() {
                        switch (this.day()) {
                            case 0:
                                return "[v nedÄ›li v] LT";
                            case 1:
                            case 2:
                                return "[v] dddd [v] LT";
                            case 3:
                                return "[ve stÅ™edu v] LT";
                            case 4:
                                return "[ve Ätvrtek v] LT";
                            case 5:
                                return "[v pÃ¡tek v] LT";
                            case 6:
                                return "[v sobotu v] LT"
                        }
                    },
                    lastDay: "[vÄera v] LT",
                    lastWeek: function() {
                        switch (this.day()) {
                            case 0:
                                return "[minulou nedÄ›li v] LT";
                            case 1:
                            case 2:
                                return "[minulÃ©] dddd [v] LT";
                            case 3:
                                return "[minulou stÅ™edu v] LT";
                            case 4:
                            case 5:
                                return "[minulÃ½] dddd [v] LT";
                            case 6:
                                return "[minulou sobotu v] LT"
                        }
                    },
                    sameElse: "L"
                },
                relativeTime: {
                    future: "za %s",
                    past: "pÅ™ed %s",
                    s: Tn,
                    m: Tn,
                    mm: Tn,
                    h: Tn,
                    hh: Tn,
                    d: Tn,
                    dd: Tn,
                    M: Tn,
                    MM: Tn,
                    y: Tn,
                    yy: Tn
                },
                ordinalParse: /\d{1,2}\./,
                ordinal: "%d.",
                week: {
                    dow: 1,
                    doy: 4
                }
            }), on.defineLocale("cv", {
                months: "ÐºÓ‘Ñ€Ð»Ð°Ñ‡_Ð½Ð°Ñ€Ó‘Ñ_Ð¿ÑƒÑˆ_Ð°ÐºÐ°_Ð¼Ð°Ð¹_Ò«Ó—Ñ€Ñ‚Ð¼Ðµ_ÑƒÑ‚Ó‘_Ò«ÑƒÑ€Ð»Ð°_Ð°Ð²Ó‘Ð½_ÑŽÐ¿Ð°_Ñ‡Ó³Ðº_Ñ€Ð°ÑˆÑ‚Ð°Ð²".split("_"),
                monthsShort: "ÐºÓ‘Ñ€_Ð½Ð°Ñ€_Ð¿ÑƒÑˆ_Ð°ÐºÐ°_Ð¼Ð°Ð¹_Ò«Ó—Ñ€_ÑƒÑ‚Ó‘_Ò«ÑƒÑ€_Ð°Ð²Ð½_ÑŽÐ¿Ð°_Ñ‡Ó³Ðº_Ñ€Ð°Ñˆ".split("_"),
                weekdays: "Ð²Ñ‹Ñ€ÑÐ°Ñ€Ð½Ð¸ÐºÑƒÐ½_Ñ‚ÑƒÐ½Ñ‚Ð¸ÐºÑƒÐ½_Ñ‹Ñ‚Ð»Ð°Ñ€Ð¸ÐºÑƒÐ½_ÑŽÐ½ÐºÑƒÐ½_ÐºÓ—Ò«Ð½ÐµÑ€Ð½Ð¸ÐºÑƒÐ½_ÑÑ€Ð½ÐµÐºÑƒÐ½_ÑˆÓ‘Ð¼Ð°Ñ‚ÐºÑƒÐ½".split("_"),
                weekdaysShort: "Ð²Ñ‹Ñ€_Ñ‚ÑƒÐ½_Ñ‹Ñ‚Ð»_ÑŽÐ½_ÐºÓ—Ò«_ÑÑ€Ð½_ÑˆÓ‘Ð¼".split("_"),
                weekdaysMin: "Ð²Ñ€_Ñ‚Ð½_Ñ‹Ñ‚_ÑŽÐ½_ÐºÒ«_ÑÑ€_ÑˆÐ¼".split("_"),
                longDateFormat: {
                    LT: "HH:mm",
                    LTS: "HH:mm:ss",
                    L: "DD-MM-YYYY",
                    LL: "YYYY [Ò«ÑƒÐ»Ñ…Ð¸] MMMM [ÑƒÐ¹Ó‘Ñ…Ó—Ð½] D[-Ð¼Ó—ÑˆÓ—]",
                    LLL: "YYYY [Ò«ÑƒÐ»Ñ…Ð¸] MMMM [ÑƒÐ¹Ó‘Ñ…Ó—Ð½] D[-Ð¼Ó—ÑˆÓ—], HH:mm",
                    LLLL: "dddd, YYYY [Ò«ÑƒÐ»Ñ…Ð¸] MMMM [ÑƒÐ¹Ó‘Ñ…Ó—Ð½] D[-Ð¼Ó—ÑˆÓ—], HH:mm"
                },
                calendar: {
                    sameDay: "[ÐŸÐ°ÑÐ½] LT [ÑÐµÑ…ÐµÑ‚Ñ€Ðµ]",
                    nextDay: "[Ð«Ñ€Ð°Ð½] LT [ÑÐµÑ…ÐµÑ‚Ñ€Ðµ]",
                    lastDay: "[Ó–Ð½ÐµÑ€] LT [ÑÐµÑ…ÐµÑ‚Ñ€Ðµ]",
                    nextWeek: "[ÒªÐ¸Ñ‚ÐµÑ] dddd LT [ÑÐµÑ…ÐµÑ‚Ñ€Ðµ]",
                    lastWeek: "[Ð˜Ñ€Ñ‚Ð½Ó—] dddd LT [ÑÐµÑ…ÐµÑ‚Ñ€Ðµ]",
                    sameElse: "L"
                },
                relativeTime: {
                    future: function(e) {
                        return e + (/ÑÐµÑ…ÐµÑ‚$/i.exec(e) ? "Ñ€ÐµÐ½" : /Ò«ÑƒÐ»$/i.exec(e) ? "Ñ‚Ð°Ð½" : "Ñ€Ð°Ð½")
                    },
                    past: "%s ÐºÐ°ÑÐ»Ð»Ð°",
                    s: "Ð¿Ó—Ñ€-Ð¸Ðº Ò«ÐµÐºÐºÑƒÐ½Ñ‚",
                    m: "Ð¿Ó—Ñ€ Ð¼Ð¸Ð½ÑƒÑ‚",
                    mm: "%d Ð¼Ð¸Ð½ÑƒÑ‚",
                    h: "Ð¿Ó—Ñ€ ÑÐµÑ…ÐµÑ‚",
                    hh: "%d ÑÐµÑ…ÐµÑ‚",
                    d: "Ð¿Ó—Ñ€ ÐºÑƒÐ½",
                    dd: "%d ÐºÑƒÐ½",
                    M: "Ð¿Ó—Ñ€ ÑƒÐ¹Ó‘Ñ…",
                    MM: "%d ÑƒÐ¹Ó‘Ñ…",
                    y: "Ð¿Ó—Ñ€ Ò«ÑƒÐ»",
                    yy: "%d Ò«ÑƒÐ»"
                },
                ordinalParse: /\d{1,2}-Ð¼Ó—Ñˆ/,
                ordinal: "%d-Ð¼Ó—Ñˆ",
                week: {
                    dow: 1,
                    doy: 7
                }
            }), on.defineLocale("cy", {
                months: "Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),
                monthsShort: "Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),
                weekdays: "Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),
                weekdaysShort: "Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),
                weekdaysMin: "Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),
                longDateFormat: {
                    LT: "HH:mm",
                    LTS: "HH:mm:ss",
                    L: "DD/MM/YYYY",
                    LL: "D MMMM YYYY",
                    LLL: "D MMMM YYYY HH:mm",
                    LLLL: "dddd, D MMMM YYYY HH:mm"
                },
                calendar: {
                    sameDay: "[Heddiw am] LT",
                    nextDay: "[Yfory am] LT",
                    nextWeek: "dddd [am] LT",
                    lastDay: "[Ddoe am] LT",
                    lastWeek: "dddd [diwethaf am] LT",
                    sameElse: "L"
                },
                relativeTime: {
                    future: "mewn %s",
                    past: "%s yn Ã´l",
                    s: "ychydig eiliadau",
                    m: "munud",
                    mm: "%d munud",
                    h: "awr",
                    hh: "%d awr",
                    d: "diwrnod",
                    dd: "%d diwrnod",
                    M: "mis",
                    MM: "%d mis",
                    y: "blwyddyn",
                    yy: "%d flynedd"
                },
                ordinalParse: /\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,
                ordinal: function(e) {
                    var t = "";
                    return e > 20 ? t = 40 === e || 50 === e || 60 === e || 80 === e || 100 === e ? "fed" : "ain" : e > 0 && (t = ["", "af", "il", "ydd", "ydd", "ed", "ed", "ed", "fed", "fed", "fed", "eg", "fed", "eg", "eg", "fed", "eg", "eg", "fed", "eg", "fed"][e]), e + t
                },
                week: {
                    dow: 1,
                    doy: 4
                }
            }), on.defineLocale("da", {
                months: "januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),
                monthsShort: "jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),
                weekdays: "sÃ¸ndag_mandag_tirsdag_onsdag_torsdag_fredag_lÃ¸rdag".split("_"),
                weekdaysShort: "sÃ¸n_man_tir_ons_tor_fre_lÃ¸r".split("_"),
                weekdaysMin: "sÃ¸_ma_ti_on_to_fr_lÃ¸".split("_"),
                longDateFormat: {
                    LT: "HH:mm",
                    LTS: "HH:mm:ss",
                    L: "DD/MM/YYYY",
                    LL: "D. MMMM YYYY",
                    LLL: "D. MMMM YYYY HH:mm",
                    LLLL: "dddd [d.] D. MMMM YYYY HH:mm"
                },
                calendar: {
                    sameDay: "[I dag kl.] LT",
                    nextDay: "[I morgen kl.] LT",
                    nextWeek: "dddd [kl.] LT",
                    lastDay: "[I gÃ¥r kl.] LT",
                    lastWeek: "[sidste] dddd [kl] LT",
                    sameElse: "L"
                },
                relativeTime: {
                    future: "om %s",
                    past: "%s siden",
                    s: "fÃ¥ sekunder",
                    m: "et minut",
                    mm: "%d minutter",
                    h: "en time",
                    hh: "%d timer",
                    d: "en dag",
                    dd: "%d dage",
                    M: "en mÃ¥ned",
                    MM: "%d mÃ¥neder",
                    y: "et Ã¥r",
                    yy: "%d Ã¥r"
                },
                ordinalParse: /\d{1,2}\./,
                ordinal: "%d.",
                week: {
                    dow: 1,
                    doy: 4
                }
            });
            //! moment.js locale configuration
            //! locale : chuvash (cv)
            //! author : Anatoly Mironov : https://github.com/mirontoli
            //! moment.js locale configuration
            //! locale : austrian german (de-at)
            //! author : lluchs : https://github.com/lluchs
            //! author: Menelion ElensÃºle: https://github.com/Oire
            //! author : Martin Groller : https://github.com/MadMG
            function Cn(e, t, n, i) {
                var a = {
                    m: ["eine Minute", "einer Minute"],
                    h: ["eine Stunde", "einer Stunde"],
                    d: ["ein Tag", "einem Tag"],
                    dd: [e + " Tage", e + " Tagen"],
                    M: ["ein Monat", "einem Monat"],
                    MM: [e + " Monate", e + " Monaten"],
                    y: ["ein Jahr", "einem Jahr"],
                    yy: [e + " Jahre", e + " Jahren"]
                };
                return t ? a[n][0] : a[n][1]
            }
            on.defineLocale("de-at", {
                months: "JÃ¤nner_Februar_MÃ¤rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),
                monthsShort: "JÃ¤n._Febr._Mrz._Apr._Mai_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),
                weekdays: "Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),
                weekdaysShort: "So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),
                weekdaysMin: "So_Mo_Di_Mi_Do_Fr_Sa".split("_"),
                longDateFormat: {
                    LT: "HH:mm",
                    LTS: "HH:mm:ss",
                    L: "DD.MM.YYYY",
                    LL: "D. MMMM YYYY",
                    LLL: "D. MMMM YYYY HH:mm",
                    LLLL: "dddd, D. MMMM YYYY HH:mm"
                },
                calendar: {
                    sameDay: "[Heute um] LT [Uhr]",
                    sameElse: "L",
                    nextDay: "[Morgen um] LT [Uhr]",
                    nextWeek: "dddd [um] LT [Uhr]",
                    lastDay: "[Gestern um] LT [Uhr]",
                    lastWeek: "[letzten] dddd [um] LT [Uhr]"
                },
                relativeTime: {
                    future: "in %s",
                    past: "vor %s",
                    s: "ein paar Sekunden",
                    m: Cn,
                    mm: "%d Minuten",
                    h: Cn,
                    hh: "%d Stunden",
                    d: Cn,
                    dd: Cn,
                    M: Cn,
                    MM: Cn,
                    y: Cn,
                    yy: Cn
                },
                ordinalParse: /\d{1,2}\./,
                ordinal: "%d.",
                week: {
                    dow: 1,
                    doy: 4
                }
            });
            //! moment.js locale configuration
            //! locale : german (de)
            //! author : lluchs : https://github.com/lluchs
            //! author: Menelion ElensÃºle: https://github.com/Oire
            function Pn(e, t, n, i) {
                var a = {
                    m: ["eine Minute", "einer Minute"],
                    h: ["eine Stunde", "einer Stunde"],
                    d: ["ein Tag", "einem Tag"],
                    dd: [e + " Tage", e + " Tagen"],
                    M: ["ein Monat", "einem Monat"],
                    MM: [e + " Monate", e + " Monaten"],
                    y: ["ein Jahr", "einem Jahr"],
                    yy: [e + " Jahre", e + " Jahren"]
                };
                return t ? a[n][0] : a[n][1]
            }
            on.defineLocale("de", {
                months: "Januar_Februar_MÃ¤rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),
                monthsShort: "Jan._Febr._Mrz._Apr._Mai_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),
                weekdays: "Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),
                weekdaysShort: "So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),
                weekdaysMin: "So_Mo_Di_Mi_Do_Fr_Sa".split("_"),
                longDateFormat: {
                    LT: "HH:mm",
                    LTS: "HH:mm:ss",
                    L: "DD.MM.YYYY",
                    LL: "D. MMMM YYYY",
                    LLL: "D. MMMM YYYY HH:mm",
                    LLLL: "dddd, D. MMMM YYYY HH:mm"
                },
                calendar: {
                    sameDay: "[Heute um] LT [Uhr]",
                    sameElse: "L",
                    nextDay: "[Morgen um] LT [Uhr]",
                    nextWeek: "dddd [um] LT [Uhr]",
                    lastDay: "[Gestern um] LT [Uhr]",
                    lastWeek: "[letzten] dddd [um] LT [Uhr]"
                },
                relativeTime: {
                    future: "in %s",
                    past: "vor %s",
                    s: "ein paar Sekunden",
                    m: Pn,
                    mm: "%d Minuten",
                    h: Pn,
                    hh: "%d Stunden",
                    d: Pn,
                    dd: Pn,
                    M: Pn,
                    MM: Pn,
                    y: Pn,
                    yy: Pn
                },
                ordinalParse: /\d{1,2}\./,
                ordinal: "%d.",
                week: {
                    dow: 1,
                    doy: 4
                }
            }), on.defineLocale("el", {
                monthsNominativeEl: "Î™Î±Î½Î¿Ï…Î¬ÏÎ¹Î¿Ï‚_Î¦ÎµÎ²ÏÎ¿Ï…Î¬ÏÎ¹Î¿Ï‚_ÎœÎ¬ÏÏ„Î¹Î¿Ï‚_Î‘Ï€ÏÎ¯Î»Î¹Î¿Ï‚_ÎœÎ¬Î¹Î¿Ï‚_Î™Î¿ÏÎ½Î¹Î¿Ï‚_Î™Î¿ÏÎ»Î¹Î¿Ï‚_Î‘ÏÎ³Î¿Ï…ÏƒÏ„Î¿Ï‚_Î£ÎµÏ€Ï„Î­Î¼Î²ÏÎ¹Î¿Ï‚_ÎŸÎºÏ„ÏŽÎ²ÏÎ¹Î¿Ï‚_ÎÎ¿Î­Î¼Î²ÏÎ¹Î¿Ï‚_Î”ÎµÎºÎ­Î¼Î²ÏÎ¹Î¿Ï‚".split("_"),
                monthsGenitiveEl: "Î™Î±Î½Î¿Ï…Î±ÏÎ¯Î¿Ï…_Î¦ÎµÎ²ÏÎ¿Ï…Î±ÏÎ¯Î¿Ï…_ÎœÎ±ÏÏ„Î¯Î¿Ï…_Î‘Ï€ÏÎ¹Î»Î¯Î¿Ï…_ÎœÎ±ÎÎ¿Ï…_Î™Î¿Ï…Î½Î¯Î¿Ï…_Î™Î¿Ï…Î»Î¯Î¿Ï…_Î‘Ï…Î³Î¿ÏÏƒÏ„Î¿Ï…_Î£ÎµÏ€Ï„ÎµÎ¼Î²ÏÎ¯Î¿Ï…_ÎŸÎºÏ„Ï‰Î²ÏÎ¯Î¿Ï…_ÎÎ¿ÎµÎ¼Î²ÏÎ¯Î¿Ï…_Î”ÎµÎºÎµÎ¼Î²ÏÎ¯Î¿Ï…".split("_"),
                months: function(e, t) {
                    return /D/.test(t.substring(0, t.indexOf("MMMM"))) ? this._monthsGenitiveEl[e.month()] : this._monthsNominativeEl[e.month()]
                },
                monthsShort: "Î™Î±Î½_Î¦ÎµÎ²_ÎœÎ±Ï_Î‘Ï€Ï_ÎœÎ±ÏŠ_Î™Î¿Ï…Î½_Î™Î¿Ï…Î»_Î‘Ï…Î³_Î£ÎµÏ€_ÎŸÎºÏ„_ÎÎ¿Îµ_Î”ÎµÎº".split("_"),
                weekdays: "ÎšÏ…ÏÎ¹Î±ÎºÎ®_Î”ÎµÏ…Ï„Î­ÏÎ±_Î¤ÏÎ¯Ï„Î·_Î¤ÎµÏ„Î¬ÏÏ„Î·_Î Î­Î¼Ï€Ï„Î·_Î Î±ÏÎ±ÏƒÎºÎµÏ…Î®_Î£Î¬Î²Î²Î±Ï„Î¿".split("_"),
                weekdaysShort: "ÎšÏ…Ï_Î”ÎµÏ…_Î¤ÏÎ¹_Î¤ÎµÏ„_Î ÎµÎ¼_Î Î±Ï_Î£Î±Î²".split("_"),
                weekdaysMin: "ÎšÏ…_Î”Îµ_Î¤Ï_Î¤Îµ_Î Îµ_Î Î±_Î£Î±".split("_"),
                meridiem: function(e, t, n) {
                    return e > 11 ? n ? "Î¼Î¼" : "ÎœÎœ" : n ? "Ï€Î¼" : "Î Îœ"
                },
                isPM: function(e) {
                    return "Î¼" === (e + "").toLowerCase()[0]
                },
                meridiemParse: /[Î Îœ]\.?Îœ?\.?/i,
                longDateFormat: {
                    LT: "h:mm A",
                    LTS: "h:mm:ss A",
                    L: "DD/MM/YYYY",
                    LL: "D MMMM YYYY",
                    LLL: "D MMMM YYYY h:mm A",
                    LLLL: "dddd, D MMMM YYYY h:mm A"
                },
                calendarEl: {
                    sameDay: "[Î£Î®Î¼ÎµÏÎ± {}] LT",
                    nextDay: "[Î‘ÏÏÎ¹Î¿ {}] LT",
                    nextWeek: "dddd [{}] LT",
                    lastDay: "[Î§Î¸ÎµÏ‚ {}] LT",
                    lastWeek: function() {
                        switch (this.day()) {
                            case 6:
                                return "[Ï„Î¿ Ï€ÏÎ¿Î·Î³Î¿ÏÎ¼ÎµÎ½Î¿] dddd [{}] LT";
                            default:
                                return "[Ï„Î·Î½ Ï€ÏÎ¿Î·Î³Î¿ÏÎ¼ÎµÎ½Î·] dddd [{}] LT"
                        }
                    },
                    sameElse: "L"
                },
                calendar: function(e, t) {
                    var n = this._calendarEl[e],
                        i = t && t.hours();
                    return "function" == typeof n && (n = n.apply(t)), n.replace("{}", i % 12 == 1 ? "ÏƒÏ„Î·" : "ÏƒÏ„Î¹Ï‚")
                },
                relativeTime: {
                    future: "ÏƒÎµ %s",
                    past: "%s Ï€ÏÎ¹Î½",
                    s: "Î»Î¯Î³Î± Î´ÎµÏ…Ï„ÎµÏÏŒÎ»ÎµÏ€Ï„Î±",
                    m: "Î­Î½Î± Î»ÎµÏ€Ï„ÏŒ",
                    mm: "%d Î»ÎµÏ€Ï„Î¬",
                    h: "Î¼Î¯Î± ÏŽÏÎ±",
                    hh: "%d ÏŽÏÎµÏ‚",
                    d: "Î¼Î¯Î± Î¼Î­ÏÎ±",
                    dd: "%d Î¼Î­ÏÎµÏ‚",
                    M: "Î­Î½Î±Ï‚ Î¼Î®Î½Î±Ï‚",
                    MM: "%d Î¼Î®Î½ÎµÏ‚",
                    y: "Î­Î½Î±Ï‚ Ï‡ÏÏŒÎ½Î¿Ï‚",
                    yy: "%d Ï‡ÏÏŒÎ½Î¹Î±"
                },
                ordinalParse: /\d{1,2}Î·/,
                ordinal: "%dÎ·",
                week: {
                    dow: 1,
                    doy: 4
                }
            }), on.defineLocale("en-au", {
                months: "January_February_March_April_May_June_July_August_September_October_November_December".split("_"),
                monthsShort: "Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),
                weekdays: "Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),
                weekdaysShort: "Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),
                weekdaysMin: "Su_Mo_Tu_We_Th_Fr_Sa".split("_"),
                longDateFormat: {
                    LT: "h:mm A",
                    LTS: "h:mm:ss A",
                    L: "DD/MM/YYYY",
                    LL: "D MMMM YYYY",
                    LLL: "D MMMM YYYY h:mm A",
                    LLLL: "dddd, D MMMM YYYY h:mm A"
                },
                calendar: {
                    sameDay: "[Today at] LT",
                    nextDay: "[Tomorrow at] LT",
                    nextWeek: "dddd [at] LT",
                    lastDay: "[Yesterday at] LT",
                    lastWeek: "[Last] dddd [at] LT",
                    sameElse: "L"
                },
                relativeTime: {
                    future: "in %s",
                    past: "%s ago",
                    s: "a few seconds",
                    m: "a minute",
                    mm: "%d minutes",
                    h: "an hour",
                    hh: "%d hours",
                    d: "a day",
                    dd: "%d days",
                    M: "a month",
                    MM: "%d months",
                    y: "a year",
                    yy: "%d years"
                },
                ordinalParse: /\d{1,2}(st|nd|rd|th)/,
                ordinal: function(e) {
                    var t = e % 10;
                    return e + (1 == ~~(e % 100 / 10) ? "th" : 1 === t ? "st" : 2 === t ? "nd" : 3 === t ? "rd" : "th")
                },
                week: {
                    dow: 1,
                    doy: 4
                }
            }), on.defineLocale("en-ca", {
                months: "January_February_March_April_May_June_July_August_September_October_November_December".split("_"),
                monthsShort: "Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),
                weekdays: "Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),
                weekdaysShort: "Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),
                weekdaysMin: "Su_Mo_Tu_We_Th_Fr_Sa".split("_"),
                longDateFormat: {
                    LT: "h:mm A",
                    LTS: "h:mm:ss A",
                    L: "YYYY-MM-DD",
                    LL: "D MMMM, YYYY",
                    LLL: "D MMMM, YYYY h:mm A",
                    LLLL: "dddd, D MMMM, YYYY h:mm A"
                },
                calendar: {
                    sameDay: "[Today at] LT",
                    nextDay: "[Tomorrow at] LT",
                    nextWeek: "dddd [at] LT",
                    lastDay: "[Yesterday at] LT",
                    lastWeek: "[Last] dddd [at] LT",
                    sameElse: "L"
                },
                relativeTime: {
                    future: "in %s",
                    past: "%s ago",
                    s: "a few seconds",
                    m: "a minute",
                    mm: "%d minutes",
                    h: "an hour",
                    hh: "%d hours",
                    d: "a day",
                    dd: "%d days",
                    M: "a month",
                    MM: "%d months",
                    y: "a year",
                    yy: "%d years"
                },
                ordinalParse: /\d{1,2}(st|nd|rd|th)/,
                ordinal: function(e) {
                    var t = e % 10;
                    return e + (1 == ~~(e % 100 / 10) ? "th" : 1 === t ? "st" : 2 === t ? "nd" : 3 === t ? "rd" : "th")
                }
            }), on.defineLocale("en-gb", {
                months: "January_February_March_April_May_June_July_August_September_October_November_December".split("_"),
                monthsShort: "Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),
                weekdays: "Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),
                weekdaysShort: "Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),
                weekdaysMin: "Su_Mo_Tu_We_Th_Fr_Sa".split("_"),
                longDateFormat: {
                    LT: "HH:mm",
                    LTS: "HH:mm:ss",
                    L: "DD/MM/YYYY",
                    LL: "D MMMM YYYY",
                    LLL: "D MMMM YYYY HH:mm",
                    LLLL: "dddd, D MMMM YYYY HH:mm"
                },
                calendar: {
                    sameDay: "[Today at] LT",
                    nextDay: "[Tomorrow at] LT",
                    nextWeek: "dddd [at] LT",
                    lastDay: "[Yesterday at] LT",
                    lastWeek: "[Last] dddd [at] LT",
                    sameElse: "L"
                },
                relativeTime: {
                    future: "in %s",
                    past: "%s ago",
                    s: "a few seconds",
                    m: "a minute",
                    mm: "%d minutes",
                    h: "an hour",
                    hh: "%d hours",
                    d: "a day",
                    dd: "%d days",
                    M: "a month",
                    MM: "%d months",
                    y: "a year",
                    yy: "%d years"
                },
                ordinalParse: /\d{1,2}(st|nd|rd|th)/,
                ordinal: function(e) {
                    var t = e % 10;
                    return e + (1 == ~~(e % 100 / 10) ? "th" : 1 === t ? "st" : 2 === t ? "nd" : 3 === t ? "rd" : "th")
                },
                week: {
                    dow: 1,
                    doy: 4
                }
            }), on.defineLocale("eo", {
                months: "januaro_februaro_marto_aprilo_majo_junio_julio_aÅ­gusto_septembro_oktobro_novembro_decembro".split("_"),
                monthsShort: "jan_feb_mar_apr_maj_jun_jul_aÅ­g_sep_okt_nov_dec".split("_"),
                weekdays: "DimanÄ‰o_Lundo_Mardo_Merkredo_Ä´aÅ­do_Vendredo_Sabato".split("_"),
                weekdaysShort: "Dim_Lun_Mard_Merk_Ä´aÅ­_Ven_Sab".split("_"),
                weekdaysMin: "Di_Lu_Ma_Me_Ä´a_Ve_Sa".split("_"),
                longDateFormat: {
                    LT: "HH:mm",
                    LTS: "HH:mm:ss",
                    L: "YYYY-MM-DD",
                    LL: "D[-an de] MMMM, YYYY",
                    LLL: "D[-an de] MMMM, YYYY HH:mm",
                    LLLL: "dddd, [la] D[-an de] MMMM, YYYY HH:mm"
                },
                meridiemParse: /[ap]\.t\.m/i,
                isPM: function(e) {
                    return "p" === e.charAt(0).toLowerCase()
                },
                meridiem: function(e, t, n) {
                    return e > 11 ? n ? "p.t.m." : "P.T.M." : n ? "a.t.m." : "A.T.M."
                },
                calendar: {
                    sameDay: "[HodiaÅ­ je] LT",
                    nextDay: "[MorgaÅ­ je] LT",
                    nextWeek: "dddd [je] LT",
                    lastDay: "[HieraÅ­ je] LT",
                    lastWeek: "[pasinta] dddd [je] LT",
                    sameElse: "L"
                },
                relativeTime: {
                    future: "je %s",
                    past: "antaÅ­ %s",
                    s: "sekundoj",
                    m: "minuto",
                    mm: "%d minutoj",
                    h: "horo",
                    hh: "%d horoj",
                    d: "tago",
                    dd: "%d tagoj",
                    M: "monato",
                    MM: "%d monatoj",
                    y: "jaro",
                    yy: "%d jaroj"
                },
                ordinalParse: /\d{1,2}a/,
                ordinal: "%da",
                week: {
                    dow: 1,
                    doy: 7
                }
            });
            //! moment.js locale configuration
            //! locale : modern greek (el)
            //! author : Aggelos Karalias : https://github.com/mehiel
            var Ln = "Ene._Feb._Mar._Abr._May._Jun._Jul._Ago._Sep._Oct._Nov._Dic.".split("_"),
                xn = "Ene_Feb_Mar_Abr_May_Jun_Jul_Ago_Sep_Oct_Nov_Dic".split("_");
            on.defineLocale("es", {
                months: "Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),
                monthsShort: function(e, t) {
                    return /-MMM-/.test(t) ? xn[e.month()] : Ln[e.month()]
                },
                weekdays: "Domingo_Lunes_Martes_MiÃ©rcoles_Jueves_Viernes_SÃ¡bado".split("_"),
                weekdaysShort: "Dom._Lun._Mar._MiÃ©._Jue._Vie._SÃ¡b.".split("_"),
                weekdaysMin: "Do_Lu_Ma_Mi_Ju_Vi_SÃ¡".split("_"),
                longDateFormat: {
                    LT: "H:mm",
                    LTS: "H:mm:ss",
                    L: "DD/MM/YYYY",
                    LL: "D [de] MMMM [de] YYYY",
                    LLL: "D [de] MMMM [de] YYYY H:mm",
                    LLLL: "dddd, D [de] MMMM [de] YYYY H:mm"
                },
                calendar: {
                    sameDay: function() {
                        return "[hoy a la" + (1 !== this.hours() ? "s" : "") + "] LT"
                    },
                    nextDay: function() {
                        return "[maÃ±ana a la" + (1 !== this.hours() ? "s" : "") + "] LT"
                    },
                    nextWeek: function() {
                        return "dddd [a la" + (1 !== this.hours() ? "s" : "") + "] LT"
                    },
                    lastDay: function() {
                        return "[ayer a la" + (1 !== this.hours() ? "s" : "") + "] LT"
                    },
                    lastWeek: function() {
                        return "[el] dddd [pasado a la" + (1 !== this.hours() ? "s" : "") + "] LT"
                    },
                    sameElse: "L"
                },
                relativeTime: {
                    future: "en %s",
                    past: "hace %s",
                    s: "unos segundos",
                    m: "un minuto",
                    mm: "%d minutos",
                    h: "una hora",
                    hh: "%d horas",
                    d: "un dÃ­a",
                    dd: "%d dÃ­as",
                    M: "un mes",
                    MM: "%d meses",
                    y: "un aÃ±o",
                    yy: "%d aÃ±os"
                },
                ordinalParse: /\d{1,2}Âº/,
                ordinal: "%dÂº",
                week: {
                    dow: 1,
                    doy: 4
                }
            });
            //! moment.js locale configuration
            //! locale : estonian (et)
            //! author : Henry Kehlmann : https://github.com/madhenry
            //! improvements : Illimar Tambek : https://github.com/ragulka
            function jn(e, t, n, i) {
                var a = {
                    s: ["mÃµne sekundi", "mÃµni sekund", "paar sekundit"],
                    m: ["Ã¼he minuti", "Ã¼ks minut"],
                    mm: [e + " minuti", e + " minutit"],
                    h: ["Ã¼he tunni", "tund aega", "Ã¼ks tund"],
                    hh: [e + " tunni", e + " tundi"],
                    d: ["Ã¼he pÃ¤eva", "Ã¼ks pÃ¤ev"],
                    M: ["kuu aja", "kuu aega", "Ã¼ks kuu"],
                    MM: [e + " kuu", e + " kuud"],
                    y: ["Ã¼he aasta", "aasta", "Ã¼ks aasta"],
                    yy: [e + " aasta", e + " aastat"]
                };
                return t ? a[n][2] ? a[n][2] : a[n][1] : i ? a[n][0] : a[n][1]
            }
            on.defineLocale("et", {
                months: "jaanuar_veebruar_mÃ¤rts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),
                monthsShort: "jaan_veebr_mÃ¤rts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),
                weekdays: "pÃ¼hapÃ¤ev_esmaspÃ¤ev_teisipÃ¤ev_kolmapÃ¤ev_neljapÃ¤ev_reede_laupÃ¤ev".split("_"),
                weekdaysShort: "P_E_T_K_N_R_L".split("_"),
                weekdaysMin: "P_E_T_K_N_R_L".split("_"),
                longDateFormat: {
                    LT: "H:mm",
                    LTS: "H:mm:ss",
                    L: "DD.MM.YYYY",
                    LL: "D. MMMM YYYY",
                    LLL: "D. MMMM YYYY H:mm",
                    LLLL: "dddd, D. MMMM YYYY H:mm"
                },
                calendar: {
                    sameDay: "[TÃ¤na,] LT",
                    nextDay: "[Homme,] LT",
                    nextWeek: "[JÃ¤rgmine] dddd LT",
                    lastDay: "[Eile,] LT",
                    lastWeek: "[Eelmine] dddd LT",
                    sameElse: "L"
                },
                relativeTime: {
                    future: "%s pÃ¤rast",
                    past: "%s tagasi",
                    s: jn,
                    m: jn,
                    mm: jn,
                    h: jn,
                    hh: jn,
                    d: jn,
                    dd: "%d pÃ¤eva",
                    M: jn,
                    MM: jn,
                    y: jn,
                    yy: jn
                },
                ordinalParse: /\d{1,2}\./,
                ordinal: "%d.",
                week: {
                    dow: 1,
                    doy: 4
                }
            }), on.defineLocale("eu", {
                months: "urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),
                monthsShort: "urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),
                weekdays: "igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),
                weekdaysShort: "ig._al._ar._az._og._ol._lr.".split("_"),
                weekdaysMin: "ig_al_ar_az_og_ol_lr".split("_"),
                longDateFormat: {
                    LT: "HH:mm",
                    LTS: "HH:mm:ss",
                    L: "YYYY-MM-DD",
                    LL: "YYYY[ko] MMMM[ren] D[a]",
                    LLL: "YYYY[ko] MMMM[ren] D[a] HH:mm",
                    LLLL: "dddd, YYYY[ko] MMMM[ren] D[a] HH:mm",
                    l: "YYYY-M-D",
                    ll: "YYYY[ko] MMM D[a]",
                    lll: "YYYY[ko] MMM D[a] HH:mm",
                    llll: "ddd, YYYY[ko] MMM D[a] HH:mm"
                },
                calendar: {
                    sameDay: "[gaur] LT[etan]",
                    nextDay: "[bihar] LT[etan]",
                    nextWeek: "dddd LT[etan]",
                    lastDay: "[atzo] LT[etan]",
                    lastWeek: "[aurreko] dddd LT[etan]",
                    sameElse: "L"
                },
                relativeTime: {
                    future: "%s barru",
                    past: "duela %s",
                    s: "segundo batzuk",
                    m: "minutu bat",
                    mm: "%d minutu",
                    h: "ordu bat",
                    hh: "%d ordu",
                    d: "egun bat",
                    dd: "%d egun",
                    M: "hilabete bat",
                    MM: "%d hilabete",
                    y: "urte bat",
                    yy: "%d urte"
                },
                ordinalParse: /\d{1,2}\./,
                ordinal: "%d.",
                week: {
                    dow: 1,
                    doy: 7
                }
            });
            //! moment.js locale configuration
            //! locale : euskara (eu)
            //! author : Eneko Illarramendi : https://github.com/eillarra
            var In = {
                    1: "Û±",
                    2: "Û²",
                    3: "Û³",
                    4: "Û´",
                    5: "Ûµ",
                    6: "Û¶",
                    7: "Û·",
                    8: "Û¸",
                    9: "Û¹",
                    0: "Û°"
                },
                An = {
                    "Û±": "1",
                    "Û²": "2",
                    "Û³": "3",
                    "Û´": "4",
                    "Ûµ": "5",
                    "Û¶": "6",
                    "Û·": "7",
                    "Û¸": "8",
                    "Û¹": "9",
                    "Û°": "0"
                },
                En = (on.defineLocale("fa", {
                    months: "Ú˜Ø§Ù†ÙˆÛŒÙ‡_ÙÙˆØ±ÛŒÙ‡_Ù…Ø§Ø±Ø³_Ø¢ÙˆØ±ÛŒÙ„_Ù…Ù‡_Ú˜ÙˆØ¦Ù†_Ú˜ÙˆØ¦ÛŒÙ‡_Ø§ÙˆØª_Ø³Ù¾ØªØ§Ù…Ø¨Ø±_Ø§Ú©ØªØ¨Ø±_Ù†ÙˆØ§Ù…Ø¨Ø±_Ø¯Ø³Ø§Ù…Ø¨Ø±".split("_"),
                    monthsShort: "Ú˜Ø§Ù†ÙˆÛŒÙ‡_ÙÙˆØ±ÛŒÙ‡_Ù…Ø§Ø±Ø³_Ø¢ÙˆØ±ÛŒÙ„_Ù…Ù‡_Ú˜ÙˆØ¦Ù†_Ú˜ÙˆØ¦ÛŒÙ‡_Ø§ÙˆØª_Ø³Ù¾ØªØ§Ù…Ø¨Ø±_Ø§Ú©ØªØ¨Ø±_Ù†ÙˆØ§Ù…Ø¨Ø±_Ø¯Ø³Ø§Ù…Ø¨Ø±".split("_"),
                    weekdays: "ÛŒÚ©â€ŒØ´Ù†Ø¨Ù‡_Ø¯ÙˆØ´Ù†Ø¨Ù‡_Ø³Ù‡â€ŒØ´Ù†Ø¨Ù‡_Ú†Ù‡Ø§Ø±Ø´Ù†Ø¨Ù‡_Ù¾Ù†Ø¬â€ŒØ´Ù†Ø¨Ù‡_Ø¬Ù…Ø¹Ù‡_Ø´Ù†Ø¨Ù‡".split("_"),
                    weekdaysShort: "ÛŒÚ©â€ŒØ´Ù†Ø¨Ù‡_Ø¯ÙˆØ´Ù†Ø¨Ù‡_Ø³Ù‡â€ŒØ´Ù†Ø¨Ù‡_Ú†Ù‡Ø§Ø±Ø´Ù†Ø¨Ù‡_Ù¾Ù†Ø¬â€ŒØ´Ù†Ø¨Ù‡_Ø¬Ù…Ø¹Ù‡_Ø´Ù†Ø¨Ù‡".split("_"),
                    weekdaysMin: "ÛŒ_Ø¯_Ø³_Ú†_Ù¾_Ø¬_Ø´".split("_"),
                    longDateFormat: {
                        LT: "HH:mm",
                        LTS: "HH:mm:ss",
                        L: "DD/MM/YYYY",
                        LL: "D MMMM YYYY",
                        LLL: "D MMMM YYYY HH:mm",
                        LLLL: "dddd, D MMMM YYYY HH:mm"
                    },
                    meridiemParse: /Ù‚Ø¨Ù„ Ø§Ø² Ø¸Ù‡Ø±|Ø¨Ø¹Ø¯ Ø§Ø² Ø¸Ù‡Ø±/,
                    isPM: function(e) {
                        return /Ø¨Ø¹Ø¯ Ø§Ø² Ø¸Ù‡Ø±/.test(e)
                    },
                    meridiem: function(e, t, n) {
                        return e < 12 ? "Ù‚Ø¨Ù„ Ø§Ø² Ø¸Ù‡Ø±" : "Ø¨Ø¹Ø¯ Ø§Ø² Ø¸Ù‡Ø±"
                    },
                    calendar: {
                        sameDay: "[Ø§Ù…Ø±ÙˆØ² Ø³Ø§Ø¹Øª] LT",
                        nextDay: "[ÙØ±Ø¯Ø§ Ø³Ø§Ø¹Øª] LT",
                        nextWeek: "dddd [Ø³Ø§Ø¹Øª] LT",
                        lastDay: "[Ø¯ÛŒØ±ÙˆØ² Ø³Ø§Ø¹Øª] LT",
                        lastWeek: "dddd [Ù¾ÛŒØ´] [Ø³Ø§Ø¹Øª] LT",
                        sameElse: "L"
                    },
                    relativeTime: {
                        future: "Ø¯Ø± %s",
                        past: "%s Ù¾ÛŒØ´",
                        s: "Ú†Ù†Ø¯ÛŒÙ† Ø«Ø§Ù†ÛŒÙ‡",
                        m: "ÛŒÚ© Ø¯Ù‚ÛŒÙ‚Ù‡",
                        mm: "%d Ø¯Ù‚ÛŒÙ‚Ù‡",
                        h: "ÛŒÚ© Ø³Ø§Ø¹Øª",
                        hh: "%d Ø³Ø§Ø¹Øª",
                        d: "ÛŒÚ© Ø±ÙˆØ²",
                        dd: "%d Ø±ÙˆØ²",
                        M: "ÛŒÚ© Ù…Ø§Ù‡",
                        MM: "%d Ù…Ø§Ù‡",
                        y: "ÛŒÚ© Ø³Ø§Ù„",
                        yy: "%d Ø³Ø§Ù„"
                    },
                    preparse: function(e) {
                        return e.replace(/[Û°-Û¹]/g, function(e) {
                            return An[e]
                        }).replace(/ØŒ/g, ",")
                    },
                    postformat: function(e) {
                        return e.replace(/\d/g, function(e) {
                            return In[e]
                        }).replace(/,/g, "ØŒ")
                    },
                    ordinalParse: /\d{1,2}Ù…/,
                    ordinal: "%dÙ…",
                    week: {
                        dow: 6,
                        doy: 12
                    }
                }), "nolla yksi kaksi kolme neljÃ¤ viisi kuusi seitsemÃ¤n kahdeksan yhdeksÃ¤n".split(" ")),
                On = ["nolla", "yhden", "kahden", "kolmen", "neljÃ¤n", "viiden", "kuuden", En[7], En[8], En[9]];

            function Fn(e, t, n, i) {
                var a = "";
                switch (n) {
                    case "s":
                        return i ? "muutaman sekunnin" : "muutama sekunti";
                    case "m":
                        return i ? "minuutin" : "minuutti";
                    case "mm":
                        a = i ? "minuutin" : "minuuttia";
                        break;
                    case "h":
                        return i ? "tunnin" : "tunti";
                    case "hh":
                        a = i ? "tunnin" : "tuntia";
                        break;
                    case "d":
                        return i ? "pÃ¤ivÃ¤n" : "pÃ¤ivÃ¤";
                    case "dd":
                        a = i ? "pÃ¤ivÃ¤n" : "pÃ¤ivÃ¤Ã¤";
                        break;
                    case "M":
                        return i ? "kuukauden" : "kuukausi";
                    case "MM":
                        a = i ? "kuukauden" : "kuukautta";
                        break;
                    case "y":
                        return i ? "vuoden" : "vuosi";
                    case "yy":
                        a = i ? "vuoden" : "vuotta"
                }
                return a = function(e, t) {
                    return e < 10 ? t ? On[e] : En[e] : e
                }(e, i) + " " + a
            }
            on.defineLocale("fi", {
                months: "tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_kesÃ¤kuu_heinÃ¤kuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),
                monthsShort: "tammi_helmi_maalis_huhti_touko_kesÃ¤_heinÃ¤_elo_syys_loka_marras_joulu".split("_"),
                weekdays: "sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),
                weekdaysShort: "su_ma_ti_ke_to_pe_la".split("_"),
                weekdaysMin: "su_ma_ti_ke_to_pe_la".split("_"),
                longDateFormat: {
                    LT: "HH.mm",
                    LTS: "HH.mm.ss",
                    L: "DD.MM.YYYY",
                    LL: "Do MMMM[ta] YYYY",
                    LLL: "Do MMMM[ta] YYYY, [klo] HH.mm",
                    LLLL: "dddd, Do MMMM[ta] YYYY, [klo] HH.mm",
                    l: "D.M.YYYY",
                    ll: "Do MMM YYYY",
                    lll: "Do MMM YYYY, [klo] HH.mm",
                    llll: "ddd, Do MMM YYYY, [klo] HH.mm"
                },
                calendar: {
                    sameDay: "[tÃ¤nÃ¤Ã¤n] [klo] LT",
                    nextDay: "[huomenna] [klo] LT",
                    nextWeek: "dddd [klo] LT",
                    lastDay: "[eilen] [klo] LT",
                    lastWeek: "[viime] dddd[na] [klo] LT",
                    sameElse: "L"
                },
                relativeTime: {
                    future: "%s pÃ¤Ã¤stÃ¤",
                    past: "%s sitten",
                    s: Fn,
                    m: Fn,
                    mm: Fn,
                    h: Fn,
                    hh: Fn,
                    d: Fn,
                    dd: Fn,
                    M: Fn,
                    MM: Fn,
                    y: Fn,
                    yy: Fn
                },
                ordinalParse: /\d{1,2}\./,
                ordinal: "%d.",
                week: {
                    dow: 1,
                    doy: 4
                }
            }), on.defineLocale("fo", {
                months: "januar_februar_mars_aprÃ­l_mai_juni_juli_august_september_oktober_november_desember".split("_"),
                monthsShort: "jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),
                weekdays: "sunnudagur_mÃ¡nadagur_tÃ½sdagur_mikudagur_hÃ³sdagur_frÃ­ggjadagur_leygardagur".split("_"),
                weekdaysShort: "sun_mÃ¡n_tÃ½s_mik_hÃ³s_frÃ­_ley".split("_"),
                weekdaysMin: "su_mÃ¡_tÃ½_mi_hÃ³_fr_le".split("_"),
                longDateFormat: {
                    LT: "HH:mm",
                    LTS: "HH:mm:ss",
                    L: "DD/MM/YYYY",
                    LL: "D MMMM YYYY",
                    LLL: "D MMMM YYYY HH:mm",
                    LLLL: "dddd D. MMMM, YYYY HH:mm"
                },
                calendar: {
                    sameDay: "[Ã dag kl.] LT",
                    nextDay: "[Ã morgin kl.] LT",
                    nextWeek: "dddd [kl.] LT",
                    lastDay: "[Ã gjÃ¡r kl.] LT",
                    lastWeek: "[sÃ­Ã°stu] dddd [kl] LT",
                    sameElse: "L"
                },
                relativeTime: {
                    future: "um %s",
                    past: "%s sÃ­Ã°ani",
                    s: "fÃ¡ sekund",
                    m: "ein minutt",
                    mm: "%d minuttir",
                    h: "ein tÃ­mi",
                    hh: "%d tÃ­mar",
                    d: "ein dagur",
                    dd: "%d dagar",
                    M: "ein mÃ¡naÃ°i",
                    MM: "%d mÃ¡naÃ°ir",
                    y: "eitt Ã¡r",
                    yy: "%d Ã¡r"
                },
                ordinalParse: /\d{1,2}\./,
                ordinal: "%d.",
                week: {
                    dow: 1,
                    doy: 4
                }
            }), on.defineLocale("fr-ca", {
                months: "janvier_fÃ©vrier_mars_avril_mai_juin_juillet_aoÃ»t_septembre_octobre_novembre_dÃ©cembre".split("_"),
                monthsShort: "janv._fÃ©vr._mars_avr._mai_juin_juil._aoÃ»t_sept._oct._nov._dÃ©c.".split("_"),
                weekdays: "dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),
                weekdaysShort: "dim._lun._mar._mer._jeu._ven._sam.".split("_"),
                weekdaysMin: "Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),
                longDateFormat: {
                    LT: "HH:mm",
                    LTS: "HH:mm:ss",
                    L: "YYYY-MM-DD",
                    LL: "D MMMM YYYY",
                    LLL: "D MMMM YYYY HH:mm",
                    LLLL: "dddd D MMMM YYYY HH:mm"
                },
                calendar: {
                    sameDay: "[Aujourd'hui Ã ] LT",
                    nextDay: "[Demain Ã ] LT",
                    nextWeek: "dddd [Ã ] LT",
                    lastDay: "[Hier Ã ] LT",
                    lastWeek: "dddd [dernier Ã ] LT",
                    sameElse: "L"
                },
                relativeTime: {
                    future: "dans %s",
                    past: "il y a %s",
                    s: "quelques secondes",
                    m: "une minute",
                    mm: "%d minutes",
                    h: "une heure",
                    hh: "%d heures",
                    d: "un jour",
                    dd: "%d jours",
                    M: "un mois",
                    MM: "%d mois",
                    y: "un an",
                    yy: "%d ans"
                },
                ordinalParse: /\d{1,2}(er|e)/,
                ordinal: function(e) {
                    return e + (1 === e ? "er" : "e")
                }
            }), on.defineLocale("fr", {
                months: "janvier_fÃ©vrier_mars_avril_mai_juin_juillet_aoÃ»t_septembre_octobre_novembre_dÃ©cembre".split("_"),
                monthsShort: "janv._fÃ©vr._mars_avr._mai_juin_juil._aoÃ»t_sept._oct._nov._dÃ©c.".split("_"),
                weekdays: "dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),
                weekdaysShort: "dim._lun._mar._mer._jeu._ven._sam.".split("_"),
                weekdaysMin: "Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),
                longDateFormat: {
                    LT: "HH:mm",
                    LTS: "HH:mm:ss",
                    L: "DD/MM/YYYY",
                    LL: "D MMMM YYYY",
                    LLL: "D MMMM YYYY HH:mm",
                    LLLL: "dddd D MMMM YYYY HH:mm"
                },
                calendar: {
                    sameDay: "[Aujourd'hui Ã ] LT",
                    nextDay: "[Demain Ã ] LT",
                    nextWeek: "dddd [Ã ] LT",
                    lastDay: "[Hier Ã ] LT",
                    lastWeek: "dddd [dernier Ã ] LT",
                    sameElse: "L"
                },
                relativeTime: {
                    future: "dans %s",
                    past: "il y a %s",
                    s: "quelques secondes",
                    m: "une minute",
                    mm: "%d minutes",
                    h: "une heure",
                    hh: "%d heures",
                    d: "un jour",
                    dd: "%d jours",
                    M: "un mois",
                    MM: "%d mois",
                    y: "un an",
                    yy: "%d ans"
                },
                ordinalParse: /\d{1,2}(er|)/,
                ordinal: function(e) {
                    return e + (1 === e ? "er" : "")
                },
                week: {
                    dow: 1,
                    doy: 4
                }
            });
            //! moment.js locale configuration
            //! locale : faroese (fo)
            //! author : Ragnar Johannesen : https://github.com/ragnar123
            var Nn = "jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_"),
                Rn = "jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),
                Yn = (on.defineLocale("fy", {
                    months: "jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),
                    monthsShort: function(e, t) {
                        return /-MMM-/.test(t) ? Rn[e.month()] : Nn[e.month()]
                    },
                    weekdays: "snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),
                    weekdaysShort: "si._mo._ti._wo._to._fr._so.".split("_"),
                    weekdaysMin: "Si_Mo_Ti_Wo_To_Fr_So".split("_"),
                    longDateFormat: {
                        LT: "HH:mm",
                        LTS: "HH:mm:ss",
                        L: "DD-MM-YYYY",
                        LL: "D MMMM YYYY",
                        LLL: "D MMMM YYYY HH:mm",
                        LLLL: "dddd D MMMM YYYY HH:mm"
                    },
                    calendar: {
                        sameDay: "[hjoed om] LT",
                        nextDay: "[moarn om] LT",
                        nextWeek: "dddd [om] LT",
                        lastDay: "[juster om] LT",
                        lastWeek: "[Ã´frÃ»ne] dddd [om] LT",
                        sameElse: "L"
                    },
                    relativeTime: {
                        future: "oer %s",
                        past: "%s lyn",
                        s: "in pear sekonden",
                        m: "ien minÃºt",
                        mm: "%d minuten",
                        h: "ien oere",
                        hh: "%d oeren",
                        d: "ien dei",
                        dd: "%d dagen",
                        M: "ien moanne",
                        MM: "%d moannen",
                        y: "ien jier",
                        yy: "%d jierren"
                    },
                    ordinalParse: /\d{1,2}(ste|de)/,
                    ordinal: function(e) {
                        return e + (1 === e || 8 === e || e >= 20 ? "ste" : "de")
                    },
                    week: {
                        dow: 1,
                        doy: 4
                    }
                }), on.defineLocale("gl", {
                    months: "Xaneiro_Febreiro_Marzo_Abril_Maio_XuÃ±o_Xullo_Agosto_Setembro_Outubro_Novembro_Decembro".split("_"),
                    monthsShort: "Xan._Feb._Mar._Abr._Mai._XuÃ±._Xul._Ago._Set._Out._Nov._Dec.".split("_"),
                    weekdays: "Domingo_Luns_Martes_MÃ©rcores_Xoves_Venres_SÃ¡bado".split("_"),
                    weekdaysShort: "Dom._Lun._Mar._MÃ©r._Xov._Ven._SÃ¡b.".split("_"),
                    weekdaysMin: "Do_Lu_Ma_MÃ©_Xo_Ve_SÃ¡".split("_"),
                    longDateFormat: {
                        LT: "H:mm",
                        LTS: "H:mm:ss",
                        L: "DD/MM/YYYY",
                        LL: "D MMMM YYYY",
                        LLL: "D MMMM YYYY H:mm",
                        LLLL: "dddd D MMMM YYYY H:mm"
                    },
                    calendar: {
                        sameDay: function() {
                            return "[hoxe " + (1 !== this.hours() ? "Ã¡s" : "Ã¡") + "] LT"
                        },
                        nextDay: function() {
                            return "[maÃ±Ã¡ " + (1 !== this.hours() ? "Ã¡s" : "Ã¡") + "] LT"
                        },
                        nextWeek: function() {
                            return "dddd [" + (1 !== this.hours() ? "Ã¡s" : "a") + "] LT"
                        },
                        lastDay: function() {
                            return "[onte " + (1 !== this.hours() ? "Ã¡" : "a") + "] LT"
                        },
                        lastWeek: function() {
                            return "[o] dddd [pasado " + (1 !== this.hours() ? "Ã¡s" : "a") + "] LT"
                        },
                        sameElse: "L"
                    },
                    relativeTime: {
                        future: function(e) {
                            return "uns segundos" === e ? "nuns segundos" : "en " + e
                        },
                        past: "hai %s",
                        s: "uns segundos",
                        m: "un minuto",
                        mm: "%d minutos",
                        h: "unha hora",
                        hh: "%d horas",
                        d: "un dÃ­a",
                        dd: "%d dÃ­as",
                        M: "un mes",
                        MM: "%d meses",
                        y: "un ano",
                        yy: "%d anos"
                    },
                    ordinalParse: /\d{1,2}Âº/,
                    ordinal: "%dÂº",
                    week: {
                        dow: 1,
                        doy: 7
                    }
                }), on.defineLocale("he", {
                    months: "×™× ×•××¨_×¤×‘×¨×•××¨_×ž×¨×¥_××¤×¨×™×œ_×ž××™_×™×•× ×™_×™×•×œ×™_××•×’×•×¡×˜_×¡×¤×˜×ž×‘×¨_××•×§×˜×•×‘×¨_× ×•×‘×ž×‘×¨_×“×¦×ž×‘×¨".split("_"),
                    monthsShort: "×™× ×•×³_×¤×‘×¨×³_×ž×¨×¥_××¤×¨×³_×ž××™_×™×•× ×™_×™×•×œ×™_××•×’×³_×¡×¤×˜×³_××•×§×³_× ×•×‘×³_×“×¦×ž×³".split("_"),
                    weekdays: "×¨××©×•×Ÿ_×©× ×™_×©×œ×™×©×™_×¨×‘×™×¢×™_×—×ž×™×©×™_×©×™×©×™_×©×‘×ª".split("_"),
                    weekdaysShort: "××³_×‘×³_×’×³_×“×³_×”×³_×•×³_×©×³".split("_"),
                    weekdaysMin: "×_×‘_×’_×“_×”_×•_×©".split("_"),
                    longDateFormat: {
                        LT: "HH:mm",
                        LTS: "HH:mm:ss",
                        L: "DD/MM/YYYY",
                        LL: "D [×‘]MMMM YYYY",
                        LLL: "D [×‘]MMMM YYYY HH:mm",
                        LLLL: "dddd, D [×‘]MMMM YYYY HH:mm",
                        l: "D/M/YYYY",
                        ll: "D MMM YYYY",
                        lll: "D MMM YYYY HH:mm",
                        llll: "ddd, D MMM YYYY HH:mm"
                    },
                    calendar: {
                        sameDay: "[×”×™×•× ×‘Ö¾]LT",
                        nextDay: "[×ž×—×¨ ×‘Ö¾]LT",
                        nextWeek: "dddd [×‘×©×¢×”] LT",
                        lastDay: "[××ª×ž×•×œ ×‘Ö¾]LT",
                        lastWeek: "[×‘×™×•×] dddd [×”××—×¨×•×Ÿ ×‘×©×¢×”] LT",
                        sameElse: "L"
                    },
                    relativeTime: {
                        future: "×‘×¢×•×“ %s",
                        past: "×œ×¤× ×™ %s",
                        s: "×ž×¡×¤×¨ ×©× ×™×•×ª",
                        m: "×“×§×”",
                        mm: "%d ×“×§×•×ª",
                        h: "×©×¢×”",
                        hh: function(e) {
                            return 2 === e ? "×©×¢×ª×™×™×" : e + " ×©×¢×•×ª"
                        },
                        d: "×™×•×",
                        dd: function(e) {
                            return 2 === e ? "×™×•×ž×™×™×" : e + " ×™×ž×™×"
                        },
                        M: "×—×•×“×©",
                        MM: function(e) {
                            return 2 === e ? "×—×•×“×©×™×™×" : e + " ×—×•×“×©×™×"
                        },
                        y: "×©× ×”",
                        yy: function(e) {
                            return 2 === e ? "×©× ×ª×™×™×" : e % 10 == 0 && 10 !== e ? e + " ×©× ×”" : e + " ×©× ×™×"
                        }
                    }
                }), {
                    1: "à¥§",
                    2: "à¥¨",
                    3: "à¥©",
                    4: "à¥ª",
                    5: "à¥«",
                    6: "à¥¬",
                    7: "à¥­",
                    8: "à¥®",
                    9: "à¥¯",
                    0: "à¥¦"
                }),
                Bn = {
                    "à¥§": "1",
                    "à¥¨": "2",
                    "à¥©": "3",
                    "à¥ª": "4",
                    "à¥«": "5",
                    "à¥¬": "6",
                    "à¥­": "7",
                    "à¥®": "8",
                    "à¥¯": "9",
                    "à¥¦": "0"
                };
            on.defineLocale("hi", {
                months: "à¤œà¤¨à¤µà¤°à¥€_à¤«à¤¼à¤°à¤µà¤°à¥€_à¤®à¤¾à¤°à¥à¤š_à¤…à¤ªà¥à¤°à¥ˆà¤²_à¤®à¤ˆ_à¤œà¥‚à¤¨_à¤œà¥à¤²à¤¾à¤ˆ_à¤…à¤—à¤¸à¥à¤¤_à¤¸à¤¿à¤¤à¤®à¥à¤¬à¤°_à¤…à¤•à¥à¤Ÿà¥‚à¤¬à¤°_à¤¨à¤µà¤®à¥à¤¬à¤°_à¤¦à¤¿à¤¸à¤®à¥à¤¬à¤°".split("_"),
                monthsShort: "à¤œà¤¨._à¤«à¤¼à¤°._à¤®à¤¾à¤°à¥à¤š_à¤…à¤ªà¥à¤°à¥ˆ._à¤®à¤ˆ_à¤œà¥‚à¤¨_à¤œà¥à¤²._à¤…à¤—._à¤¸à¤¿à¤¤._à¤…à¤•à¥à¤Ÿà¥‚._à¤¨à¤µ._à¤¦à¤¿à¤¸.".split("_"),
                weekdays: "à¤°à¤µà¤¿à¤µà¤¾à¤°_à¤¸à¥‹à¤®à¤µà¤¾à¤°_à¤®à¤‚à¤—à¤²à¤µà¤¾à¤°_à¤¬à¥à¤§à¤µà¤¾à¤°_à¤—à¥à¤°à¥‚à¤µà¤¾à¤°_à¤¶à¥à¤•à¥à¤°à¤µà¤¾à¤°_à¤¶à¤¨à¤¿à¤µà¤¾à¤°".split("_"),
                weekdaysShort: "à¤°à¤µà¤¿_à¤¸à¥‹à¤®_à¤®à¤‚à¤—à¤²_à¤¬à¥à¤§_à¤—à¥à¤°à¥‚_à¤¶à¥à¤•à¥à¤°_à¤¶à¤¨à¤¿".split("_"),
                weekdaysMin: "à¤°_à¤¸à¥‹_à¤®à¤‚_à¤¬à¥_à¤—à¥_à¤¶à¥_à¤¶".split("_"),
                longDateFormat: {
                    LT: "A h:mm à¤¬à¤œà¥‡",
                    LTS: "A h:mm:ss à¤¬à¤œà¥‡",
                    L: "DD/MM/YYYY",
                    LL: "D MMMM YYYY",
                    LLL: "D MMMM YYYY, A h:mm à¤¬à¤œà¥‡",
                    LLLL: "dddd, D MMMM YYYY, A h:mm à¤¬à¤œà¥‡"
                },
                calendar: {
                    sameDay: "[à¤†à¤œ] LT",
                    nextDay: "[à¤•à¤²] LT",
                    nextWeek: "dddd, LT",
                    lastDay: "[à¤•à¤²] LT",
                    lastWeek: "[à¤ªà¤¿à¤›à¤²à¥‡] dddd, LT",
                    sameElse: "L"
                },
                relativeTime: {
                    future: "%s à¤®à¥‡à¤‚",
                    past: "%s à¤ªà¤¹à¤²à¥‡",
                    s: "à¤•à¥à¤› à¤¹à¥€ à¤•à¥à¤·à¤£",
                    m: "à¤à¤• à¤®à¤¿à¤¨à¤Ÿ",
                    mm: "%d à¤®à¤¿à¤¨à¤Ÿ",
                    h: "à¤à¤• à¤˜à¤‚à¤Ÿà¤¾",
                    hh: "%d à¤˜à¤‚à¤Ÿà¥‡",
                    d: "à¤à¤• à¤¦à¤¿à¤¨",
                    dd: "%d à¤¦à¤¿à¤¨",
                    M: "à¤à¤• à¤®à¤¹à¥€à¤¨à¥‡",
                    MM: "%d à¤®à¤¹à¥€à¤¨à¥‡",
                    y: "à¤à¤• à¤µà¤°à¥à¤·",
                    yy: "%d à¤µà¤°à¥à¤·"
                },
                preparse: function(e) {
                    return e.replace(/[à¥§à¥¨à¥©à¥ªà¥«à¥¬à¥­à¥®à¥¯à¥¦]/g, function(e) {
                        return Bn[e]
                    })
                },
                postformat: function(e) {
                    return e.replace(/\d/g, function(e) {
                        return Yn[e]
                    })
                },
                meridiemParse: /à¤°à¤¾à¤¤|à¤¸à¥à¤¬à¤¹|à¤¦à¥‹à¤ªà¤¹à¤°|à¤¶à¤¾à¤®/,
                meridiemHour: function(e, t) {
                    return 12 === e && (e = 0), "à¤°à¤¾à¤¤" === t ? e < 4 ? e : e + 12 : "à¤¸à¥à¤¬à¤¹" === t ? e : "à¤¦à¥‹à¤ªà¤¹à¤°" === t ? e >= 10 ? e : e + 12 : "à¤¶à¤¾à¤®" === t ? e + 12 : void 0
                },
                meridiem: function(e, t, n) {
                    return e < 4 ? "à¤°à¤¾à¤¤" : e < 10 ? "à¤¸à¥à¤¬à¤¹" : e < 17 ? "à¤¦à¥‹à¤ªà¤¹à¤°" : e < 20 ? "à¤¶à¤¾à¤®" : "à¤°à¤¾à¤¤"
                },
                week: {
                    dow: 0,
                    doy: 6
                }
            });
            //! moment.js locale configuration
            //! locale : hrvatski (hr)
            //! author : Bojan MarkoviÄ‡ : https://github.com/bmarkovic
            function Hn(e, t, n) {
                var i = e + " ";
                switch (n) {
                    case "m":
                        return t ? "jedna minuta" : "jedne minute";
                    case "mm":
                        return i += 1 === e ? "minuta" : 2 === e || 3 === e || 4 === e ? "minute" : "minuta";
                    case "h":
                        return t ? "jedan sat" : "jednog sata";
                    case "hh":
                        return i += 1 === e ? "sat" : 2 === e || 3 === e || 4 === e ? "sata" : "sati";
                    case "dd":
                        return i += 1 === e ? "dan" : "dana";
                    case "MM":
                        return i += 1 === e ? "mjesec" : 2 === e || 3 === e || 4 === e ? "mjeseca" : "mjeseci";
                    case "yy":
                        return i += 1 === e ? "godina" : 2 === e || 3 === e || 4 === e ? "godine" : "godina"
                }
            }
            on.defineLocale("hr", {
                months: "sijeÄanj_veljaÄa_oÅ¾ujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_"),
                monthsShort: "sij._velj._oÅ¾u._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),
                weekdays: "nedjelja_ponedjeljak_utorak_srijeda_Äetvrtak_petak_subota".split("_"),
                weekdaysShort: "ned._pon._uto._sri._Äet._pet._sub.".split("_"),
                weekdaysMin: "ne_po_ut_sr_Äe_pe_su".split("_"),
                longDateFormat: {
                    LT: "H:mm",
                    LTS: "H:mm:ss",
                    L: "DD. MM. YYYY",
                    LL: "D. MMMM YYYY",
                    LLL: "D. MMMM YYYY H:mm",
                    LLLL: "dddd, D. MMMM YYYY H:mm"
                },
                calendar: {
                    sameDay: "[danas u] LT",
                    nextDay: "[sutra u] LT",
                    nextWeek: function() {
                        switch (this.day()) {
                            case 0:
                                return "[u] [nedjelju] [u] LT";
                            case 3:
                                return "[u] [srijedu] [u] LT";
                            case 6:
                                return "[u] [subotu] [u] LT";
                            case 1:
                            case 2:
                            case 4:
                            case 5:
                                return "[u] dddd [u] LT"
                        }
                    },
                    lastDay: "[juÄer u] LT",
                    lastWeek: function() {
                        switch (this.day()) {
                            case 0:
                            case 3:
                                return "[proÅ¡lu] dddd [u] LT";
                            case 6:
                                return "[proÅ¡le] [subote] [u] LT";
                            case 1:
                            case 2:
                            case 4:
                            case 5:
                                return "[proÅ¡li] dddd [u] LT"
                        }
                    },
                    sameElse: "L"
                },
                relativeTime: {
                    future: "za %s",
                    past: "prije %s",
                    s: "par sekundi",
                    m: Hn,
                    mm: Hn,
                    h: Hn,
                    hh: Hn,
                    d: "dan",
                    dd: Hn,
                    M: "mjesec",
                    MM: Hn,
                    y: "godinu",
                    yy: Hn
                },
                ordinalParse: /\d{1,2}\./,
                ordinal: "%d.",
                week: {
                    dow: 1,
                    doy: 7
                }
            });
            //! moment.js locale configuration
            //! locale : hungarian (hu)
            //! author : Adam Brunner : https://github.com/adambrunner
            var qn = "vasÃ¡rnap hÃ©tfÅ‘n kedden szerdÃ¡n csÃ¼tÃ¶rtÃ¶kÃ¶n pÃ©nteken szombaton".split(" ");

            function Wn(e, t, n, i) {
                var a = e;
                switch (n) {
                    case "s":
                        return i || t ? "nÃ©hÃ¡ny mÃ¡sodperc" : "nÃ©hÃ¡ny mÃ¡sodperce";
                    case "m":
                        return "egy" + (i || t ? " perc" : " perce");
                    case "mm":
                        return a + (i || t ? " perc" : " perce");
                    case "h":
                        return "egy" + (i || t ? " Ã³ra" : " Ã³rÃ¡ja");
                    case "hh":
                        return a + (i || t ? " Ã³ra" : " Ã³rÃ¡ja");
                    case "d":
                        return "egy" + (i || t ? " nap" : " napja");
                    case "dd":
                        return a + (i || t ? " nap" : " napja");
                    case "M":
                        return "egy" + (i || t ? " hÃ³nap" : " hÃ³napja");
                    case "MM":
                        return a + (i || t ? " hÃ³nap" : " hÃ³napja");
                    case "y":
                        return "egy" + (i || t ? " Ã©v" : " Ã©ve");
                    case "yy":
                        return a + (i || t ? " Ã©v" : " Ã©ve")
                }
                return ""
            }

            function Vn(e) {
                return (e ? "" : "[mÃºlt] ") + "[" + qn[this.day()] + "] LT[-kor]"
            }
            on.defineLocale("hu", {
                months: "januÃ¡r_februÃ¡r_mÃ¡rcius_Ã¡prilis_mÃ¡jus_jÃºnius_jÃºlius_augusztus_szeptember_oktÃ³ber_november_december".split("_"),
                monthsShort: "jan_feb_mÃ¡rc_Ã¡pr_mÃ¡j_jÃºn_jÃºl_aug_szept_okt_nov_dec".split("_"),
                weekdays: "vasÃ¡rnap_hÃ©tfÅ‘_kedd_szerda_csÃ¼tÃ¶rtÃ¶k_pÃ©ntek_szombat".split("_"),
                weekdaysShort: "vas_hÃ©t_kedd_sze_csÃ¼t_pÃ©n_szo".split("_"),
                weekdaysMin: "v_h_k_sze_cs_p_szo".split("_"),
                longDateFormat: {
                    LT: "H:mm",
                    LTS: "H:mm:ss",
                    L: "YYYY.MM.DD.",
                    LL: "YYYY. MMMM D.",
                    LLL: "YYYY. MMMM D. H:mm",
                    LLLL: "YYYY. MMMM D., dddd H:mm"
                },
                meridiemParse: /de|du/i,
                isPM: function(e) {
                    return "u" === e.charAt(1).toLowerCase()
                },
                meridiem: function(e, t, n) {
                    return e < 12 ? !0 === n ? "de" : "DE" : !0 === n ? "du" : "DU"
                },
                calendar: {
                    sameDay: "[ma] LT[-kor]",
                    nextDay: "[holnap] LT[-kor]",
                    nextWeek: function() {
                        return Vn.call(this, !0)
                    },
                    lastDay: "[tegnap] LT[-kor]",
                    lastWeek: function() {
                        return Vn.call(this, !1)
                    },
                    sameElse: "L"
                },
                relativeTime: {
                    future: "%s mÃºlva",
                    past: "%s",
                    s: Wn,
                    m: Wn,
                    mm: Wn,
                    h: Wn,
                    hh: Wn,
                    d: Wn,
                    dd: Wn,
                    M: Wn,
                    MM: Wn,
                    y: Wn,
                    yy: Wn
                },
                ordinalParse: /\d{1,2}\./,
                ordinal: "%d.",
                week: {
                    dow: 1,
                    doy: 7
                }
            });
            //! moment.js locale configuration
            //! locale : Armenian (hy-am)
            //! author : Armendarabyan : https://github.com/armendarabyan
            on.defineLocale("hy-am", {
                months: function(e, t) {
                    return {
                        nominative: "Õ°Õ¸Ö‚Õ¶Õ¾Õ¡Ö€_ÖƒÕ¥Õ¿Ö€Õ¾Õ¡Ö€_Õ´Õ¡Ö€Õ¿_Õ¡ÕºÖ€Õ«Õ¬_Õ´Õ¡ÕµÕ«Õ½_Õ°Õ¸Ö‚Õ¶Õ«Õ½_Õ°Õ¸Ö‚Õ¬Õ«Õ½_Ö…Õ£Õ¸Õ½Õ¿Õ¸Õ½_Õ½Õ¥ÕºÕ¿Õ¥Õ´Õ¢Õ¥Ö€_Õ°Õ¸Õ¯Õ¿Õ¥Õ´Õ¢Õ¥Ö€_Õ¶Õ¸ÕµÕ¥Õ´Õ¢Õ¥Ö€_Õ¤Õ¥Õ¯Õ¿Õ¥Õ´Õ¢Õ¥Ö€".split("_"),
                        accusative: "Õ°Õ¸Ö‚Õ¶Õ¾Õ¡Ö€Õ«_ÖƒÕ¥Õ¿Ö€Õ¾Õ¡Ö€Õ«_Õ´Õ¡Ö€Õ¿Õ«_Õ¡ÕºÖ€Õ«Õ¬Õ«_Õ´Õ¡ÕµÕ«Õ½Õ«_Õ°Õ¸Ö‚Õ¶Õ«Õ½Õ«_Õ°Õ¸Ö‚Õ¬Õ«Õ½Õ«_Ö…Õ£Õ¸Õ½Õ¿Õ¸Õ½Õ«_Õ½Õ¥ÕºÕ¿Õ¥Õ´Õ¢Õ¥Ö€Õ«_Õ°Õ¸Õ¯Õ¿Õ¥Õ´Õ¢Õ¥Ö€Õ«_Õ¶Õ¸ÕµÕ¥Õ´Õ¢Õ¥Ö€Õ«_Õ¤Õ¥Õ¯Õ¿Õ¥Õ´Õ¢Õ¥Ö€Õ«".split("_")
                    }[/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(t) ? "accusative" : "nominative"][e.month()]
                },
                monthsShort: function(e, t) {
                    return "Õ°Õ¶Õ¾_ÖƒÕ¿Ö€_Õ´Ö€Õ¿_Õ¡ÕºÖ€_Õ´ÕµÕ½_Õ°Õ¶Õ½_Õ°Õ¬Õ½_Ö…Õ£Õ½_Õ½ÕºÕ¿_Õ°Õ¯Õ¿_Õ¶Õ´Õ¢_Õ¤Õ¯Õ¿".split("_")[e.month()]
                },
                weekdays: function(e, t) {
                    return "Õ¯Õ«Ö€Õ¡Õ¯Õ«_Õ¥Ö€Õ¯Õ¸Ö‚Õ·Õ¡Õ¢Õ©Õ«_Õ¥Ö€Õ¥Ö„Õ·Õ¡Õ¢Õ©Õ«_Õ¹Õ¸Ö€Õ¥Ö„Õ·Õ¡Õ¢Õ©Õ«_Õ°Õ«Õ¶Õ£Õ·Õ¡Õ¢Õ©Õ«_Õ¸Ö‚Ö€Õ¢Õ¡Õ©_Õ·Õ¡Õ¢Õ¡Õ©".split("_")[e.day()]
                },
                weekdaysShort: "Õ¯Ö€Õ¯_Õ¥Ö€Õ¯_Õ¥Ö€Ö„_Õ¹Ö€Ö„_Õ°Õ¶Õ£_Õ¸Ö‚Ö€Õ¢_Õ·Õ¢Õ©".split("_"),
                weekdaysMin: "Õ¯Ö€Õ¯_Õ¥Ö€Õ¯_Õ¥Ö€Ö„_Õ¹Ö€Ö„_Õ°Õ¶Õ£_Õ¸Ö‚Ö€Õ¢_Õ·Õ¢Õ©".split("_"),
                longDateFormat: {
                    LT: "HH:mm",
                    LTS: "HH:mm:ss",
                    L: "DD.MM.YYYY",
                    LL: "D MMMM YYYY Õ©.",
                    LLL: "D MMMM YYYY Õ©., HH:mm",
                    LLLL: "dddd, D MMMM YYYY Õ©., HH:mm"
                },
                calendar: {
                    sameDay: "[Õ¡ÕµÕ½Ö…Ö€] LT",
                    nextDay: "[Õ¾Õ¡Õ²Õ¨] LT",
                    lastDay: "[Õ¥Ö€Õ¥Õ¯] LT",
                    nextWeek: function() {
                        return "dddd [Ö…Ö€Õ¨ ÕªÕ¡Õ´Õ¨] LT"
                    },
                    lastWeek: function() {
                        return "[Õ¡Õ¶ÖÕ¡Õ®] dddd [Ö…Ö€Õ¨ ÕªÕ¡Õ´Õ¨] LT"
                    },
                    sameElse: "L"
                },
                relativeTime: {
                    future: "%s Õ°Õ¥Õ¿Õ¸",
                    past: "%s Õ¡Õ¼Õ¡Õ»",
                    s: "Õ´Õ« Ö„Õ¡Õ¶Õ« Õ¾Õ¡ÕµÖ€Õ¯ÕµÕ¡Õ¶",
                    m: "Ö€Õ¸ÕºÕ¥",
                    mm: "%d Ö€Õ¸ÕºÕ¥",
                    h: "ÕªÕ¡Õ´",
                    hh: "%d ÕªÕ¡Õ´",
                    d: "Ö…Ö€",
                    dd: "%d Ö…Ö€",
                    M: "Õ¡Õ´Õ«Õ½",
                    MM: "%d Õ¡Õ´Õ«Õ½",
                    y: "Õ¿Õ¡Ö€Õ«",
                    yy: "%d Õ¿Õ¡Ö€Õ«"
                },
                meridiemParse: /Õ£Õ«Õ·Õ¥Ö€Õ¾Õ¡|Õ¡Õ¼Õ¡Õ¾Õ¸Õ¿Õ¾Õ¡|ÖÕ¥Ö€Õ¥Õ¯Õ¾Õ¡|Õ¥Ö€Õ¥Õ¯Õ¸ÕµÕ¡Õ¶/,
                isPM: function(e) {
                    return /^(ÖÕ¥Ö€Õ¥Õ¯Õ¾Õ¡|Õ¥Ö€Õ¥Õ¯Õ¸ÕµÕ¡Õ¶)$/.test(e)
                },
                meridiem: function(e) {
                    return e < 4 ? "Õ£Õ«Õ·Õ¥Ö€Õ¾Õ¡" : e < 12 ? "Õ¡Õ¼Õ¡Õ¾Õ¸Õ¿Õ¾Õ¡" : e < 17 ? "ÖÕ¥Ö€Õ¥Õ¯Õ¾Õ¡" : "Õ¥Ö€Õ¥Õ¯Õ¸ÕµÕ¡Õ¶"
                },
                ordinalParse: /\d{1,2}|\d{1,2}-(Õ«Õ¶|Ö€Õ¤)/,
                ordinal: function(e, t) {
                    switch (t) {
                        case "DDD":
                        case "w":
                        case "W":
                        case "DDDo":
                            return 1 === e ? e + "-Õ«Õ¶" : e + "-Ö€Õ¤";
                        default:
                            return e
                    }
                },
                week: {
                    dow: 1,
                    doy: 7
                }
            }), on.defineLocale("id", {
                months: "Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),
                monthsShort: "Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nov_Des".split("_"),
                weekdays: "Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),
                weekdaysShort: "Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),
                weekdaysMin: "Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),
                longDateFormat: {
                    LT: "HH.mm",
                    LTS: "HH.mm.ss",
                    L: "DD/MM/YYYY",
                    LL: "D MMMM YYYY",
                    LLL: "D MMMM YYYY [pukul] HH.mm",
                    LLLL: "dddd, D MMMM YYYY [pukul] HH.mm"
                },
                meridiemParse: /pagi|siang|sore|malam/,
                meridiemHour: function(e, t) {
                    return 12 === e && (e = 0), "pagi" === t ? e : "siang" === t ? e >= 11 ? e : e + 12 : "sore" === t || "malam" === t ? e + 12 : void 0
                },
                meridiem: function(e, t, n) {
                    return e < 11 ? "pagi" : e < 15 ? "siang" : e < 19 ? "sore" : "malam"
                },
                calendar: {
                    sameDay: "[Hari ini pukul] LT",
                    nextDay: "[Besok pukul] LT",
                    nextWeek: "dddd [pukul] LT",
                    lastDay: "[Kemarin pukul] LT",
                    lastWeek: "dddd [lalu pukul] LT",
                    sameElse: "L"
                },
                relativeTime: {
                    future: "dalam %s",
                    past: "%s yang lalu",
                    s: "beberapa detik",
                    m: "semenit",
                    mm: "%d menit",
                    h: "sejam",
                    hh: "%d jam",
                    d: "sehari",
                    dd: "%d hari",
                    M: "sebulan",
                    MM: "%d bulan",
                    y: "setahun",
                    yy: "%d tahun"
                },
                week: {
                    dow: 1,
                    doy: 7
                }
            });
            //! moment.js locale configuration
            //! locale : Bahasa Indonesia (id)
            //! author : Mohammad Satrio Utomo : https://github.com/tyok
            //! reference: http://id.wikisource.org/wiki/Pedoman_Umum_Ejaan_Bahasa_Indonesia_yang_Disempurnakan
            //! moment.js locale configuration
            //! locale : icelandic (is)
            //! author : Hinrik Ã–rn SigurÃ°sson : https://github.com/hinrik
            function zn(e) {
                return e % 100 == 11 || e % 10 != 1
            }

            function Gn(e, t, n, i) {
                var a = e + " ";
                switch (n) {
                    case "s":
                        return t || i ? "nokkrar sekÃºndur" : "nokkrum sekÃºndum";
                    case "m":
                        return t ? "mÃ­nÃºta" : "mÃ­nÃºtu";
                    case "mm":
                        return zn(e) ? a + (t || i ? "mÃ­nÃºtur" : "mÃ­nÃºtum") : t ? a + "mÃ­nÃºta" : a + "mÃ­nÃºtu";
                    case "hh":
                        return zn(e) ? a + (t || i ? "klukkustundir" : "klukkustundum") : a + "klukkustund";
                    case "d":
                        return t ? "dagur" : i ? "dag" : "degi";
                    case "dd":
                        return zn(e) ? t ? a + "dagar" : a + (i ? "daga" : "dÃ¶gum") : t ? a + "dagur" : a + (i ? "dag" : "degi");
                    case "M":
                        return t ? "mÃ¡nuÃ°ur" : i ? "mÃ¡nuÃ°" : "mÃ¡nuÃ°i";
                    case "MM":
                        return zn(e) ? t ? a + "mÃ¡nuÃ°ir" : a + (i ? "mÃ¡nuÃ°i" : "mÃ¡nuÃ°um") : t ? a + "mÃ¡nuÃ°ur" : a + (i ? "mÃ¡nuÃ°" : "mÃ¡nuÃ°i");
                    case "y":
                        return t || i ? "Ã¡r" : "Ã¡ri";
                    case "yy":
                        return zn(e) ? a + (t || i ? "Ã¡r" : "Ã¡rum") : a + (t || i ? "Ã¡r" : "Ã¡ri")
                }
            }
            on.defineLocale("is", {
                months: "janÃºar_febrÃºar_mars_aprÃ­l_maÃ­_jÃºnÃ­_jÃºlÃ­_Ã¡gÃºst_september_oktÃ³ber_nÃ³vember_desember".split("_"),
                monthsShort: "jan_feb_mar_apr_maÃ­_jÃºn_jÃºl_Ã¡gÃº_sep_okt_nÃ³v_des".split("_"),
                weekdays: "sunnudagur_mÃ¡nudagur_Ã¾riÃ°judagur_miÃ°vikudagur_fimmtudagur_fÃ¶studagur_laugardagur".split("_"),
                weekdaysShort: "sun_mÃ¡n_Ã¾ri_miÃ°_fim_fÃ¶s_lau".split("_"),
                weekdaysMin: "Su_MÃ¡_Ãžr_Mi_Fi_FÃ¶_La".split("_"),
                longDateFormat: {
                    LT: "H:mm",
                    LTS: "H:mm:ss",
                    L: "DD/MM/YYYY",
                    LL: "D. MMMM YYYY",
                    LLL: "D. MMMM YYYY [kl.] H:mm",
                    LLLL: "dddd, D. MMMM YYYY [kl.] H:mm"
                },
                calendar: {
                    sameDay: "[Ã­ dag kl.] LT",
                    nextDay: "[Ã¡ morgun kl.] LT",
                    nextWeek: "dddd [kl.] LT",
                    lastDay: "[Ã­ gÃ¦r kl.] LT",
                    lastWeek: "[sÃ­Ã°asta] dddd [kl.] LT",
                    sameElse: "L"
                },
                relativeTime: {
                    future: "eftir %s",
                    past: "fyrir %s sÃ­Ã°an",
                    s: Gn,
                    m: Gn,
                    mm: Gn,
                    h: "klukkustund",
                    hh: Gn,
                    d: Gn,
                    dd: Gn,
                    M: Gn,
                    MM: Gn,
                    y: Gn,
                    yy: Gn
                },
                ordinalParse: /\d{1,2}\./,
                ordinal: "%d.",
                week: {
                    dow: 1,
                    doy: 4
                }
            }), on.defineLocale("it", {
                months: "gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),
                monthsShort: "gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),
                weekdays: "Domenica_LunedÃ¬_MartedÃ¬_MercoledÃ¬_GiovedÃ¬_VenerdÃ¬_Sabato".split("_"),
                weekdaysShort: "Dom_Lun_Mar_Mer_Gio_Ven_Sab".split("_"),
                weekdaysMin: "D_L_Ma_Me_G_V_S".split("_"),
                longDateFormat: {
                    LT: "HH:mm",
                    LTS: "HH:mm:ss",
                    L: "DD/MM/YYYY",
                    LL: "D MMMM YYYY",
                    LLL: "D MMMM YYYY HH:mm",
                    LLLL: "dddd, D MMMM YYYY HH:mm"
                },
                calendar: {
                    sameDay: "[Oggi alle] LT",
                    nextDay: "[Domani alle] LT",
                    nextWeek: "dddd [alle] LT",
                    lastDay: "[Ieri alle] LT",
                    lastWeek: function() {
                        switch (this.day()) {
                            case 0:
                                return "[la scorsa] dddd [alle] LT";
                            default:
                                return "[lo scorso] dddd [alle] LT"
                        }
                    },
                    sameElse: "L"
                },
                relativeTime: {
                    future: function(e) {
                        return (/^[0-9].+$/.test(e) ? "tra" : "in") + " " + e
                    },
                    past: "%s fa",
                    s: "alcuni secondi",
                    m: "un minuto",
                    mm: "%d minuti",
                    h: "un'ora",
                    hh: "%d ore",
                    d: "un giorno",
                    dd: "%d giorni",
                    M: "un mese",
                    MM: "%d mesi",
                    y: "un anno",
                    yy: "%d anni"
                },
                ordinalParse: /\d{1,2}Âº/,
                ordinal: "%dÂº",
                week: {
                    dow: 1,
                    doy: 4
                }
            }), on.defineLocale("ja", {
                months: "1æœˆ_2æœˆ_3æœˆ_4æœˆ_5æœˆ_6æœˆ_7æœˆ_8æœˆ_9æœˆ_10æœˆ_11æœˆ_12æœˆ".split("_"),
                monthsShort: "1æœˆ_2æœˆ_3æœˆ_4æœˆ_5æœˆ_6æœˆ_7æœˆ_8æœˆ_9æœˆ_10æœˆ_11æœˆ_12æœˆ".split("_"),
                weekdays: "æ—¥æ›œæ—¥_æœˆæ›œæ—¥_ç«æ›œæ—¥_æ°´æ›œæ—¥_æœ¨æ›œæ—¥_é‡‘æ›œæ—¥_åœŸæ›œæ—¥".split("_"),
                weekdaysShort: "æ—¥_æœˆ_ç«_æ°´_æœ¨_é‡‘_åœŸ".split("_"),
                weekdaysMin: "æ—¥_æœˆ_ç«_æ°´_æœ¨_é‡‘_åœŸ".split("_"),
                longDateFormat: {
                    LT: "Ahæ™‚måˆ†",
                    LTS: "Ahæ™‚måˆ†sç§’",
                    L: "YYYY/MM/DD",
                    LL: "YYYYå¹´MæœˆDæ—¥",
                    LLL: "YYYYå¹´MæœˆDæ—¥Ahæ™‚måˆ†",
                    LLLL: "YYYYå¹´MæœˆDæ—¥Ahæ™‚måˆ† dddd"
                },
                meridiemParse: /åˆå‰|åˆå¾Œ/i,
                isPM: function(e) {
                    return "åˆå¾Œ" === e
                },
                meridiem: function(e, t, n) {
                    return e < 12 ? "åˆå‰" : "åˆå¾Œ"
                },
                calendar: {
                    sameDay: "[ä»Šæ—¥] LT",
                    nextDay: "[æ˜Žæ—¥] LT",
                    nextWeek: "[æ¥é€±]dddd LT",
                    lastDay: "[æ˜¨æ—¥] LT",
                    lastWeek: "[å‰é€±]dddd LT",
                    sameElse: "L"
                },
                relativeTime: {
                    future: "%så¾Œ",
                    past: "%så‰",
                    s: "æ•°ç§’",
                    m: "1åˆ†",
                    mm: "%dåˆ†",
                    h: "1æ™‚é–“",
                    hh: "%dæ™‚é–“",
                    d: "1æ—¥",
                    dd: "%dæ—¥",
                    M: "1ãƒ¶æœˆ",
                    MM: "%dãƒ¶æœˆ",
                    y: "1å¹´",
                    yy: "%då¹´"
                }
            }), on.defineLocale("jv", {
                months: "Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember".split("_"),
                monthsShort: "Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des".split("_"),
                weekdays: "Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu".split("_"),
                weekdaysShort: "Min_Sen_Sel_Reb_Kem_Jem_Sep".split("_"),
                weekdaysMin: "Mg_Sn_Sl_Rb_Km_Jm_Sp".split("_"),
                longDateFormat: {
                    LT: "HH.mm",
                    LTS: "HH.mm.ss",
                    L: "DD/MM/YYYY",
                    LL: "D MMMM YYYY",
                    LLL: "D MMMM YYYY [pukul] HH.mm",
                    LLLL: "dddd, D MMMM YYYY [pukul] HH.mm"
                },
                meridiemParse: /enjing|siyang|sonten|ndalu/,
                meridiemHour: function(e, t) {
                    return 12 === e && (e = 0), "enjing" === t ? e : "siyang" === t ? e >= 11 ? e : e + 12 : "sonten" === t || "ndalu" === t ? e + 12 : void 0
                },
                meridiem: function(e, t, n) {
                    return e < 11 ? "enjing" : e < 15 ? "siyang" : e < 19 ? "sonten" : "ndalu"
                },
                calendar: {
                    sameDay: "[Dinten puniko pukul] LT",
                    nextDay: "[Mbenjang pukul] LT",
                    nextWeek: "dddd [pukul] LT",
                    lastDay: "[Kala wingi pukul] LT",
                    lastWeek: "dddd [kepengker pukul] LT",
                    sameElse: "L"
                },
                relativeTime: {
                    future: "wonten ing %s",
                    past: "%s ingkang kepengker",
                    s: "sawetawis detik",
                    m: "setunggal menit",
                    mm: "%d menit",
                    h: "setunggal jam",
                    hh: "%d jam",
                    d: "sedinten",
                    dd: "%d dinten",
                    M: "sewulan",
                    MM: "%d wulan",
                    y: "setaun",
                    yy: "%d taun"
                },
                week: {
                    dow: 1,
                    doy: 7
                }
            });
            //! moment.js locale configuration
            //! locale : italian (it)
            //! author : Lorenzo : https://github.com/aliem
            //! author: Mattia Larentis: https://github.com/nostalgiaz
            on.defineLocale("ka", {
                months:
                //! moment.js locale configuration
                //! locale : Georgian (ka)
                //! author : Irakli Janiashvili : https://github.com/irakli-janiashvili
                    function(e, t) {
                    return {
                        nominative: "áƒ˜áƒáƒœáƒ•áƒáƒ áƒ˜_áƒ—áƒ”áƒ‘áƒ”áƒ áƒ•áƒáƒšáƒ˜_áƒ›áƒáƒ áƒ¢áƒ˜_áƒáƒžáƒ áƒ˜áƒšáƒ˜_áƒ›áƒáƒ˜áƒ¡áƒ˜_áƒ˜áƒ•áƒœáƒ˜áƒ¡áƒ˜_áƒ˜áƒ•áƒšáƒ˜áƒ¡áƒ˜_áƒáƒ’áƒ•áƒ˜áƒ¡áƒ¢áƒ_áƒ¡áƒ”áƒ¥áƒ¢áƒ”áƒ›áƒ‘áƒ”áƒ áƒ˜_áƒáƒ¥áƒ¢áƒáƒ›áƒ‘áƒ”áƒ áƒ˜_áƒœáƒáƒ”áƒ›áƒ‘áƒ”áƒ áƒ˜_áƒ“áƒ”áƒ™áƒ”áƒ›áƒ‘áƒ”áƒ áƒ˜".split("_"),
                        accusative: "áƒ˜áƒáƒœáƒ•áƒáƒ áƒ¡_áƒ—áƒ”áƒ‘áƒ”áƒ áƒ•áƒáƒšáƒ¡_áƒ›áƒáƒ áƒ¢áƒ¡_áƒáƒžáƒ áƒ˜áƒšáƒ˜áƒ¡_áƒ›áƒáƒ˜áƒ¡áƒ¡_áƒ˜áƒ•áƒœáƒ˜áƒ¡áƒ¡_áƒ˜áƒ•áƒšáƒ˜áƒ¡áƒ¡_áƒáƒ’áƒ•áƒ˜áƒ¡áƒ¢áƒ¡_áƒ¡áƒ”áƒ¥áƒ¢áƒ”áƒ›áƒ‘áƒ”áƒ áƒ¡_áƒáƒ¥áƒ¢áƒáƒ›áƒ‘áƒ”áƒ áƒ¡_áƒœáƒáƒ”áƒ›áƒ‘áƒ”áƒ áƒ¡_áƒ“áƒ”áƒ™áƒ”áƒ›áƒ‘áƒ”áƒ áƒ¡".split("_")
                    }[/D[oD] *MMMM?/.test(t) ? "accusative" : "nominative"][e.month()]
                },
                monthsShort: "áƒ˜áƒáƒœ_áƒ—áƒ”áƒ‘_áƒ›áƒáƒ _áƒáƒžáƒ _áƒ›áƒáƒ˜_áƒ˜áƒ•áƒœ_áƒ˜áƒ•áƒš_áƒáƒ’áƒ•_áƒ¡áƒ”áƒ¥_áƒáƒ¥áƒ¢_áƒœáƒáƒ”_áƒ“áƒ”áƒ™".split("_"),
                weekdays: function(e, t) {
                    return {
                        nominative: "áƒ™áƒ•áƒ˜áƒ áƒ_áƒáƒ áƒ¨áƒáƒ‘áƒáƒ—áƒ˜_áƒ¡áƒáƒ›áƒ¨áƒáƒ‘áƒáƒ—áƒ˜_áƒáƒ—áƒ®áƒ¨áƒáƒ‘áƒáƒ—áƒ˜_áƒ®áƒ£áƒ—áƒ¨áƒáƒ‘áƒáƒ—áƒ˜_áƒžáƒáƒ áƒáƒ¡áƒ™áƒ”áƒ•áƒ˜_áƒ¨áƒáƒ‘áƒáƒ—áƒ˜".split("_"),
                        accusative: "áƒ™áƒ•áƒ˜áƒ áƒáƒ¡_áƒáƒ áƒ¨áƒáƒ‘áƒáƒ—áƒ¡_áƒ¡áƒáƒ›áƒ¨áƒáƒ‘áƒáƒ—áƒ¡_áƒáƒ—áƒ®áƒ¨áƒáƒ‘áƒáƒ—áƒ¡_áƒ®áƒ£áƒ—áƒ¨áƒáƒ‘áƒáƒ—áƒ¡_áƒžáƒáƒ áƒáƒ¡áƒ™áƒ”áƒ•áƒ¡_áƒ¨áƒáƒ‘áƒáƒ—áƒ¡".split("_")
                    }[/(áƒ¬áƒ˜áƒœáƒ|áƒ¨áƒ”áƒ›áƒ“áƒ”áƒ’)/.test(t) ? "accusative" : "nominative"][e.day()]
                },
                weekdaysShort: "áƒ™áƒ•áƒ˜_áƒáƒ áƒ¨_áƒ¡áƒáƒ›_áƒáƒ—áƒ®_áƒ®áƒ£áƒ—_áƒžáƒáƒ _áƒ¨áƒáƒ‘".split("_"),
                weekdaysMin: "áƒ™áƒ•_áƒáƒ _áƒ¡áƒ_áƒáƒ—_áƒ®áƒ£_áƒžáƒ_áƒ¨áƒ".split("_"),
                longDateFormat: {
                    LT: "h:mm A",
                    LTS: "h:mm:ss A",
                    L: "DD/MM/YYYY",
                    LL: "D MMMM YYYY",
                    LLL: "D MMMM YYYY h:mm A",
                    LLLL: "dddd, D MMMM YYYY h:mm A"
                },
                calendar: {
                    sameDay: "[áƒ“áƒ¦áƒ”áƒ¡] LT[-áƒ–áƒ”]",
                    nextDay: "[áƒ®áƒ•áƒáƒš] LT[-áƒ–áƒ”]",
                    lastDay: "[áƒ’áƒ£áƒ¨áƒ˜áƒœ] LT[-áƒ–áƒ”]",
                    nextWeek: "[áƒ¨áƒ”áƒ›áƒ“áƒ”áƒ’] dddd LT[-áƒ–áƒ”]",
                    lastWeek: "[áƒ¬áƒ˜áƒœáƒ] dddd LT-áƒ–áƒ”",
                    sameElse: "L"
                },
                relativeTime: {
                    future: function(e) {
                        return /(áƒ¬áƒáƒ›áƒ˜|áƒ¬áƒ£áƒ—áƒ˜|áƒ¡áƒáƒáƒ—áƒ˜|áƒ¬áƒ”áƒšáƒ˜)/.test(e) ? e.replace(/áƒ˜$/, "áƒ¨áƒ˜") : e + "áƒ¨áƒ˜"
                    },
                    past: function(e) {
                        return /(áƒ¬áƒáƒ›áƒ˜|áƒ¬áƒ£áƒ—áƒ˜|áƒ¡áƒáƒáƒ—áƒ˜|áƒ“áƒ¦áƒ”|áƒ—áƒ•áƒ”)/.test(e) ? e.replace(/(áƒ˜|áƒ”)$/, "áƒ˜áƒ¡ áƒ¬áƒ˜áƒœ") : /áƒ¬áƒ”áƒšáƒ˜/.test(e) ? e.replace(/áƒ¬áƒ”áƒšáƒ˜$/, "áƒ¬áƒšáƒ˜áƒ¡ áƒ¬áƒ˜áƒœ") : void 0
                    },
                    s: "áƒ áƒáƒ›áƒ“áƒ”áƒœáƒ˜áƒ›áƒ” áƒ¬áƒáƒ›áƒ˜",
                    m: "áƒ¬áƒ£áƒ—áƒ˜",
                    mm: "%d áƒ¬áƒ£áƒ—áƒ˜",
                    h: "áƒ¡áƒáƒáƒ—áƒ˜",
                    hh: "%d áƒ¡áƒáƒáƒ—áƒ˜",
                    d: "áƒ“áƒ¦áƒ”",
                    dd: "%d áƒ“áƒ¦áƒ”",
                    M: "áƒ—áƒ•áƒ”",
                    MM: "%d áƒ—áƒ•áƒ”",
                    y: "áƒ¬áƒ”áƒšáƒ˜",
                    yy: "%d áƒ¬áƒ”áƒšáƒ˜"
                },
                ordinalParse: /0|1-áƒšáƒ˜|áƒ›áƒ”-\d{1,2}|\d{1,2}-áƒ”/,
                ordinal: function(e) {
                    return 0 === e ? e : 1 === e ? e + "-áƒšáƒ˜" : e < 20 || e <= 100 && e % 20 == 0 || e % 100 == 0 ? "áƒ›áƒ”-" + e : e + "-áƒ”"
                },
                week: {
                    dow: 1,
                    doy: 7
                }
            }), on.defineLocale("km", {
                months: "áž˜áž€ážšáž¶_áž€áž»áž˜áŸ’áž—áŸˆ_áž˜áž·áž“áž¶_áž˜áŸážŸáž¶_áž§ážŸáž—áž¶_áž˜áž·ážáž»áž“áž¶_áž€áž€áŸ’áž€ážŠáž¶_ážŸáž¸áž áž¶_áž€áž‰áŸ’áž‰áž¶_ážáž»áž›áž¶_ážœáž·áž…áŸ’áž†áž·áž€áž¶_áž’áŸ’áž“áž¼".split("_"),
                monthsShort: "áž˜áž€ážšáž¶_áž€áž»áž˜áŸ’áž—áŸˆ_áž˜áž·áž“áž¶_áž˜áŸážŸáž¶_áž§ážŸáž—áž¶_áž˜áž·ážáž»áž“áž¶_áž€áž€áŸ’áž€ážŠáž¶_ážŸáž¸áž áž¶_áž€áž‰áŸ’áž‰áž¶_ážáž»áž›áž¶_ážœáž·áž…áŸ’áž†áž·áž€áž¶_áž’áŸ’áž“áž¼".split("_"),
                weekdays: "áž¢áž¶áž‘áž·ážáŸ’áž™_áž…áŸáž“áŸ’áž‘_áž¢áž„áŸ’áž‚áž¶ážš_áž–áž»áž’_áž–áŸ’ážšáž ážŸáŸ’áž”ážáž·áŸ_ážŸáž»áž€áŸ’ážš_ážŸáŸ…ážšáŸ".split("_"),
                weekdaysShort: "áž¢áž¶áž‘áž·ážáŸ’áž™_áž…áŸáž“áŸ’áž‘_áž¢áž„áŸ’áž‚áž¶ážš_áž–áž»áž’_áž–áŸ’ážšáž ážŸáŸ’áž”ážáž·áŸ_ážŸáž»áž€áŸ’ážš_ážŸáŸ…ážšáŸ".split("_"),
                weekdaysMin: "áž¢áž¶áž‘áž·ážáŸ’áž™_áž…áŸáž“áŸ’áž‘_áž¢áž„áŸ’áž‚áž¶ážš_áž–áž»áž’_áž–áŸ’ážšáž ážŸáŸ’áž”ážáž·áŸ_ážŸáž»áž€áŸ’ážš_ážŸáŸ…ážšáŸ".split("_"),
                longDateFormat: {
                    LT: "HH:mm",
                    LTS: "HH:mm:ss",
                    L: "DD/MM/YYYY",
                    LL: "D MMMM YYYY",
                    LLL: "D MMMM YYYY HH:mm",
                    LLLL: "dddd, D MMMM YYYY HH:mm"
                },
                calendar: {
                    sameDay: "[ážáŸ’áž„áŸƒáž“áŸˆ áž˜áŸ‰áŸ„áž„] LT",
                    nextDay: "[ážŸáŸ’áž¢áŸ‚áž€ áž˜áŸ‰áŸ„áž„] LT",
                    nextWeek: "dddd [áž˜áŸ‰áŸ„áž„] LT",
                    lastDay: "[áž˜áŸ’ážŸáž·áž›áž˜áž·áž‰ áž˜áŸ‰áŸ„áž„] LT",
                    lastWeek: "dddd [ážŸáž”áŸ’ážáž¶áž áŸáž˜áž»áž“] [áž˜áŸ‰áŸ„áž„] LT",
                    sameElse: "L"
                },
                relativeTime: {
                    future: "%sáž‘áŸ€áž",
                    past: "%sáž˜áž»áž“",
                    s: "áž”áŸ‰áž»áž“áŸ’áž˜áž¶áž“ážœáž·áž“áž¶áž‘áž¸",
                    m: "áž˜áž½áž™áž“áž¶áž‘áž¸",
                    mm: "%d áž“áž¶áž‘áž¸",
                    h: "áž˜áž½áž™áž˜áŸ‰áŸ„áž„",
                    hh: "%d áž˜áŸ‰áŸ„áž„",
                    d: "áž˜áž½áž™ážáŸ’áž„áŸƒ",
                    dd: "%d ážáŸ’áž„áŸƒ",
                    M: "áž˜áž½áž™ážáŸ‚",
                    MM: "%d ážáŸ‚",
                    y: "áž˜áž½áž™áž†áŸ’áž“áž¶áŸ†",
                    yy: "%d áž†áŸ’áž“áž¶áŸ†"
                },
                week: {
                    dow: 1,
                    doy: 4
                }
            }), on.defineLocale("ko", {
                months: "1ì›”_2ì›”_3ì›”_4ì›”_5ì›”_6ì›”_7ì›”_8ì›”_9ì›”_10ì›”_11ì›”_12ì›”".split("_"),
                monthsShort: "1ì›”_2ì›”_3ì›”_4ì›”_5ì›”_6ì›”_7ì›”_8ì›”_9ì›”_10ì›”_11ì›”_12ì›”".split("_"),
                weekdays: "ì¼ìš”ì¼_ì›”ìš”ì¼_í™”ìš”ì¼_ìˆ˜ìš”ì¼_ëª©ìš”ì¼_ê¸ˆìš”ì¼_í† ìš”ì¼".split("_"),
                weekdaysShort: "ì¼_ì›”_í™”_ìˆ˜_ëª©_ê¸ˆ_í† ".split("_"),
                weekdaysMin: "ì¼_ì›”_í™”_ìˆ˜_ëª©_ê¸ˆ_í† ".split("_"),
                longDateFormat: {
                    LT: "A hì‹œ më¶„",
                    LTS: "A hì‹œ më¶„ sì´ˆ",
                    L: "YYYY.MM.DD",
                    LL: "YYYYë…„ MMMM Dì¼",
                    LLL: "YYYYë…„ MMMM Dì¼ A hì‹œ më¶„",
                    LLLL: "YYYYë…„ MMMM Dì¼ dddd A hì‹œ më¶„"
                },
                calendar: {
                    sameDay: "ì˜¤ëŠ˜ LT",
                    nextDay: "ë‚´ì¼ LT",
                    nextWeek: "dddd LT",
                    lastDay: "ì–´ì œ LT",
                    lastWeek: "ì§€ë‚œì£¼ dddd LT",
                    sameElse: "L"
                },
                relativeTime: {
                    future: "%s í›„",
                    past: "%s ì „",
                    s: "ëª‡ì´ˆ",
                    ss: "%dì´ˆ",
                    m: "ì¼ë¶„",
                    mm: "%dë¶„",
                    h: "í•œì‹œê°„",
                    hh: "%dì‹œê°„",
                    d: "í•˜ë£¨",
                    dd: "%dì¼",
                    M: "í•œë‹¬",
                    MM: "%dë‹¬",
                    y: "ì¼ë…„",
                    yy: "%dë…„"
                },
                ordinalParse: /\d{1,2}ì¼/,
                ordinal: "%dì¼",
                meridiemParse: /ì˜¤ì „|ì˜¤í›„/,
                isPM: function(e) {
                    return "ì˜¤í›„" === e
                },
                meridiem: function(e, t, n) {
                    return e < 12 ? "ì˜¤ì „" : "ì˜¤í›„"
                }
            });
            //! moment.js locale configuration
            //! locale : khmer (km)
            //! author : Kruy Vanna : https://github.com/kruyvanna
            //! moment.js locale configuration
            //! locale : Luxembourgish (lb)
            //! author : mweimerskirch : https://github.com/mweimerskirch, David Raison : https://github.com/kwisatz
            function Un(e, t, n, i) {
                var a = {
                    m: ["eng Minutt", "enger Minutt"],
                    h: ["eng Stonn", "enger Stonn"],
                    d: ["een Dag", "engem Dag"],
                    M: ["ee Mount", "engem Mount"],
                    y: ["ee Joer", "engem Joer"]
                };
                return t ? a[n][0] : a[n][1]
            }

            function Jn(e) {
                if (e = parseInt(e, 10), isNaN(e)) return !1;
                if (e < 0) return !0;
                if (e < 10) return 4 <= e && e <= 7;
                if (e < 100) {
                    var t = e % 10;
                    return Jn(0 === t ? e / 10 : t)
                }
                if (e < 1e4) {
                    for (; e >= 10;) e /= 10;
                    return Jn(e)
                }
                return Jn(e /= 1e3)
            }
            on.defineLocale("lb", {
                months: "Januar_Februar_MÃ¤erz_AbrÃ«ll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),
                monthsShort: "Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),
                weekdays: "Sonndeg_MÃ©indeg_DÃ«nschdeg_MÃ«ttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),
                weekdaysShort: "So._MÃ©._DÃ«._MÃ«._Do._Fr._Sa.".split("_"),
                weekdaysMin: "So_MÃ©_DÃ«_MÃ«_Do_Fr_Sa".split("_"),
                longDateFormat: {
                    LT: "H:mm [Auer]",
                    LTS: "H:mm:ss [Auer]",
                    L: "DD.MM.YYYY",
                    LL: "D. MMMM YYYY",
                    LLL: "D. MMMM YYYY H:mm [Auer]",
                    LLLL: "dddd, D. MMMM YYYY H:mm [Auer]"
                },
                calendar: {
                    sameDay: "[Haut um] LT",
                    sameElse: "L",
                    nextDay: "[Muer um] LT",
                    nextWeek: "dddd [um] LT",
                    lastDay: "[GÃ«schter um] LT",
                    lastWeek: function() {
                        switch (this.day()) {
                            case 2:
                            case 4:
                                return "[Leschten] dddd [um] LT";
                            default:
                                return "[Leschte] dddd [um] LT"
                        }
                    }
                },
                relativeTime: {
                    future: function(e) {
                        return Jn(e.substr(0, e.indexOf(" "))) ? "a " + e : "an " + e
                    },
                    past: function(e) {
                        return Jn(e.substr(0, e.indexOf(" "))) ? "viru " + e : "virun " + e
                    },
                    s: "e puer Sekonnen",
                    m: Un,
                    mm: "%d Minutten",
                    h: Un,
                    hh: "%d Stonnen",
                    d: Un,
                    dd: "%d Deeg",
                    M: Un,
                    MM: "%d MÃ©int",
                    y: Un,
                    yy: "%d Joer"
                },
                ordinalParse: /\d{1,2}\./,
                ordinal: "%d.",
                week: {
                    dow: 1,
                    doy: 4
                }
            });
            //! moment.js locale configuration
            //! locale : Lithuanian (lt)
            //! author : Mindaugas MozÅ«ras : https://github.com/mmozuras
            var Qn = {
                    m: "minutÄ—_minutÄ—s_minutÄ™",
                    mm: "minutÄ—s_minuÄiÅ³_minutes",
                    h: "valanda_valandos_valandÄ…",
                    hh: "valandos_valandÅ³_valandas",
                    d: "diena_dienos_dienÄ…",
                    dd: "dienos_dienÅ³_dienas",
                    M: "mÄ—nuo_mÄ—nesio_mÄ—nesÄ¯",
                    MM: "mÄ—nesiai_mÄ—nesiÅ³_mÄ—nesius",
                    y: "metai_metÅ³_metus",
                    yy: "metai_metÅ³_metus"
                },
                Kn = "sekmadienis_pirmadienis_antradienis_treÄiadienis_ketvirtadienis_penktadienis_Å¡eÅ¡tadienis".split("_");

            function Zn(e, t, n, i) {
                return t ? ei(n)[0] : i ? ei(n)[1] : ei(n)[2]
            }

            function Xn(e) {
                return e % 10 == 0 || e > 10 && e < 20
            }

            function ei(e) {
                return Qn[e].split("_")
            }

            function ti(e, t, n, i) {
                var a = e + " ";
                return 1 === e ? a + Zn(0, t, n[0], i) : t ? a + (Xn(e) ? ei(n)[1] : ei(n)[0]) : i ? a + ei(n)[1] : a + (Xn(e) ? ei(n)[1] : ei(n)[2])
            }
            on.defineLocale("lt", {
                months: function(e, t) {
                    return {
                        nominative: "sausis_vasaris_kovas_balandis_geguÅ¾Ä—_birÅ¾elis_liepa_rugpjÅ«tis_rugsÄ—jis_spalis_lapkritis_gruodis".split("_"),
                        accusative: "sausio_vasario_kovo_balandÅ¾io_geguÅ¾Ä—s_birÅ¾elio_liepos_rugpjÅ«Äio_rugsÄ—jo_spalio_lapkriÄio_gruodÅ¾io".split("_")
                    }[/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(t) ? "accusative" : "nominative"][e.month()]
                },
                monthsShort: "sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),
                weekdays: function(e, t) {
                    var n = -1 === t.indexOf("dddd HH:mm"),
                        i = Kn[e.day()];
                    return n ? i : i.substring(0, i.length - 2) + "Ä¯"
                },
                weekdaysShort: "Sek_Pir_Ant_Tre_Ket_Pen_Å eÅ¡".split("_"),
                weekdaysMin: "S_P_A_T_K_Pn_Å ".split("_"),
                longDateFormat: {
                    LT: "HH:mm",
                    LTS: "HH:mm:ss",
                    L: "YYYY-MM-DD",
                    LL: "YYYY [m.] MMMM D [d.]",
                    LLL: "YYYY [m.] MMMM D [d.], HH:mm [val.]",
                    LLLL: "YYYY [m.] MMMM D [d.], dddd, HH:mm [val.]",
                    l: "YYYY-MM-DD",
                    ll: "YYYY [m.] MMMM D [d.]",
                    lll: "YYYY [m.] MMMM D [d.], HH:mm [val.]",
                    llll: "YYYY [m.] MMMM D [d.], ddd, HH:mm [val.]"
                },
                calendar: {
                    sameDay: "[Å iandien] LT",
                    nextDay: "[Rytoj] LT",
                    nextWeek: "dddd LT",
                    lastDay: "[Vakar] LT",
                    lastWeek: "[PraÄ—jusÄ¯] dddd LT",
                    sameElse: "L"
                },
                relativeTime: {
                    future: "po %s",
                    past: "prieÅ¡ %s",
                    s: function(e, t, n, i) {
                        return t ? "kelios sekundÄ—s" : i ? "keliÅ³ sekundÅ¾iÅ³" : "kelias sekundes"
                    },
                    m: Zn,
                    mm: ti,
                    h: Zn,
                    hh: ti,
                    d: Zn,
                    dd: ti,
                    M: Zn,
                    MM: ti,
                    y: Zn,
                    yy: ti
                },
                ordinalParse: /\d{1,2}-oji/,
                ordinal: function(e) {
                    return e + "-oji"
                },
                week: {
                    dow: 1,
                    doy: 4
                }
            });
            //! moment.js locale configuration
            //! locale : latvian (lv)
            //! author : Kristaps Karlsons : https://github.com/skakri
            //! author : JÄnis Elmeris : https://github.com/JanisE
            var ni = {
                m: "minÅ«tes_minÅ«tÄ“m_minÅ«te_minÅ«tes".split("_"),
                mm: "minÅ«tes_minÅ«tÄ“m_minÅ«te_minÅ«tes".split("_"),
                h: "stundas_stundÄm_stunda_stundas".split("_"),
                hh: "stundas_stundÄm_stunda_stundas".split("_"),
                d: "dienas_dienÄm_diena_dienas".split("_"),
                dd: "dienas_dienÄm_diena_dienas".split("_"),
                M: "mÄ“neÅ¡a_mÄ“neÅ¡iem_mÄ“nesis_mÄ“neÅ¡i".split("_"),
                MM: "mÄ“neÅ¡a_mÄ“neÅ¡iem_mÄ“nesis_mÄ“neÅ¡i".split("_"),
                y: "gada_gadiem_gads_gadi".split("_"),
                yy: "gada_gadiem_gads_gadi".split("_")
            };

            function ii(e, t, n) {
                return n ? t % 10 == 1 && 11 !== t ? e[2] : e[3] : t % 10 == 1 && 11 !== t ? e[0] : e[1]
            }

            function ai(e, t, n) {
                return e + " " + ii(ni[n], e, t)
            }

            function si(e, t, n) {
                return ii(ni[n], e, t)
            }
            on.defineLocale("lv", {
                months: "janvÄris_februÄris_marts_aprÄ«lis_maijs_jÅ«nijs_jÅ«lijs_augusts_septembris_oktobris_novembris_decembris".split("_"),
                monthsShort: "jan_feb_mar_apr_mai_jÅ«n_jÅ«l_aug_sep_okt_nov_dec".split("_"),
                weekdays: "svÄ“tdiena_pirmdiena_otrdiena_treÅ¡diena_ceturtdiena_piektdiena_sestdiena".split("_"),
                weekdaysShort: "Sv_P_O_T_C_Pk_S".split("_"),
                weekdaysMin: "Sv_P_O_T_C_Pk_S".split("_"),
                longDateFormat: {
                    LT: "HH:mm",
                    LTS: "HH:mm:ss",
                    L: "DD.MM.YYYY.",
                    LL: "YYYY. [gada] D. MMMM",
                    LLL: "YYYY. [gada] D. MMMM, HH:mm",
                    LLLL: "YYYY. [gada] D. MMMM, dddd, HH:mm"
                },
                calendar: {
                    sameDay: "[Å odien pulksten] LT",
                    nextDay: "[RÄ«t pulksten] LT",
                    nextWeek: "dddd [pulksten] LT",
                    lastDay: "[Vakar pulksten] LT",
                    lastWeek: "[PagÄjuÅ¡Ä] dddd [pulksten] LT",
                    sameElse: "L"
                },
                relativeTime: {
                    future: "pÄ“c %s",
                    past: "pirms %s",
                    s: function(e, t) {
                        return t ? "daÅ¾as sekundes" : "daÅ¾Äm sekundÄ“m"
                    },
                    m: si,
                    mm: ai,
                    h: si,
                    hh: ai,
                    d: si,
                    dd: ai,
                    M: si,
                    MM: ai,
                    y: si,
                    yy: ai
                },
                ordinalParse: /\d{1,2}\./,
                ordinal: "%d.",
                week: {
                    dow: 1,
                    doy: 4
                }
            });
            //! moment.js locale configuration
            //! locale : Montenegrin (me)
            //! author : Miodrag NikaÄ <miodrag@restartit.me> : https://github.com/miodragnikac
            var ri = {
                    words: {
                        m: ["jedan minut", "jednog minuta"],
                        mm: ["minut", "minuta", "minuta"],
                        h: ["jedan sat", "jednog sata"],
                        hh: ["sat", "sata", "sati"],
                        dd: ["dan", "dana", "dana"],
                        MM: ["mjesec", "mjeseca", "mjeseci"],
                        yy: ["godina", "godine", "godina"]
                    },
                    correctGrammaticalCase: function(e, t) {
                        return 1 === e ? t[0] : e >= 2 && e <= 4 ? t[1] : t[2]
                    },
                    translate: function(e, t, n) {
                        var i = ri.words[n];
                        return 1 === n.length ? t ? i[0] : i[1] : e + " " + ri.correctGrammaticalCase(e, i)
                    }
                },
                oi = (on.defineLocale("me", {
                    months: ["januar", "februar", "mart", "april", "maj", "jun", "jul", "avgust", "septembar", "oktobar", "novembar", "decembar"],
                    monthsShort: ["jan.", "feb.", "mar.", "apr.", "maj", "jun", "jul", "avg.", "sep.", "okt.", "nov.", "dec."],
                    weekdays: ["nedjelja", "ponedjeljak", "utorak", "srijeda", "Äetvrtak", "petak", "subota"],
                    weekdaysShort: ["ned.", "pon.", "uto.", "sri.", "Äet.", "pet.", "sub."],
                    weekdaysMin: ["ne", "po", "ut", "sr", "Äe", "pe", "su"],
                    longDateFormat: {
                        LT: "H:mm",
                        LTS: "H:mm:ss",
                        L: "DD. MM. YYYY",
                        LL: "D. MMMM YYYY",
                        LLL: "D. MMMM YYYY H:mm",
                        LLLL: "dddd, D. MMMM YYYY H:mm"
                    },
                    calendar: {
                        sameDay: "[danas u] LT",
                        nextDay: "[sjutra u] LT",
                        nextWeek: function() {
                            switch (this.day()) {
                                case 0:
                                    return "[u] [nedjelju] [u] LT";
                                case 3:
                                    return "[u] [srijedu] [u] LT";
                                case 6:
                                    return "[u] [subotu] [u] LT";
                                case 1:
                                case 2:
                                case 4:
                                case 5:
                                    return "[u] dddd [u] LT"
                            }
                        },
                        lastDay: "[juÄe u] LT",
                        lastWeek: function() {
                            return ["[proÅ¡le] [nedjelje] [u] LT", "[proÅ¡log] [ponedjeljka] [u] LT", "[proÅ¡log] [utorka] [u] LT", "[proÅ¡le] [srijede] [u] LT", "[proÅ¡log] [Äetvrtka] [u] LT", "[proÅ¡log] [petka] [u] LT", "[proÅ¡le] [subote] [u] LT"][this.day()]
                        },
                        sameElse: "L"
                    },
                    relativeTime: {
                        future: "za %s",
                        past: "prije %s",
                        s: "nekoliko sekundi",
                        m: ri.translate,
                        mm: ri.translate,
                        h: ri.translate,
                        hh: ri.translate,
                        d: "dan",
                        dd: ri.translate,
                        M: "mjesec",
                        MM: ri.translate,
                        y: "godinu",
                        yy: ri.translate
                    },
                    ordinalParse: /\d{1,2}\./,
                    ordinal: "%d.",
                    week: {
                        dow: 1,
                        doy: 7
                    }
                }), on.defineLocale("mk", {
                    months: "Ñ˜Ð°Ð½ÑƒÐ°Ñ€Ð¸_Ñ„ÐµÐ²Ñ€ÑƒÐ°Ñ€Ð¸_Ð¼Ð°Ñ€Ñ‚_Ð°Ð¿Ñ€Ð¸Ð»_Ð¼Ð°Ñ˜_Ñ˜ÑƒÐ½Ð¸_Ñ˜ÑƒÐ»Ð¸_Ð°Ð²Ð³ÑƒÑÑ‚_ÑÐµÐ¿Ñ‚ÐµÐ¼Ð²Ñ€Ð¸_Ð¾ÐºÑ‚Ð¾Ð¼Ð²Ñ€Ð¸_Ð½Ð¾ÐµÐ¼Ð²Ñ€Ð¸_Ð´ÐµÐºÐµÐ¼Ð²Ñ€Ð¸".split("_"),
                    monthsShort: "Ñ˜Ð°Ð½_Ñ„ÐµÐ²_Ð¼Ð°Ñ€_Ð°Ð¿Ñ€_Ð¼Ð°Ñ˜_Ñ˜ÑƒÐ½_Ñ˜ÑƒÐ»_Ð°Ð²Ð³_ÑÐµÐ¿_Ð¾ÐºÑ‚_Ð½Ð¾Ðµ_Ð´ÐµÐº".split("_"),
                    weekdays: "Ð½ÐµÐ´ÐµÐ»Ð°_Ð¿Ð¾Ð½ÐµÐ´ÐµÐ»Ð½Ð¸Ðº_Ð²Ñ‚Ð¾Ñ€Ð½Ð¸Ðº_ÑÑ€ÐµÐ´Ð°_Ñ‡ÐµÑ‚Ð²Ñ€Ñ‚Ð¾Ðº_Ð¿ÐµÑ‚Ð¾Ðº_ÑÐ°Ð±Ð¾Ñ‚Ð°".split("_"),
                    weekdaysShort: "Ð½ÐµÐ´_Ð¿Ð¾Ð½_Ð²Ñ‚Ð¾_ÑÑ€Ðµ_Ñ‡ÐµÑ‚_Ð¿ÐµÑ‚_ÑÐ°Ð±".split("_"),
                    weekdaysMin: "Ð½e_Ð¿o_Ð²Ñ‚_ÑÑ€_Ñ‡Ðµ_Ð¿Ðµ_Ña".split("_"),
                    longDateFormat: {
                        LT: "H:mm",
                        LTS: "H:mm:ss",
                        L: "D.MM.YYYY",
                        LL: "D MMMM YYYY",
                        LLL: "D MMMM YYYY H:mm",
                        LLLL: "dddd, D MMMM YYYY H:mm"
                    },
                    calendar: {
                        sameDay: "[Ð”ÐµÐ½ÐµÑ Ð²Ð¾] LT",
                        nextDay: "[Ð£Ñ‚Ñ€Ðµ Ð²Ð¾] LT",
                        nextWeek: "dddd [Ð²Ð¾] LT",
                        lastDay: "[Ð’Ñ‡ÐµÑ€Ð° Ð²Ð¾] LT",
                        lastWeek: function() {
                            switch (this.day()) {
                                case 0:
                                case 3:
                                case 6:
                                    return "[Ð’Ð¾ Ð¸Ð·Ð¼Ð¸Ð½Ð°Ñ‚Ð°Ñ‚Ð°] dddd [Ð²Ð¾] LT";
                                case 1:
                                case 2:
                                case 4:
                                case 5:
                                    return "[Ð’Ð¾ Ð¸Ð·Ð¼Ð¸Ð½Ð°Ñ‚Ð¸Ð¾Ñ‚] dddd [Ð²Ð¾] LT"
                            }
                        },
                        sameElse: "L"
                    },
                    relativeTime: {
                        future: "Ð¿Ð¾ÑÐ»Ðµ %s",
                        past: "Ð¿Ñ€ÐµÐ´ %s",
                        s: "Ð½ÐµÐºÐ¾Ð»ÐºÑƒ ÑÐµÐºÑƒÐ½Ð´Ð¸",
                        m: "Ð¼Ð¸Ð½ÑƒÑ‚Ð°",
                        mm: "%d Ð¼Ð¸Ð½ÑƒÑ‚Ð¸",
                        h: "Ñ‡Ð°Ñ",
                        hh: "%d Ñ‡Ð°ÑÐ°",
                        d: "Ð´ÐµÐ½",
                        dd: "%d Ð´ÐµÐ½Ð°",
                        M: "Ð¼ÐµÑÐµÑ†",
                        MM: "%d Ð¼ÐµÑÐµÑ†Ð¸",
                        y: "Ð³Ð¾Ð´Ð¸Ð½Ð°",
                        yy: "%d Ð³Ð¾Ð´Ð¸Ð½Ð¸"
                    },
                    ordinalParse: /\d{1,2}-(ÐµÐ²|ÐµÐ½|Ñ‚Ð¸|Ð²Ð¸|Ñ€Ð¸|Ð¼Ð¸)/,
                    ordinal: function(e) {
                        var t = e % 10,
                            n = e % 100;
                        return 0 === e ? e + "-ÐµÐ²" : 0 === n ? e + "-ÐµÐ½" : n > 10 && n < 20 ? e + "-Ñ‚Ð¸" : 1 === t ? e + "-Ð²Ð¸" : 2 === t ? e + "-Ñ€Ð¸" : 7 === t || 8 === t ? e + "-Ð¼Ð¸" : e + "-Ñ‚Ð¸"
                    },
                    week: {
                        dow: 1,
                        doy: 7
                    }
                }), on.defineLocale("ml", {
                    months: "à´œà´¨àµà´µà´°à´¿_à´«àµ†à´¬àµà´°àµà´µà´°à´¿_à´®à´¾àµ¼à´šàµà´šàµ_à´à´ªàµà´°à´¿àµ½_à´®àµ‡à´¯àµ_à´œàµ‚àµº_à´œàµ‚à´²àµˆ_à´“à´—à´¸àµà´±àµà´±àµ_à´¸àµ†à´ªàµà´±àµà´±à´‚à´¬àµ¼_à´’à´•àµà´Ÿàµ‹à´¬àµ¼_à´¨à´µà´‚à´¬àµ¼_à´¡à´¿à´¸à´‚à´¬àµ¼".split("_"),
                    monthsShort: "à´œà´¨àµ._à´«àµ†à´¬àµà´°àµ._à´®à´¾àµ¼._à´à´ªàµà´°à´¿._à´®àµ‡à´¯àµ_à´œàµ‚àµº_à´œàµ‚à´²àµˆ._à´“à´—._à´¸àµ†à´ªàµà´±àµà´±._à´’à´•àµà´Ÿàµ‹._à´¨à´µà´‚._à´¡à´¿à´¸à´‚.".split("_"),
                    weekdays: "à´žà´¾à´¯à´±à´¾à´´àµà´š_à´¤à´¿à´™àµà´•à´³à´¾à´´àµà´š_à´šàµŠà´µàµà´µà´¾à´´àµà´š_à´¬àµà´§à´¨à´¾à´´àµà´š_à´µàµà´¯à´¾à´´à´¾à´´àµà´š_à´µàµ†à´³àµà´³à´¿à´¯à´¾à´´àµà´š_à´¶à´¨à´¿à´¯à´¾à´´àµà´š".split("_"),
                    weekdaysShort: "à´žà´¾à´¯àµ¼_à´¤à´¿à´™àµà´•àµ¾_à´šàµŠà´µàµà´µ_à´¬àµà´§àµ»_à´µàµà´¯à´¾à´´à´‚_à´µàµ†à´³àµà´³à´¿_à´¶à´¨à´¿".split("_"),
                    weekdaysMin: "à´žà´¾_à´¤à´¿_à´šàµŠ_à´¬àµ_à´µàµà´¯à´¾_à´µàµ†_à´¶".split("_"),
                    longDateFormat: {
                        LT: "A h:mm -à´¨àµ",
                        LTS: "A h:mm:ss -à´¨àµ",
                        L: "DD/MM/YYYY",
                        LL: "D MMMM YYYY",
                        LLL: "D MMMM YYYY, A h:mm -à´¨àµ",
                        LLLL: "dddd, D MMMM YYYY, A h:mm -à´¨àµ"
                    },
                    calendar: {
                        sameDay: "[à´‡à´¨àµà´¨àµ] LT",
                        nextDay: "[à´¨à´¾à´³àµ†] LT",
                        nextWeek: "dddd, LT",
                        lastDay: "[à´‡à´¨àµà´¨à´²àµ†] LT",
                        lastWeek: "[à´•à´´à´¿à´žàµà´ž] dddd, LT",
                        sameElse: "L"
                    },
                    relativeTime: {
                        future: "%s à´•à´´à´¿à´žàµà´žàµ",
                        past: "%s à´®àµàµ»à´ªàµ",
                        s: "à´…àµ½à´ª à´¨à´¿à´®à´¿à´·à´™àµà´™àµ¾",
                        m: "à´’à´°àµ à´®à´¿à´¨à´¿à´±àµà´±àµ",
                        mm: "%d à´®à´¿à´¨à´¿à´±àµà´±àµ",
                        h: "à´’à´°àµ à´®à´£à´¿à´•àµà´•àµ‚àµ¼",
                        hh: "%d à´®à´£à´¿à´•àµà´•àµ‚àµ¼",
                        d: "à´’à´°àµ à´¦à´¿à´µà´¸à´‚",
                        dd: "%d à´¦à´¿à´µà´¸à´‚",
                        M: "à´’à´°àµ à´®à´¾à´¸à´‚",
                        MM: "%d à´®à´¾à´¸à´‚",
                        y: "à´’à´°àµ à´µàµ¼à´·à´‚",
                        yy: "%d à´µàµ¼à´·à´‚"
                    },
                    meridiemParse: /à´°à´¾à´¤àµà´°à´¿|à´°à´¾à´µà´¿à´²àµ†|à´‰à´šàµà´š à´•à´´à´¿à´žàµà´žàµ|à´µàµˆà´•àµà´¨àµà´¨àµ‡à´°à´‚|à´°à´¾à´¤àµà´°à´¿/i,
                    isPM: function(e) {
                        return /^(à´‰à´šàµà´š à´•à´´à´¿à´žàµà´žàµ|à´µàµˆà´•àµà´¨àµà´¨àµ‡à´°à´‚|à´°à´¾à´¤àµà´°à´¿)$/.test(e)
                    },
                    meridiem: function(e, t, n) {
                        return e < 4 ? "à´°à´¾à´¤àµà´°à´¿" : e < 12 ? "à´°à´¾à´µà´¿à´²àµ†" : e < 17 ? "à´‰à´šàµà´š à´•à´´à´¿à´žàµà´žàµ" : e < 20 ? "à´µàµˆà´•àµà´¨àµà´¨àµ‡à´°à´‚" : "à´°à´¾à´¤àµà´°à´¿"
                    }
                }), {
                    1: "à¥§",
                    2: "à¥¨",
                    3: "à¥©",
                    4: "à¥ª",
                    5: "à¥«",
                    6: "à¥¬",
                    7: "à¥­",
                    8: "à¥®",
                    9: "à¥¯",
                    0: "à¥¦"
                }),
                li = {
                    "à¥§": "1",
                    "à¥¨": "2",
                    "à¥©": "3",
                    "à¥ª": "4",
                    "à¥«": "5",
                    "à¥¬": "6",
                    "à¥­": "7",
                    "à¥®": "8",
                    "à¥¯": "9",
                    "à¥¦": "0"
                },
                ci = (on.defineLocale("mr", {
                    months: "à¤œà¤¾à¤¨à¥‡à¤µà¤¾à¤°à¥€_à¤«à¥‡à¤¬à¥à¤°à¥à¤µà¤¾à¤°à¥€_à¤®à¤¾à¤°à¥à¤š_à¤à¤ªà¥à¤°à¤¿à¤²_à¤®à¥‡_à¤œà¥‚à¤¨_à¤œà¥à¤²à¥ˆ_à¤‘à¤—à¤¸à¥à¤Ÿ_à¤¸à¤ªà¥à¤Ÿà¥‡à¤‚à¤¬à¤°_à¤‘à¤•à¥à¤Ÿà¥‹à¤¬à¤°_à¤¨à¥‹à¤µà¥à¤¹à¥‡à¤‚à¤¬à¤°_à¤¡à¤¿à¤¸à¥‡à¤‚à¤¬à¤°".split("_"),
                    monthsShort: "à¤œà¤¾à¤¨à¥‡._à¤«à¥‡à¤¬à¥à¤°à¥._à¤®à¤¾à¤°à¥à¤š._à¤à¤ªà¥à¤°à¤¿._à¤®à¥‡._à¤œà¥‚à¤¨._à¤œà¥à¤²à¥ˆ._à¤‘à¤—._à¤¸à¤ªà¥à¤Ÿà¥‡à¤‚._à¤‘à¤•à¥à¤Ÿà¥‹._à¤¨à¥‹à¤µà¥à¤¹à¥‡à¤‚._à¤¡à¤¿à¤¸à¥‡à¤‚.".split("_"),
                    weekdays: "à¤°à¤µà¤¿à¤µà¤¾à¤°_à¤¸à¥‹à¤®à¤µà¤¾à¤°_à¤®à¤‚à¤—à¤³à¤µà¤¾à¤°_à¤¬à¥à¤§à¤µà¤¾à¤°_à¤—à¥à¤°à¥‚à¤µà¤¾à¤°_à¤¶à¥à¤•à¥à¤°à¤µà¤¾à¤°_à¤¶à¤¨à¤¿à¤µà¤¾à¤°".split("_"),
                    weekdaysShort: "à¤°à¤µà¤¿_à¤¸à¥‹à¤®_à¤®à¤‚à¤—à¤³_à¤¬à¥à¤§_à¤—à¥à¤°à¥‚_à¤¶à¥à¤•à¥à¤°_à¤¶à¤¨à¤¿".split("_"),
                    weekdaysMin: "à¤°_à¤¸à¥‹_à¤®à¤‚_à¤¬à¥_à¤—à¥_à¤¶à¥_à¤¶".split("_"),
                    longDateFormat: {
                        LT: "A h:mm à¤µà¤¾à¤œà¤¤à¤¾",
                        LTS: "A h:mm:ss à¤µà¤¾à¤œà¤¤à¤¾",
                        L: "DD/MM/YYYY",
                        LL: "D MMMM YYYY",
                        LLL: "D MMMM YYYY, A h:mm à¤µà¤¾à¤œà¤¤à¤¾",
                        LLLL: "dddd, D MMMM YYYY, A h:mm à¤µà¤¾à¤œà¤¤à¤¾"
                    },
                    calendar: {
                        sameDay: "[à¤†à¤œ] LT",
                        nextDay: "[à¤‰à¤¦à¥à¤¯à¤¾] LT",
                        nextWeek: "dddd, LT",
                        lastDay: "[à¤•à¤¾à¤²] LT",
                        lastWeek: "[à¤®à¤¾à¤—à¥€à¤²] dddd, LT",
                        sameElse: "L"
                    },
                    relativeTime: {
                        future: "%s à¤¨à¤‚à¤¤à¤°",
                        past: "%s à¤ªà¥‚à¤°à¥à¤µà¥€",
                        s: "à¤¸à¥‡à¤•à¤‚à¤¦",
                        m: "à¤à¤• à¤®à¤¿à¤¨à¤¿à¤Ÿ",
                        mm: "%d à¤®à¤¿à¤¨à¤¿à¤Ÿà¥‡",
                        h: "à¤à¤• à¤¤à¤¾à¤¸",
                        hh: "%d à¤¤à¤¾à¤¸",
                        d: "à¤à¤• à¤¦à¤¿à¤µà¤¸",
                        dd: "%d à¤¦à¤¿à¤µà¤¸",
                        M: "à¤à¤• à¤®à¤¹à¤¿à¤¨à¤¾",
                        MM: "%d à¤®à¤¹à¤¿à¤¨à¥‡",
                        y: "à¤à¤• à¤µà¤°à¥à¤·",
                        yy: "%d à¤µà¤°à¥à¤·à¥‡"
                    },
                    preparse: function(e) {
                        return e.replace(/[à¥§à¥¨à¥©à¥ªà¥«à¥¬à¥­à¥®à¥¯à¥¦]/g, function(e) {
                            return li[e]
                        })
                    },
                    postformat: function(e) {
                        return e.replace(/\d/g, function(e) {
                            return oi[e]
                        })
                    },
                    meridiemParse: /à¤°à¤¾à¤¤à¥à¤°à¥€|à¤¸à¤•à¤¾à¤³à¥€|à¤¦à¥à¤ªà¤¾à¤°à¥€|à¤¸à¤¾à¤¯à¤‚à¤•à¤¾à¤³à¥€/,
                    meridiemHour: function(e, t) {
                        return 12 === e && (e = 0), "à¤°à¤¾à¤¤à¥à¤°à¥€" === t ? e < 4 ? e : e + 12 : "à¤¸à¤•à¤¾à¤³à¥€" === t ? e : "à¤¦à¥à¤ªà¤¾à¤°à¥€" === t ? e >= 10 ? e : e + 12 : "à¤¸à¤¾à¤¯à¤‚à¤•à¤¾à¤³à¥€" === t ? e + 12 : void 0
                    },
                    meridiem: function(e, t, n) {
                        return e < 4 ? "à¤°à¤¾à¤¤à¥à¤°à¥€" : e < 10 ? "à¤¸à¤•à¤¾à¤³à¥€" : e < 17 ? "à¤¦à¥à¤ªà¤¾à¤°à¥€" : e < 20 ? "à¤¸à¤¾à¤¯à¤‚à¤•à¤¾à¤³à¥€" : "à¤°à¤¾à¤¤à¥à¤°à¥€"
                    },
                    week: {
                        dow: 0,
                        doy: 6
                    }
                }), on.defineLocale("ms-my", {
                    months: "Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),
                    monthsShort: "Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),
                    weekdays: "Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),
                    weekdaysShort: "Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),
                    weekdaysMin: "Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),
                    longDateFormat: {
                        LT: "HH.mm",
                        LTS: "HH.mm.ss",
                        L: "DD/MM/YYYY",
                        LL: "D MMMM YYYY",
                        LLL: "D MMMM YYYY [pukul] HH.mm",
                        LLLL: "dddd, D MMMM YYYY [pukul] HH.mm"
                    },
                    meridiemParse: /pagi|tengahari|petang|malam/,
                    meridiemHour: function(e, t) {
                        return 12 === e && (e = 0), "pagi" === t ? e : "tengahari" === t ? e >= 11 ? e : e + 12 : "petang" === t || "malam" === t ? e + 12 : void 0
                    },
                    meridiem: function(e, t, n) {
                        return e < 11 ? "pagi" : e < 15 ? "tengahari" : e < 19 ? "petang" : "malam"
                    },
                    calendar: {
                        sameDay: "[Hari ini pukul] LT",
                        nextDay: "[Esok pukul] LT",
                        nextWeek: "dddd [pukul] LT",
                        lastDay: "[Kelmarin pukul] LT",
                        lastWeek: "dddd [lepas pukul] LT",
                        sameElse: "L"
                    },
                    relativeTime: {
                        future: "dalam %s",
                        past: "%s yang lepas",
                        s: "beberapa saat",
                        m: "seminit",
                        mm: "%d minit",
                        h: "sejam",
                        hh: "%d jam",
                        d: "sehari",
                        dd: "%d hari",
                        M: "sebulan",
                        MM: "%d bulan",
                        y: "setahun",
                        yy: "%d tahun"
                    },
                    week: {
                        dow: 1,
                        doy: 7
                    }
                }), on.defineLocale("ms", {
                    months: "Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),
                    monthsShort: "Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),
                    weekdays: "Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),
                    weekdaysShort: "Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),
                    weekdaysMin: "Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),
                    longDateFormat: {
                        LT: "HH.mm",
                        LTS: "HH.mm.ss",
                        L: "DD/MM/YYYY",
                        LL: "D MMMM YYYY",
                        LLL: "D MMMM YYYY [pukul] HH.mm",
                        LLLL: "dddd, D MMMM YYYY [pukul] HH.mm"
                    },
                    meridiemParse: /pagi|tengahari|petang|malam/,
                    meridiemHour: function(e, t) {
                        return 12 === e && (e = 0), "pagi" === t ? e : "tengahari" === t ? e >= 11 ? e : e + 12 : "petang" === t || "malam" === t ? e + 12 : void 0
                    },
                    meridiem: function(e, t, n) {
                        return e < 11 ? "pagi" : e < 15 ? "tengahari" : e < 19 ? "petang" : "malam"
                    },
                    calendar: {
                        sameDay: "[Hari ini pukul] LT",
                        nextDay: "[Esok pukul] LT",
                        nextWeek: "dddd [pukul] LT",
                        lastDay: "[Kelmarin pukul] LT",
                        lastWeek: "dddd [lepas pukul] LT",
                        sameElse: "L"
                    },
                    relativeTime: {
                        future: "dalam %s",
                        past: "%s yang lepas",
                        s: "beberapa saat",
                        m: "seminit",
                        mm: "%d minit",
                        h: "sejam",
                        hh: "%d jam",
                        d: "sehari",
                        dd: "%d hari",
                        M: "sebulan",
                        MM: "%d bulan",
                        y: "setahun",
                        yy: "%d tahun"
                    },
                    week: {
                        dow: 1,
                        doy: 7
                    }
                }), {
                    1: "á",
                    2: "á‚",
                    3: "áƒ",
                    4: "á„",
                    5: "á…",
                    6: "á†",
                    7: "á‡",
                    8: "áˆ",
                    9: "á‰",
                    0: "á€"
                }),
                di = {
                    "á": "1",
                    "á‚": "2",
                    "áƒ": "3",
                    "á„": "4",
                    "á…": "5",
                    "á†": "6",
                    "á‡": "7",
                    "áˆ": "8",
                    "á‰": "9",
                    "á€": "0"
                },
                ui = (on.defineLocale("my", {
                    months: "á€‡á€”á€ºá€”á€á€«á€›á€®_á€–á€±á€–á€±á€¬á€ºá€á€«á€›á€®_á€™á€á€º_á€§á€•á€¼á€®_á€™á€±_á€‡á€½á€”á€º_á€‡á€°á€œá€­á€¯á€„á€º_á€žá€¼á€‚á€¯á€á€º_á€…á€€á€ºá€á€„á€ºá€˜á€¬_á€¡á€±á€¬á€€á€ºá€á€­á€¯á€˜á€¬_á€”á€­á€¯á€á€„á€ºá€˜á€¬_á€’á€®á€‡á€„á€ºá€˜á€¬".split("_"),
                    monthsShort: "á€‡á€”á€º_á€–á€±_á€™á€á€º_á€•á€¼á€®_á€™á€±_á€‡á€½á€”á€º_á€œá€­á€¯á€„á€º_á€žá€¼_á€…á€€á€º_á€¡á€±á€¬á€€á€º_á€”á€­á€¯_á€’á€®".split("_"),
                    weekdays: "á€á€”á€„á€ºá€¹á€‚á€”á€½á€±_á€á€”á€„á€ºá€¹á€œá€¬_á€¡á€„á€ºá€¹á€‚á€«_á€—á€¯á€’á€¹á€“á€Ÿá€°á€¸_á€€á€¼á€¬á€žá€•á€á€±á€¸_á€žá€±á€¬á€€á€¼á€¬_á€…á€”á€±".split("_"),
                    weekdaysShort: "á€”á€½á€±_á€œá€¬_á€‚á€«_á€Ÿá€°á€¸_á€€á€¼á€¬_á€žá€±á€¬_á€”á€±".split("_"),
                    weekdaysMin: "á€”á€½á€±_á€œá€¬_á€‚á€«_á€Ÿá€°á€¸_á€€á€¼á€¬_á€žá€±á€¬_á€”á€±".split("_"),
                    longDateFormat: {
                        LT: "HH:mm",
                        LTS: "HH:mm:ss",
                        L: "DD/MM/YYYY",
                        LL: "D MMMM YYYY",
                        LLL: "D MMMM YYYY HH:mm",
                        LLLL: "dddd D MMMM YYYY HH:mm"
                    },
                    calendar: {
                        sameDay: "[á€šá€”á€±.] LT [á€™á€¾á€¬]",
                        nextDay: "[á€™á€”á€€á€ºá€–á€¼á€”á€º] LT [á€™á€¾á€¬]",
                        nextWeek: "dddd LT [á€™á€¾á€¬]",
                        lastDay: "[á€™á€”á€±.á€€] LT [á€™á€¾á€¬]",
                        lastWeek: "[á€•á€¼á€®á€¸á€á€²á€·á€žá€±á€¬] dddd LT [á€™á€¾á€¬]",
                        sameElse: "L"
                    },
                    relativeTime: {
                        future: "á€œá€¬á€™á€Šá€ºá€· %s á€™á€¾á€¬",
                        past: "á€œá€½á€”á€ºá€á€²á€·á€žá€±á€¬ %s á€€",
                        s: "á€…á€€á€¹á€€á€”á€º.á€¡á€”á€Šá€ºá€¸á€„á€šá€º",
                        m: "á€á€…á€ºá€™á€­á€”á€…á€º",
                        mm: "%d á€™á€­á€”á€…á€º",
                        h: "á€á€…á€ºá€”á€¬á€›á€®",
                        hh: "%d á€”á€¬á€›á€®",
                        d: "á€á€…á€ºá€›á€€á€º",
                        dd: "%d á€›á€€á€º",
                        M: "á€á€…á€ºá€œ",
                        MM: "%d á€œ",
                        y: "á€á€…á€ºá€”á€¾á€…á€º",
                        yy: "%d á€”á€¾á€…á€º"
                    },
                    preparse: function(e) {
                        return e.replace(/[áá‚áƒá„á…á†á‡áˆá‰á€]/g, function(e) {
                            return di[e]
                        })
                    },
                    postformat: function(e) {
                        return e.replace(/\d/g, function(e) {
                            return ci[e]
                        })
                    },
                    week: {
                        dow: 1,
                        doy: 4
                    }
                }), on.defineLocale("nb", {
                    months: "januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),
                    monthsShort: "jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),
                    weekdays: "sÃ¸ndag_mandag_tirsdag_onsdag_torsdag_fredag_lÃ¸rdag".split("_"),
                    weekdaysShort: "sÃ¸n_man_tirs_ons_tors_fre_lÃ¸r".split("_"),
                    weekdaysMin: "sÃ¸_ma_ti_on_to_fr_lÃ¸".split("_"),
                    longDateFormat: {
                        LT: "H.mm",
                        LTS: "H.mm.ss",
                        L: "DD.MM.YYYY",
                        LL: "D. MMMM YYYY",
                        LLL: "D. MMMM YYYY [kl.] H.mm",
                        LLLL: "dddd D. MMMM YYYY [kl.] H.mm"
                    },
                    calendar: {
                        sameDay: "[i dag kl.] LT",
                        nextDay: "[i morgen kl.] LT",
                        nextWeek: "dddd [kl.] LT",
                        lastDay: "[i gÃ¥r kl.] LT",
                        lastWeek: "[forrige] dddd [kl.] LT",
                        sameElse: "L"
                    },
                    relativeTime: {
                        future: "om %s",
                        past: "for %s siden",
                        s: "noen sekunder",
                        m: "ett minutt",
                        mm: "%d minutter",
                        h: "en time",
                        hh: "%d timer",
                        d: "en dag",
                        dd: "%d dager",
                        M: "en mÃ¥ned",
                        MM: "%d mÃ¥neder",
                        y: "ett Ã¥r",
                        yy: "%d Ã¥r"
                    },
                    ordinalParse: /\d{1,2}\./,
                    ordinal: "%d.",
                    week: {
                        dow: 1,
                        doy: 4
                    }
                }), {
                    1: "à¥§",
                    2: "à¥¨",
                    3: "à¥©",
                    4: "à¥ª",
                    5: "à¥«",
                    6: "à¥¬",
                    7: "à¥­",
                    8: "à¥®",
                    9: "à¥¯",
                    0: "à¥¦"
                }),
                _i = {
                    "à¥§": "1",
                    "à¥¨": "2",
                    "à¥©": "3",
                    "à¥ª": "4",
                    "à¥«": "5",
                    "à¥¬": "6",
                    "à¥­": "7",
                    "à¥®": "8",
                    "à¥¯": "9",
                    "à¥¦": "0"
                },
                fi = (on.defineLocale("ne", {
                    months: "à¤œà¤¨à¤µà¤°à¥€_à¤«à¥‡à¤¬à¥à¤°à¥à¤µà¤°à¥€_à¤®à¤¾à¤°à¥à¤š_à¤…à¤ªà¥à¤°à¤¿à¤²_à¤®à¤ˆ_à¤œà¥à¤¨_à¤œà¥à¤²à¤¾à¤ˆ_à¤…à¤—à¤·à¥à¤Ÿ_à¤¸à¥‡à¤ªà¥à¤Ÿà¥‡à¤®à¥à¤¬à¤°_à¤…à¤•à¥à¤Ÿà¥‹à¤¬à¤°_à¤¨à¥‹à¤­à¥‡à¤®à¥à¤¬à¤°_à¤¡à¤¿à¤¸à¥‡à¤®à¥à¤¬à¤°".split("_"),
                    monthsShort: "à¤œà¤¨._à¤«à¥‡à¤¬à¥à¤°à¥._à¤®à¤¾à¤°à¥à¤š_à¤…à¤ªà¥à¤°à¤¿._à¤®à¤ˆ_à¤œà¥à¤¨_à¤œà¥à¤²à¤¾à¤ˆ._à¤…à¤—._à¤¸à¥‡à¤ªà¥à¤Ÿ._à¤…à¤•à¥à¤Ÿà¥‹._à¤¨à¥‹à¤­à¥‡._à¤¡à¤¿à¤¸à¥‡.".split("_"),
                    weekdays: "à¤†à¤‡à¤¤à¤¬à¤¾à¤°_à¤¸à¥‹à¤®à¤¬à¤¾à¤°_à¤®à¤™à¥à¤—à¤²à¤¬à¤¾à¤°_à¤¬à¥à¤§à¤¬à¤¾à¤°_à¤¬à¤¿à¤¹à¤¿à¤¬à¤¾à¤°_à¤¶à¥à¤•à¥à¤°à¤¬à¤¾à¤°_à¤¶à¤¨à¤¿à¤¬à¤¾à¤°".split("_"),
                    weekdaysShort: "à¤†à¤‡à¤¤._à¤¸à¥‹à¤®._à¤®à¤™à¥à¤—à¤²._à¤¬à¥à¤§._à¤¬à¤¿à¤¹à¤¿._à¤¶à¥à¤•à¥à¤°._à¤¶à¤¨à¤¿.".split("_"),
                    weekdaysMin: "à¤†à¤‡._à¤¸à¥‹._à¤®à¤™à¥_à¤¬à¥._à¤¬à¤¿._à¤¶à¥._à¤¶.".split("_"),
                    longDateFormat: {
                        LT: "Aà¤•à¥‹ h:mm à¤¬à¤œà¥‡",
                        LTS: "Aà¤•à¥‹ h:mm:ss à¤¬à¤œà¥‡",
                        L: "DD/MM/YYYY",
                        LL: "D MMMM YYYY",
                        LLL: "D MMMM YYYY, Aà¤•à¥‹ h:mm à¤¬à¤œà¥‡",
                        LLLL: "dddd, D MMMM YYYY, Aà¤•à¥‹ h:mm à¤¬à¤œà¥‡"
                    },
                    preparse: function(e) {
                        return e.replace(/[à¥§à¥¨à¥©à¥ªà¥«à¥¬à¥­à¥®à¥¯à¥¦]/g, function(e) {
                            return _i[e]
                        })
                    },
                    postformat: function(e) {
                        return e.replace(/\d/g, function(e) {
                            return ui[e]
                        })
                    },
                    meridiemParse: /à¤°à¤¾à¤¤à¥€|à¤¬à¤¿à¤¹à¤¾à¤¨|à¤¦à¤¿à¤‰à¤à¤¸à¥‹|à¤¬à¥‡à¤²à¥à¤•à¤¾|à¤¸à¤¾à¤à¤|à¤°à¤¾à¤¤à¥€/,
                    meridiemHour: function(e, t) {
                        return 12 === e && (e = 0), "à¤°à¤¾à¤¤à¥€" === t ? e < 3 ? e : e + 12 : "à¤¬à¤¿à¤¹à¤¾à¤¨" === t ? e : "à¤¦à¤¿à¤‰à¤à¤¸à¥‹" === t ? e >= 10 ? e : e + 12 : "à¤¬à¥‡à¤²à¥à¤•à¤¾" === t || "à¤¸à¤¾à¤à¤" === t ? e + 12 : void 0
                    },
                    meridiem: function(e, t, n) {
                        return e < 3 ? "à¤°à¤¾à¤¤à¥€" : e < 10 ? "à¤¬à¤¿à¤¹à¤¾à¤¨" : e < 15 ? "à¤¦à¤¿à¤‰à¤à¤¸à¥‹" : e < 18 ? "à¤¬à¥‡à¤²à¥à¤•à¤¾" : e < 20 ? "à¤¸à¤¾à¤à¤" : "à¤°à¤¾à¤¤à¥€"
                    },
                    calendar: {
                        sameDay: "[à¤†à¤œ] LT",
                        nextDay: "[à¤­à¥‹à¤²à¥€] LT",
                        nextWeek: "[à¤†à¤‰à¤à¤¦à¥‹] dddd[,] LT",
                        lastDay: "[à¤¹à¤¿à¤œà¥‹] LT",
                        lastWeek: "[à¤—à¤à¤•à¥‹] dddd[,] LT",
                        sameElse: "L"
                    },
                    relativeTime: {
                        future: "%sà¤®à¤¾",
                        past: "%s à¤…à¤—à¤¾à¤¡à¥€",
                        s: "à¤•à¥‡à¤¹à¥€ à¤¸à¤®à¤¯",
                        m: "à¤à¤• à¤®à¤¿à¤¨à¥‡à¤Ÿ",
                        mm: "%d à¤®à¤¿à¤¨à¥‡à¤Ÿ",
                        h: "à¤à¤• à¤˜à¤£à¥à¤Ÿà¤¾",
                        hh: "%d à¤˜à¤£à¥à¤Ÿà¤¾",
                        d: "à¤à¤• à¤¦à¤¿à¤¨",
                        dd: "%d à¤¦à¤¿à¤¨",
                        M: "à¤à¤• à¤®à¤¹à¤¿à¤¨à¤¾",
                        MM: "%d à¤®à¤¹à¤¿à¤¨à¤¾",
                        y: "à¤à¤• à¤¬à¤°à¥à¤·",
                        yy: "%d à¤¬à¤°à¥à¤·"
                    },
                    week: {
                        dow: 1,
                        doy: 7
                    }
                }), "jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_")),
                vi = "jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),
                mi = (on.defineLocale("nl", {
                    months: "januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),
                    monthsShort: function(e, t) {
                        return /-MMM-/.test(t) ? vi[e.month()] : fi[e.month()]
                    },
                    weekdays: "zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),
                    weekdaysShort: "zo._ma._di._wo._do._vr._za.".split("_"),
                    weekdaysMin: "Zo_Ma_Di_Wo_Do_Vr_Za".split("_"),
                    longDateFormat: {
                        LT: "HH:mm",
                        LTS: "HH:mm:ss",
                        L: "DD-MM-YYYY",
                        LL: "D MMMM YYYY",
                        LLL: "D MMMM YYYY HH:mm",
                        LLLL: "dddd D MMMM YYYY HH:mm"
                    },
                    calendar: {
                        sameDay: "[vandaag om] LT",
                        nextDay: "[morgen om] LT",
                        nextWeek: "dddd [om] LT",
                        lastDay: "[gisteren om] LT",
                        lastWeek: "[afgelopen] dddd [om] LT",
                        sameElse: "L"
                    },
                    relativeTime: {
                        future: "over %s",
                        past: "%s geleden",
                        s: "een paar seconden",
                        m: "Ã©Ã©n minuut",
                        mm: "%d minuten",
                        h: "Ã©Ã©n uur",
                        hh: "%d uur",
                        d: "Ã©Ã©n dag",
                        dd: "%d dagen",
                        M: "Ã©Ã©n maand",
                        MM: "%d maanden",
                        y: "Ã©Ã©n jaar",
                        yy: "%d jaar"
                    },
                    ordinalParse: /\d{1,2}(ste|de)/,
                    ordinal: function(e) {
                        return e + (1 === e || 8 === e || e >= 20 ? "ste" : "de")
                    },
                    week: {
                        dow: 1,
                        doy: 4
                    }
                }), on.defineLocale("nn", {
                    months: "januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),
                    monthsShort: "jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),
                    weekdays: "sundag_mÃ¥ndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),
                    weekdaysShort: "sun_mÃ¥n_tys_ons_tor_fre_lau".split("_"),
                    weekdaysMin: "su_mÃ¥_ty_on_to_fr_lÃ¸".split("_"),
                    longDateFormat: {
                        LT: "HH:mm",
                        LTS: "HH:mm:ss",
                        L: "DD.MM.YYYY",
                        LL: "D MMMM YYYY",
                        LLL: "D MMMM YYYY HH:mm",
                        LLLL: "dddd D MMMM YYYY HH:mm"
                    },
                    calendar: {
                        sameDay: "[I dag klokka] LT",
                        nextDay: "[I morgon klokka] LT",
                        nextWeek: "dddd [klokka] LT",
                        lastDay: "[I gÃ¥r klokka] LT",
                        lastWeek: "[FÃ¸regÃ¥ande] dddd [klokka] LT",
                        sameElse: "L"
                    },
                    relativeTime: {
                        future: "om %s",
                        past: "for %s sidan",
                        s: "nokre sekund",
                        m: "eit minutt",
                        mm: "%d minutt",
                        h: "ein time",
                        hh: "%d timar",
                        d: "ein dag",
                        dd: "%d dagar",
                        M: "ein mÃ¥nad",
                        MM: "%d mÃ¥nader",
                        y: "eit Ã¥r",
                        yy: "%d Ã¥r"
                    },
                    ordinalParse: /\d{1,2}\./,
                    ordinal: "%d.",
                    week: {
                        dow: 1,
                        doy: 4
                    }
                }), "styczeÅ„_luty_marzec_kwiecieÅ„_maj_czerwiec_lipiec_sierpieÅ„_wrzesieÅ„_paÅºdziernik_listopad_grudzieÅ„".split("_")),
                hi = "stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrzeÅ›nia_paÅºdziernika_listopada_grudnia".split("_");

            function pi(e) {
                return e % 10 < 5 && e % 10 > 1 && ~~(e / 10) % 10 != 1
            }

            function gi(e, t, n) {
                var i = e + " ";
                switch (n) {
                    case "m":
                        return t ? "minuta" : "minutÄ™";
                    case "mm":
                        return i + (pi(e) ? "minuty" : "minut");
                    case "h":
                        return t ? "godzina" : "godzinÄ™";
                    case "hh":
                        return i + (pi(e) ? "godziny" : "godzin");
                    case "MM":
                        return i + (pi(e) ? "miesiÄ…ce" : "miesiÄ™cy");
                    case "yy":
                        return i + (pi(e) ? "lata" : "lat")
                }
            }
            on.defineLocale("pl", {
                months: function(e, t) {
                    return "" === t ? "(" + hi[e.month()] + "|" + mi[e.month()] + ")" : /D MMMM/.test(t) ? hi[e.month()] : mi[e.month()]
                },
                monthsShort: "sty_lut_mar_kwi_maj_cze_lip_sie_wrz_paÅº_lis_gru".split("_"),
                weekdays: "niedziela_poniedziaÅ‚ek_wtorek_Å›roda_czwartek_piÄ…tek_sobota".split("_"),
                weekdaysShort: "nie_pon_wt_Å›r_czw_pt_sb".split("_"),
                weekdaysMin: "N_Pn_Wt_Åšr_Cz_Pt_So".split("_"),
                longDateFormat: {
                    LT: "HH:mm",
                    LTS: "HH:mm:ss",
                    L: "DD.MM.YYYY",
                    LL: "D MMMM YYYY",
                    LLL: "D MMMM YYYY HH:mm",
                    LLLL: "dddd, D MMMM YYYY HH:mm"
                },
                calendar: {
                    sameDay: "[DziÅ› o] LT",
                    nextDay: "[Jutro o] LT",
                    nextWeek: "[W] dddd [o] LT",
                    lastDay: "[Wczoraj o] LT",
                    lastWeek: function() {
                        switch (this.day()) {
                            case 0:
                                return "[W zeszÅ‚Ä… niedzielÄ™ o] LT";
                            case 3:
                                return "[W zeszÅ‚Ä… Å›rodÄ™ o] LT";
                            case 6:
                                return "[W zeszÅ‚Ä… sobotÄ™ o] LT";
                            default:
                                return "[W zeszÅ‚y] dddd [o] LT"
                        }
                    },
                    sameElse: "L"
                },
                relativeTime: {
                    future: "za %s",
                    past: "%s temu",
                    s: "kilka sekund",
                    m: gi,
                    mm: gi,
                    h: gi,
                    hh: gi,
                    d: "1 dzieÅ„",
                    dd: "%d dni",
                    M: "miesiÄ…c",
                    MM: gi,
                    y: "rok",
                    yy: gi
                },
                ordinalParse: /\d{1,2}\./,
                ordinal: "%d.",
                week: {
                    dow: 1,
                    doy: 4
                }
            }), on.defineLocale("pt-br", {
                months: "Janeiro_Fevereiro_MarÃ§o_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),
                monthsShort: "Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),
                weekdays: "Domingo_Segunda-Feira_TerÃ§a-Feira_Quarta-Feira_Quinta-Feira_Sexta-Feira_SÃ¡bado".split("_"),
                weekdaysShort: "Dom_Seg_Ter_Qua_Qui_Sex_SÃ¡b".split("_"),
                weekdaysMin: "Dom_2Âª_3Âª_4Âª_5Âª_6Âª_SÃ¡b".split("_"),
                longDateFormat: {
                    LT: "HH:mm",
                    LTS: "HH:mm:ss",
                    L: "DD/MM/YYYY",
                    LL: "D [de] MMMM [de] YYYY",
                    LLL: "D [de] MMMM [de] YYYY [Ã s] HH:mm",
                    LLLL: "dddd, D [de] MMMM [de] YYYY [Ã s] HH:mm"
                },
                calendar: {
                    sameDay: "[Hoje Ã s] LT",
                    nextDay: "[AmanhÃ£ Ã s] LT",
                    nextWeek: "dddd [Ã s] LT",
                    lastDay: "[Ontem Ã s] LT",
                    lastWeek: function() {
                        return 0 === this.day() || 6 === this.day() ? "[Ãšltimo] dddd [Ã s] LT" : "[Ãšltima] dddd [Ã s] LT"
                    },
                    sameElse: "L"
                },
                relativeTime: {
                    future: "em %s",
                    past: "%s atrÃ¡s",
                    s: "poucos segundos",
                    m: "um minuto",
                    mm: "%d minutos",
                    h: "uma hora",
                    hh: "%d horas",
                    d: "um dia",
                    dd: "%d dias",
                    M: "um mÃªs",
                    MM: "%d meses",
                    y: "um ano",
                    yy: "%d anos"
                },
                ordinalParse: /\d{1,2}Âº/,
                ordinal: "%dÂº"
            }), on.defineLocale("pt", {
                months: "Janeiro_Fevereiro_MarÃ§o_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),
                monthsShort: "Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),
                weekdays: "Domingo_Segunda-Feira_TerÃ§a-Feira_Quarta-Feira_Quinta-Feira_Sexta-Feira_SÃ¡bado".split("_"),
                weekdaysShort: "Dom_Seg_Ter_Qua_Qui_Sex_SÃ¡b".split("_"),
                weekdaysMin: "Dom_2Âª_3Âª_4Âª_5Âª_6Âª_SÃ¡b".split("_"),
                longDateFormat: {
                    LT: "HH:mm",
                    LTS: "HH:mm:ss",
                    L: "DD/MM/YYYY",
                    LL: "D [de] MMMM [de] YYYY",
                    LLL: "D [de] MMMM [de] YYYY HH:mm",
                    LLLL: "dddd, D [de] MMMM [de] YYYY HH:mm"
                },
                calendar: {
                    sameDay: "[Hoje Ã s] LT",
                    nextDay: "[AmanhÃ£ Ã s] LT",
                    nextWeek: "dddd [Ã s] LT",
                    lastDay: "[Ontem Ã s] LT",
                    lastWeek: function() {
                        return 0 === this.day() || 6 === this.day() ? "[Ãšltimo] dddd [Ã s] LT" : "[Ãšltima] dddd [Ã s] LT"
                    },
                    sameElse: "L"
                },
                relativeTime: {
                    future: "em %s",
                    past: "hÃ¡ %s",
                    s: "segundos",
                    m: "um minuto",
                    mm: "%d minutos",
                    h: "uma hora",
                    hh: "%d horas",
                    d: "um dia",
                    dd: "%d dias",
                    M: "um mÃªs",
                    MM: "%d meses",
                    y: "um ano",
                    yy: "%d anos"
                },
                ordinalParse: /\d{1,2}Âº/,
                ordinal: "%dÂº",
                week: {
                    dow: 1,
                    doy: 4
                }
            });
            //! moment.js locale configuration
            //! locale : brazilian portuguese (pt-br)
            //! author : Caio Ribeiro Pereira : https://github.com/caio-ribeiro-pereira
            //! moment.js locale configuration
            //! locale : romanian (ro)
            //! author : Vlad Gurdiga : https://github.com/gurdiga
            //! author : Valentin Agachi : https://github.com/avaly
            function bi(e, t, n) {
                var i = " ";
                return (e % 100 >= 20 || e >= 100 && e % 100 == 0) && (i = " de "), e + i + {
                    mm: "minute",
                    hh: "ore",
                    dd: "zile",
                    MM: "luni",
                    yy: "ani"
                }[n]
            }
            on.defineLocale("ro", {
                months: "ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),
                monthsShort: "ian._febr._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),
                weekdays: "duminicÄƒ_luni_marÈ›i_miercuri_joi_vineri_sÃ¢mbÄƒtÄƒ".split("_"),
                weekdaysShort: "Dum_Lun_Mar_Mie_Joi_Vin_SÃ¢m".split("_"),
                weekdaysMin: "Du_Lu_Ma_Mi_Jo_Vi_SÃ¢".split("_"),
                longDateFormat: {
                    LT: "H:mm",
                    LTS: "H:mm:ss",
                    L: "DD.MM.YYYY",
                    LL: "D MMMM YYYY",
                    LLL: "D MMMM YYYY H:mm",
                    LLLL: "dddd, D MMMM YYYY H:mm"
                },
                calendar: {
                    sameDay: "[azi la] LT",
                    nextDay: "[mÃ¢ine la] LT",
                    nextWeek: "dddd [la] LT",
                    lastDay: "[ieri la] LT",
                    lastWeek: "[fosta] dddd [la] LT",
                    sameElse: "L"
                },
                relativeTime: {
                    future: "peste %s",
                    past: "%s Ã®n urmÄƒ",
                    s: "cÃ¢teva secunde",
                    m: "un minut",
                    mm: bi,
                    h: "o orÄƒ",
                    hh: bi,
                    d: "o zi",
                    dd: bi,
                    M: "o lunÄƒ",
                    MM: bi,
                    y: "un an",
                    yy: bi
                },
                week: {
                    dow: 1,
                    doy: 7
                }
            });
            //! moment.js locale configuration
            //! locale : russian (ru)
            //! author : Viktorminator : https://github.com/Viktorminator
            //! Author : Menelion ElensÃºle : https://github.com/Oire
            function Si(e, t, n) {
                var i, a;
                return "m" === n ? t ? "Ð¼Ð¸Ð½ÑƒÑ‚Ð°" : "Ð¼Ð¸Ð½ÑƒÑ‚Ñƒ" : e + " " + (i = +e, a = {
                    mm: t ? "Ð¼Ð¸Ð½ÑƒÑ‚Ð°_Ð¼Ð¸Ð½ÑƒÑ‚Ñ‹_Ð¼Ð¸Ð½ÑƒÑ‚" : "Ð¼Ð¸Ð½ÑƒÑ‚Ñƒ_Ð¼Ð¸Ð½ÑƒÑ‚Ñ‹_Ð¼Ð¸Ð½ÑƒÑ‚",
                    hh: "Ñ‡Ð°Ñ_Ñ‡Ð°ÑÐ°_Ñ‡Ð°ÑÐ¾Ð²",
                    dd: "Ð´ÐµÐ½ÑŒ_Ð´Ð½Ñ_Ð´Ð½ÐµÐ¹",
                    MM: "Ð¼ÐµÑÑÑ†_Ð¼ÐµÑÑÑ†Ð°_Ð¼ÐµÑÑÑ†ÐµÐ²",
                    yy: "Ð³Ð¾Ð´_Ð³Ð¾Ð´Ð°_Ð»ÐµÑ‚"
                }[n].split("_"), i % 10 == 1 && i % 100 != 11 ? a[0] : i % 10 >= 2 && i % 10 <= 4 && (i % 100 < 10 || i % 100 >= 20) ? a[1] : a[2])
            }
            on.defineLocale("ru", {
                months: function(e, t) {
                    return {
                        nominative: "ÑÐ½Ð²Ð°Ñ€ÑŒ_Ñ„ÐµÐ²Ñ€Ð°Ð»ÑŒ_Ð¼Ð°Ñ€Ñ‚_Ð°Ð¿Ñ€ÐµÐ»ÑŒ_Ð¼Ð°Ð¹_Ð¸ÑŽÐ½ÑŒ_Ð¸ÑŽÐ»ÑŒ_Ð°Ð²Ð³ÑƒÑÑ‚_ÑÐµÐ½Ñ‚ÑÐ±Ñ€ÑŒ_Ð¾ÐºÑ‚ÑÐ±Ñ€ÑŒ_Ð½Ð¾ÑÐ±Ñ€ÑŒ_Ð´ÐµÐºÐ°Ð±Ñ€ÑŒ".split("_"),
                        accusative: "ÑÐ½Ð²Ð°Ñ€Ñ_Ñ„ÐµÐ²Ñ€Ð°Ð»Ñ_Ð¼Ð°Ñ€Ñ‚Ð°_Ð°Ð¿Ñ€ÐµÐ»Ñ_Ð¼Ð°Ñ_Ð¸ÑŽÐ½Ñ_Ð¸ÑŽÐ»Ñ_Ð°Ð²Ð³ÑƒÑÑ‚Ð°_ÑÐµÐ½Ñ‚ÑÐ±Ñ€Ñ_Ð¾ÐºÑ‚ÑÐ±Ñ€Ñ_Ð½Ð¾ÑÐ±Ñ€Ñ_Ð´ÐµÐºÐ°Ð±Ñ€Ñ".split("_")
                    }[/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(t) ? "accusative" : "nominative"][e.month()]
                },
                monthsShort: function(e, t) {
                    return {
                        nominative: "ÑÐ½Ð²_Ñ„ÐµÐ²_Ð¼Ð°Ñ€Ñ‚_Ð°Ð¿Ñ€_Ð¼Ð°Ð¹_Ð¸ÑŽÐ½ÑŒ_Ð¸ÑŽÐ»ÑŒ_Ð°Ð²Ð³_ÑÐµÐ½_Ð¾ÐºÑ‚_Ð½Ð¾Ñ_Ð´ÐµÐº".split("_"),
                        accusative: "ÑÐ½Ð²_Ñ„ÐµÐ²_Ð¼Ð°Ñ€_Ð°Ð¿Ñ€_Ð¼Ð°Ñ_Ð¸ÑŽÐ½Ñ_Ð¸ÑŽÐ»Ñ_Ð°Ð²Ð³_ÑÐµÐ½_Ð¾ÐºÑ‚_Ð½Ð¾Ñ_Ð´ÐµÐº".split("_")
                    }[/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(t) ? "accusative" : "nominative"][e.month()]
                },
                weekdays: function(e, t) {
                    return {
                        nominative: "Ð²Ð¾ÑÐºÑ€ÐµÑÐµÐ½ÑŒÐµ_Ð¿Ð¾Ð½ÐµÐ´ÐµÐ»ÑŒÐ½Ð¸Ðº_Ð²Ñ‚Ð¾Ñ€Ð½Ð¸Ðº_ÑÑ€ÐµÐ´Ð°_Ñ‡ÐµÑ‚Ð²ÐµÑ€Ð³_Ð¿ÑÑ‚Ð½Ð¸Ñ†Ð°_ÑÑƒÐ±Ð±Ð¾Ñ‚Ð°".split("_"),
                        accusative: "Ð²Ð¾ÑÐºÑ€ÐµÑÐµÐ½ÑŒÐµ_Ð¿Ð¾Ð½ÐµÐ´ÐµÐ»ÑŒÐ½Ð¸Ðº_Ð²Ñ‚Ð¾Ñ€Ð½Ð¸Ðº_ÑÑ€ÐµÐ´Ñƒ_Ñ‡ÐµÑ‚Ð²ÐµÑ€Ð³_Ð¿ÑÑ‚Ð½Ð¸Ñ†Ñƒ_ÑÑƒÐ±Ð±Ð¾Ñ‚Ñƒ".split("_")
                    }[/\[ ?[Ð’Ð²] ?(?:Ð¿Ñ€Ð¾ÑˆÐ»ÑƒÑŽ|ÑÐ»ÐµÐ´ÑƒÑŽÑ‰ÑƒÑŽ|ÑÑ‚Ñƒ)? ?\] ?dddd/.test(t) ? "accusative" : "nominative"][e.day()]
                },
                weekdaysShort: "Ð²Ñ_Ð¿Ð½_Ð²Ñ‚_ÑÑ€_Ñ‡Ñ‚_Ð¿Ñ‚_ÑÐ±".split("_"),
                weekdaysMin: "Ð²Ñ_Ð¿Ð½_Ð²Ñ‚_ÑÑ€_Ñ‡Ñ‚_Ð¿Ñ‚_ÑÐ±".split("_"),
                monthsParse: [/^ÑÐ½Ð²/i, /^Ñ„ÐµÐ²/i, /^Ð¼Ð°Ñ€/i, /^Ð°Ð¿Ñ€/i, /^Ð¼Ð°[Ð¹|Ñ]/i, /^Ð¸ÑŽÐ½/i, /^Ð¸ÑŽÐ»/i, /^Ð°Ð²Ð³/i, /^ÑÐµÐ½/i, /^Ð¾ÐºÑ‚/i, /^Ð½Ð¾Ñ/i, /^Ð´ÐµÐº/i],
                longDateFormat: {
                    LT: "HH:mm",
                    LTS: "HH:mm:ss",
                    L: "DD.MM.YYYY",
                    LL: "D MMMM YYYY Ð³.",
                    LLL: "D MMMM YYYY Ð³., HH:mm",
                    LLLL: "dddd, D MMMM YYYY Ð³., HH:mm"
                },
                calendar: {
                    sameDay: "[Ð¡ÐµÐ³Ð¾Ð´Ð½Ñ Ð²] LT",
                    nextDay: "[Ð—Ð°Ð²Ñ‚Ñ€Ð° Ð²] LT",
                    lastDay: "[Ð’Ñ‡ÐµÑ€Ð° Ð²] LT",
                    nextWeek: function() {
                        return 2 === this.day() ? "[Ð’Ð¾] dddd [Ð²] LT" : "[Ð’] dddd [Ð²] LT"
                    },
                    lastWeek: function(e) {
                        if (e.week() === this.week()) return 2 === this.day() ? "[Ð’Ð¾] dddd [Ð²] LT" : "[Ð’] dddd [Ð²] LT";
                        switch (this.day()) {
                            case 0:
                                return "[Ð’ Ð¿Ñ€Ð¾ÑˆÐ»Ð¾Ðµ] dddd [Ð²] LT";
                            case 1:
                            case 2:
                            case 4:
                                return "[Ð’ Ð¿Ñ€Ð¾ÑˆÐ»Ñ‹Ð¹] dddd [Ð²] LT";
                            case 3:
                            case 5:
                            case 6:
                                return "[Ð’ Ð¿Ñ€Ð¾ÑˆÐ»ÑƒÑŽ] dddd [Ð²] LT"
                        }
                    },
                    sameElse: "L"
                },
                relativeTime: {
                    future: "Ñ‡ÐµÑ€ÐµÐ· %s",
                    past: "%s Ð½Ð°Ð·Ð°Ð´",
                    s: "Ð½ÐµÑÐºÐ¾Ð»ÑŒÐºÐ¾ ÑÐµÐºÑƒÐ½Ð´",
                    m: Si,
                    mm: Si,
                    h: "Ñ‡Ð°Ñ",
                    hh: Si,
                    d: "Ð´ÐµÐ½ÑŒ",
                    dd: Si,
                    M: "Ð¼ÐµÑÑÑ†",
                    MM: Si,
                    y: "Ð³Ð¾Ð´",
                    yy: Si
                },
                meridiemParse: /Ð½Ð¾Ñ‡Ð¸|ÑƒÑ‚Ñ€Ð°|Ð´Ð½Ñ|Ð²ÐµÑ‡ÐµÑ€Ð°/i,
                isPM: function(e) {
                    return /^(Ð´Ð½Ñ|Ð²ÐµÑ‡ÐµÑ€Ð°)$/.test(e)
                },
                meridiem: function(e, t, n) {
                    return e < 4 ? "Ð½Ð¾Ñ‡Ð¸" : e < 12 ? "ÑƒÑ‚Ñ€Ð°" : e < 17 ? "Ð´Ð½Ñ" : "Ð²ÐµÑ‡ÐµÑ€Ð°"
                },
                ordinalParse: /\d{1,2}-(Ð¹|Ð³Ð¾|Ñ)/,
                ordinal: function(e, t) {
                    switch (t) {
                        case "M":
                        case "d":
                        case "DDD":
                            return e + "-Ð¹";
                        case "D":
                            return e + "-Ð³Ð¾";
                        case "w":
                        case "W":
                            return e + "-Ñ";
                        default:
                            return e
                    }
                },
                week: {
                    dow: 1,
                    doy: 7
                }
            }), on.defineLocale("si", {
                months: "à¶¢à¶±à·€à·à¶»à·’_à¶´à·™à¶¶à¶»à·€à·à¶»à·’_à¶¸à·à¶»à·Šà¶­à·”_à¶…à¶´à·Šâ€à¶»à·šà¶½à·Š_à¶¸à·à¶ºà·’_à¶¢à·–à¶±à·’_à¶¢à·–à¶½à·’_à¶…à¶œà·à·ƒà·Šà¶­à·”_à·ƒà·à¶´à·Šà¶­à·à¶¸à·Šà¶¶à¶»à·Š_à¶”à¶šà·Šà¶­à·à¶¶à¶»à·Š_à¶±à·œà·€à·à¶¸à·Šà¶¶à¶»à·Š_à¶¯à·™à·ƒà·à¶¸à·Šà¶¶à¶»à·Š".split("_"),
                monthsShort: "à¶¢à¶±_à¶´à·™à¶¶_à¶¸à·à¶»à·Š_à¶…à¶´à·Š_à¶¸à·à¶ºà·’_à¶¢à·–à¶±à·’_à¶¢à·–à¶½à·’_à¶…à¶œà·_à·ƒà·à¶´à·Š_à¶”à¶šà·Š_à¶±à·œà·€à·_à¶¯à·™à·ƒà·".split("_"),
                weekdays: "à¶‰à¶»à·’à¶¯à·_à·ƒà¶³à·”à¶¯à·_à¶…à¶Ÿà·„à¶»à·”à·€à·à¶¯à·_à¶¶à¶¯à·à¶¯à·_à¶¶à·Šâ€à¶»à·„à·ƒà·Šà¶´à¶­à·’à¶±à·Šà¶¯à·_à·ƒà·’à¶šà·”à¶»à·à¶¯à·_à·ƒà·™à¶±à·ƒà·”à¶»à·à¶¯à·".split("_"),
                weekdaysShort: "à¶‰à¶»à·’_à·ƒà¶³à·”_à¶…à¶Ÿ_à¶¶à¶¯à·_à¶¶à·Šâ€à¶»à·„_à·ƒà·’à¶šà·”_à·ƒà·™à¶±".split("_"),
                weekdaysMin: "à¶‰_à·ƒ_à¶…_à¶¶_à¶¶à·Šâ€à¶»_à·ƒà·’_à·ƒà·™".split("_"),
                longDateFormat: {
                    LT: "a h:mm",
                    LTS: "a h:mm:ss",
                    L: "YYYY/MM/DD",
                    LL: "YYYY MMMM D",
                    LLL: "YYYY MMMM D, a h:mm",
                    LLLL: "YYYY MMMM D [à·€à·à¶±à·’] dddd, a h:mm:ss"
                },
                calendar: {
                    sameDay: "[à¶…à¶¯] LT[à¶§]",
                    nextDay: "[à·„à·™à¶§] LT[à¶§]",
                    nextWeek: "dddd LT[à¶§]",
                    lastDay: "[à¶Šà¶ºà·š] LT[à¶§]",
                    lastWeek: "[à¶´à·ƒà·”à¶œà·’à¶º] dddd LT[à¶§]",
                    sameElse: "L"
                },
                relativeTime: {
                    future: "%sà¶šà·’à¶±à·Š",
                    past: "%sà¶šà¶§ à¶´à·™à¶»",
                    s: "à¶­à¶­à·Šà¶´à¶» à¶šà·’à·„à·’à¶´à¶º",
                    m: "à¶¸à·’à¶±à·’à¶­à·Šà¶­à·”à·€",
                    mm: "à¶¸à·’à¶±à·’à¶­à·Šà¶­à·” %d",
                    h: "à¶´à·à¶º",
                    hh: "à¶´à·à¶º %d",
                    d: "à¶¯à·’à¶±à¶º",
                    dd: "à¶¯à·’à¶± %d",
                    M: "à¶¸à·à·ƒà¶º",
                    MM: "à¶¸à·à·ƒ %d",
                    y: "à·€à·ƒà¶»",
                    yy: "à·€à·ƒà¶» %d"
                },
                ordinalParse: /\d{1,2} à·€à·à¶±à·’/,
                ordinal: function(e) {
                    return e + " à·€à·à¶±à·’"
                },
                meridiem: function(e, t, n) {
                    return e > 11 ? n ? "à¶´.à·€." : "à¶´à·ƒà·Š à·€à¶»à·”" : n ? "à¶´à·™.à·€." : "à¶´à·™à¶» à·€à¶»à·”"
                }
            });
            //! moment.js locale configuration
            //! locale : Sinhalese (si)
            //! author : Sampath Sitinamaluwa : https://github.com/sampathsris
            var yi = "januÃ¡r_februÃ¡r_marec_aprÃ­l_mÃ¡j_jÃºn_jÃºl_august_september_oktÃ³ber_november_december".split("_"),
                ki = "jan_feb_mar_apr_mÃ¡j_jÃºn_jÃºl_aug_sep_okt_nov_dec".split("_");

            function $i(e) {
                return e > 1 && e < 5
            }

            function Mi(e, t, n, i) {
                var a = e + " ";
                switch (n) {
                    case "s":
                        return t || i ? "pÃ¡r sekÃºnd" : "pÃ¡r sekundami";
                    case "m":
                        return t ? "minÃºta" : i ? "minÃºtu" : "minÃºtou";
                    case "mm":
                        return t || i ? a + ($i(e) ? "minÃºty" : "minÃºt") : a + "minÃºtami";
                    case "h":
                        return t ? "hodina" : i ? "hodinu" : "hodinou";
                    case "hh":
                        return t || i ? a + ($i(e) ? "hodiny" : "hodÃ­n") : a + "hodinami";
                    case "d":
                        return t || i ? "deÅˆ" : "dÅˆom";
                    case "dd":
                        return t || i ? a + ($i(e) ? "dni" : "dnÃ­") : a + "dÅˆami";
                    case "M":
                        return t || i ? "mesiac" : "mesiacom";
                    case "MM":
                        return t || i ? a + ($i(e) ? "mesiace" : "mesiacov") : a + "mesiacmi";
                    case "y":
                        return t || i ? "rok" : "rokom";
                    case "yy":
                        return t || i ? a + ($i(e) ? "roky" : "rokov") : a + "rokmi"
                }
            }
            on.defineLocale("sk", {
                months: yi,
                monthsShort: ki,
                monthsParse: function(e, t) {
                    var n, i = [];
                    for (n = 0; n < 12; n++) i[n] = new RegExp("^" + e[n] + "$|^" + t[n] + "$", "i");
                    return i
                }(yi, ki),
                weekdays: "nedeÄ¾a_pondelok_utorok_streda_Å¡tvrtok_piatok_sobota".split("_"),
                weekdaysShort: "ne_po_ut_st_Å¡t_pi_so".split("_"),
                weekdaysMin: "ne_po_ut_st_Å¡t_pi_so".split("_"),
                longDateFormat: {
                    LT: "H:mm",
                    LTS: "H:mm:ss",
                    L: "DD.MM.YYYY",
                    LL: "D. MMMM YYYY",
                    LLL: "D. MMMM YYYY H:mm",
                    LLLL: "dddd D. MMMM YYYY H:mm"
                },
                calendar: {
                    sameDay: "[dnes o] LT",
                    nextDay: "[zajtra o] LT",
                    nextWeek: function() {
                        switch (this.day()) {
                            case 0:
                                return "[v nedeÄ¾u o] LT";
                            case 1:
                            case 2:
                                return "[v] dddd [o] LT";
                            case 3:
                                return "[v stredu o] LT";
                            case 4:
                                return "[vo Å¡tvrtok o] LT";
                            case 5:
                                return "[v piatok o] LT";
                            case 6:
                                return "[v sobotu o] LT"
                        }
                    },
                    lastDay: "[vÄera o] LT",
                    lastWeek: function() {
                        switch (this.day()) {
                            case 0:
                                return "[minulÃº nedeÄ¾u o] LT";
                            case 1:
                            case 2:
                                return "[minulÃ½] dddd [o] LT";
                            case 3:
                                return "[minulÃº stredu o] LT";
                            case 4:
                            case 5:
                                return "[minulÃ½] dddd [o] LT";
                            case 6:
                                return "[minulÃº sobotu o] LT"
                        }
                    },
                    sameElse: "L"
                },
                relativeTime: {
                    future: "za %s",
                    past: "pred %s",
                    s: Mi,
                    m: Mi,
                    mm: Mi,
                    h: Mi,
                    hh: Mi,
                    d: Mi,
                    dd: Mi,
                    M: Mi,
                    MM: Mi,
                    y: Mi,
                    yy: Mi
                },
                ordinalParse: /\d{1,2}\./,
                ordinal: "%d.",
                week: {
                    dow: 1,
                    doy: 4
                }
            });
            //! moment.js locale configuration
            //! locale : slovenian (sl)
            //! author : Robert SedovÅ¡ek : https://github.com/sedovsek
            function wi(e, t, n, i) {
                var a = e + " ";
                switch (n) {
                    case "s":
                        return t || i ? "nekaj sekund" : "nekaj sekundami";
                    case "m":
                        return t ? "ena minuta" : "eno minuto";
                    case "mm":
                        return a += 1 === e ? t ? "minuta" : "minuto" : 2 === e ? t || i ? "minuti" : "minutama" : e < 5 ? t || i ? "minute" : "minutami" : t || i ? "minut" : "minutami";
                    case "h":
                        return t ? "ena ura" : "eno uro";
                    case "hh":
                        return a += 1 === e ? t ? "ura" : "uro" : 2 === e ? t || i ? "uri" : "urama" : e < 5 ? t || i ? "ure" : "urami" : t || i ? "ur" : "urami";
                    case "d":
                        return t || i ? "en dan" : "enim dnem";
                    case "dd":
                        return a += 1 === e ? t || i ? "dan" : "dnem" : 2 === e ? t || i ? "dni" : "dnevoma" : t || i ? "dni" : "dnevi";
                    case "M":
                        return t || i ? "en mesec" : "enim mesecem";
                    case "MM":
                        return a += 1 === e ? t || i ? "mesec" : "mesecem" : 2 === e ? t || i ? "meseca" : "mesecema" : e < 5 ? t || i ? "mesece" : "meseci" : t || i ? "mesecev" : "meseci";
                    case "y":
                        return t || i ? "eno leto" : "enim letom";
                    case "yy":
                        return a += 1 === e ? t || i ? "leto" : "letom" : 2 === e ? t || i ? "leti" : "letoma" : e < 5 ? t || i ? "leta" : "leti" : t || i ? "let" : "leti"
                }
            }
            on.defineLocale("sl", {
                months: "januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),
                monthsShort: "jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),
                weekdays: "nedelja_ponedeljek_torek_sreda_Äetrtek_petek_sobota".split("_"),
                weekdaysShort: "ned._pon._tor._sre._Äet._pet._sob.".split("_"),
                weekdaysMin: "ne_po_to_sr_Äe_pe_so".split("_"),
                longDateFormat: {
                    LT: "H:mm",
                    LTS: "H:mm:ss",
                    L: "DD. MM. YYYY",
                    LL: "D. MMMM YYYY",
                    LLL: "D. MMMM YYYY H:mm",
                    LLLL: "dddd, D. MMMM YYYY H:mm"
                },
                calendar: {
                    sameDay: "[danes ob] LT",
                    nextDay: "[jutri ob] LT",
                    nextWeek: function() {
                        switch (this.day()) {
                            case 0:
                                return "[v] [nedeljo] [ob] LT";
                            case 3:
                                return "[v] [sredo] [ob] LT";
                            case 6:
                                return "[v] [soboto] [ob] LT";
                            case 1:
                            case 2:
                            case 4:
                            case 5:
                                return "[v] dddd [ob] LT"
                        }
                    },
                    lastDay: "[vÄeraj ob] LT",
                    lastWeek: function() {
                        switch (this.day()) {
                            case 0:
                                return "[prejÅ¡njo] [nedeljo] [ob] LT";
                            case 3:
                                return "[prejÅ¡njo] [sredo] [ob] LT";
                            case 6:
                                return "[prejÅ¡njo] [soboto] [ob] LT";
                            case 1:
                            case 2:
                            case 4:
                            case 5:
                                return "[prejÅ¡nji] dddd [ob] LT"
                        }
                    },
                    sameElse: "L"
                },
                relativeTime: {
                    future: "Äez %s",
                    past: "pred %s",
                    s: wi,
                    m: wi,
                    mm: wi,
                    h: wi,
                    hh: wi,
                    d: wi,
                    dd: wi,
                    M: wi,
                    MM: wi,
                    y: wi,
                    yy: wi
                },
                ordinalParse: /\d{1,2}\./,
                ordinal: "%d.",
                week: {
                    dow: 1,
                    doy: 7
                }
            }), on.defineLocale("sq", {
                months: "Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_NÃ«ntor_Dhjetor".split("_"),
                monthsShort: "Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_NÃ«n_Dhj".split("_"),
                weekdays: "E Diel_E HÃ«nÃ«_E MartÃ«_E MÃ«rkurÃ«_E Enjte_E Premte_E ShtunÃ«".split("_"),
                weekdaysShort: "Die_HÃ«n_Mar_MÃ«r_Enj_Pre_Sht".split("_"),
                weekdaysMin: "D_H_Ma_MÃ«_E_P_Sh".split("_"),
                meridiemParse: /PD|MD/,
                isPM: function(e) {
                    return "M" === e.charAt(0)
                },
                meridiem: function(e, t, n) {
                    return e < 12 ? "PD" : "MD"
                },
                longDateFormat: {
                    LT: "HH:mm",
                    LTS: "HH:mm:ss",
                    L: "DD/MM/YYYY",
                    LL: "D MMMM YYYY",
                    LLL: "D MMMM YYYY HH:mm",
                    LLLL: "dddd, D MMMM YYYY HH:mm"
                },
                calendar: {
                    sameDay: "[Sot nÃ«] LT",
                    nextDay: "[NesÃ«r nÃ«] LT",
                    nextWeek: "dddd [nÃ«] LT",
                    lastDay: "[Dje nÃ«] LT",
                    lastWeek: "dddd [e kaluar nÃ«] LT",
                    sameElse: "L"
                },
                relativeTime: {
                    future: "nÃ« %s",
                    past: "%s mÃ« parÃ«",
                    s: "disa sekonda",
                    m: "njÃ« minutÃ«",
                    mm: "%d minuta",
                    h: "njÃ« orÃ«",
                    hh: "%d orÃ«",
                    d: "njÃ« ditÃ«",
                    dd: "%d ditÃ«",
                    M: "njÃ« muaj",
                    MM: "%d muaj",
                    y: "njÃ« vit",
                    yy: "%d vite"
                },
                ordinalParse: /\d{1,2}\./,
                ordinal: "%d.",
                week: {
                    dow: 1,
                    doy: 4
                }
            });
            //! moment.js locale configuration
            //! locale : Albanian (sq)
            //! author : FlakÃ«rim Ismani : https://github.com/flakerimi
            //! author: Menelion ElensÃºle: https://github.com/Oire (tests)
            //! author : Oerd Cukalla : https://github.com/oerd (fixes)
            var Di = {
                    words: {
                        m: ["Ñ˜ÐµÐ´Ð°Ð½ Ð¼Ð¸Ð½ÑƒÑ‚", "Ñ˜ÐµÐ´Ð½Ðµ Ð¼Ð¸Ð½ÑƒÑ‚Ðµ"],
                        mm: ["Ð¼Ð¸Ð½ÑƒÑ‚", "Ð¼Ð¸Ð½ÑƒÑ‚Ðµ", "Ð¼Ð¸Ð½ÑƒÑ‚Ð°"],
                        h: ["Ñ˜ÐµÐ´Ð°Ð½ ÑÐ°Ñ‚", "Ñ˜ÐµÐ´Ð½Ð¾Ð³ ÑÐ°Ñ‚Ð°"],
                        hh: ["ÑÐ°Ñ‚", "ÑÐ°Ñ‚Ð°", "ÑÐ°Ñ‚Ð¸"],
                        dd: ["Ð´Ð°Ð½", "Ð´Ð°Ð½Ð°", "Ð´Ð°Ð½Ð°"],
                        MM: ["Ð¼ÐµÑÐµÑ†", "Ð¼ÐµÑÐµÑ†Ð°", "Ð¼ÐµÑÐµÑ†Ð¸"],
                        yy: ["Ð³Ð¾Ð´Ð¸Ð½Ð°", "Ð³Ð¾Ð´Ð¸Ð½Ðµ", "Ð³Ð¾Ð´Ð¸Ð½Ð°"]
                    },
                    correctGrammaticalCase: function(e, t) {
                        return 1 === e ? t[0] : e >= 2 && e <= 4 ? t[1] : t[2]
                    },
                    translate: function(e, t, n) {
                        var i = Di.words[n];
                        return 1 === n.length ? t ? i[0] : i[1] : e + " " + Di.correctGrammaticalCase(e, i)
                    }
                },
                Ti = (on.defineLocale("sr-cyrl", {
                    months: ["Ñ˜Ð°Ð½ÑƒÐ°Ñ€", "Ñ„ÐµÐ±Ñ€ÑƒÐ°Ñ€", "Ð¼Ð°Ñ€Ñ‚", "Ð°Ð¿Ñ€Ð¸Ð»", "Ð¼Ð°Ñ˜", "Ñ˜ÑƒÐ½", "Ñ˜ÑƒÐ»", "Ð°Ð²Ð³ÑƒÑÑ‚", "ÑÐµÐ¿Ñ‚ÐµÐ¼Ð±Ð°Ñ€", "Ð¾ÐºÑ‚Ð¾Ð±Ð°Ñ€", "Ð½Ð¾Ð²ÐµÐ¼Ð±Ð°Ñ€", "Ð´ÐµÑ†ÐµÐ¼Ð±Ð°Ñ€"],
                    monthsShort: ["Ñ˜Ð°Ð½.", "Ñ„ÐµÐ±.", "Ð¼Ð°Ñ€.", "Ð°Ð¿Ñ€.", "Ð¼Ð°Ñ˜", "Ñ˜ÑƒÐ½", "Ñ˜ÑƒÐ»", "Ð°Ð²Ð³.", "ÑÐµÐ¿.", "Ð¾ÐºÑ‚.", "Ð½Ð¾Ð².", "Ð´ÐµÑ†."],
                    weekdays: ["Ð½ÐµÐ´ÐµÑ™Ð°", "Ð¿Ð¾Ð½ÐµÐ´ÐµÑ™Ð°Ðº", "ÑƒÑ‚Ð¾Ñ€Ð°Ðº", "ÑÑ€ÐµÐ´Ð°", "Ñ‡ÐµÑ‚Ð²Ñ€Ñ‚Ð°Ðº", "Ð¿ÐµÑ‚Ð°Ðº", "ÑÑƒÐ±Ð¾Ñ‚Ð°"],
                    weekdaysShort: ["Ð½ÐµÐ´.", "Ð¿Ð¾Ð½.", "ÑƒÑ‚Ð¾.", "ÑÑ€Ðµ.", "Ñ‡ÐµÑ‚.", "Ð¿ÐµÑ‚.", "ÑÑƒÐ±."],
                    weekdaysMin: ["Ð½Ðµ", "Ð¿Ð¾", "ÑƒÑ‚", "ÑÑ€", "Ñ‡Ðµ", "Ð¿Ðµ", "ÑÑƒ"],
                    longDateFormat: {
                        LT: "H:mm",
                        LTS: "H:mm:ss",
                        L: "DD. MM. YYYY",
                        LL: "D. MMMM YYYY",
                        LLL: "D. MMMM YYYY H:mm",
                        LLLL: "dddd, D. MMMM YYYY H:mm"
                    },
                    calendar: {
                        sameDay: "[Ð´Ð°Ð½Ð°Ñ Ñƒ] LT",
                        nextDay: "[ÑÑƒÑ‚Ñ€Ð° Ñƒ] LT",
                        nextWeek: function() {
                            switch (this.day()) {
                                case 0:
                                    return "[Ñƒ] [Ð½ÐµÐ´ÐµÑ™Ñƒ] [Ñƒ] LT";
                                case 3:
                                    return "[Ñƒ] [ÑÑ€ÐµÐ´Ñƒ] [Ñƒ] LT";
                                case 6:
                                    return "[Ñƒ] [ÑÑƒÐ±Ð¾Ñ‚Ñƒ] [Ñƒ] LT";
                                case 1:
                                case 2:
                                case 4:
                                case 5:
                                    return "[Ñƒ] dddd [Ñƒ] LT"
                            }
                        },
                        lastDay: "[Ñ˜ÑƒÑ‡Ðµ Ñƒ] LT",
                        lastWeek: function() {
                            return ["[Ð¿Ñ€Ð¾ÑˆÐ»Ðµ] [Ð½ÐµÐ´ÐµÑ™Ðµ] [Ñƒ] LT", "[Ð¿Ñ€Ð¾ÑˆÐ»Ð¾Ð³] [Ð¿Ð¾Ð½ÐµÐ´ÐµÑ™ÐºÐ°] [Ñƒ] LT", "[Ð¿Ñ€Ð¾ÑˆÐ»Ð¾Ð³] [ÑƒÑ‚Ð¾Ñ€ÐºÐ°] [Ñƒ] LT", "[Ð¿Ñ€Ð¾ÑˆÐ»Ðµ] [ÑÑ€ÐµÐ´Ðµ] [Ñƒ] LT", "[Ð¿Ñ€Ð¾ÑˆÐ»Ð¾Ð³] [Ñ‡ÐµÑ‚Ð²Ñ€Ñ‚ÐºÐ°] [Ñƒ] LT", "[Ð¿Ñ€Ð¾ÑˆÐ»Ð¾Ð³] [Ð¿ÐµÑ‚ÐºÐ°] [Ñƒ] LT", "[Ð¿Ñ€Ð¾ÑˆÐ»Ðµ] [ÑÑƒÐ±Ð¾Ñ‚Ðµ] [Ñƒ] LT"][this.day()]
                        },
                        sameElse: "L"
                    },
                    relativeTime: {
                        future: "Ð·Ð° %s",
                        past: "Ð¿Ñ€Ðµ %s",
                        s: "Ð½ÐµÐºÐ¾Ð»Ð¸ÐºÐ¾ ÑÐµÐºÑƒÐ½Ð´Ð¸",
                        m: Di.translate,
                        mm: Di.translate,
                        h: Di.translate,
                        hh: Di.translate,
                        d: "Ð´Ð°Ð½",
                        dd: Di.translate,
                        M: "Ð¼ÐµÑÐµÑ†",
                        MM: Di.translate,
                        y: "Ð³Ð¾Ð´Ð¸Ð½Ñƒ",
                        yy: Di.translate
                    },
                    ordinalParse: /\d{1,2}\./,
                    ordinal: "%d.",
                    week: {
                        dow: 1,
                        doy: 7
                    }
                }), {
                    words: {
                        m: ["jedan minut", "jedne minute"],
                        mm: ["minut", "minute", "minuta"],
                        h: ["jedan sat", "jednog sata"],
                        hh: ["sat", "sata", "sati"],
                        dd: ["dan", "dana", "dana"],
                        MM: ["mesec", "meseca", "meseci"],
                        yy: ["godina", "godine", "godina"]
                    },
                    correctGrammaticalCase: function(e, t) {
                        return 1 === e ? t[0] : e >= 2 && e <= 4 ? t[1] : t[2]
                    },
                    translate: function(e, t, n) {
                        var i = Ti.words[n];
                        return 1 === n.length ? t ? i[0] : i[1] : e + " " + Ti.correctGrammaticalCase(e, i)
                    }
                }),
                Ci = (on.defineLocale("sr", {
                    months: ["januar", "februar", "mart", "april", "maj", "jun", "jul", "avgust", "septembar", "oktobar", "novembar", "decembar"],
                    monthsShort: ["jan.", "feb.", "mar.", "apr.", "maj", "jun", "jul", "avg.", "sep.", "okt.", "nov.", "dec."],
                    weekdays: ["nedelja", "ponedeljak", "utorak", "sreda", "Äetvrtak", "petak", "subota"],
                    weekdaysShort: ["ned.", "pon.", "uto.", "sre.", "Äet.", "pet.", "sub."],
                    weekdaysMin: ["ne", "po", "ut", "sr", "Äe", "pe", "su"],
                    longDateFormat: {
                        LT: "H:mm",
                        LTS: "H:mm:ss",
                        L: "DD. MM. YYYY",
                        LL: "D. MMMM YYYY",
                        LLL: "D. MMMM YYYY H:mm",
                        LLLL: "dddd, D. MMMM YYYY H:mm"
                    },
                    calendar: {
                        sameDay: "[danas u] LT",
                        nextDay: "[sutra u] LT",
                        nextWeek: function() {
                            switch (this.day()) {
                                case 0:
                                    return "[u] [nedelju] [u] LT";
                                case 3:
                                    return "[u] [sredu] [u] LT";
                                case 6:
                                    return "[u] [subotu] [u] LT";
                                case 1:
                                case 2:
                                case 4:
                                case 5:
                                    return "[u] dddd [u] LT"
                            }
                        },
                        lastDay: "[juÄe u] LT",
                        lastWeek: function() {
                            return ["[proÅ¡le] [nedelje] [u] LT", "[proÅ¡log] [ponedeljka] [u] LT", "[proÅ¡log] [utorka] [u] LT", "[proÅ¡le] [srede] [u] LT", "[proÅ¡log] [Äetvrtka] [u] LT", "[proÅ¡log] [petka] [u] LT", "[proÅ¡le] [subote] [u] LT"][this.day()]
                        },
                        sameElse: "L"
                    },
                    relativeTime: {
                        future: "za %s",
                        past: "pre %s",
                        s: "nekoliko sekundi",
                        m: Ti.translate,
                        mm: Ti.translate,
                        h: Ti.translate,
                        hh: Ti.translate,
                        d: "dan",
                        dd: Ti.translate,
                        M: "mesec",
                        MM: Ti.translate,
                        y: "godinu",
                        yy: Ti.translate
                    },
                    ordinalParse: /\d{1,2}\./,
                    ordinal: "%d.",
                    week: {
                        dow: 1,
                        doy: 7
                    }
                }), on.defineLocale("sv", {
                    months: "januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),
                    monthsShort: "jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),
                    weekdays: "sÃ¶ndag_mÃ¥ndag_tisdag_onsdag_torsdag_fredag_lÃ¶rdag".split("_"),
                    weekdaysShort: "sÃ¶n_mÃ¥n_tis_ons_tor_fre_lÃ¶r".split("_"),
                    weekdaysMin: "sÃ¶_mÃ¥_ti_on_to_fr_lÃ¶".split("_"),
                    longDateFormat: {
                        LT: "HH:mm",
                        LTS: "HH:mm:ss",
                        L: "YYYY-MM-DD",
                        LL: "D MMMM YYYY",
                        LLL: "D MMMM YYYY HH:mm",
                        LLLL: "dddd D MMMM YYYY HH:mm"
                    },
                    calendar: {
                        sameDay: "[Idag] LT",
                        nextDay: "[Imorgon] LT",
                        lastDay: "[IgÃ¥r] LT",
                        nextWeek: "[PÃ¥] dddd LT",
                        lastWeek: "[I] dddd[s] LT",
                        sameElse: "L"
                    },
                    relativeTime: {
                        future: "om %s",
                        past: "fÃ¶r %s sedan",
                        s: "nÃ¥gra sekunder",
                        m: "en minut",
                        mm: "%d minuter",
                        h: "en timme",
                        hh: "%d timmar",
                        d: "en dag",
                        dd: "%d dagar",
                        M: "en mÃ¥nad",
                        MM: "%d mÃ¥nader",
                        y: "ett Ã¥r",
                        yy: "%d Ã¥r"
                    },
                    ordinalParse: /\d{1,2}(e|a)/,
                    ordinal: function(e) {
                        var t = e % 10;
                        return e + (1 == ~~(e % 100 / 10) ? "e" : 1 === t ? "a" : 2 === t ? "a" : "e")
                    },
                    week: {
                        dow: 1,
                        doy: 4
                    }
                }), on.defineLocale("ta", {
                    months: "à®œà®©à®µà®°à®¿_à®ªà®¿à®ªà¯à®°à®µà®°à®¿_à®®à®¾à®°à¯à®šà¯_à®à®ªà¯à®°à®²à¯_à®®à¯‡_à®œà¯‚à®©à¯_à®œà¯‚à®²à¯ˆ_à®†à®•à®¸à¯à®Ÿà¯_à®šà¯†à®ªà¯à®Ÿà¯†à®®à¯à®ªà®°à¯_à®…à®•à¯à®Ÿà¯‡à®¾à®ªà®°à¯_à®¨à®µà®®à¯à®ªà®°à¯_à®Ÿà®¿à®šà®®à¯à®ªà®°à¯".split("_"),
                    monthsShort: "à®œà®©à®µà®°à®¿_à®ªà®¿à®ªà¯à®°à®µà®°à®¿_à®®à®¾à®°à¯à®šà¯_à®à®ªà¯à®°à®²à¯_à®®à¯‡_à®œà¯‚à®©à¯_à®œà¯‚à®²à¯ˆ_à®†à®•à®¸à¯à®Ÿà¯_à®šà¯†à®ªà¯à®Ÿà¯†à®®à¯à®ªà®°à¯_à®…à®•à¯à®Ÿà¯‡à®¾à®ªà®°à¯_à®¨à®µà®®à¯à®ªà®°à¯_à®Ÿà®¿à®šà®®à¯à®ªà®°à¯".split("_"),
                    weekdays: "à®žà®¾à®¯à®¿à®±à¯à®±à¯à®•à¯à®•à®¿à®´à®®à¯ˆ_à®¤à®¿à®™à¯à®•à®Ÿà¯à®•à®¿à®´à®®à¯ˆ_à®šà¯†à®µà¯à®µà®¾à®¯à¯à®•à®¿à®´à®®à¯ˆ_à®ªà¯à®¤à®©à¯à®•à®¿à®´à®®à¯ˆ_à®µà®¿à®¯à®¾à®´à®•à¯à®•à®¿à®´à®®à¯ˆ_à®µà¯†à®³à¯à®³à®¿à®•à¯à®•à®¿à®´à®®à¯ˆ_à®šà®©à®¿à®•à¯à®•à®¿à®´à®®à¯ˆ".split("_"),
                    weekdaysShort: "à®žà®¾à®¯à®¿à®±à¯_à®¤à®¿à®™à¯à®•à®³à¯_à®šà¯†à®µà¯à®µà®¾à®¯à¯_à®ªà¯à®¤à®©à¯_à®µà®¿à®¯à®¾à®´à®©à¯_à®µà¯†à®³à¯à®³à®¿_à®šà®©à®¿".split("_"),
                    weekdaysMin: "à®žà®¾_à®¤à®¿_à®šà¯†_à®ªà¯_à®µà®¿_à®µà¯†_à®š".split("_"),
                    longDateFormat: {
                        LT: "HH:mm",
                        LTS: "HH:mm:ss",
                        L: "DD/MM/YYYY",
                        LL: "D MMMM YYYY",
                        LLL: "D MMMM YYYY, HH:mm",
                        LLLL: "dddd, D MMMM YYYY, HH:mm"
                    },
                    calendar: {
                        sameDay: "[à®‡à®©à¯à®±à¯] LT",
                        nextDay: "[à®¨à®¾à®³à¯ˆ] LT",
                        nextWeek: "dddd, LT",
                        lastDay: "[à®¨à¯‡à®±à¯à®±à¯] LT",
                        lastWeek: "[à®•à®Ÿà®¨à¯à®¤ à®µà®¾à®°à®®à¯] dddd, LT",
                        sameElse: "L"
                    },
                    relativeTime: {
                        future: "%s à®‡à®²à¯",
                        past: "%s à®®à¯à®©à¯",
                        s: "à®’à®°à¯ à®šà®¿à®² à®µà®¿à®¨à®¾à®Ÿà®¿à®•à®³à¯",
                        m: "à®’à®°à¯ à®¨à®¿à®®à®¿à®Ÿà®®à¯",
                        mm: "%d à®¨à®¿à®®à®¿à®Ÿà®™à¯à®•à®³à¯",
                        h: "à®’à®°à¯ à®®à®£à®¿ à®¨à¯‡à®°à®®à¯",
                        hh: "%d à®®à®£à®¿ à®¨à¯‡à®°à®®à¯",
                        d: "à®’à®°à¯ à®¨à®¾à®³à¯",
                        dd: "%d à®¨à®¾à®Ÿà¯à®•à®³à¯",
                        M: "à®’à®°à¯ à®®à®¾à®¤à®®à¯",
                        MM: "%d à®®à®¾à®¤à®™à¯à®•à®³à¯",
                        y: "à®’à®°à¯ à®µà®°à¯à®Ÿà®®à¯",
                        yy: "%d à®†à®£à¯à®Ÿà¯à®•à®³à¯"
                    },
                    ordinalParse: /\d{1,2}à®µà®¤à¯/,
                    ordinal: function(e) {
                        return e + "à®µà®¤à¯"
                    },
                    meridiemParse: /à®¯à®¾à®®à®®à¯|à®µà¯ˆà®•à®±à¯ˆ|à®•à®¾à®²à¯ˆ|à®¨à®£à¯à®ªà®•à®²à¯|à®Žà®±à¯à®ªà®¾à®Ÿà¯|à®®à®¾à®²à¯ˆ/,
                    meridiem: function(e, t, n) {
                        return e < 2 ? " à®¯à®¾à®®à®®à¯" : e < 6 ? " à®µà¯ˆà®•à®±à¯ˆ" : e < 10 ? " à®•à®¾à®²à¯ˆ" : e < 14 ? " à®¨à®£à¯à®ªà®•à®²à¯" : e < 18 ? " à®Žà®±à¯à®ªà®¾à®Ÿà¯" : e < 22 ? " à®®à®¾à®²à¯ˆ" : " à®¯à®¾à®®à®®à¯"
                    },
                    meridiemHour: function(e, t) {
                        return 12 === e && (e = 0), "à®¯à®¾à®®à®®à¯" === t ? e < 2 ? e : e + 12 : "à®µà¯ˆà®•à®±à¯ˆ" === t || "à®•à®¾à®²à¯ˆ" === t ? e : "à®¨à®£à¯à®ªà®•à®²à¯" === t && e >= 10 ? e : e + 12
                    },
                    week: {
                        dow: 0,
                        doy: 6
                    }
                }), on.defineLocale("th", {
                    months: "à¸¡à¸à¸£à¸²à¸„à¸¡_à¸à¸¸à¸¡à¸ à¸²à¸žà¸±à¸™à¸˜à¹Œ_à¸¡à¸µà¸™à¸²à¸„à¸¡_à¹€à¸¡à¸©à¸²à¸¢à¸™_à¸žà¸¤à¸©à¸ à¸²à¸„à¸¡_à¸¡à¸´à¸–à¸¸à¸™à¸²à¸¢à¸™_à¸à¸£à¸à¸Žà¸²à¸„à¸¡_à¸ªà¸´à¸‡à¸«à¸²à¸„à¸¡_à¸à¸±à¸™à¸¢à¸²à¸¢à¸™_à¸•à¸¸à¸¥à¸²à¸„à¸¡_à¸žà¸¤à¸¨à¸ˆà¸´à¸à¸²à¸¢à¸™_à¸˜à¸±à¸™à¸§à¸²à¸„à¸¡".split("_"),
                    monthsShort: "à¸¡à¸à¸£à¸²_à¸à¸¸à¸¡à¸ à¸²_à¸¡à¸µà¸™à¸²_à¹€à¸¡à¸©à¸²_à¸žà¸¤à¸©à¸ à¸²_à¸¡à¸´à¸–à¸¸à¸™à¸²_à¸à¸£à¸à¸Žà¸²_à¸ªà¸´à¸‡à¸«à¸²_à¸à¸±à¸™à¸¢à¸²_à¸•à¸¸à¸¥à¸²_à¸žà¸¤à¸¨à¸ˆà¸´à¸à¸²_à¸˜à¸±à¸™à¸§à¸²".split("_"),
                    weekdays: "à¸­à¸²à¸—à¸´à¸•à¸¢à¹Œ_à¸ˆà¸±à¸™à¸—à¸£à¹Œ_à¸­à¸±à¸‡à¸„à¸²à¸£_à¸žà¸¸à¸˜_à¸žà¸¤à¸«à¸±à¸ªà¸šà¸”à¸µ_à¸¨à¸¸à¸à¸£à¹Œ_à¹€à¸ªà¸²à¸£à¹Œ".split("_"),
                    weekdaysShort: "à¸­à¸²à¸—à¸´à¸•à¸¢à¹Œ_à¸ˆà¸±à¸™à¸—à¸£à¹Œ_à¸­à¸±à¸‡à¸„à¸²à¸£_à¸žà¸¸à¸˜_à¸žà¸¤à¸«à¸±à¸ª_à¸¨à¸¸à¸à¸£à¹Œ_à¹€à¸ªà¸²à¸£à¹Œ".split("_"),
                    weekdaysMin: "à¸­à¸²._à¸ˆ._à¸­._à¸ž._à¸žà¸¤._à¸¨._à¸ª.".split("_"),
                    longDateFormat: {
                        LT: "H à¸™à¸²à¸¬à¸´à¸à¸² m à¸™à¸²à¸—à¸µ",
                        LTS: "H à¸™à¸²à¸¬à¸´à¸à¸² m à¸™à¸²à¸—à¸µ s à¸§à¸´à¸™à¸²à¸—à¸µ",
                        L: "YYYY/MM/DD",
                        LL: "D MMMM YYYY",
                        LLL: "D MMMM YYYY à¹€à¸§à¸¥à¸² H à¸™à¸²à¸¬à¸´à¸à¸² m à¸™à¸²à¸—à¸µ",
                        LLLL: "à¸§à¸±à¸™ddddà¸—à¸µà¹ˆ D MMMM YYYY à¹€à¸§à¸¥à¸² H à¸™à¸²à¸¬à¸´à¸à¸² m à¸™à¸²à¸—à¸µ"
                    },
                    meridiemParse: /à¸à¹ˆà¸­à¸™à¹€à¸—à¸µà¹ˆà¸¢à¸‡|à¸«à¸¥à¸±à¸‡à¹€à¸—à¸µà¹ˆà¸¢à¸‡/,
                    isPM: function(e) {
                        return "à¸«à¸¥à¸±à¸‡à¹€à¸—à¸µà¹ˆà¸¢à¸‡" === e
                    },
                    meridiem: function(e, t, n) {
                        return e < 12 ? "à¸à¹ˆà¸­à¸™à¹€à¸—à¸µà¹ˆà¸¢à¸‡" : "à¸«à¸¥à¸±à¸‡à¹€à¸—à¸µà¹ˆà¸¢à¸‡"
                    },
                    calendar: {
                        sameDay: "[à¸§à¸±à¸™à¸™à¸µà¹‰ à¹€à¸§à¸¥à¸²] LT",
                        nextDay: "[à¸žà¸£à¸¸à¹ˆà¸‡à¸™à¸µà¹‰ à¹€à¸§à¸¥à¸²] LT",
                        nextWeek: "dddd[à¸«à¸™à¹‰à¸² à¹€à¸§à¸¥à¸²] LT",
                        lastDay: "[à¹€à¸¡à¸·à¹ˆà¸­à¸§à¸²à¸™à¸™à¸µà¹‰ à¹€à¸§à¸¥à¸²] LT",
                        lastWeek: "[à¸§à¸±à¸™]dddd[à¸—à¸µà¹ˆà¹à¸¥à¹‰à¸§ à¹€à¸§à¸¥à¸²] LT",
                        sameElse: "L"
                    },
                    relativeTime: {
                        future: "à¸­à¸µà¸ %s",
                        past: "%sà¸—à¸µà¹ˆà¹à¸¥à¹‰à¸§",
                        s: "à¹„à¸¡à¹ˆà¸à¸µà¹ˆà¸§à¸´à¸™à¸²à¸—à¸µ",
                        m: "1 à¸™à¸²à¸—à¸µ",
                        mm: "%d à¸™à¸²à¸—à¸µ",
                        h: "1 à¸Šà¸±à¹ˆà¸§à¹‚à¸¡à¸‡",
                        hh: "%d à¸Šà¸±à¹ˆà¸§à¹‚à¸¡à¸‡",
                        d: "1 à¸§à¸±à¸™",
                        dd: "%d à¸§à¸±à¸™",
                        M: "1 à¹€à¸”à¸·à¸­à¸™",
                        MM: "%d à¹€à¸”à¸·à¸­à¸™",
                        y: "1 à¸›à¸µ",
                        yy: "%d à¸›à¸µ"
                    }
                }), on.defineLocale("tl-ph", {
                    months: "Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),
                    monthsShort: "Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),
                    weekdays: "Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),
                    weekdaysShort: "Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),
                    weekdaysMin: "Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),
                    longDateFormat: {
                        LT: "HH:mm",
                        LTS: "HH:mm:ss",
                        L: "MM/D/YYYY",
                        LL: "MMMM D, YYYY",
                        LLL: "MMMM D, YYYY HH:mm",
                        LLLL: "dddd, MMMM DD, YYYY HH:mm"
                    },
                    calendar: {
                        sameDay: "[Ngayon sa] LT",
                        nextDay: "[Bukas sa] LT",
                        nextWeek: "dddd [sa] LT",
                        lastDay: "[Kahapon sa] LT",
                        lastWeek: "dddd [huling linggo] LT",
                        sameElse: "L"
                    },
                    relativeTime: {
                        future: "sa loob ng %s",
                        past: "%s ang nakalipas",
                        s: "ilang segundo",
                        m: "isang minuto",
                        mm: "%d minuto",
                        h: "isang oras",
                        hh: "%d oras",
                        d: "isang araw",
                        dd: "%d araw",
                        M: "isang buwan",
                        MM: "%d buwan",
                        y: "isang taon",
                        yy: "%d taon"
                    },
                    ordinalParse: /\d{1,2}/,
                    ordinal: function(e) {
                        return e
                    },
                    week: {
                        dow: 1,
                        doy: 4
                    }
                }), {
                    1: "'inci",
                    5: "'inci",
                    8: "'inci",
                    70: "'inci",
                    80: "'inci",
                    2: "'nci",
                    7: "'nci",
                    20: "'nci",
                    50: "'nci",
                    3: "'Ã¼ncÃ¼",
                    4: "'Ã¼ncÃ¼",
                    100: "'Ã¼ncÃ¼",
                    6: "'ncÄ±",
                    9: "'uncu",
                    10: "'uncu",
                    30: "'uncu",
                    60: "'Ä±ncÄ±",
                    90: "'Ä±ncÄ±"
                });
            on.defineLocale("tr", {
                months: "Ocak_Åžubat_Mart_Nisan_MayÄ±s_Haziran_Temmuz_AÄŸustos_EylÃ¼l_Ekim_KasÄ±m_AralÄ±k".split("_"),
                monthsShort: "Oca_Åžub_Mar_Nis_May_Haz_Tem_AÄŸu_Eyl_Eki_Kas_Ara".split("_"),
                weekdays: "Pazar_Pazartesi_SalÄ±_Ã‡arÅŸamba_PerÅŸembe_Cuma_Cumartesi".split("_"),
                weekdaysShort: "Paz_Pts_Sal_Ã‡ar_Per_Cum_Cts".split("_"),
                weekdaysMin: "Pz_Pt_Sa_Ã‡a_Pe_Cu_Ct".split("_"),
                longDateFormat: {
                    LT: "HH:mm",
                    LTS: "HH:mm:ss",
                    L: "DD.MM.YYYY",
                    LL: "D MMMM YYYY",
                    LLL: "D MMMM YYYY HH:mm",
                    LLLL: "dddd, D MMMM YYYY HH:mm"
                },
                calendar: {
                    sameDay: "[bugÃ¼n saat] LT",
                    nextDay: "[yarÄ±n saat] LT",
                    nextWeek: "[haftaya] dddd [saat] LT",
                    lastDay: "[dÃ¼n] LT",
                    lastWeek: "[geÃ§en hafta] dddd [saat] LT",
                    sameElse: "L"
                },
                relativeTime: {
                    future: "%s sonra",
                    past: "%s Ã¶nce",
                    s: "birkaÃ§ saniye",
                    m: "bir dakika",
                    mm: "%d dakika",
                    h: "bir saat",
                    hh: "%d saat",
                    d: "bir gÃ¼n",
                    dd: "%d gÃ¼n",
                    M: "bir ay",
                    MM: "%d ay",
                    y: "bir yÄ±l",
                    yy: "%d yÄ±l"
                },
                ordinalParse: /\d{1,2}'(inci|nci|Ã¼ncÃ¼|ncÄ±|uncu|Ä±ncÄ±)/,
                ordinal: function(e) {
                    if (0 === e) return e + "'Ä±ncÄ±";
                    var t = e % 10;
                    return e + (Ci[t] || Ci[e % 100 - t] || Ci[e >= 100 ? 100 : null])
                },
                week: {
                    dow: 1,
                    doy: 7
                }
            }), on.defineLocale("tzl", {
                months: "Januar_Fevraglh_MarÃ§_AvrÃ¯u_Mai_GÃ¼n_Julia_Guscht_Setemvar_ListopÃ¤ts_Noemvar_Zecemvar".split("_"),
                monthsShort: "Jan_Fev_Mar_Avr_Mai_GÃ¼n_Jul_Gus_Set_Lis_Noe_Zec".split("_"),
                weekdays: "SÃºladi_LÃºneÃ§i_Maitzi_MÃ¡rcuri_XhÃºadi_ViÃ©nerÃ§i_SÃ¡turi".split("_"),
                weekdaysShort: "SÃºl_LÃºn_Mai_MÃ¡r_XhÃº_ViÃ©_SÃ¡t".split("_"),
                weekdaysMin: "SÃº_LÃº_Ma_MÃ¡_Xh_Vi_SÃ¡".split("_"),
                longDateFormat: {
                    LT: "HH.mm",
                    LTS: "LT.ss",
                    L: "DD.MM.YYYY",
                    LL: "D. MMMM [dallas] YYYY",
                    LLL: "D. MMMM [dallas] YYYY LT",
                    LLLL: "dddd, [li] D. MMMM [dallas] YYYY LT"
                },
                meridiem: function(e, t, n) {
                    return e > 11 ? n ? "d'o" : "D'O" : n ? "d'a" : "D'A"
                },
                calendar: {
                    sameDay: "[oxhi Ã ] LT",
                    nextDay: "[demÃ  Ã ] LT",
                    nextWeek: "dddd [Ã ] LT",
                    lastDay: "[ieiri Ã ] LT",
                    lastWeek: "[sÃ¼r el] dddd [lasteu Ã ] LT",
                    sameElse: "L"
                },
                relativeTime: {
                    future: "osprei %s",
                    past: "ja%s",
                    s: Pi,
                    m: Pi,
                    mm: Pi,
                    h: Pi,
                    hh: Pi,
                    d: Pi,
                    dd: Pi,
                    M: Pi,
                    MM: Pi,
                    y: Pi,
                    yy: Pi
                },
                ordinalParse: /\d{1,2}\./,
                ordinal: "%d.",
                week: {
                    dow: 1,
                    doy: 4
                }
            });

            function Pi(e, t, n, i) {
                var a = {
                    s: ["viensas secunds", "'iensas secunds"],
                    m: ["'n mÃ­ut", "'iens mÃ­ut"],
                    mm: [e + " mÃ­uts", " " + e + " mÃ­uts"],
                    h: ["'n Ã¾ora", "'iensa Ã¾ora"],
                    hh: [e + " Ã¾oras", " " + e + " Ã¾oras"],
                    d: ["'n ziua", "'iensa ziua"],
                    dd: [e + " ziuas", " " + e + " ziuas"],
                    M: ["'n mes", "'iens mes"],
                    MM: [e + " mesen", " " + e + " mesen"],
                    y: ["'n ar", "'iens ar"],
                    yy: [e + " ars", " " + e + " ars"]
                };
                return i ? a[n][0] : t ? a[n][0] : a[n][1].trim()
            }
            //! moment.js locale configuration
            //! locale : Morocco Central Atlas TamaziÉ£t in Latin (tzm-latn)
            //! author : Abdel Said : https://github.com/abdelsaid
            on.defineLocale("tzm-latn", {
                months: "innayr_brË¤ayrË¤_marË¤sË¤_ibrir_mayyw_ywnyw_ywlywz_É£wÅ¡t_Å¡wtanbir_ktË¤wbrË¤_nwwanbir_dwjnbir".split("_"),
                monthsShort: "innayr_brË¤ayrË¤_marË¤sË¤_ibrir_mayyw_ywnyw_ywlywz_É£wÅ¡t_Å¡wtanbir_ktË¤wbrË¤_nwwanbir_dwjnbir".split("_"),
                weekdays: "asamas_aynas_asinas_akras_akwas_asimwas_asiá¸yas".split("_"),
                weekdaysShort: "asamas_aynas_asinas_akras_akwas_asimwas_asiá¸yas".split("_"),
                weekdaysMin: "asamas_aynas_asinas_akras_akwas_asimwas_asiá¸yas".split("_"),
                longDateFormat: {
                    LT: "HH:mm",
                    LTS: "HH:mm:ss",
                    L: "DD/MM/YYYY",
                    LL: "D MMMM YYYY",
                    LLL: "D MMMM YYYY HH:mm",
                    LLLL: "dddd D MMMM YYYY HH:mm"
                },
                calendar: {
                    sameDay: "[asdkh g] LT",
                    nextDay: "[aska g] LT",
                    nextWeek: "dddd [g] LT",
                    lastDay: "[assant g] LT",
                    lastWeek: "dddd [g] LT",
                    sameElse: "L"
                },
                relativeTime: {
                    future: "dadkh s yan %s",
                    past: "yan %s",
                    s: "imik",
                    m: "minuá¸",
                    mm: "%d minuá¸",
                    h: "saÉ›a",
                    hh: "%d tassaÉ›in",
                    d: "ass",
                    dd: "%d ossan",
                    M: "ayowr",
                    MM: "%d iyyirn",
                    y: "asgas",
                    yy: "%d isgasn"
                },
                week: {
                    dow: 6,
                    doy: 12
                }
            }), on.defineLocale("tzm", {
                months: "âµ‰âµâµâ´°âµ¢âµ”_â´±âµ•â´°âµ¢âµ•_âµŽâ´°âµ•âµš_âµ‰â´±âµ”âµ‰âµ”_âµŽâ´°âµ¢âµ¢âµ“_âµ¢âµ“âµâµ¢âµ“_âµ¢âµ“âµâµ¢âµ“âµ£_âµ–âµ“âµ›âµœ_âµ›âµ“âµœâ´°âµâ´±âµ‰âµ”_â´½âµŸâµ“â´±âµ•_âµâµ“âµ¡â´°âµâ´±âµ‰âµ”_â´·âµ“âµŠâµâ´±âµ‰âµ”".split("_"),
                monthsShort: "âµ‰âµâµâ´°âµ¢âµ”_â´±âµ•â´°âµ¢âµ•_âµŽâ´°âµ•âµš_âµ‰â´±âµ”âµ‰âµ”_âµŽâ´°âµ¢âµ¢âµ“_âµ¢âµ“âµâµ¢âµ“_âµ¢âµ“âµâµ¢âµ“âµ£_âµ–âµ“âµ›âµœ_âµ›âµ“âµœâ´°âµâ´±âµ‰âµ”_â´½âµŸâµ“â´±âµ•_âµâµ“âµ¡â´°âµâ´±âµ‰âµ”_â´·âµ“âµŠâµâ´±âµ‰âµ”".split("_"),
                weekdays: "â´°âµ™â´°âµŽâ´°âµ™_â´°âµ¢âµâ´°âµ™_â´°âµ™âµ‰âµâ´°âµ™_â´°â´½âµ”â´°âµ™_â´°â´½âµ¡â´°âµ™_â´°âµ™âµ‰âµŽâµ¡â´°âµ™_â´°âµ™âµ‰â´¹âµ¢â´°âµ™".split("_"),
                weekdaysShort: "â´°âµ™â´°âµŽâ´°âµ™_â´°âµ¢âµâ´°âµ™_â´°âµ™âµ‰âµâ´°âµ™_â´°â´½âµ”â´°âµ™_â´°â´½âµ¡â´°âµ™_â´°âµ™âµ‰âµŽâµ¡â´°âµ™_â´°âµ™âµ‰â´¹âµ¢â´°âµ™".split("_"),
                weekdaysMin: "â´°âµ™â´°âµŽâ´°âµ™_â´°âµ¢âµâ´°âµ™_â´°âµ™âµ‰âµâ´°âµ™_â´°â´½âµ”â´°âµ™_â´°â´½âµ¡â´°âµ™_â´°âµ™âµ‰âµŽâµ¡â´°âµ™_â´°âµ™âµ‰â´¹âµ¢â´°âµ™".split("_"),
                longDateFormat: {
                    LT: "HH:mm",
                    LTS: "HH:mm:ss",
                    L: "DD/MM/YYYY",
                    LL: "D MMMM YYYY",
                    LLL: "D MMMM YYYY HH:mm",
                    LLLL: "dddd D MMMM YYYY HH:mm"
                },
                calendar: {
                    sameDay: "[â´°âµ™â´·âµ… â´´] LT",
                    nextDay: "[â´°âµ™â´½â´° â´´] LT",
                    nextWeek: "dddd [â´´] LT",
                    lastDay: "[â´°âµšâ´°âµâµœ â´´] LT",
                    lastWeek: "dddd [â´´] LT",
                    sameElse: "L"
                },
                relativeTime: {
                    future: "â´·â´°â´·âµ… âµ™ âµ¢â´°âµ %s",
                    past: "âµ¢â´°âµ %s",
                    s: "âµ‰âµŽâµ‰â´½",
                    m: "âµŽâµ‰âµâµ“â´º",
                    mm: "%d âµŽâµ‰âµâµ“â´º",
                    h: "âµ™â´°âµ„â´°",
                    hh: "%d âµœâ´°âµ™âµ™â´°âµ„âµ‰âµ",
                    d: "â´°âµ™âµ™",
                    dd: "%d oâµ™âµ™â´°âµ",
                    M: "â´°âµ¢oâµ“âµ”",
                    MM: "%d âµ‰âµ¢âµ¢âµ‰âµ”âµ",
                    y: "â´°âµ™â´³â´°âµ™",
                    yy: "%d âµ‰âµ™â´³â´°âµ™âµ"
                },
                week: {
                    dow: 6,
                    doy: 12
                }
            });
            //! moment.js locale configuration
            //! locale : Morocco Central Atlas TamaziÉ£t (tzm)
            //! author : Abdel Said : https://github.com/abdelsaid
            function Li(e, t, n) {
                var i, a;
                return "m" === n ? t ? "Ñ…Ð²Ð¸Ð»Ð¸Ð½Ð°" : "Ñ…Ð²Ð¸Ð»Ð¸Ð½Ñƒ" : "h" === n ? t ? "Ð³Ð¾Ð´Ð¸Ð½Ð°" : "Ð³Ð¾Ð´Ð¸Ð½Ñƒ" : e + " " + (i = +e, a = {
                    mm: "Ñ…Ð²Ð¸Ð»Ð¸Ð½Ð°_Ñ…Ð²Ð¸Ð»Ð¸Ð½Ð¸_Ñ…Ð²Ð¸Ð»Ð¸Ð½",
                    hh: "Ð³Ð¾Ð´Ð¸Ð½Ð°_Ð³Ð¾Ð´Ð¸Ð½Ð¸_Ð³Ð¾Ð´Ð¸Ð½",
                    dd: "Ð´ÐµÐ½ÑŒ_Ð´Ð½Ñ–_Ð´Ð½Ñ–Ð²",
                    MM: "Ð¼Ñ–ÑÑÑ†ÑŒ_Ð¼Ñ–ÑÑÑ†Ñ–_Ð¼Ñ–ÑÑÑ†Ñ–Ð²",
                    yy: "Ñ€Ñ–Ðº_Ñ€Ð¾ÐºÐ¸_Ñ€Ð¾ÐºÑ–Ð²"
                }[n].split("_"), i % 10 == 1 && i % 100 != 11 ? a[0] : i % 10 >= 2 && i % 10 <= 4 && (i % 100 < 10 || i % 100 >= 20) ? a[1] : a[2])
            }

            function xi(e) {
                return function() {
                    return e + "Ð¾" + (11 === this.hours() ? "Ð±" : "") + "] LT"
                }
            }
            on.defineLocale("uk", {
                months: function(e, t) {
                    return {
                        nominative: "ÑÑ–Ñ‡ÐµÐ½ÑŒ_Ð»ÑŽÑ‚Ð¸Ð¹_Ð±ÐµÑ€ÐµÐ·ÐµÐ½ÑŒ_ÐºÐ²Ñ–Ñ‚ÐµÐ½ÑŒ_Ñ‚Ñ€Ð°Ð²ÐµÐ½ÑŒ_Ñ‡ÐµÑ€Ð²ÐµÐ½ÑŒ_Ð»Ð¸Ð¿ÐµÐ½ÑŒ_ÑÐµÑ€Ð¿ÐµÐ½ÑŒ_Ð²ÐµÑ€ÐµÑÐµÐ½ÑŒ_Ð¶Ð¾Ð²Ñ‚ÐµÐ½ÑŒ_Ð»Ð¸ÑÑ‚Ð¾Ð¿Ð°Ð´_Ð³Ñ€ÑƒÐ´ÐµÐ½ÑŒ".split("_"),
                        accusative: "ÑÑ–Ñ‡Ð½Ñ_Ð»ÑŽÑ‚Ð¾Ð³Ð¾_Ð±ÐµÑ€ÐµÐ·Ð½Ñ_ÐºÐ²Ñ–Ñ‚Ð½Ñ_Ñ‚Ñ€Ð°Ð²Ð½Ñ_Ñ‡ÐµÑ€Ð²Ð½Ñ_Ð»Ð¸Ð¿Ð½Ñ_ÑÐµÑ€Ð¿Ð½Ñ_Ð²ÐµÑ€ÐµÑÐ½Ñ_Ð¶Ð¾Ð²Ñ‚Ð½Ñ_Ð»Ð¸ÑÑ‚Ð¾Ð¿Ð°Ð´Ð°_Ð³Ñ€ÑƒÐ´Ð½Ñ".split("_")
                    }[/D[oD]? *MMMM?/.test(t) ? "accusative" : "nominative"][e.month()]
                },
                monthsShort: "ÑÑ–Ñ‡_Ð»ÑŽÑ‚_Ð±ÐµÑ€_ÐºÐ²Ñ–Ñ‚_Ñ‚Ñ€Ð°Ð²_Ñ‡ÐµÑ€Ð²_Ð»Ð¸Ð¿_ÑÐµÑ€Ð¿_Ð²ÐµÑ€_Ð¶Ð¾Ð²Ñ‚_Ð»Ð¸ÑÑ‚_Ð³Ñ€ÑƒÐ´".split("_"),
                weekdays: function(e, t) {
                    return {
                        nominative: "Ð½ÐµÐ´Ñ–Ð»Ñ_Ð¿Ð¾Ð½ÐµÐ´Ñ–Ð»Ð¾Ðº_Ð²Ñ–Ð²Ñ‚Ð¾Ñ€Ð¾Ðº_ÑÐµÑ€ÐµÐ´Ð°_Ñ‡ÐµÑ‚Ð²ÐµÑ€_Ð¿â€™ÑÑ‚Ð½Ð¸Ñ†Ñ_ÑÑƒÐ±Ð¾Ñ‚Ð°".split("_"),
                        accusative: "Ð½ÐµÐ´Ñ–Ð»ÑŽ_Ð¿Ð¾Ð½ÐµÐ´Ñ–Ð»Ð¾Ðº_Ð²Ñ–Ð²Ñ‚Ð¾Ñ€Ð¾Ðº_ÑÐµÑ€ÐµÐ´Ñƒ_Ñ‡ÐµÑ‚Ð²ÐµÑ€_Ð¿â€™ÑÑ‚Ð½Ð¸Ñ†ÑŽ_ÑÑƒÐ±Ð¾Ñ‚Ñƒ".split("_"),
                        genitive: "Ð½ÐµÐ´Ñ–Ð»Ñ–_Ð¿Ð¾Ð½ÐµÐ´Ñ–Ð»ÐºÐ°_Ð²Ñ–Ð²Ñ‚Ð¾Ñ€ÐºÐ°_ÑÐµÑ€ÐµÐ´Ð¸_Ñ‡ÐµÑ‚Ð²ÐµÑ€Ð³Ð°_Ð¿â€™ÑÑ‚Ð½Ð¸Ñ†Ñ–_ÑÑƒÐ±Ð¾Ñ‚Ð¸".split("_")
                    }[/(\[[Ð’Ð²Ð£Ñƒ]\]) ?dddd/.test(t) ? "accusative" : /\[?(?:Ð¼Ð¸Ð½ÑƒÐ»Ð¾Ñ—|Ð½Ð°ÑÑ‚ÑƒÐ¿Ð½Ð¾Ñ—)? ?\] ?dddd/.test(t) ? "genitive" : "nominative"][e.day()]
                },
                weekdaysShort: "Ð½Ð´_Ð¿Ð½_Ð²Ñ‚_ÑÑ€_Ñ‡Ñ‚_Ð¿Ñ‚_ÑÐ±".split("_"),
                weekdaysMin: "Ð½Ð´_Ð¿Ð½_Ð²Ñ‚_ÑÑ€_Ñ‡Ñ‚_Ð¿Ñ‚_ÑÐ±".split("_"),
                longDateFormat: {
                    LT: "HH:mm",
                    LTS: "HH:mm:ss",
                    L: "DD.MM.YYYY",
                    LL: "D MMMM YYYY Ñ€.",
                    LLL: "D MMMM YYYY Ñ€., HH:mm",
                    LLLL: "dddd, D MMMM YYYY Ñ€., HH:mm"
                },
                calendar: {
                    sameDay: xi("[Ð¡ÑŒÐ¾Ð³Ð¾Ð´Ð½Ñ– "),
                    nextDay: xi("[Ð—Ð°Ð²Ñ‚Ñ€Ð° "),
                    lastDay: xi("[Ð’Ñ‡Ð¾Ñ€Ð° "),
                    nextWeek: xi("[Ð£] dddd ["),
                    lastWeek: function() {
                        switch (this.day()) {
                            case 0:
                            case 3:
                            case 5:
                            case 6:
                                return xi("[ÐœÐ¸Ð½ÑƒÐ»Ð¾Ñ—] dddd [").call(this);
                            case 1:
                            case 2:
                            case 4:
                                return xi("[ÐœÐ¸Ð½ÑƒÐ»Ð¾Ð³Ð¾] dddd [").call(this)
                        }
                    },
                    sameElse: "L"
                },
                relativeTime: {
                    future: "Ð·Ð° %s",
                    past: "%s Ñ‚Ð¾Ð¼Ñƒ",
                    s: "Ð´ÐµÐºÑ–Ð»ÑŒÐºÐ° ÑÐµÐºÑƒÐ½Ð´",
                    m: Li,
                    mm: Li,
                    h: "Ð³Ð¾Ð´Ð¸Ð½Ñƒ",
                    hh: Li,
                    d: "Ð´ÐµÐ½ÑŒ",
                    dd: Li,
                    M: "Ð¼Ñ–ÑÑÑ†ÑŒ",
                    MM: Li,
                    y: "Ñ€Ñ–Ðº",
                    yy: Li
                },
                meridiemParse: /Ð½Ð¾Ñ‡Ñ–|Ñ€Ð°Ð½ÐºÑƒ|Ð´Ð½Ñ|Ð²ÐµÑ‡Ð¾Ñ€Ð°/,
                isPM: function(e) {
                    return /^(Ð´Ð½Ñ|Ð²ÐµÑ‡Ð¾Ñ€Ð°)$/.test(e)
                },
                meridiem: function(e, t, n) {
                    return e < 4 ? "Ð½Ð¾Ñ‡Ñ–" : e < 12 ? "Ñ€Ð°Ð½ÐºÑƒ" : e < 17 ? "Ð´Ð½Ñ" : "Ð²ÐµÑ‡Ð¾Ñ€Ð°"
                },
                ordinalParse: /\d{1,2}-(Ð¹|Ð³Ð¾)/,
                ordinal: function(e, t) {
                    switch (t) {
                        case "M":
                        case "d":
                        case "DDD":
                        case "w":
                        case "W":
                            return e + "-Ð¹";
                        case "D":
                            return e + "-Ð³Ð¾";
                        default:
                            return e
                    }
                },
                week: {
                    dow: 1,
                    doy: 7
                }
            }), on.defineLocale("uz", {
                months: "ÑÐ½Ð²Ð°Ñ€ÑŒ_Ñ„ÐµÐ²Ñ€Ð°Ð»ÑŒ_Ð¼Ð°Ñ€Ñ‚_Ð°Ð¿Ñ€ÐµÐ»ÑŒ_Ð¼Ð°Ð¹_Ð¸ÑŽÐ½ÑŒ_Ð¸ÑŽÐ»ÑŒ_Ð°Ð²Ð³ÑƒÑÑ‚_ÑÐµÐ½Ñ‚ÑÐ±Ñ€ÑŒ_Ð¾ÐºÑ‚ÑÐ±Ñ€ÑŒ_Ð½Ð¾ÑÐ±Ñ€ÑŒ_Ð´ÐµÐºÐ°Ð±Ñ€ÑŒ".split("_"),
                monthsShort: "ÑÐ½Ð²_Ñ„ÐµÐ²_Ð¼Ð°Ñ€_Ð°Ð¿Ñ€_Ð¼Ð°Ð¹_Ð¸ÑŽÐ½_Ð¸ÑŽÐ»_Ð°Ð²Ð³_ÑÐµÐ½_Ð¾ÐºÑ‚_Ð½Ð¾Ñ_Ð´ÐµÐº".split("_"),
                weekdays: "Ð¯ÐºÑˆÐ°Ð½Ð±Ð°_Ð”ÑƒÑˆÐ°Ð½Ð±Ð°_Ð¡ÐµÑˆÐ°Ð½Ð±Ð°_Ð§Ð¾Ñ€ÑˆÐ°Ð½Ð±Ð°_ÐŸÐ°Ð¹ÑˆÐ°Ð½Ð±Ð°_Ð–ÑƒÐ¼Ð°_Ð¨Ð°Ð½Ð±Ð°".split("_"),
                weekdaysShort: "Ð¯ÐºÑˆ_Ð”ÑƒÑˆ_Ð¡ÐµÑˆ_Ð§Ð¾Ñ€_ÐŸÐ°Ð¹_Ð–ÑƒÐ¼_Ð¨Ð°Ð½".split("_"),
                weekdaysMin: "Ð¯Ðº_Ð”Ñƒ_Ð¡Ðµ_Ð§Ð¾_ÐŸÐ°_Ð–Ñƒ_Ð¨Ð°".split("_"),
                longDateFormat: {
                    LT: "HH:mm",
                    LTS: "HH:mm:ss",
                    L: "DD/MM/YYYY",
                    LL: "D MMMM YYYY",
                    LLL: "D MMMM YYYY HH:mm",
                    LLLL: "D MMMM YYYY, dddd HH:mm"
                },
                calendar: {
                    sameDay: "[Ð‘ÑƒÐ³ÑƒÐ½ ÑÐ¾Ð°Ñ‚] LT [Ð´Ð°]",
                    nextDay: "[Ð­Ñ€Ñ‚Ð°Ð³Ð°] LT [Ð´Ð°]",
                    nextWeek: "dddd [ÐºÑƒÐ½Ð¸ ÑÐ¾Ð°Ñ‚] LT [Ð´Ð°]",
                    lastDay: "[ÐšÐµÑ‡Ð° ÑÐ¾Ð°Ñ‚] LT [Ð´Ð°]",
                    lastWeek: "[Ð£Ñ‚Ð³Ð°Ð½] dddd [ÐºÑƒÐ½Ð¸ ÑÐ¾Ð°Ñ‚] LT [Ð´Ð°]",
                    sameElse: "L"
                },
                relativeTime: {
                    future: "Ð¯ÐºÐ¸Ð½ %s Ð¸Ñ‡Ð¸Ð´Ð°",
                    past: "Ð‘Ð¸Ñ€ Ð½ÐµÑ‡Ð° %s Ð¾Ð»Ð´Ð¸Ð½",
                    s: "Ñ„ÑƒÑ€ÑÐ°Ñ‚",
                    m: "Ð±Ð¸Ñ€ Ð´Ð°ÐºÐ¸ÐºÐ°",
                    mm: "%d Ð´Ð°ÐºÐ¸ÐºÐ°",
                    h: "Ð±Ð¸Ñ€ ÑÐ¾Ð°Ñ‚",
                    hh: "%d ÑÐ¾Ð°Ñ‚",
                    d: "Ð±Ð¸Ñ€ ÐºÑƒÐ½",
                    dd: "%d ÐºÑƒÐ½",
                    M: "Ð±Ð¸Ñ€ Ð¾Ð¹",
                    MM: "%d Ð¾Ð¹",
                    y: "Ð±Ð¸Ñ€ Ð¹Ð¸Ð»",
                    yy: "%d Ð¹Ð¸Ð»"
                },
                week: {
                    dow: 1,
                    doy: 7
                }
            }), on.defineLocale("vi", {
                months: "thÃ¡ng 1_thÃ¡ng 2_thÃ¡ng 3_thÃ¡ng 4_thÃ¡ng 5_thÃ¡ng 6_thÃ¡ng 7_thÃ¡ng 8_thÃ¡ng 9_thÃ¡ng 10_thÃ¡ng 11_thÃ¡ng 12".split("_"),
                monthsShort: "Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split("_"),
                weekdays: "chá»§ nháº­t_thá»© hai_thá»© ba_thá»© tÆ°_thá»© nÄƒm_thá»© sÃ¡u_thá»© báº£y".split("_"),
                weekdaysShort: "CN_T2_T3_T4_T5_T6_T7".split("_"),
                weekdaysMin: "CN_T2_T3_T4_T5_T6_T7".split("_"),
                longDateFormat: {
                    LT: "HH:mm",
                    LTS: "HH:mm:ss",
                    L: "DD/MM/YYYY",
                    LL: "D MMMM [nÄƒm] YYYY",
                    LLL: "D MMMM [nÄƒm] YYYY HH:mm",
                    LLLL: "dddd, D MMMM [nÄƒm] YYYY HH:mm",
                    l: "DD/M/YYYY",
                    ll: "D MMM YYYY",
                    lll: "D MMM YYYY HH:mm",
                    llll: "ddd, D MMM YYYY HH:mm"
                },
                calendar: {
                    sameDay: "[HÃ´m nay lÃºc] LT",
                    nextDay: "[NgÃ y mai lÃºc] LT",
                    nextWeek: "dddd [tuáº§n tá»›i lÃºc] LT",
                    lastDay: "[HÃ´m qua lÃºc] LT",
                    lastWeek: "dddd [tuáº§n rá»“i lÃºc] LT",
                    sameElse: "L"
                },
                relativeTime: {
                    future: "%s tá»›i",
                    past: "%s trÆ°á»›c",
                    s: "vÃ i giÃ¢y",
                    m: "má»™t phÃºt",
                    mm: "%d phÃºt",
                    h: "má»™t giá»",
                    hh: "%d giá»",
                    d: "má»™t ngÃ y",
                    dd: "%d ngÃ y",
                    M: "má»™t thÃ¡ng",
                    MM: "%d thÃ¡ng",
                    y: "má»™t nÄƒm",
                    yy: "%d nÄƒm"
                },
                ordinalParse: /\d{1,2}/,
                ordinal: function(e) {
                    return e
                },
                week: {
                    dow: 1,
                    doy: 4
                }
            }), on.defineLocale("zh-cn", {
                months: "ä¸€æœˆ_äºŒæœˆ_ä¸‰æœˆ_å››æœˆ_äº”æœˆ_å…­æœˆ_ä¸ƒæœˆ_å…«æœˆ_ä¹æœˆ_åæœˆ_åä¸€æœˆ_åäºŒæœˆ".split("_"),
                monthsShort: "1æœˆ_2æœˆ_3æœˆ_4æœˆ_5æœˆ_6æœˆ_7æœˆ_8æœˆ_9æœˆ_10æœˆ_11æœˆ_12æœˆ".split("_"),
                weekdays: "æ˜ŸæœŸæ—¥_æ˜ŸæœŸä¸€_æ˜ŸæœŸäºŒ_æ˜ŸæœŸä¸‰_æ˜ŸæœŸå››_æ˜ŸæœŸäº”_æ˜ŸæœŸå…­".split("_"),
                weekdaysShort: "å‘¨æ—¥_å‘¨ä¸€_å‘¨äºŒ_å‘¨ä¸‰_å‘¨å››_å‘¨äº”_å‘¨å…­".split("_"),
                weekdaysMin: "æ—¥_ä¸€_äºŒ_ä¸‰_å››_äº”_å…­".split("_"),
                longDateFormat: {
                    LT: "Ahç‚¹mmåˆ†",
                    LTS: "Ahç‚¹måˆ†sç§’",
                    L: "YYYY-MM-DD",
                    LL: "YYYYå¹´MMMDæ—¥",
                    LLL: "YYYYå¹´MMMDæ—¥Ahç‚¹mmåˆ†",
                    LLLL: "YYYYå¹´MMMDæ—¥ddddAhç‚¹mmåˆ†",
                    l: "YYYY-MM-DD",
                    ll: "YYYYå¹´MMMDæ—¥",
                    lll: "YYYYå¹´MMMDæ—¥Ahç‚¹mmåˆ†",
                    llll: "YYYYå¹´MMMDæ—¥ddddAhç‚¹mmåˆ†"
                },
                meridiemParse: /å‡Œæ™¨|æ—©ä¸Š|ä¸Šåˆ|ä¸­åˆ|ä¸‹åˆ|æ™šä¸Š/,
                meridiemHour: function(e, t) {
                    return 12 === e && (e = 0), "å‡Œæ™¨" === t || "æ—©ä¸Š" === t || "ä¸Šåˆ" === t ? e : "ä¸‹åˆ" === t || "æ™šä¸Š" === t ? e + 12 : e >= 11 ? e : e + 12
                },
                meridiem: function(e, t, n) {
                    var i = 100 * e + t;
                    return i < 600 ? "å‡Œæ™¨" : i < 900 ? "æ—©ä¸Š" : i < 1130 ? "ä¸Šåˆ" : i < 1230 ? "ä¸­åˆ" : i < 1800 ? "ä¸‹åˆ" : "æ™šä¸Š"
                },
                calendar: {
                    sameDay: function() {
                        return 0 === this.minutes() ? "[ä»Šå¤©]Ah[ç‚¹æ•´]" : "[ä»Šå¤©]LT"
                    },
                    nextDay: function() {
                        return 0 === this.minutes() ? "[æ˜Žå¤©]Ah[ç‚¹æ•´]" : "[æ˜Žå¤©]LT"
                    },
                    lastDay: function() {
                        return 0 === this.minutes() ? "[æ˜¨å¤©]Ah[ç‚¹æ•´]" : "[æ˜¨å¤©]LT"
                    },
                    nextWeek: function() {
                        var e, t;
                        return e = on().startOf("week"), t = this.unix() - e.unix() >= 604800 ? "[ä¸‹]" : "[æœ¬]", 0 === this.minutes() ? t + "dddAhç‚¹æ•´" : t + "dddAhç‚¹mm"
                    },
                    lastWeek: function() {
                        var e, t;
                        return e = on().startOf("week"), t = this.unix() < e.unix() ? "[ä¸Š]" : "[æœ¬]", 0 === this.minutes() ? t + "dddAhç‚¹æ•´" : t + "dddAhç‚¹mm"
                    },
                    sameElse: "LL"
                },
                ordinalParse: /\d{1,2}(æ—¥|æœˆ|å‘¨)/,
                ordinal: function(e, t) {
                    switch (t) {
                        case "d":
                        case "D":
                        case "DDD":
                            return e + "æ—¥";
                        case "M":
                            return e + "æœˆ";
                        case "w":
                        case "W":
                            return e + "å‘¨";
                        default:
                            return e
                    }
                },
                relativeTime: {
                    future: "%så†…",
                    past: "%så‰",
                    s: "å‡ ç§’",
                    m: "1 åˆ†é’Ÿ",
                    mm: "%d åˆ†é’Ÿ",
                    h: "1 å°æ—¶",
                    hh: "%d å°æ—¶",
                    d: "1 å¤©",
                    dd: "%d å¤©",
                    M: "1 ä¸ªæœˆ",
                    MM: "%d ä¸ªæœˆ",
                    y: "1 å¹´",
                    yy: "%d å¹´"
                },
                week: {
                    dow: 1,
                    doy: 4
                }
            }), on.defineLocale("zh-tw", {
                months: "ä¸€æœˆ_äºŒæœˆ_ä¸‰æœˆ_å››æœˆ_äº”æœˆ_å…­æœˆ_ä¸ƒæœˆ_å…«æœˆ_ä¹æœˆ_åæœˆ_åä¸€æœˆ_åäºŒæœˆ".split("_"),
                monthsShort: "1æœˆ_2æœˆ_3æœˆ_4æœˆ_5æœˆ_6æœˆ_7æœˆ_8æœˆ_9æœˆ_10æœˆ_11æœˆ_12æœˆ".split("_"),
                weekdays: "æ˜ŸæœŸæ—¥_æ˜ŸæœŸä¸€_æ˜ŸæœŸäºŒ_æ˜ŸæœŸä¸‰_æ˜ŸæœŸå››_æ˜ŸæœŸäº”_æ˜ŸæœŸå…­".split("_"),
                weekdaysShort: "é€±æ—¥_é€±ä¸€_é€±äºŒ_é€±ä¸‰_é€±å››_é€±äº”_é€±å…­".split("_"),
                weekdaysMin: "æ—¥_ä¸€_äºŒ_ä¸‰_å››_äº”_å…­".split("_"),
                longDateFormat: {
                    LT: "Ahé»žmmåˆ†",
                    LTS: "Ahé»žmåˆ†sç§’",
                    L: "YYYYå¹´MMMDæ—¥",
                    LL: "YYYYå¹´MMMDæ—¥",
                    LLL: "YYYYå¹´MMMDæ—¥Ahé»žmmåˆ†",
                    LLLL: "YYYYå¹´MMMDæ—¥ddddAhé»žmmåˆ†",
                    l: "YYYYå¹´MMMDæ—¥",
                    ll: "YYYYå¹´MMMDæ—¥",
                    lll: "YYYYå¹´MMMDæ—¥Ahé»žmmåˆ†",
                    llll: "YYYYå¹´MMMDæ—¥ddddAhé»žmmåˆ†"
                },
                meridiemParse: /æ—©ä¸Š|ä¸Šåˆ|ä¸­åˆ|ä¸‹åˆ|æ™šä¸Š/,
                meridiemHour: function(e, t) {
                    return 12 === e && (e = 0), "æ—©ä¸Š" === t || "ä¸Šåˆ" === t ? e : "ä¸­åˆ" === t ? e >= 11 ? e : e + 12 : "ä¸‹åˆ" === t || "æ™šä¸Š" === t ? e + 12 : void 0
                },
                meridiem: function(e, t, n) {
                    var i = 100 * e + t;
                    return i < 900 ? "æ—©ä¸Š" : i < 1130 ? "ä¸Šåˆ" : i < 1230 ? "ä¸­åˆ" : i < 1800 ? "ä¸‹åˆ" : "æ™šä¸Š"
                },
                calendar: {
                    sameDay: "[ä»Šå¤©]LT",
                    nextDay: "[æ˜Žå¤©]LT",
                    nextWeek: "[ä¸‹]ddddLT",
                    lastDay: "[æ˜¨å¤©]LT",
                    lastWeek: "[ä¸Š]ddddLT",
                    sameElse: "L"
                },
                ordinalParse: /\d{1,2}(æ—¥|æœˆ|é€±)/,
                ordinal: function(e, t) {
                    switch (t) {
                        case "d":
                        case "D":
                        case "DDD":
                            return e + "æ—¥";
                        case "M":
                            return e + "æœˆ";
                        case "w":
                        case "W":
                            return e + "é€±";
                        default:
                            return e
                    }
                },
                relativeTime: {
                    future: "%så…§",
                    past: "%så‰",
                    s: "å¹¾ç§’",
                    m: "ä¸€åˆ†é˜",
                    mm: "%dåˆ†é˜",
                    h: "ä¸€å°æ™‚",
                    hh: "%då°æ™‚",
                    d: "ä¸€å¤©",
                    dd: "%då¤©",
                    M: "ä¸€å€‹æœˆ",
                    MM: "%då€‹æœˆ",
                    y: "ä¸€å¹´",
                    yy: "%då¹´"
                }
            });
            //! moment.js locale configuration
            //! locale : uzbek (uz)
            //! author : Sardor Muminov : https://github.com/muminoff
            var ji = on;
            return ji.locale("en"), ji
        }, "object" === (0, o.default)(exports) && void 0 !== e ? e.exports = s() : void 0 === (i = "function" == typeof(n = s) ? n.call(exports, t, exports, e) : n) || (e.exports = i)
    }).call(exports, t(197)(e))
}, , function(e, exports, t) {
    var n = {
        "./af": 476,
        "./af.js": 476,
        "./ar": 477,
        "./ar-dz": 478,
        "./ar-dz.js": 478,
        "./ar-kw": 479,
        "./ar-kw.js": 479,
        "./ar-ly": 480,
        "./ar-ly.js": 480,
        "./ar-ma": 481,
        "./ar-ma.js": 481,
        "./ar-sa": 482,
        "./ar-sa.js": 482,
        "./ar-tn": 483,
        "./ar-tn.js": 483,
        "./ar.js": 477,
        "./az": 484,
        "./az.js": 484,
        "./be": 485,
        "./be.js": 485,
        "./bg": 486,
        "./bg.js": 486,
        "./bm": 487,
        "./bm.js": 487,
        "./bn": 488,
        "./bn.js": 488,
        "./bo": 489,
        "./bo.js": 489,
        "./br": 490,
        "./br.js": 490,
        "./bs": 491,
        "./bs.js": 491,
        "./ca": 492,
        "./ca.js": 492,
        "./cs": 493,
        "./cs.js": 493,
        "./cv": 494,
        "./cv.js": 494,
        "./cy": 495,
        "./cy.js": 495,
        "./da": 496,
        "./da.js": 496,
        "./de": 497,
        "./de-at": 498,
        "./de-at.js": 498,
        "./de-ch": 499,
        "./de-ch.js": 499,
        "./de.js": 497,
        "./dv": 500,
        "./dv.js": 500,
        "./el": 501,
        "./el.js": 501,
        "./en-au": 502,
        "./en-au.js": 502,
        "./en-ca": 503,
        "./en-ca.js": 503,
        "./en-gb": 504,
        "./en-gb.js": 504,
        "./en-ie": 505,
        "./en-ie.js": 505,
        "./en-il": 506,
        "./en-il.js": 506,
        "./en-nz": 507,
        "./en-nz.js": 507,
        "./eo": 508,
        "./eo.js": 508,
        "./es": 509,
        "./es-do": 510,
        "./es-do.js": 510,
        "./es-us": 511,
        "./es-us.js": 511,
        "./es.js": 509,
        "./et": 512,
        "./et.js": 512,
        "./eu": 513,
        "./eu.js": 513,
        "./fa": 514,
        "./fa.js": 514,
        "./fi": 515,
        "./fi.js": 515,
        "./fo": 516,
        "./fo.js": 516,
        "./fr": 517,
        "./fr-ca": 518,
        "./fr-ca.js": 518,
        "./fr-ch": 519,
        "./fr-ch.js": 519,
        "./fr.js": 517,
        "./fy": 520,
        "./fy.js": 520,
        "./gd": 521,
        "./gd.js": 521,
        "./gl": 522,
        "./gl.js": 522,
        "./gom-latn": 523,
        "./gom-latn.js": 523,
        "./gu": 524,
        "./gu.js": 524,
        "./he": 525,
        "./he.js": 525,
        "./hi": 526,
        "./hi.js": 526,
        "./hr": 527,
        "./hr.js": 527,
        "./hu": 528,
        "./hu.js": 528,
        "./hy-am": 529,
        "./hy-am.js": 529,
        "./id": 530,
        "./id.js": 530,
        "./is": 531,
        "./is.js": 531,
        "./it": 532,
        "./it.js": 532,
        "./ja": 533,
        "./ja.js": 533,
        "./jv": 534,
        "./jv.js": 534,
        "./ka": 535,
        "./ka.js": 535,
        "./kk": 536,
        "./kk.js": 536,
        "./km": 537,
        "./km.js": 537,
        "./kn": 538,
        "./kn.js": 538,
        "./ko": 539,
        "./ko.js": 539,
        "./ky": 540,
        "./ky.js": 540,
        "./lb": 541,
        "./lb.js": 541,
        "./lo": 542,
        "./lo.js": 542,
        "./lt": 543,
        "./lt.js": 543,
        "./lv": 544,
        "./lv.js": 544,
        "./me": 545,
        "./me.js": 545,
        "./mi": 546,
        "./mi.js": 546,
        "./mk": 547,
        "./mk.js": 547,
        "./ml": 548,
        "./ml.js": 548,
        "./mn": 549,
        "./mn.js": 549,
        "./mr": 550,
        "./mr.js": 550,
        "./ms": 551,
        "./ms-my": 552,
        "./ms-my.js": 552,
        "./ms.js": 551,
        "./mt": 553,
        "./mt.js": 553,
        "./my": 554,
        "./my.js": 554,
        "./nb": 555,
        "./nb.js": 555,
        "./ne": 556,
        "./ne.js": 556,
        "./nl": 557,
        "./nl-be": 558,
        "./nl-be.js": 558,
        "./nl.js": 557,
        "./nn": 559,
        "./nn.js": 559,
        "./pa-in": 560,
        "./pa-in.js": 560,
        "./pl": 561,
        "./pl.js": 561,
        "./pt": 562,
        "./pt-br": 563,
        "./pt-br.js": 563,
        "./pt.js": 562,
        "./ro": 564,
        "./ro.js": 564,
        "./ru": 565,
        "./ru.js": 565,
        "./sd": 566,
        "./sd.js": 566,
        "./se": 567,
        "./se.js": 567,
        "./si": 568,
        "./si.js": 568,
        "./sk": 569,
        "./sk.js": 569,
        "./sl": 570,
        "./sl.js": 570,
        "./sq": 571,
        "./sq.js": 571,
        "./sr": 572,
        "./sr-cyrl": 573,
        "./sr-cyrl.js": 573,
        "./sr.js": 572,
        "./ss": 574,
        "./ss.js": 574,
        "./sv": 575,
        "./sv.js": 575,
        "./sw": 576,
        "./sw.js": 576,
        "./ta": 577,
        "./ta.js": 577,
        "./te": 578,
        "./te.js": 578,
        "./tet": 579,
        "./tet.js": 579,
        "./tg": 580,
        "./tg.js": 580,
        "./th": 581,
        "./th.js": 581,
        "./tl-ph": 582,
        "./tl-ph.js": 582,
        "./tlh": 583,
        "./tlh.js": 583,
        "./tr": 584,
        "./tr.js": 584,
        "./tzl": 585,
        "./tzl.js": 585,
        "./tzm": 586,
        "./tzm-latn": 587,
        "./tzm-latn.js": 587,
        "./tzm.js": 586,
        "./ug-cn": 588,
        "./ug-cn.js": 588,
        "./uk": 589,
        "./uk.js": 589,
        "./ur": 590,
        "./ur.js": 590,
        "./uz": 591,
        "./uz-latn": 592,
        "./uz-latn.js": 592,
        "./uz.js": 591,
        "./vi": 593,
        "./vi.js": 593,
        "./x-pseudo": 594,
        "./x-pseudo.js": 594,
        "./yo": 595,
        "./yo.js": 595,
        "./zh-cn": 596,
        "./zh-cn.js": 596,
        "./zh-hk": 597,
        "./zh-hk.js": 597,
        "./zh-tw": 598,
        "./zh-tw.js": 598
    };

    function i(e) {
        return t(a(e))
    }

    function a(e) {
        var t = n[e];
        if (!(t + 1)) throw new Error("Cannot find module '" + e + "'.");
        return t
    }
    i.keys = function() {
        return Object.keys(n)
    }, i.resolve = a, e.exports = i, i.id = 3706
}, , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , function(e, exports) {}, , function(e, exports) {}, , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , function(e, exports) {}, function(e, exports) {}], [683]);